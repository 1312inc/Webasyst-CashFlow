var Kt=Object.defineProperty;var qt=(R,F,E)=>F in R?Kt(R,F,{enumerable:!0,configurable:!0,writable:!0,value:E}):R[F]=E;var Zt=(R,F)=>()=>(F||R((F={exports:{}}).exports,F),F.exports);var St=(R,F,E)=>(qt(R,typeof F!="symbol"?F+"":F,E),E);var Jt=Zt((exports,module)=>{(function(){const F=document.createElement("link").relList;if(F&&F.supports&&F.supports("modulepreload"))return;for(const U of document.querySelectorAll('link[rel="modulepreload"]'))V(U);new MutationObserver(U=>{for(const W of U)if(W.type==="childList")for(const Y of W.addedNodes)Y.tagName==="LINK"&&Y.rel==="modulepreload"&&V(Y)}).observe(document,{childList:!0,subtree:!0});function E(U){const W={};return U.integrity&&(W.integrity=U.integrity),U.referrerpolicy&&(W.referrerPolicy=U.referrerpolicy),U.crossorigin==="use-credentials"?W.credentials="include":U.crossorigin==="anonymous"?W.credentials="omit":W.credentials="same-origin",W}function V(U){if(U.ep)return;U.ep=!0;const W=E(U);fetch(U.href,W)}})();/*!
 * Vue.js v2.7.7
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */var emptyObject=Object.freeze({}),isArray$5=Array.isArray;function isUndef$1(R){return R==null}function isDef$1(R){return R!=null}function isTrue(R){return R===!0}function isFalse(R){return R===!1}function isPrimitive(R){return typeof R=="string"||typeof R=="number"||typeof R=="symbol"||typeof R=="boolean"}function isFunction$4(R){return typeof R=="function"}function isObject$c(R){return R!==null&&typeof R=="object"}var _toString=Object.prototype.toString;function toRawType(R){return _toString.call(R).slice(8,-1)}function isPlainObject$2(R){return _toString.call(R)==="[object Object]"}function isRegExp$1(R){return _toString.call(R)==="[object RegExp]"}function isValidArrayIndex(R){var F=parseFloat(String(R));return F>=0&&Math.floor(F)===F&&isFinite(R)}function isPromise$1(R){return isDef$1(R)&&typeof R.then=="function"&&typeof R.catch=="function"}function toString$4(R){return R==null?"":Array.isArray(R)||isPlainObject$2(R)&&R.toString===_toString?JSON.stringify(R,null,2):String(R)}function toNumber$3(R){var F=parseFloat(R);return isNaN(F)?R:F}function makeMap(R,F){for(var E=Object.create(null),V=R.split(","),U=0;U<V.length;U++)E[V[U]]=!0;return F?function(W){return E[W.toLowerCase()]}:function(W){return E[W]}}makeMap("slot,component",!0);var isReservedAttribute=makeMap("key,ref,slot,slot-scope,is");function remove$2$1(R,F){if(R.length){var E=R.indexOf(F);if(E>-1)return R.splice(E,1)}}var hasOwnProperty$3=Object.prototype.hasOwnProperty;function hasOwn$1(R,F){return hasOwnProperty$3.call(R,F)}function cached(R){var F=Object.create(null);return function(V){var U=F[V];return U||(F[V]=R(V))}}var camelizeRE=/-(\w)/g,camelize=cached(function(R){return R.replace(camelizeRE,function(F,E){return E?E.toUpperCase():""})}),capitalize$1=cached(function(R){return R.charAt(0).toUpperCase()+R.slice(1)}),hyphenateRE=/\B([A-Z])/g,hyphenate=cached(function(R){return R.replace(hyphenateRE,"-$1").toLowerCase()});function polyfillBind(R,F){function E(V){var U=arguments.length;return U?U>1?R.apply(F,arguments):R.call(F,V):R.call(F)}return E._length=R.length,E}function nativeBind(R,F){return R.bind(F)}var bind$2=Function.prototype.bind?nativeBind:polyfillBind;function toArray$6(R,F){F=F||0;for(var E=R.length-F,V=new Array(E);E--;)V[E]=R[E+F];return V}function extend$6(R,F){for(var E in F)R[E]=F[E];return R}function toObject$1(R){for(var F={},E=0;E<R.length;E++)R[E]&&extend$6(F,R[E]);return F}function noop$4(R,F,E){}var no=function(R,F,E){return!1},identity$3=function(R){return R};function looseEqual$1(R,F){if(R===F)return!0;var E=isObject$c(R),V=isObject$c(F);if(E&&V)try{var U=Array.isArray(R),W=Array.isArray(F);if(U&&W)return R.length===F.length&&R.every(function(X,K){return looseEqual$1(X,F[K])});if(R instanceof Date&&F instanceof Date)return R.getTime()===F.getTime();if(!U&&!W){var Y=Object.keys(R),G=Object.keys(F);return Y.length===G.length&&Y.every(function(X){return looseEqual$1(R[X],F[X])})}else return!1}catch{return!1}else return!E&&!V?String(R)===String(F):!1}function looseIndexOf(R,F){for(var E=0;E<R.length;E++)if(looseEqual$1(R[E],F))return E;return-1}function once$1(R){var F=!1;return function(){F||(F=!0,R.apply(this,arguments))}}function hasChanged(R,F){return R===F?R===0&&1/R!==1/F:R===R||F===F}var SSR_ATTR="data-server-rendered",ASSET_TYPES=["component","directive","filter"],LIFECYCLE_HOOKS=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],config$1={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:no,isReservedAttr:no,isUnknownElement:no,getTagNamespace:noop$4,parsePlatformTagName:identity$3,mustUseProp:no,async:!0,_lifecycleHooks:LIFECYCLE_HOOKS},unicodeRegExp=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function isReserved(R){var F=(R+"").charCodeAt(0);return F===36||F===95}function def(R,F,E,V){Object.defineProperty(R,F,{value:E,enumerable:!!V,writable:!0,configurable:!0})}var bailRE=new RegExp("[^".concat(unicodeRegExp.source,".$_\\d]"));function parsePath$1(R){if(!bailRE.test(R)){var F=R.split(".");return function(E){for(var V=0;V<F.length;V++){if(!E)return;E=E[F[V]]}return E}}}var hasProto="__proto__"in{},inBrowser$1=typeof window<"u",UA=inBrowser$1&&window.navigator.userAgent.toLowerCase(),isIE$1=UA&&/msie|trident/.test(UA),isIE9=UA&&UA.indexOf("msie 9.0")>0,isEdge=UA&&UA.indexOf("edge/")>0;UA&&UA.indexOf("android")>0;var isIOS=UA&&/iphone|ipad|ipod|ios/.test(UA);UA&&/chrome\/\d+/.test(UA);UA&&/phantomjs/.test(UA);var isFF=UA&&UA.match(/firefox\/(\d+)/),nativeWatch={}.watch,supportsPassive=!1;if(inBrowser$1)try{var opts={};Object.defineProperty(opts,"passive",{get:function(){supportsPassive=!0}}),window.addEventListener("test-passive",null,opts)}catch{}var _isServer,isServerRendering=function(){return _isServer===void 0&&(!inBrowser$1&&typeof global<"u"?_isServer=global.process&&global.process.env.VUE_ENV==="server":_isServer=!1),_isServer},devtools=inBrowser$1&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function isNative(R){return typeof R=="function"&&/native code/.test(R.toString())}var hasSymbol$1=typeof Symbol<"u"&&isNative(Symbol)&&typeof Reflect<"u"&&isNative(Reflect.ownKeys),_Set;typeof Set<"u"&&isNative(Set)?_Set=Set:_Set=function(){function R(){this.set=Object.create(null)}return R.prototype.has=function(F){return this.set[F]===!0},R.prototype.add=function(F){this.set[F]=!0},R.prototype.clear=function(){this.set=Object.create(null)},R}();var currentInstance=null;function getCurrentInstance(){return currentInstance&&{proxy:currentInstance}}function setCurrentInstance(R){R===void 0&&(R=null),R||currentInstance&&currentInstance._scope.off(),currentInstance=R,R&&R._scope.on()}var VNode=function(){function R(F,E,V,U,W,Y,G,X){this.tag=F,this.data=E,this.children=V,this.text=U,this.elm=W,this.ns=void 0,this.context=Y,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=E&&E.key,this.componentOptions=G,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=X,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(R.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),R}(),createEmptyVNode=function(R){R===void 0&&(R="");var F=new VNode;return F.text=R,F.isComment=!0,F};function createTextVNode(R){return new VNode(void 0,void 0,void 0,String(R))}function cloneVNode(R){var F=new VNode(R.tag,R.data,R.children&&R.children.slice(),R.text,R.elm,R.context,R.componentOptions,R.asyncFactory);return F.ns=R.ns,F.isStatic=R.isStatic,F.key=R.key,F.isComment=R.isComment,F.fnContext=R.fnContext,F.fnOptions=R.fnOptions,F.fnScopeId=R.fnScopeId,F.asyncMeta=R.asyncMeta,F.isCloned=!0,F}var uid$2=0,Dep=function(){function R(){this.id=uid$2++,this.subs=[]}return R.prototype.addSub=function(F){this.subs.push(F)},R.prototype.removeSub=function(F){remove$2$1(this.subs,F)},R.prototype.depend=function(F){R.target&&R.target.addDep(this)},R.prototype.notify=function(F){for(var E=this.subs.slice(),V=0,U=E.length;V<U;V++)E[V].update()},R}();Dep.target=null;var targetStack=[];function pushTarget(R){targetStack.push(R),Dep.target=R}function popTarget(){targetStack.pop(),Dep.target=targetStack[targetStack.length-1]}var arrayProto=Array.prototype,arrayMethods=Object.create(arrayProto),methodsToPatch=["push","pop","shift","unshift","splice","sort","reverse"];methodsToPatch.forEach(function(R){var F=arrayProto[R];def(arrayMethods,R,function(){for(var V=[],U=0;U<arguments.length;U++)V[U]=arguments[U];var W=F.apply(this,V),Y=this.__ob__,G;switch(R){case"push":case"unshift":G=V;break;case"splice":G=V.slice(2);break}return G&&Y.observeArray(G),Y.dep.notify(),W})});var arrayKeys=Object.getOwnPropertyNames(arrayMethods),NO_INIITIAL_VALUE={},shouldObserve=!0;function toggleObserving(R){shouldObserve=R}var mockDep={notify:noop$4,depend:noop$4,addSub:noop$4,removeSub:noop$4},Observer$1=function(){function R(F,E,V){if(E===void 0&&(E=!1),V===void 0&&(V=!1),this.value=F,this.shallow=E,this.mock=V,this.dep=V?mockDep:new Dep,this.vmCount=0,def(F,"__ob__",this),isArray$5(F)){if(!V)if(hasProto)F.__proto__=arrayMethods;else for(var U=0,W=arrayKeys.length;U<W;U++){var Y=arrayKeys[U];def(F,Y,arrayMethods[Y])}E||this.observeArray(F)}else for(var G=Object.keys(F),U=0;U<G.length;U++){var Y=G[U];defineReactive(F,Y,NO_INIITIAL_VALUE,void 0,E,V)}}return R.prototype.observeArray=function(F){for(var E=0,V=F.length;E<V;E++)observe(F[E],!1,this.mock)},R}();function observe(R,F,E){if(!(!isObject$c(R)||isRef(R)||R instanceof VNode)){var V;return hasOwn$1(R,"__ob__")&&R.__ob__ instanceof Observer$1?V=R.__ob__:shouldObserve&&(E||!isServerRendering())&&(isArray$5(R)||isPlainObject$2(R))&&Object.isExtensible(R)&&!R.__v_skip&&(V=new Observer$1(R,F,E)),V}}function defineReactive(R,F,E,V,U,W){var Y=new Dep,G=Object.getOwnPropertyDescriptor(R,F);if(!(G&&G.configurable===!1)){var X=G&&G.get,K=G&&G.set;(!X||K)&&(E===NO_INIITIAL_VALUE||arguments.length===2)&&(E=R[F]);var Z=!U&&observe(E,!1,W);return Object.defineProperty(R,F,{enumerable:!0,configurable:!0,get:function(){var Q=X?X.call(R):E;return Dep.target&&(Y.depend(),Z&&(Z.dep.depend(),isArray$5(Q)&&dependArray(Q))),isRef(Q)&&!U?Q.value:Q},set:function(Q){var ee=X?X.call(R):E;if(!!hasChanged(ee,Q)){if(K)K.call(R,Q);else{if(X)return;if(isRef(ee)&&!isRef(Q)){ee.value=Q;return}else E=Q}Z=!U&&observe(Q,!1,W),Y.notify()}}}),Y}}function set$3(R,F,E){if(!isReadonly(R)){var V=R.__ob__;return isArray$5(R)&&isValidArrayIndex(F)?(R.length=Math.max(R.length,F),R.splice(F,1,E),V&&!V.shallow&&V.mock&&observe(E,!1,!0),E):F in R&&!(F in Object.prototype)?(R[F]=E,E):R._isVue||V&&V.vmCount?E:V?(defineReactive(V.value,F,E,void 0,V.shallow,V.mock),V.dep.notify(),E):(R[F]=E,E)}}function del(R,F){if(isArray$5(R)&&isValidArrayIndex(F)){R.splice(F,1);return}var E=R.__ob__;R._isVue||E&&E.vmCount||isReadonly(R)||!hasOwn$1(R,F)||(delete R[F],E&&E.dep.notify())}function dependArray(R){for(var F=void 0,E=0,V=R.length;E<V;E++)F=R[E],F&&F.__ob__&&F.__ob__.dep.depend(),isArray$5(F)&&dependArray(F)}function reactive(R){return makeReactive(R,!1),R}function shallowReactive(R){return makeReactive(R,!0),def(R,"__v_isShallow",!0),R}function makeReactive(R,F){isReadonly(R)||observe(R,F,isServerRendering())}function isReactive(R){return isReadonly(R)?isReactive(R.__v_raw):!!(R&&R.__ob__)}function isShallow(R){return!!(R&&R.__v_isShallow)}function isReadonly(R){return!!(R&&R.__v_isReadonly)}var RefFlag="__v_isRef";function isRef(R){return!!(R&&R.__v_isRef===!0)}function ref$1(R){return createRef(R,!1)}function shallowRef(R){return createRef(R,!0)}function createRef(R,F){if(isRef(R))return R;var E={};return def(E,RefFlag,!0),def(E,"__v_isShallow",F),def(E,"dep",defineReactive(E,"value",R,null,F,isServerRendering())),E}function unref(R){return isRef(R)?R.value:R}function proxyWithRefUnwrap(R,F,E){Object.defineProperty(R,E,{enumerable:!0,configurable:!0,get:function(){var V=F[E];if(isRef(V))return V.value;var U=V&&V.__ob__;return U&&U.dep.depend(),V},set:function(V){var U=F[E];isRef(U)&&!isRef(V)?U.value=V:F[E]=V}})}var rawToReadonlyFlag="__v_rawToReadonly",rawToShallowReadonlyFlag="__v_rawToShallowReadonly";function readonly(R){return createReadonly(R,!1)}function createReadonly(R,F){if(!isPlainObject$2(R)||isReadonly(R))return R;var E=F?rawToShallowReadonlyFlag:rawToReadonlyFlag,V=R[E];if(V)return V;var U=Object.create(Object.getPrototypeOf(R));def(R,E,U),def(U,"__v_isReadonly",!0),def(U,"__v_raw",R),isRef(R)&&def(U,RefFlag,!0),(F||isShallow(R))&&def(U,"__v_isShallow",!0);for(var W=Object.keys(R),Y=0;Y<W.length;Y++)defineReadonlyProperty(U,R,W[Y],F);return U}function defineReadonlyProperty(R,F,E,V){Object.defineProperty(R,E,{enumerable:!0,configurable:!0,get:function(){var U=F[E];return V||!isPlainObject$2(U)?U:readonly(U)},set:function(){}})}function shallowReadonly(R){return createReadonly(R,!0)}function computed(R,F){var E,V,U=isFunction$4(R);U?(E=R,V=noop$4):(E=R.get,V=R.set);var W=isServerRendering()?null:new Watcher(currentInstance,E,noop$4,{lazy:!0}),Y={effect:W,get value(){return W?(W.dirty&&W.evaluate(),Dep.target&&W.depend(),W.value):E()},set value(G){V(G)}};return def(Y,RefFlag,!0),def(Y,"__v_isReadonly",U),Y}var WATCHER="watcher",WATCHER_CB="".concat(WATCHER," callback"),WATCHER_GETTER="".concat(WATCHER," getter"),WATCHER_CLEANUP="".concat(WATCHER," cleanup"),INITIAL_WATCHER_VALUE={};function watch(R,F,E){return doWatch(R,F,E)}function doWatch(R,F,E){var V=E===void 0?emptyObject:E,U=V.immediate,W=V.deep,Y=V.flush,G=Y===void 0?"pre":Y;V.onTrack,V.onTrigger;var X=currentInstance,K=function(se,oe,le){return le===void 0&&(le=null),invokeWithErrorHandling(se,null,le,X,oe)},Z,J=!1,Q=!1;if(isRef(R)?(Z=function(){return R.value},J=isShallow(R)):isReactive(R)?(Z=function(){return R.__ob__.dep.depend(),R},W=!0):isArray$5(R)?(Q=!0,J=R.some(function(se){return isReactive(se)||isShallow(se)}),Z=function(){return R.map(function(se){if(isRef(se))return se.value;if(isReactive(se))return traverse(se);if(isFunction$4(se))return K(se,WATCHER_GETTER)})}):isFunction$4(R)?F?Z=function(){return K(R,WATCHER_GETTER)}:Z=function(){if(!(X&&X._isDestroyed))return te&&te(),K(R,WATCHER,[ie])}:Z=noop$4,F&&W){var ee=Z;Z=function(){return traverse(ee())}}var te,ie=function(se){te=ne.onStop=function(){K(se,WATCHER_CLEANUP)}};if(isServerRendering())return ie=noop$4,F?U&&K(F,WATCHER_CB,[Z(),Q?[]:void 0,ie]):Z(),noop$4;var ne=new Watcher(currentInstance,Z,noop$4,{lazy:!0});ne.noRecurse=!F;var ae=Q?[]:INITIAL_WATCHER_VALUE;return ne.run=function(){if(!(!ne.active&&!(G==="pre"&&X&&X._isBeingDestroyed)))if(F){var se=ne.get();(W||J||(Q?se.some(function(oe,le){return hasChanged(oe,ae[le])}):hasChanged(se,ae)))&&(te&&te(),K(F,WATCHER_CB,[se,ae===INITIAL_WATCHER_VALUE?void 0:ae,ie]),ae=se)}else ne.get()},G==="sync"?ne.update=ne.run:G==="post"?(ne.post=!0,ne.update=function(){return queueWatcher(ne)}):ne.update=function(){if(X&&X===currentInstance&&!X._isMounted){var se=X._preWatchers||(X._preWatchers=[]);se.indexOf(ne)<0&&se.push(ne)}else queueWatcher(ne)},F?U?ne.run():ae=ne.get():G==="post"&&X?X.$once("hook:mounted",function(){return ne.get()}):ne.get(),function(){ne.teardown()}}var activeEffectScope,EffectScope=function(){function R(F){F===void 0&&(F=!1),this.active=!0,this.effects=[],this.cleanups=[],!F&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}return R.prototype.run=function(F){if(this.active){var E=activeEffectScope;try{return activeEffectScope=this,F()}finally{activeEffectScope=E}}},R.prototype.on=function(){activeEffectScope=this},R.prototype.off=function(){activeEffectScope=this.parent},R.prototype.stop=function(F){if(this.active){var E=void 0,V=void 0;for(E=0,V=this.effects.length;E<V;E++)this.effects[E].teardown();for(E=0,V=this.cleanups.length;E<V;E++)this.cleanups[E]();if(this.scopes)for(E=0,V=this.scopes.length;E<V;E++)this.scopes[E].stop(!0);if(this.parent&&!F){var U=this.parent.scopes.pop();U&&U!==this&&(this.parent.scopes[this.index]=U,U.index=this.index)}this.active=!1}},R}();function effectScope(R){return new EffectScope(R)}function recordEffectScope(R,F){F===void 0&&(F=activeEffectScope),F&&F.active&&F.effects.push(R)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(R){activeEffectScope&&activeEffectScope.cleanups.push(R)}function resolveProvided(R){var F=R._provided,E=R.$parent&&R.$parent._provided;return E===F?R._provided=Object.create(E):F}var normalizeEvent=cached(function(R){var F=R.charAt(0)==="&";R=F?R.slice(1):R;var E=R.charAt(0)==="~";R=E?R.slice(1):R;var V=R.charAt(0)==="!";return R=V?R.slice(1):R,{name:R,once:E,capture:V,passive:F}});function createFnInvoker(R,F){function E(){var V=E.fns;if(isArray$5(V))for(var U=V.slice(),W=0;W<U.length;W++)invokeWithErrorHandling(U[W],null,arguments,F,"v-on handler");else return invokeWithErrorHandling(V,null,arguments,F,"v-on handler")}return E.fns=R,E}function updateListeners(R,F,E,V,U,W){var Y,G,X,K;for(Y in R)G=R[Y],X=F[Y],K=normalizeEvent(Y),isUndef$1(G)||(isUndef$1(X)?(isUndef$1(G.fns)&&(G=R[Y]=createFnInvoker(G,W)),isTrue(K.once)&&(G=R[Y]=U(K.name,G,K.capture)),E(K.name,G,K.capture,K.passive,K.params)):G!==X&&(X.fns=G,R[Y]=X));for(Y in F)isUndef$1(R[Y])&&(K=normalizeEvent(Y),V(K.name,F[Y],K.capture))}function mergeVNodeHook(R,F,E){R instanceof VNode&&(R=R.data.hook||(R.data.hook={}));var V,U=R[F];function W(){E.apply(this,arguments),remove$2$1(V.fns,W)}isUndef$1(U)?V=createFnInvoker([W]):isDef$1(U.fns)&&isTrue(U.merged)?(V=U,V.fns.push(W)):V=createFnInvoker([U,W]),V.merged=!0,R[F]=V}function extractPropsFromVNodeData(R,F,E){var V=F.options.props;if(!isUndef$1(V)){var U={},W=R.attrs,Y=R.props;if(isDef$1(W)||isDef$1(Y))for(var G in V){var X=hyphenate(G);checkProp(U,Y,G,X,!0)||checkProp(U,W,G,X,!1)}return U}}function checkProp(R,F,E,V,U){if(isDef$1(F)){if(hasOwn$1(F,E))return R[E]=F[E],U||delete F[E],!0;if(hasOwn$1(F,V))return R[E]=F[V],U||delete F[V],!0}return!1}function simpleNormalizeChildren(R){for(var F=0;F<R.length;F++)if(isArray$5(R[F]))return Array.prototype.concat.apply([],R);return R}function normalizeChildren(R){return isPrimitive(R)?[createTextVNode(R)]:isArray$5(R)?normalizeArrayChildren(R):void 0}function isTextNode(R){return isDef$1(R)&&isDef$1(R.text)&&isFalse(R.isComment)}function normalizeArrayChildren(R,F){var E=[],V,U,W,Y;for(V=0;V<R.length;V++)U=R[V],!(isUndef$1(U)||typeof U=="boolean")&&(W=E.length-1,Y=E[W],isArray$5(U)?U.length>0&&(U=normalizeArrayChildren(U,"".concat(F||"","_").concat(V)),isTextNode(U[0])&&isTextNode(Y)&&(E[W]=createTextVNode(Y.text+U[0].text),U.shift()),E.push.apply(E,U)):isPrimitive(U)?isTextNode(Y)?E[W]=createTextVNode(Y.text+U):U!==""&&E.push(createTextVNode(U)):isTextNode(U)&&isTextNode(Y)?E[W]=createTextVNode(Y.text+U.text):(isTrue(R._isVList)&&isDef$1(U.tag)&&isUndef$1(U.key)&&isDef$1(F)&&(U.key="__vlist".concat(F,"_").concat(V,"__")),E.push(U)));return E}function renderList(R,F){var E=null,V,U,W,Y;if(isArray$5(R)||typeof R=="string")for(E=new Array(R.length),V=0,U=R.length;V<U;V++)E[V]=F(R[V],V);else if(typeof R=="number")for(E=new Array(R),V=0;V<R;V++)E[V]=F(V+1,V);else if(isObject$c(R))if(hasSymbol$1&&R[Symbol.iterator]){E=[];for(var G=R[Symbol.iterator](),X=G.next();!X.done;)E.push(F(X.value,E.length)),X=G.next()}else for(W=Object.keys(R),E=new Array(W.length),V=0,U=W.length;V<U;V++)Y=W[V],E[V]=F(R[Y],Y,V);return isDef$1(E)||(E=[]),E._isVList=!0,E}function renderSlot(R,F,E,V){var U=this.$scopedSlots[R],W;U?(E=E||{},V&&(E=extend$6(extend$6({},V),E)),W=U(E)||(isFunction$4(F)?F():F)):W=this.$slots[R]||(isFunction$4(F)?F():F);var Y=E&&E.slot;return Y?this.$createElement("template",{slot:Y},W):W}function resolveFilter(R){return resolveAsset(this.$options,"filters",R)||identity$3}function isKeyNotMatch(R,F){return isArray$5(R)?R.indexOf(F)===-1:R!==F}function checkKeyCodes(R,F,E,V,U){var W=config$1.keyCodes[F]||E;return U&&V&&!config$1.keyCodes[F]?isKeyNotMatch(U,V):W?isKeyNotMatch(W,R):V?hyphenate(V)!==F:R===void 0}function bindObjectProps(R,F,E,V,U){if(E&&isObject$c(E)){isArray$5(E)&&(E=toObject$1(E));var W=void 0,Y=function(X){if(X==="class"||X==="style"||isReservedAttribute(X))W=R;else{var K=R.attrs&&R.attrs.type;W=V||config$1.mustUseProp(F,K,X)?R.domProps||(R.domProps={}):R.attrs||(R.attrs={})}var Z=camelize(X),J=hyphenate(X);if(!(Z in W)&&!(J in W)&&(W[X]=E[X],U)){var Q=R.on||(R.on={});Q["update:".concat(X)]=function(ee){E[X]=ee}}};for(var G in E)Y(G)}return R}function renderStatic(R,F){var E=this._staticTrees||(this._staticTrees=[]),V=E[R];return V&&!F||(V=E[R]=this.$options.staticRenderFns[R].call(this._renderProxy,this._c,this),markStatic(V,"__static__".concat(R),!1)),V}function markOnce(R,F,E){return markStatic(R,"__once__".concat(F).concat(E?"_".concat(E):""),!0),R}function markStatic(R,F,E){if(isArray$5(R))for(var V=0;V<R.length;V++)R[V]&&typeof R[V]!="string"&&markStaticNode(R[V],"".concat(F,"_").concat(V),E);else markStaticNode(R,F,E)}function markStaticNode(R,F,E){R.isStatic=!0,R.key=F,R.isOnce=E}function bindObjectListeners(R,F){if(F&&isPlainObject$2(F)){var E=R.on=R.on?extend$6({},R.on):{};for(var V in F){var U=E[V],W=F[V];E[V]=U?[].concat(U,W):W}}return R}function resolveScopedSlots(R,F,E,V){F=F||{$stable:!E};for(var U=0;U<R.length;U++){var W=R[U];isArray$5(W)?resolveScopedSlots(W,F,E):W&&(W.proxy&&(W.fn.proxy=!0),F[W.key]=W.fn)}return V&&(F.$key=V),F}function bindDynamicKeys(R,F){for(var E=0;E<F.length;E+=2){var V=F[E];typeof V=="string"&&V&&(R[F[E]]=F[E+1])}return R}function prependModifier(R,F){return typeof R=="string"?F+R:R}function installRenderHelpers(R){R._o=markOnce,R._n=toNumber$3,R._s=toString$4,R._l=renderList,R._t=renderSlot,R._q=looseEqual$1,R._i=looseIndexOf,R._m=renderStatic,R._f=resolveFilter,R._k=checkKeyCodes,R._b=bindObjectProps,R._v=createTextVNode,R._e=createEmptyVNode,R._u=resolveScopedSlots,R._g=bindObjectListeners,R._d=bindDynamicKeys,R._p=prependModifier}function resolveSlots(R,F){if(!R||!R.length)return{};for(var E={},V=0,U=R.length;V<U;V++){var W=R[V],Y=W.data;if(Y&&Y.attrs&&Y.attrs.slot&&delete Y.attrs.slot,(W.context===F||W.fnContext===F)&&Y&&Y.slot!=null){var G=Y.slot,X=E[G]||(E[G]=[]);W.tag==="template"?X.push.apply(X,W.children||[]):X.push(W)}else(E.default||(E.default=[])).push(W)}for(var K in E)E[K].every(isWhitespace)&&delete E[K];return E}function isWhitespace(R){return R.isComment&&!R.asyncFactory||R.text===" "}function isAsyncPlaceholder(R){return R.isComment&&R.asyncFactory}function normalizeScopedSlots(R,F,E,V){var U,W=Object.keys(E).length>0,Y=F?!!F.$stable:!W,G=F&&F.$key;if(!F)U={};else{if(F._normalized)return F._normalized;if(Y&&V&&V!==emptyObject&&G===V.$key&&!W&&!V.$hasNormal)return V;U={};for(var X in F)F[X]&&X[0]!=="$"&&(U[X]=normalizeScopedSlot(R,E,X,F[X]))}for(var K in E)K in U||(U[K]=proxyNormalSlot(E,K));return F&&Object.isExtensible(F)&&(F._normalized=U),def(U,"$stable",Y),def(U,"$key",G),def(U,"$hasNormal",W),U}function normalizeScopedSlot(R,F,E,V){var U=function(){var W=currentInstance;setCurrentInstance(R);var Y=arguments.length?V.apply(null,arguments):V({});Y=Y&&typeof Y=="object"&&!isArray$5(Y)?[Y]:normalizeChildren(Y);var G=Y&&Y[0];return setCurrentInstance(W),Y&&(!G||Y.length===1&&G.isComment&&!isAsyncPlaceholder(G))?void 0:Y};return V.proxy&&Object.defineProperty(F,E,{get:U,enumerable:!0,configurable:!0}),U}function proxyNormalSlot(R,F){return function(){return R[F]}}function initSetup(R){var F=R.$options,E=F.setup;if(E){var V=R._setupContext=createSetupContext(R);setCurrentInstance(R),pushTarget();var U=invokeWithErrorHandling(E,null,[R._props||shallowReactive({}),V],R,"setup");if(popTarget(),setCurrentInstance(),isFunction$4(U))F.render=U;else if(isObject$c(U))if(R._setupState=U,U.__sfc){var Y=R._setupProxy={};for(var W in U)W!=="__sfc"&&proxyWithRefUnwrap(Y,U,W)}else for(var W in U)isReserved(W)||proxyWithRefUnwrap(R,U,W)}}function createSetupContext(R){return{get attrs(){return initAttrsProxy(R)},get slots(){return initSlotsProxy(R)},emit:bind$2(R.$emit,R),expose:function(F){F&&Object.keys(F).forEach(function(E){return proxyWithRefUnwrap(R,F,E)})}}}function initAttrsProxy(R){if(!R._attrsProxy){var F=R._attrsProxy={};def(F,"_v_attr_proxy",!0),syncSetupAttrs(F,R.$attrs,emptyObject,R)}return R._attrsProxy}function syncSetupAttrs(R,F,E,V){var U=!1;for(var W in F)W in R?F[W]!==E[W]&&(U=!0):(U=!0,defineProxyAttr(R,W,V));for(var W in R)W in F||(U=!0,delete R[W]);return U}function defineProxyAttr(R,F,E){Object.defineProperty(R,F,{enumerable:!0,configurable:!0,get:function(){return E.$attrs[F]}})}function initSlotsProxy(R){return R._slotsProxy||syncSetupSlots(R._slotsProxy={},R.$scopedSlots),R._slotsProxy}function syncSetupSlots(R,F){for(var E in F)R[E]=F[E];for(var E in R)E in F||delete R[E]}function initRender(R){R._vnode=null,R._staticTrees=null;var F=R.$options,E=R.$vnode=F._parentVnode,V=E&&E.context;R.$slots=resolveSlots(F._renderChildren,V),R.$scopedSlots=E?normalizeScopedSlots(R.$parent,E.data.scopedSlots,R.$slots):emptyObject,R._c=function(W,Y,G,X){return createElement$1(R,W,Y,G,X,!1)},R.$createElement=function(W,Y,G,X){return createElement$1(R,W,Y,G,X,!0)};var U=E&&E.data;defineReactive(R,"$attrs",U&&U.attrs||emptyObject,null,!0),defineReactive(R,"$listeners",F._parentListeners||emptyObject,null,!0)}var currentRenderingInstance=null;function renderMixin(R){installRenderHelpers(R.prototype),R.prototype.$nextTick=function(F){return nextTick(F,this)},R.prototype._render=function(){var F=this,E=F.$options,V=E.render,U=E._parentVnode;U&&F._isMounted&&(F.$scopedSlots=normalizeScopedSlots(F.$parent,U.data.scopedSlots,F.$slots,F.$scopedSlots),F._slotsProxy&&syncSetupSlots(F._slotsProxy,F.$scopedSlots)),F.$vnode=U;var W;try{setCurrentInstance(F),currentRenderingInstance=F,W=V.call(F._renderProxy,F.$createElement)}catch(Y){handleError(Y,F,"render"),W=F._vnode}finally{currentRenderingInstance=null,setCurrentInstance()}return isArray$5(W)&&W.length===1&&(W=W[0]),W instanceof VNode||(W=createEmptyVNode()),W.parent=U,W}}function ensureCtor(R,F){return(R.__esModule||hasSymbol$1&&R[Symbol.toStringTag]==="Module")&&(R=R.default),isObject$c(R)?F.extend(R):R}function createAsyncPlaceholder(R,F,E,V,U){var W=createEmptyVNode();return W.asyncFactory=R,W.asyncMeta={data:F,context:E,children:V,tag:U},W}function resolveAsyncComponent(R,F){if(isTrue(R.error)&&isDef$1(R.errorComp))return R.errorComp;if(isDef$1(R.resolved))return R.resolved;var E=currentRenderingInstance;if(E&&isDef$1(R.owners)&&R.owners.indexOf(E)===-1&&R.owners.push(E),isTrue(R.loading)&&isDef$1(R.loadingComp))return R.loadingComp;if(E&&!isDef$1(R.owners)){var V=R.owners=[E],U=!0,W=null,Y=null;E.$on("hook:destroyed",function(){return remove$2$1(V,E)});var G=function(J){for(var Q=0,ee=V.length;Q<ee;Q++)V[Q].$forceUpdate();J&&(V.length=0,W!==null&&(clearTimeout(W),W=null),Y!==null&&(clearTimeout(Y),Y=null))},X=once$1(function(J){R.resolved=ensureCtor(J,F),U?V.length=0:G(!0)}),K=once$1(function(J){isDef$1(R.errorComp)&&(R.error=!0,G(!0))}),Z=R(X,K);return isObject$c(Z)&&(isPromise$1(Z)?isUndef$1(R.resolved)&&Z.then(X,K):isPromise$1(Z.component)&&(Z.component.then(X,K),isDef$1(Z.error)&&(R.errorComp=ensureCtor(Z.error,F)),isDef$1(Z.loading)&&(R.loadingComp=ensureCtor(Z.loading,F),Z.delay===0?R.loading=!0:W=setTimeout(function(){W=null,isUndef$1(R.resolved)&&isUndef$1(R.error)&&(R.loading=!0,G(!1))},Z.delay||200)),isDef$1(Z.timeout)&&(Y=setTimeout(function(){Y=null,isUndef$1(R.resolved)&&K(null)},Z.timeout)))),U=!1,R.loading?R.loadingComp:R.resolved}}function getFirstComponentChild(R){if(isArray$5(R))for(var F=0;F<R.length;F++){var E=R[F];if(isDef$1(E)&&(isDef$1(E.componentOptions)||isAsyncPlaceholder(E)))return E}}var SIMPLE_NORMALIZE=1,ALWAYS_NORMALIZE=2;function createElement$1(R,F,E,V,U,W){return(isArray$5(E)||isPrimitive(E))&&(U=V,V=E,E=void 0),isTrue(W)&&(U=ALWAYS_NORMALIZE),_createElement(R,F,E,V,U)}function _createElement(R,F,E,V,U){if(isDef$1(E)&&isDef$1(E.__ob__)||(isDef$1(E)&&isDef$1(E.is)&&(F=E.is),!F))return createEmptyVNode();isArray$5(V)&&isFunction$4(V[0])&&(E=E||{},E.scopedSlots={default:V[0]},V.length=0),U===ALWAYS_NORMALIZE?V=normalizeChildren(V):U===SIMPLE_NORMALIZE&&(V=simpleNormalizeChildren(V));var W,Y;if(typeof F=="string"){var G=void 0;Y=R.$vnode&&R.$vnode.ns||config$1.getTagNamespace(F),config$1.isReservedTag(F)?W=new VNode(config$1.parsePlatformTagName(F),E,V,void 0,void 0,R):(!E||!E.pre)&&isDef$1(G=resolveAsset(R.$options,"components",F))?W=createComponent(G,E,R,V,F):W=new VNode(F,E,V,void 0,void 0,R)}else W=createComponent(F,E,R,V);return isArray$5(W)?W:isDef$1(W)?(isDef$1(Y)&&applyNS(W,Y),isDef$1(E)&&registerDeepBindings(E),W):createEmptyVNode()}function applyNS(R,F,E){if(R.ns=F,R.tag==="foreignObject"&&(F=void 0,E=!0),isDef$1(R.children))for(var V=0,U=R.children.length;V<U;V++){var W=R.children[V];isDef$1(W.tag)&&(isUndef$1(W.ns)||isTrue(E)&&W.tag!=="svg")&&applyNS(W,F,E)}}function registerDeepBindings(R){isObject$c(R.style)&&traverse(R.style),isObject$c(R.class)&&traverse(R.class)}function handleError(R,F,E){pushTarget();try{if(F)for(var V=F;V=V.$parent;){var U=V.$options.errorCaptured;if(U)for(var W=0;W<U.length;W++)try{var Y=U[W].call(V,R,F,E)===!1;if(Y)return}catch(G){globalHandleError(G,V,"errorCaptured hook")}}globalHandleError(R,F,E)}finally{popTarget()}}function invokeWithErrorHandling(R,F,E,V,U){var W;try{W=E?R.apply(F,E):R.call(F),W&&!W._isVue&&isPromise$1(W)&&!W._handled&&(W.catch(function(Y){return handleError(Y,V,U+" (Promise/async)")}),W._handled=!0)}catch(Y){handleError(Y,V,U)}return W}function globalHandleError(R,F,E){if(config$1.errorHandler)try{return config$1.errorHandler.call(null,R,F,E)}catch(V){V!==R&&logError(V)}logError(R)}function logError(R,F,E){if(inBrowser$1&&typeof console<"u")console.error(R);else throw R}var isUsingMicroTask=!1,callbacks$1=[],pending=!1;function flushCallbacks(){pending=!1;var R=callbacks$1.slice(0);callbacks$1.length=0;for(var F=0;F<R.length;F++)R[F]()}var timerFunc;if(typeof Promise<"u"&&isNative(Promise)){var p_1=Promise.resolve();timerFunc=function(){p_1.then(flushCallbacks),isIOS&&setTimeout(noop$4)},isUsingMicroTask=!0}else if(!isIE$1&&typeof MutationObserver<"u"&&(isNative(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var counter_1=1,observer$1=new MutationObserver(flushCallbacks),textNode_1=document.createTextNode(String(counter_1));observer$1.observe(textNode_1,{characterData:!0}),timerFunc=function(){counter_1=(counter_1+1)%2,textNode_1.data=String(counter_1)},isUsingMicroTask=!0}else typeof setImmediate<"u"&&isNative(setImmediate)?timerFunc=function(){setImmediate(flushCallbacks)}:timerFunc=function(){setTimeout(flushCallbacks,0)};function nextTick(R,F){var E;if(callbacks$1.push(function(){if(R)try{R.call(F)}catch(V){handleError(V,F,"nextTick")}else E&&E(F)}),pending||(pending=!0,timerFunc()),!R&&typeof Promise<"u")return new Promise(function(V){E=V})}function createLifeCycle(R){return function(F,E){if(E===void 0&&(E=currentInstance),!!E)return injectHook(E,R,F)}}function injectHook(R,F,E){var V=R.$options;V[F]=mergeLifecycleHook(V[F],E)}var onMounted=createLifeCycle("mounted"),version$2="2.7.7";function defineComponent(R){return R}var seenObjects=new _Set;function traverse(R){return _traverse(R,seenObjects),seenObjects.clear(),R}function _traverse(R,F){var E,V,U=isArray$5(R);if(!(!U&&!isObject$c(R)||Object.isFrozen(R)||R instanceof VNode)){if(R.__ob__){var W=R.__ob__.dep.id;if(F.has(W))return;F.add(W)}if(U)for(E=R.length;E--;)_traverse(R[E],F);else if(isRef(R))_traverse(R.value,F);else for(V=Object.keys(R),E=V.length;E--;)_traverse(R[V[E]],F)}}var uid$1=0,Watcher=function(){function R(F,E,V,U,W){recordEffectScope(this,activeEffectScope||(F?F._scope:void 0)),(this.vm=F)&&W&&(F._watcher=this),U?(this.deep=!!U.deep,this.user=!!U.user,this.lazy=!!U.lazy,this.sync=!!U.sync,this.before=U.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=V,this.id=++uid$1,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new _Set,this.newDepIds=new _Set,this.expression="",isFunction$4(E)?this.getter=E:(this.getter=parsePath$1(E),this.getter||(this.getter=noop$4)),this.value=this.lazy?void 0:this.get()}return R.prototype.get=function(){pushTarget(this);var F,E=this.vm;try{F=this.getter.call(E,E)}catch(V){if(this.user)handleError(V,E,'getter for watcher "'.concat(this.expression,'"'));else throw V}finally{this.deep&&traverse(F),popTarget(),this.cleanupDeps()}return F},R.prototype.addDep=function(F){var E=F.id;this.newDepIds.has(E)||(this.newDepIds.add(E),this.newDeps.push(F),this.depIds.has(E)||F.addSub(this))},R.prototype.cleanupDeps=function(){for(var F=this.deps.length;F--;){var E=this.deps[F];this.newDepIds.has(E.id)||E.removeSub(this)}var V=this.depIds;this.depIds=this.newDepIds,this.newDepIds=V,this.newDepIds.clear(),V=this.deps,this.deps=this.newDeps,this.newDeps=V,this.newDeps.length=0},R.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():queueWatcher(this)},R.prototype.run=function(){if(this.active){var F=this.get();if(F!==this.value||isObject$c(F)||this.deep){var E=this.value;if(this.value=F,this.user){var V='callback for watcher "'.concat(this.expression,'"');invokeWithErrorHandling(this.cb,this.vm,[F,E],this.vm,V)}else this.cb.call(this.vm,F,E)}}},R.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},R.prototype.depend=function(){for(var F=this.deps.length;F--;)this.deps[F].depend()},R.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&remove$2$1(this.vm._scope.effects,this),this.active){for(var F=this.deps.length;F--;)this.deps[F].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},R}();function initEvents(R){R._events=Object.create(null),R._hasHookEvent=!1;var F=R.$options._parentListeners;F&&updateComponentListeners(R,F)}var target$1$1;function add$1$2(R,F){target$1$1.$on(R,F)}function remove$1$1(R,F){target$1$1.$off(R,F)}function createOnceHandler$1(R,F){var E=target$1$1;return function V(){var U=F.apply(null,arguments);U!==null&&E.$off(R,V)}}function updateComponentListeners(R,F,E){target$1$1=R,updateListeners(F,E||{},add$1$2,remove$1$1,createOnceHandler$1,R),target$1$1=void 0}function eventsMixin(R){var F=/^hook:/;R.prototype.$on=function(E,V){var U=this;if(isArray$5(E))for(var W=0,Y=E.length;W<Y;W++)U.$on(E[W],V);else(U._events[E]||(U._events[E]=[])).push(V),F.test(E)&&(U._hasHookEvent=!0);return U},R.prototype.$once=function(E,V){var U=this;function W(){U.$off(E,W),V.apply(U,arguments)}return W.fn=V,U.$on(E,W),U},R.prototype.$off=function(E,V){var U=this;if(!arguments.length)return U._events=Object.create(null),U;if(isArray$5(E)){for(var W=0,Y=E.length;W<Y;W++)U.$off(E[W],V);return U}var G=U._events[E];if(!G)return U;if(!V)return U._events[E]=null,U;for(var X,K=G.length;K--;)if(X=G[K],X===V||X.fn===V){G.splice(K,1);break}return U},R.prototype.$emit=function(E){var V=this,U=V._events[E];if(U){U=U.length>1?toArray$6(U):U;for(var W=toArray$6(arguments,1),Y='event handler for "'.concat(E,'"'),G=0,X=U.length;G<X;G++)invokeWithErrorHandling(U[G],V,W,V,Y)}return V}}var activeInstance=null;function setActiveInstance(R){var F=activeInstance;return activeInstance=R,function(){activeInstance=F}}function initLifecycle(R){var F=R.$options,E=F.parent;if(E&&!F.abstract){for(;E.$options.abstract&&E.$parent;)E=E.$parent;E.$children.push(R)}R.$parent=E,R.$root=E?E.$root:R,R.$children=[],R.$refs={},R._provided=E?E._provided:Object.create(null),R._watcher=null,R._inactive=null,R._directInactive=!1,R._isMounted=!1,R._isDestroyed=!1,R._isBeingDestroyed=!1}function lifecycleMixin(R){R.prototype._update=function(F,E){var V=this,U=V.$el,W=V._vnode,Y=setActiveInstance(V);V._vnode=F,W?V.$el=V.__patch__(W,F):V.$el=V.__patch__(V.$el,F,E,!1),Y(),U&&(U.__vue__=null),V.$el&&(V.$el.__vue__=V),V.$vnode&&V.$parent&&V.$vnode===V.$parent._vnode&&(V.$parent.$el=V.$el)},R.prototype.$forceUpdate=function(){var F=this;F._watcher&&F._watcher.update()},R.prototype.$destroy=function(){var F=this;if(!F._isBeingDestroyed){callHook$1(F,"beforeDestroy"),F._isBeingDestroyed=!0;var E=F.$parent;E&&!E._isBeingDestroyed&&!F.$options.abstract&&remove$2$1(E.$children,F),F._scope.stop(),F._data.__ob__&&F._data.__ob__.vmCount--,F._isDestroyed=!0,F.__patch__(F._vnode,null),callHook$1(F,"destroyed"),F.$off(),F.$el&&(F.$el.__vue__=null),F.$vnode&&(F.$vnode.parent=null)}}}function mountComponent(R,F,E){R.$el=F,R.$options.render||(R.$options.render=createEmptyVNode),callHook$1(R,"beforeMount");var V;V=function(){R._update(R._render(),E)};var U={before:function(){R._isMounted&&!R._isDestroyed&&callHook$1(R,"beforeUpdate")}};new Watcher(R,V,noop$4,U,!0),E=!1;var W=R._preWatchers;if(W)for(var Y=0;Y<W.length;Y++)W[Y].run();return R.$vnode==null&&(R._isMounted=!0,callHook$1(R,"mounted")),R}function updateChildComponent(R,F,E,V,U){var W=V.data.scopedSlots,Y=R.$scopedSlots,G=!!(W&&!W.$stable||Y!==emptyObject&&!Y.$stable||W&&R.$scopedSlots.$key!==W.$key||!W&&R.$scopedSlots.$key),X=!!(U||R.$options._renderChildren||G),K=R.$vnode;R.$options._parentVnode=V,R.$vnode=V,R._vnode&&(R._vnode.parent=V),R.$options._renderChildren=U;var Z=V.data.attrs||emptyObject;if(R._attrsProxy&&syncSetupAttrs(R._attrsProxy,Z,K.data&&K.data.attrs||emptyObject,R)&&(X=!0),R.$attrs=Z,R.$listeners=E||emptyObject,F&&R.$options.props){toggleObserving(!1);for(var J=R._props,Q=R.$options._propKeys||[],ee=0;ee<Q.length;ee++){var te=Q[ee],ie=R.$options.props;J[te]=validateProp(te,ie,F,R)}toggleObserving(!0),R.$options.propsData=F}E=E||emptyObject;var ne=R.$options._parentListeners;R.$options._parentListeners=E,updateComponentListeners(R,E,ne),X&&(R.$slots=resolveSlots(U,V.context),R.$forceUpdate())}function isInInactiveTree(R){for(;R&&(R=R.$parent);)if(R._inactive)return!0;return!1}function activateChildComponent(R,F){if(F){if(R._directInactive=!1,isInInactiveTree(R))return}else if(R._directInactive)return;if(R._inactive||R._inactive===null){R._inactive=!1;for(var E=0;E<R.$children.length;E++)activateChildComponent(R.$children[E]);callHook$1(R,"activated")}}function deactivateChildComponent(R,F){if(!(F&&(R._directInactive=!0,isInInactiveTree(R)))&&!R._inactive){R._inactive=!0;for(var E=0;E<R.$children.length;E++)deactivateChildComponent(R.$children[E]);callHook$1(R,"deactivated")}}function callHook$1(R,F,E,V){V===void 0&&(V=!0),pushTarget();var U=currentInstance;V&&setCurrentInstance(R);var W=R.$options[F],Y="".concat(F," hook");if(W)for(var G=0,X=W.length;G<X;G++)invokeWithErrorHandling(W[G],R,E||null,R,Y);R._hasHookEvent&&R.$emit("hook:"+F),V&&setCurrentInstance(U),popTarget()}var queue=[],activatedChildren=[],has$1={},waiting=!1,flushing=!1,index$3=0;function resetSchedulerState(){index$3=queue.length=activatedChildren.length=0,has$1={},waiting=flushing=!1}var currentFlushTimestamp=0,getNow=Date.now;if(inBrowser$1&&!isIE$1){var performance_1=window.performance;performance_1&&typeof performance_1.now=="function"&&getNow()>document.createEvent("Event").timeStamp&&(getNow=function(){return performance_1.now()})}var sortCompareFn=function(R,F){if(R.post){if(!F.post)return 1}else if(F.post)return-1;return R.id-F.id};function flushSchedulerQueue(){currentFlushTimestamp=getNow(),flushing=!0;var R,F;for(queue.sort(sortCompareFn),index$3=0;index$3<queue.length;index$3++)R=queue[index$3],R.before&&R.before(),F=R.id,has$1[F]=null,R.run();var E=activatedChildren.slice(),V=queue.slice();resetSchedulerState(),callActivatedHooks(E),callUpdatedHooks(V),devtools&&config$1.devtools&&devtools.emit("flush")}function callUpdatedHooks(R){for(var F=R.length;F--;){var E=R[F],V=E.vm;V&&V._watcher===E&&V._isMounted&&!V._isDestroyed&&callHook$1(V,"updated")}}function queueActivatedComponent(R){R._inactive=!1,activatedChildren.push(R)}function callActivatedHooks(R){for(var F=0;F<R.length;F++)R[F]._inactive=!0,activateChildComponent(R[F],!0)}function queueWatcher(R){var F=R.id;if(has$1[F]==null&&!(R===Dep.target&&R.noRecurse)){if(has$1[F]=!0,!flushing)queue.push(R);else{for(var E=queue.length-1;E>index$3&&queue[E].id>R.id;)E--;queue.splice(E+1,0,R)}waiting||(waiting=!0,nextTick(flushSchedulerQueue))}}function initProvide(R){var F=R.$options.provide;if(F){var E=isFunction$4(F)?F.call(R):F;if(!isObject$c(E))return;for(var V=resolveProvided(R),U=hasSymbol$1?Reflect.ownKeys(E):Object.keys(E),W=0;W<U.length;W++){var Y=U[W];Object.defineProperty(V,Y,Object.getOwnPropertyDescriptor(E,Y))}}}function initInjections(R){var F=resolveInject(R.$options.inject,R);F&&(toggleObserving(!1),Object.keys(F).forEach(function(E){defineReactive(R,E,F[E])}),toggleObserving(!0))}function resolveInject(R,F){if(R){for(var E=Object.create(null),V=hasSymbol$1?Reflect.ownKeys(R):Object.keys(R),U=0;U<V.length;U++){var W=V[U];if(W!=="__ob__"){var Y=R[W].from;if(Y in F._provided)E[W]=F._provided[Y];else if("default"in R[W]){var G=R[W].default;E[W]=isFunction$4(G)?G.call(F):G}}}return E}}function FunctionalRenderContext(R,F,E,V,U){var W=this,Y=U.options,G;hasOwn$1(V,"_uid")?(G=Object.create(V),G._original=V):(G=V,V=V._original);var X=isTrue(Y._compiled),K=!X;this.data=R,this.props=F,this.children=E,this.parent=V,this.listeners=R.on||emptyObject,this.injections=resolveInject(Y.inject,V),this.slots=function(){return W.$slots||normalizeScopedSlots(V,R.scopedSlots,W.$slots=resolveSlots(E,V)),W.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return normalizeScopedSlots(V,R.scopedSlots,this.slots())}}),X&&(this.$options=Y,this.$slots=this.slots(),this.$scopedSlots=normalizeScopedSlots(V,R.scopedSlots,this.$slots)),Y._scopeId?this._c=function(Z,J,Q,ee){var te=createElement$1(G,Z,J,Q,ee,K);return te&&!isArray$5(te)&&(te.fnScopeId=Y._scopeId,te.fnContext=V),te}:this._c=function(Z,J,Q,ee){return createElement$1(G,Z,J,Q,ee,K)}}installRenderHelpers(FunctionalRenderContext.prototype);function createFunctionalComponent(R,F,E,V,U){var W=R.options,Y={},G=W.props;if(isDef$1(G))for(var X in G)Y[X]=validateProp(X,G,F||emptyObject);else isDef$1(E.attrs)&&mergeProps(Y,E.attrs),isDef$1(E.props)&&mergeProps(Y,E.props);var K=new FunctionalRenderContext(E,Y,U,V,R),Z=W.render.call(null,K._c,K);if(Z instanceof VNode)return cloneAndMarkFunctionalResult(Z,E,K.parent,W);if(isArray$5(Z)){for(var J=normalizeChildren(Z)||[],Q=new Array(J.length),ee=0;ee<J.length;ee++)Q[ee]=cloneAndMarkFunctionalResult(J[ee],E,K.parent,W);return Q}}function cloneAndMarkFunctionalResult(R,F,E,V,U){var W=cloneVNode(R);return W.fnContext=E,W.fnOptions=V,F.slot&&((W.data||(W.data={})).slot=F.slot),W}function mergeProps(R,F){for(var E in F)R[camelize(E)]=F[E]}function getComponentName(R){return R.name||R.__name||R._componentTag}var componentVNodeHooks={init:function(R,F){if(R.componentInstance&&!R.componentInstance._isDestroyed&&R.data.keepAlive){var E=R;componentVNodeHooks.prepatch(E,E)}else{var V=R.componentInstance=createComponentInstanceForVnode(R,activeInstance);V.$mount(F?R.elm:void 0,F)}},prepatch:function(R,F){var E=F.componentOptions,V=F.componentInstance=R.componentInstance;updateChildComponent(V,E.propsData,E.listeners,F,E.children)},insert:function(R){var F=R.context,E=R.componentInstance;E._isMounted||(E._isMounted=!0,callHook$1(E,"mounted")),R.data.keepAlive&&(F._isMounted?queueActivatedComponent(E):activateChildComponent(E,!0))},destroy:function(R){var F=R.componentInstance;F._isDestroyed||(R.data.keepAlive?deactivateChildComponent(F,!0):F.$destroy())}},hooksToMerge=Object.keys(componentVNodeHooks);function createComponent(R,F,E,V,U){if(!isUndef$1(R)){var W=E.$options._base;if(isObject$c(R)&&(R=W.extend(R)),typeof R=="function"){var Y;if(isUndef$1(R.cid)&&(Y=R,R=resolveAsyncComponent(Y,W),R===void 0))return createAsyncPlaceholder(Y,F,E,V,U);F=F||{},resolveConstructorOptions(R),isDef$1(F.model)&&transformModel(R.options,F);var G=extractPropsFromVNodeData(F,R);if(isTrue(R.options.functional))return createFunctionalComponent(R,G,F,E,V);var X=F.on;if(F.on=F.nativeOn,isTrue(R.options.abstract)){var K=F.slot;F={},K&&(F.slot=K)}installComponentHooks(F);var Z=getComponentName(R.options)||U,J=new VNode("vue-component-".concat(R.cid).concat(Z?"-".concat(Z):""),F,void 0,void 0,void 0,E,{Ctor:R,propsData:G,listeners:X,tag:U,children:V},Y);return J}}}function createComponentInstanceForVnode(R,F){var E={_isComponent:!0,_parentVnode:R,parent:F},V=R.data.inlineTemplate;return isDef$1(V)&&(E.render=V.render,E.staticRenderFns=V.staticRenderFns),new R.componentOptions.Ctor(E)}function installComponentHooks(R){for(var F=R.hook||(R.hook={}),E=0;E<hooksToMerge.length;E++){var V=hooksToMerge[E],U=F[V],W=componentVNodeHooks[V];U!==W&&!(U&&U._merged)&&(F[V]=U?mergeHook(W,U):W)}}function mergeHook(R,F){var E=function(V,U){R(V,U),F(V,U)};return E._merged=!0,E}function transformModel(R,F){var E=R.model&&R.model.prop||"value",V=R.model&&R.model.event||"input";(F.attrs||(F.attrs={}))[E]=F.model.value;var U=F.on||(F.on={}),W=U[V],Y=F.model.callback;isDef$1(W)?(isArray$5(W)?W.indexOf(Y)===-1:W!==Y)&&(U[V]=[Y].concat(W)):U[V]=Y}var warn$4=noop$4,strats=config$1.optionMergeStrategies;function mergeData(R,F){if(!F)return R;for(var E,V,U,W=hasSymbol$1?Reflect.ownKeys(F):Object.keys(F),Y=0;Y<W.length;Y++)E=W[Y],E!=="__ob__"&&(V=R[E],U=F[E],hasOwn$1(R,E)?V!==U&&isPlainObject$2(V)&&isPlainObject$2(U)&&mergeData(V,U):set$3(R,E,U));return R}function mergeDataOrFn(R,F,E){return E?function(){var U=isFunction$4(F)?F.call(E,E):F,W=isFunction$4(R)?R.call(E,E):R;return U?mergeData(U,W):W}:F?R?function(){return mergeData(isFunction$4(F)?F.call(this,this):F,isFunction$4(R)?R.call(this,this):R)}:F:R}strats.data=function(R,F,E){return E?mergeDataOrFn(R,F,E):F&&typeof F!="function"?R:mergeDataOrFn(R,F)};function mergeLifecycleHook(R,F){var E=F?R?R.concat(F):isArray$5(F)?F:[F]:R;return E&&dedupeHooks(E)}function dedupeHooks(R){for(var F=[],E=0;E<R.length;E++)F.indexOf(R[E])===-1&&F.push(R[E]);return F}LIFECYCLE_HOOKS.forEach(function(R){strats[R]=mergeLifecycleHook});function mergeAssets(R,F,E,V){var U=Object.create(R||null);return F?extend$6(U,F):U}ASSET_TYPES.forEach(function(R){strats[R+"s"]=mergeAssets});strats.watch=function(R,F,E,V){if(R===nativeWatch&&(R=void 0),F===nativeWatch&&(F=void 0),!F)return Object.create(R||null);if(!R)return F;var U={};extend$6(U,R);for(var W in F){var Y=U[W],G=F[W];Y&&!isArray$5(Y)&&(Y=[Y]),U[W]=Y?Y.concat(G):isArray$5(G)?G:[G]}return U};strats.props=strats.methods=strats.inject=strats.computed=function(R,F,E,V){if(!R)return F;var U=Object.create(null);return extend$6(U,R),F&&extend$6(U,F),U};strats.provide=mergeDataOrFn;var defaultStrat=function(R,F){return F===void 0?R:F};function normalizeProps(R,F){var E=R.props;if(!!E){var V={},U,W,Y;if(isArray$5(E))for(U=E.length;U--;)W=E[U],typeof W=="string"&&(Y=camelize(W),V[Y]={type:null});else if(isPlainObject$2(E))for(var G in E)W=E[G],Y=camelize(G),V[Y]=isPlainObject$2(W)?W:{type:W};R.props=V}}function normalizeInject(R,F){var E=R.inject;if(!!E){var V=R.inject={};if(isArray$5(E))for(var U=0;U<E.length;U++)V[E[U]]={from:E[U]};else if(isPlainObject$2(E))for(var W in E){var Y=E[W];V[W]=isPlainObject$2(Y)?extend$6({from:W},Y):{from:Y}}}}function normalizeDirectives$1(R){var F=R.directives;if(F)for(var E in F){var V=F[E];isFunction$4(V)&&(F[E]={bind:V,update:V})}}function assertObjectType(R,F,E){isPlainObject$2(F)||warn$4('Invalid value for option "'.concat(R,'": expected an Object, ')+"but got ".concat(toRawType(F),"."))}function mergeOptions(R,F,E){if(isFunction$4(F)&&(F=F.options),normalizeProps(F),normalizeInject(F),normalizeDirectives$1(F),!F._base&&(F.extends&&(R=mergeOptions(R,F.extends,E)),F.mixins))for(var V=0,U=F.mixins.length;V<U;V++)R=mergeOptions(R,F.mixins[V],E);var W={},Y;for(Y in R)G(Y);for(Y in F)hasOwn$1(R,Y)||G(Y);function G(X){var K=strats[X]||defaultStrat;W[X]=K(R[X],F[X],E,X)}return W}function resolveAsset(R,F,E,V){if(typeof E=="string"){var U=R[F];if(hasOwn$1(U,E))return U[E];var W=camelize(E);if(hasOwn$1(U,W))return U[W];var Y=capitalize$1(W);if(hasOwn$1(U,Y))return U[Y];var G=U[E]||U[W]||U[Y];return G}}function validateProp(R,F,E,V){var U=F[R],W=!hasOwn$1(E,R),Y=E[R],G=getTypeIndex(Boolean,U.type);if(G>-1){if(W&&!hasOwn$1(U,"default"))Y=!1;else if(Y===""||Y===hyphenate(R)){var X=getTypeIndex(String,U.type);(X<0||G<X)&&(Y=!0)}}if(Y===void 0){Y=getPropDefaultValue(V,U,R);var K=shouldObserve;toggleObserving(!0),observe(Y),toggleObserving(K)}return Y}function getPropDefaultValue(R,F,E){if(!!hasOwn$1(F,"default")){var V=F.default;return R&&R.$options.propsData&&R.$options.propsData[E]===void 0&&R._props[E]!==void 0?R._props[E]:isFunction$4(V)&&getType$1(F.type)!=="Function"?V.call(R):V}}var functionTypeCheckRE=/^\s*function (\w+)/;function getType$1(R){var F=R&&R.toString().match(functionTypeCheckRE);return F?F[1]:""}function isSameType(R,F){return getType$1(R)===getType$1(F)}function getTypeIndex(R,F){if(!isArray$5(F))return isSameType(F,R)?0:-1;for(var E=0,V=F.length;E<V;E++)if(isSameType(F[E],R))return E;return-1}var sharedPropertyDefinition={enumerable:!0,configurable:!0,get:noop$4,set:noop$4};function proxy(R,F,E){sharedPropertyDefinition.get=function(){return this[F][E]},sharedPropertyDefinition.set=function(U){this[F][E]=U},Object.defineProperty(R,E,sharedPropertyDefinition)}function initState(R){var F=R.$options;if(F.props&&initProps$1(R,F.props),initSetup(R),F.methods&&initMethods(R,F.methods),F.data)initData(R);else{var E=observe(R._data={});E&&E.vmCount++}F.computed&&initComputed$1(R,F.computed),F.watch&&F.watch!==nativeWatch&&initWatch(R,F.watch)}function initProps$1(R,F){var E=R.$options.propsData||{},V=R._props=shallowReactive({}),U=R.$options._propKeys=[],W=!R.$parent;W||toggleObserving(!1);var Y=function(X){U.push(X);var K=validateProp(X,F,E,R);defineReactive(V,X,K),X in R||proxy(R,"_props",X)};for(var G in F)Y(G);toggleObserving(!0)}function initData(R){var F=R.$options.data;F=R._data=isFunction$4(F)?getData(F,R):F||{},isPlainObject$2(F)||(F={});var E=Object.keys(F),V=R.$options.props;R.$options.methods;for(var U=E.length;U--;){var W=E[U];V&&hasOwn$1(V,W)||isReserved(W)||proxy(R,"_data",W)}var Y=observe(F);Y&&Y.vmCount++}function getData(R,F){pushTarget();try{return R.call(F,F)}catch(E){return handleError(E,F,"data()"),{}}finally{popTarget()}}var computedWatcherOptions={lazy:!0};function initComputed$1(R,F){var E=R._computedWatchers=Object.create(null),V=isServerRendering();for(var U in F){var W=F[U],Y=isFunction$4(W)?W:W.get;V||(E[U]=new Watcher(R,Y||noop$4,noop$4,computedWatcherOptions)),U in R||defineComputed(R,U,W)}}function defineComputed(R,F,E){var V=!isServerRendering();isFunction$4(E)?(sharedPropertyDefinition.get=V?createComputedGetter(F):createGetterInvoker(E),sharedPropertyDefinition.set=noop$4):(sharedPropertyDefinition.get=E.get?V&&E.cache!==!1?createComputedGetter(F):createGetterInvoker(E.get):noop$4,sharedPropertyDefinition.set=E.set||noop$4),Object.defineProperty(R,F,sharedPropertyDefinition)}function createComputedGetter(R){return function(){var E=this._computedWatchers&&this._computedWatchers[R];if(E)return E.dirty&&E.evaluate(),Dep.target&&E.depend(),E.value}}function createGetterInvoker(R){return function(){return R.call(this,this)}}function initMethods(R,F){R.$options.props;for(var E in F)R[E]=typeof F[E]!="function"?noop$4:bind$2(F[E],R)}function initWatch(R,F){for(var E in F){var V=F[E];if(isArray$5(V))for(var U=0;U<V.length;U++)createWatcher(R,E,V[U]);else createWatcher(R,E,V)}}function createWatcher(R,F,E,V){return isPlainObject$2(E)&&(V=E,E=E.handler),typeof E=="string"&&(E=R[E]),R.$watch(F,E,V)}function stateMixin(R){var F={};F.get=function(){return this._data};var E={};E.get=function(){return this._props},Object.defineProperty(R.prototype,"$data",F),Object.defineProperty(R.prototype,"$props",E),R.prototype.$set=set$3,R.prototype.$delete=del,R.prototype.$watch=function(V,U,W){var Y=this;if(isPlainObject$2(U))return createWatcher(Y,V,U,W);W=W||{},W.user=!0;var G=new Watcher(Y,V,U,W);if(W.immediate){var X='callback for immediate watcher "'.concat(G.expression,'"');pushTarget(),invokeWithErrorHandling(U,Y,[G.value],Y,X),popTarget()}return function(){G.teardown()}}}var uid=0;function initMixin$1(R){R.prototype._init=function(F){var E=this;E._uid=uid++,E._isVue=!0,E.__v_skip=!0,E._scope=new EffectScope(!0),F&&F._isComponent?initInternalComponent(E,F):E.$options=mergeOptions(resolveConstructorOptions(E.constructor),F||{},E),E._renderProxy=E,E._self=E,initLifecycle(E),initEvents(E),initRender(E),callHook$1(E,"beforeCreate",void 0,!1),initInjections(E),initState(E),initProvide(E),callHook$1(E,"created"),E.$options.el&&E.$mount(E.$options.el)}}function initInternalComponent(R,F){var E=R.$options=Object.create(R.constructor.options),V=F._parentVnode;E.parent=F.parent,E._parentVnode=V;var U=V.componentOptions;E.propsData=U.propsData,E._parentListeners=U.listeners,E._renderChildren=U.children,E._componentTag=U.tag,F.render&&(E.render=F.render,E.staticRenderFns=F.staticRenderFns)}function resolveConstructorOptions(R){var F=R.options;if(R.super){var E=resolveConstructorOptions(R.super),V=R.superOptions;if(E!==V){R.superOptions=E;var U=resolveModifiedOptions(R);U&&extend$6(R.extendOptions,U),F=R.options=mergeOptions(E,R.extendOptions),F.name&&(F.components[F.name]=R)}}return F}function resolveModifiedOptions(R){var F,E=R.options,V=R.sealedOptions;for(var U in E)E[U]!==V[U]&&(F||(F={}),F[U]=E[U]);return F}function Vue$2(R){this._init(R)}initMixin$1(Vue$2);stateMixin(Vue$2);eventsMixin(Vue$2);lifecycleMixin(Vue$2);renderMixin(Vue$2);function initUse(R){R.use=function(F){var E=this._installedPlugins||(this._installedPlugins=[]);if(E.indexOf(F)>-1)return this;var V=toArray$6(arguments,1);return V.unshift(this),isFunction$4(F.install)?F.install.apply(F,V):isFunction$4(F)&&F.apply(null,V),E.push(F),this}}function initMixin(R){R.mixin=function(F){return this.options=mergeOptions(this.options,F),this}}function initExtend(R){R.cid=0;var F=1;R.extend=function(E){E=E||{};var V=this,U=V.cid,W=E._Ctor||(E._Ctor={});if(W[U])return W[U];var Y=getComponentName(E)||getComponentName(V.options),G=function(K){this._init(K)};return G.prototype=Object.create(V.prototype),G.prototype.constructor=G,G.cid=F++,G.options=mergeOptions(V.options,E),G.super=V,G.options.props&&initProps(G),G.options.computed&&initComputed(G),G.extend=V.extend,G.mixin=V.mixin,G.use=V.use,ASSET_TYPES.forEach(function(X){G[X]=V[X]}),Y&&(G.options.components[Y]=G),G.superOptions=V.options,G.extendOptions=E,G.sealedOptions=extend$6({},G.options),W[U]=G,G}}function initProps(R){var F=R.options.props;for(var E in F)proxy(R.prototype,"_props",E)}function initComputed(R){var F=R.options.computed;for(var E in F)defineComputed(R.prototype,E,F[E])}function initAssetRegisters(R){ASSET_TYPES.forEach(function(F){R[F]=function(E,V){return V?(F==="component"&&isPlainObject$2(V)&&(V.name=V.name||E,V=this.options._base.extend(V)),F==="directive"&&isFunction$4(V)&&(V={bind:V,update:V}),this.options[F+"s"][E]=V,V):this.options[F+"s"][E]}})}function _getComponentName(R){return R&&(getComponentName(R.Ctor.options)||R.tag)}function matches$1(R,F){return isArray$5(R)?R.indexOf(F)>-1:typeof R=="string"?R.split(",").indexOf(F)>-1:isRegExp$1(R)?R.test(F):!1}function pruneCache(R,F){var E=R.cache,V=R.keys,U=R._vnode;for(var W in E){var Y=E[W];if(Y){var G=Y.name;G&&!F(G)&&pruneCacheEntry(E,W,V,U)}}}function pruneCacheEntry(R,F,E,V){var U=R[F];U&&(!V||U.tag!==V.tag)&&U.componentInstance.$destroy(),R[F]=null,remove$2$1(E,F)}var patternTypes=[String,RegExp,Array],KeepAlive={name:"keep-alive",abstract:!0,props:{include:patternTypes,exclude:patternTypes,max:[String,Number]},methods:{cacheVNode:function(){var R=this,F=R.cache,E=R.keys,V=R.vnodeToCache,U=R.keyToCache;if(V){var W=V.tag,Y=V.componentInstance,G=V.componentOptions;F[U]={name:_getComponentName(G),tag:W,componentInstance:Y},E.push(U),this.max&&E.length>parseInt(this.max)&&pruneCacheEntry(F,E[0],E,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var R in this.cache)pruneCacheEntry(this.cache,R,this.keys)},mounted:function(){var R=this;this.cacheVNode(),this.$watch("include",function(F){pruneCache(R,function(E){return matches$1(F,E)})}),this.$watch("exclude",function(F){pruneCache(R,function(E){return!matches$1(F,E)})})},updated:function(){this.cacheVNode()},render:function(){var R=this.$slots.default,F=getFirstComponentChild(R),E=F&&F.componentOptions;if(E){var V=_getComponentName(E),U=this,W=U.include,Y=U.exclude;if(W&&(!V||!matches$1(W,V))||Y&&V&&matches$1(Y,V))return F;var G=this,X=G.cache,K=G.keys,Z=F.key==null?E.Ctor.cid+(E.tag?"::".concat(E.tag):""):F.key;X[Z]?(F.componentInstance=X[Z].componentInstance,remove$2$1(K,Z),K.push(Z)):(this.vnodeToCache=F,this.keyToCache=Z),F.data.keepAlive=!0}return F||R&&R[0]}},builtInComponents={KeepAlive};function initGlobalAPI(R){var F={};F.get=function(){return config$1},Object.defineProperty(R,"config",F),R.util={warn:warn$4,extend:extend$6,mergeOptions,defineReactive},R.set=set$3,R.delete=del,R.nextTick=nextTick,R.observable=function(E){return observe(E),E},R.options=Object.create(null),ASSET_TYPES.forEach(function(E){R.options[E+"s"]=Object.create(null)}),R.options._base=R,extend$6(R.options.components,builtInComponents),initUse(R),initMixin(R),initExtend(R),initAssetRegisters(R)}initGlobalAPI(Vue$2);Object.defineProperty(Vue$2.prototype,"$isServer",{get:isServerRendering});Object.defineProperty(Vue$2.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(Vue$2,"FunctionalRenderContext",{value:FunctionalRenderContext});Vue$2.version=version$2;var isReservedAttr=makeMap("style,class"),acceptValue=makeMap("input,textarea,option,select,progress"),mustUseProp=function(R,F,E){return E==="value"&&acceptValue(R)&&F!=="button"||E==="selected"&&R==="option"||E==="checked"&&R==="input"||E==="muted"&&R==="video"},isEnumeratedAttr=makeMap("contenteditable,draggable,spellcheck"),isValidContentEditableValue=makeMap("events,caret,typing,plaintext-only"),convertEnumeratedValue=function(R,F){return isFalsyAttrValue(F)||F==="false"?"false":R==="contenteditable"&&isValidContentEditableValue(F)?F:"true"},isBooleanAttr=makeMap("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),xlinkNS="http://www.w3.org/1999/xlink",isXlink=function(R){return R.charAt(5)===":"&&R.slice(0,5)==="xlink"},getXlinkProp=function(R){return isXlink(R)?R.slice(6,R.length):""},isFalsyAttrValue=function(R){return R==null||R===!1};function genClassForVnode(R){for(var F=R.data,E=R,V=R;isDef$1(V.componentInstance);)V=V.componentInstance._vnode,V&&V.data&&(F=mergeClassData(V.data,F));for(;isDef$1(E=E.parent);)E&&E.data&&(F=mergeClassData(F,E.data));return renderClass(F.staticClass,F.class)}function mergeClassData(R,F){return{staticClass:concat$1(R.staticClass,F.staticClass),class:isDef$1(R.class)?[R.class,F.class]:F.class}}function renderClass(R,F){return isDef$1(R)||isDef$1(F)?concat$1(R,stringifyClass(F)):""}function concat$1(R,F){return R?F?R+" "+F:R:F||""}function stringifyClass(R){return Array.isArray(R)?stringifyArray(R):isObject$c(R)?stringifyObject(R):typeof R=="string"?R:""}function stringifyArray(R){for(var F="",E,V=0,U=R.length;V<U;V++)isDef$1(E=stringifyClass(R[V]))&&E!==""&&(F&&(F+=" "),F+=E);return F}function stringifyObject(R){var F="";for(var E in R)R[E]&&(F&&(F+=" "),F+=E);return F}var namespaceMap={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},isHTMLTag=makeMap("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),isSVG=makeMap("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),isReservedTag=function(R){return isHTMLTag(R)||isSVG(R)};function getTagNamespace(R){if(isSVG(R))return"svg";if(R==="math")return"math"}var unknownElementCache=Object.create(null);function isUnknownElement(R){if(!inBrowser$1)return!0;if(isReservedTag(R))return!1;if(R=R.toLowerCase(),unknownElementCache[R]!=null)return unknownElementCache[R];var F=document.createElement(R);return R.indexOf("-")>-1?unknownElementCache[R]=F.constructor===window.HTMLUnknownElement||F.constructor===window.HTMLElement:unknownElementCache[R]=/HTMLUnknownElement/.test(F.toString())}var isTextInputType=makeMap("text,number,password,search,email,tel,url");function query(R){if(typeof R=="string"){var F=document.querySelector(R);return F||document.createElement("div")}else return R}function createElement$2(R,F){var E=document.createElement(R);return R!=="select"||F.data&&F.data.attrs&&F.data.attrs.multiple!==void 0&&E.setAttribute("multiple","multiple"),E}function createElementNS(R,F){return document.createElementNS(namespaceMap[R],F)}function createTextNode(R){return document.createTextNode(R)}function createComment(R){return document.createComment(R)}function insertBefore(R,F,E){R.insertBefore(F,E)}function removeChild(R,F){R.removeChild(F)}function appendChild(R,F){R.appendChild(F)}function parentNode(R){return R.parentNode}function nextSibling(R){return R.nextSibling}function tagName(R){return R.tagName}function setTextContent(R,F){R.textContent=F}function setStyleScope(R,F){R.setAttribute(F,"")}var nodeOps=Object.freeze({__proto__:null,createElement:createElement$2,createElementNS,createTextNode,createComment,insertBefore,removeChild,appendChild,parentNode,nextSibling,tagName,setTextContent,setStyleScope}),ref={create:function(R,F){registerRef(F)},update:function(R,F){R.data.ref!==F.data.ref&&(registerRef(R,!0),registerRef(F))},destroy:function(R){registerRef(R,!0)}};function registerRef(R,F){var E=R.data.ref;if(!!isDef$1(E)){var V=R.context,U=R.componentInstance||R.elm,W=F?null:U,Y=F?void 0:U;if(isFunction$4(E)){invokeWithErrorHandling(E,V,[W],V,"template ref function");return}var G=R.data.refInFor,X=typeof E=="string"||typeof E=="number",K=isRef(E),Z=V.$refs;if(X||K){if(G){var J=X?Z[E]:E.value;F?isArray$5(J)&&remove$2$1(J,U):isArray$5(J)?J.includes(U)||J.push(U):X?(Z[E]=[U],setSetupRef(V,E,Z[E])):E.value=[U]}else if(X){if(F&&Z[E]!==U)return;Z[E]=Y,setSetupRef(V,E,W)}else if(K){if(F&&E.value!==U)return;E.value=W}}}}function setSetupRef(R,F,E){var V=R._setupState;V&&hasOwn$1(V,F)&&(isRef(V[F])?V[F].value=E:V[F]=E)}var emptyNode=new VNode("",{},[]),hooks$1=["create","activate","update","remove","destroy"];function sameVnode(R,F){return R.key===F.key&&R.asyncFactory===F.asyncFactory&&(R.tag===F.tag&&R.isComment===F.isComment&&isDef$1(R.data)===isDef$1(F.data)&&sameInputType(R,F)||isTrue(R.isAsyncPlaceholder)&&isUndef$1(F.asyncFactory.error))}function sameInputType(R,F){if(R.tag!=="input")return!0;var E,V=isDef$1(E=R.data)&&isDef$1(E=E.attrs)&&E.type,U=isDef$1(E=F.data)&&isDef$1(E=E.attrs)&&E.type;return V===U||isTextInputType(V)&&isTextInputType(U)}function createKeyToOldIdx$1(R,F,E){var V,U,W={};for(V=F;V<=E;++V)U=R[V].key,isDef$1(U)&&(W[U]=V);return W}function createPatchFunction(R){var F,E,V={},U=R.modules,W=R.nodeOps;for(F=0;F<hooks$1.length;++F)for(V[hooks$1[F]]=[],E=0;E<U.length;++E)isDef$1(U[E][hooks$1[F]])&&V[hooks$1[F]].push(U[E][hooks$1[F]]);function Y(pe){return new VNode(W.tagName(pe).toLowerCase(),{},[],void 0,pe)}function G(pe,_e){function Ce(){--Ce.listeners===0&&X(pe)}return Ce.listeners=_e,Ce}function X(pe){var _e=W.parentNode(pe);isDef$1(_e)&&W.removeChild(_e,pe)}function K(pe,_e,Ce,be,ge,we,Pe){if(isDef$1(pe.elm)&&isDef$1(we)&&(pe=we[Pe]=cloneVNode(pe)),pe.isRootInsert=!ge,!Z(pe,_e,Ce,be)){var Oe=pe.data,Ae=pe.children,Se=pe.tag;isDef$1(Se)?(pe.elm=pe.ns?W.createElementNS(pe.ns,Se):W.createElement(Se,pe),ae(pe),te(pe,Ae,_e),isDef$1(Oe)&&ne(pe,_e),ee(Ce,pe.elm,be)):isTrue(pe.isComment)?(pe.elm=W.createComment(pe.text),ee(Ce,pe.elm,be)):(pe.elm=W.createTextNode(pe.text),ee(Ce,pe.elm,be))}}function Z(pe,_e,Ce,be){var ge=pe.data;if(isDef$1(ge)){var we=isDef$1(pe.componentInstance)&&ge.keepAlive;if(isDef$1(ge=ge.hook)&&isDef$1(ge=ge.init)&&ge(pe,!1),isDef$1(pe.componentInstance))return J(pe,_e),ee(Ce,pe.elm,be),isTrue(we)&&Q(pe,_e,Ce,be),!0}}function J(pe,_e){isDef$1(pe.data.pendingInsert)&&(_e.push.apply(_e,pe.data.pendingInsert),pe.data.pendingInsert=null),pe.elm=pe.componentInstance.$el,ie(pe)?(ne(pe,_e),ae(pe)):(registerRef(pe),_e.push(pe))}function Q(pe,_e,Ce,be){for(var ge,we=pe;we.componentInstance;)if(we=we.componentInstance._vnode,isDef$1(ge=we.data)&&isDef$1(ge=ge.transition)){for(ge=0;ge<V.activate.length;++ge)V.activate[ge](emptyNode,we);_e.push(we);break}ee(Ce,pe.elm,be)}function ee(pe,_e,Ce){isDef$1(pe)&&(isDef$1(Ce)?W.parentNode(Ce)===pe&&W.insertBefore(pe,_e,Ce):W.appendChild(pe,_e))}function te(pe,_e,Ce){if(isArray$5(_e))for(var be=0;be<_e.length;++be)K(_e[be],Ce,pe.elm,null,!0,_e,be);else isPrimitive(pe.text)&&W.appendChild(pe.elm,W.createTextNode(String(pe.text)))}function ie(pe){for(;pe.componentInstance;)pe=pe.componentInstance._vnode;return isDef$1(pe.tag)}function ne(pe,_e){for(var Ce=0;Ce<V.create.length;++Ce)V.create[Ce](emptyNode,pe);F=pe.data.hook,isDef$1(F)&&(isDef$1(F.create)&&F.create(emptyNode,pe),isDef$1(F.insert)&&_e.push(pe))}function ae(pe){var _e;if(isDef$1(_e=pe.fnScopeId))W.setStyleScope(pe.elm,_e);else for(var Ce=pe;Ce;)isDef$1(_e=Ce.context)&&isDef$1(_e=_e.$options._scopeId)&&W.setStyleScope(pe.elm,_e),Ce=Ce.parent;isDef$1(_e=activeInstance)&&_e!==pe.context&&_e!==pe.fnContext&&isDef$1(_e=_e.$options._scopeId)&&W.setStyleScope(pe.elm,_e)}function se(pe,_e,Ce,be,ge,we){for(;be<=ge;++be)K(Ce[be],we,pe,_e,!1,Ce,be)}function oe(pe){var _e,Ce,be=pe.data;if(isDef$1(be))for(isDef$1(_e=be.hook)&&isDef$1(_e=_e.destroy)&&_e(pe),_e=0;_e<V.destroy.length;++_e)V.destroy[_e](pe);if(isDef$1(_e=pe.children))for(Ce=0;Ce<pe.children.length;++Ce)oe(pe.children[Ce])}function le(pe,_e,Ce){for(;_e<=Ce;++_e){var be=pe[_e];isDef$1(be)&&(isDef$1(be.tag)?(ue(be),oe(be)):X(be.elm))}}function ue(pe,_e){if(isDef$1(_e)||isDef$1(pe.data)){var Ce,be=V.remove.length+1;for(isDef$1(_e)?_e.listeners+=be:_e=G(pe.elm,be),isDef$1(Ce=pe.componentInstance)&&isDef$1(Ce=Ce._vnode)&&isDef$1(Ce.data)&&ue(Ce,_e),Ce=0;Ce<V.remove.length;++Ce)V.remove[Ce](pe,_e);isDef$1(Ce=pe.data.hook)&&isDef$1(Ce=Ce.remove)?Ce(pe,_e):_e()}else X(pe.elm)}function ce(pe,_e,Ce,be,ge){for(var we=0,Pe=0,Oe=_e.length-1,Ae=_e[0],Se=_e[Oe],ye=Ce.length-1,$e=Ce[0],ke=Ce[ye],Ee,Ie,Le,Be,Fe=!ge;we<=Oe&&Pe<=ye;)isUndef$1(Ae)?Ae=_e[++we]:isUndef$1(Se)?Se=_e[--Oe]:sameVnode(Ae,$e)?(de(Ae,$e,be,Ce,Pe),Ae=_e[++we],$e=Ce[++Pe]):sameVnode(Se,ke)?(de(Se,ke,be,Ce,ye),Se=_e[--Oe],ke=Ce[--ye]):sameVnode(Ae,ke)?(de(Ae,ke,be,Ce,ye),Fe&&W.insertBefore(pe,Ae.elm,W.nextSibling(Se.elm)),Ae=_e[++we],ke=Ce[--ye]):sameVnode(Se,$e)?(de(Se,$e,be,Ce,Pe),Fe&&W.insertBefore(pe,Se.elm,Ae.elm),Se=_e[--Oe],$e=Ce[++Pe]):(isUndef$1(Ee)&&(Ee=createKeyToOldIdx$1(_e,we,Oe)),Ie=isDef$1($e.key)?Ee[$e.key]:he($e,_e,we,Oe),isUndef$1(Ie)?K($e,be,pe,Ae.elm,!1,Ce,Pe):(Le=_e[Ie],sameVnode(Le,$e)?(de(Le,$e,be,Ce,Pe),_e[Ie]=void 0,Fe&&W.insertBefore(pe,Le.elm,Ae.elm)):K($e,be,pe,Ae.elm,!1,Ce,Pe)),$e=Ce[++Pe]);we>Oe?(Be=isUndef$1(Ce[ye+1])?null:Ce[ye+1].elm,se(pe,Be,Ce,Pe,ye,be)):Pe>ye&&le(_e,we,Oe)}function he(pe,_e,Ce,be){for(var ge=Ce;ge<be;ge++){var we=_e[ge];if(isDef$1(we)&&sameVnode(pe,we))return ge}}function de(pe,_e,Ce,be,ge,we){if(pe!==_e){isDef$1(_e.elm)&&isDef$1(be)&&(_e=be[ge]=cloneVNode(_e));var Pe=_e.elm=pe.elm;if(isTrue(pe.isAsyncPlaceholder)){isDef$1(_e.asyncFactory.resolved)?xe(pe.elm,_e,Ce):_e.isAsyncPlaceholder=!0;return}if(isTrue(_e.isStatic)&&isTrue(pe.isStatic)&&_e.key===pe.key&&(isTrue(_e.isCloned)||isTrue(_e.isOnce))){_e.componentInstance=pe.componentInstance;return}var Oe,Ae=_e.data;isDef$1(Ae)&&isDef$1(Oe=Ae.hook)&&isDef$1(Oe=Oe.prepatch)&&Oe(pe,_e);var Se=pe.children,ye=_e.children;if(isDef$1(Ae)&&ie(_e)){for(Oe=0;Oe<V.update.length;++Oe)V.update[Oe](pe,_e);isDef$1(Oe=Ae.hook)&&isDef$1(Oe=Oe.update)&&Oe(pe,_e)}isUndef$1(_e.text)?isDef$1(Se)&&isDef$1(ye)?Se!==ye&&ce(Pe,Se,ye,Ce,we):isDef$1(ye)?(isDef$1(pe.text)&&W.setTextContent(Pe,""),se(Pe,null,ye,0,ye.length-1,Ce)):isDef$1(Se)?le(Se,0,Se.length-1):isDef$1(pe.text)&&W.setTextContent(Pe,""):pe.text!==_e.text&&W.setTextContent(Pe,_e.text),isDef$1(Ae)&&isDef$1(Oe=Ae.hook)&&isDef$1(Oe=Oe.postpatch)&&Oe(pe,_e)}}function fe(pe,_e,Ce){if(isTrue(Ce)&&isDef$1(pe.parent))pe.parent.data.pendingInsert=_e;else for(var be=0;be<_e.length;++be)_e[be].data.hook.insert(_e[be])}var Te=makeMap("attrs,class,staticClass,staticStyle,key");function xe(pe,_e,Ce,be){var ge,we=_e.tag,Pe=_e.data,Oe=_e.children;if(be=be||Pe&&Pe.pre,_e.elm=pe,isTrue(_e.isComment)&&isDef$1(_e.asyncFactory))return _e.isAsyncPlaceholder=!0,!0;if(isDef$1(Pe)&&(isDef$1(ge=Pe.hook)&&isDef$1(ge=ge.init)&&ge(_e,!0),isDef$1(ge=_e.componentInstance)))return J(_e,Ce),!0;if(isDef$1(we)){if(isDef$1(Oe))if(!pe.hasChildNodes())te(_e,Oe,Ce);else if(isDef$1(ge=Pe)&&isDef$1(ge=ge.domProps)&&isDef$1(ge=ge.innerHTML)){if(ge!==pe.innerHTML)return!1}else{for(var Ae=!0,Se=pe.firstChild,ye=0;ye<Oe.length;ye++){if(!Se||!xe(Se,Oe[ye],Ce,be)){Ae=!1;break}Se=Se.nextSibling}if(!Ae||Se)return!1}if(isDef$1(Pe)){var $e=!1;for(var ke in Pe)if(!Te(ke)){$e=!0,ne(_e,Ce);break}!$e&&Pe.class&&traverse(Pe.class)}}else pe.data!==_e.text&&(pe.data=_e.text);return!0}return function(_e,Ce,be,ge){if(isUndef$1(Ce)){isDef$1(_e)&&oe(_e);return}var we=!1,Pe=[];if(isUndef$1(_e))we=!0,K(Ce,Pe);else{var Oe=isDef$1(_e.nodeType);if(!Oe&&sameVnode(_e,Ce))de(_e,Ce,Pe,null,null,ge);else{if(Oe){if(_e.nodeType===1&&_e.hasAttribute(SSR_ATTR)&&(_e.removeAttribute(SSR_ATTR),be=!0),isTrue(be)&&xe(_e,Ce,Pe))return fe(Ce,Pe,!0),_e;_e=Y(_e)}var Ae=_e.elm,Se=W.parentNode(Ae);if(K(Ce,Pe,Ae._leaveCb?null:Se,W.nextSibling(Ae)),isDef$1(Ce.parent))for(var ye=Ce.parent,$e=ie(Ce);ye;){for(var ke=0;ke<V.destroy.length;++ke)V.destroy[ke](ye);if(ye.elm=Ce.elm,$e){for(var Ee=0;Ee<V.create.length;++Ee)V.create[Ee](emptyNode,ye);var Ie=ye.data.hook.insert;if(Ie.merged)for(var Le=1;Le<Ie.fns.length;Le++)Ie.fns[Le]()}else registerRef(ye);ye=ye.parent}isDef$1(Se)?le([_e],0,0):isDef$1(_e.tag)&&oe(_e)}}return fe(Ce,Pe,we),Ce.elm}}var directives={create:updateDirectives,update:updateDirectives,destroy:function(F){updateDirectives(F,emptyNode)}};function updateDirectives(R,F){(R.data.directives||F.data.directives)&&_update(R,F)}function _update(R,F){var E=R===emptyNode,V=F===emptyNode,U=normalizeDirectives(R.data.directives,R.context),W=normalizeDirectives(F.data.directives,F.context),Y=[],G=[],X,K,Z;for(X in W)K=U[X],Z=W[X],K?(Z.oldValue=K.value,Z.oldArg=K.arg,callHook(Z,"update",F,R),Z.def&&Z.def.componentUpdated&&G.push(Z)):(callHook(Z,"bind",F,R),Z.def&&Z.def.inserted&&Y.push(Z));if(Y.length){var J=function(){for(var Q=0;Q<Y.length;Q++)callHook(Y[Q],"inserted",F,R)};E?mergeVNodeHook(F,"insert",J):J()}if(G.length&&mergeVNodeHook(F,"postpatch",function(){for(var Q=0;Q<G.length;Q++)callHook(G[Q],"componentUpdated",F,R)}),!E)for(X in U)W[X]||callHook(U[X],"unbind",R,R,V)}var emptyModifiers=Object.create(null);function normalizeDirectives(R,F){var E=Object.create(null);if(!R)return E;var V,U;for(V=0;V<R.length;V++)U=R[V],U.modifiers||(U.modifiers=emptyModifiers),E[getRawDirName(U)]=U,F._setupState&&F._setupState.__sfc&&(U.def=U.def||resolveAsset(F,"_setupState","v-"+U.name)),U.def=U.def||resolveAsset(F.$options,"directives",U.name);return E}function getRawDirName(R){return R.rawName||"".concat(R.name,".").concat(Object.keys(R.modifiers||{}).join("."))}function callHook(R,F,E,V,U){var W=R.def&&R.def[F];if(W)try{W(E.elm,R,E,V,U)}catch(Y){handleError(Y,E.context,"directive ".concat(R.name," ").concat(F," hook"))}}var baseModules=[ref,directives];function updateAttrs(R,F){var E=F.componentOptions;if(!(isDef$1(E)&&E.Ctor.options.inheritAttrs===!1)&&!(isUndef$1(R.data.attrs)&&isUndef$1(F.data.attrs))){var V,U,W,Y=F.elm,G=R.data.attrs||{},X=F.data.attrs||{};(isDef$1(X.__ob__)||isTrue(X._v_attr_proxy))&&(X=F.data.attrs=extend$6({},X));for(V in X)U=X[V],W=G[V],W!==U&&setAttr(Y,V,U,F.data.pre);(isIE$1||isEdge)&&X.value!==G.value&&setAttr(Y,"value",X.value);for(V in G)isUndef$1(X[V])&&(isXlink(V)?Y.removeAttributeNS(xlinkNS,getXlinkProp(V)):isEnumeratedAttr(V)||Y.removeAttribute(V))}}function setAttr(R,F,E,V){V||R.tagName.indexOf("-")>-1?baseSetAttr(R,F,E):isBooleanAttr(F)?isFalsyAttrValue(E)?R.removeAttribute(F):(E=F==="allowfullscreen"&&R.tagName==="EMBED"?"true":F,R.setAttribute(F,E)):isEnumeratedAttr(F)?R.setAttribute(F,convertEnumeratedValue(F,E)):isXlink(F)?isFalsyAttrValue(E)?R.removeAttributeNS(xlinkNS,getXlinkProp(F)):R.setAttributeNS(xlinkNS,F,E):baseSetAttr(R,F,E)}function baseSetAttr(R,F,E){if(isFalsyAttrValue(E))R.removeAttribute(F);else{if(isIE$1&&!isIE9&&R.tagName==="TEXTAREA"&&F==="placeholder"&&E!==""&&!R.__ieph){var V=function(U){U.stopImmediatePropagation(),R.removeEventListener("input",V)};R.addEventListener("input",V),R.__ieph=!0}R.setAttribute(F,E)}}var attrs={create:updateAttrs,update:updateAttrs};function updateClass(R,F){var E=F.elm,V=F.data,U=R.data;if(!(isUndef$1(V.staticClass)&&isUndef$1(V.class)&&(isUndef$1(U)||isUndef$1(U.staticClass)&&isUndef$1(U.class)))){var W=genClassForVnode(F),Y=E._transitionClasses;isDef$1(Y)&&(W=concat$1(W,stringifyClass(Y))),W!==E._prevClass&&(E.setAttribute("class",W),E._prevClass=W)}}var klass={create:updateClass,update:updateClass},RANGE_TOKEN="__r",CHECKBOX_RADIO_TOKEN="__c";function normalizeEvents(R){if(isDef$1(R[RANGE_TOKEN])){var F=isIE$1?"change":"input";R[F]=[].concat(R[RANGE_TOKEN],R[F]||[]),delete R[RANGE_TOKEN]}isDef$1(R[CHECKBOX_RADIO_TOKEN])&&(R.change=[].concat(R[CHECKBOX_RADIO_TOKEN],R.change||[]),delete R[CHECKBOX_RADIO_TOKEN])}var target$2;function createOnceHandler(R,F,E){var V=target$2;return function U(){var W=F.apply(null,arguments);W!==null&&remove$3(R,U,E,V)}}var useMicrotaskFix=isUsingMicroTask&&!(isFF&&Number(isFF[1])<=53);function add$5(R,F,E,V){if(useMicrotaskFix){var U=currentFlushTimestamp,W=F;F=W._wrapper=function(Y){if(Y.target===Y.currentTarget||Y.timeStamp>=U||Y.timeStamp<=0||Y.target.ownerDocument!==document)return W.apply(this,arguments)}}target$2.addEventListener(R,F,supportsPassive?{capture:E,passive:V}:E)}function remove$3(R,F,E,V){(V||target$2).removeEventListener(R,F._wrapper||F,E)}function updateDOMListeners(R,F){if(!(isUndef$1(R.data.on)&&isUndef$1(F.data.on))){var E=F.data.on||{},V=R.data.on||{};target$2=F.elm||R.elm,normalizeEvents(E),updateListeners(E,V,add$5,remove$3,createOnceHandler,F.context),target$2=void 0}}var events$1={create:updateDOMListeners,update:updateDOMListeners,destroy:function(R){return updateDOMListeners(R,emptyNode)}},svgContainer;function updateDOMProps(R,F){if(!(isUndef$1(R.data.domProps)&&isUndef$1(F.data.domProps))){var E,V,U=F.elm,W=R.data.domProps||{},Y=F.data.domProps||{};(isDef$1(Y.__ob__)||isTrue(Y._v_attr_proxy))&&(Y=F.data.domProps=extend$6({},Y));for(E in W)E in Y||(U[E]="");for(E in Y){if(V=Y[E],E==="textContent"||E==="innerHTML"){if(F.children&&(F.children.length=0),V===W[E])continue;U.childNodes.length===1&&U.removeChild(U.childNodes[0])}if(E==="value"&&U.tagName!=="PROGRESS"){U._value=V;var G=isUndef$1(V)?"":String(V);shouldUpdateValue(U,G)&&(U.value=G)}else if(E==="innerHTML"&&isSVG(U.tagName)&&isUndef$1(U.innerHTML)){svgContainer=svgContainer||document.createElement("div"),svgContainer.innerHTML="<svg>".concat(V,"</svg>");for(var X=svgContainer.firstChild;U.firstChild;)U.removeChild(U.firstChild);for(;X.firstChild;)U.appendChild(X.firstChild)}else if(V!==W[E])try{U[E]=V}catch{}}}}function shouldUpdateValue(R,F){return!R.composing&&(R.tagName==="OPTION"||isNotInFocusAndDirty(R,F)||isDirtyWithModifiers(R,F))}function isNotInFocusAndDirty(R,F){var E=!0;try{E=document.activeElement!==R}catch{}return E&&R.value!==F}function isDirtyWithModifiers(R,F){var E=R.value,V=R._vModifiers;if(isDef$1(V)){if(V.number)return toNumber$3(E)!==toNumber$3(F);if(V.trim)return E.trim()!==F.trim()}return E!==F}var domProps={create:updateDOMProps,update:updateDOMProps},parseStyleText=cached(function(R){var F={},E=/;(?![^(]*\))/g,V=/:(.+)/;return R.split(E).forEach(function(U){if(U){var W=U.split(V);W.length>1&&(F[W[0].trim()]=W[1].trim())}}),F});function normalizeStyleData(R){var F=normalizeStyleBinding(R.style);return R.staticStyle?extend$6(R.staticStyle,F):F}function normalizeStyleBinding(R){return Array.isArray(R)?toObject$1(R):typeof R=="string"?parseStyleText(R):R}function getStyle(R,F){var E={},V;if(F)for(var U=R;U.componentInstance;)U=U.componentInstance._vnode,U&&U.data&&(V=normalizeStyleData(U.data))&&extend$6(E,V);(V=normalizeStyleData(R.data))&&extend$6(E,V);for(var W=R;W=W.parent;)W.data&&(V=normalizeStyleData(W.data))&&extend$6(E,V);return E}var cssVarRE=/^--/,importantRE=/\s*!important$/,setProp=function(R,F,E){if(cssVarRE.test(F))R.style.setProperty(F,E);else if(importantRE.test(E))R.style.setProperty(hyphenate(F),E.replace(importantRE,""),"important");else{var V=normalize$1(F);if(Array.isArray(E))for(var U=0,W=E.length;U<W;U++)R.style[V]=E[U];else R.style[V]=E}},vendorNames=["Webkit","Moz","ms"],emptyStyle,normalize$1=cached(function(R){if(emptyStyle=emptyStyle||document.createElement("div").style,R=camelize(R),R!=="filter"&&R in emptyStyle)return R;for(var F=R.charAt(0).toUpperCase()+R.slice(1),E=0;E<vendorNames.length;E++){var V=vendorNames[E]+F;if(V in emptyStyle)return V}});function updateStyle(R,F){var E=F.data,V=R.data;if(!(isUndef$1(E.staticStyle)&&isUndef$1(E.style)&&isUndef$1(V.staticStyle)&&isUndef$1(V.style))){var U,W,Y=F.elm,G=V.staticStyle,X=V.normalizedStyle||V.style||{},K=G||X,Z=normalizeStyleBinding(F.data.style)||{};F.data.normalizedStyle=isDef$1(Z.__ob__)?extend$6({},Z):Z;var J=getStyle(F,!0);for(W in K)isUndef$1(J[W])&&setProp(Y,W,"");for(W in J)U=J[W],U!==K[W]&&setProp(Y,W,U==null?"":U)}}var style={create:updateStyle,update:updateStyle},whitespaceRE=/\s+/;function addClass$1(R,F){if(!(!F||!(F=F.trim())))if(R.classList)F.indexOf(" ")>-1?F.split(whitespaceRE).forEach(function(V){return R.classList.add(V)}):R.classList.add(F);else{var E=" ".concat(R.getAttribute("class")||""," ");E.indexOf(" "+F+" ")<0&&R.setAttribute("class",(E+F).trim())}}function removeClass$1(R,F){if(!(!F||!(F=F.trim())))if(R.classList)F.indexOf(" ")>-1?F.split(whitespaceRE).forEach(function(U){return R.classList.remove(U)}):R.classList.remove(F),R.classList.length||R.removeAttribute("class");else{for(var E=" ".concat(R.getAttribute("class")||""," "),V=" "+F+" ";E.indexOf(V)>=0;)E=E.replace(V," ");E=E.trim(),E?R.setAttribute("class",E):R.removeAttribute("class")}}function resolveTransition(R){if(!!R){if(typeof R=="object"){var F={};return R.css!==!1&&extend$6(F,autoCssTransition(R.name||"v")),extend$6(F,R),F}else if(typeof R=="string")return autoCssTransition(R)}}var autoCssTransition=cached(function(R){return{enterClass:"".concat(R,"-enter"),enterToClass:"".concat(R,"-enter-to"),enterActiveClass:"".concat(R,"-enter-active"),leaveClass:"".concat(R,"-leave"),leaveToClass:"".concat(R,"-leave-to"),leaveActiveClass:"".concat(R,"-leave-active")}}),hasTransition=inBrowser$1&&!isIE9,TRANSITION="transition",ANIMATION="animation",transitionProp="transition",transitionEndEvent="transitionend",animationProp="animation",animationEndEvent="animationend";hasTransition&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(transitionProp="WebkitTransition",transitionEndEvent="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(animationProp="WebkitAnimation",animationEndEvent="webkitAnimationEnd"));var raf$1=inBrowser$1?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(R){return R()};function nextFrame(R){raf$1(function(){raf$1(R)})}function addTransitionClass(R,F){var E=R._transitionClasses||(R._transitionClasses=[]);E.indexOf(F)<0&&(E.push(F),addClass$1(R,F))}function removeTransitionClass(R,F){R._transitionClasses&&remove$2$1(R._transitionClasses,F),removeClass$1(R,F)}function whenTransitionEnds(R,F,E){var V=getTransitionInfo(R,F),U=V.type,W=V.timeout,Y=V.propCount;if(!U)return E();var G=U===TRANSITION?transitionEndEvent:animationEndEvent,X=0,K=function(){R.removeEventListener(G,Z),E()},Z=function(J){J.target===R&&++X>=Y&&K()};setTimeout(function(){X<Y&&K()},W+1),R.addEventListener(G,Z)}var transformRE=/\b(transform|all)(,|$)/;function getTransitionInfo(R,F){var E=window.getComputedStyle(R),V=(E[transitionProp+"Delay"]||"").split(", "),U=(E[transitionProp+"Duration"]||"").split(", "),W=getTimeout(V,U),Y=(E[animationProp+"Delay"]||"").split(", "),G=(E[animationProp+"Duration"]||"").split(", "),X=getTimeout(Y,G),K,Z=0,J=0;F===TRANSITION?W>0&&(K=TRANSITION,Z=W,J=U.length):F===ANIMATION?X>0&&(K=ANIMATION,Z=X,J=G.length):(Z=Math.max(W,X),K=Z>0?W>X?TRANSITION:ANIMATION:null,J=K?K===TRANSITION?U.length:G.length:0);var Q=K===TRANSITION&&transformRE.test(E[transitionProp+"Property"]);return{type:K,timeout:Z,propCount:J,hasTransform:Q}}function getTimeout(R,F){for(;R.length<F.length;)R=R.concat(R);return Math.max.apply(null,F.map(function(E,V){return toMs(E)+toMs(R[V])}))}function toMs(R){return Number(R.slice(0,-1).replace(",","."))*1e3}function enter(R,F){var E=R.elm;isDef$1(E._leaveCb)&&(E._leaveCb.cancelled=!0,E._leaveCb());var V=resolveTransition(R.data.transition);if(!isUndef$1(V)&&!(isDef$1(E._enterCb)||E.nodeType!==1)){for(var U=V.css,W=V.type,Y=V.enterClass,G=V.enterToClass,X=V.enterActiveClass,K=V.appearClass,Z=V.appearToClass,J=V.appearActiveClass,Q=V.beforeEnter,ee=V.enter,te=V.afterEnter,ie=V.enterCancelled,ne=V.beforeAppear,ae=V.appear,se=V.afterAppear,oe=V.appearCancelled,le=V.duration,ue=activeInstance,ce=activeInstance.$vnode;ce&&ce.parent;)ue=ce.context,ce=ce.parent;var he=!ue._isMounted||!R.isRootInsert;if(!(he&&!ae&&ae!=="")){var de=he&&K?K:Y,fe=he&&J?J:X,Te=he&&Z?Z:G,xe=he&&ne||Q,pe=he&&isFunction$4(ae)?ae:ee,_e=he&&se||te,Ce=he&&oe||ie,be=toNumber$3(isObject$c(le)?le.enter:le),ge=U!==!1&&!isIE9,we=getHookArgumentsLength(pe),Pe=E._enterCb=once$1(function(){ge&&(removeTransitionClass(E,Te),removeTransitionClass(E,fe)),Pe.cancelled?(ge&&removeTransitionClass(E,de),Ce&&Ce(E)):_e&&_e(E),E._enterCb=null});R.data.show||mergeVNodeHook(R,"insert",function(){var Oe=E.parentNode,Ae=Oe&&Oe._pending&&Oe._pending[R.key];Ae&&Ae.tag===R.tag&&Ae.elm._leaveCb&&Ae.elm._leaveCb(),pe&&pe(E,Pe)}),xe&&xe(E),ge&&(addTransitionClass(E,de),addTransitionClass(E,fe),nextFrame(function(){removeTransitionClass(E,de),Pe.cancelled||(addTransitionClass(E,Te),we||(isValidDuration(be)?setTimeout(Pe,be):whenTransitionEnds(E,W,Pe)))})),R.data.show&&(F&&F(),pe&&pe(E,Pe)),!ge&&!we&&Pe()}}}function leave(R,F){var E=R.elm;isDef$1(E._enterCb)&&(E._enterCb.cancelled=!0,E._enterCb());var V=resolveTransition(R.data.transition);if(isUndef$1(V)||E.nodeType!==1)return F();if(isDef$1(E._leaveCb))return;var U=V.css,W=V.type,Y=V.leaveClass,G=V.leaveToClass,X=V.leaveActiveClass,K=V.beforeLeave,Z=V.leave,J=V.afterLeave,Q=V.leaveCancelled,ee=V.delayLeave,te=V.duration,ie=U!==!1&&!isIE9,ne=getHookArgumentsLength(Z),ae=toNumber$3(isObject$c(te)?te.leave:te),se=E._leaveCb=once$1(function(){E.parentNode&&E.parentNode._pending&&(E.parentNode._pending[R.key]=null),ie&&(removeTransitionClass(E,G),removeTransitionClass(E,X)),se.cancelled?(ie&&removeTransitionClass(E,Y),Q&&Q(E)):(F(),J&&J(E)),E._leaveCb=null});ee?ee(oe):oe();function oe(){se.cancelled||(!R.data.show&&E.parentNode&&((E.parentNode._pending||(E.parentNode._pending={}))[R.key]=R),K&&K(E),ie&&(addTransitionClass(E,Y),addTransitionClass(E,X),nextFrame(function(){removeTransitionClass(E,Y),se.cancelled||(addTransitionClass(E,G),ne||(isValidDuration(ae)?setTimeout(se,ae):whenTransitionEnds(E,W,se)))})),Z&&Z(E,se),!ie&&!ne&&se())}}function isValidDuration(R){return typeof R=="number"&&!isNaN(R)}function getHookArgumentsLength(R){if(isUndef$1(R))return!1;var F=R.fns;return isDef$1(F)?getHookArgumentsLength(Array.isArray(F)?F[0]:F):(R._length||R.length)>1}function _enter(R,F){F.data.show!==!0&&enter(F)}var transition=inBrowser$1?{create:_enter,activate:_enter,remove:function(R,F){R.data.show!==!0?leave(R,F):F()}}:{},platformModules=[attrs,klass,events$1,domProps,style,transition],modules=platformModules.concat(baseModules),patch=createPatchFunction({nodeOps,modules});isIE9&&document.addEventListener("selectionchange",function(){var R=document.activeElement;R&&R.vmodel&&trigger(R,"input")});var directive={inserted:function(R,F,E,V){E.tag==="select"?(V.elm&&!V.elm._vOptions?mergeVNodeHook(E,"postpatch",function(){directive.componentUpdated(R,F,E)}):setSelected(R,F,E.context),R._vOptions=[].map.call(R.options,getValue$1)):(E.tag==="textarea"||isTextInputType(R.type))&&(R._vModifiers=F.modifiers,F.modifiers.lazy||(R.addEventListener("compositionstart",onCompositionStart),R.addEventListener("compositionend",onCompositionEnd),R.addEventListener("change",onCompositionEnd),isIE9&&(R.vmodel=!0)))},componentUpdated:function(R,F,E){if(E.tag==="select"){setSelected(R,F,E.context);var V=R._vOptions,U=R._vOptions=[].map.call(R.options,getValue$1);if(U.some(function(Y,G){return!looseEqual$1(Y,V[G])})){var W=R.multiple?F.value.some(function(Y){return hasNoMatchingOption(Y,U)}):F.value!==F.oldValue&&hasNoMatchingOption(F.value,U);W&&trigger(R,"change")}}}};function setSelected(R,F,E){actuallySetSelected(R,F),(isIE$1||isEdge)&&setTimeout(function(){actuallySetSelected(R,F)},0)}function actuallySetSelected(R,F,E){var V=F.value,U=R.multiple;if(!(U&&!Array.isArray(V))){for(var W,Y,G=0,X=R.options.length;G<X;G++)if(Y=R.options[G],U)W=looseIndexOf(V,getValue$1(Y))>-1,Y.selected!==W&&(Y.selected=W);else if(looseEqual$1(getValue$1(Y),V)){R.selectedIndex!==G&&(R.selectedIndex=G);return}U||(R.selectedIndex=-1)}}function hasNoMatchingOption(R,F){return F.every(function(E){return!looseEqual$1(E,R)})}function getValue$1(R){return"_value"in R?R._value:R.value}function onCompositionStart(R){R.target.composing=!0}function onCompositionEnd(R){!R.target.composing||(R.target.composing=!1,trigger(R.target,"input"))}function trigger(R,F){var E=document.createEvent("HTMLEvents");E.initEvent(F,!0,!0),R.dispatchEvent(E)}function locateNode(R){return R.componentInstance&&(!R.data||!R.data.transition)?locateNode(R.componentInstance._vnode):R}var show$2={bind:function(R,F,E){var V=F.value;E=locateNode(E);var U=E.data&&E.data.transition,W=R.__vOriginalDisplay=R.style.display==="none"?"":R.style.display;V&&U?(E.data.show=!0,enter(E,function(){R.style.display=W})):R.style.display=V?W:"none"},update:function(R,F,E){var V=F.value,U=F.oldValue;if(!V!=!U){E=locateNode(E);var W=E.data&&E.data.transition;W?(E.data.show=!0,V?enter(E,function(){R.style.display=R.__vOriginalDisplay}):leave(E,function(){R.style.display="none"})):R.style.display=V?R.__vOriginalDisplay:"none"}},unbind:function(R,F,E,V,U){U||(R.style.display=R.__vOriginalDisplay)}},platformDirectives={model:directive,show:show$2},transitionProps={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function getRealChild(R){var F=R&&R.componentOptions;return F&&F.Ctor.options.abstract?getRealChild(getFirstComponentChild(F.children)):R}function extractTransitionData(R){var F={},E=R.$options;for(var V in E.propsData)F[V]=R[V];var U=E._parentListeners;for(var V in U)F[camelize(V)]=U[V];return F}function placeholder(R,F){if(/\d-keep-alive$/.test(F.tag))return R("keep-alive",{props:F.componentOptions.propsData})}function hasParentTransition(R){for(;R=R.parent;)if(R.data.transition)return!0}function isSameChild(R,F){return F.key===R.key&&F.tag===R.tag}var isNotTextNode=function(R){return R.tag||isAsyncPlaceholder(R)},isVShowDirective=function(R){return R.name==="show"},Transition$1={name:"transition",props:transitionProps,abstract:!0,render:function(R){var F=this,E=this.$slots.default;if(!!E&&(E=E.filter(isNotTextNode),!!E.length)){var V=this.mode,U=E[0];if(hasParentTransition(this.$vnode))return U;var W=getRealChild(U);if(!W)return U;if(this._leaving)return placeholder(R,U);var Y="__transition-".concat(this._uid,"-");W.key=W.key==null?W.isComment?Y+"comment":Y+W.tag:isPrimitive(W.key)?String(W.key).indexOf(Y)===0?W.key:Y+W.key:W.key;var G=(W.data||(W.data={})).transition=extractTransitionData(this),X=this._vnode,K=getRealChild(X);if(W.data.directives&&W.data.directives.some(isVShowDirective)&&(W.data.show=!0),K&&K.data&&!isSameChild(W,K)&&!isAsyncPlaceholder(K)&&!(K.componentInstance&&K.componentInstance._vnode.isComment)){var Z=K.data.transition=extend$6({},G);if(V==="out-in")return this._leaving=!0,mergeVNodeHook(Z,"afterLeave",function(){F._leaving=!1,F.$forceUpdate()}),placeholder(R,U);if(V==="in-out"){if(isAsyncPlaceholder(W))return X;var J,Q=function(){J()};mergeVNodeHook(G,"afterEnter",Q),mergeVNodeHook(G,"enterCancelled",Q),mergeVNodeHook(Z,"delayLeave",function(ee){J=ee})}}return U}}},props$1=extend$6({tag:String,moveClass:String},transitionProps);delete props$1.mode;var TransitionGroup={props:props$1,beforeMount:function(){var R=this,F=this._update;this._update=function(E,V){var U=setActiveInstance(R);R.__patch__(R._vnode,R.kept,!1,!0),R._vnode=R.kept,U(),F.call(R,E,V)}},render:function(R){for(var F=this.tag||this.$vnode.data.tag||"span",E=Object.create(null),V=this.prevChildren=this.children,U=this.$slots.default||[],W=this.children=[],Y=extractTransitionData(this),G=0;G<U.length;G++){var X=U[G];X.tag&&X.key!=null&&String(X.key).indexOf("__vlist")!==0&&(W.push(X),E[X.key]=X,(X.data||(X.data={})).transition=Y)}if(V){for(var K=[],Z=[],G=0;G<V.length;G++){var X=V[G];X.data.transition=Y,X.data.pos=X.elm.getBoundingClientRect(),E[X.key]?K.push(X):Z.push(X)}this.kept=R(F,null,K),this.removed=Z}return R(F,null,W)},updated:function(){var R=this.prevChildren,F=this.moveClass||(this.name||"v")+"-move";!R.length||!this.hasMove(R[0].elm,F)||(R.forEach(callPendingCbs),R.forEach(recordPosition),R.forEach(applyTranslation),this._reflow=document.body.offsetHeight,R.forEach(function(E){if(E.data.moved){var V=E.elm,U=V.style;addTransitionClass(V,F),U.transform=U.WebkitTransform=U.transitionDuration="",V.addEventListener(transitionEndEvent,V._moveCb=function W(Y){Y&&Y.target!==V||(!Y||/transform$/.test(Y.propertyName))&&(V.removeEventListener(transitionEndEvent,W),V._moveCb=null,removeTransitionClass(V,F))})}}))},methods:{hasMove:function(R,F){if(!hasTransition)return!1;if(this._hasMove)return this._hasMove;var E=R.cloneNode();R._transitionClasses&&R._transitionClasses.forEach(function(U){removeClass$1(E,U)}),addClass$1(E,F),E.style.display="none",this.$el.appendChild(E);var V=getTransitionInfo(E);return this.$el.removeChild(E),this._hasMove=V.hasTransform}}};function callPendingCbs(R){R.elm._moveCb&&R.elm._moveCb(),R.elm._enterCb&&R.elm._enterCb()}function recordPosition(R){R.data.newPos=R.elm.getBoundingClientRect()}function applyTranslation(R){var F=R.data.pos,E=R.data.newPos,V=F.left-E.left,U=F.top-E.top;if(V||U){R.data.moved=!0;var W=R.elm.style;W.transform=W.WebkitTransform="translate(".concat(V,"px,").concat(U,"px)"),W.transitionDuration="0s"}}var platformComponents={Transition:Transition$1,TransitionGroup};Vue$2.config.mustUseProp=mustUseProp;Vue$2.config.isReservedTag=isReservedTag;Vue$2.config.isReservedAttr=isReservedAttr;Vue$2.config.getTagNamespace=getTagNamespace;Vue$2.config.isUnknownElement=isUnknownElement;extend$6(Vue$2.options.directives,platformDirectives);extend$6(Vue$2.options.components,platformComponents);Vue$2.prototype.__patch__=inBrowser$1?patch:noop$4;Vue$2.prototype.$mount=function(R,F){return R=R&&inBrowser$1?query(R):void 0,mountComponent(this,R,F)};inBrowser$1&&setTimeout(function(){config$1.devtools&&devtools&&devtools.emit("init",Vue$2)},0);const scriptRel="modulepreload",assetsURL=function(R){return"/"+R},seen={},__vitePreload=function(F,E,V){if(!E||E.length===0)return F();const U=document.getElementsByTagName("link");return Promise.all(E.map(W=>{if(W=assetsURL(W),W in seen)return;seen[W]=!0;const Y=W.endsWith(".css"),G=Y?'[rel="stylesheet"]':"";if(!!V)for(let Z=U.length-1;Z>=0;Z--){const J=U[Z];if(J.href===W&&(!Y||J.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${W}"]${G}`))return;const K=document.createElement("link");if(K.rel=Y?"stylesheet":scriptRel,Y||(K.as="script",K.crossOrigin=""),K.href=W,document.head.appendChild(K),Y)return new Promise((Z,J)=>{K.addEventListener("load",Z),K.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${W}`)))})})).then(()=>F())};var Vue2=Vue$2;Vue$2.util.warn;function tryOnScopeDispose(R){return getCurrentScope()?(onScopeDispose(R),!0):!1}function toValue(R){return typeof R=="function"?R():unref(R)}const isClient=typeof window<"u"&&typeof document<"u",toString$3=Object.prototype.toString,isObject$b=R=>toString$3.call(R)==="[object Object]",noop$3=()=>{};function createFilterWrapper(R,F){function E(...V){return new Promise((U,W)=>{Promise.resolve(R(()=>F.apply(this,V),{fn:F,thisArg:this,args:V})).then(U).catch(W)})}return E}const bypassFilter=R=>R();function debounceFilter(R,F={}){let E,V,U=noop$3;const W=G=>{clearTimeout(G),U(),U=noop$3};return G=>{const X=toValue(R),K=toValue(F.maxWait);return E&&W(E),X<=0||K!==void 0&&K<=0?(V&&(W(V),V=null),Promise.resolve(G())):new Promise((Z,J)=>{U=F.rejectOnCancel?J:Z,K&&!V&&(V=setTimeout(()=>{E&&W(E),V=null,Z(G())},K)),E=setTimeout(()=>{V&&W(V),V=null,Z(G())},X)})}}function throttleFilter(R,F=!0,E=!0,V=!1){let U=0,W,Y=!0,G=noop$3,X;const K=()=>{W&&(clearTimeout(W),W=void 0,G(),G=noop$3)};return J=>{const Q=toValue(R),ee=Date.now()-U,te=()=>X=J();return K(),Q<=0?(U=Date.now(),te()):(ee>Q&&(E||!Y)?(U=Date.now(),te()):F&&(X=new Promise((ie,ne)=>{G=V?ne:ie,W=setTimeout(()=>{U=Date.now(),Y=!0,ie(te()),K()},Math.max(0,Q-ee))})),!E&&!W&&(W=setTimeout(()=>Y=!0,Q)),Y=!1,X)}}function pausableFilter(R=bypassFilter){const F=ref$1(!0);function E(){F.value=!1}function V(){F.value=!0}const U=(...W)=>{F.value&&R(...W)};return{isActive:readonly(F),pause:E,resume:V,eventFilter:U}}function useDebounceFn(R,F=200,E={}){return createFilterWrapper(debounceFilter(F,E),R)}function useThrottleFn(R,F=200,E=!1,V=!0,U=!1){return createFilterWrapper(throttleFilter(F,E,V,U),R)}function watchWithFilter(R,F,E={}){const{eventFilter:V=bypassFilter,...U}=E;return watch(R,createFilterWrapper(V,F),U)}function watchPausable(R,F,E={}){const{eventFilter:V,...U}=E,{eventFilter:W,pause:Y,resume:G,isActive:X}=pausableFilter(V);return{stop:watchWithFilter(R,F,{...U,eventFilter:W}),pause:Y,resume:G,isActive:X}}function tryOnMounted(R,F=!0){getCurrentInstance()?onMounted(R):F?R():nextTick(R)}function unrefElement(R){var F;const E=toValue(R);return(F=E==null?void 0:E.$el)!=null?F:E}const defaultWindow=isClient?window:void 0;isClient&&window.document;isClient&&window.navigator;isClient&&window.location;function useEventListener(...R){let F,E,V,U;if(typeof R[0]=="string"||Array.isArray(R[0])?([E,V,U]=R,F=defaultWindow):[F,E,V,U]=R,!F)return noop$3;Array.isArray(E)||(E=[E]),Array.isArray(V)||(V=[V]);const W=[],Y=()=>{W.forEach(Z=>Z()),W.length=0},G=(Z,J,Q,ee)=>(Z.addEventListener(J,Q,ee),()=>Z.removeEventListener(J,Q,ee)),X=watch(()=>[unrefElement(F),toValue(U)],([Z,J])=>{if(Y(),!Z)return;const Q=isObject$b(J)?{...J}:J;W.push(...E.flatMap(ee=>V.map(te=>G(Z,ee,te,Q))))},{immediate:!0,flush:"post"}),K=()=>{X(),Y()};return tryOnScopeDispose(K),K}function useMounted(){const R=ref$1(!1);return getCurrentInstance()&&onMounted(()=>{R.value=!0}),R}function useSupported(R){const F=useMounted();return computed(()=>(F.value,Boolean(R())))}const _global$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__",handlers=getHandlers();function getHandlers(){return globalKey in _global$2||(_global$2[globalKey]=_global$2[globalKey]||{}),_global$2[globalKey]}function getSSRHandler(R,F){return handlers[R]||F}function guessSerializerType(R){return R==null?"any":R instanceof Set?"set":R instanceof Map?"map":R instanceof Date?"date":typeof R=="boolean"?"boolean":typeof R=="string"?"string":typeof R=="object"?"object":Number.isNaN(R)?"any":"number"}const StorageSerializers={boolean:{read:R=>R==="true",write:R=>String(R)},object:{read:R=>JSON.parse(R),write:R=>JSON.stringify(R)},number:{read:R=>Number.parseFloat(R),write:R=>String(R)},any:{read:R=>R,write:R=>String(R)},string:{read:R=>R,write:R=>String(R)},map:{read:R=>new Map(JSON.parse(R)),write:R=>JSON.stringify(Array.from(R.entries()))},set:{read:R=>new Set(JSON.parse(R)),write:R=>JSON.stringify(Array.from(R))},date:{read:R=>new Date(R),write:R=>R.toISOString()}},customStorageEventName="vueuse-storage";function useStorage(R,F,E,V={}){var U;const{flush:W="pre",deep:Y=!0,listenToStorageChanges:G=!0,writeDefaults:X=!0,mergeDefaults:K=!1,shallow:Z,window:J=defaultWindow,eventFilter:Q,onError:ee=de=>{console.error(de)}}=V,te=(Z?shallowRef:ref$1)(F);if(!E)try{E=getSSRHandler("getDefaultStorage",()=>{var de;return(de=defaultWindow)==null?void 0:de.localStorage})()}catch(de){ee(de)}if(!E)return te;const ie=toValue(F),ne=guessSerializerType(ie),ae=(U=V.serializer)!=null?U:StorageSerializers[ne],{pause:se,resume:oe}=watchPausable(te,()=>le(te.value),{flush:W,deep:Y,eventFilter:Q});return J&&G&&(useEventListener(J,"storage",he),useEventListener(J,customStorageEventName,ce)),he(),te;function le(de){try{if(de==null)E.removeItem(R);else{const fe=ae.write(de),Te=E.getItem(R);Te!==fe&&(E.setItem(R,fe),J&&J.dispatchEvent(new CustomEvent(customStorageEventName,{detail:{key:R,oldValue:Te,newValue:fe,storageArea:E}})))}}catch(fe){ee(fe)}}function ue(de){const fe=de?de.newValue:E.getItem(R);if(fe==null)return X&&ie!==null&&E.setItem(R,ae.write(ie)),ie;if(!de&&K){const Te=ae.read(fe);return typeof K=="function"?K(Te,ie):ne==="object"&&!Array.isArray(Te)?{...ie,...Te}:Te}else return typeof fe!="string"?fe:ae.read(fe)}function ce(de){he(de.detail)}function he(de){if(!(de&&de.storageArea!==E)){if(de&&de.key==null){te.value=ie;return}if(!(de&&de.key!==R)){se();try{(de==null?void 0:de.newValue)!==ae.write(te.value)&&(te.value=ue(de))}catch(fe){ee(fe)}finally{de?nextTick(oe):oe()}}}}}function useResizeObserver(R,F,E={}){const{window:V=defaultWindow,...U}=E;let W;const Y=useSupported(()=>V&&"ResizeObserver"in V),G=()=>{W&&(W.disconnect(),W=void 0)},X=computed(()=>Array.isArray(R)?R.map(J=>unrefElement(J)):[unrefElement(R)]),K=watch(X,J=>{if(G(),Y.value&&V){W=new ResizeObserver(F);for(const Q of J)Q&&W.observe(Q,U)}},{immediate:!0,flush:"post",deep:!0}),Z=()=>{G(),K()};return tryOnScopeDispose(Z),{isSupported:Y,stop:Z}}function useElementBounding(R,F={}){const{reset:E=!0,windowResize:V=!0,windowScroll:U=!0,immediate:W=!0}=F,Y=ref$1(0),G=ref$1(0),X=ref$1(0),K=ref$1(0),Z=ref$1(0),J=ref$1(0),Q=ref$1(0),ee=ref$1(0);function te(){const ie=unrefElement(R);if(!ie){E&&(Y.value=0,G.value=0,X.value=0,K.value=0,Z.value=0,J.value=0,Q.value=0,ee.value=0);return}const ne=ie.getBoundingClientRect();Y.value=ne.height,G.value=ne.bottom,X.value=ne.left,K.value=ne.right,Z.value=ne.top,J.value=ne.width,Q.value=ne.x,ee.value=ne.y}return useResizeObserver(R,te),watch(()=>unrefElement(R),ie=>!ie&&te()),U&&useEventListener("scroll",te,{capture:!0,passive:!0}),V&&useEventListener("resize",te,{passive:!0}),tryOnMounted(()=>{W&&te()}),{height:Y,bottom:G,left:X,right:K,top:Z,width:J,x:Q,y:ee,update:te}}function useElementSize(R,F={width:0,height:0},E={}){const{window:V=defaultWindow,box:U="content-box"}=E,W=computed(()=>{var X,K;return(K=(X=unrefElement(R))==null?void 0:X.namespaceURI)==null?void 0:K.includes("svg")}),Y=ref$1(F.width),G=ref$1(F.height);return useResizeObserver(R,([X])=>{const K=U==="border-box"?X.borderBoxSize:U==="content-box"?X.contentBoxSize:X.devicePixelContentBoxSize;if(V&&W.value){const Z=unrefElement(R);if(Z){const J=V.getComputedStyle(Z);Y.value=Number.parseFloat(J.width),G.value=Number.parseFloat(J.height)}}else if(K){const Z=Array.isArray(K)?K:[K];Y.value=Z.reduce((J,{inlineSize:Q})=>J+Q,0),G.value=Z.reduce((J,{blockSize:Q})=>J+Q,0)}else Y.value=X.contentRect.width,G.value=X.contentRect.height},E),watch(()=>unrefElement(R),X=>{Y.value=X?F.width:0,G.value=X?F.height:0}),{width:Y,height:G}}const ARRIVED_STATE_THRESHOLD_PIXELS=1;function useScroll(R,F={}){const{throttle:E=0,idle:V=200,onStop:U=noop$3,onScroll:W=noop$3,offset:Y={left:0,right:0,top:0,bottom:0},eventListenerOptions:G={capture:!1,passive:!0},behavior:X="auto",window:K=defaultWindow}=F,Z=ref$1(0),J=ref$1(0),Q=computed({get(){return Z.value},set(ce){te(ce,void 0)}}),ee=computed({get(){return J.value},set(ce){te(void 0,ce)}});function te(ce,he){var de,fe,Te;if(!K)return;const xe=toValue(R);!xe||(Te=xe instanceof Document?K.document.body:xe)==null||Te.scrollTo({top:(de=toValue(he))!=null?de:ee.value,left:(fe=toValue(ce))!=null?fe:Q.value,behavior:toValue(X)})}const ie=ref$1(!1),ne=reactive({left:!0,right:!1,top:!0,bottom:!1}),ae=reactive({left:!1,right:!1,top:!1,bottom:!1}),se=ce=>{!ie.value||(ie.value=!1,ae.left=!1,ae.right=!1,ae.top=!1,ae.bottom=!1,U(ce))},oe=useDebounceFn(se,E+V),le=ce=>{var he;if(!K)return;const de=ce.document?ce.document.documentElement:(he=ce.documentElement)!=null?he:ce,{display:fe,flexDirection:Te}=getComputedStyle(de),xe=de.scrollLeft;ae.left=xe<Z.value,ae.right=xe>Z.value;const pe=Math.abs(xe)<=0+(Y.left||0),_e=Math.abs(xe)+de.clientWidth>=de.scrollWidth-(Y.right||0)-ARRIVED_STATE_THRESHOLD_PIXELS;fe==="flex"&&Te==="row-reverse"?(ne.left=_e,ne.right=pe):(ne.left=pe,ne.right=_e),Z.value=xe;let Ce=de.scrollTop;ce===K.document&&!Ce&&(Ce=K.document.body.scrollTop),ae.top=Ce<J.value,ae.bottom=Ce>J.value;const be=Math.abs(Ce)<=0+(Y.top||0),ge=Math.abs(Ce)+de.clientHeight>=de.scrollHeight-(Y.bottom||0)-ARRIVED_STATE_THRESHOLD_PIXELS;fe==="flex"&&Te==="column-reverse"?(ne.top=ge,ne.bottom=be):(ne.top=be,ne.bottom=ge),J.value=Ce},ue=ce=>{var he;if(!K)return;const de=(he=ce.target.documentElement)!=null?he:ce.target;le(de),ie.value=!0,oe(ce),W(ce)};return useEventListener(R,"scroll",E?useThrottleFn(ue,E,!0,!1):ue,G),useEventListener(R,"scrollend",se,G),{x:Q,y:ee,isScrolling:ie,arrivedState:ne,directions:ae,measure(){const ce=toValue(R);K&&ce&&le(ce)}}}const Modal_vue_vue_type_style_index_0_scoped_60f25a04_lang="";function normalizeComponent(R,F,E,V,U,W,Y,G){var X=typeof R=="function"?R.options:R;F&&(X.render=F,X.staticRenderFns=E,X._compiled=!0),V&&(X.functional=!0),W&&(X._scopeId="data-v-"+W);var K;if(Y?(K=function(Q){Q=Q||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!Q&&typeof __VUE_SSR_CONTEXT__<"u"&&(Q=__VUE_SSR_CONTEXT__),U&&U.call(this,Q),Q&&Q._registeredComponents&&Q._registeredComponents.add(Y)},X._ssrRegister=K):U&&(K=G?function(){U.call(this,(X.functional?this.parent:this).$root.$options.shadowRoot)}:U),K)if(X.functional){X._injectStyles=K;var Z=X.render;X.render=function(ee,te){return K.call(te),Z(ee,te)}}else{var J=X.beforeCreate;X.beforeCreate=J?[].concat(J,K):[K]}return{exports:R,options:X}}const _sfc_main$1n={mounted(){document.body.classList.add("modal"),document.addEventListener("keyup",this.handler)},beforeDestroy(){document.body.classList.remove("modal"),document.removeEventListener("keyup",this.handler)},methods:{handler(R){R.keyCode===27&&this.$emit("close")}}};var _sfc_render$1n=function(){var F=this,E=F._self._c;return E("transition",{attrs:{name:"fade",appear:""}},[E("div",{staticClass:"dialog"},[E("div",{staticClass:"dialog-background"}),E("transition",{attrs:{name:"slide-fade",appear:""}},[F._t("default")],2)],1)])},_sfc_staticRenderFns$1n=[],__component__$1n=normalizeComponent(_sfc_main$1n,_sfc_render$1n,_sfc_staticRenderFns$1n,!1,null,"60f25a04",null,null);const Modal$1=__component__$1n.exports,appState=window.appState,_sfc_main$1m={__name:"DialogProvider",setup(R){const F=useStorage("cash_show_ss_installed_info",appState.shopscriptInstalled&&appState.emptyFlow);function E(){F.value=!1,window.location.href=`${appState.baseUrl}shop/settings/`}return{__sfc:!0,showSsInstalledInfo:F,navigateShopSettings:E,useStorage,Modal:Modal$1,appState}}};var _sfc_render$1m=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",[F._t("default"),V.showSsInstalledInfo?E("portal",[E(V.Modal,[E("div",{staticClass:"dialog-body"},[E("div",{staticClass:"dialog-content"},[E("div",{staticClass:"flexbox middle space-12 custom-mb-20",staticStyle:{"justify-content":"center"}},[E("img",{staticStyle:{height:"72px",width:"72px","object-fit":"contain"},attrs:{src:`${V.appState.baseStaticUrl}img/shop.svg`,alt:""}}),E("div",{staticClass:"icon"},[E("i",{staticClass:"fas fa-arrow-right"})]),E("img",{staticStyle:{height:"72px",width:"72px","object-fit":"contain"},attrs:{src:`${V.appState.baseStaticUrl}img/cash.png`,alt:""}})]),E("div",{staticClass:"align-center"},[E("div",{staticClass:"custom-mb-20"},[F.$i18n.locale==="ru_RU"?[F._v(" \u0418\u043D\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044F \u0441 Shop-Script \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u0441\u043E\u0437\u0434\u0430\u0432\u0430\u0442\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u043D\u0430 \u043E\u0441\u043D\u043E\u0432\u0435 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E\u0431 \u043E\u043F\u043B\u0430\u0447\u0435\u043D\u043D\u044B\u0445 \u0437\u0430\u043A\u0430\u0437\u043E\u0432 \u0438 \u0442\u0435\u043C \u0441\u0430\u043C\u044B\u043C \u043F\u0440\u043E\u0433\u043D\u043E\u0437\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u0438\u0431\u044B\u043B\u0438 \u0438 \u0443\u0431\u044B\u0442\u043A\u0438 \u0438\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D\u0430. ")]:[F._v(" Enabling Shop-Script integration allows you to automatically import sales (paid orders) data into the Cash app and to forecast your future cash balance. ")]],2),E("div",{staticClass:"custom-mb-20"},[E("a",{staticClass:"button green rounded",on:{click:function(U){return U.preventDefault(),V.navigateShopSettings.apply(null,arguments)}}},[F._v(" "+F._s(F.$i18n.locale==="ru_RU"?"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0438\u043C\u043F\u043E\u0440\u0442 \u0434\u0430\u043D\u043D\u044B\u0445 \u0438\u0437 Shop-Script":"Import orders data from Shop-Script")+" ")])]),E("div",[E("button",{staticClass:"button light-gray rounded",on:{click:function(U){V.showSsInstalledInfo=!1}}},[F._v(" "+F._s(F.$i18n.locale==="ru_RU"?"\u041D\u0430\u0447\u0430\u0442\u044C \u0431\u0435\u0437 \u0438\u043C\u043F\u043E\u0440\u0442\u0430":"Skip import for now")+" ")])])])])])])],1):F._e()],2)},_sfc_staticRenderFns$1m=[],__component__$1m=normalizeComponent(_sfc_main$1m,_sfc_render$1m,_sfc_staticRenderFns$1m,!1,null,null,null,null);const DialogProvider=__component__$1m.exports,_sfc_main$1l={components:{DialogProvider,TransactionModals:()=>__vitePreload(()=>Promise.resolve().then(()=>TransactionModals$1),void 0)}};var _sfc_render$1l=function(){var F=this,E=F._self._c;return E("DialogProvider",{staticClass:"content blank custom-pb-24 custom-pl-8 custom-pl-0-mobile"},[E("router-view"),E("TransactionModals")],1)},_sfc_staticRenderFns$1l=[],__component__$1l=normalizeComponent(_sfc_main$1l,_sfc_render$1l,_sfc_staticRenderFns$1l,!1,null,null,null,null);const App=__component__$1l.exports;/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function applyMixin(R){var F=Number(R.version.split(".")[0]);if(F>=2)R.mixin({beforeCreate:V});else{var E=R.prototype._init;R.prototype._init=function(U){U===void 0&&(U={}),U.init=U.init?[V].concat(U.init):V,E.call(this,U)}}function V(){var U=this.$options;U.store?this.$store=typeof U.store=="function"?U.store():U.store:U.parent&&U.parent.$store&&(this.$store=U.parent.$store)}}var target$1=typeof window<"u"?window:typeof global<"u"?global:{},devtoolHook=target$1.__VUE_DEVTOOLS_GLOBAL_HOOK__;function devtoolPlugin(R){!devtoolHook||(R._devtoolHook=devtoolHook,devtoolHook.emit("vuex:init",R),devtoolHook.on("vuex:travel-to-state",function(F){R.replaceState(F)}),R.subscribe(function(F,E){devtoolHook.emit("vuex:mutation",F,E)},{prepend:!0}),R.subscribeAction(function(F,E){devtoolHook.emit("vuex:action",F,E)},{prepend:!0}))}function find$4(R,F){return R.filter(F)[0]}function deepCopy(R,F){if(F===void 0&&(F=[]),R===null||typeof R!="object")return R;var E=find$4(F,function(U){return U.original===R});if(E)return E.copy;var V=Array.isArray(R)?[]:{};return F.push({original:R,copy:V}),Object.keys(R).forEach(function(U){V[U]=deepCopy(R[U],F)}),V}function forEachValue(R,F){Object.keys(R).forEach(function(E){return F(R[E],E)})}function isObject$a(R){return R!==null&&typeof R=="object"}function isPromise(R){return R&&typeof R.then=="function"}function partial(R,F){return function(){return R(F)}}var Module=function(F,E){this.runtime=E,this._children=Object.create(null),this._rawModule=F;var V=F.state;this.state=(typeof V=="function"?V():V)||{}},prototypeAccessors$2={namespaced:{configurable:!0}};prototypeAccessors$2.namespaced.get=function(){return!!this._rawModule.namespaced};Module.prototype.addChild=function(F,E){this._children[F]=E};Module.prototype.removeChild=function(F){delete this._children[F]};Module.prototype.getChild=function(F){return this._children[F]};Module.prototype.hasChild=function(F){return F in this._children};Module.prototype.update=function(F){this._rawModule.namespaced=F.namespaced,F.actions&&(this._rawModule.actions=F.actions),F.mutations&&(this._rawModule.mutations=F.mutations),F.getters&&(this._rawModule.getters=F.getters)};Module.prototype.forEachChild=function(F){forEachValue(this._children,F)};Module.prototype.forEachGetter=function(F){this._rawModule.getters&&forEachValue(this._rawModule.getters,F)};Module.prototype.forEachAction=function(F){this._rawModule.actions&&forEachValue(this._rawModule.actions,F)};Module.prototype.forEachMutation=function(F){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,F)};Object.defineProperties(Module.prototype,prototypeAccessors$2);var ModuleCollection=function(F){this.register([],F,!1)};ModuleCollection.prototype.get=function(F){return F.reduce(function(E,V){return E.getChild(V)},this.root)};ModuleCollection.prototype.getNamespace=function(F){var E=this.root;return F.reduce(function(V,U){return E=E.getChild(U),V+(E.namespaced?U+"/":"")},"")};ModuleCollection.prototype.update=function(F){update$3([],this.root,F)};ModuleCollection.prototype.register=function(F,E,V){var U=this;V===void 0&&(V=!0);var W=new Module(E,V);if(F.length===0)this.root=W;else{var Y=this.get(F.slice(0,-1));Y.addChild(F[F.length-1],W)}E.modules&&forEachValue(E.modules,function(G,X){U.register(F.concat(X),G,V)})};ModuleCollection.prototype.unregister=function(F){var E=this.get(F.slice(0,-1)),V=F[F.length-1],U=E.getChild(V);!U||!U.runtime||E.removeChild(V)};ModuleCollection.prototype.isRegistered=function(F){var E=this.get(F.slice(0,-1)),V=F[F.length-1];return E?E.hasChild(V):!1};function update$3(R,F,E){if(F.update(E),E.modules)for(var V in E.modules){if(!F.getChild(V))return;update$3(R.concat(V),F.getChild(V),E.modules[V])}}var Vue$1,Store=function(F){var E=this;F===void 0&&(F={}),!Vue$1&&typeof window<"u"&&window.Vue&&install$4(window.Vue);var V=F.plugins;V===void 0&&(V=[]);var U=F.strict;U===void 0&&(U=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ModuleCollection(F),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Vue$1,this._makeLocalGettersCache=Object.create(null);var W=this,Y=this,G=Y.dispatch,X=Y.commit;this.dispatch=function(Q,ee){return G.call(W,Q,ee)},this.commit=function(Q,ee,te){return X.call(W,Q,ee,te)},this.strict=U;var K=this._modules.root.state;installModule(this,K,[],this._modules.root),resetStoreVM(this,K),V.forEach(function(J){return J(E)});var Z=F.devtools!==void 0?F.devtools:Vue$1.config.devtools;Z&&devtoolPlugin(this)},prototypeAccessors$1$1={state:{configurable:!0}};prototypeAccessors$1$1.state.get=function(){return this._vm._data.$$state};prototypeAccessors$1$1.state.set=function(R){};Store.prototype.commit=function(F,E,V){var U=this,W=unifyObjectStyle(F,E,V),Y=W.type,G=W.payload,X={type:Y,payload:G},K=this._mutations[Y];!K||(this._withCommit(function(){K.forEach(function(J){J(G)})}),this._subscribers.slice().forEach(function(Z){return Z(X,U.state)}))};Store.prototype.dispatch=function(F,E){var V=this,U=unifyObjectStyle(F,E),W=U.type,Y=U.payload,G={type:W,payload:Y},X=this._actions[W];if(!!X){try{this._actionSubscribers.slice().filter(function(Z){return Z.before}).forEach(function(Z){return Z.before(G,V.state)})}catch{}var K=X.length>1?Promise.all(X.map(function(Z){return Z(Y)})):X[0](Y);return new Promise(function(Z,J){K.then(function(Q){try{V._actionSubscribers.filter(function(ee){return ee.after}).forEach(function(ee){return ee.after(G,V.state)})}catch{}Z(Q)},function(Q){try{V._actionSubscribers.filter(function(ee){return ee.error}).forEach(function(ee){return ee.error(G,V.state,Q)})}catch{}J(Q)})})}};Store.prototype.subscribe=function(F,E){return genericSubscribe(F,this._subscribers,E)};Store.prototype.subscribeAction=function(F,E){var V=typeof F=="function"?{before:F}:F;return genericSubscribe(V,this._actionSubscribers,E)};Store.prototype.watch=function(F,E,V){var U=this;return this._watcherVM.$watch(function(){return F(U.state,U.getters)},E,V)};Store.prototype.replaceState=function(F){var E=this;this._withCommit(function(){E._vm._data.$$state=F})};Store.prototype.registerModule=function(F,E,V){V===void 0&&(V={}),typeof F=="string"&&(F=[F]),this._modules.register(F,E),installModule(this,this.state,F,this._modules.get(F),V.preserveState),resetStoreVM(this,this.state)};Store.prototype.unregisterModule=function(F){var E=this;typeof F=="string"&&(F=[F]),this._modules.unregister(F),this._withCommit(function(){var V=getNestedState(E.state,F.slice(0,-1));Vue$1.delete(V,F[F.length-1])}),resetStore(this)};Store.prototype.hasModule=function(F){return typeof F=="string"&&(F=[F]),this._modules.isRegistered(F)};Store.prototype.hotUpdate=function(F){this._modules.update(F),resetStore(this,!0)};Store.prototype._withCommit=function(F){var E=this._committing;this._committing=!0,F(),this._committing=E};Object.defineProperties(Store.prototype,prototypeAccessors$1$1);function genericSubscribe(R,F,E){return F.indexOf(R)<0&&(E&&E.prepend?F.unshift(R):F.push(R)),function(){var V=F.indexOf(R);V>-1&&F.splice(V,1)}}function resetStore(R,F){R._actions=Object.create(null),R._mutations=Object.create(null),R._wrappedGetters=Object.create(null),R._modulesNamespaceMap=Object.create(null);var E=R.state;installModule(R,E,[],R._modules.root,!0),resetStoreVM(R,E,F)}function resetStoreVM(R,F,E){var V=R._vm;R.getters={},R._makeLocalGettersCache=Object.create(null);var U=R._wrappedGetters,W={};forEachValue(U,function(G,X){W[X]=partial(G,R),Object.defineProperty(R.getters,X,{get:function(){return R._vm[X]},enumerable:!0})});var Y=Vue$1.config.silent;Vue$1.config.silent=!0,R._vm=new Vue$1({data:{$$state:F},computed:W}),Vue$1.config.silent=Y,R.strict&&enableStrictMode(R),V&&(E&&R._withCommit(function(){V._data.$$state=null}),Vue$1.nextTick(function(){return V.$destroy()}))}function installModule(R,F,E,V,U){var W=!E.length,Y=R._modules.getNamespace(E);if(V.namespaced&&(R._modulesNamespaceMap[Y],R._modulesNamespaceMap[Y]=V),!W&&!U){var G=getNestedState(F,E.slice(0,-1)),X=E[E.length-1];R._withCommit(function(){Vue$1.set(G,X,V.state)})}var K=V.context=makeLocalContext(R,Y,E);V.forEachMutation(function(Z,J){var Q=Y+J;registerMutation(R,Q,Z,K)}),V.forEachAction(function(Z,J){var Q=Z.root?J:Y+J,ee=Z.handler||Z;registerAction(R,Q,ee,K)}),V.forEachGetter(function(Z,J){var Q=Y+J;registerGetter(R,Q,Z,K)}),V.forEachChild(function(Z,J){installModule(R,F,E.concat(J),Z,U)})}function makeLocalContext(R,F,E){var V=F==="",U={dispatch:V?R.dispatch:function(W,Y,G){var X=unifyObjectStyle(W,Y,G),K=X.payload,Z=X.options,J=X.type;return(!Z||!Z.root)&&(J=F+J),R.dispatch(J,K)},commit:V?R.commit:function(W,Y,G){var X=unifyObjectStyle(W,Y,G),K=X.payload,Z=X.options,J=X.type;(!Z||!Z.root)&&(J=F+J),R.commit(J,K,Z)}};return Object.defineProperties(U,{getters:{get:V?function(){return R.getters}:function(){return makeLocalGetters(R,F)}},state:{get:function(){return getNestedState(R.state,E)}}}),U}function makeLocalGetters(R,F){if(!R._makeLocalGettersCache[F]){var E={},V=F.length;Object.keys(R.getters).forEach(function(U){if(U.slice(0,V)===F){var W=U.slice(V);Object.defineProperty(E,W,{get:function(){return R.getters[U]},enumerable:!0})}}),R._makeLocalGettersCache[F]=E}return R._makeLocalGettersCache[F]}function registerMutation(R,F,E,V){var U=R._mutations[F]||(R._mutations[F]=[]);U.push(function(Y){E.call(R,V.state,Y)})}function registerAction(R,F,E,V){var U=R._actions[F]||(R._actions[F]=[]);U.push(function(Y){var G=E.call(R,{dispatch:V.dispatch,commit:V.commit,getters:V.getters,state:V.state,rootGetters:R.getters,rootState:R.state},Y);return isPromise(G)||(G=Promise.resolve(G)),R._devtoolHook?G.catch(function(X){throw R._devtoolHook.emit("vuex:error",X),X}):G})}function registerGetter(R,F,E,V){R._wrappedGetters[F]||(R._wrappedGetters[F]=function(W){return E(V.state,V.getters,W.state,W.getters)})}function enableStrictMode(R){R._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function getNestedState(R,F){return F.reduce(function(E,V){return E[V]},R)}function unifyObjectStyle(R,F,E){return isObject$a(R)&&R.type&&(E=F,F=R,R=R.type),{type:R,payload:F,options:E}}function install$4(R){Vue$1&&R===Vue$1||(Vue$1=R,applyMixin(Vue$1))}var mapState=normalizeNamespace(function(R,F){var E={};return normalizeMap(F).forEach(function(V){var U=V.key,W=V.val;E[U]=function(){var G=this.$store.state,X=this.$store.getters;if(R){var K=getModuleByNamespace(this.$store,"mapState",R);if(!K)return;G=K.context.state,X=K.context.getters}return typeof W=="function"?W.call(this,G,X):G[W]},E[U].vuex=!0}),E}),mapMutations=normalizeNamespace(function(R,F){var E={};return normalizeMap(F).forEach(function(V){var U=V.key,W=V.val;E[U]=function(){for(var G=[],X=arguments.length;X--;)G[X]=arguments[X];var K=this.$store.commit;if(R){var Z=getModuleByNamespace(this.$store,"mapMutations",R);if(!Z)return;K=Z.context.commit}return typeof W=="function"?W.apply(this,[K].concat(G)):K.apply(this.$store,[W].concat(G))}}),E}),mapGetters=normalizeNamespace(function(R,F){var E={};return normalizeMap(F).forEach(function(V){var U=V.key,W=V.val;W=R+W,E[U]=function(){if(!(R&&!getModuleByNamespace(this.$store,"mapGetters",R)))return this.$store.getters[W]},E[U].vuex=!0}),E}),mapActions=normalizeNamespace(function(R,F){var E={};return normalizeMap(F).forEach(function(V){var U=V.key,W=V.val;E[U]=function(){for(var G=[],X=arguments.length;X--;)G[X]=arguments[X];var K=this.$store.dispatch;if(R){var Z=getModuleByNamespace(this.$store,"mapActions",R);if(!Z)return;K=Z.context.dispatch}return typeof W=="function"?W.apply(this,[K].concat(G)):K.apply(this.$store,[W].concat(G))}}),E}),createNamespacedHelpers=function(R){return{mapState:mapState.bind(null,R),mapGetters:mapGetters.bind(null,R),mapMutations:mapMutations.bind(null,R),mapActions:mapActions.bind(null,R)}};function normalizeMap(R){return isValidMap(R)?Array.isArray(R)?R.map(function(F){return{key:F,val:F}}):Object.keys(R).map(function(F){return{key:F,val:R[F]}}):[]}function isValidMap(R){return Array.isArray(R)||isObject$a(R)}function normalizeNamespace(R){return function(F,E){return typeof F!="string"?(E=F,F=""):F.charAt(F.length-1)!=="/"&&(F+="/"),R(F,E)}}function getModuleByNamespace(R,F,E){var V=R._modulesNamespaceMap[E];return V}function createLogger(R){R===void 0&&(R={});var F=R.collapsed;F===void 0&&(F=!0);var E=R.filter;E===void 0&&(E=function(Z,J,Q){return!0});var V=R.transformer;V===void 0&&(V=function(Z){return Z});var U=R.mutationTransformer;U===void 0&&(U=function(Z){return Z});var W=R.actionFilter;W===void 0&&(W=function(Z,J){return!0});var Y=R.actionTransformer;Y===void 0&&(Y=function(Z){return Z});var G=R.logMutations;G===void 0&&(G=!0);var X=R.logActions;X===void 0&&(X=!0);var K=R.logger;return K===void 0&&(K=console),function(Z){var J=deepCopy(Z.state);typeof K>"u"||(G&&Z.subscribe(function(Q,ee){var te=deepCopy(ee);if(E(Q,J,te)){var ie=getFormattedTime(),ne=U(Q),ae="mutation "+Q.type+ie;startMessage(K,ae,F),K.log("%c prev state","color: #9E9E9E; font-weight: bold",V(J)),K.log("%c mutation","color: #03A9F4; font-weight: bold",ne),K.log("%c next state","color: #4CAF50; font-weight: bold",V(te)),endMessage(K)}J=te}),X&&Z.subscribeAction(function(Q,ee){if(W(Q,ee)){var te=getFormattedTime(),ie=Y(Q),ne="action "+Q.type+te;startMessage(K,ne,F),K.log("%c action","color: #03A9F4; font-weight: bold",ie),endMessage(K)}}))}}function startMessage(R,F,E){var V=E?R.groupCollapsed:R.group;try{V.call(R,F)}catch{R.log(F)}}function endMessage(R){try{R.groupEnd()}catch{R.log("\u2014\u2014 log end \u2014\u2014")}}function getFormattedTime(){var R=new Date;return" @ "+pad$3(R.getHours(),2)+":"+pad$3(R.getMinutes(),2)+":"+pad$3(R.getSeconds(),2)+"."+pad$3(R.getMilliseconds(),3)}function repeat$3(R,F){return new Array(F+1).join(R)}function pad$3(R,F){return repeat$3("0",F-R.toString().length)+R}var index$2={Store,install:install$4,version:"3.6.2",mapState,mapMutations,mapGetters,mapActions,createNamespacedHelpers,createLogger};const Vuex=index$2;var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}function getAugmentedNamespace(R){var F=R.default;if(typeof F=="function"){var E=function(){return F.apply(this,arguments)};E.prototype=F.prototype}else E={};return Object.defineProperty(E,"__esModule",{value:!0}),Object.keys(R).forEach(function(V){var U=Object.getOwnPropertyDescriptor(R,V);Object.defineProperty(E,V,U.get?U:{enumerable:!0,get:function(){return R[V]}})}),E}var vuedraggable_umd={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function _typeof$3(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(F){return typeof F}:_typeof$3=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},_typeof$3(R)}function _defineProperty$2(R,F,E){return F in R?Object.defineProperty(R,F,{value:E,enumerable:!0,configurable:!0,writable:!0}):R[F]=E,R}function _extends$1(){return _extends$1=Object.assign||function(R){for(var F=1;F<arguments.length;F++){var E=arguments[F];for(var V in E)Object.prototype.hasOwnProperty.call(E,V)&&(R[V]=E[V])}return R},_extends$1.apply(this,arguments)}function _objectSpread$1(R){for(var F=1;F<arguments.length;F++){var E=arguments[F]!=null?arguments[F]:{},V=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(V=V.concat(Object.getOwnPropertySymbols(E).filter(function(U){return Object.getOwnPropertyDescriptor(E,U).enumerable}))),V.forEach(function(U){_defineProperty$2(R,U,E[U])})}return R}function _objectWithoutPropertiesLoose(R,F){if(R==null)return{};var E={},V=Object.keys(R),U,W;for(W=0;W<V.length;W++)U=V[W],!(F.indexOf(U)>=0)&&(E[U]=R[U]);return E}function _objectWithoutProperties(R,F){if(R==null)return{};var E=_objectWithoutPropertiesLoose(R,F),V,U;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(R);for(U=0;U<W.length;U++)V=W[U],!(F.indexOf(V)>=0)&&(!Object.prototype.propertyIsEnumerable.call(R,V)||(E[V]=R[V]))}return E}function _toConsumableArray$1(R){return _arrayWithoutHoles$1(R)||_iterableToArray$1(R)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(R){if(Array.isArray(R)){for(var F=0,E=new Array(R.length);F<R.length;F++)E[F]=R[F];return E}}function _iterableToArray$1(R){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]")return Array.from(R)}function _nonIterableSpread$1(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var version$1="1.10.2";function userAgent(R){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(R)}var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on(R,F,E){R.addEventListener(F,E,!IE11OrLess&&captureMode)}function off(R,F,E){R.removeEventListener(F,E,!IE11OrLess&&captureMode)}function matches(R,F){if(!!F){if(F[0]===">"&&(F=F.substring(1)),R)try{if(R.matches)return R.matches(F);if(R.msMatchesSelector)return R.msMatchesSelector(F);if(R.webkitMatchesSelector)return R.webkitMatchesSelector(F)}catch{return!1}return!1}}function getParentOrHost(R){return R.host&&R!==document&&R.host.nodeType?R.host:R.parentNode}function closest$1(R,F,E,V){if(R){E=E||document;do{if(F!=null&&(F[0]===">"?R.parentNode===E&&matches(R,F):matches(R,F))||V&&R===E)return R;if(R===E)break}while(R=getParentOrHost(R))}return null}var R_SPACE=/\s+/g;function toggleClass$1(R,F,E){if(R&&F)if(R.classList)R.classList[E?"add":"remove"](F);else{var V=(" "+R.className+" ").replace(R_SPACE," ").replace(" "+F+" "," ");R.className=(V+(E?" "+F:"")).replace(R_SPACE," ")}}function css(R,F,E){var V=R&&R.style;if(V){if(E===void 0)return document.defaultView&&document.defaultView.getComputedStyle?E=document.defaultView.getComputedStyle(R,""):R.currentStyle&&(E=R.currentStyle),F===void 0?E:E[F];!(F in V)&&F.indexOf("webkit")===-1&&(F="-webkit-"+F),V[F]=E+(typeof E=="string"?"":"px")}}function matrix(R,F){var E="";if(typeof R=="string")E=R;else do{var V=css(R,"transform");V&&V!=="none"&&(E=V+" "+E)}while(!F&&(R=R.parentNode));var U=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return U&&new U(E)}function find$3(R,F,E){if(R){var V=R.getElementsByTagName(F),U=0,W=V.length;if(E)for(;U<W;U++)E(V[U],U);return V}return[]}function getWindowScrollingElement(){var R=document.scrollingElement;return R||document.documentElement}function getRect(R,F,E,V,U){if(!(!R.getBoundingClientRect&&R!==window)){var W,Y,G,X,K,Z,J;if(R!==window&&R!==getWindowScrollingElement()?(W=R.getBoundingClientRect(),Y=W.top,G=W.left,X=W.bottom,K=W.right,Z=W.height,J=W.width):(Y=0,G=0,X=window.innerHeight,K=window.innerWidth,Z=window.innerHeight,J=window.innerWidth),(F||E)&&R!==window&&(U=U||R.parentNode,!IE11OrLess))do if(U&&U.getBoundingClientRect&&(css(U,"transform")!=="none"||E&&css(U,"position")!=="static")){var Q=U.getBoundingClientRect();Y-=Q.top+parseInt(css(U,"border-top-width")),G-=Q.left+parseInt(css(U,"border-left-width")),X=Y+W.height,K=G+W.width;break}while(U=U.parentNode);if(V&&R!==window){var ee=matrix(U||R),te=ee&&ee.a,ie=ee&&ee.d;ee&&(Y/=ie,G/=te,J/=te,Z/=ie,X=Y+Z,K=G+J)}return{top:Y,left:G,bottom:X,right:K,width:J,height:Z}}}function isScrolledPast(R,F,E){for(var V=getParentAutoScrollElement(R,!0),U=getRect(R)[F];V;){var W=getRect(V)[E],Y=void 0;if(E==="top"||E==="left"?Y=U>=W:Y=U<=W,!Y)return V;if(V===getWindowScrollingElement())break;V=getParentAutoScrollElement(V,!1)}return!1}function getChild(R,F,E){for(var V=0,U=0,W=R.children;U<W.length;){if(W[U].style.display!=="none"&&W[U]!==Sortable.ghost&&W[U]!==Sortable.dragged&&closest$1(W[U],E.draggable,R,!1)){if(V===F)return W[U];V++}U++}return null}function lastChild(R,F){for(var E=R.lastElementChild;E&&(E===Sortable.ghost||css(E,"display")==="none"||F&&!matches(E,F));)E=E.previousElementSibling;return E||null}function index$1(R,F){var E=0;if(!R||!R.parentNode)return-1;for(;R=R.previousElementSibling;)R.nodeName.toUpperCase()!=="TEMPLATE"&&R!==Sortable.clone&&(!F||matches(R,F))&&E++;return E}function getRelativeScrollOffset(R){var F=0,E=0,V=getWindowScrollingElement();if(R)do{var U=matrix(R),W=U.a,Y=U.d;F+=R.scrollLeft*W,E+=R.scrollTop*Y}while(R!==V&&(R=R.parentNode));return[F,E]}function indexOfObject(R,F){for(var E in R)if(!!R.hasOwnProperty(E)){for(var V in F)if(F.hasOwnProperty(V)&&F[V]===R[E][V])return Number(E)}return-1}function getParentAutoScrollElement(R,F){if(!R||!R.getBoundingClientRect)return getWindowScrollingElement();var E=R,V=!1;do if(E.clientWidth<E.scrollWidth||E.clientHeight<E.scrollHeight){var U=css(E);if(E.clientWidth<E.scrollWidth&&(U.overflowX=="auto"||U.overflowX=="scroll")||E.clientHeight<E.scrollHeight&&(U.overflowY=="auto"||U.overflowY=="scroll")){if(!E.getBoundingClientRect||E===document.body)return getWindowScrollingElement();if(V||F)return E;V=!0}}while(E=E.parentNode);return getWindowScrollingElement()}function extend$5(R,F){if(R&&F)for(var E in F)F.hasOwnProperty(E)&&(R[E]=F[E]);return R}function isRectEqual(R,F){return Math.round(R.top)===Math.round(F.top)&&Math.round(R.left)===Math.round(F.left)&&Math.round(R.height)===Math.round(F.height)&&Math.round(R.width)===Math.round(F.width)}var _throttleTimeout;function throttle$1(R,F){return function(){if(!_throttleTimeout){var E=arguments,V=this;E.length===1?R.call(V,E[0]):R.apply(V,E),_throttleTimeout=setTimeout(function(){_throttleTimeout=void 0},F)}}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(R,F,E){R.scrollLeft+=F,R.scrollTop+=E}function clone$3(R){var F=window.Polymer,E=window.jQuery||window.Zepto;return F&&F.dom?F.dom(R).cloneNode(!0):E?E(R).clone(!0)[0]:R.cloneNode(!0)}function setRect(R,F){css(R,"position","absolute"),css(R,"top",F.top),css(R,"left",F.left),css(R,"width",F.width),css(R,"height",F.height)}function unsetRect(R){css(R,"position",""),css(R,"top",""),css(R,"left",""),css(R,"width",""),css(R,"height","")}var expando="Sortable"+new Date().getTime();function AnimationStateManager(){var R=[],F;return{captureAnimationState:function(){if(R=[],!!this.options.animation){var V=[].slice.call(this.el.children);V.forEach(function(U){if(!(css(U,"display")==="none"||U===Sortable.ghost)){R.push({target:U,rect:getRect(U)});var W=_objectSpread$1({},R[R.length-1].rect);if(U.thisAnimationDuration){var Y=matrix(U,!0);Y&&(W.top-=Y.f,W.left-=Y.e)}U.fromRect=W}})}},addAnimationState:function(V){R.push(V)},removeAnimationState:function(V){R.splice(indexOfObject(R,{target:V}),1)},animateAll:function(V){var U=this;if(!this.options.animation){clearTimeout(F),typeof V=="function"&&V();return}var W=!1,Y=0;R.forEach(function(G){var X=0,K=G.target,Z=K.fromRect,J=getRect(K),Q=K.prevFromRect,ee=K.prevToRect,te=G.rect,ie=matrix(K,!0);ie&&(J.top-=ie.f,J.left-=ie.e),K.toRect=J,K.thisAnimationDuration&&isRectEqual(Q,J)&&!isRectEqual(Z,J)&&(te.top-J.top)/(te.left-J.left)===(Z.top-J.top)/(Z.left-J.left)&&(X=calculateRealTime(te,Q,ee,U.options)),isRectEqual(J,Z)||(K.prevFromRect=Z,K.prevToRect=J,X||(X=U.options.animation),U.animate(K,te,J,X)),X&&(W=!0,Y=Math.max(Y,X),clearTimeout(K.animationResetTimer),K.animationResetTimer=setTimeout(function(){K.animationTime=0,K.prevFromRect=null,K.fromRect=null,K.prevToRect=null,K.thisAnimationDuration=null},X),K.thisAnimationDuration=X)}),clearTimeout(F),W?F=setTimeout(function(){typeof V=="function"&&V()},Y):typeof V=="function"&&V(),R=[]},animate:function(V,U,W,Y){if(Y){css(V,"transition",""),css(V,"transform","");var G=matrix(this.el),X=G&&G.a,K=G&&G.d,Z=(U.left-W.left)/(X||1),J=(U.top-W.top)/(K||1);V.animatingX=!!Z,V.animatingY=!!J,css(V,"transform","translate3d("+Z+"px,"+J+"px,0)"),repaint(V),css(V,"transition","transform "+Y+"ms"+(this.options.easing?" "+this.options.easing:"")),css(V,"transform","translate3d(0,0,0)"),typeof V.animated=="number"&&clearTimeout(V.animated),V.animated=setTimeout(function(){css(V,"transition",""),css(V,"transform",""),V.animated=!1,V.animatingX=!1,V.animatingY=!1},Y)}}}}function repaint(R){return R.offsetWidth}function calculateRealTime(R,F,E,V){return Math.sqrt(Math.pow(F.top-R.top,2)+Math.pow(F.left-R.left,2))/Math.sqrt(Math.pow(F.top-E.top,2)+Math.pow(F.left-E.left,2))*V.animation}var plugins$2=[],defaults$4={initializeByDefault:!0},PluginManager={mount:function(F){for(var E in defaults$4)defaults$4.hasOwnProperty(E)&&!(E in F)&&(F[E]=defaults$4[E]);plugins$2.push(F)},pluginEvent:function(F,E,V){var U=this;this.eventCanceled=!1,V.cancel=function(){U.eventCanceled=!0};var W=F+"Global";plugins$2.forEach(function(Y){!E[Y.pluginName]||(E[Y.pluginName][W]&&E[Y.pluginName][W](_objectSpread$1({sortable:E},V)),E.options[Y.pluginName]&&E[Y.pluginName][F]&&E[Y.pluginName][F](_objectSpread$1({sortable:E},V)))})},initializePlugins:function(F,E,V,U){plugins$2.forEach(function(G){var X=G.pluginName;if(!(!F.options[X]&&!G.initializeByDefault)){var K=new G(F,E,F.options);K.sortable=F,K.options=F.options,F[X]=K,_extends$1(V,K.defaults)}});for(var W in F.options)if(!!F.options.hasOwnProperty(W)){var Y=this.modifyOption(F,W,F.options[W]);typeof Y<"u"&&(F.options[W]=Y)}},getEventProperties:function(F,E){var V={};return plugins$2.forEach(function(U){typeof U.eventProperties=="function"&&_extends$1(V,U.eventProperties.call(E[U.pluginName],F))}),V},modifyOption:function(F,E,V){var U;return plugins$2.forEach(function(W){!F[W.pluginName]||W.optionListeners&&typeof W.optionListeners[E]=="function"&&(U=W.optionListeners[E].call(F[W.pluginName],V))}),U}};function dispatchEvent$1(R){var F=R.sortable,E=R.rootEl,V=R.name,U=R.targetEl,W=R.cloneEl,Y=R.toEl,G=R.fromEl,X=R.oldIndex,K=R.newIndex,Z=R.oldDraggableIndex,J=R.newDraggableIndex,Q=R.originalEvent,ee=R.putSortable,te=R.extraEventProperties;if(F=F||E&&E[expando],!!F){var ie,ne=F.options,ae="on"+V.charAt(0).toUpperCase()+V.substr(1);window.CustomEvent&&!IE11OrLess&&!Edge?ie=new CustomEvent(V,{bubbles:!0,cancelable:!0}):(ie=document.createEvent("Event"),ie.initEvent(V,!0,!0)),ie.to=Y||E,ie.from=G||E,ie.item=U||E,ie.clone=W,ie.oldIndex=X,ie.newIndex=K,ie.oldDraggableIndex=Z,ie.newDraggableIndex=J,ie.originalEvent=Q,ie.pullMode=ee?ee.lastPutMode:void 0;var se=_objectSpread$1({},te,PluginManager.getEventProperties(V,F));for(var oe in se)ie[oe]=se[oe];E&&E.dispatchEvent(ie),ne[ae]&&ne[ae].call(F,ie)}}var pluginEvent=function(F,E){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=V.evt,W=_objectWithoutProperties(V,["evt"]);PluginManager.pluginEvent.bind(Sortable)(F,E,_objectSpread$1({dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,dragStarted:moved,putSortable,activeSortable:Sortable.active,originalEvent:U,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:function(){cloneHidden=!0},cloneNowShown:function(){cloneHidden=!1},dispatchSortableEvent:function(G){_dispatchEvent({sortable:E,name:G,originalEvent:U})}},W))};function _dispatchEvent(R){dispatchEvent$1(_objectSpread$1({putSortable,cloneEl,targetEl:dragEl,rootEl,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex},R))}var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,pastFirstInvertThresh=!1,isCircumstantialInvert=!1,targetMoveDistance,ghostRelativeParent,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists=typeof document<"u",PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(!!documentExists){if(IE11OrLess)return!1;var R=document.createElement("x");return R.style.cssText="pointer-events:auto",R.style.pointerEvents==="auto"}}(),_detectDirection=function(F,E){var V=css(F),U=parseInt(V.width)-parseInt(V.paddingLeft)-parseInt(V.paddingRight)-parseInt(V.borderLeftWidth)-parseInt(V.borderRightWidth),W=getChild(F,0,E),Y=getChild(F,1,E),G=W&&css(W),X=Y&&css(Y),K=G&&parseInt(G.marginLeft)+parseInt(G.marginRight)+getRect(W).width,Z=X&&parseInt(X.marginLeft)+parseInt(X.marginRight)+getRect(Y).width;if(V.display==="flex")return V.flexDirection==="column"||V.flexDirection==="column-reverse"?"vertical":"horizontal";if(V.display==="grid")return V.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(W&&G.float&&G.float!=="none"){var J=G.float==="left"?"left":"right";return Y&&(X.clear==="both"||X.clear===J)?"vertical":"horizontal"}return W&&(G.display==="block"||G.display==="flex"||G.display==="table"||G.display==="grid"||K>=U&&V[CSSFloatProperty]==="none"||Y&&V[CSSFloatProperty]==="none"&&K+Z>U)?"vertical":"horizontal"},_dragElInRowColumn=function(F,E,V){var U=V?F.left:F.top,W=V?F.right:F.bottom,Y=V?F.width:F.height,G=V?E.left:E.top,X=V?E.right:E.bottom,K=V?E.width:E.height;return U===G||W===X||U+Y/2===G+K/2},_detectNearestEmptySortable=function(F,E){var V;return sortables.some(function(U){if(!lastChild(U)){var W=getRect(U),Y=U[expando].options.emptyInsertThreshold,G=F>=W.left-Y&&F<=W.right+Y,X=E>=W.top-Y&&E<=W.bottom+Y;if(Y&&G&&X)return V=U}}),V},_prepareGroup=function(F){function E(W,Y){return function(G,X,K,Z){var J=G.options.group.name&&X.options.group.name&&G.options.group.name===X.options.group.name;if(W==null&&(Y||J))return!0;if(W==null||W===!1)return!1;if(Y&&W==="clone")return W;if(typeof W=="function")return E(W(G,X,K,Z),Y)(G,X,K,Z);var Q=(Y?G:X).options.group.name;return W===!0||typeof W=="string"&&W===Q||W.join&&W.indexOf(Q)>-1}}var V={},U=F.group;(!U||_typeof$3(U)!="object")&&(U={name:U}),V.name=U.name,V.checkPull=E(U.pull,!0),V.checkPut=E(U.put),V.revertClone=U.revertClone,F.group=V},_hideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},_unhideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")};documentExists&&document.addEventListener("click",function(R){if(ignoreNextClick)return R.preventDefault(),R.stopPropagation&&R.stopPropagation(),R.stopImmediatePropagation&&R.stopImmediatePropagation(),ignoreNextClick=!1,!1},!0);var nearestEmptyInsertDetectEvent=function(F){if(dragEl){F=F.touches?F.touches[0]:F;var E=_detectNearestEmptySortable(F.clientX,F.clientY);if(E){var V={};for(var U in F)F.hasOwnProperty(U)&&(V[U]=F[U]);V.target=V.rootEl=E,V.preventDefault=void 0,V.stopPropagation=void 0,E[expando]._onDragOver(V)}}},_checkOutsideTargetEl=function(F){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(F.target)};function Sortable(R,F){if(!(R&&R.nodeType&&R.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(R));this.el=R,this.options=F=_extends$1({},F),R[expando]=this;var E={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(R.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(R,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(Y,G){Y.setData("Text",G.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Sortable.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};PluginManager.initializePlugins(this,R,E);for(var V in E)!(V in F)&&(F[V]=E[V]);_prepareGroup(F);for(var U in this)U.charAt(0)==="_"&&typeof this[U]=="function"&&(this[U]=this[U].bind(this));this.nativeDraggable=F.forceFallback?!1:supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),F.supportPointer?on(R,"pointerdown",this._onTapStart):(on(R,"mousedown",this._onTapStart),on(R,"touchstart",this._onTapStart)),this.nativeDraggable&&(on(R,"dragover",this),on(R,"dragenter",this)),sortables.push(this.el),F.store&&F.store.get&&this.sort(F.store.get(this)||[]),_extends$1(this,AnimationStateManager())}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function(F){!this.el.contains(F)&&F!==this.el&&(lastTarget=null)},_getDirection:function(F,E){return typeof this.options.direction=="function"?this.options.direction.call(this,F,E,dragEl):this.options.direction},_onTapStart:function(F){if(!!F.cancelable){var E=this,V=this.el,U=this.options,W=U.preventOnFilter,Y=F.type,G=F.touches&&F.touches[0]||F.pointerType&&F.pointerType==="touch"&&F,X=(G||F).target,K=F.target.shadowRoot&&(F.path&&F.path[0]||F.composedPath&&F.composedPath()[0])||X,Z=U.filter;if(_saveInputCheckedState(V),!dragEl&&!(/mousedown|pointerdown/.test(Y)&&F.button!==0||U.disabled)&&!K.isContentEditable&&(X=closest$1(X,U.draggable,V,!1),!(X&&X.animated)&&lastDownEl!==X)){if(oldIndex=index$1(X),oldDraggableIndex=index$1(X,U.draggable),typeof Z=="function"){if(Z.call(this,F,X,this)){_dispatchEvent({sortable:E,rootEl:K,name:"filter",targetEl:X,toEl:V,fromEl:V}),pluginEvent("filter",E,{evt:F}),W&&F.cancelable&&F.preventDefault();return}}else if(Z&&(Z=Z.split(",").some(function(J){if(J=closest$1(K,J.trim(),V,!1),J)return _dispatchEvent({sortable:E,rootEl:J,name:"filter",targetEl:X,fromEl:V,toEl:V}),pluginEvent("filter",E,{evt:F}),!0}),Z)){W&&F.cancelable&&F.preventDefault();return}U.handle&&!closest$1(K,U.handle,V,!1)||this._prepareDragStart(F,G,X)}}},_prepareDragStart:function(F,E,V){var U=this,W=U.el,Y=U.options,G=W.ownerDocument,X;if(V&&!dragEl&&V.parentNode===W){var K=getRect(V);if(rootEl=W,dragEl=V,parentEl=dragEl.parentNode,nextEl=dragEl.nextSibling,lastDownEl=V,activeGroup=Y.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:(E||F).clientX,clientY:(E||F).clientY},tapDistanceLeft=tapEvt.clientX-K.left,tapDistanceTop=tapEvt.clientY-K.top,this._lastX=(E||F).clientX,this._lastY=(E||F).clientY,dragEl.style["will-change"]="all",X=function(){if(pluginEvent("delayEnded",U,{evt:F}),Sortable.eventCanceled){U._onDrop();return}U._disableDelayedDragEvents(),!FireFox&&U.nativeDraggable&&(dragEl.draggable=!0),U._triggerDragStart(F,E),_dispatchEvent({sortable:U,name:"choose",originalEvent:F}),toggleClass$1(dragEl,Y.chosenClass,!0)},Y.ignore.split(",").forEach(function(Z){find$3(dragEl,Z.trim(),_disableDraggable)}),on(G,"dragover",nearestEmptyInsertDetectEvent),on(G,"mousemove",nearestEmptyInsertDetectEvent),on(G,"touchmove",nearestEmptyInsertDetectEvent),on(G,"mouseup",U._onDrop),on(G,"touchend",U._onDrop),on(G,"touchcancel",U._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt:F}),Y.delay&&(!Y.delayOnTouchOnly||E)&&(!this.nativeDraggable||!(Edge||IE11OrLess))){if(Sortable.eventCanceled){this._onDrop();return}on(G,"mouseup",U._disableDelayedDrag),on(G,"touchend",U._disableDelayedDrag),on(G,"touchcancel",U._disableDelayedDrag),on(G,"mousemove",U._delayedDragTouchMoveHandler),on(G,"touchmove",U._delayedDragTouchMoveHandler),Y.supportPointer&&on(G,"pointermove",U._delayedDragTouchMoveHandler),U._dragStartTimer=setTimeout(X,Y.delay)}else X()}},_delayedDragTouchMoveHandler:function(F){var E=F.touches?F.touches[0]:F;Math.max(Math.abs(E.clientX-this._lastX),Math.abs(E.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var F=this.el.ownerDocument;off(F,"mouseup",this._disableDelayedDrag),off(F,"touchend",this._disableDelayedDrag),off(F,"touchcancel",this._disableDelayedDrag),off(F,"mousemove",this._delayedDragTouchMoveHandler),off(F,"touchmove",this._delayedDragTouchMoveHandler),off(F,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(F,E){E=E||F.pointerType=="touch"&&F,!this.nativeDraggable||E?this.options.supportPointer?on(document,"pointermove",this._onTouchMove):E?on(document,"touchmove",this._onTouchMove):on(document,"mousemove",this._onTouchMove):(on(dragEl,"dragend",this),on(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(F,E){if(awaitingDragStarted=!1,rootEl&&dragEl){pluginEvent("dragStarted",this,{evt:E}),this.nativeDraggable&&on(document,"dragover",_checkOutsideTargetEl);var V=this.options;!F&&toggleClass$1(dragEl,V.dragClass,!1),toggleClass$1(dragEl,V.ghostClass,!0),Sortable.active=this,F&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:E})}else this._nulling()},_emulateDragOver:function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var F=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),E=F;F&&F.shadowRoot&&(F=F.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY),F!==E);)E=F;if(dragEl.parentNode[expando]._isOutsideThisEl(F),E)do{if(E[expando]){var V=void 0;if(V=E[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:F,rootEl:E}),V&&!this.options.dragoverBubble)break}F=E}while(E=E.parentNode);_unhideGhostForTarget()}},_onTouchMove:function(F){if(tapEvt){var E=this.options,V=E.fallbackTolerance,U=E.fallbackOffset,W=F.touches?F.touches[0]:F,Y=ghostEl&&matrix(ghostEl,!0),G=ghostEl&&Y&&Y.a,X=ghostEl&&Y&&Y.d,K=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),Z=(W.clientX-tapEvt.clientX+U.x)/(G||1)+(K?K[0]-ghostRelativeParentInitialScroll[0]:0)/(G||1),J=(W.clientY-tapEvt.clientY+U.y)/(X||1)+(K?K[1]-ghostRelativeParentInitialScroll[1]:0)/(X||1);if(!Sortable.active&&!awaitingDragStarted){if(V&&Math.max(Math.abs(W.clientX-this._lastX),Math.abs(W.clientY-this._lastY))<V)return;this._onDragStart(F,!0)}if(ghostEl){Y?(Y.e+=Z-(lastDx||0),Y.f+=J-(lastDy||0)):Y={a:1,b:0,c:0,d:1,e:Z,f:J};var Q="matrix(".concat(Y.a,",").concat(Y.b,",").concat(Y.c,",").concat(Y.d,",").concat(Y.e,",").concat(Y.f,")");css(ghostEl,"webkitTransform",Q),css(ghostEl,"mozTransform",Q),css(ghostEl,"msTransform",Q),css(ghostEl,"transform",Q),lastDx=Z,lastDy=J,touchEvt=W}F.cancelable&&F.preventDefault()}},_appendGhost:function(){if(!ghostEl){var F=this.options.fallbackOnBody?document.body:rootEl,E=getRect(dragEl,!0,PositionGhostAbsolutely,!0,F),V=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=F;css(ghostRelativeParent,"position")==="static"&&css(ghostRelativeParent,"transform")==="none"&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),E.top+=ghostRelativeParent.scrollTop,E.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}ghostEl=dragEl.cloneNode(!0),toggleClass$1(ghostEl,V.ghostClass,!1),toggleClass$1(ghostEl,V.fallbackClass,!0),toggleClass$1(ghostEl,V.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",E.top),css(ghostEl,"left",E.left),css(ghostEl,"width",E.width),css(ghostEl,"height",E.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,F.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},_onDragStart:function(F,E){var V=this,U=F.dataTransfer,W=V.options;if(pluginEvent("dragStart",this,{evt:F}),Sortable.eventCanceled){this._onDrop();return}pluginEvent("setupClone",this),Sortable.eventCanceled||(cloneEl=clone$3(dragEl),cloneEl.draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass$1(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),V.cloneId=_nextTick(function(){pluginEvent("clone",V),!Sortable.eventCanceled&&(V.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),V._hideClone(),_dispatchEvent({sortable:V,name:"clone"}))}),!E&&toggleClass$1(dragEl,W.dragClass,!0),E?(ignoreNextClick=!0,V._loopId=setInterval(V._emulateDragOver,50)):(off(document,"mouseup",V._onDrop),off(document,"touchend",V._onDrop),off(document,"touchcancel",V._onDrop),U&&(U.effectAllowed="move",W.setData&&W.setData.call(V,U,dragEl)),on(document,"drop",V),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,V._dragStartId=_nextTick(V._dragStarted.bind(V,E,F)),on(document,"selectstart",V),moved=!0,Safari&&css(document.body,"user-select","none")},_onDragOver:function(F){var E=this.el,V=F.target,U,W,Y,G=this.options,X=G.group,K=Sortable.active,Z=activeGroup===X,J=G.sort,Q=putSortable||K,ee,te=this,ie=!1;if(_silent)return;function ne(we,Pe){pluginEvent(we,te,_objectSpread$1({evt:F,isOwner:Z,axis:ee?"vertical":"horizontal",revert:Y,dragRect:U,targetRect:W,canSort:J,fromSortable:Q,target:V,completed:se,onMove:function(Ae,Se){return _onMove(rootEl,E,dragEl,U,Ae,getRect(Ae),F,Se)},changed:oe},Pe))}function ae(){ne("dragOverAnimationCapture"),te.captureAnimationState(),te!==Q&&Q.captureAnimationState()}function se(we){return ne("dragOverCompleted",{insertion:we}),we&&(Z?K._hideClone():K._showClone(te),te!==Q&&(toggleClass$1(dragEl,putSortable?putSortable.options.ghostClass:K.options.ghostClass,!1),toggleClass$1(dragEl,G.ghostClass,!0)),putSortable!==te&&te!==Sortable.active?putSortable=te:te===Sortable.active&&putSortable&&(putSortable=null),Q===te&&(te._ignoreWhileAnimating=V),te.animateAll(function(){ne("dragOverAnimationComplete"),te._ignoreWhileAnimating=null}),te!==Q&&(Q.animateAll(),Q._ignoreWhileAnimating=null)),(V===dragEl&&!dragEl.animated||V===E&&!V.animated)&&(lastTarget=null),!G.dragoverBubble&&!F.rootEl&&V!==document&&(dragEl.parentNode[expando]._isOutsideThisEl(F.target),!we&&nearestEmptyInsertDetectEvent(F)),!G.dragoverBubble&&F.stopPropagation&&F.stopPropagation(),ie=!0}function oe(){newIndex=index$1(dragEl),newDraggableIndex=index$1(dragEl,G.draggable),_dispatchEvent({sortable:te,name:"change",toEl:E,newIndex,newDraggableIndex,originalEvent:F})}if(F.preventDefault!==void 0&&F.cancelable&&F.preventDefault(),V=closest$1(V,G.draggable,E,!0),ne("dragOver"),Sortable.eventCanceled)return ie;if(dragEl.contains(F.target)||V.animated&&V.animatingX&&V.animatingY||te._ignoreWhileAnimating===V)return se(!1);if(ignoreNextClick=!1,K&&!G.disabled&&(Z?J||(Y=!rootEl.contains(dragEl)):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,K,dragEl,F))&&X.checkPut(this,K,dragEl,F))){if(ee=this._getDirection(F,V)==="vertical",U=getRect(dragEl),ne("dragOverValid"),Sortable.eventCanceled)return ie;if(Y)return parentEl=rootEl,ae(),this._hideClone(),ne("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),se(!0);var le=lastChild(E,G.draggable);if(!le||_ghostIsLast(F,ee,this)&&!le.animated){if(le===dragEl)return se(!1);if(le&&E===F.target&&(V=le),V&&(W=getRect(V)),_onMove(rootEl,E,dragEl,U,V,W,F,!!V)!==!1)return ae(),E.appendChild(dragEl),parentEl=E,oe(),se(!0)}else if(V.parentNode===E){W=getRect(V);var ue=0,ce,he=dragEl.parentNode!==E,de=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||U,V.animated&&V.toRect||W,ee),fe=ee?"top":"left",Te=isScrolledPast(V,"top","top")||isScrolledPast(dragEl,"top","top"),xe=Te?Te.scrollTop:void 0;lastTarget!==V&&(ce=W[fe],pastFirstInvertThresh=!1,isCircumstantialInvert=!de&&G.invertSwap||he),ue=_getSwapDirection(F,V,W,ee,de?1:G.swapThreshold,G.invertedSwapThreshold==null?G.swapThreshold:G.invertedSwapThreshold,isCircumstantialInvert,lastTarget===V);var pe;if(ue!==0){var _e=index$1(dragEl);do _e-=ue,pe=parentEl.children[_e];while(pe&&(css(pe,"display")==="none"||pe===ghostEl))}if(ue===0||pe===V)return se(!1);lastTarget=V,lastDirection=ue;var Ce=V.nextElementSibling,be=!1;be=ue===1;var ge=_onMove(rootEl,E,dragEl,U,V,W,F,be);if(ge!==!1)return(ge===1||ge===-1)&&(be=ge===1),_silent=!0,setTimeout(_unsilent,30),ae(),be&&!Ce?E.appendChild(dragEl):V.parentNode.insertBefore(dragEl,be?Ce:V),Te&&scrollBy(Te,0,xe-Te.scrollTop),parentEl=dragEl.parentNode,ce!==void 0&&!isCircumstantialInvert&&(targetMoveDistance=Math.abs(ce-getRect(V)[fe])),oe(),se(!0)}if(E.contains(dragEl))return se(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},_offUpEvents:function(){var F=this.el.ownerDocument;off(F,"mouseup",this._onDrop),off(F,"touchend",this._onDrop),off(F,"pointerup",this._onDrop),off(F,"touchcancel",this._onDrop),off(document,"selectstart",this)},_onDrop:function(F){var E=this.el,V=this.options;if(newIndex=index$1(dragEl),newDraggableIndex=index$1(dragEl,V.draggable),pluginEvent("drop",this,{evt:F}),parentEl=dragEl&&dragEl.parentNode,newIndex=index$1(dragEl),newDraggableIndex=index$1(dragEl,V.draggable),Sortable.eventCanceled){this._nulling();return}awaitingDragStarted=!1,isCircumstantialInvert=!1,pastFirstInvertThresh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off(E,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),F&&(moved&&(F.cancelable&&F.preventDefault(),!V.dropBubble&&F.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&putSortable.lastPutMode!=="clone")&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass$1(dragEl,putSortable?putSortable.options.ghostClass:this.options.ghostClass,!1),toggleClass$1(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:F}),rootEl!==parentEl?(newIndex>=0&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:F}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:F}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:F}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:F})),putSortable&&putSortable.save()):newIndex!==oldIndex&&newIndex>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:F}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:F})),Sortable.active&&((newIndex==null||newIndex===-1)&&(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:F}),this.save()))),this._nulling()},_nulling:function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach(function(F){F.checked=!0}),savedInputChecked.length=lastDx=lastDy=0},handleEvent:function(F){switch(F.type){case"drop":case"dragend":this._onDrop(F);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(F),_globalDragOver(F));break;case"selectstart":F.preventDefault();break}},toArray:function(){for(var F=[],E,V=this.el.children,U=0,W=V.length,Y=this.options;U<W;U++)E=V[U],closest$1(E,Y.draggable,this.el,!1)&&F.push(E.getAttribute(Y.dataIdAttr)||_generateId(E));return F},sort:function(F){var E={},V=this.el;this.toArray().forEach(function(U,W){var Y=V.children[W];closest$1(Y,this.options.draggable,V,!1)&&(E[U]=Y)},this),F.forEach(function(U){E[U]&&(V.removeChild(E[U]),V.appendChild(E[U]))})},save:function(){var F=this.options.store;F&&F.set&&F.set(this)},closest:function(F,E){return closest$1(F,E||this.options.draggable,this.el,!1)},option:function(F,E){var V=this.options;if(E===void 0)return V[F];var U=PluginManager.modifyOption(this,F,E);typeof U<"u"?V[F]=U:V[F]=E,F==="group"&&_prepareGroup(V)},destroy:function(){pluginEvent("destroy",this);var F=this.el;F[expando]=null,off(F,"mousedown",this._onTapStart),off(F,"touchstart",this._onTapStart),off(F,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(F,"dragover",this),off(F,"dragenter",this)),Array.prototype.forEach.call(F.querySelectorAll("[draggable]"),function(E){E.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=F=null},_hideClone:function(){if(!cloneHidden){if(pluginEvent("hideClone",this),Sortable.eventCanceled)return;css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0}},_showClone:function(F){if(F.lastPutMode!=="clone"){this._hideClone();return}if(cloneHidden){if(pluginEvent("showClone",this),Sortable.eventCanceled)return;rootEl.contains(dragEl)&&!this.options.group.revertClone?rootEl.insertBefore(cloneEl,dragEl):nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1}}};function _globalDragOver(R){R.dataTransfer&&(R.dataTransfer.dropEffect="move"),R.cancelable&&R.preventDefault()}function _onMove(R,F,E,V,U,W,Y,G){var X,K=R[expando],Z=K.options.onMove,J;return window.CustomEvent&&!IE11OrLess&&!Edge?X=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(X=document.createEvent("Event"),X.initEvent("move",!0,!0)),X.to=F,X.from=R,X.dragged=E,X.draggedRect=V,X.related=U||F,X.relatedRect=W||getRect(F),X.willInsertAfter=G,X.originalEvent=Y,R.dispatchEvent(X),Z&&(J=Z.call(K,X,Y)),J}function _disableDraggable(R){R.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsLast(R,F,E){var V=getRect(lastChild(E.el,E.options.draggable)),U=10;return F?R.clientX>V.right+U||R.clientX<=V.right&&R.clientY>V.bottom&&R.clientX>=V.left:R.clientX>V.right&&R.clientY>V.top||R.clientX<=V.right&&R.clientY>V.bottom+U}function _getSwapDirection(R,F,E,V,U,W,Y,G){var X=V?R.clientY:R.clientX,K=V?E.height:E.width,Z=V?E.top:E.left,J=V?E.bottom:E.right,Q=!1;if(!Y){if(G&&targetMoveDistance<K*U){if(!pastFirstInvertThresh&&(lastDirection===1?X>Z+K*W/2:X<J-K*W/2)&&(pastFirstInvertThresh=!0),pastFirstInvertThresh)Q=!0;else if(lastDirection===1?X<Z+targetMoveDistance:X>J-targetMoveDistance)return-lastDirection}else if(X>Z+K*(1-U)/2&&X<J-K*(1-U)/2)return _getInsertDirection(F)}return Q=Q||Y,Q&&(X<Z+K*W/2||X>J-K*W/2)?X>Z+K/2?1:-1:0}function _getInsertDirection(R){return index$1(dragEl)<index$1(R)?1:-1}function _generateId(R){for(var F=R.tagName+R.className+R.src+R.href+R.textContent,E=F.length,V=0;E--;)V+=F.charCodeAt(E);return V.toString(36)}function _saveInputCheckedState(R){savedInputChecked.length=0;for(var F=R.getElementsByTagName("input"),E=F.length;E--;){var V=F[E];V.checked&&savedInputChecked.push(V)}}function _nextTick(R){return setTimeout(R,0)}function _cancelNextTick(R){return clearTimeout(R)}documentExists&&on(document,"touchmove",function(R){(Sortable.active||awaitingDragStarted)&&R.cancelable&&R.preventDefault()});Sortable.utils={on,off,css,find:find$3,is:function(F,E){return!!closest$1(F,E,F,!1)},extend:extend$5,throttle:throttle$1,closest:closest$1,toggleClass:toggleClass$1,clone:clone$3,index:index$1,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild};Sortable.get=function(R){return R[expando]};Sortable.mount=function(){for(var R=arguments.length,F=new Array(R),E=0;E<R;E++)F[E]=arguments[E];F[0].constructor===Array&&(F=F[0]),F.forEach(function(V){if(!V.prototype||!V.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(V));V.utils&&(Sortable.utils=_objectSpread$1({},Sortable.utils,V.utils)),PluginManager.mount(V)})};Sortable.create=function(R,F){return new Sortable(R,F)};Sortable.version=version$1;var autoScrolls=[],scrollEl,scrollRootEl,scrolling=!1,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval;function AutoScrollPlugin(){function R(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var F in this)F.charAt(0)==="_"&&typeof this[F]=="function"&&(this[F]=this[F].bind(this))}return R.prototype={dragStarted:function(E){var V=E.originalEvent;this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on(document,"pointermove",this._handleFallbackAutoScroll):V.touches?on(document,"touchmove",this._handleFallbackAutoScroll):on(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(E){var V=E.originalEvent;!this.options.dragOverBubble&&!V.rootEl&&this._handleAutoScroll(V)},drop:function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},nulling:function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},_handleFallbackAutoScroll:function(E){this._handleAutoScroll(E,!0)},_handleAutoScroll:function(E,V){var U=this,W=(E.touches?E.touches[0]:E).clientX,Y=(E.touches?E.touches[0]:E).clientY,G=document.elementFromPoint(W,Y);if(touchEvt$1=E,V||Edge||IE11OrLess||Safari){autoScroll(E,this.options,G,V);var X=getParentAutoScrollElement(G,!0);scrolling&&(!pointerElemChangedInterval||W!==lastAutoScrollX||Y!==lastAutoScrollY)&&(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval(function(){var K=getParentAutoScrollElement(document.elementFromPoint(W,Y),!0);K!==X&&(X=K,clearAutoScrolls()),autoScroll(E,U.options,K,V)},10),lastAutoScrollX=W,lastAutoScrollY=Y)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(G,!0)===getWindowScrollingElement()){clearAutoScrolls();return}autoScroll(E,this.options,getParentAutoScrollElement(G,!1),!1)}}},_extends$1(R,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach(function(R){clearInterval(R.pid)}),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}var autoScroll=throttle$1(function(R,F,E,V){if(!!F.scroll){var U=(R.touches?R.touches[0]:R).clientX,W=(R.touches?R.touches[0]:R).clientY,Y=F.scrollSensitivity,G=F.scrollSpeed,X=getWindowScrollingElement(),K=!1,Z;scrollRootEl!==E&&(scrollRootEl=E,clearAutoScrolls(),scrollEl=F.scroll,Z=F.scrollFn,scrollEl===!0&&(scrollEl=getParentAutoScrollElement(E,!0)));var J=0,Q=scrollEl;do{var ee=Q,te=getRect(ee),ie=te.top,ne=te.bottom,ae=te.left,se=te.right,oe=te.width,le=te.height,ue=void 0,ce=void 0,he=ee.scrollWidth,de=ee.scrollHeight,fe=css(ee),Te=ee.scrollLeft,xe=ee.scrollTop;ee===X?(ue=oe<he&&(fe.overflowX==="auto"||fe.overflowX==="scroll"||fe.overflowX==="visible"),ce=le<de&&(fe.overflowY==="auto"||fe.overflowY==="scroll"||fe.overflowY==="visible")):(ue=oe<he&&(fe.overflowX==="auto"||fe.overflowX==="scroll"),ce=le<de&&(fe.overflowY==="auto"||fe.overflowY==="scroll"));var pe=ue&&(Math.abs(se-U)<=Y&&Te+oe<he)-(Math.abs(ae-U)<=Y&&!!Te),_e=ce&&(Math.abs(ne-W)<=Y&&xe+le<de)-(Math.abs(ie-W)<=Y&&!!xe);if(!autoScrolls[J])for(var Ce=0;Ce<=J;Ce++)autoScrolls[Ce]||(autoScrolls[Ce]={});(autoScrolls[J].vx!=pe||autoScrolls[J].vy!=_e||autoScrolls[J].el!==ee)&&(autoScrolls[J].el=ee,autoScrolls[J].vx=pe,autoScrolls[J].vy=_e,clearInterval(autoScrolls[J].pid),(pe!=0||_e!=0)&&(K=!0,autoScrolls[J].pid=setInterval(function(){V&&this.layer===0&&Sortable.active._onTouchMove(touchEvt$1);var be=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*G:0,ge=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*G:0;typeof Z=="function"&&Z.call(Sortable.dragged.parentNode[expando],ge,be,R,touchEvt$1,autoScrolls[this.layer].el)!=="continue"||scrollBy(autoScrolls[this.layer].el,ge,be)}.bind({layer:J}),24))),J++}while(F.bubbleScroll&&Q!==X&&(Q=getParentAutoScrollElement(Q,!1)));scrolling=K}},30),drop=function(F){var E=F.originalEvent,V=F.putSortable,U=F.dragEl,W=F.activeSortable,Y=F.dispatchSortableEvent,G=F.hideGhostForTarget,X=F.unhideGhostForTarget;if(!!E){var K=V||W;G();var Z=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:E,J=document.elementFromPoint(Z.clientX,Z.clientY);X(),K&&!K.el.contains(J)&&(Y("spill"),this.onSpill({dragEl:U,putSortable:V}))}};function Revert(){}Revert.prototype={startIndex:null,dragStart:function(F){var E=F.oldDraggableIndex;this.startIndex=E},onSpill:function(F){var E=F.dragEl,V=F.putSortable;this.sortable.captureAnimationState(),V&&V.captureAnimationState();var U=getChild(this.sortable.el,this.startIndex,this.options);U?this.sortable.el.insertBefore(E,U):this.sortable.el.appendChild(E),this.sortable.animateAll(),V&&V.animateAll()},drop};_extends$1(Revert,{pluginName:"revertOnSpill"});function Remove(){}Remove.prototype={onSpill:function(F){var E=F.dragEl,V=F.putSortable,U=V||this.sortable;U.captureAnimationState(),E.parentNode&&E.parentNode.removeChild(E),U.animateAll()},drop};_extends$1(Remove,{pluginName:"removeOnSpill"});var lastSwapEl;function SwapPlugin(){function R(){this.defaults={swapClass:"sortable-swap-highlight"}}return R.prototype={dragStart:function(E){var V=E.dragEl;lastSwapEl=V},dragOverValid:function(E){var V=E.completed,U=E.target,W=E.onMove,Y=E.activeSortable,G=E.changed,X=E.cancel;if(!!Y.options.swap){var K=this.sortable.el,Z=this.options;if(U&&U!==K){var J=lastSwapEl;W(U)!==!1?(toggleClass$1(U,Z.swapClass,!0),lastSwapEl=U):lastSwapEl=null,J&&J!==lastSwapEl&&toggleClass$1(J,Z.swapClass,!1)}G(),V(!0),X()}},drop:function(E){var V=E.activeSortable,U=E.putSortable,W=E.dragEl,Y=U||this.sortable,G=this.options;lastSwapEl&&toggleClass$1(lastSwapEl,G.swapClass,!1),lastSwapEl&&(G.swap||U&&U.options.swap)&&W!==lastSwapEl&&(Y.captureAnimationState(),Y!==V&&V.captureAnimationState(),swapNodes(W,lastSwapEl),Y.animateAll(),Y!==V&&V.animateAll())},nulling:function(){lastSwapEl=null}},_extends$1(R,{pluginName:"swap",eventProperties:function(){return{swapItem:lastSwapEl}}})}function swapNodes(R,F){var E=R.parentNode,V=F.parentNode,U,W;!E||!V||E.isEqualNode(F)||V.isEqualNode(R)||(U=index$1(R),W=index$1(F),E.isEqualNode(V)&&U<W&&W++,E.insertBefore(F,E.children[U]),V.insertBefore(R,V.children[W]))}var multiDragElements=[],multiDragClones=[],lastMultiDragSelect,multiDragSortable,initialFolding=!1,folding=!1,dragStarted=!1,dragEl$1,clonesFromRect,clonesHidden;function MultiDragPlugin(){function R(F){for(var E in this)E.charAt(0)==="_"&&typeof this[E]=="function"&&(this[E]=this[E].bind(this));F.options.supportPointer?on(document,"pointerup",this._deselectMultiDrag):(on(document,"mouseup",this._deselectMultiDrag),on(document,"touchend",this._deselectMultiDrag)),on(document,"keydown",this._checkKeyDown),on(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(U,W){var Y="";multiDragElements.length&&multiDragSortable===F?multiDragElements.forEach(function(G,X){Y+=(X?", ":"")+G.textContent}):Y=W.textContent,U.setData("Text",Y)}}}return R.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(E){var V=E.dragEl;dragEl$1=V},delayEnded:function(){this.isMultiDrag=~multiDragElements.indexOf(dragEl$1)},setupClone:function(E){var V=E.sortable,U=E.cancel;if(!!this.isMultiDrag){for(var W=0;W<multiDragElements.length;W++)multiDragClones.push(clone$3(multiDragElements[W])),multiDragClones[W].sortableIndex=multiDragElements[W].sortableIndex,multiDragClones[W].draggable=!1,multiDragClones[W].style["will-change"]="",toggleClass$1(multiDragClones[W],this.options.selectedClass,!1),multiDragElements[W]===dragEl$1&&toggleClass$1(multiDragClones[W],this.options.chosenClass,!1);V._hideClone(),U()}},clone:function(E){var V=E.sortable,U=E.rootEl,W=E.dispatchSortableEvent,Y=E.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||multiDragElements.length&&multiDragSortable===V&&(insertMultiDragClones(!0,U),W("clone"),Y())},showClone:function(E){var V=E.cloneNowShown,U=E.rootEl,W=E.cancel;!this.isMultiDrag||(insertMultiDragClones(!1,U),multiDragClones.forEach(function(Y){css(Y,"display","")}),V(),clonesHidden=!1,W())},hideClone:function(E){var V=this;E.sortable;var U=E.cloneNowHidden,W=E.cancel;!this.isMultiDrag||(multiDragClones.forEach(function(Y){css(Y,"display","none"),V.options.removeCloneOnHide&&Y.parentNode&&Y.parentNode.removeChild(Y)}),U(),clonesHidden=!0,W())},dragStartGlobal:function(E){E.sortable,!this.isMultiDrag&&multiDragSortable&&multiDragSortable.multiDrag._deselectMultiDrag(),multiDragElements.forEach(function(V){V.sortableIndex=index$1(V)}),multiDragElements=multiDragElements.sort(function(V,U){return V.sortableIndex-U.sortableIndex}),dragStarted=!0},dragStarted:function(E){var V=this,U=E.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(U.captureAnimationState(),this.options.animation)){multiDragElements.forEach(function(Y){Y!==dragEl$1&&css(Y,"position","absolute")});var W=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(Y){Y!==dragEl$1&&setRect(Y,W)}),folding=!0,initialFolding=!0}U.animateAll(function(){folding=!1,initialFolding=!1,V.options.animation&&multiDragElements.forEach(function(Y){unsetRect(Y)}),V.options.sort&&removeMultiDragElements()})}},dragOver:function(E){var V=E.target,U=E.completed,W=E.cancel;folding&&~multiDragElements.indexOf(V)&&(U(!1),W())},revert:function(E){var V=E.fromSortable,U=E.rootEl,W=E.sortable,Y=E.dragRect;multiDragElements.length>1&&(multiDragElements.forEach(function(G){W.addAnimationState({target:G,rect:folding?getRect(G):Y}),unsetRect(G),G.fromRect=Y,V.removeAnimationState(G)}),folding=!1,insertMultiDragElements(!this.options.removeCloneOnHide,U))},dragOverCompleted:function(E){var V=E.sortable,U=E.isOwner,W=E.insertion,Y=E.activeSortable,G=E.parentEl,X=E.putSortable,K=this.options;if(W){if(U&&Y._hideClone(),initialFolding=!1,K.animation&&multiDragElements.length>1&&(folding||!U&&!Y.options.sort&&!X)){var Z=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(Q){Q!==dragEl$1&&(setRect(Q,Z),G.appendChild(Q))}),folding=!0}if(!U)if(folding||removeMultiDragElements(),multiDragElements.length>1){var J=clonesHidden;Y._showClone(V),Y.options.animation&&!clonesHidden&&J&&multiDragClones.forEach(function(Q){Y.addAnimationState({target:Q,rect:clonesFromRect}),Q.fromRect=clonesFromRect,Q.thisAnimationDuration=null})}else Y._showClone(V)}},dragOverAnimationCapture:function(E){var V=E.dragRect,U=E.isOwner,W=E.activeSortable;if(multiDragElements.forEach(function(G){G.thisAnimationDuration=null}),W.options.animation&&!U&&W.multiDrag.isMultiDrag){clonesFromRect=_extends$1({},V);var Y=matrix(dragEl$1,!0);clonesFromRect.top-=Y.f,clonesFromRect.left-=Y.e}},dragOverAnimationComplete:function(){folding&&(folding=!1,removeMultiDragElements())},drop:function(E){var V=E.originalEvent,U=E.rootEl,W=E.parentEl,Y=E.sortable,G=E.dispatchSortableEvent,X=E.oldIndex,K=E.putSortable,Z=K||this.sortable;if(!!V){var J=this.options,Q=W.children;if(!dragStarted)if(J.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),toggleClass$1(dragEl$1,J.selectedClass,!~multiDragElements.indexOf(dragEl$1)),~multiDragElements.indexOf(dragEl$1))multiDragElements.splice(multiDragElements.indexOf(dragEl$1),1),lastMultiDragSelect=null,dispatchEvent$1({sortable:Y,rootEl:U,name:"deselect",targetEl:dragEl$1,originalEvt:V});else{if(multiDragElements.push(dragEl$1),dispatchEvent$1({sortable:Y,rootEl:U,name:"select",targetEl:dragEl$1,originalEvt:V}),V.shiftKey&&lastMultiDragSelect&&Y.el.contains(lastMultiDragSelect)){var ee=index$1(lastMultiDragSelect),te=index$1(dragEl$1);if(~ee&&~te&&ee!==te){var ie,ne;for(te>ee?(ne=ee,ie=te):(ne=te,ie=ee+1);ne<ie;ne++)~multiDragElements.indexOf(Q[ne])||(toggleClass$1(Q[ne],J.selectedClass,!0),multiDragElements.push(Q[ne]),dispatchEvent$1({sortable:Y,rootEl:U,name:"select",targetEl:Q[ne],originalEvt:V}))}}else lastMultiDragSelect=dragEl$1;multiDragSortable=Z}if(dragStarted&&this.isMultiDrag){if((W[expando].options.sort||W!==U)&&multiDragElements.length>1){var ae=getRect(dragEl$1),se=index$1(dragEl$1,":not(."+this.options.selectedClass+")");if(!initialFolding&&J.animation&&(dragEl$1.thisAnimationDuration=null),Z.captureAnimationState(),!initialFolding&&(J.animation&&(dragEl$1.fromRect=ae,multiDragElements.forEach(function(le){if(le.thisAnimationDuration=null,le!==dragEl$1){var ue=folding?getRect(le):ae;le.fromRect=ue,Z.addAnimationState({target:le,rect:ue})}})),removeMultiDragElements(),multiDragElements.forEach(function(le){Q[se]?W.insertBefore(le,Q[se]):W.appendChild(le),se++}),X===index$1(dragEl$1))){var oe=!1;multiDragElements.forEach(function(le){if(le.sortableIndex!==index$1(le)){oe=!0;return}}),oe&&G("update")}multiDragElements.forEach(function(le){unsetRect(le)}),Z.animateAll()}multiDragSortable=Z}(U===W||K&&K.lastPutMode!=="clone")&&multiDragClones.forEach(function(le){le.parentNode&&le.parentNode.removeChild(le)})}},nullingGlobal:function(){this.isMultiDrag=dragStarted=!1,multiDragClones.length=0},destroyGlobal:function(){this._deselectMultiDrag(),off(document,"pointerup",this._deselectMultiDrag),off(document,"mouseup",this._deselectMultiDrag),off(document,"touchend",this._deselectMultiDrag),off(document,"keydown",this._checkKeyDown),off(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(E){if(!(typeof dragStarted<"u"&&dragStarted)&&multiDragSortable===this.sortable&&!(E&&closest$1(E.target,this.options.draggable,this.sortable.el,!1))&&!(E&&E.button!==0))for(;multiDragElements.length;){var V=multiDragElements[0];toggleClass$1(V,this.options.selectedClass,!1),multiDragElements.shift(),dispatchEvent$1({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:V,originalEvt:E})}},_checkKeyDown:function(E){E.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(E){E.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},_extends$1(R,{pluginName:"multiDrag",utils:{select:function(E){var V=E.parentNode[expando];!V||!V.options.multiDrag||~multiDragElements.indexOf(E)||(multiDragSortable&&multiDragSortable!==V&&(multiDragSortable.multiDrag._deselectMultiDrag(),multiDragSortable=V),toggleClass$1(E,V.options.selectedClass,!0),multiDragElements.push(E))},deselect:function(E){var V=E.parentNode[expando],U=multiDragElements.indexOf(E);!V||!V.options.multiDrag||!~U||(toggleClass$1(E,V.options.selectedClass,!1),multiDragElements.splice(U,1))}},eventProperties:function(){var E=this,V=[],U=[];return multiDragElements.forEach(function(W){V.push({multiDragElement:W,index:W.sortableIndex});var Y;folding&&W!==dragEl$1?Y=-1:folding?Y=index$1(W,":not(."+E.options.selectedClass+")"):Y=index$1(W),U.push({multiDragElement:W,index:Y})}),{items:_toConsumableArray$1(multiDragElements),clones:[].concat(multiDragClones),oldIndicies:V,newIndicies:U}},optionListeners:{multiDragKey:function(E){return E=E.toLowerCase(),E==="ctrl"?E="Control":E.length>1&&(E=E.charAt(0).toUpperCase()+E.substr(1)),E}}})}function insertMultiDragElements(R,F){multiDragElements.forEach(function(E,V){var U=F.children[E.sortableIndex+(R?Number(V):0)];U?F.insertBefore(E,U):F.appendChild(E)})}function insertMultiDragClones(R,F){multiDragClones.forEach(function(E,V){var U=F.children[E.sortableIndex+(R?Number(V):0)];U?F.insertBefore(E,U):F.appendChild(E)})}function removeMultiDragElements(){multiDragElements.forEach(function(R){R!==dragEl$1&&R.parentNode&&R.parentNode.removeChild(R)})}Sortable.mount(new AutoScrollPlugin);Sortable.mount(Remove,Revert);const sortable_esm=Object.freeze(Object.defineProperty({__proto__:null,default:Sortable,MultiDrag:MultiDragPlugin,Sortable,Swap:SwapPlugin},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(sortable_esm);(function(R,F){(function(V,U){R.exports=U(require$$0)})(typeof self<"u"?self:commonjsGlobal,function(E){return function(V){var U={};function W(Y){if(U[Y])return U[Y].exports;var G=U[Y]={i:Y,l:!1,exports:{}};return V[Y].call(G.exports,G,G.exports,W),G.l=!0,G.exports}return W.m=V,W.c=U,W.d=function(Y,G,X){W.o(Y,G)||Object.defineProperty(Y,G,{enumerable:!0,get:X})},W.r=function(Y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})},W.t=function(Y,G){if(G&1&&(Y=W(Y)),G&8||G&4&&typeof Y=="object"&&Y&&Y.__esModule)return Y;var X=Object.create(null);if(W.r(X),Object.defineProperty(X,"default",{enumerable:!0,value:Y}),G&2&&typeof Y!="string")for(var K in Y)W.d(X,K,function(Z){return Y[Z]}.bind(null,K));return X},W.n=function(Y){var G=Y&&Y.__esModule?function(){return Y.default}:function(){return Y};return W.d(G,"a",G),G},W.o=function(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)},W.p="",W(W.s="fb15")}({"01f9":function(V,U,W){var Y=W("2d00"),G=W("5ca1"),X=W("2aba"),K=W("32e9"),Z=W("84f2"),J=W("41a0"),Q=W("7f20"),ee=W("38fd"),te=W("2b4c")("iterator"),ie=!([].keys&&"next"in[].keys()),ne="@@iterator",ae="keys",se="values",oe=function(){return this};V.exports=function(le,ue,ce,he,de,fe,Te){J(ce,ue,he);var xe=function($e){if(!ie&&$e in be)return be[$e];switch($e){case ae:return function(){return new ce(this,$e)};case se:return function(){return new ce(this,$e)}}return function(){return new ce(this,$e)}},pe=ue+" Iterator",_e=de==se,Ce=!1,be=le.prototype,ge=be[te]||be[ne]||de&&be[de],we=ge||xe(de),Pe=de?_e?xe("entries"):we:void 0,Oe=ue=="Array"&&be.entries||ge,Ae,Se,ye;if(Oe&&(ye=ee(Oe.call(new le)),ye!==Object.prototype&&ye.next&&(Q(ye,pe,!0),!Y&&typeof ye[te]!="function"&&K(ye,te,oe))),_e&&ge&&ge.name!==se&&(Ce=!0,we=function(){return ge.call(this)}),(!Y||Te)&&(ie||Ce||!be[te])&&K(be,te,we),Z[ue]=we,Z[pe]=oe,de)if(Ae={values:_e?we:xe(se),keys:fe?we:xe(ae),entries:Pe},Te)for(Se in Ae)Se in be||X(be,Se,Ae[Se]);else G(G.P+G.F*(ie||Ce),ue,Ae);return Ae}},"02f4":function(V,U,W){var Y=W("4588"),G=W("be13");V.exports=function(X){return function(K,Z){var J=String(G(K)),Q=Y(Z),ee=J.length,te,ie;return Q<0||Q>=ee?X?"":void 0:(te=J.charCodeAt(Q),te<55296||te>56319||Q+1===ee||(ie=J.charCodeAt(Q+1))<56320||ie>57343?X?J.charAt(Q):te:X?J.slice(Q,Q+2):(te-55296<<10)+(ie-56320)+65536)}}},"0390":function(V,U,W){var Y=W("02f4")(!0);V.exports=function(G,X,K){return X+(K?Y(G,X).length:1)}},"0bfb":function(V,U,W){var Y=W("cb7c");V.exports=function(){var G=Y(this),X="";return G.global&&(X+="g"),G.ignoreCase&&(X+="i"),G.multiline&&(X+="m"),G.unicode&&(X+="u"),G.sticky&&(X+="y"),X}},"0d58":function(V,U,W){var Y=W("ce10"),G=W("e11e");V.exports=Object.keys||function(K){return Y(K,G)}},1495:function(V,U,W){var Y=W("86cc"),G=W("cb7c"),X=W("0d58");V.exports=W("9e1e")?Object.defineProperties:function(Z,J){G(Z);for(var Q=X(J),ee=Q.length,te=0,ie;ee>te;)Y.f(Z,ie=Q[te++],J[ie]);return Z}},"214f":function(V,U,W){W("b0c5");var Y=W("2aba"),G=W("32e9"),X=W("79e5"),K=W("be13"),Z=W("2b4c"),J=W("520a"),Q=Z("species"),ee=!X(function(){var ie=/./;return ie.exec=function(){var ne=[];return ne.groups={a:"7"},ne},"".replace(ie,"$<a>")!=="7"}),te=function(){var ie=/(?:)/,ne=ie.exec;ie.exec=function(){return ne.apply(this,arguments)};var ae="ab".split(ie);return ae.length===2&&ae[0]==="a"&&ae[1]==="b"}();V.exports=function(ie,ne,ae){var se=Z(ie),oe=!X(function(){var fe={};return fe[se]=function(){return 7},""[ie](fe)!=7}),le=oe?!X(function(){var fe=!1,Te=/a/;return Te.exec=function(){return fe=!0,null},ie==="split"&&(Te.constructor={},Te.constructor[Q]=function(){return Te}),Te[se](""),!fe}):void 0;if(!oe||!le||ie==="replace"&&!ee||ie==="split"&&!te){var ue=/./[se],ce=ae(K,se,""[ie],function(Te,xe,pe,_e,Ce){return xe.exec===J?oe&&!Ce?{done:!0,value:ue.call(xe,pe,_e)}:{done:!0,value:Te.call(pe,xe,_e)}:{done:!1}}),he=ce[0],de=ce[1];Y(String.prototype,ie,he),G(RegExp.prototype,se,ne==2?function(fe,Te){return de.call(fe,this,Te)}:function(fe){return de.call(fe,this)})}}},"230e":function(V,U,W){var Y=W("d3f4"),G=W("7726").document,X=Y(G)&&Y(G.createElement);V.exports=function(K){return X?G.createElement(K):{}}},"23c6":function(V,U,W){var Y=W("2d95"),G=W("2b4c")("toStringTag"),X=Y(function(){return arguments}())=="Arguments",K=function(Z,J){try{return Z[J]}catch{}};V.exports=function(Z){var J,Q,ee;return Z===void 0?"Undefined":Z===null?"Null":typeof(Q=K(J=Object(Z),G))=="string"?Q:X?Y(J):(ee=Y(J))=="Object"&&typeof J.callee=="function"?"Arguments":ee}},2621:function(V,U){U.f=Object.getOwnPropertySymbols},"2aba":function(V,U,W){var Y=W("7726"),G=W("32e9"),X=W("69a8"),K=W("ca5a")("src"),Z=W("fa5b"),J="toString",Q=(""+Z).split(J);W("8378").inspectSource=function(ee){return Z.call(ee)},(V.exports=function(ee,te,ie,ne){var ae=typeof ie=="function";ae&&(X(ie,"name")||G(ie,"name",te)),ee[te]!==ie&&(ae&&(X(ie,K)||G(ie,K,ee[te]?""+ee[te]:Q.join(String(te)))),ee===Y?ee[te]=ie:ne?ee[te]?ee[te]=ie:G(ee,te,ie):(delete ee[te],G(ee,te,ie)))})(Function.prototype,J,function(){return typeof this=="function"&&this[K]||Z.call(this)})},"2aeb":function(V,U,W){var Y=W("cb7c"),G=W("1495"),X=W("e11e"),K=W("613b")("IE_PROTO"),Z=function(){},J="prototype",Q=function(){var ee=W("230e")("iframe"),te=X.length,ie="<",ne=">",ae;for(ee.style.display="none",W("fab2").appendChild(ee),ee.src="javascript:",ae=ee.contentWindow.document,ae.open(),ae.write(ie+"script"+ne+"document.F=Object"+ie+"/script"+ne),ae.close(),Q=ae.F;te--;)delete Q[J][X[te]];return Q()};V.exports=Object.create||function(te,ie){var ne;return te!==null?(Z[J]=Y(te),ne=new Z,Z[J]=null,ne[K]=te):ne=Q(),ie===void 0?ne:G(ne,ie)}},"2b4c":function(V,U,W){var Y=W("5537")("wks"),G=W("ca5a"),X=W("7726").Symbol,K=typeof X=="function",Z=V.exports=function(J){return Y[J]||(Y[J]=K&&X[J]||(K?X:G)("Symbol."+J))};Z.store=Y},"2d00":function(V,U){V.exports=!1},"2d95":function(V,U){var W={}.toString;V.exports=function(Y){return W.call(Y).slice(8,-1)}},"2fdb":function(V,U,W){var Y=W("5ca1"),G=W("d2c8"),X="includes";Y(Y.P+Y.F*W("5147")(X),"String",{includes:function(Z){return!!~G(this,Z,X).indexOf(Z,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(V,U,W){var Y=W("86cc"),G=W("4630");V.exports=W("9e1e")?function(X,K,Z){return Y.f(X,K,G(1,Z))}:function(X,K,Z){return X[K]=Z,X}},"38fd":function(V,U,W){var Y=W("69a8"),G=W("4bf8"),X=W("613b")("IE_PROTO"),K=Object.prototype;V.exports=Object.getPrototypeOf||function(Z){return Z=G(Z),Y(Z,X)?Z[X]:typeof Z.constructor=="function"&&Z instanceof Z.constructor?Z.constructor.prototype:Z instanceof Object?K:null}},"41a0":function(V,U,W){var Y=W("2aeb"),G=W("4630"),X=W("7f20"),K={};W("32e9")(K,W("2b4c")("iterator"),function(){return this}),V.exports=function(Z,J,Q){Z.prototype=Y(K,{next:G(1,Q)}),X(Z,J+" Iterator")}},"456d":function(V,U,W){var Y=W("4bf8"),G=W("0d58");W("5eda")("keys",function(){return function(K){return G(Y(K))}})},4588:function(V,U){var W=Math.ceil,Y=Math.floor;V.exports=function(G){return isNaN(G=+G)?0:(G>0?Y:W)(G)}},4630:function(V,U){V.exports=function(W,Y){return{enumerable:!(W&1),configurable:!(W&2),writable:!(W&4),value:Y}}},"4bf8":function(V,U,W){var Y=W("be13");V.exports=function(G){return Object(Y(G))}},5147:function(V,U,W){var Y=W("2b4c")("match");V.exports=function(G){var X=/./;try{"/./"[G](X)}catch{try{return X[Y]=!1,!"/./"[G](X)}catch{}}return!0}},"520a":function(V,U,W){var Y=W("0bfb"),G=RegExp.prototype.exec,X=String.prototype.replace,K=G,Z="lastIndex",J=function(){var te=/a/,ie=/b*/g;return G.call(te,"a"),G.call(ie,"a"),te[Z]!==0||ie[Z]!==0}(),Q=/()??/.exec("")[1]!==void 0,ee=J||Q;ee&&(K=function(ie){var ne=this,ae,se,oe,le;return Q&&(se=new RegExp("^"+ne.source+"$(?!\\s)",Y.call(ne))),J&&(ae=ne[Z]),oe=G.call(ne,ie),J&&oe&&(ne[Z]=ne.global?oe.index+oe[0].length:ae),Q&&oe&&oe.length>1&&X.call(oe[0],se,function(){for(le=1;le<arguments.length-2;le++)arguments[le]===void 0&&(oe[le]=void 0)}),oe}),V.exports=K},"52a7":function(V,U){U.f={}.propertyIsEnumerable},5537:function(V,U,W){var Y=W("8378"),G=W("7726"),X="__core-js_shared__",K=G[X]||(G[X]={});(V.exports=function(Z,J){return K[Z]||(K[Z]=J!==void 0?J:{})})("versions",[]).push({version:Y.version,mode:W("2d00")?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(V,U,W){var Y=W("7726"),G=W("8378"),X=W("32e9"),K=W("2aba"),Z=W("9b43"),J="prototype",Q=function(ee,te,ie){var ne=ee&Q.F,ae=ee&Q.G,se=ee&Q.S,oe=ee&Q.P,le=ee&Q.B,ue=ae?Y:se?Y[te]||(Y[te]={}):(Y[te]||{})[J],ce=ae?G:G[te]||(G[te]={}),he=ce[J]||(ce[J]={}),de,fe,Te,xe;ae&&(ie=te);for(de in ie)fe=!ne&&ue&&ue[de]!==void 0,Te=(fe?ue:ie)[de],xe=le&&fe?Z(Te,Y):oe&&typeof Te=="function"?Z(Function.call,Te):Te,ue&&K(ue,de,Te,ee&Q.U),ce[de]!=Te&&X(ce,de,xe),oe&&he[de]!=Te&&(he[de]=Te)};Y.core=G,Q.F=1,Q.G=2,Q.S=4,Q.P=8,Q.B=16,Q.W=32,Q.U=64,Q.R=128,V.exports=Q},"5eda":function(V,U,W){var Y=W("5ca1"),G=W("8378"),X=W("79e5");V.exports=function(K,Z){var J=(G.Object||{})[K]||Object[K],Q={};Q[K]=Z(J),Y(Y.S+Y.F*X(function(){J(1)}),"Object",Q)}},"5f1b":function(V,U,W){var Y=W("23c6"),G=RegExp.prototype.exec;V.exports=function(X,K){var Z=X.exec;if(typeof Z=="function"){var J=Z.call(X,K);if(typeof J!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return J}if(Y(X)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return G.call(X,K)}},"613b":function(V,U,W){var Y=W("5537")("keys"),G=W("ca5a");V.exports=function(X){return Y[X]||(Y[X]=G(X))}},"626a":function(V,U,W){var Y=W("2d95");V.exports=Object("z").propertyIsEnumerable(0)?Object:function(G){return Y(G)=="String"?G.split(""):Object(G)}},6762:function(V,U,W){var Y=W("5ca1"),G=W("c366")(!0);Y(Y.P,"Array",{includes:function(K){return G(this,K,arguments.length>1?arguments[1]:void 0)}}),W("9c6c")("includes")},6821:function(V,U,W){var Y=W("626a"),G=W("be13");V.exports=function(X){return Y(G(X))}},"69a8":function(V,U){var W={}.hasOwnProperty;V.exports=function(Y,G){return W.call(Y,G)}},"6a99":function(V,U,W){var Y=W("d3f4");V.exports=function(G,X){if(!Y(G))return G;var K,Z;if(X&&typeof(K=G.toString)=="function"&&!Y(Z=K.call(G))||typeof(K=G.valueOf)=="function"&&!Y(Z=K.call(G))||!X&&typeof(K=G.toString)=="function"&&!Y(Z=K.call(G)))return Z;throw TypeError("Can't convert object to primitive value")}},7333:function(V,U,W){var Y=W("0d58"),G=W("2621"),X=W("52a7"),K=W("4bf8"),Z=W("626a"),J=Object.assign;V.exports=!J||W("79e5")(function(){var Q={},ee={},te=Symbol(),ie="abcdefghijklmnopqrst";return Q[te]=7,ie.split("").forEach(function(ne){ee[ne]=ne}),J({},Q)[te]!=7||Object.keys(J({},ee)).join("")!=ie})?function(ee,te){for(var ie=K(ee),ne=arguments.length,ae=1,se=G.f,oe=X.f;ne>ae;)for(var le=Z(arguments[ae++]),ue=se?Y(le).concat(se(le)):Y(le),ce=ue.length,he=0,de;ce>he;)oe.call(le,de=ue[he++])&&(ie[de]=le[de]);return ie}:J},7726:function(V,U){var W=V.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=W)},"77f1":function(V,U,W){var Y=W("4588"),G=Math.max,X=Math.min;V.exports=function(K,Z){return K=Y(K),K<0?G(K+Z,0):X(K,Z)}},"79e5":function(V,U){V.exports=function(W){try{return!!W()}catch{return!0}}},"7f20":function(V,U,W){var Y=W("86cc").f,G=W("69a8"),X=W("2b4c")("toStringTag");V.exports=function(K,Z,J){K&&!G(K=J?K:K.prototype,X)&&Y(K,X,{configurable:!0,value:Z})}},8378:function(V,U){var W=V.exports={version:"2.6.5"};typeof __e=="number"&&(__e=W)},"84f2":function(V,U){V.exports={}},"86cc":function(V,U,W){var Y=W("cb7c"),G=W("c69a"),X=W("6a99"),K=Object.defineProperty;U.f=W("9e1e")?Object.defineProperty:function(J,Q,ee){if(Y(J),Q=X(Q,!0),Y(ee),G)try{return K(J,Q,ee)}catch{}if("get"in ee||"set"in ee)throw TypeError("Accessors not supported!");return"value"in ee&&(J[Q]=ee.value),J}},"9b43":function(V,U,W){var Y=W("d8e8");V.exports=function(G,X,K){if(Y(G),X===void 0)return G;switch(K){case 1:return function(Z){return G.call(X,Z)};case 2:return function(Z,J){return G.call(X,Z,J)};case 3:return function(Z,J,Q){return G.call(X,Z,J,Q)}}return function(){return G.apply(X,arguments)}}},"9c6c":function(V,U,W){var Y=W("2b4c")("unscopables"),G=Array.prototype;G[Y]==null&&W("32e9")(G,Y,{}),V.exports=function(X){G[Y][X]=!0}},"9def":function(V,U,W){var Y=W("4588"),G=Math.min;V.exports=function(X){return X>0?G(Y(X),9007199254740991):0}},"9e1e":function(V,U,W){V.exports=!W("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(V,U){V.exports=E},a481:function(V,U,W){var Y=W("cb7c"),G=W("4bf8"),X=W("9def"),K=W("4588"),Z=W("0390"),J=W("5f1b"),Q=Math.max,ee=Math.min,te=Math.floor,ie=/\$([$&`']|\d\d?|<[^>]*>)/g,ne=/\$([$&`']|\d\d?)/g,ae=function(se){return se===void 0?se:String(se)};W("214f")("replace",2,function(se,oe,le,ue){return[function(de,fe){var Te=se(this),xe=de==null?void 0:de[oe];return xe!==void 0?xe.call(de,Te,fe):le.call(String(Te),de,fe)},function(he,de){var fe=ue(le,he,this,de);if(fe.done)return fe.value;var Te=Y(he),xe=String(this),pe=typeof de=="function";pe||(de=String(de));var _e=Te.global;if(_e){var Ce=Te.unicode;Te.lastIndex=0}for(var be=[];;){var ge=J(Te,xe);if(ge===null||(be.push(ge),!_e))break;var we=String(ge[0]);we===""&&(Te.lastIndex=Z(xe,X(Te.lastIndex),Ce))}for(var Pe="",Oe=0,Ae=0;Ae<be.length;Ae++){ge=be[Ae];for(var Se=String(ge[0]),ye=Q(ee(K(ge.index),xe.length),0),$e=[],ke=1;ke<ge.length;ke++)$e.push(ae(ge[ke]));var Ee=ge.groups;if(pe){var Ie=[Se].concat($e,ye,xe);Ee!==void 0&&Ie.push(Ee);var Le=String(de.apply(void 0,Ie))}else Le=ce(Se,xe,ye,$e,Ee,de);ye>=Oe&&(Pe+=xe.slice(Oe,ye)+Le,Oe=ye+Se.length)}return Pe+xe.slice(Oe)}];function ce(he,de,fe,Te,xe,pe){var _e=fe+he.length,Ce=Te.length,be=ne;return xe!==void 0&&(xe=G(xe),be=ie),le.call(pe,be,function(ge,we){var Pe;switch(we.charAt(0)){case"$":return"$";case"&":return he;case"`":return de.slice(0,fe);case"'":return de.slice(_e);case"<":Pe=xe[we.slice(1,-1)];break;default:var Oe=+we;if(Oe===0)return ge;if(Oe>Ce){var Ae=te(Oe/10);return Ae===0?ge:Ae<=Ce?Te[Ae-1]===void 0?we.charAt(1):Te[Ae-1]+we.charAt(1):ge}Pe=Te[Oe-1]}return Pe===void 0?"":Pe})}})},aae3:function(V,U,W){var Y=W("d3f4"),G=W("2d95"),X=W("2b4c")("match");V.exports=function(K){var Z;return Y(K)&&((Z=K[X])!==void 0?!!Z:G(K)=="RegExp")}},ac6a:function(V,U,W){for(var Y=W("cadf"),G=W("0d58"),X=W("2aba"),K=W("7726"),Z=W("32e9"),J=W("84f2"),Q=W("2b4c"),ee=Q("iterator"),te=Q("toStringTag"),ie=J.Array,ne={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ae=G(ne),se=0;se<ae.length;se++){var oe=ae[se],le=ne[oe],ue=K[oe],ce=ue&&ue.prototype,he;if(ce&&(ce[ee]||Z(ce,ee,ie),ce[te]||Z(ce,te,oe),J[oe]=ie,le))for(he in Y)ce[he]||X(ce,he,Y[he],!0)}},b0c5:function(V,U,W){var Y=W("520a");W("5ca1")({target:"RegExp",proto:!0,forced:Y!==/./.exec},{exec:Y})},be13:function(V,U){V.exports=function(W){if(W==null)throw TypeError("Can't call method on  "+W);return W}},c366:function(V,U,W){var Y=W("6821"),G=W("9def"),X=W("77f1");V.exports=function(K){return function(Z,J,Q){var ee=Y(Z),te=G(ee.length),ie=X(Q,te),ne;if(K&&J!=J){for(;te>ie;)if(ne=ee[ie++],ne!=ne)return!0}else for(;te>ie;ie++)if((K||ie in ee)&&ee[ie]===J)return K||ie||0;return!K&&-1}}},c649:function(V,U,W){(function(Y){W.d(U,"c",function(){return ee}),W.d(U,"a",function(){return J}),W.d(U,"b",function(){return X}),W.d(U,"d",function(){return Q}),W("a481");function G(){return typeof window<"u"?window.console:Y.console}var X=G();function K(te){var ie=Object.create(null);return function(ae){var se=ie[ae];return se||(ie[ae]=te(ae))}}var Z=/-(\w)/g,J=K(function(te){return te.replace(Z,function(ie,ne){return ne?ne.toUpperCase():""})});function Q(te){te.parentElement!==null&&te.parentElement.removeChild(te)}function ee(te,ie,ne){var ae=ne===0?te.children[0]:te.children[ne-1].nextSibling;te.insertBefore(ie,ae)}}).call(this,W("c8ba"))},c69a:function(V,U,W){V.exports=!W("9e1e")&&!W("79e5")(function(){return Object.defineProperty(W("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(V,U){var W;W=function(){return this}();try{W=W||new Function("return this")()}catch{typeof window=="object"&&(W=window)}V.exports=W},ca5a:function(V,U){var W=0,Y=Math.random();V.exports=function(G){return"Symbol(".concat(G===void 0?"":G,")_",(++W+Y).toString(36))}},cadf:function(V,U,W){var Y=W("9c6c"),G=W("d53b"),X=W("84f2"),K=W("6821");V.exports=W("01f9")(Array,"Array",function(Z,J){this._t=K(Z),this._i=0,this._k=J},function(){var Z=this._t,J=this._k,Q=this._i++;return!Z||Q>=Z.length?(this._t=void 0,G(1)):J=="keys"?G(0,Q):J=="values"?G(0,Z[Q]):G(0,[Q,Z[Q]])},"values"),X.Arguments=X.Array,Y("keys"),Y("values"),Y("entries")},cb7c:function(V,U,W){var Y=W("d3f4");V.exports=function(G){if(!Y(G))throw TypeError(G+" is not an object!");return G}},ce10:function(V,U,W){var Y=W("69a8"),G=W("6821"),X=W("c366")(!1),K=W("613b")("IE_PROTO");V.exports=function(Z,J){var Q=G(Z),ee=0,te=[],ie;for(ie in Q)ie!=K&&Y(Q,ie)&&te.push(ie);for(;J.length>ee;)Y(Q,ie=J[ee++])&&(~X(te,ie)||te.push(ie));return te}},d2c8:function(V,U,W){var Y=W("aae3"),G=W("be13");V.exports=function(X,K,Z){if(Y(K))throw TypeError("String#"+Z+" doesn't accept regex!");return String(G(X))}},d3f4:function(V,U){V.exports=function(W){return typeof W=="object"?W!==null:typeof W=="function"}},d53b:function(V,U){V.exports=function(W,Y){return{value:Y,done:!!W}}},d8e8:function(V,U){V.exports=function(W){if(typeof W!="function")throw TypeError(W+" is not a function!");return W}},e11e:function(V,U){V.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(V,U,W){var Y=W("5ca1"),G=W("9def"),X=W("d2c8"),K="startsWith",Z=""[K];Y(Y.P+Y.F*W("5147")(K),"String",{startsWith:function(Q){var ee=X(this,Q,K),te=G(Math.min(arguments.length>1?arguments[1]:void 0,ee.length)),ie=String(Q);return Z?Z.call(ee,ie,te):ee.slice(te,te+ie.length)===ie}})},f6fd:function(V,U){(function(W){var Y="currentScript",G=W.getElementsByTagName("script");Y in W||Object.defineProperty(W,Y,{get:function(){try{throw new Error}catch(Z){var X,K=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(Z.stack)||[!1])[1];for(X in G)if(G[X].src==K||G[X].readyState=="interactive")return G[X];return null}}})})(document)},f751:function(V,U,W){var Y=W("5ca1");Y(Y.S+Y.F,"Object",{assign:W("7333")})},fa5b:function(V,U,W){V.exports=W("5537")("native-function-to-string",Function.toString)},fab2:function(V,U,W){var Y=W("7726").document;V.exports=Y&&Y.documentElement},fb15:function(V,U,W){if(W.r(U),typeof window<"u"){W("f6fd");var Y;(Y=window.document.currentScript)&&(Y=Y.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(W.p=Y[1])}W("f751"),W("f559"),W("ac6a"),W("cadf"),W("456d");function G(Se){if(Array.isArray(Se))return Se}function X(Se,ye){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Se)))){var $e=[],ke=!0,Ee=!1,Ie=void 0;try{for(var Le=Se[Symbol.iterator](),Be;!(ke=(Be=Le.next()).done)&&($e.push(Be.value),!(ye&&$e.length===ye));ke=!0);}catch(Fe){Ee=!0,Ie=Fe}finally{try{!ke&&Le.return!=null&&Le.return()}finally{if(Ee)throw Ie}}return $e}}function K(Se,ye){(ye==null||ye>Se.length)&&(ye=Se.length);for(var $e=0,ke=new Array(ye);$e<ye;$e++)ke[$e]=Se[$e];return ke}function Z(Se,ye){if(!!Se){if(typeof Se=="string")return K(Se,ye);var $e=Object.prototype.toString.call(Se).slice(8,-1);if($e==="Object"&&Se.constructor&&($e=Se.constructor.name),$e==="Map"||$e==="Set")return Array.from(Se);if($e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e))return K(Se,ye)}}function J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(Se,ye){return G(Se)||X(Se,ye)||Z(Se,ye)||J()}W("6762"),W("2fdb");function ee(Se){if(Array.isArray(Se))return K(Se)}function te(Se){if(typeof Symbol<"u"&&Symbol.iterator in Object(Se))return Array.from(Se)}function ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ne(Se){return ee(Se)||te(Se)||Z(Se)||ie()}var ae=W("a352"),se=W.n(ae),oe=W("c649");function le(Se,ye,$e){return $e===void 0||(Se=Se||{},Se[ye]=$e),Se}function ue(Se,ye){return Se.map(function($e){return $e.elm}).indexOf(ye)}function ce(Se,ye,$e,ke){if(!Se)return[];var Ee=Se.map(function(Be){return Be.elm}),Ie=ye.length-ke,Le=ne(ye).map(function(Be,Fe){return Fe>=Ie?Ee.length:Ee.indexOf(Be)});return $e?Le.filter(function(Be){return Be!==-1}):Le}function he(Se,ye){var $e=this;this.$nextTick(function(){return $e.$emit(Se.toLowerCase(),ye)})}function de(Se){var ye=this;return function($e){ye.realList!==null&&ye["onDrag"+Se]($e),he.call(ye,Se,$e)}}function fe(Se){return["transition-group","TransitionGroup"].includes(Se)}function Te(Se){if(!Se||Se.length!==1)return!1;var ye=Q(Se,1),$e=ye[0].componentOptions;return $e?fe($e.tag):!1}function xe(Se,ye,$e){return Se[$e]||(ye[$e]?ye[$e]():void 0)}function pe(Se,ye,$e){var ke=0,Ee=0,Ie=xe(ye,$e,"header");Ie&&(ke=Ie.length,Se=Se?[].concat(ne(Ie),ne(Se)):ne(Ie));var Le=xe(ye,$e,"footer");return Le&&(Ee=Le.length,Se=Se?[].concat(ne(Se),ne(Le)):ne(Le)),{children:Se,headerOffset:ke,footerOffset:Ee}}function _e(Se,ye){var $e=null,ke=function(Ne,He){$e=le($e,Ne,He)},Ee=Object.keys(Se).filter(function(Fe){return Fe==="id"||Fe.startsWith("data-")}).reduce(function(Fe,Ne){return Fe[Ne]=Se[Ne],Fe},{});if(ke("attrs",Ee),!ye)return $e;var Ie=ye.on,Le=ye.props,Be=ye.attrs;return ke("on",Ie),ke("props",Le),Object.assign($e.attrs,Be),$e}var Ce=["Start","Add","Remove","Update","End"],be=["Choose","Unchoose","Sort","Filter","Clone"],ge=["Move"].concat(Ce,be).map(function(Se){return"on"+Se}),we=null,Pe={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(ye){return ye}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Oe={name:"draggable",inheritAttrs:!1,props:Pe,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(ye){var $e=this.$slots.default;this.transitionMode=Te($e);var ke=pe($e,this.$slots,this.$scopedSlots),Ee=ke.children,Ie=ke.headerOffset,Le=ke.footerOffset;this.headerOffset=Ie,this.footerOffset=Le;var Be=_e(this.$attrs,this.componentData);return ye(this.getTag(),Be,Ee)},created:function(){this.list!==null&&this.value!==null&&oe.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&oe.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&oe.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var ye=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var $e={};Ce.forEach(function(Ie){$e["on"+Ie]=de.call(ye,Ie)}),be.forEach(function(Ie){$e["on"+Ie]=he.bind(ye,Ie)});var ke=Object.keys(this.$attrs).reduce(function(Ie,Le){return Ie[Object(oe.a)(Le)]=ye.$attrs[Le],Ie},{}),Ee=Object.assign({},this.options,ke,$e,{onMove:function(Le,Be){return ye.onDragMove(Le,Be)}});!("draggable"in Ee)&&(Ee.draggable=">*"),this._sortable=new se.a(this.rootContainer,Ee),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(ye){this.updateOptions(ye)},deep:!0},$attrs:{handler:function(ye){this.updateOptions(ye)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var ye=this._vnode.fnOptions;return ye&&ye.functional},getTag:function(){return this.tag||this.element},updateOptions:function(ye){for(var $e in ye){var ke=Object(oe.a)($e);ge.indexOf(ke)===-1&&this._sortable.option(ke,ye[$e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var ye=this.$slots.default;return this.transitionMode?ye[0].child.$slots.default:ye},computeIndexes:function(){var ye=this;this.$nextTick(function(){ye.visibleIndexes=ce(ye.getChildrenNodes(),ye.rootContainer.children,ye.transitionMode,ye.footerOffset)})},getUnderlyingVm:function(ye){var $e=ue(this.getChildrenNodes()||[],ye);if($e===-1)return null;var ke=this.realList[$e];return{index:$e,element:ke}},getUnderlyingPotencialDraggableComponent:function(ye){var $e=ye.__vue__;return!$e||!$e.$options||!fe($e.$options._componentTag)?!("realList"in $e)&&$e.$children.length===1&&"realList"in $e.$children[0]?$e.$children[0]:$e:$e.$parent},emitChanges:function(ye){var $e=this;this.$nextTick(function(){$e.$emit("change",ye)})},alterList:function(ye){if(this.list){ye(this.list);return}var $e=ne(this.value);ye($e),this.$emit("input",$e)},spliceList:function(){var ye=arguments,$e=function(Ee){return Ee.splice.apply(Ee,ne(ye))};this.alterList($e)},updatePosition:function(ye,$e){var ke=function(Ie){return Ie.splice($e,0,Ie.splice(ye,1)[0])};this.alterList(ke)},getRelatedContextFromMoveEvent:function(ye){var $e=ye.to,ke=ye.related,Ee=this.getUnderlyingPotencialDraggableComponent($e);if(!Ee)return{component:Ee};var Ie=Ee.realList,Le={list:Ie,component:Ee};if($e!==ke&&Ie&&Ee.getUnderlyingVm){var Be=Ee.getUnderlyingVm(ke);if(Be)return Object.assign(Be,Le)}return Le},getVmIndex:function(ye){var $e=this.visibleIndexes,ke=$e.length;return ye>ke-1?ke:$e[ye]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(ye){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var $e=this.getChildrenNodes();$e[ye].data=null;var ke=this.getComponent();ke.children=[],ke.kept=void 0}},onDragStart:function(ye){this.context=this.getUnderlyingVm(ye.item),ye.item._underlying_vm_=this.clone(this.context.element),we=ye.item},onDragAdd:function(ye){var $e=ye.item._underlying_vm_;if($e!==void 0){Object(oe.d)(ye.item);var ke=this.getVmIndex(ye.newIndex);this.spliceList(ke,0,$e),this.computeIndexes();var Ee={element:$e,newIndex:ke};this.emitChanges({added:Ee})}},onDragRemove:function(ye){if(Object(oe.c)(this.rootContainer,ye.item,ye.oldIndex),ye.pullMode==="clone"){Object(oe.d)(ye.clone);return}var $e=this.context.index;this.spliceList($e,1);var ke={element:this.context.element,oldIndex:$e};this.resetTransitionData($e),this.emitChanges({removed:ke})},onDragUpdate:function(ye){Object(oe.d)(ye.item),Object(oe.c)(ye.from,ye.item,ye.oldIndex);var $e=this.context.index,ke=this.getVmIndex(ye.newIndex);this.updatePosition($e,ke);var Ee={element:this.context.element,oldIndex:$e,newIndex:ke};this.emitChanges({moved:Ee})},updateProperty:function(ye,$e){ye.hasOwnProperty($e)&&(ye[$e]+=this.headerOffset)},computeFutureIndex:function(ye,$e){if(!ye.element)return 0;var ke=ne($e.to.children).filter(function(Be){return Be.style.display!=="none"}),Ee=ke.indexOf($e.related),Ie=ye.component.getVmIndex(Ee),Le=ke.indexOf(we)!==-1;return Le||!$e.willInsertAfter?Ie:Ie+1},onDragMove:function(ye,$e){var ke=this.move;if(!ke||!this.realList)return!0;var Ee=this.getRelatedContextFromMoveEvent(ye),Ie=this.context,Le=this.computeFutureIndex(Ee,ye);Object.assign(Ie,{futureIndex:Le});var Be=Object.assign({},ye,{relatedContext:Ee,draggedContext:Ie});return ke(Be,$e)},onDragEnd:function(){this.computeIndexes(),we=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",Oe);var Ae=Oe;U.default=Ae}}).default})})(vuedraggable_umd);const draggable=getDefaultExportFromCjs(vuedraggable_umd.exports),_sfc_main$1k={components:{draggable},props:{items:{type:Array,default:()=>[]},sortingTarget:{type:String,required:!0},group:{type:Object},parentId:{type:Number,default:null}},data(){return{oldOrder:[]}},created(){this.oldOrder=this.items.map(R=>R.id)},methods:{add(R){const F={id:+R.item.dataset.itemid,parent_category_id:+R.to.dataset.parentid||null};this.$store.dispatch(`${this.sortingTarget}/updateParams`,F)},async sort(){const R=this.items.map(F=>F.id);R.length&&(await this.$store.dispatch(`${this.sortingTarget}/sort`,{oldOrder:this.oldOrder,newOrder:R}),this.oldOrder=R)}}};var _sfc_render$1k=function(){var F=this,E=F._self._c;return E("draggable",{staticClass:"menu",attrs:{list:F.items,disabled:!F.$permissions.isAdmin,"component-data":{attrs:{"data-parentid":F.parentId}},"force-fallback":!0,delay:1e3,"delay-on-touch-only":!0,group:F.group,"ghost-class":"ghost",tag:"ul"},on:{sort:F.sort,add:F.add}},[F._t("default")],2)},_sfc_staticRenderFns$1k=[],__component__$1k=normalizeComponent(_sfc_main$1k,_sfc_render$1k,_sfc_staticRenderFns$1k,!1,null,null,null,null);const SortableList=__component__$1k.exports,currencyIcons={JPY:"fa-yen-sign",KPW:"fa-won-sign",KZT:"fa-tenge",ILS:"fa-shekel-sign",INR:"fa-rupee-sign",RUB:"fa-ruble-sign",GBP:"fa-pound-sign",TRY:"fa-lira-sign",UAH:"fa-hryvnia",EUR:"fa-euro-sign",USD:"fa-dollar-sign",default:"fa-wallet"},_sfc_main$1j={props:{account:{type:Object,required:!0}},computed:{isActive(){return this.$store.state.currentType==="account"&&this.$store.state.currentTypeId===this.account.id},accountIcon(){return currencyIcons[this.account.currency]||currencyIcons.default}}};var _sfc_render$1j=function(){var F=this,E=F._self._c;return E("li",{class:{selected:F.isActive}},[E("router-link",{staticClass:"flexbox middle",attrs:{to:`/account/${F.account.id}`}},[E("span",{staticClass:"icon"},[F.$helper.isValidHttpUrl(F.account.icon)?E("img",{staticClass:"size-20",attrs:{src:F.account.icon,alt:""}}):E("span",[E("i",{class:`fas ${F.accountIcon}`})])]),E("span",[F._v(F._s(F.account.name))]),F.account.stat?E("span",{staticClass:"count",domProps:{innerHTML:F._s(`${F.account.stat.summaryShorten}&nbsp;${F.$helper.currencySignByCode(F.account.currency)}`)}}):F._e()])],1)},_sfc_staticRenderFns$1j=[],__component__$1j=normalizeComponent(_sfc_main$1j,_sfc_render$1j,_sfc_staticRenderFns$1j,!1,null,null,null,null);const SortableItemAccount=__component__$1j.exports;var validators_min={exports:{}};(function(R,F){(function(E,V){R.exports=V()})(window,function(){return function(E){var V={};function U(W){if(V[W])return V[W].exports;var Y=V[W]={i:W,l:!1,exports:{}};return E[W].call(Y.exports,Y,Y.exports,U),Y.l=!0,Y.exports}return U.m=E,U.c=V,U.d=function(W,Y,G){U.o(W,Y)||Object.defineProperty(W,Y,{configurable:!1,enumerable:!0,get:G})},U.r=function(W){Object.defineProperty(W,"__esModule",{value:!0})},U.n=function(W){var Y=W&&W.__esModule?function(){return W.default}:function(){return W};return U.d(Y,"a",Y),Y},U.o=function(W,Y){return Object.prototype.hasOwnProperty.call(W,Y)},U.p="/",U(U.s=25)}([function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),Object.defineProperty(V,"withParams",{enumerable:!0,get:function(){return Y.default}}),V.regex=V.ref=V.len=V.req=void 0;var W,Y=(W=U(23))&&W.__esModule?W:{default:W};function G(K){return(G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(K)}var X=function(K){if(Array.isArray(K))return!!K.length;if(K==null)return!1;if(K===!1)return!0;if(K instanceof Date)return!isNaN(K.getTime());if(G(K)==="object"){for(var Z in K)return!0;return!1}return!!String(K).length};V.req=X,V.len=function(K){return Array.isArray(K)?K.length:G(K)==="object"?Object.keys(K).length:String(K).length},V.ref=function(K,Z,J){return typeof K=="function"?K.call(Z,J):J[K]},V.regex=function(K,Z){return(0,Y.default)({type:K},function(J){return!X(J)||Z.test(J)})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=(0,U(0).regex)("decimal",/^[-]?\d*(\.\d+)?$/);V.default=W},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=(0,U(0).regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);V.default=W},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(Y){return(0,W.withParams)({type:"maxValue",max:Y},function(G){return!(0,W.req)(G)||(!/\s/.test(G)||G instanceof Date)&&+G<=+Y})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(Y){return(0,W.withParams)({type:"minValue",min:Y},function(G){return!(0,W.req)(G)||(!/\s/.test(G)||G instanceof Date)&&+G>=+Y})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(Y){return(0,W.withParams)({type:"not"},function(G,X){return!(0,W.req)(G)||!Y.call(this,G,X)})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(){for(var Y=arguments.length,G=new Array(Y),X=0;X<Y;X++)G[X]=arguments[X];return(0,W.withParams)({type:"and"},function(){for(var K=this,Z=arguments.length,J=new Array(Z),Q=0;Q<Z;Q++)J[Q]=arguments[Q];return G.length>0&&G.reduce(function(ee,te){return ee&&te.apply(K,J)},!0)})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(){for(var Y=arguments.length,G=new Array(Y),X=0;X<Y;X++)G[X]=arguments[X];return(0,W.withParams)({type:"or"},function(){for(var K=this,Z=arguments.length,J=new Array(Z),Q=0;Q<Z;Q++)J[Q]=arguments[Q];return G.length>0&&G.reduce(function(ee,te){return ee||te.apply(K,J)},!1)})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=(0,U(0).regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);V.default=W},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(Y){return(0,W.withParams)({type:"sameAs",eq:Y},function(G,X){return G===(0,W.ref)(Y,this,X)})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(Y){return(0,W.withParams)({type:"requiredUnless",prop:Y},function(G,X){return!!(0,W.ref)(Y,this,X)||(0,W.req)(G)})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(Y){return(0,W.withParams)({type:"requiredIf",prop:Y},function(G,X){return!(0,W.ref)(Y,this,X)||(0,W.req)(G)})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0),Y=(0,W.withParams)({type:"required"},function(G){return typeof G=="string"?(0,W.req)(G.trim()):(0,W.req)(G)});V.default=Y},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(Y){return(0,W.withParams)({type:"minLength",min:Y},function(G){return!(0,W.req)(G)||(0,W.len)(G)>=Y})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(Y){return(0,W.withParams)({type:"maxLength",max:Y},function(G){return!(0,W.req)(G)||(0,W.len)(G)<=Y})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:":";return(0,W.withParams)({type:"macAddress"},function(X){if(!(0,W.req)(X))return!0;if(typeof X!="string")return!1;var K=typeof G=="string"&&G!==""?X.split(G):X.length===12||X.length===16?X.match(/.{2}/g):null;return K!==null&&(K.length===6||K.length===8)&&K.every(Y)})};var Y=function(G){return G.toLowerCase().match(/^[0-9a-f]{2}$/)}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0),Y=(0,W.withParams)({type:"ipAddress"},function(X){if(!(0,W.req)(X))return!0;if(typeof X!="string")return!1;var K=X.split(".");return K.length===4&&K.every(G)});V.default=Y;var G=function(X){if(X.length>3||X.length===0||X[0]==="0"&&X!=="0"||!X.match(/^\d+$/))return!1;var K=0|+X;return K>=0&&K<=255}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=(0,U(0).regex)("email",/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/);V.default=W},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(0);V.default=function(Y,G){return(0,W.withParams)({type:"between",min:Y,max:G},function(X){return!(0,W.req)(X)||(!/\s/.test(X)||X instanceof Date)&&+Y<=+X&&+G>=+X})}},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=(0,U(0).regex)("numeric",/^[0-9]*$/);V.default=W},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=(0,U(0).regex)("alphaNum",/^[a-zA-Z0-9]*$/);V.default=W},function(E,V){var U;U=function(){return this}();try{U=U||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(U=window)}E.exports=U},function(E,V,U){(function(W){function Y(K){return(Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(K)}Object.defineProperty(V,"__esModule",{value:!0}),V.withParams=void 0;var G=typeof window<"u"?window:W!==void 0?W:{},X=G.vuelidate?G.vuelidate.withParams:function(K,Z){return Y(K)==="object"&&Z!==void 0?Z:K(function(){})};V.withParams=X}).call(this,U(21))},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=U(22).withParams;V.default=W},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var W=(0,U(0).regex)("alpha",/^[a-zA-Z]*$/);V.default=W},function(E,V,U){Object.defineProperty(V,"__esModule",{value:!0}),Object.defineProperty(V,"alpha",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(V,"alphaNum",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(V,"numeric",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(V,"between",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(V,"email",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(V,"ipAddress",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(V,"macAddress",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(V,"maxLength",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(V,"minLength",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(V,"required",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(V,"requiredIf",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(V,"requiredUnless",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(V,"sameAs",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(V,"url",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(V,"or",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(V,"and",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(V,"not",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(V,"minValue",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(V,"maxValue",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(V,"integer",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(V,"decimal",{enumerable:!0,get:function(){return fe.default}}),V.helpers=void 0;var W=xe(U(24)),Y=xe(U(20)),G=xe(U(19)),X=xe(U(18)),K=xe(U(17)),Z=xe(U(16)),J=xe(U(15)),Q=xe(U(14)),ee=xe(U(13)),te=xe(U(12)),ie=xe(U(11)),ne=xe(U(10)),ae=xe(U(9)),se=xe(U(8)),oe=xe(U(7)),le=xe(U(6)),ue=xe(U(5)),ce=xe(U(4)),he=xe(U(3)),de=xe(U(2)),fe=xe(U(1)),Te=function(pe){if(pe&&pe.__esModule)return pe;var _e={};if(pe!=null){for(var Ce in pe)if(Object.prototype.hasOwnProperty.call(pe,Ce)){var be=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(pe,Ce):{};be.get||be.set?Object.defineProperty(_e,Ce,be):_e[Ce]=pe[Ce]}}return _e.default=pe,_e}(U(0));function xe(pe){return pe&&pe.__esModule?pe:{default:pe}}V.helpers=Te}])})})(validators_min);const updateEntityMixin={data(){return{controlsDisabled:!1}},computed:{isModeUpdate(){return!!this.editedItem}},created(){this.editedItem&&(this.model={...this.model,...this.editedItem})},beforeDestroy(){this.close()},methods:{submit(R){this.$v.$touch(),this.$v.$invalid||(this.controlsDisabled=!0,this.$store.dispatch(`${R}/update`,this.model).then(()=>{this.close()}).finally(()=>{this.controlsDisabled=!1}))},remove(R){confirm(this.$t("deleteWarning",{type:this.$t("categories")}))&&(this.controlsDisabled=!0,this.$store.dispatch(`${R}/delete`,this.model.id).then(()=>{this.close()}).finally(()=>{this.controlsDisabled=!1}))},close(){this.$parent.$emit("close")}}};/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */var numberFormatKeys=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],dateTimeFormatKeys=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function warn$3(R,F){typeof console<"u"&&(console.warn("[vue-i18n] "+R),F&&console.warn(F.stack))}function error$2(R,F){typeof console<"u"&&(console.error("[vue-i18n] "+R),F&&console.error(F.stack))}var isArray$4=Array.isArray;function isObject$9(R){return R!==null&&typeof R=="object"}function isBoolean$1(R){return typeof R=="boolean"}function isString$5(R){return typeof R=="string"}var toString$2=Object.prototype.toString,OBJECT_STRING="[object Object]";function isPlainObject$1(R){return toString$2.call(R)===OBJECT_STRING}function isNull(R){return R==null}function isFunction$3(R){return typeof R=="function"}function parseArgs(){for(var R=[],F=arguments.length;F--;)R[F]=arguments[F];var E=null,V=null;return R.length===1?isObject$9(R[0])||isArray$4(R[0])?V=R[0]:typeof R[0]=="string"&&(E=R[0]):R.length===2&&(typeof R[0]=="string"&&(E=R[0]),(isObject$9(R[1])||isArray$4(R[1]))&&(V=R[1])),{locale:E,params:V}}function looseClone(R){return JSON.parse(JSON.stringify(R))}function remove$2(R,F){if(R.delete(F))return R}function arrayFrom(R){var F=[];return R.forEach(function(E){return F.push(E)}),F}function includes$1(R,F){return!!~R.indexOf(F)}var hasOwnProperty$2=Object.prototype.hasOwnProperty;function hasOwn(R,F){return hasOwnProperty$2.call(R,F)}function merge$3(R){for(var F=arguments,E=Object(R),V=1;V<arguments.length;V++){var U=F[V];if(U!=null){var W=void 0;for(W in U)hasOwn(U,W)&&(isObject$9(U[W])?E[W]=merge$3(E[W],U[W]):E[W]=U[W])}}return E}function looseEqual(R,F){if(R===F)return!0;var E=isObject$9(R),V=isObject$9(F);if(E&&V)try{var U=isArray$4(R),W=isArray$4(F);if(U&&W)return R.length===F.length&&R.every(function(X,K){return looseEqual(X,F[K])});if(!U&&!W){var Y=Object.keys(R),G=Object.keys(F);return Y.length===G.length&&Y.every(function(X){return looseEqual(R[X],F[X])})}else return!1}catch{return!1}else return!E&&!V?String(R)===String(F):!1}function escapeHtml(R){return R.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function escapeParams(R){return R!=null&&Object.keys(R).forEach(function(F){typeof R[F]=="string"&&(R[F]=escapeHtml(R[F]))}),R}function extend$4(R){R.prototype.hasOwnProperty("$i18n")||Object.defineProperty(R.prototype,"$i18n",{get:function(){return this._i18n}}),R.prototype.$t=function(F){for(var E=[],V=arguments.length-1;V-- >0;)E[V]=arguments[V+1];var U=this.$i18n;return U._t.apply(U,[F,U.locale,U._getMessages(),this].concat(E))},R.prototype.$tc=function(F,E){for(var V=[],U=arguments.length-2;U-- >0;)V[U]=arguments[U+2];var W=this.$i18n;return W._tc.apply(W,[F,W.locale,W._getMessages(),this,E].concat(V))},R.prototype.$te=function(F,E){var V=this.$i18n;return V._te(F,V.locale,V._getMessages(),E)},R.prototype.$d=function(F){for(var E,V=[],U=arguments.length-1;U-- >0;)V[U]=arguments[U+1];return(E=this.$i18n).d.apply(E,[F].concat(V))},R.prototype.$n=function(F){for(var E,V=[],U=arguments.length-1;U-- >0;)V[U]=arguments[U+1];return(E=this.$i18n).n.apply(E,[F].concat(V))}}function defineMixin(R){R===void 0&&(R=!1);function F(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return R?{mounted:F}:{beforeCreate:function(){var V=this.$options;if(V.i18n=V.i18n||(V.__i18nBridge||V.__i18n?{}:null),V.i18n){if(V.i18n instanceof VueI18n){if(V.__i18nBridge||V.__i18n)try{var U=V.i18n&&V.i18n.messages?V.i18n.messages:{},W=V.__i18nBridge||V.__i18n;W.forEach(function(J){U=merge$3(U,JSON.parse(J))}),Object.keys(U).forEach(function(J){V.i18n.mergeLocaleMessage(J,U[J])})}catch{}this._i18n=V.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(isPlainObject$1(V.i18n)){var Y=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof VueI18n?this.$root.$i18n:null;if(Y&&(V.i18n.root=this.$root,V.i18n.formatter=Y.formatter,V.i18n.fallbackLocale=Y.fallbackLocale,V.i18n.formatFallbackMessages=Y.formatFallbackMessages,V.i18n.silentTranslationWarn=Y.silentTranslationWarn,V.i18n.silentFallbackWarn=Y.silentFallbackWarn,V.i18n.pluralizationRules=Y.pluralizationRules,V.i18n.preserveDirectiveContent=Y.preserveDirectiveContent),V.__i18nBridge||V.__i18n)try{var G=V.i18n&&V.i18n.messages?V.i18n.messages:{},X=V.__i18nBridge||V.__i18n;X.forEach(function(J){G=merge$3(G,JSON.parse(J))}),V.i18n.messages=G}catch{}var K=V.i18n,Z=K.sharedMessages;Z&&isPlainObject$1(Z)&&(V.i18n.messages=merge$3(V.i18n.messages,Z)),this._i18n=new VueI18n(V.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(V.i18n.sync===void 0||!!V.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),Y&&Y.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof VueI18n?this._i18n=this.$root.$i18n:V.parent&&V.parent.$i18n&&V.parent.$i18n instanceof VueI18n&&(this._i18n=V.parent.$i18n)},beforeMount:function(){var V=this.$options;V.i18n=V.i18n||(V.__i18nBridge||V.__i18n?{}:null),V.i18n?V.i18n instanceof VueI18n?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):isPlainObject$1(V.i18n)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof VueI18n?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):V.parent&&V.parent.$i18n&&V.parent.$i18n instanceof VueI18n&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:F,beforeDestroy:function(){if(!!this._i18n){var V=this;this.$nextTick(function(){V._subscribing&&(V._i18n.unsubscribeDataChanging(V),delete V._subscribing),V._i18nWatcher&&(V._i18nWatcher(),V._i18n.destroyVM(),delete V._i18nWatcher),V._localeWatcher&&(V._localeWatcher(),delete V._localeWatcher)})}}}}var interpolationComponent={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(F,E){var V=E.data,U=E.parent,W=E.props,Y=E.slots,G=U.$i18n;if(!!G){var X=W.path,K=W.locale,Z=W.places,J=Y(),Q=G.i(X,K,onlyHasDefaultPlace(J)||Z?useLegacyPlaces(J.default,Z):J),ee=!!W.tag&&W.tag!==!0||W.tag===!1?W.tag:"span";return ee?F(ee,V,Q):Q}}};function onlyHasDefaultPlace(R){var F;for(F in R)if(F!=="default")return!1;return Boolean(F)}function useLegacyPlaces(R,F){var E=F?createParamsFromPlaces(F):{};if(!R)return E;R=R.filter(function(U){return U.tag||U.text.trim()!==""});var V=R.every(vnodeHasPlaceAttribute);return R.reduce(V?assignChildPlace:assignChildIndex,E)}function createParamsFromPlaces(R){return Array.isArray(R)?R.reduce(assignChildIndex,{}):Object.assign({},R)}function assignChildPlace(R,F){return F.data&&F.data.attrs&&F.data.attrs.place&&(R[F.data.attrs.place]=F),R}function assignChildIndex(R,F,E){return R[E]=F,R}function vnodeHasPlaceAttribute(R){return Boolean(R.data&&R.data.attrs&&R.data.attrs.place)}var numberComponent={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(F,E){var V=E.props,U=E.parent,W=E.data,Y=U.$i18n;if(!Y)return null;var G=null,X=null;isString$5(V.format)?G=V.format:isObject$9(V.format)&&(V.format.key&&(G=V.format.key),X=Object.keys(V.format).reduce(function(ee,te){var ie;return includes$1(numberFormatKeys,te)?Object.assign({},ee,(ie={},ie[te]=V.format[te],ie)):ee},null));var K=V.locale||Y.locale,Z=Y._ntp(V.value,K,G,X),J=Z.map(function(ee,te){var ie,ne=W.scopedSlots&&W.scopedSlots[ee.type];return ne?ne((ie={},ie[ee.type]=ee.value,ie.index=te,ie.parts=Z,ie)):ee.value}),Q=!!V.tag&&V.tag!==!0||V.tag===!1?V.tag:"span";return Q?F(Q,{attrs:W.attrs,class:W.class,staticClass:W.staticClass},J):J}};function bind$1(R,F,E){!assert(R,E)||t$1(R,F,E)}function update$2(R,F,E,V){if(!!assert(R,E)){var U=E.context.$i18n;localeEqual(R,E)&&looseEqual(F.value,F.oldValue)&&looseEqual(R._localeMessage,U.getLocaleMessage(U.locale))||t$1(R,F,E)}}function unbind(R,F,E,V){var U=E.context;if(!U){warn$3("Vue instance does not exists in VNode context");return}var W=E.context.$i18n||{};!F.modifiers.preserve&&!W.preserveDirectiveContent&&(R.textContent=""),R._vt=void 0,delete R._vt,R._locale=void 0,delete R._locale,R._localeMessage=void 0,delete R._localeMessage}function assert(R,F){var E=F.context;return E?E.$i18n?!0:(warn$3("VueI18n instance does not exists in Vue instance"),!1):(warn$3("Vue instance does not exists in VNode context"),!1)}function localeEqual(R,F){var E=F.context;return R._locale===E.$i18n.locale}function t$1(R,F,E){var V,U,W=F.value,Y=parseValue(W),G=Y.path,X=Y.locale,K=Y.args,Z=Y.choice;if(!G&&!X&&!K){warn$3("value type not supported");return}if(!G){warn$3("`path` is required in v-t directive");return}var J=E.context;Z!=null?R._vt=R.textContent=(V=J.$i18n).tc.apply(V,[G,Z].concat(makeParams(X,K))):R._vt=R.textContent=(U=J.$i18n).t.apply(U,[G].concat(makeParams(X,K))),R._locale=J.$i18n.locale,R._localeMessage=J.$i18n.getLocaleMessage(J.$i18n.locale)}function parseValue(R){var F,E,V,U;return isString$5(R)?F=R:isPlainObject$1(R)&&(F=R.path,E=R.locale,V=R.args,U=R.choice),{path:F,locale:E,args:V,choice:U}}function makeParams(R,F){var E=[];return R&&E.push(R),F&&(Array.isArray(F)||isPlainObject$1(F))&&E.push(F),E}var Vue;function install$3(R,F){F===void 0&&(F={bridge:!1}),install$3.installed=!0,Vue=R,Vue.version&&Number(Vue.version.split(".")[0]),extend$4(Vue),Vue.mixin(defineMixin(F.bridge)),Vue.directive("t",{bind:bind$1,update:update$2,unbind}),Vue.component(interpolationComponent.name,interpolationComponent),Vue.component(numberComponent.name,numberComponent);var E=Vue.config.optionMergeStrategies;E.i18n=function(V,U){return U===void 0?V:U}}var BaseFormatter=function(){this._caches=Object.create(null)};BaseFormatter.prototype.interpolate=function(F,E){if(!E)return[F];var V=this._caches[F];return V||(V=parse$1(F),this._caches[F]=V),compile$1(V,E)};var RE_TOKEN_LIST_VALUE=/^(?:\d)+/,RE_TOKEN_NAMED_VALUE=/^(?:\w)+/;function parse$1(R){for(var F=[],E=0,V="";E<R.length;){var U=R[E++];if(U==="{"){V&&F.push({type:"text",value:V}),V="";var W="";for(U=R[E++];U!==void 0&&U!=="}";)W+=U,U=R[E++];var Y=U==="}",G=RE_TOKEN_LIST_VALUE.test(W)?"list":Y&&RE_TOKEN_NAMED_VALUE.test(W)?"named":"unknown";F.push({value:W,type:G})}else U==="%"?R[E]!=="{"&&(V+=U):V+=U}return V&&F.push({type:"text",value:V}),F}function compile$1(R,F){var E=[],V=0,U=Array.isArray(F)?"list":isObject$9(F)?"named":"unknown";if(U==="unknown")return E;for(;V<R.length;){var W=R[V];switch(W.type){case"text":E.push(W.value);break;case"list":E.push(F[parseInt(W.value,10)]);break;case"named":U==="named"&&E.push(F[W.value]);break}V++}return E}var APPEND=0,PUSH=1,INC_SUB_PATH_DEPTH=2,PUSH_SUB_PATH=3,BEFORE_PATH=0,IN_PATH=1,BEFORE_IDENT=2,IN_IDENT=3,IN_SUB_PATH=4,IN_SINGLE_QUOTE=5,IN_DOUBLE_QUOTE=6,AFTER_PATH=7,ERROR=8,pathStateMachine=[];pathStateMachine[BEFORE_PATH]={ws:[BEFORE_PATH],ident:[IN_IDENT,APPEND],"[":[IN_SUB_PATH],eof:[AFTER_PATH]};pathStateMachine[IN_PATH]={ws:[IN_PATH],".":[BEFORE_IDENT],"[":[IN_SUB_PATH],eof:[AFTER_PATH]};pathStateMachine[BEFORE_IDENT]={ws:[BEFORE_IDENT],ident:[IN_IDENT,APPEND],0:[IN_IDENT,APPEND],number:[IN_IDENT,APPEND]};pathStateMachine[IN_IDENT]={ident:[IN_IDENT,APPEND],0:[IN_IDENT,APPEND],number:[IN_IDENT,APPEND],ws:[IN_PATH,PUSH],".":[BEFORE_IDENT,PUSH],"[":[IN_SUB_PATH,PUSH],eof:[AFTER_PATH,PUSH]};pathStateMachine[IN_SUB_PATH]={"'":[IN_SINGLE_QUOTE,APPEND],'"':[IN_DOUBLE_QUOTE,APPEND],"[":[IN_SUB_PATH,INC_SUB_PATH_DEPTH],"]":[IN_PATH,PUSH_SUB_PATH],eof:ERROR,else:[IN_SUB_PATH,APPEND]};pathStateMachine[IN_SINGLE_QUOTE]={"'":[IN_SUB_PATH,APPEND],eof:ERROR,else:[IN_SINGLE_QUOTE,APPEND]};pathStateMachine[IN_DOUBLE_QUOTE]={'"':[IN_SUB_PATH,APPEND],eof:ERROR,else:[IN_DOUBLE_QUOTE,APPEND]};var literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(R){return literalValueRE.test(R)}function stripQuotes(R){var F=R.charCodeAt(0),E=R.charCodeAt(R.length-1);return F===E&&(F===34||F===39)?R.slice(1,-1):R}function getPathCharType(R){if(R==null)return"eof";var F=R.charCodeAt(0);switch(F){case 91:case 93:case 46:case 34:case 39:return R;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function formatSubPath(R){var F=R.trim();return R.charAt(0)==="0"&&isNaN(R)?!1:isLiteral(F)?stripQuotes(F):"*"+F}function parse$1$1(R){var F=[],E=-1,V=BEFORE_PATH,U=0,W,Y,G,X,K,Z,J,Q=[];Q[PUSH]=function(){Y!==void 0&&(F.push(Y),Y=void 0)},Q[APPEND]=function(){Y===void 0?Y=G:Y+=G},Q[INC_SUB_PATH_DEPTH]=function(){Q[APPEND](),U++},Q[PUSH_SUB_PATH]=function(){if(U>0)U--,V=IN_SUB_PATH,Q[APPEND]();else{if(U=0,Y===void 0||(Y=formatSubPath(Y),Y===!1))return!1;Q[PUSH]()}};function ee(){var te=R[E+1];if(V===IN_SINGLE_QUOTE&&te==="'"||V===IN_DOUBLE_QUOTE&&te==='"')return E++,G="\\"+te,Q[APPEND](),!0}for(;V!==null;)if(E++,W=R[E],!(W==="\\"&&ee())){if(X=getPathCharType(W),J=pathStateMachine[V],K=J[X]||J.else||ERROR,K===ERROR||(V=K[0],Z=Q[K[1]],Z&&(G=K[2],G=G===void 0?W:G,Z()===!1)))return;if(V===AFTER_PATH)return F}}var I18nPath=function(){this._cache=Object.create(null)};I18nPath.prototype.parsePath=function(F){var E=this._cache[F];return E||(E=parse$1$1(F),E&&(this._cache[F]=E)),E||[]};I18nPath.prototype.getPathValue=function(F,E){if(!isObject$9(F))return null;var V=this.parsePath(E);if(V.length===0)return null;for(var U=V.length,W=F,Y=0;Y<U;){var G=W[V[Y]];if(G==null)return null;W=G,Y++}return W};var htmlTagMatcher=/<\/?[\w\s="/.':;#-\/]+>/,linkKeyMatcher=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,linkKeyPrefixMatcher=/^@(?:\.([a-zA-Z]+))?:/,bracketsMatcher=/[()]/g,defaultModifiers={upper:function(R){return R.toLocaleUpperCase()},lower:function(R){return R.toLocaleLowerCase()},capitalize:function(R){return""+R.charAt(0).toLocaleUpperCase()+R.substr(1)}},defaultFormatter=new BaseFormatter,VueI18n=function(F){var E=this;F===void 0&&(F={}),!Vue&&typeof window<"u"&&window.Vue&&install$3(window.Vue);var V=F.locale||"en-US",U=F.fallbackLocale===!1?!1:F.fallbackLocale||"en-US",W=F.messages||{},Y=F.dateTimeFormats||F.datetimeFormats||{},G=F.numberFormats||{};this._vm=null,this._formatter=F.formatter||defaultFormatter,this._modifiers=F.modifiers||{},this._missing=F.missing||null,this._root=F.root||null,this._sync=F.sync===void 0?!0:!!F.sync,this._fallbackRoot=F.fallbackRoot===void 0?!0:!!F.fallbackRoot,this._fallbackRootWithEmptyString=F.fallbackRootWithEmptyString===void 0?!0:!!F.fallbackRootWithEmptyString,this._formatFallbackMessages=F.formatFallbackMessages===void 0?!1:!!F.formatFallbackMessages,this._silentTranslationWarn=F.silentTranslationWarn===void 0?!1:F.silentTranslationWarn,this._silentFallbackWarn=F.silentFallbackWarn===void 0?!1:!!F.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new I18nPath,this._dataListeners=new Set,this._componentInstanceCreatedListener=F.componentInstanceCreatedListener||null,this._preserveDirectiveContent=F.preserveDirectiveContent===void 0?!1:!!F.preserveDirectiveContent,this.pluralizationRules=F.pluralizationRules||{},this._warnHtmlInMessage=F.warnHtmlInMessage||"off",this._postTranslation=F.postTranslation||null,this._escapeParameterHtml=F.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in F&&(this.__VUE_I18N_BRIDGE__=F.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(X,K){var Z=Object.getPrototypeOf(E);if(Z&&Z.getChoiceIndex){var J=Z.getChoiceIndex;return J.call(E,X,K)}var Q=function(ee,te){return ee=Math.abs(ee),te===2?ee?ee>1?1:0:1:ee?Math.min(ee,2):0};return E.locale in E.pluralizationRules?E.pluralizationRules[E.locale].apply(E,[X,K]):Q(X,K)},this._exist=function(X,K){return!X||!K?!1:!!(!isNull(E._path.getPathValue(X,K))||X[K])},(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&Object.keys(W).forEach(function(X){E._checkLocaleMessage(X,E._warnHtmlInMessage,W[X])}),this._initVM({locale:V,fallbackLocale:U,messages:W,dateTimeFormats:Y,numberFormats:G})},prototypeAccessors$1={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};VueI18n.prototype._checkLocaleMessage=function(F,E,V){var U=[],W=function(Y,G,X,K){if(isPlainObject$1(X))Object.keys(X).forEach(function(Q){var ee=X[Q];isPlainObject$1(ee)?(K.push(Q),K.push("."),W(Y,G,ee,K),K.pop(),K.pop()):(K.push(Q),W(Y,G,ee,K),K.pop())});else if(isArray$4(X))X.forEach(function(Q,ee){isPlainObject$1(Q)?(K.push("["+ee+"]"),K.push("."),W(Y,G,Q,K),K.pop(),K.pop()):(K.push("["+ee+"]"),W(Y,G,Q,K),K.pop())});else if(isString$5(X)){var Z=htmlTagMatcher.test(X);if(Z){var J="Detected HTML in message '"+X+"' of keypath '"+K.join("")+"' at '"+G+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";Y==="warn"?warn$3(J):Y==="error"&&error$2(J)}}};W(E,F,V,U)};VueI18n.prototype._initVM=function(F){var E=Vue.config.silent;Vue.config.silent=!0,this._vm=new Vue({data:F,__VUE18N__INSTANCE__:!0}),Vue.config.silent=E};VueI18n.prototype.destroyVM=function(){this._vm.$destroy()};VueI18n.prototype.subscribeDataChanging=function(F){this._dataListeners.add(F)};VueI18n.prototype.unsubscribeDataChanging=function(F){remove$2(this._dataListeners,F)};VueI18n.prototype.watchI18nData=function(){var F=this;return this._vm.$watch("$data",function(){for(var E=arrayFrom(F._dataListeners),V=E.length;V--;)Vue.nextTick(function(){E[V]&&E[V].$forceUpdate()})},{deep:!0})};VueI18n.prototype.watchLocale=function(F){if(F){if(!this.__VUE_I18N_BRIDGE__)return null;var V=this,U=this._vm;return this.vm.$watch("locale",function(W){U.$set(U,"locale",W),V.__VUE_I18N_BRIDGE__&&F&&(F.locale.value=W),U.$forceUpdate()},{immediate:!0})}else{if(!this._sync||!this._root)return null;var E=this._vm;return this._root.$i18n.vm.$watch("locale",function(W){E.$set(E,"locale",W),E.$forceUpdate()},{immediate:!0})}};VueI18n.prototype.onComponentInstanceCreated=function(F){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(F,this)};prototypeAccessors$1.vm.get=function(){return this._vm};prototypeAccessors$1.messages.get=function(){return looseClone(this._getMessages())};prototypeAccessors$1.dateTimeFormats.get=function(){return looseClone(this._getDateTimeFormats())};prototypeAccessors$1.numberFormats.get=function(){return looseClone(this._getNumberFormats())};prototypeAccessors$1.availableLocales.get=function(){return Object.keys(this.messages).sort()};prototypeAccessors$1.locale.get=function(){return this._vm.locale};prototypeAccessors$1.locale.set=function(R){this._vm.$set(this._vm,"locale",R)};prototypeAccessors$1.fallbackLocale.get=function(){return this._vm.fallbackLocale};prototypeAccessors$1.fallbackLocale.set=function(R){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",R)};prototypeAccessors$1.formatFallbackMessages.get=function(){return this._formatFallbackMessages};prototypeAccessors$1.formatFallbackMessages.set=function(R){this._formatFallbackMessages=R};prototypeAccessors$1.missing.get=function(){return this._missing};prototypeAccessors$1.missing.set=function(R){this._missing=R};prototypeAccessors$1.formatter.get=function(){return this._formatter};prototypeAccessors$1.formatter.set=function(R){this._formatter=R};prototypeAccessors$1.silentTranslationWarn.get=function(){return this._silentTranslationWarn};prototypeAccessors$1.silentTranslationWarn.set=function(R){this._silentTranslationWarn=R};prototypeAccessors$1.silentFallbackWarn.get=function(){return this._silentFallbackWarn};prototypeAccessors$1.silentFallbackWarn.set=function(R){this._silentFallbackWarn=R};prototypeAccessors$1.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent};prototypeAccessors$1.preserveDirectiveContent.set=function(R){this._preserveDirectiveContent=R};prototypeAccessors$1.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage};prototypeAccessors$1.warnHtmlInMessage.set=function(R){var F=this,E=this._warnHtmlInMessage;if(this._warnHtmlInMessage=R,E!==R&&(R==="warn"||R==="error")){var V=this._getMessages();Object.keys(V).forEach(function(U){F._checkLocaleMessage(U,F._warnHtmlInMessage,V[U])})}};prototypeAccessors$1.postTranslation.get=function(){return this._postTranslation};prototypeAccessors$1.postTranslation.set=function(R){this._postTranslation=R};prototypeAccessors$1.sync.get=function(){return this._sync};prototypeAccessors$1.sync.set=function(R){this._sync=R};VueI18n.prototype._getMessages=function(){return this._vm.messages};VueI18n.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats};VueI18n.prototype._getNumberFormats=function(){return this._vm.numberFormats};VueI18n.prototype._warnDefault=function(F,E,V,U,W,Y){if(!isNull(V))return V;if(this._missing){var G=this._missing.apply(null,[F,E,U,W]);if(isString$5(G))return G}if(this._formatFallbackMessages){var X=parseArgs.apply(void 0,W);return this._render(E,Y,X.params,E)}else return E};VueI18n.prototype._isFallbackRoot=function(F){return(this._fallbackRootWithEmptyString?!F:isNull(F))&&!isNull(this._root)&&this._fallbackRoot};VueI18n.prototype._isSilentFallbackWarn=function(F){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(F):this._silentFallbackWarn};VueI18n.prototype._isSilentFallback=function(F,E){return this._isSilentFallbackWarn(E)&&(this._isFallbackRoot()||F!==this.fallbackLocale)};VueI18n.prototype._isSilentTranslationWarn=function(F){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(F):this._silentTranslationWarn};VueI18n.prototype._interpolate=function(F,E,V,U,W,Y,G){if(!E)return null;var X=this._path.getPathValue(E,V);if(isArray$4(X)||isPlainObject$1(X))return X;var K;if(isNull(X))if(isPlainObject$1(E)){if(K=E[V],!(isString$5(K)||isFunction$3(K)))return null}else return null;else if(isString$5(X)||isFunction$3(X))K=X;else return null;return isString$5(K)&&(K.indexOf("@:")>=0||K.indexOf("@.")>=0)&&(K=this._link(F,E,K,U,"raw",Y,G)),this._render(K,W,Y,V)};VueI18n.prototype._link=function(F,E,V,U,W,Y,G){var X=V,K=X.match(linkKeyMatcher);for(var Z in K)if(!!K.hasOwnProperty(Z)){var J=K[Z],Q=J.match(linkKeyPrefixMatcher),ee=Q[0],te=Q[1],ie=J.replace(ee,"").replace(bracketsMatcher,"");if(includes$1(G,ie))return X;G.push(ie);var ne=this._interpolate(F,E,ie,U,W==="raw"?"string":W,W==="raw"?void 0:Y,G);if(this._isFallbackRoot(ne)){if(!this._root)throw Error("unexpected error");var ae=this._root.$i18n;ne=ae._translate(ae._getMessages(),ae.locale,ae.fallbackLocale,ie,U,W,Y)}ne=this._warnDefault(F,ie,ne,U,isArray$4(Y)?Y:[Y],W),this._modifiers.hasOwnProperty(te)?ne=this._modifiers[te](ne):defaultModifiers.hasOwnProperty(te)&&(ne=defaultModifiers[te](ne)),G.pop(),X=ne?X.replace(J,ne):X}return X};VueI18n.prototype._createMessageContext=function(F,E,V,U){var W=this,Y=isArray$4(F)?F:[],G=isObject$9(F)?F:{},X=function(Q){return Y[Q]},K=function(Q){return G[Q]},Z=this._getMessages(),J=this.locale;return{list:X,named:K,values:F,formatter:E,path:V,messages:Z,locale:J,linked:function(Q){return W._interpolate(J,Z[J]||{},Q,null,U,void 0,[Q])}}};VueI18n.prototype._render=function(F,E,V,U){if(isFunction$3(F))return F(this._createMessageContext(V,this._formatter||defaultFormatter,U,E));var W=this._formatter.interpolate(F,V,U);return W||(W=defaultFormatter.interpolate(F,V,U)),E==="string"&&!isString$5(W)?W.join(""):W};VueI18n.prototype._appendItemToChain=function(F,E,V){var U=!1;return includes$1(F,E)||(U=!0,E&&(U=E[E.length-1]!=="!",E=E.replace(/!/g,""),F.push(E),V&&V[E]&&(U=V[E]))),U};VueI18n.prototype._appendLocaleToChain=function(F,E,V){var U,W=E.split("-");do{var Y=W.join("-");U=this._appendItemToChain(F,Y,V),W.splice(-1,1)}while(W.length&&U===!0);return U};VueI18n.prototype._appendBlockToChain=function(F,E,V){for(var U=!0,W=0;W<E.length&&isBoolean$1(U);W++){var Y=E[W];isString$5(Y)&&(U=this._appendLocaleToChain(F,Y,V))}return U};VueI18n.prototype._getLocaleChain=function(F,E){if(F==="")return[];this._localeChainCache||(this._localeChainCache={});var V=this._localeChainCache[F];if(!V){E||(E=this.fallbackLocale),V=[];for(var U=[F];isArray$4(U);)U=this._appendBlockToChain(V,U,E);var W;isArray$4(E)?W=E:isObject$9(E)?E.default?W=E.default:W=null:W=E,isString$5(W)?U=[W]:U=W,U&&this._appendBlockToChain(V,U,null),this._localeChainCache[F]=V}return V};VueI18n.prototype._translate=function(F,E,V,U,W,Y,G){for(var X=this._getLocaleChain(E,V),K,Z=0;Z<X.length;Z++){var J=X[Z];if(K=this._interpolate(J,F[J],U,W,Y,G,[U]),!isNull(K))return K}return null};VueI18n.prototype._t=function(F,E,V,U){for(var W,Y=[],G=arguments.length-4;G-- >0;)Y[G]=arguments[G+4];if(!F)return"";var X=parseArgs.apply(void 0,Y);this._escapeParameterHtml&&(X.params=escapeParams(X.params));var K=X.locale||E,Z=this._translate(V,K,this.fallbackLocale,F,U,"string",X.params);if(this._isFallbackRoot(Z)){if(!this._root)throw Error("unexpected error");return(W=this._root).$t.apply(W,[F].concat(Y))}else return Z=this._warnDefault(K,F,Z,U,Y,"string"),this._postTranslation&&Z!==null&&Z!==void 0&&(Z=this._postTranslation(Z,F)),Z};VueI18n.prototype.t=function(F){for(var E,V=[],U=arguments.length-1;U-- >0;)V[U]=arguments[U+1];return(E=this)._t.apply(E,[F,this.locale,this._getMessages(),null].concat(V))};VueI18n.prototype._i=function(F,E,V,U,W){var Y=this._translate(V,E,this.fallbackLocale,F,U,"raw",W);if(this._isFallbackRoot(Y)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(F,E,W)}else return this._warnDefault(E,F,Y,U,[W],"raw")};VueI18n.prototype.i=function(F,E,V){return F?(isString$5(E)||(E=this.locale),this._i(F,E,this._getMessages(),null,V)):""};VueI18n.prototype._tc=function(F,E,V,U,W){for(var Y,G=[],X=arguments.length-5;X-- >0;)G[X]=arguments[X+5];if(!F)return"";W===void 0&&(W=1);var K={count:W,n:W},Z=parseArgs.apply(void 0,G);return Z.params=Object.assign(K,Z.params),G=Z.locale===null?[Z.params]:[Z.locale,Z.params],this.fetchChoice((Y=this)._t.apply(Y,[F,E,V,U].concat(G)),W)};VueI18n.prototype.fetchChoice=function(F,E){if(!F||!isString$5(F))return null;var V=F.split("|");return E=this.getChoiceIndex(E,V.length),V[E]?V[E].trim():F};VueI18n.prototype.tc=function(F,E){for(var V,U=[],W=arguments.length-2;W-- >0;)U[W]=arguments[W+2];return(V=this)._tc.apply(V,[F,this.locale,this._getMessages(),null,E].concat(U))};VueI18n.prototype._te=function(F,E,V){for(var U=[],W=arguments.length-3;W-- >0;)U[W]=arguments[W+3];var Y=parseArgs.apply(void 0,U).locale||E;return this._exist(V[Y],F)};VueI18n.prototype.te=function(F,E){return this._te(F,this.locale,this._getMessages(),E)};VueI18n.prototype.getLocaleMessage=function(F){return looseClone(this._vm.messages[F]||{})};VueI18n.prototype.setLocaleMessage=function(F,E){(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&this._checkLocaleMessage(F,this._warnHtmlInMessage,E),this._vm.$set(this._vm.messages,F,E)};VueI18n.prototype.mergeLocaleMessage=function(F,E){(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&this._checkLocaleMessage(F,this._warnHtmlInMessage,E),this._vm.$set(this._vm.messages,F,merge$3(typeof this._vm.messages[F]<"u"&&Object.keys(this._vm.messages[F]).length?Object.assign({},this._vm.messages[F]):{},E))};VueI18n.prototype.getDateTimeFormat=function(F){return looseClone(this._vm.dateTimeFormats[F]||{})};VueI18n.prototype.setDateTimeFormat=function(F,E){this._vm.$set(this._vm.dateTimeFormats,F,E),this._clearDateTimeFormat(F,E)};VueI18n.prototype.mergeDateTimeFormat=function(F,E){this._vm.$set(this._vm.dateTimeFormats,F,merge$3(this._vm.dateTimeFormats[F]||{},E)),this._clearDateTimeFormat(F,E)};VueI18n.prototype._clearDateTimeFormat=function(F,E){for(var V in E){var U=F+"__"+V;!this._dateTimeFormatters.hasOwnProperty(U)||delete this._dateTimeFormatters[U]}};VueI18n.prototype._localizeDateTime=function(F,E,V,U,W,Y){for(var G=E,X=U[G],K=this._getLocaleChain(E,V),Z=0;Z<K.length;Z++){var J=G,Q=K[Z];if(X=U[Q],G=Q,!(isNull(X)||isNull(X[W])))break}if(isNull(X)||isNull(X[W]))return null;var ee=X[W],te;if(Y)te=new Intl.DateTimeFormat(G,Object.assign({},ee,Y));else{var ie=G+"__"+W;te=this._dateTimeFormatters[ie],te||(te=this._dateTimeFormatters[ie]=new Intl.DateTimeFormat(G,ee))}return te.format(F)};VueI18n.prototype._d=function(F,E,V,U){if(!V){var W=U?new Intl.DateTimeFormat(E,U):new Intl.DateTimeFormat(E);return W.format(F)}var Y=this._localizeDateTime(F,E,this.fallbackLocale,this._getDateTimeFormats(),V,U);if(this._isFallbackRoot(Y)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(F,V,E)}else return Y||""};VueI18n.prototype.d=function(F){for(var E=[],V=arguments.length-1;V-- >0;)E[V]=arguments[V+1];var U=this.locale,W=null,Y=null;return E.length===1?(isString$5(E[0])?W=E[0]:isObject$9(E[0])&&(E[0].locale&&(U=E[0].locale),E[0].key&&(W=E[0].key)),Y=Object.keys(E[0]).reduce(function(G,X){var K;return includes$1(dateTimeFormatKeys,X)?Object.assign({},G,(K={},K[X]=E[0][X],K)):G},null)):E.length===2&&(isString$5(E[0])&&(W=E[0]),isString$5(E[1])&&(U=E[1])),this._d(F,U,W,Y)};VueI18n.prototype.getNumberFormat=function(F){return looseClone(this._vm.numberFormats[F]||{})};VueI18n.prototype.setNumberFormat=function(F,E){this._vm.$set(this._vm.numberFormats,F,E),this._clearNumberFormat(F,E)};VueI18n.prototype.mergeNumberFormat=function(F,E){this._vm.$set(this._vm.numberFormats,F,merge$3(this._vm.numberFormats[F]||{},E)),this._clearNumberFormat(F,E)};VueI18n.prototype._clearNumberFormat=function(F,E){for(var V in E){var U=F+"__"+V;!this._numberFormatters.hasOwnProperty(U)||delete this._numberFormatters[U]}};VueI18n.prototype._getNumberFormatter=function(F,E,V,U,W,Y){for(var G=E,X=U[G],K=this._getLocaleChain(E,V),Z=0;Z<K.length;Z++){var J=G,Q=K[Z];if(X=U[Q],G=Q,!(isNull(X)||isNull(X[W])))break}if(isNull(X)||isNull(X[W]))return null;var ee=X[W],te;if(Y)te=new Intl.NumberFormat(G,Object.assign({},ee,Y));else{var ie=G+"__"+W;te=this._numberFormatters[ie],te||(te=this._numberFormatters[ie]=new Intl.NumberFormat(G,ee))}return te};VueI18n.prototype._n=function(F,E,V,U){if(!VueI18n.availabilities.numberFormat)return"";if(!V){var W=U?new Intl.NumberFormat(E,U):new Intl.NumberFormat(E);return W.format(F)}var Y=this._getNumberFormatter(F,E,this.fallbackLocale,this._getNumberFormats(),V,U),G=Y&&Y.format(F);if(this._isFallbackRoot(G)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(F,Object.assign({},{key:V,locale:E},U))}else return G||""};VueI18n.prototype.n=function(F){for(var E=[],V=arguments.length-1;V-- >0;)E[V]=arguments[V+1];var U=this.locale,W=null,Y=null;return E.length===1?isString$5(E[0])?W=E[0]:isObject$9(E[0])&&(E[0].locale&&(U=E[0].locale),E[0].key&&(W=E[0].key),Y=Object.keys(E[0]).reduce(function(G,X){var K;return includes$1(numberFormatKeys,X)?Object.assign({},G,(K={},K[X]=E[0][X],K)):G},null)):E.length===2&&(isString$5(E[0])&&(W=E[0]),isString$5(E[1])&&(U=E[1])),this._n(F,U,W,Y)};VueI18n.prototype._ntp=function(F,E,V,U){if(!VueI18n.availabilities.numberFormat)return[];if(!V){var W=U?new Intl.NumberFormat(E,U):new Intl.NumberFormat(E);return W.formatToParts(F)}var Y=this._getNumberFormatter(F,E,this.fallbackLocale,this._getNumberFormats(),V,U),G=Y&&Y.formatToParts(F);if(this._isFallbackRoot(G)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(F,E,V,U)}else return G||[]};Object.defineProperties(VueI18n.prototype,prototypeAccessors$1);var availabilities;Object.defineProperty(VueI18n,"availabilities",{get:function(){if(!availabilities){var F=typeof Intl<"u";availabilities={dateTimeFormat:F&&typeof Intl.DateTimeFormat<"u",numberFormat:F&&typeof Intl.NumberFormat<"u"}}return availabilities}});VueI18n.install=install$3;VueI18n.version="8.28.2";const VueI18n$1=VueI18n,accounts$1="Accounts",categories$1="Categories",expense$1="Expense",income$1="Income",balance$1="Balance",delta$1="Delta = Income \u2212 Expenses \u2212 Profit",addAccount$1="New account",updateAccount$1="Update account",addCategory$1="New category",updateCategory$1="Update category",newTransfer$1="New transfer",add$4="Add",addmore$1="Add more",addMany$1="Add many",update$1="Update",updateAll$1="@:update all",or$2="or",cancel$1="Cancel",deleteAll$1="@:delete all",move$2="Move",name$1="Name",selected$1="{count} transactions",found$1="{count} transactions found",notFound$1="Not found",currency$1="Currency",type$1="Type",color$3="Color",icon$1="Icon",desc$1="Comment",noDesc$1="no description",addTransaction$1="Add transaction",updateTransaction$1="Update transaction",applyTo$1={name:"Apply changes to",list:["This transaction only","This & all related future recurring transactions"]},amount$1="Amount",repeat$2="Repeat",oneTime$1="One time",repeating$1="Repeating",date$3="Date",from$2="Start date",to$2="End date",repeatFrom$1="Start repeat",howOften$1={name:"How often",every:"every",list:["Every month","Every day","Every week","Every year","Custom..."],list_short:["month","day","week","year"]},endRepeat$1={name:"End repeat",list:["Repeat forever","Limit the number of occurrences","Until the date"],occurrences:"occurrences"},account$2="Account",category$2="Category",contractor$1="Contractor",addIncome$1="Income",addExpense$1="Expense",changeSettings$1="change settings",details$1="View details",optional$1="Optional",transactionsListCount$1="{count} TRANSACTIONS",transactionDeleteWarning$1="The transaction will be permanently deleted. Are you sure?",cashOnHand$1="Cash on hand",cashToday$1="Cash on hand today",today$1="Today",yesterday$1="Yesterday",overdue$1="Overdue",repeatingTran$1="Repeating transaction",repeatingInfo$1={interval:{day:"Never | Every day | Every {frequency} days",week:"Never | Every week | Every {frequency} weeks",month:"Never | Every month | Every {frequency} months",year:"Never | Every year | Every {frequency} years"},occurrences:"Infinitely | Once | {occurrences} occurrences"},emptyList$1="No transactions",emptyListUpcoming$1="No transactions are planned for this period",emptyListToday$1="No transactions today",nextDays$1="Next {count} days",tomorrow$1="Tomorrow",justCreated$1="Just now",deleteWarning$1="DANGER: This will permanently delete the entire {type} and ALL TRANSACTIONS without the ability to restore. Are you sure?",offlineMessage$1="No Internet connection",bulkDeleteWarning$1="This will delete all selected transactions. Are you sure?",bulkPurgeWarning$1="DANGER: This will permanently delete all selected transactions. There will be no way to rollback. Are you sure?",moveTransactions$1="Move {count} transactions",updateTransactions$1="Update {count} transactions",bulkMoveWarning$1="Please be sure to select the right account and the right category type applicable to all selected transactions to avoid wrong currency conversion effects.",dontChange$1="Don\u2019t change",noCategory$1="No category",unselectAll$1="Unselect all",other$1="Other",transfer$1="Transfer",fromAccount$1="From account",toAccount$1="To account",incomingAmount$1="Incoming amount",transferMessage$1="You are about to make a transfer from one currency to another. Please enter the right incoming amount to make sure the conversion rate is right.",reports$1="Reports",search$1={label:"Search",noResults:"No results"},upnext$1="Up next",history$1="History",startingBalance$1="Starting balance",importResults$1="Import results",setDates$1="Adjust dates",close$1="Close",Done$1="Done",Process$1="Process",processToday$1="Mark as processed today",processEdits$1="Process with edits",profit$1="Profit (cash out)",incomeCategoryExplained$1="Income transactions increase the account balance.",expenseCategoryExplained$1="Expense transactions decrease the account balance.",profitCategoryExplained$1="For business, profit is similar to expense because its taking money out of business and thus decreasing the account balance. The Profit checkbox allows you to visually group this kind of expenses into separate blue columns.",notifyMe$1="Remind to process when due",notifyMeAlert$1="When the transaction date comes, a tiny little notification on the app icon will emerge and remind you to process (confirm) this transaction.",error$1={http:"Request failed",api:"API error",nonJsonTitle:"Something's wrong with the API (api.php). Not a JSON response",nonJsonText:"Please contact your hosting provider or admin who had been configuring Webasyst on your server"},arrow$1={up:"Going out of cash gap on",down:"Cash gap is expected on"},cashGapTooltip$1=`CASH GAP!
Start date: {start}
End date: {end}
Max balance decline: {decline} on {declineDate}`,cashGapIn$1="Cash gap is expected in {inDays} days ({date})",cashGapOut$1="Going out of cash gap in {inDays} days ({date})",inDays$1="(in {days} days)",fileUploaderLabel$1="Drop here or browse",contacts$1="Contacts",createNewContact$1="Create new Contact",linkContact$1={main:"Search for existing contact {0}",link:"or create a new one"},newContact$1="New contact with the specified name will be created. Use the CRM app to view and edit contact profile afterwards.",noContact$1={main:"Contact not found{0}",link:"Link with a new contact"},selectedContact$1="Transaction will be linked with the selected contractor",hide$1="Hide",show$1="Show",showMore$1="Show more",navigation$1="{action} menu",collapseTransactionDesc$1="{count} transactions ({category})",repeatingTransactionDesc$1="{repeats} transactions",createdBy$1={normal:"Created by {username} on {createDate}",edited:"@:(createdBy.normal). Last edited on {updateDate}."},transactionDate$1="Transaction date: {date}",amountOnDate$1="{amount} on {date}",accountBalanceTransactionListHint$1="Account balance after the transaction has been processed",specify$1="Specify",recipient$1="recipient",payee$1="payee",parentCategory$1="Parent category",notSelected$1="Not selected",shortMonth$1="mo",forecasted$1="Forecasted balance dynamic based on all planned future transactions",transactions$1="Transactions",allTransactions$1="All transactions",change$1="Change",trash$1="Trash",trashInfo$1="Deleted transactions are not counted in any cash flow and balance reports and are visible to the app admins only. Select one or more transactions to purge or restore.",restore$1="Restore",restoreInfo$1="Editing is disabled for deleted transactions. Select this transaction and restore it first.",purge$1="Purge",selfDestructLabel$1="Automatically delete this transaction when its planned date comes",selfDestructText$1="Useful when real transactions are imported in bulk from banks and spreadsheets, and this particular transaction must be treated as a planned one that needs to be replaced with the imported ones.",calendar$3="Calendar",compactView$1="Compact View",listView$1="List View",plugins$1="Plugins",contactsWillSoon$1="Contacts with linked transactions will appear here soon.",Order$1="Order",orOrder$1="or order",orderNumber$1="Order number",orderNotFound$1="Order not found",en$1={404:{title:"Not Found"},accounts:accounts$1,categories:categories$1,expense:expense$1,income:income$1,balance:balance$1,delta:delta$1,addAccount:addAccount$1,updateAccount:updateAccount$1,addCategory:addCategory$1,updateCategory:updateCategory$1,newTransfer:newTransfer$1,add:add$4,addmore:addmore$1,addMany:addMany$1,update:update$1,updateAll:updateAll$1,or:or$2,cancel:cancel$1,delete:"Delete",deleteAll:deleteAll$1,move:move$2,name:name$1,selected:selected$1,found:found$1,notFound:notFound$1,currency:currency$1,type:type$1,color:color$3,icon:icon$1,desc:desc$1,noDesc:noDesc$1,addTransaction:addTransaction$1,updateTransaction:updateTransaction$1,applyTo:applyTo$1,amount:amount$1,repeat:repeat$2,oneTime:oneTime$1,repeating:repeating$1,date:date$3,from:from$2,to:to$2,repeatFrom:repeatFrom$1,howOften:howOften$1,endRepeat:endRepeat$1,account:account$2,category:category$2,contractor:contractor$1,addIncome:addIncome$1,addExpense:addExpense$1,changeSettings:changeSettings$1,details:details$1,optional:optional$1,transactionsListCount:transactionsListCount$1,transactionDeleteWarning:transactionDeleteWarning$1,cashOnHand:cashOnHand$1,cashToday:cashToday$1,today:today$1,yesterday:yesterday$1,overdue:overdue$1,repeatingTran:repeatingTran$1,repeatingInfo:repeatingInfo$1,import:"Import",emptyList:emptyList$1,emptyListUpcoming:emptyListUpcoming$1,emptyListToday:emptyListToday$1,nextDays:nextDays$1,"Next 90 days":"Next 90 days",tomorrow:tomorrow$1,justCreated:justCreated$1,deleteWarning:deleteWarning$1,offlineMessage:offlineMessage$1,bulkDeleteWarning:bulkDeleteWarning$1,bulkPurgeWarning:bulkPurgeWarning$1,moveTransactions:moveTransactions$1,updateTransactions:updateTransactions$1,bulkMoveWarning:bulkMoveWarning$1,dontChange:dontChange$1,noCategory:noCategory$1,unselectAll:unselectAll$1,other:other$1,transfer:transfer$1,fromAccount:fromAccount$1,toAccount:toAccount$1,incomingAmount:incomingAmount$1,transferMessage:transferMessage$1,"-1_M":"Last 30 days","-3_M":"Last 90 days","-6_M":"Last 180 days","-1_Y":"Last 365 days","-3_Y":"Last 3 years","-5_Y":"Last 5 years","-10_Y":"Last 10 years","0_M":"No forecast","1_M":"Next 30 days","3_M":"Next 90 days","6_M":"Next 180 days","1_Y":"Next 1 year","2_Y":"Next 2 years","3_Y":"Next 3 years",reports:reports$1,search:search$1,upnext:upnext$1,history:history$1,startingBalance:startingBalance$1,importResults:importResults$1,setDates:setDates$1,close:close$1,Done:Done$1,Process:Process$1,processToday:processToday$1,processEdits:processEdits$1,profit:profit$1,incomeCategoryExplained:incomeCategoryExplained$1,expenseCategoryExplained:expenseCategoryExplained$1,profitCategoryExplained:profitCategoryExplained$1,notifyMe:notifyMe$1,notifyMeAlert:notifyMeAlert$1,error:error$1,arrow:arrow$1,cashGapTooltip:cashGapTooltip$1,cashGapIn:cashGapIn$1,cashGapOut:cashGapOut$1,inDays:inDays$1,fileUploaderLabel:fileUploaderLabel$1,contacts:contacts$1,createNewContact:createNewContact$1,linkContact:linkContact$1,newContact:newContact$1,noContact:noContact$1,selectedContact:selectedContact$1,hide:hide$1,show:show$1,showMore:showMore$1,navigation:navigation$1,collapseTransactionDesc:collapseTransactionDesc$1,repeatingTransactionDesc:repeatingTransactionDesc$1,createdBy:createdBy$1,export:"Export",transactionDate:transactionDate$1,amountOnDate:amountOnDate$1,accountBalanceTransactionListHint:accountBalanceTransactionListHint$1,specify:specify$1,recipient:recipient$1,payee:payee$1,parentCategory:parentCategory$1,notSelected:notSelected$1,shortMonth:shortMonth$1,forecasted:forecasted$1,transactions:transactions$1,allTransactions:allTransactions$1,change:change$1,trash:trash$1,trashInfo:trashInfo$1,restore:restore$1,restoreInfo:restoreInfo$1,purge:purge$1,selfDestructLabel:selfDestructLabel$1,selfDestructText:selfDestructText$1,calendar:calendar$3,compactView:compactView$1,listView:listView$1,plugins:plugins$1,contactsWillSoon:contactsWillSoon$1,Order:Order$1,orOrder:orOrder$1,orderNumber:orderNumber$1,orderNotFound:orderNotFound$1},accounts="\u0421\u0447\u0435\u0442\u0430",categories="\u0421\u0442\u0430\u0442\u044C\u0438",expense="\u0420\u0430\u0441\u0445\u043E\u0434",income="\u0414\u043E\u0445\u043E\u0434",balance="\u0411\u0430\u043B\u0430\u043D\u0441",delta="\u0414\u0435\u043B\u044C\u0442\u0430 = \u0414\u043E\u0445\u043E\u0434\u044B \u2212 \u0420\u0430\u0441\u0445\u043E\u0434\u044B \u2212 \u041F\u0440\u0438\u0431\u044B\u043B\u044C",addAccount="\u041D\u043E\u0432\u044B\u0439 \u0441\u0447\u0435\u0442",updateAccount="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0447\u0435\u0442\u0430",addCategory="\u041D\u043E\u0432\u0430\u044F \u0441\u0442\u0430\u0442\u044C\u044F",updateCategory="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0442\u0430\u0442\u044C\u0438",newTransfer="\u041C\u0435\u0436\u0434\u0443 \u0441\u0447\u0435\u0442\u0430\u043C\u0438",add$3="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",addmore="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0435\u0449\u0435",addMany="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E",update="\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C",updateAll="@:update \u0432\u0441\u0435",or$1="\u0438\u043B\u0438",cancel="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",deleteAll="@:delete \u0432\u0441\u0435",move$1="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C",name="\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",selected="{count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",found="\u043D\u0430\u0439\u0434\u0435\u043D\u043E {count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",notFound="\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",currency="\u0412\u0430\u043B\u044E\u0442\u0430",type="\u0422\u0438\u043F",color$2="\u0426\u0432\u0435\u0442",icon="\u0418\u043A\u043E\u043D\u043A\u0430",desc="\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",noDesc="\u043D\u0435\u0442 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u044F",addTransaction="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E",updateTransaction="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E",applyTo={name:"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C",list:["\u0422\u043E\u043B\u044C\u043A\u043E \u043A \u044D\u0442\u043E\u0439 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438","\u041A \u044D\u0442\u043E\u0439 \u0438 \u0432\u0441\u0435\u043C \u0431\u0443\u0434\u0443\u0449\u0438\u043C \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F\u043C"]},amount="\u0421\u0443\u043C\u043C\u0430",repeat$1="\u041F\u043E\u0432\u0442\u043E\u0440",oneTime="\u041E\u0434\u0438\u043D \u0440\u0430\u0437",repeating="\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C",date$2="\u0414\u0430\u0442\u0430",from$1="\u041D\u0430\u0447\u0430\u043B\u044C\u043D\u0430\u044F \u0434\u0430\u0442\u0430",to$1="\u041A\u043E\u043D\u0435\u0447\u043D\u0430\u044F \u0434\u0430\u0442\u0430",repeatFrom="\u041F\u0435\u0440\u0432\u0430\u044F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044F",howOften={name:"\u041A\u0430\u043A \u0447\u0430\u0441\u0442\u043E",every:"\u043A\u0430\u0436\u0434\u044B\u0439",list:["\u041A\u0430\u0436\u0434\u044B\u0439 \u043C\u0435\u0441\u044F\u0446","\u041A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C","\u041A\u0430\u0436\u0434\u0443\u044E \u043D\u0435\u0434\u0435\u043B\u044E","\u041A\u0430\u0436\u0434\u044B\u0439 \u0433\u043E\u0434","\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C..."],list_short:["\u043C\u0435\u0441\u044F\u0446","\u0434\u0435\u043D\u044C","\u043D\u0435\u0434\u0435\u043B\u044F","\u0433\u043E\u0434"]},endRepeat={name:"\u041E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u0435",list:["\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C \u0432\u0441\u044E \u0436\u0438\u0437\u043D\u044C","\u0417\u0430\u0434\u0430\u0442\u044C \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439","\u0414\u043E \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u043E\u0439 \u0434\u0430\u0442\u044B"],occurrences:"\u0440\u0430\u0437"},account$1="\u0421\u0447\u0435\u0442",category$1="\u0421\u0442\u0430\u0442\u044C\u044F",contractor="\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442",addIncome="\u0414\u043E\u0445\u043E\u0434",addExpense="\u0420\u0430\u0441\u0445\u043E\u0434",changeSettings="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0442\u0430\u0442\u044C\u0438",details="\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",optional="\u041C\u043E\u0436\u043D\u043E \u043D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u044F\u0442\u044C",transactionsListCount="{count} \u041E\u041F\u0415\u0420\u0410\u0426\u0418\u0419",transactionDeleteWarning="\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u044F \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u0430. \u0423\u0432\u0435\u0440\u0435\u043D\u044B?",cashOnHand="\u0414\u0435\u043D\u044C\u0433\u0438",cashToday="\u0414\u0435\u043D\u044C\u0433\u0438 \u0441\u0435\u0433\u043E\u0434\u043D\u044F",today="\u0421\u0435\u0433\u043E\u0434\u043D\u044F",yesterday="\u0412\u0447\u0435\u0440\u0430",overdue="\u041F\u0440\u043E\u0441\u0440\u043E\u0447\u0435\u043D\u043D\u044B\u0435",repeatingTran="\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u044E\u0449\u0430\u044F\u0441\u044F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044F",repeatingInfo={interval:{day:"\u041D\u0438\u043A\u043E\u0433\u0434\u0430 | \u041A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C | \u0420\u0430\u0437 \u0432 {frequency} \u0434\u043D\u044F | \u0420\u0430\u0437 \u0432 {frequency} \u0434\u043D\u0435\u0439",week:"\u041D\u0438\u043A\u043E\u0433\u0434\u0430 | \u041A\u0430\u0436\u0434\u0443\u044E \u043D\u0435\u0434\u0435\u043B\u044E | \u0420\u0430\u0437 \u0432 {frequency} \u043D\u0435\u0434\u0435\u043B\u0438 | \u0420\u0430\u0437 \u0432 {frequency} \u043D\u0435\u0434\u0435\u043B\u044C",month:"\u041D\u0438\u043A\u043E\u0433\u0434\u0430 | \u041A\u0430\u0436\u0434\u044B\u0439 \u043C\u0435\u0441\u044F\u0446 | \u0420\u0430\u0437 \u0432 {frequency} \u043C\u0435\u0441\u044F\u0446\u0430 | \u0420\u0430\u0437 \u0432 {frequency} \u043C\u0435\u0441\u044F\u0446\u0435\u0432",year:"\u041D\u0438\u043A\u043E\u0433\u0434\u0430 | \u041A\u0430\u0436\u0434\u044B\u0439 \u0433\u043E\u0434 | \u0420\u0430\u0437 \u0432 {frequency} \u0433\u043E\u0434\u0430 | \u0420\u0430\u0437 \u0432 {frequency} \u043B\u0435\u0442"},occurrences:"\u0411\u0435\u0441\u043A\u043E\u043D\u0435\u0447\u043D\u043E | \u0415\u0434\u0438\u043D\u043E\u0436\u0434\u044B | {occurrences} \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F | {occurrences} \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439"},emptyList="\u041D\u0435\u0442 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",emptyListUpcoming="\u041D\u0430 \u0437\u0430\u0434\u0430\u043D\u043D\u044B\u0439 \u043F\u0435\u0440\u0438\u043E\u0434 \u0437\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 \u043D\u0435\u0442",emptyListToday="\u0421\u0435\u0433\u043E\u0434\u043D\u044F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 \u043D\u0435\u0442",nextDays="\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435 {count} \u0434\u043D\u0435\u0439",tomorrow="\u0417\u0430\u0432\u0442\u0440\u0430",justCreated="\u0422\u043E\u043B\u044C\u043A\u043E \u0447\u0442\u043E",deleteWarning="\u0412\u0410\u0416\u041D\u041E: \u0412\u0421\u0415 \u041E\u041F\u0415\u0420\u0410\u0426\u0418\u0418 {type} \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B \u0431\u0435\u0437 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F. \u0423\u0434\u0430\u043B\u0438\u0442\u044C?",offlineMessage="\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u043A \u0438\u043D\u0442\u0435\u0440\u043D\u0435\u0442\u0443 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",bulkDeleteWarning="\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B?",bulkPurgeWarning="\u041E\u041F\u0410\u0421\u041D\u041E! \u041E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E. \u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F \u043D\u0435 \u0431\u0443\u0434\u0435\u0442. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B?",moveTransactions="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C {count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",updateTransactions="\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C {count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",bulkMoveWarning="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u0441\u0447\u0435\u0442 \u0438 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0443\u044E \u0441\u0442\u0430\u0442\u044C\u044E \u0434\u043B\u044F \u0432\u0441\u0435\u0445 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439, \u0447\u0442\u043E\u0431\u044B \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u044B\u0445 \u043E\u0448\u0438\u0431\u043E\u043A \u043F\u0440\u0438 \u043A\u043E\u043D\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u0438 \u0432\u0430\u043B\u044E\u0442.",dontChange="\u041D\u0435 \u043C\u0435\u043D\u044F\u0442\u044C",noCategory="\u0411\u0435\u0437 \u0441\u0442\u0430\u0442\u044C\u0438",unselectAll="\u0421\u043D\u044F\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",other="\u041F\u0440\u043E\u0447\u0435\u0435",transfer="\u041F\u0435\u0440\u0435\u0432\u043E\u0434",fromAccount="\u0421\u043E \u0441\u0447\u0435\u0442\u0430",toAccount="\u041D\u0430 \u0441\u0447\u0435\u0442",incomingAmount="\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u0441\u0442\u0443\u043F\u043B\u0435\u043D\u0438\u044F",transferMessage="\u0412\u044B \u0434\u0435\u043B\u0430\u0435\u0442\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0438\u0437 \u043E\u0434\u043D\u043E\u0439 \u0432\u0430\u043B\u044E\u0442\u044B \u0432 \u0434\u0440\u0443\u0433\u0443\u044E. \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0443\u044E \u0441\u0443\u043C\u043C\u0443 \u043F\u043E\u0441\u0442\u0443\u043F\u043B\u0435\u043D\u0438\u044F \u0441\u043E\u0433\u043B\u0430\u0441\u043D\u043E \u0442\u0435\u043A\u0443\u0449\u0435\u043C\u0443 \u043A\u0443\u0440\u0441\u0443 \u0432\u0430\u043B\u044E\u0442.",reports="\u041E\u0442\u0447\u0435\u0442\u044B",search={label:"\u041F\u043E\u0438\u0441\u043A",noResults:"\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E"},upnext="\u041F\u043B\u0430\u043D",history="\u0418\u0441\u0442\u043E\u0440\u0438\u044F",startingBalance="\u041D\u0430\u0447\u0430\u043B\u044C\u043D\u044B\u0439 \u0431\u0430\u043B\u0430\u043D\u0441",importResults="\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0438\u043C\u043F\u043E\u0440\u0442\u0430",setDates="\u0412\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u0442\u044B",close="\u0417\u0430\u043A\u0440\u044B\u0442\u044C",Done="\u0412\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u043E",Process="\u041F\u0440\u043E\u0432\u0435\u0441\u0442\u0438",processToday="\u041F\u0440\u043E\u0432\u0435\u0441\u0442\u0438 \u0441\u0435\u0433\u043E\u0434\u043D\u044F",processEdits="\u041F\u0440\u043E\u0432\u0435\u0441\u0442\u0438 \u0441 \u043F\u0440\u0430\u0432\u043A\u0430\u043C\u0438",profit="\u041F\u0440\u0438\u0431\u044B\u043B\u044C (\u0432\u044B\u0432\u043E\u0434 \u0434\u0435\u043D\u0435\u0433)",incomeCategoryExplained="\u0414\u043E\u0445\u043E\u0434\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0443\u0432\u0435\u043B\u0438\u0447\u0438\u0432\u0430\u044E\u0442 \u0431\u0430\u043B\u0430\u043D\u0441 \u0441\u0447\u0435\u0442\u0430.",expenseCategoryExplained="\u0420\u0430\u0441\u0445\u043E\u0434\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0443\u043C\u0435\u043D\u044C\u0448\u0430\u044E\u0442 \u0431\u0430\u043B\u0430\u043D\u0441 \u0441\u0447\u0435\u0442\u0430.",profitCategoryExplained="\u041F\u0440\u0438\u0431\u044B\u043B\u044C \u2014 \u044D\u0442\u043E \u0432\u044B\u0432\u043E\u0434 \u0434\u0435\u043D\u0435\u0433 \u0438\u0437 \u0431\u0438\u0437\u043D\u0435\u0441\u0430. \u041F\u043E\u044D\u0442\u043E\u043C\u0443 \u0441 \u0442\u043E\u0447\u043A\u0438 \u0437\u0440\u0435\u043D\u0438\u044F \u0431\u0438\u0437\u043D\u0435\u0441\u0430 \u043F\u0440\u0438\u0431\u044B\u043B\u044C \u2014 \u044D\u0442\u043E \u043E\u0431\u044B\u0447\u043D\u0430\u044F \u0440\u0430\u0441\u0445\u043E\u0434\u043D\u0430\u044F \u0441\u0442\u0430\u0442\u044C\u044F, \u0443\u043C\u0435\u043D\u044C\u0448\u0430\u044E\u0449\u0430\u044F \u0431\u0430\u043B\u0430\u043D\u0441 \u0441\u0447\u0435\u0442\u0430. \u0412\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u0433\u0430\u043B\u043E\u0447\u043A\u0438 \u043F\u043E\u0437\u0432\u043E\u043B\u0438\u0442 \u0432\u044B\u0434\u0435\u043B\u0438\u0442\u044C \u043D\u0430 \u0433\u0440\u0430\u0444\u0438\u043A\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0438\u0437 \u044D\u0442\u043E\u0439 \u0441\u0442\u0430\u0442\u044C\u0438 \u0432 \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u044B\u0435 \u0441\u0442\u043E\u043B\u0431\u0438\u043A\u0438 \u0441\u0438\u043D\u0435\u0433\u043E \u0446\u0432\u0435\u0442\u0430.",notifyMe="\u041D\u0430\u043F\u043E\u043C\u043D\u0438\u0442\u044C \u043F\u0440\u043E\u0432\u0435\u0441\u0442\u0438 \u0432\u0440\u0443\u0447\u043D\u0443\u044E",notifyMeAlert="\u041A\u043E\u0433\u0434\u0430 \u043D\u0430\u0441\u0442\u0443\u043F\u0438\u0442 \u0434\u0435\u043D\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438, \u0441\u0447\u0435\u0442\u0447\u0438\u043A \u043D\u0430 \u0438\u043A\u043E\u043D\u043A\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043D\u0430\u043F\u043E\u043C\u043D\u0438\u0442 \u043F\u0440\u043E\u0432\u0435\u0441\u0442\u0438 (\u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C) \u044D\u0442\u0443 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E \u0432\u0440\u0443\u0447\u043D\u0443\u044E.",error={http:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445",api:"\u041E\u0448\u0438\u0431\u043A\u0430 API",nonJsonTitle:"\u0427\u0442\u043E-\u0442\u043E \u043D\u0435 \u0442\u0430\u043A \u0441 API (api.php). \u041E\u0442\u0432\u0435\u0442 \u043D\u0435 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 JSON",nonJsonText:"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0441\u0432\u044F\u0436\u0438\u0442\u0435\u0441\u044C \u0441\u043E \u0441\u0432\u043E\u0438\u043C \u0445\u043E\u0441\u0442\u0438\u043D\u0433-\u043F\u0440\u043E\u0432\u0430\u0439\u0434\u0435\u0440\u043E\u043C \u0438\u043B\u0438 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u043E\u043C, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u043D\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043B \u0432\u0430\u043C Webasyst"},arrow={up:"\u0412\u044B\u0445\u043E\u0434\u0438\u043C \u0432 \u043F\u043B\u044E\u0441 \u2014",down:"\u041A\u0430\u0441\u0441\u043E\u0432\u044B\u0439 \u0440\u0430\u0437\u0440\u044B\u0432 \u2014"},cashGapTooltip=`\u041A\u0410\u0421\u0421\u041E\u0412\u042B\u0419 \u0420\u0410\u0417\u0420\u042B\u0412!
\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430: {start}
\u041A\u043E\u043D\u0435\u0447\u043D\u0430\u044F \u0434\u0430\u0442\u0430: {end}
\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0431\u0430\u043B\u0430\u043D\u0441: {decline} \u2014 {declineDate}`,cashGapIn="\u041A\u0430\u0441\u0441\u043E\u0432\u044B\u0439 \u0440\u0430\u0437\u0440\u044B\u0432 \u043E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F \u0447\u0435\u0440\u0435\u0437 {inDays} \u0434\u043D\u0435\u0439 ({date})",cashGapOut="\u0412\u044B\u0445\u043E\u0434\u0438\u043C \u0432 \u043F\u043B\u044E\u0441 \u0447\u0435\u0440\u0435\u0437 {inDays} \u0434\u043D\u0435\u0439 ({date})",inDays="(\u0447\u0435\u0440\u0435\u0437 {days} \u0434\u043D\u0435\u0439)",fileUploaderLabel="\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B",contacts="\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B",createNewContact="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u043A\u043E\u043D\u0442\u0430\u043A\u0442",linkContact={main:"\u041D\u0430\u0439\u0434\u0438\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043A\u043E\u043D\u0442\u0430\u043A\u0442 {0}",link:"\u0438\u043B\u0438 \u0441\u043E\u0437\u0434\u0430\u0439\u0442\u0435 \u043D\u043E\u0432\u044B\u0439"},newContact="\u0411\u0443\u0434\u0435\u0442 \u0441\u043E\u0437\u0434\u0430\u043D \u043D\u043E\u0432\u044B\u0439 \u043A\u043E\u043D\u0442\u0430\u043A\u0442 \u0441 \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044B\u043C \u0438\u043C\u0435\u043D\u0435\u043C. \u041F\u043E\u043B\u043D\u044B\u0439 \u043F\u0440\u043E\u0444\u0438\u043B\u044C \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D \u0432 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0438 CRM.",noContact={main:"\u041A\u043E\u043D\u0442\u0430\u043A\u0442 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D{0}",link:"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u0441 \u043D\u043E\u0432\u044B\u043C \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u043E\u043C"},selectedContact="\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u044F \u0431\u0443\u0434\u0435\u0442 \u0441\u0432\u044F\u0437\u0430\u043D\u0430 \u0441 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u043C \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u043E\u043C",hide="\u0421\u043A\u0440\u044B\u0442\u044C",show="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C",showMore="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0435\u0449\u0435",navigation="{action} \u043C\u0435\u043D\u044E",collapseTransactionDesc="{count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 ({category})",repeatingTransactionDesc="{repeats} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",createdBy={normal:"Created by {username} on {createDate}",edited:"@:(createdBy.normal). Last edited on {updateDate}."},transactionDate="\u0414\u0430\u0442\u0430 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438: {date}",amountOnDate="{amount}, {date}",accountBalanceTransactionListHint="\u0411\u0430\u043B\u0430\u043D\u0441 \u0441\u0447\u0435\u0442\u0430 \u043F\u043E\u0441\u043B\u0435 \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u044D\u0442\u043E\u0439 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438",specify="\u0423\u043A\u0430\u0437\u0430\u0442\u044C",recipient="\u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u044F",payee="\u043F\u043B\u0430\u0442\u0435\u043B\u044C\u0449\u0438\u043A\u0430",parentCategory="\u0420\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u0430\u044F \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F",notSelected="\u041D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043E",shortMonth="\u043C\u0435\u0441.",forecasted="\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0431\u0430\u043B\u0430\u043D\u0441\u0430 \u043D\u0430 \u043E\u0441\u043D\u043E\u0432\u0435 \u0437\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",transactions="\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u0438",allTransactions="\u0412\u0441\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438",change="\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C",trash="\u041A\u043E\u0440\u0437\u0438\u043D\u0430",trashInfo="\u0423\u0434\u0430\u043B\u0435\u043D\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u043D\u0435 \u0443\u0447\u0438\u0442\u044B\u0432\u0430\u044E\u0442\u0441\u044F \u0432 \u0431\u0430\u043B\u0430\u043D\u0441\u0435 \u0438 \u0432\u0438\u0434\u043D\u044B \u0442\u043E\u043B\u044C\u043A\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C \u0441 \u043F\u043E\u043B\u043D\u044B\u043C\u0438 \u043F\u0440\u0430\u0432\u0430\u043C\u0438 \u0434\u043E\u0441\u0442\u0443\u043F\u0430. \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u043D\u0443 \u0438\u043B\u0438 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439, \u0447\u0442\u043E\u0431\u044B \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0438\u043B\u0438 \u043E\u043A\u043E\u043D\u0447\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0445.",restore="\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C",restoreInfo="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u043D\u0435\u043B\u044C\u0437\u044F. \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u043D\u0443 \u0438\u043B\u0438 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \xAB\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C\xBB, \u0447\u0442\u043E\u0431\u044B \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u0430\u043B\u043E.",purge="\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043D\u0430\u0432\u0441\u0435\u0433\u0434\u0430",selfDestructLabel="\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E, \u043A\u043E\u0433\u0434\u0430 \u043D\u0430\u0441\u0442\u0443\u043F\u0438\u0442 \u0435\u0435 \u0434\u0435\u043D\u044C",selfDestructText="\u041F\u043E\u043B\u0435\u0437\u043D\u043E \u0434\u043B\u044F \u043F\u043B\u0430\u043D\u043E\u0432\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0434\u043E\u043B\u0436\u043D\u044B \u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0439 \u043F\u0440\u043E\u0433\u043D\u043E\u0437, \u043D\u043E \u0437\u0430\u0442\u0435\u043C \u0431\u044B\u0442\u044C \u0437\u0430\u043C\u0435\u043D\u0435\u043D\u044B \u0440\u0435\u0430\u043B\u044C\u043D\u044B\u043C\u0438 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044F\u043C\u0438, \u0438\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u043C\u0438 \u0438\u0437 \u0431\u0430\u043D\u043A\u0430 \u0438\u043B\u0438 \u0444\u0430\u0439\u043B\u0430 \u0432\u044B\u043F\u0438\u0441\u043A\u0438.",calendar$2="\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C",compactView="\u041A\u043E\u043C\u043F\u0430\u043A\u0442\u043D\u043E",listView="\u0421\u043F\u0438\u0441\u043A\u043E\u043C",plugins="\u041F\u043B\u0430\u0433\u0438\u043D\u044B",contactsWillSoon="\u0417\u0434\u0435\u0441\u044C \u0431\u0443\u0434\u0435\u0442 \u0441\u043F\u0438\u0441\u043E\u043A \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u043E\u0432, \u0441 \u043A\u043E\u0442\u043E\u0440\u044B\u043C\u0438 \u0441\u0432\u044F\u0437\u0430\u043D\u044B \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438.",Order="\u0417\u0430\u043A\u0430\u0437",orOrder="\u0438\u043B\u0438 \u0437\u0430\u043A\u0430\u0437",orderNumber="\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043A\u0430\u0437\u0430",orderNotFound="\u0417\u0430\u043A\u0430\u0437 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D",ru$2={404:{title:"\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E"},accounts,categories,expense,income,balance,delta,addAccount,updateAccount,addCategory,updateCategory,newTransfer,add:add$3,addmore,addMany,update,updateAll,or:or$1,cancel,delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",deleteAll,move:move$1,name,selected,found,notFound,currency,type,color:color$2,icon,desc,noDesc,addTransaction,updateTransaction,applyTo,amount,repeat:repeat$1,oneTime,repeating,date:date$2,from:from$1,to:to$1,repeatFrom,howOften,endRepeat,account:account$1,category:category$1,contractor,addIncome,addExpense,changeSettings,details,optional,transactionsListCount,transactionDeleteWarning,cashOnHand,cashToday,today,yesterday,overdue,repeatingTran,repeatingInfo,import:"\u0418\u043C\u043F\u043E\u0440\u0442",emptyList,emptyListUpcoming,emptyListToday,nextDays,"Next 90 days":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 90 \u0434\u043D\u0435\u0439",tomorrow,justCreated,deleteWarning,offlineMessage,bulkDeleteWarning,bulkPurgeWarning,moveTransactions,updateTransactions,bulkMoveWarning,dontChange,noCategory,unselectAll,other,transfer,fromAccount,toAccount,incomingAmount,transferMessage,"-1_M":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 30 \u0434\u043D\u0435\u0439","-3_M":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 90 \u0434\u043D\u0435\u0439","-6_M":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 180 \u0434\u043D\u0435\u0439","-1_Y":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 365 \u0434\u043D\u0435\u0439","-3_Y":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 3 \u0433\u043E\u0434\u0430","-5_Y":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 5 \u043B\u0435\u0442","-10_Y":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 10 \u043B\u0435\u0442","0_M":"\u041D\u0435\u0442","1_M":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 30 \u0434\u043D\u0435\u0439","3_M":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 90 \u0434\u043D\u0435\u0439","6_M":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 180 \u0434\u043D\u0435\u0439","1_Y":"\u0411\u0443\u0434\u0443\u0449\u0438\u0439 1 \u0433\u043E\u0434","2_Y":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 2 \u0433\u043E\u0434\u0430","3_Y":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 3 \u0433\u043E\u0434\u0430",reports,search,upnext,history,startingBalance,importResults,setDates,close,Done,Process,processToday,processEdits,profit,incomeCategoryExplained,expenseCategoryExplained,profitCategoryExplained,notifyMe,notifyMeAlert,error,arrow,cashGapTooltip,cashGapIn,cashGapOut,inDays,fileUploaderLabel,contacts,createNewContact,linkContact,newContact,noContact,selectedContact,hide,show,showMore,navigation,collapseTransactionDesc,repeatingTransactionDesc,createdBy,export:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442",transactionDate,amountOnDate,accountBalanceTransactionListHint,specify,recipient,payee,parentCategory,notSelected,shortMonth,forecasted,transactions,allTransactions,change,trash,trashInfo,restore,restoreInfo,purge,selfDestructLabel,selfDestructText,calendar:calendar$2,compactView,listView,plugins,contactsWillSoon,Order,orOrder,orderNumber,orderNotFound};Vue$2.use(VueI18n$1);var $t;const locale$6=(($t=window==null?void 0:window.appState)==null?void 0:$t.lang)||"en_US",i18n=new VueI18n$1({locale:locale$6,fallbackLocale:"en_US",messages:{en_US:en$1,ru_RU:ru$2},pluralizationRules:{ru_RU:function(R,F){if(R===0)return 0;const E=R>10&&R<20,V=R%10===1;return F<4?!E&&V?1:2:!E&&V?1:!E&&R%10>=2&&R%10<=4||F<4?2:3}}});var numeral$1={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(R){(function(F,E){R.exports?R.exports=E():F.numeral=E()})(commonjsGlobal,function(){var F,E,V="2.0.6",U={},W={},Y={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},G={currentLocale:Y.currentLocale,zeroFormat:Y.zeroFormat,nullFormat:Y.nullFormat,defaultFormat:Y.defaultFormat,scalePercentBy100:Y.scalePercentBy100};function X(K,Z){this._input=K,this._value=Z}return F=function(K){var Z,J,Q,ee;if(F.isNumeral(K))Z=K.value();else if(K===0||typeof K>"u")Z=0;else if(K===null||E.isNaN(K))Z=null;else if(typeof K=="string")if(G.zeroFormat&&K===G.zeroFormat)Z=0;else if(G.nullFormat&&K===G.nullFormat||!K.replace(/[^0-9]+/g,"").length)Z=null;else{for(J in U)if(ee=typeof U[J].regexps.unformat=="function"?U[J].regexps.unformat():U[J].regexps.unformat,ee&&K.match(ee)){Q=U[J].unformat;break}Q=Q||F._.stringToNumber,Z=Q(K)}else Z=Number(K)||null;return new X(K,Z)},F.version=V,F.isNumeral=function(K){return K instanceof X},F._=E={numberToFormat:function(K,Z,J){var Q=W[F.options.currentLocale],ee=!1,te=!1,ie=0,ne="",ae=1e12,se=1e9,oe=1e6,le=1e3,ue="",ce=!1,he,de,fe,Te,xe,pe,_e;if(K=K||0,de=Math.abs(K),F._.includes(Z,"(")?(ee=!0,Z=Z.replace(/[\(|\)]/g,"")):(F._.includes(Z,"+")||F._.includes(Z,"-"))&&(xe=F._.includes(Z,"+")?Z.indexOf("+"):K<0?Z.indexOf("-"):-1,Z=Z.replace(/[\+|\-]/g,"")),F._.includes(Z,"a")&&(he=Z.match(/a(k|m|b|t)?/),he=he?he[1]:!1,F._.includes(Z," a")&&(ne=" "),Z=Z.replace(new RegExp(ne+"a[kmbt]?"),""),de>=ae&&!he||he==="t"?(ne+=Q.abbreviations.trillion,K=K/ae):de<ae&&de>=se&&!he||he==="b"?(ne+=Q.abbreviations.billion,K=K/se):de<se&&de>=oe&&!he||he==="m"?(ne+=Q.abbreviations.million,K=K/oe):(de<oe&&de>=le&&!he||he==="k")&&(ne+=Q.abbreviations.thousand,K=K/le)),F._.includes(Z,"[.]")&&(te=!0,Z=Z.replace("[.]",".")),fe=K.toString().split(".")[0],Te=Z.split(".")[1],pe=Z.indexOf(","),ie=(Z.split(".")[0].split(",")[0].match(/0/g)||[]).length,Te?(F._.includes(Te,"[")?(Te=Te.replace("]",""),Te=Te.split("["),ue=F._.toFixed(K,Te[0].length+Te[1].length,J,Te[1].length)):ue=F._.toFixed(K,Te.length,J),fe=ue.split(".")[0],F._.includes(ue,".")?ue=Q.delimiters.decimal+ue.split(".")[1]:ue="",te&&Number(ue.slice(1))===0&&(ue="")):fe=F._.toFixed(K,0,J),ne&&!he&&Number(fe)>=1e3&&ne!==Q.abbreviations.trillion)switch(fe=String(Number(fe)/1e3),ne){case Q.abbreviations.thousand:ne=Q.abbreviations.million;break;case Q.abbreviations.million:ne=Q.abbreviations.billion;break;case Q.abbreviations.billion:ne=Q.abbreviations.trillion;break}if(F._.includes(fe,"-")&&(fe=fe.slice(1),ce=!0),fe.length<ie)for(var Ce=ie-fe.length;Ce>0;Ce--)fe="0"+fe;return pe>-1&&(fe=fe.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+Q.delimiters.thousands)),Z.indexOf(".")===0&&(fe=""),_e=fe+ue+(ne||""),ee?_e=(ee&&ce?"(":"")+_e+(ee&&ce?")":""):xe>=0?_e=xe===0?(ce?"-":"+")+_e:_e+(ce?"-":"+"):ce&&(_e="-"+_e),_e},stringToNumber:function(K){var Z=W[G.currentLocale],J=K,Q={thousand:3,million:6,billion:9,trillion:12},ee,te,ie;if(G.zeroFormat&&K===G.zeroFormat)te=0;else if(G.nullFormat&&K===G.nullFormat||!K.replace(/[^0-9]+/g,"").length)te=null;else{te=1,Z.delimiters.decimal!=="."&&(K=K.replace(/\./g,"").replace(Z.delimiters.decimal,"."));for(ee in Q)if(ie=new RegExp("[^a-zA-Z]"+Z.abbreviations[ee]+"(?:\\)|(\\"+Z.currency.symbol+")?(?:\\))?)?$"),J.match(ie)){te*=Math.pow(10,Q[ee]);break}te*=(K.split("-").length+Math.min(K.split("(").length-1,K.split(")").length-1))%2?1:-1,K=K.replace(/[^0-9\.]+/g,""),te*=Number(K)}return te},isNaN:function(K){return typeof K=="number"&&isNaN(K)},includes:function(K,Z){return K.indexOf(Z)!==-1},insert:function(K,Z,J){return K.slice(0,J)+Z+K.slice(J)},reduce:function(K,Z){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=Object(K),Q=J.length>>>0,ee=0,te;if(arguments.length===3)te=arguments[2];else{for(;ee<Q&&!(ee in J);)ee++;if(ee>=Q)throw new TypeError("Reduce of empty array with no initial value");te=J[ee++]}for(;ee<Q;ee++)ee in J&&(te=Z(te,J[ee],ee,J));return te},multiplier:function(K){var Z=K.toString().split(".");return Z.length<2?1:Math.pow(10,Z[1].length)},correctionFactor:function(){var K=Array.prototype.slice.call(arguments);return K.reduce(function(Z,J){var Q=E.multiplier(J);return Z>Q?Z:Q},1)},toFixed:function(K,Z,J,Q){var ee=K.toString().split("."),te=Z-(Q||0),ie,ne,ae,se;return ee.length===2?ie=Math.min(Math.max(ee[1].length,te),Z):ie=te,ae=Math.pow(10,ie),se=(J(K+"e+"+ie)/ae).toFixed(ie),Q>Z-ie&&(ne=new RegExp("\\.?0{1,"+(Q-(Z-ie))+"}$"),se=se.replace(ne,"")),se}},F.options=G,F.formats=U,F.locales=W,F.locale=function(K){return K&&(G.currentLocale=K.toLowerCase()),G.currentLocale},F.localeData=function(K){if(!K)return W[G.currentLocale];if(K=K.toLowerCase(),!W[K])throw new Error("Unknown locale : "+K);return W[K]},F.reset=function(){for(var K in Y)G[K]=Y[K]},F.zeroFormat=function(K){G.zeroFormat=typeof K=="string"?K:null},F.nullFormat=function(K){G.nullFormat=typeof K=="string"?K:null},F.defaultFormat=function(K){G.defaultFormat=typeof K=="string"?K:"0.0"},F.register=function(K,Z,J){if(Z=Z.toLowerCase(),this[K+"s"][Z])throw new TypeError(Z+" "+K+" already registered.");return this[K+"s"][Z]=J,J},F.validate=function(K,Z){var J,Q,ee,te,ie,ne,ae,se;if(typeof K!="string"&&(K+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",K)),K=K.trim(),K.match(/^\d+$/))return!0;if(K==="")return!1;try{ae=F.localeData(Z)}catch{ae=F.localeData(F.locale())}return ee=ae.currency.symbol,ie=ae.abbreviations,J=ae.delimiters.decimal,ae.delimiters.thousands==="."?Q="\\.":Q=ae.delimiters.thousands,se=K.match(/^[^\d]+/),se!==null&&(K=K.substr(1),se[0]!==ee)||(se=K.match(/[^\d]+$/),se!==null&&(K=K.slice(0,-1),se[0]!==ie.thousand&&se[0]!==ie.million&&se[0]!==ie.billion&&se[0]!==ie.trillion))?!1:(ne=new RegExp(Q+"{2}"),K.match(/[^\d.,]/g)?!1:(te=K.split(J),te.length>2?!1:te.length<2?!!te[0].match(/^\d+.*\d$/)&&!te[0].match(ne):te[0].length===1?!!te[0].match(/^\d+$/)&&!te[0].match(ne)&&!!te[1].match(/^\d+$/):!!te[0].match(/^\d+.*\d$/)&&!te[0].match(ne)&&!!te[1].match(/^\d+$/)))},F.fn=X.prototype={clone:function(){return F(this)},format:function(K,Z){var J=this._value,Q=K||G.defaultFormat,ee,te,ie;if(Z=Z||Math.round,J===0&&G.zeroFormat!==null)te=G.zeroFormat;else if(J===null&&G.nullFormat!==null)te=G.nullFormat;else{for(ee in U)if(Q.match(U[ee].regexps.format)){ie=U[ee].format;break}ie=ie||F._.numberToFormat,te=ie(J,Q,Z)}return te},value:function(){return this._value},input:function(){return this._input},set:function(K){return this._value=Number(K),this},add:function(K){var Z=E.correctionFactor.call(null,this._value,K);function J(Q,ee,te,ie){return Q+Math.round(Z*ee)}return this._value=E.reduce([this._value,K],J,0)/Z,this},subtract:function(K){var Z=E.correctionFactor.call(null,this._value,K);function J(Q,ee,te,ie){return Q-Math.round(Z*ee)}return this._value=E.reduce([K],J,Math.round(this._value*Z))/Z,this},multiply:function(K){function Z(J,Q,ee,te){var ie=E.correctionFactor(J,Q);return Math.round(J*ie)*Math.round(Q*ie)/Math.round(ie*ie)}return this._value=E.reduce([this._value,K],Z,1),this},divide:function(K){function Z(J,Q,ee,te){var ie=E.correctionFactor(J,Q);return Math.round(J*ie)/Math.round(Q*ie)}return this._value=E.reduce([this._value,K],Z),this},difference:function(K){return Math.abs(F(this._value).subtract(K).value())}},F.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(K){var Z=K%10;return~~(K%100/10)===1?"th":Z===1?"st":Z===2?"nd":Z===3?"rd":"th"},currency:{symbol:"$"}}),function(){F.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(K,Z,J){var Q=F._.includes(Z," BPS")?" ":"",ee;return K=K*1e4,Z=Z.replace(/\s?BPS/,""),ee=F._.numberToFormat(K,Z,J),F._.includes(ee,")")?(ee=ee.split(""),ee.splice(-1,0,Q+"BPS"),ee=ee.join("")):ee=ee+Q+"BPS",ee},unformat:function(K){return+(F._.stringToNumber(K)*1e-4).toFixed(15)}})}(),function(){var K={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},Z={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},J=K.suffixes.concat(Z.suffixes.filter(function(ee){return K.suffixes.indexOf(ee)<0})),Q=J.join("|");Q="("+Q.replace("B","B(?!PS)")+")",F.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(Q)},format:function(ee,te,ie){var ne,ae=F._.includes(te,"ib")?Z:K,se=F._.includes(te," b")||F._.includes(te," ib")?" ":"",oe,le,ue;for(te=te.replace(/\s?i?b/,""),oe=0;oe<=ae.suffixes.length;oe++)if(le=Math.pow(ae.base,oe),ue=Math.pow(ae.base,oe+1),ee===null||ee===0||ee>=le&&ee<ue){se+=ae.suffixes[oe],le>0&&(ee=ee/le);break}return ne=F._.numberToFormat(ee,te,ie),ne+se},unformat:function(ee){var te=F._.stringToNumber(ee),ie,ne;if(te){for(ie=K.suffixes.length-1;ie>=0;ie--){if(F._.includes(ee,K.suffixes[ie])){ne=Math.pow(K.base,ie);break}if(F._.includes(ee,Z.suffixes[ie])){ne=Math.pow(Z.base,ie);break}}te*=ne||1}return te}})}(),function(){F.register("format","currency",{regexps:{format:/(\$)/},format:function(K,Z,J){var Q=F.locales[F.options.currentLocale],ee={before:Z.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:Z.match(/([\+|\-|\)|\s|\$]*)$/)[0]},te,ie,ne;for(Z=Z.replace(/\s?\$\s?/,""),te=F._.numberToFormat(K,Z,J),K>=0?(ee.before=ee.before.replace(/[\-\(]/,""),ee.after=ee.after.replace(/[\-\)]/,"")):K<0&&!F._.includes(ee.before,"-")&&!F._.includes(ee.before,"(")&&(ee.before="-"+ee.before),ne=0;ne<ee.before.length;ne++)switch(ie=ee.before[ne],ie){case"$":te=F._.insert(te,Q.currency.symbol,ne);break;case" ":te=F._.insert(te," ",ne+Q.currency.symbol.length-1);break}for(ne=ee.after.length-1;ne>=0;ne--)switch(ie=ee.after[ne],ie){case"$":te=ne===ee.after.length-1?te+Q.currency.symbol:F._.insert(te,Q.currency.symbol,-(ee.after.length-(1+ne)));break;case" ":te=ne===ee.after.length-1?te+" ":F._.insert(te," ",-(ee.after.length-(1+ne)+Q.currency.symbol.length-1));break}return te}})}(),function(){F.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(K,Z,J){var Q,ee=typeof K=="number"&&!F._.isNaN(K)?K.toExponential():"0e+0",te=ee.split("e");return Z=Z.replace(/e[\+|\-]{1}0/,""),Q=F._.numberToFormat(Number(te[0]),Z,J),Q+"e"+te[1]},unformat:function(K){var Z=F._.includes(K,"e+")?K.split("e+"):K.split("e-"),J=Number(Z[0]),Q=Number(Z[1]);Q=F._.includes(K,"e-")?Q*=-1:Q;function ee(te,ie,ne,ae){var se=F._.correctionFactor(te,ie),oe=te*se*(ie*se)/(se*se);return oe}return F._.reduce([J,Math.pow(10,Q)],ee,1)}})}(),function(){F.register("format","ordinal",{regexps:{format:/(o)/},format:function(K,Z,J){var Q=F.locales[F.options.currentLocale],ee,te=F._.includes(Z," o")?" ":"";return Z=Z.replace(/\s?o/,""),te+=Q.ordinal(K),ee=F._.numberToFormat(K,Z,J),ee+te}})}(),function(){F.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(K,Z,J){var Q=F._.includes(Z," %")?" ":"",ee;return F.options.scalePercentBy100&&(K=K*100),Z=Z.replace(/\s?\%/,""),ee=F._.numberToFormat(K,Z,J),F._.includes(ee,")")?(ee=ee.split(""),ee.splice(-1,0,Q+"%"),ee=ee.join("")):ee=ee+Q+"%",ee},unformat:function(K){var Z=F._.stringToNumber(K);return F.options.scalePercentBy100?Z*.01:Z}})}(),function(){F.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(K,Z,J){var Q=Math.floor(K/60/60),ee=Math.floor((K-Q*60*60)/60),te=Math.round(K-Q*60*60-ee*60);return Q+":"+(ee<10?"0"+ee:ee)+":"+(te<10?"0"+te:te)},unformat:function(K){var Z=K.split(":"),J=0;return Z.length===3?(J=J+Number(Z[0])*60*60,J=J+Number(Z[1])*60,J=J+Number(Z[2])):Z.length===2&&(J=J+Number(Z[0])*60,J=J+Number(Z[1])),Number(J)}})}(),F})})(numeral$1);const numeral=numeral$1.exports;//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(R){hookCallback=R}function isArray$3(R){return R instanceof Array||Object.prototype.toString.call(R)==="[object Array]"}function isObject$8(R){return R!=null&&Object.prototype.toString.call(R)==="[object Object]"}function hasOwnProp(R,F){return Object.prototype.hasOwnProperty.call(R,F)}function isObjectEmpty(R){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(R).length===0;var F;for(F in R)if(hasOwnProp(R,F))return!1;return!0}function isUndefined$2(R){return R===void 0}function isNumber$3(R){return typeof R=="number"||Object.prototype.toString.call(R)==="[object Number]"}function isDate$2(R){return R instanceof Date||Object.prototype.toString.call(R)==="[object Date]"}function map$3(R,F){var E=[],V,U=R.length;for(V=0;V<U;++V)E.push(F(R[V],V));return E}function extend$3(R,F){for(var E in F)hasOwnProp(F,E)&&(R[E]=F[E]);return hasOwnProp(F,"toString")&&(R.toString=F.toString),hasOwnProp(F,"valueOf")&&(R.valueOf=F.valueOf),R}function createUTC(R,F,E,V){return createLocalOrUTC(R,F,E,V,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(R){return R._pf==null&&(R._pf=defaultParsingFlags()),R._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(R){var F=Object(this),E=F.length>>>0,V;for(V=0;V<E;V++)if(V in F&&R.call(this,F[V],V,F))return!0;return!1};function isValid(R){if(R._isValid==null){var F=getParsingFlags(R),E=some.call(F.parsedDateParts,function(U){return U!=null}),V=!isNaN(R._d.getTime())&&F.overflow<0&&!F.empty&&!F.invalidEra&&!F.invalidMonth&&!F.invalidWeekday&&!F.weekdayMismatch&&!F.nullInput&&!F.invalidFormat&&!F.userInvalidated&&(!F.meridiem||F.meridiem&&E);if(R._strict&&(V=V&&F.charsLeftOver===0&&F.unusedTokens.length===0&&F.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(R))R._isValid=V;else return V}return R._isValid}function createInvalid(R){var F=createUTC(NaN);return R!=null?extend$3(getParsingFlags(F),R):getParsingFlags(F).userInvalidated=!0,F}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(R,F){var E,V,U,W=momentProperties.length;if(isUndefined$2(F._isAMomentObject)||(R._isAMomentObject=F._isAMomentObject),isUndefined$2(F._i)||(R._i=F._i),isUndefined$2(F._f)||(R._f=F._f),isUndefined$2(F._l)||(R._l=F._l),isUndefined$2(F._strict)||(R._strict=F._strict),isUndefined$2(F._tzm)||(R._tzm=F._tzm),isUndefined$2(F._isUTC)||(R._isUTC=F._isUTC),isUndefined$2(F._offset)||(R._offset=F._offset),isUndefined$2(F._pf)||(R._pf=getParsingFlags(F)),isUndefined$2(F._locale)||(R._locale=F._locale),W>0)for(E=0;E<W;E++)V=momentProperties[E],U=F[V],isUndefined$2(U)||(R[V]=U);return R}function Moment(R){copyConfig(this,R),this._d=new Date(R._d!=null?R._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(R){return R instanceof Moment||R!=null&&R._isAMomentObject!=null}function warn$2(R){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+R)}function deprecate(R,F){var E=!0;return extend$3(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,R),E){var V=[],U,W,Y,G=arguments.length;for(W=0;W<G;W++){if(U="",typeof arguments[W]=="object"){U+=`
[`+W+"] ";for(Y in arguments[0])hasOwnProp(arguments[0],Y)&&(U+=Y+": "+arguments[0][Y]+", ");U=U.slice(0,-2)}else U=arguments[W];V.push(U)}warn$2(R+`
Arguments: `+Array.prototype.slice.call(V).join("")+`
`+new Error().stack),E=!1}return F.apply(this,arguments)},F)}var deprecations={};function deprecateSimple(R,F){hooks.deprecationHandler!=null&&hooks.deprecationHandler(R,F),deprecations[R]||(warn$2(F),deprecations[R]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$2(R){return typeof Function<"u"&&R instanceof Function||Object.prototype.toString.call(R)==="[object Function]"}function set$2(R){var F,E;for(E in R)hasOwnProp(R,E)&&(F=R[E],isFunction$2(F)?this[E]=F:this["_"+E]=F);this._config=R,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(R,F){var E=extend$3({},R),V;for(V in F)hasOwnProp(F,V)&&(isObject$8(R[V])&&isObject$8(F[V])?(E[V]={},extend$3(E[V],R[V]),extend$3(E[V],F[V])):F[V]!=null?E[V]=F[V]:delete E[V]);for(V in R)hasOwnProp(R,V)&&!hasOwnProp(F,V)&&isObject$8(R[V])&&(E[V]=extend$3({},E[V]));return E}function Locale(R){R!=null&&this.set(R)}var keys$1;Object.keys?keys$1=Object.keys:keys$1=function(R){var F,E=[];for(F in R)hasOwnProp(R,F)&&E.push(F);return E};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar$1(R,F,E){var V=this._calendar[R]||this._calendar.sameElse;return isFunction$2(V)?V.call(F,E):V}function zeroFill(R,F,E){var V=""+Math.abs(R),U=F-V.length,W=R>=0;return(W?E?"+":"":"-")+Math.pow(10,Math.max(0,U)).toString().substr(1)+V}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(R,F,E,V){var U=V;typeof V=="string"&&(U=function(){return this[V]()}),R&&(formatTokenFunctions[R]=U),F&&(formatTokenFunctions[F[0]]=function(){return zeroFill(U.apply(this,arguments),F[1],F[2])}),E&&(formatTokenFunctions[E]=function(){return this.localeData().ordinal(U.apply(this,arguments),R)})}function removeFormattingTokens(R){return R.match(/\[[\s\S]/)?R.replace(/^\[|\]$/g,""):R.replace(/\\/g,"")}function makeFormatFunction(R){var F=R.match(formattingTokens),E,V;for(E=0,V=F.length;E<V;E++)formatTokenFunctions[F[E]]?F[E]=formatTokenFunctions[F[E]]:F[E]=removeFormattingTokens(F[E]);return function(U){var W="",Y;for(Y=0;Y<V;Y++)W+=isFunction$2(F[Y])?F[Y].call(U,R):F[Y];return W}}function formatMoment(R,F){return R.isValid()?(F=expandFormat(F,R.localeData()),formatFunctions[F]=formatFunctions[F]||makeFormatFunction(F),formatFunctions[F](R)):R.localeData().invalidDate()}function expandFormat(R,F){var E=5;function V(U){return F.longDateFormat(U)||U}for(localFormattingTokens.lastIndex=0;E>=0&&localFormattingTokens.test(R);)R=R.replace(localFormattingTokens,V),localFormattingTokens.lastIndex=0,E-=1;return R}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(R){var F=this._longDateFormat[R],E=this._longDateFormat[R.toUpperCase()];return F||!E?F:(this._longDateFormat[R]=E.match(formattingTokens).map(function(V){return V==="MMMM"||V==="MM"||V==="DD"||V==="dddd"?V.slice(1):V}).join(""),this._longDateFormat[R])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(R){return this._ordinal.replace("%d",R)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(R,F,E,V){var U=this._relativeTime[E];return isFunction$2(U)?U(R,F,E,V):U.replace(/%d/i,R)}function pastFuture(R,F){var E=this._relativeTime[R>0?"future":"past"];return isFunction$2(E)?E(F):E.replace(/%s/i,F)}var aliases={};function addUnitAlias(R,F){var E=R.toLowerCase();aliases[E]=aliases[E+"s"]=aliases[F]=R}function normalizeUnits(R){return typeof R=="string"?aliases[R]||aliases[R.toLowerCase()]:void 0}function normalizeObjectUnits(R){var F={},E,V;for(V in R)hasOwnProp(R,V)&&(E=normalizeUnits(V),E&&(F[E]=R[V]));return F}var priorities={};function addUnitPriority(R,F){priorities[R]=F}function getPrioritizedUnits(R){var F=[],E;for(E in R)hasOwnProp(R,E)&&F.push({unit:E,priority:priorities[E]});return F.sort(function(V,U){return V.priority-U.priority}),F}function isLeapYear(R){return R%4===0&&R%100!==0||R%400===0}function absFloor(R){return R<0?Math.ceil(R)||0:Math.floor(R)}function toInt(R){var F=+R,E=0;return F!==0&&isFinite(F)&&(E=absFloor(F)),E}function makeGetSet(R,F){return function(E){return E!=null?(set$1$1(this,R,E),hooks.updateOffset(this,F),this):get$2(this,R)}}function get$2(R,F){return R.isValid()?R._d["get"+(R._isUTC?"UTC":"")+F]():NaN}function set$1$1(R,F,E){R.isValid()&&!isNaN(E)&&(F==="FullYear"&&isLeapYear(R.year())&&R.month()===1&&R.date()===29?(E=toInt(E),R._d["set"+(R._isUTC?"UTC":"")+F](E,R.month(),daysInMonth(E,R.month()))):R._d["set"+(R._isUTC?"UTC":"")+F](E))}function stringGet(R){return R=normalizeUnits(R),isFunction$2(this[R])?this[R]():this}function stringSet(R,F){if(typeof R=="object"){R=normalizeObjectUnits(R);var E=getPrioritizedUnits(R),V,U=E.length;for(V=0;V<U;V++)this[E[V].unit](R[E[V].unit])}else if(R=normalizeUnits(R),isFunction$2(this[R]))return this[R](F);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(R,F,E){regexes[R]=isFunction$2(F)?F:function(V,U){return V&&E?E:F}}function getParseRegexForToken(R,F){return hasOwnProp(regexes,R)?regexes[R](F._strict,F._locale):new RegExp(unescapeFormat(R))}function unescapeFormat(R){return regexEscape(R.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(F,E,V,U,W){return E||V||U||W}))}function regexEscape(R){return R.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(R,F){var E,V=F,U;for(typeof R=="string"&&(R=[R]),isNumber$3(F)&&(V=function(W,Y){Y[F]=toInt(W)}),U=R.length,E=0;E<U;E++)tokens[R[E]]=V}function addWeekParseToken(R,F){addParseToken(R,function(E,V,U,W){U._w=U._w||{},F(E,U._w,U,W)})}function addTimeToArrayFromToken(R,F,E){F!=null&&hasOwnProp(tokens,R)&&tokens[R](F,E._a,E,R)}var YEAR=0,MONTH=1,DATE$1=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod$1(R,F){return(R%F+F)%F}var indexOf$1;Array.prototype.indexOf?indexOf$1=Array.prototype.indexOf:indexOf$1=function(R){var F;for(F=0;F<this.length;++F)if(this[F]===R)return F;return-1};function daysInMonth(R,F){if(isNaN(R)||isNaN(F))return NaN;var E=mod$1(F,12);return R+=(F-E)/12,E===1?isLeapYear(R)?29:28:31-E%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(R){return this.localeData().monthsShort(this,R)});addFormatToken("MMMM",0,0,function(R){return this.localeData().months(this,R)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(R,F){return F.monthsShortRegex(R)});addRegexToken("MMMM",function(R,F){return F.monthsRegex(R)});addParseToken(["M","MM"],function(R,F){F[MONTH]=toInt(R)-1});addParseToken(["MMM","MMMM"],function(R,F,E,V){var U=E._locale.monthsParse(R,V,E._strict);U!=null?F[MONTH]=U:getParsingFlags(E).invalidMonth=R});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(R,F){return R?isArray$3(this._months)?this._months[R.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(F)?"format":"standalone"][R.month()]:isArray$3(this._months)?this._months:this._months.standalone}function localeMonthsShort(R,F){return R?isArray$3(this._monthsShort)?this._monthsShort[R.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(F)?"format":"standalone"][R.month()]:isArray$3(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(R,F,E){var V,U,W,Y=R.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],V=0;V<12;++V)W=createUTC([2e3,V]),this._shortMonthsParse[V]=this.monthsShort(W,"").toLocaleLowerCase(),this._longMonthsParse[V]=this.months(W,"").toLocaleLowerCase();return E?F==="MMM"?(U=indexOf$1.call(this._shortMonthsParse,Y),U!==-1?U:null):(U=indexOf$1.call(this._longMonthsParse,Y),U!==-1?U:null):F==="MMM"?(U=indexOf$1.call(this._shortMonthsParse,Y),U!==-1?U:(U=indexOf$1.call(this._longMonthsParse,Y),U!==-1?U:null)):(U=indexOf$1.call(this._longMonthsParse,Y),U!==-1?U:(U=indexOf$1.call(this._shortMonthsParse,Y),U!==-1?U:null))}function localeMonthsParse(R,F,E){var V,U,W;if(this._monthsParseExact)return handleStrictParse.call(this,R,F,E);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),V=0;V<12;V++){if(U=createUTC([2e3,V]),E&&!this._longMonthsParse[V]&&(this._longMonthsParse[V]=new RegExp("^"+this.months(U,"").replace(".","")+"$","i"),this._shortMonthsParse[V]=new RegExp("^"+this.monthsShort(U,"").replace(".","")+"$","i")),!E&&!this._monthsParse[V]&&(W="^"+this.months(U,"")+"|^"+this.monthsShort(U,""),this._monthsParse[V]=new RegExp(W.replace(".",""),"i")),E&&F==="MMMM"&&this._longMonthsParse[V].test(R))return V;if(E&&F==="MMM"&&this._shortMonthsParse[V].test(R))return V;if(!E&&this._monthsParse[V].test(R))return V}}function setMonth(R,F){var E;if(!R.isValid())return R;if(typeof F=="string"){if(/^\d+$/.test(F))F=toInt(F);else if(F=R.localeData().monthsParse(F),!isNumber$3(F))return R}return E=Math.min(R.date(),daysInMonth(R.year(),F)),R._d["set"+(R._isUTC?"UTC":"")+"Month"](F,E),R}function getSetMonth(R){return R!=null?(setMonth(this,R),hooks.updateOffset(this,!0),this):get$2(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(R){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),R?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&R?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(R){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),R?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&R?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function R(Y,G){return G.length-Y.length}var F=[],E=[],V=[],U,W;for(U=0;U<12;U++)W=createUTC([2e3,U]),F.push(this.monthsShort(W,"")),E.push(this.months(W,"")),V.push(this.months(W,"")),V.push(this.monthsShort(W,""));for(F.sort(R),E.sort(R),V.sort(R),U=0;U<12;U++)F[U]=regexEscape(F[U]),E[U]=regexEscape(E[U]);for(U=0;U<24;U++)V[U]=regexEscape(V[U]);this._monthsRegex=new RegExp("^("+V.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+E.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+F.join("|")+")","i")}addFormatToken("Y",0,0,function(){var R=this.year();return R<=9999?zeroFill(R,4):"+"+R});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(R,F){F[YEAR]=R.length===2?hooks.parseTwoDigitYear(R):toInt(R)});addParseToken("YY",function(R,F){F[YEAR]=hooks.parseTwoDigitYear(R)});addParseToken("Y",function(R,F){F[YEAR]=parseInt(R,10)});function daysInYear(R){return isLeapYear(R)?366:365}hooks.parseTwoDigitYear=function(R){return toInt(R)+(toInt(R)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(R,F,E,V,U,W,Y){var G;return R<100&&R>=0?(G=new Date(R+400,F,E,V,U,W,Y),isFinite(G.getFullYear())&&G.setFullYear(R)):G=new Date(R,F,E,V,U,W,Y),G}function createUTCDate(R){var F,E;return R<100&&R>=0?(E=Array.prototype.slice.call(arguments),E[0]=R+400,F=new Date(Date.UTC.apply(null,E)),isFinite(F.getUTCFullYear())&&F.setUTCFullYear(R)):F=new Date(Date.UTC.apply(null,arguments)),F}function firstWeekOffset(R,F,E){var V=7+F-E,U=(7+createUTCDate(R,0,V).getUTCDay()-F)%7;return-U+V-1}function dayOfYearFromWeeks(R,F,E,V,U){var W=(7+E-V)%7,Y=firstWeekOffset(R,V,U),G=1+7*(F-1)+W+Y,X,K;return G<=0?(X=R-1,K=daysInYear(X)+G):G>daysInYear(R)?(X=R+1,K=G-daysInYear(R)):(X=R,K=G),{year:X,dayOfYear:K}}function weekOfYear(R,F,E){var V=firstWeekOffset(R.year(),F,E),U=Math.floor((R.dayOfYear()-V-1)/7)+1,W,Y;return U<1?(Y=R.year()-1,W=U+weeksInYear(Y,F,E)):U>weeksInYear(R.year(),F,E)?(W=U-weeksInYear(R.year(),F,E),Y=R.year()+1):(Y=R.year(),W=U),{week:W,year:Y}}function weeksInYear(R,F,E){var V=firstWeekOffset(R,F,E),U=firstWeekOffset(R+1,F,E);return(daysInYear(R)-V+U)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(R,F,E,V){F[V.substr(0,1)]=toInt(R)});function localeWeek(R){return weekOfYear(R,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(R){var F=this.localeData().week(this);return R==null?F:this.add((R-F)*7,"d")}function getSetISOWeek(R){var F=weekOfYear(this,1,4).week;return R==null?F:this.add((R-F)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(R){return this.localeData().weekdaysMin(this,R)});addFormatToken("ddd",0,0,function(R){return this.localeData().weekdaysShort(this,R)});addFormatToken("dddd",0,0,function(R){return this.localeData().weekdays(this,R)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(R,F){return F.weekdaysMinRegex(R)});addRegexToken("ddd",function(R,F){return F.weekdaysShortRegex(R)});addRegexToken("dddd",function(R,F){return F.weekdaysRegex(R)});addWeekParseToken(["dd","ddd","dddd"],function(R,F,E,V){var U=E._locale.weekdaysParse(R,V,E._strict);U!=null?F.d=U:getParsingFlags(E).invalidWeekday=R});addWeekParseToken(["d","e","E"],function(R,F,E,V){F[V]=toInt(R)});function parseWeekday(R,F){return typeof R!="string"?R:isNaN(R)?(R=F.weekdaysParse(R),typeof R=="number"?R:null):parseInt(R,10)}function parseIsoWeekday(R,F){return typeof R=="string"?F.weekdaysParse(R)%7||7:isNaN(R)?null:R}function shiftWeekdays(R,F){return R.slice(F,7).concat(R.slice(0,F))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(R,F){var E=isArray$3(this._weekdays)?this._weekdays:this._weekdays[R&&R!==!0&&this._weekdays.isFormat.test(F)?"format":"standalone"];return R===!0?shiftWeekdays(E,this._week.dow):R?E[R.day()]:E}function localeWeekdaysShort(R){return R===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):R?this._weekdaysShort[R.day()]:this._weekdaysShort}function localeWeekdaysMin(R){return R===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):R?this._weekdaysMin[R.day()]:this._weekdaysMin}function handleStrictParse$1(R,F,E){var V,U,W,Y=R.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],V=0;V<7;++V)W=createUTC([2e3,1]).day(V),this._minWeekdaysParse[V]=this.weekdaysMin(W,"").toLocaleLowerCase(),this._shortWeekdaysParse[V]=this.weekdaysShort(W,"").toLocaleLowerCase(),this._weekdaysParse[V]=this.weekdays(W,"").toLocaleLowerCase();return E?F==="dddd"?(U=indexOf$1.call(this._weekdaysParse,Y),U!==-1?U:null):F==="ddd"?(U=indexOf$1.call(this._shortWeekdaysParse,Y),U!==-1?U:null):(U=indexOf$1.call(this._minWeekdaysParse,Y),U!==-1?U:null):F==="dddd"?(U=indexOf$1.call(this._weekdaysParse,Y),U!==-1||(U=indexOf$1.call(this._shortWeekdaysParse,Y),U!==-1)?U:(U=indexOf$1.call(this._minWeekdaysParse,Y),U!==-1?U:null)):F==="ddd"?(U=indexOf$1.call(this._shortWeekdaysParse,Y),U!==-1||(U=indexOf$1.call(this._weekdaysParse,Y),U!==-1)?U:(U=indexOf$1.call(this._minWeekdaysParse,Y),U!==-1?U:null)):(U=indexOf$1.call(this._minWeekdaysParse,Y),U!==-1||(U=indexOf$1.call(this._weekdaysParse,Y),U!==-1)?U:(U=indexOf$1.call(this._shortWeekdaysParse,Y),U!==-1?U:null))}function localeWeekdaysParse(R,F,E){var V,U,W;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,R,F,E);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),V=0;V<7;V++){if(U=createUTC([2e3,1]).day(V),E&&!this._fullWeekdaysParse[V]&&(this._fullWeekdaysParse[V]=new RegExp("^"+this.weekdays(U,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[V]=new RegExp("^"+this.weekdaysShort(U,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[V]=new RegExp("^"+this.weekdaysMin(U,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[V]||(W="^"+this.weekdays(U,"")+"|^"+this.weekdaysShort(U,"")+"|^"+this.weekdaysMin(U,""),this._weekdaysParse[V]=new RegExp(W.replace(".",""),"i")),E&&F==="dddd"&&this._fullWeekdaysParse[V].test(R))return V;if(E&&F==="ddd"&&this._shortWeekdaysParse[V].test(R))return V;if(E&&F==="dd"&&this._minWeekdaysParse[V].test(R))return V;if(!E&&this._weekdaysParse[V].test(R))return V}}function getSetDayOfWeek(R){if(!this.isValid())return R!=null?this:NaN;var F=this._isUTC?this._d.getUTCDay():this._d.getDay();return R!=null?(R=parseWeekday(R,this.localeData()),this.add(R-F,"d")):F}function getSetLocaleDayOfWeek(R){if(!this.isValid())return R!=null?this:NaN;var F=(this.day()+7-this.localeData()._week.dow)%7;return R==null?F:this.add(R-F,"d")}function getSetISODayOfWeek(R){if(!this.isValid())return R!=null?this:NaN;if(R!=null){var F=parseIsoWeekday(R,this.localeData());return this.day(this.day()%7?F:F-7)}else return this.day()||7}function weekdaysRegex(R){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),R?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&R?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(R){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),R?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&R?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(R){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),R?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&R?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function R(Z,J){return J.length-Z.length}var F=[],E=[],V=[],U=[],W,Y,G,X,K;for(W=0;W<7;W++)Y=createUTC([2e3,1]).day(W),G=regexEscape(this.weekdaysMin(Y,"")),X=regexEscape(this.weekdaysShort(Y,"")),K=regexEscape(this.weekdays(Y,"")),F.push(G),E.push(X),V.push(K),U.push(G),U.push(X),U.push(K);F.sort(R),E.sort(R),V.sort(R),U.sort(R),this._weekdaysRegex=new RegExp("^("+U.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+V.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+E.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+F.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(R,F){addFormatToken(R,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),F)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(R,F){return F._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(R,F,E){var V=toInt(R);F[HOUR]=V===24?0:V});addParseToken(["a","A"],function(R,F,E){E._isPm=E._locale.isPM(R),E._meridiem=R});addParseToken(["h","hh"],function(R,F,E){F[HOUR]=toInt(R),getParsingFlags(E).bigHour=!0});addParseToken("hmm",function(R,F,E){var V=R.length-2;F[HOUR]=toInt(R.substr(0,V)),F[MINUTE]=toInt(R.substr(V)),getParsingFlags(E).bigHour=!0});addParseToken("hmmss",function(R,F,E){var V=R.length-4,U=R.length-2;F[HOUR]=toInt(R.substr(0,V)),F[MINUTE]=toInt(R.substr(V,2)),F[SECOND]=toInt(R.substr(U)),getParsingFlags(E).bigHour=!0});addParseToken("Hmm",function(R,F,E){var V=R.length-2;F[HOUR]=toInt(R.substr(0,V)),F[MINUTE]=toInt(R.substr(V))});addParseToken("Hmmss",function(R,F,E){var V=R.length-4,U=R.length-2;F[HOUR]=toInt(R.substr(0,V)),F[MINUTE]=toInt(R.substr(V,2)),F[SECOND]=toInt(R.substr(U))});function localeIsPM(R){return(R+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(R,F,E){return R>11?E?"pm":"PM":E?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(R,F){var E,V=Math.min(R.length,F.length);for(E=0;E<V;E+=1)if(R[E]!==F[E])return E;return V}function normalizeLocale(R){return R&&R.toLowerCase().replace("_","-")}function chooseLocale(R){for(var F=0,E,V,U,W;F<R.length;){for(W=normalizeLocale(R[F]).split("-"),E=W.length,V=normalizeLocale(R[F+1]),V=V?V.split("-"):null;E>0;){if(U=loadLocale(W.slice(0,E).join("-")),U)return U;if(V&&V.length>=E&&commonPrefix(W,V)>=E-1)break;E--}F++}return globalLocale}function isLocaleNameSane(R){return R.match("^[^/\\\\]*$")!=null}function loadLocale(R){var F=null,E;if(locales[R]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(R))try{F=globalLocale._abbr,E=require,E("./locale/"+R),getSetGlobalLocale(F)}catch{locales[R]=null}return locales[R]}function getSetGlobalLocale(R,F){var E;return R&&(isUndefined$2(F)?E=getLocale(R):E=defineLocale(R,F),E?globalLocale=E:typeof console<"u"&&console.warn&&console.warn("Locale "+R+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(R,F){if(F!==null){var E,V=baseConfig;if(F.abbr=R,locales[R]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),V=locales[R]._config;else if(F.parentLocale!=null)if(locales[F.parentLocale]!=null)V=locales[F.parentLocale]._config;else if(E=loadLocale(F.parentLocale),E!=null)V=E._config;else return localeFamilies[F.parentLocale]||(localeFamilies[F.parentLocale]=[]),localeFamilies[F.parentLocale].push({name:R,config:F}),null;return locales[R]=new Locale(mergeConfigs(V,F)),localeFamilies[R]&&localeFamilies[R].forEach(function(U){defineLocale(U.name,U.config)}),getSetGlobalLocale(R),locales[R]}else return delete locales[R],null}function updateLocale(R,F){if(F!=null){var E,V,U=baseConfig;locales[R]!=null&&locales[R].parentLocale!=null?locales[R].set(mergeConfigs(locales[R]._config,F)):(V=loadLocale(R),V!=null&&(U=V._config),F=mergeConfigs(U,F),V==null&&(F.abbr=R),E=new Locale(F),E.parentLocale=locales[R],locales[R]=E),getSetGlobalLocale(R)}else locales[R]!=null&&(locales[R].parentLocale!=null?(locales[R]=locales[R].parentLocale,R===getSetGlobalLocale()&&getSetGlobalLocale(R)):locales[R]!=null&&delete locales[R]);return locales[R]}function getLocale(R){var F;if(R&&R._locale&&R._locale._abbr&&(R=R._locale._abbr),!R)return globalLocale;if(!isArray$3(R)){if(F=loadLocale(R),F)return F;R=[R]}return chooseLocale(R)}function listLocales(){return keys$1(locales)}function checkOverflow(R){var F,E=R._a;return E&&getParsingFlags(R).overflow===-2&&(F=E[MONTH]<0||E[MONTH]>11?MONTH:E[DATE$1]<1||E[DATE$1]>daysInMonth(E[YEAR],E[MONTH])?DATE$1:E[HOUR]<0||E[HOUR]>24||E[HOUR]===24&&(E[MINUTE]!==0||E[SECOND]!==0||E[MILLISECOND]!==0)?HOUR:E[MINUTE]<0||E[MINUTE]>59?MINUTE:E[SECOND]<0||E[SECOND]>59?SECOND:E[MILLISECOND]<0||E[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(R)._overflowDayOfYear&&(F<YEAR||F>DATE$1)&&(F=DATE$1),getParsingFlags(R)._overflowWeeks&&F===-1&&(F=WEEK),getParsingFlags(R)._overflowWeekday&&F===-1&&(F=WEEKDAY),getParsingFlags(R).overflow=F),R}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(R){var F,E,V=R._i,U=extendedIsoRegex.exec(V)||basicIsoRegex.exec(V),W,Y,G,X,K=isoDates.length,Z=isoTimes.length;if(U){for(getParsingFlags(R).iso=!0,F=0,E=K;F<E;F++)if(isoDates[F][1].exec(U[1])){Y=isoDates[F][0],W=isoDates[F][2]!==!1;break}if(Y==null){R._isValid=!1;return}if(U[3]){for(F=0,E=Z;F<E;F++)if(isoTimes[F][1].exec(U[3])){G=(U[2]||" ")+isoTimes[F][0];break}if(G==null){R._isValid=!1;return}}if(!W&&G!=null){R._isValid=!1;return}if(U[4])if(tzRegex.exec(U[4]))X="Z";else{R._isValid=!1;return}R._f=Y+(G||"")+(X||""),configFromStringAndFormat(R)}else R._isValid=!1}function extractFromRFC2822Strings(R,F,E,V,U,W){var Y=[untruncateYear(R),defaultLocaleMonthsShort.indexOf(F),parseInt(E,10),parseInt(V,10),parseInt(U,10)];return W&&Y.push(parseInt(W,10)),Y}function untruncateYear(R){var F=parseInt(R,10);return F<=49?2e3+F:F<=999?1900+F:F}function preprocessRFC2822(R){return R.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(R,F,E){if(R){var V=defaultLocaleWeekdaysShort.indexOf(R),U=new Date(F[0],F[1],F[2]).getDay();if(V!==U)return getParsingFlags(E).weekdayMismatch=!0,E._isValid=!1,!1}return!0}function calculateOffset(R,F,E){if(R)return obsOffsets[R];if(F)return 0;var V=parseInt(E,10),U=V%100,W=(V-U)/100;return W*60+U}function configFromRFC2822(R){var F=rfc2822.exec(preprocessRFC2822(R._i)),E;if(F){if(E=extractFromRFC2822Strings(F[4],F[3],F[2],F[5],F[6],F[7]),!checkWeekday(F[1],E,R))return;R._a=E,R._tzm=calculateOffset(F[8],F[9],F[10]),R._d=createUTCDate.apply(null,R._a),R._d.setUTCMinutes(R._d.getUTCMinutes()-R._tzm),getParsingFlags(R).rfc2822=!0}else R._isValid=!1}function configFromString(R){var F=aspNetJsonRegex.exec(R._i);if(F!==null){R._d=new Date(+F[1]);return}if(configFromISO(R),R._isValid===!1)delete R._isValid;else return;if(configFromRFC2822(R),R._isValid===!1)delete R._isValid;else return;R._strict?R._isValid=!1:hooks.createFromInputFallback(R)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(R){R._d=new Date(R._i+(R._useUTC?" UTC":""))});function defaults$3(R,F,E){return R!=null?R:F!=null?F:E}function currentDateArray(R){var F=new Date(hooks.now());return R._useUTC?[F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate()]:[F.getFullYear(),F.getMonth(),F.getDate()]}function configFromArray(R){var F,E,V=[],U,W,Y;if(!R._d){for(U=currentDateArray(R),R._w&&R._a[DATE$1]==null&&R._a[MONTH]==null&&dayOfYearFromWeekInfo(R),R._dayOfYear!=null&&(Y=defaults$3(R._a[YEAR],U[YEAR]),(R._dayOfYear>daysInYear(Y)||R._dayOfYear===0)&&(getParsingFlags(R)._overflowDayOfYear=!0),E=createUTCDate(Y,0,R._dayOfYear),R._a[MONTH]=E.getUTCMonth(),R._a[DATE$1]=E.getUTCDate()),F=0;F<3&&R._a[F]==null;++F)R._a[F]=V[F]=U[F];for(;F<7;F++)R._a[F]=V[F]=R._a[F]==null?F===2?1:0:R._a[F];R._a[HOUR]===24&&R._a[MINUTE]===0&&R._a[SECOND]===0&&R._a[MILLISECOND]===0&&(R._nextDay=!0,R._a[HOUR]=0),R._d=(R._useUTC?createUTCDate:createDate).apply(null,V),W=R._useUTC?R._d.getUTCDay():R._d.getDay(),R._tzm!=null&&R._d.setUTCMinutes(R._d.getUTCMinutes()-R._tzm),R._nextDay&&(R._a[HOUR]=24),R._w&&typeof R._w.d<"u"&&R._w.d!==W&&(getParsingFlags(R).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(R){var F,E,V,U,W,Y,G,X,K;F=R._w,F.GG!=null||F.W!=null||F.E!=null?(W=1,Y=4,E=defaults$3(F.GG,R._a[YEAR],weekOfYear(createLocal(),1,4).year),V=defaults$3(F.W,1),U=defaults$3(F.E,1),(U<1||U>7)&&(X=!0)):(W=R._locale._week.dow,Y=R._locale._week.doy,K=weekOfYear(createLocal(),W,Y),E=defaults$3(F.gg,R._a[YEAR],K.year),V=defaults$3(F.w,K.week),F.d!=null?(U=F.d,(U<0||U>6)&&(X=!0)):F.e!=null?(U=F.e+W,(F.e<0||F.e>6)&&(X=!0)):U=W),V<1||V>weeksInYear(E,W,Y)?getParsingFlags(R)._overflowWeeks=!0:X!=null?getParsingFlags(R)._overflowWeekday=!0:(G=dayOfYearFromWeeks(E,V,U,W,Y),R._a[YEAR]=G.year,R._dayOfYear=G.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(R){if(R._f===hooks.ISO_8601){configFromISO(R);return}if(R._f===hooks.RFC_2822){configFromRFC2822(R);return}R._a=[],getParsingFlags(R).empty=!0;var F=""+R._i,E,V,U,W,Y,G=F.length,X=0,K,Z;for(U=expandFormat(R._f,R._locale).match(formattingTokens)||[],Z=U.length,E=0;E<Z;E++)W=U[E],V=(F.match(getParseRegexForToken(W,R))||[])[0],V&&(Y=F.substr(0,F.indexOf(V)),Y.length>0&&getParsingFlags(R).unusedInput.push(Y),F=F.slice(F.indexOf(V)+V.length),X+=V.length),formatTokenFunctions[W]?(V?getParsingFlags(R).empty=!1:getParsingFlags(R).unusedTokens.push(W),addTimeToArrayFromToken(W,V,R)):R._strict&&!V&&getParsingFlags(R).unusedTokens.push(W);getParsingFlags(R).charsLeftOver=G-X,F.length>0&&getParsingFlags(R).unusedInput.push(F),R._a[HOUR]<=12&&getParsingFlags(R).bigHour===!0&&R._a[HOUR]>0&&(getParsingFlags(R).bigHour=void 0),getParsingFlags(R).parsedDateParts=R._a.slice(0),getParsingFlags(R).meridiem=R._meridiem,R._a[HOUR]=meridiemFixWrap(R._locale,R._a[HOUR],R._meridiem),K=getParsingFlags(R).era,K!==null&&(R._a[YEAR]=R._locale.erasConvertYear(K,R._a[YEAR])),configFromArray(R),checkOverflow(R)}function meridiemFixWrap(R,F,E){var V;return E==null?F:R.meridiemHour!=null?R.meridiemHour(F,E):(R.isPM!=null&&(V=R.isPM(E),V&&F<12&&(F+=12),!V&&F===12&&(F=0)),F)}function configFromStringAndArray(R){var F,E,V,U,W,Y,G=!1,X=R._f.length;if(X===0){getParsingFlags(R).invalidFormat=!0,R._d=new Date(NaN);return}for(U=0;U<X;U++)W=0,Y=!1,F=copyConfig({},R),R._useUTC!=null&&(F._useUTC=R._useUTC),F._f=R._f[U],configFromStringAndFormat(F),isValid(F)&&(Y=!0),W+=getParsingFlags(F).charsLeftOver,W+=getParsingFlags(F).unusedTokens.length*10,getParsingFlags(F).score=W,G?W<V&&(V=W,E=F):(V==null||W<V||Y)&&(V=W,E=F,Y&&(G=!0));extend$3(R,E||F)}function configFromObject(R){if(!R._d){var F=normalizeObjectUnits(R._i),E=F.day===void 0?F.date:F.day;R._a=map$3([F.year,F.month,E,F.hour,F.minute,F.second,F.millisecond],function(V){return V&&parseInt(V,10)}),configFromArray(R)}}function createFromConfig(R){var F=new Moment(checkOverflow(prepareConfig(R)));return F._nextDay&&(F.add(1,"d"),F._nextDay=void 0),F}function prepareConfig(R){var F=R._i,E=R._f;return R._locale=R._locale||getLocale(R._l),F===null||E===void 0&&F===""?createInvalid({nullInput:!0}):(typeof F=="string"&&(R._i=F=R._locale.preparse(F)),isMoment(F)?new Moment(checkOverflow(F)):(isDate$2(F)?R._d=F:isArray$3(E)?configFromStringAndArray(R):E?configFromStringAndFormat(R):configFromInput(R),isValid(R)||(R._d=null),R))}function configFromInput(R){var F=R._i;isUndefined$2(F)?R._d=new Date(hooks.now()):isDate$2(F)?R._d=new Date(F.valueOf()):typeof F=="string"?configFromString(R):isArray$3(F)?(R._a=map$3(F.slice(0),function(E){return parseInt(E,10)}),configFromArray(R)):isObject$8(F)?configFromObject(R):isNumber$3(F)?R._d=new Date(F):hooks.createFromInputFallback(R)}function createLocalOrUTC(R,F,E,V,U){var W={};return(F===!0||F===!1)&&(V=F,F=void 0),(E===!0||E===!1)&&(V=E,E=void 0),(isObject$8(R)&&isObjectEmpty(R)||isArray$3(R)&&R.length===0)&&(R=void 0),W._isAMomentObject=!0,W._useUTC=W._isUTC=U,W._l=E,W._i=R,W._f=F,W._strict=V,createFromConfig(W)}function createLocal(R,F,E,V){return createLocalOrUTC(R,F,E,V,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var R=createLocal.apply(null,arguments);return this.isValid()&&R.isValid()?R<this?this:R:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var R=createLocal.apply(null,arguments);return this.isValid()&&R.isValid()?R>this?this:R:createInvalid()});function pickBy(R,F){var E,V;if(F.length===1&&isArray$3(F[0])&&(F=F[0]),!F.length)return createLocal();for(E=F[0],V=1;V<F.length;++V)(!F[V].isValid()||F[V][R](E))&&(E=F[V]);return E}function min$3(){var R=[].slice.call(arguments,0);return pickBy("isBefore",R)}function max$3(){var R=[].slice.call(arguments,0);return pickBy("isAfter",R)}var now$4=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(R){var F,E=!1,V,U=ordering.length;for(F in R)if(hasOwnProp(R,F)&&!(indexOf$1.call(ordering,F)!==-1&&(R[F]==null||!isNaN(R[F]))))return!1;for(V=0;V<U;++V)if(R[ordering[V]]){if(E)return!1;parseFloat(R[ordering[V]])!==toInt(R[ordering[V]])&&(E=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(R){var F=normalizeObjectUnits(R),E=F.year||0,V=F.quarter||0,U=F.month||0,W=F.week||F.isoWeek||0,Y=F.day||0,G=F.hour||0,X=F.minute||0,K=F.second||0,Z=F.millisecond||0;this._isValid=isDurationValid(F),this._milliseconds=+Z+K*1e3+X*6e4+G*1e3*60*60,this._days=+Y+W*7,this._months=+U+V*3+E*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(R){return R instanceof Duration}function absRound(R){return R<0?Math.round(-1*R)*-1:Math.round(R)}function compareArrays(R,F,E){var V=Math.min(R.length,F.length),U=Math.abs(R.length-F.length),W=0,Y;for(Y=0;Y<V;Y++)(E&&R[Y]!==F[Y]||!E&&toInt(R[Y])!==toInt(F[Y]))&&W++;return W+U}function offset(R,F){addFormatToken(R,0,0,function(){var E=this.utcOffset(),V="+";return E<0&&(E=-E,V="-"),V+zeroFill(~~(E/60),2)+F+zeroFill(~~E%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(R,F,E){E._useUTC=!0,E._tzm=offsetFromString(matchShortOffset,R)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(R,F){var E=(F||"").match(R),V,U,W;return E===null?null:(V=E[E.length-1]||[],U=(V+"").match(chunkOffset)||["-",0,0],W=+(U[1]*60)+toInt(U[2]),W===0?0:U[0]==="+"?W:-W)}function cloneWithOffset(R,F){var E,V;return F._isUTC?(E=F.clone(),V=(isMoment(R)||isDate$2(R)?R.valueOf():createLocal(R).valueOf())-E.valueOf(),E._d.setTime(E._d.valueOf()+V),hooks.updateOffset(E,!1),E):createLocal(R).local()}function getDateOffset(R){return-Math.round(R._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(R,F,E){var V=this._offset||0,U;if(!this.isValid())return R!=null?this:NaN;if(R!=null){if(typeof R=="string"){if(R=offsetFromString(matchShortOffset,R),R===null)return this}else Math.abs(R)<16&&!E&&(R=R*60);return!this._isUTC&&F&&(U=getDateOffset(this)),this._offset=R,this._isUTC=!0,U!=null&&this.add(U,"m"),V!==R&&(!F||this._changeInProgress?addSubtract(this,createDuration(R-V,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?V:getDateOffset(this)}function getSetZone(R,F){return R!=null?(typeof R!="string"&&(R=-R),this.utcOffset(R,F),this):-this.utcOffset()}function setOffsetToUTC(R){return this.utcOffset(0,R)}function setOffsetToLocal(R){return this._isUTC&&(this.utcOffset(0,R),this._isUTC=!1,R&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var R=offsetFromString(matchOffset,this._i);R!=null?this.utcOffset(R):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(R){return this.isValid()?(R=R?createLocal(R).utcOffset():0,(this.utcOffset()-R)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined$2(this._isDSTShifted))return this._isDSTShifted;var R={},F;return copyConfig(R,this),R=prepareConfig(R),R._a?(F=R._isUTC?createUTC(R._a):createLocal(R._a),this._isDSTShifted=this.isValid()&&compareArrays(R._a,F.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(R,F){var E=R,V=null,U,W,Y;return isDuration(R)?E={ms:R._milliseconds,d:R._days,M:R._months}:isNumber$3(R)||!isNaN(+R)?(E={},F?E[F]=+R:E.milliseconds=+R):(V=aspNetRegex.exec(R))?(U=V[1]==="-"?-1:1,E={y:0,d:toInt(V[DATE$1])*U,h:toInt(V[HOUR])*U,m:toInt(V[MINUTE])*U,s:toInt(V[SECOND])*U,ms:toInt(absRound(V[MILLISECOND]*1e3))*U}):(V=isoRegex.exec(R))?(U=V[1]==="-"?-1:1,E={y:parseIso(V[2],U),M:parseIso(V[3],U),w:parseIso(V[4],U),d:parseIso(V[5],U),h:parseIso(V[6],U),m:parseIso(V[7],U),s:parseIso(V[8],U)}):E==null?E={}:typeof E=="object"&&("from"in E||"to"in E)&&(Y=momentsDifference(createLocal(E.from),createLocal(E.to)),E={},E.ms=Y.milliseconds,E.M=Y.months),W=new Duration(E),isDuration(R)&&hasOwnProp(R,"_locale")&&(W._locale=R._locale),isDuration(R)&&hasOwnProp(R,"_isValid")&&(W._isValid=R._isValid),W}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(R,F){var E=R&&parseFloat(R.replace(",","."));return(isNaN(E)?0:E)*F}function positiveMomentsDifference(R,F){var E={};return E.months=F.month()-R.month()+(F.year()-R.year())*12,R.clone().add(E.months,"M").isAfter(F)&&--E.months,E.milliseconds=+F-+R.clone().add(E.months,"M"),E}function momentsDifference(R,F){var E;return R.isValid()&&F.isValid()?(F=cloneWithOffset(F,R),R.isBefore(F)?E=positiveMomentsDifference(R,F):(E=positiveMomentsDifference(F,R),E.milliseconds=-E.milliseconds,E.months=-E.months),E):{milliseconds:0,months:0}}function createAdder(R,F){return function(E,V){var U,W;return V!==null&&!isNaN(+V)&&(deprecateSimple(F,"moment()."+F+"(period, number) is deprecated. Please use moment()."+F+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),W=E,E=V,V=W),U=createDuration(E,V),addSubtract(this,U,R),this}}function addSubtract(R,F,E,V){var U=F._milliseconds,W=absRound(F._days),Y=absRound(F._months);!R.isValid()||(V=V==null?!0:V,Y&&setMonth(R,get$2(R,"Month")+Y*E),W&&set$1$1(R,"Date",get$2(R,"Date")+W*E),U&&R._d.setTime(R._d.valueOf()+U*E),V&&hooks.updateOffset(R,W||Y))}var add$2=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString$4(R){return typeof R=="string"||R instanceof String}function isMomentInput(R){return isMoment(R)||isDate$2(R)||isString$4(R)||isNumber$3(R)||isNumberOrStringArray(R)||isMomentInputObject(R)||R===null||R===void 0}function isMomentInputObject(R){var F=isObject$8(R)&&!isObjectEmpty(R),E=!1,V=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],U,W,Y=V.length;for(U=0;U<Y;U+=1)W=V[U],E=E||hasOwnProp(R,W);return F&&E}function isNumberOrStringArray(R){var F=isArray$3(R),E=!1;return F&&(E=R.filter(function(V){return!isNumber$3(V)&&isString$4(R)}).length===0),F&&E}function isCalendarSpec(R){var F=isObject$8(R)&&!isObjectEmpty(R),E=!1,V=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],U,W;for(U=0;U<V.length;U+=1)W=V[U],E=E||hasOwnProp(R,W);return F&&E}function getCalendarFormat(R,F){var E=R.diff(F,"days",!0);return E<-6?"sameElse":E<-1?"lastWeek":E<0?"lastDay":E<1?"sameDay":E<2?"nextDay":E<7?"nextWeek":"sameElse"}function calendar$1$1(R,F){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(R=arguments[0],F=void 0):isCalendarSpec(arguments[0])&&(F=arguments[0],R=void 0):(R=void 0,F=void 0));var E=R||createLocal(),V=cloneWithOffset(E,this).startOf("day"),U=hooks.calendarFormat(this,V)||"sameElse",W=F&&(isFunction$2(F[U])?F[U].call(this,E):F[U]);return this.format(W||this.localeData().calendar(U,this,createLocal(E)))}function clone$2(){return new Moment(this)}function isAfter(R,F){var E=isMoment(R)?R:createLocal(R);return this.isValid()&&E.isValid()?(F=normalizeUnits(F)||"millisecond",F==="millisecond"?this.valueOf()>E.valueOf():E.valueOf()<this.clone().startOf(F).valueOf()):!1}function isBefore(R,F){var E=isMoment(R)?R:createLocal(R);return this.isValid()&&E.isValid()?(F=normalizeUnits(F)||"millisecond",F==="millisecond"?this.valueOf()<E.valueOf():this.clone().endOf(F).valueOf()<E.valueOf()):!1}function isBetween$1(R,F,E,V){var U=isMoment(R)?R:createLocal(R),W=isMoment(F)?F:createLocal(F);return this.isValid()&&U.isValid()&&W.isValid()?(V=V||"()",(V[0]==="("?this.isAfter(U,E):!this.isBefore(U,E))&&(V[1]===")"?this.isBefore(W,E):!this.isAfter(W,E))):!1}function isSame(R,F){var E=isMoment(R)?R:createLocal(R),V;return this.isValid()&&E.isValid()?(F=normalizeUnits(F)||"millisecond",F==="millisecond"?this.valueOf()===E.valueOf():(V=E.valueOf(),this.clone().startOf(F).valueOf()<=V&&V<=this.clone().endOf(F).valueOf())):!1}function isSameOrAfter(R,F){return this.isSame(R,F)||this.isAfter(R,F)}function isSameOrBefore(R,F){return this.isSame(R,F)||this.isBefore(R,F)}function diff(R,F,E){var V,U,W;if(!this.isValid())return NaN;if(V=cloneWithOffset(R,this),!V.isValid())return NaN;switch(U=(V.utcOffset()-this.utcOffset())*6e4,F=normalizeUnits(F),F){case"year":W=monthDiff(this,V)/12;break;case"month":W=monthDiff(this,V);break;case"quarter":W=monthDiff(this,V)/3;break;case"second":W=(this-V)/1e3;break;case"minute":W=(this-V)/6e4;break;case"hour":W=(this-V)/36e5;break;case"day":W=(this-V-U)/864e5;break;case"week":W=(this-V-U)/6048e5;break;default:W=this-V}return E?W:absFloor(W)}function monthDiff(R,F){if(R.date()<F.date())return-monthDiff(F,R);var E=(F.year()-R.year())*12+(F.month()-R.month()),V=R.clone().add(E,"months"),U,W;return F-V<0?(U=R.clone().add(E-1,"months"),W=(F-V)/(V-U)):(U=R.clone().add(E+1,"months"),W=(F-V)/(U-V)),-(E+W)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(R){if(!this.isValid())return null;var F=R!==!0,E=F?this.clone().utc():this;return E.year()<0||E.year()>9999?formatMoment(E,F?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$2(Date.prototype.toISOString)?F?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(E,"Z")):formatMoment(E,F?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var R="moment",F="",E,V,U,W;return this.isLocal()||(R=this.utcOffset()===0?"moment.utc":"moment.parseZone",F="Z"),E="["+R+'("]',V=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",U="-MM-DD[T]HH:mm:ss.SSS",W=F+'[")]',this.format(E+V+U+W)}function format$1(R){R||(R=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var F=formatMoment(this,R);return this.localeData().postformat(F)}function from(R,F){return this.isValid()&&(isMoment(R)&&R.isValid()||createLocal(R).isValid())?createDuration({to:this,from:R}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()}function fromNow(R){return this.from(createLocal(),R)}function to(R,F){return this.isValid()&&(isMoment(R)&&R.isValid()||createLocal(R).isValid())?createDuration({from:this,to:R}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()}function toNow(R){return this.to(createLocal(),R)}function locale$5(R){var F;return R===void 0?this._locale._abbr:(F=getLocale(R),F!=null&&(this._locale=F),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(R){return R===void 0?this.localeData():this.locale(R)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1$1(R,F){return(R%F+F)%F}function localStartOfDate(R,F,E){return R<100&&R>=0?new Date(R+400,F,E)-MS_PER_400_YEARS:new Date(R,F,E).valueOf()}function utcStartOfDate(R,F,E){return R<100&&R>=0?Date.UTC(R+400,F,E)-MS_PER_400_YEARS:Date.UTC(R,F,E)}function startOf(R){var F,E;if(R=normalizeUnits(R),R===void 0||R==="millisecond"||!this.isValid())return this;switch(E=this._isUTC?utcStartOfDate:localStartOfDate,R){case"year":F=E(this.year(),0,1);break;case"quarter":F=E(this.year(),this.month()-this.month()%3,1);break;case"month":F=E(this.year(),this.month(),1);break;case"week":F=E(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":F=E(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":F=E(this.year(),this.month(),this.date());break;case"hour":F=this._d.valueOf(),F-=mod$1$1(F+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":F=this._d.valueOf(),F-=mod$1$1(F,MS_PER_MINUTE);break;case"second":F=this._d.valueOf(),F-=mod$1$1(F,MS_PER_SECOND);break}return this._d.setTime(F),hooks.updateOffset(this,!0),this}function endOf(R){var F,E;if(R=normalizeUnits(R),R===void 0||R==="millisecond"||!this.isValid())return this;switch(E=this._isUTC?utcStartOfDate:localStartOfDate,R){case"year":F=E(this.year()+1,0,1)-1;break;case"quarter":F=E(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":F=E(this.year(),this.month()+1,1)-1;break;case"week":F=E(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":F=E(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":F=E(this.year(),this.month(),this.date()+1)-1;break;case"hour":F=this._d.valueOf(),F+=MS_PER_HOUR-mod$1$1(F+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":F=this._d.valueOf(),F+=MS_PER_MINUTE-mod$1$1(F,MS_PER_MINUTE)-1;break;case"second":F=this._d.valueOf(),F+=MS_PER_SECOND-mod$1$1(F,MS_PER_SECOND)-1;break}return this._d.setTime(F),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray$5(){var R=this;return[R.year(),R.month(),R.date(),R.hour(),R.minute(),R.second(),R.millisecond()]}function toObject(){var R=this;return{years:R.year(),months:R.month(),date:R.date(),hours:R.hours(),minutes:R.minutes(),seconds:R.seconds(),milliseconds:R.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$3({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(R,F,E,V){var U=E._locale.erasParse(R,V,E._strict);U?getParsingFlags(E).era=U:getParsingFlags(E).invalidEra=R});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(R,F,E,V){var U;E._locale._eraYearOrdinalRegex&&(U=R.match(E._locale._eraYearOrdinalRegex)),E._locale.eraYearOrdinalParse?F[YEAR]=E._locale.eraYearOrdinalParse(R,U):F[YEAR]=parseInt(R,10)});function localeEras(R,F){var E,V,U,W=this._eras||getLocale("en")._eras;for(E=0,V=W.length;E<V;++E){switch(typeof W[E].since){case"string":U=hooks(W[E].since).startOf("day"),W[E].since=U.valueOf();break}switch(typeof W[E].until){case"undefined":W[E].until=1/0;break;case"string":U=hooks(W[E].until).startOf("day").valueOf(),W[E].until=U.valueOf();break}}return W}function localeErasParse(R,F,E){var V,U,W=this.eras(),Y,G,X;for(R=R.toUpperCase(),V=0,U=W.length;V<U;++V)if(Y=W[V].name.toUpperCase(),G=W[V].abbr.toUpperCase(),X=W[V].narrow.toUpperCase(),E)switch(F){case"N":case"NN":case"NNN":if(G===R)return W[V];break;case"NNNN":if(Y===R)return W[V];break;case"NNNNN":if(X===R)return W[V];break}else if([Y,G,X].indexOf(R)>=0)return W[V]}function localeErasConvertYear(R,F){var E=R.since<=R.until?1:-1;return F===void 0?hooks(R.since).year():hooks(R.since).year()+(F-R.offset)*E}function getEraName(){var R,F,E,V=this.localeData().eras();for(R=0,F=V.length;R<F;++R)if(E=this.clone().startOf("day").valueOf(),V[R].since<=E&&E<=V[R].until||V[R].until<=E&&E<=V[R].since)return V[R].name;return""}function getEraNarrow(){var R,F,E,V=this.localeData().eras();for(R=0,F=V.length;R<F;++R)if(E=this.clone().startOf("day").valueOf(),V[R].since<=E&&E<=V[R].until||V[R].until<=E&&E<=V[R].since)return V[R].narrow;return""}function getEraAbbr(){var R,F,E,V=this.localeData().eras();for(R=0,F=V.length;R<F;++R)if(E=this.clone().startOf("day").valueOf(),V[R].since<=E&&E<=V[R].until||V[R].until<=E&&E<=V[R].since)return V[R].abbr;return""}function getEraYear(){var R,F,E,V,U=this.localeData().eras();for(R=0,F=U.length;R<F;++R)if(E=U[R].since<=U[R].until?1:-1,V=this.clone().startOf("day").valueOf(),U[R].since<=V&&V<=U[R].until||U[R].until<=V&&V<=U[R].since)return(this.year()-hooks(U[R].since).year())*E+U[R].offset;return this.year()}function erasNameRegex(R){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),R?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(R){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),R?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(R){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),R?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(R,F){return F.erasAbbrRegex(R)}function matchEraName(R,F){return F.erasNameRegex(R)}function matchEraNarrow(R,F){return F.erasNarrowRegex(R)}function matchEraYearOrdinal(R,F){return F._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var R=[],F=[],E=[],V=[],U,W,Y=this.eras();for(U=0,W=Y.length;U<W;++U)F.push(regexEscape(Y[U].name)),R.push(regexEscape(Y[U].abbr)),E.push(regexEscape(Y[U].narrow)),V.push(regexEscape(Y[U].name)),V.push(regexEscape(Y[U].abbr)),V.push(regexEscape(Y[U].narrow));this._erasRegex=new RegExp("^("+V.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+F.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+R.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+E.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(R,F){addFormatToken(0,[R,R.length],0,F)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(R,F,E,V){F[V.substr(0,2)]=toInt(R)});addWeekParseToken(["gg","GG"],function(R,F,E,V){F[V]=hooks.parseTwoDigitYear(R)});function getSetWeekYear(R){return getSetWeekYearHelper.call(this,R,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(R){return getSetWeekYearHelper.call(this,R,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var R=this.localeData()._week;return weeksInYear(this.year(),R.dow,R.doy)}function getWeeksInWeekYear(){var R=this.localeData()._week;return weeksInYear(this.weekYear(),R.dow,R.doy)}function getSetWeekYearHelper(R,F,E,V,U){var W;return R==null?weekOfYear(this,V,U).year:(W=weeksInYear(R,V,U),F>W&&(F=W),setWeekAll.call(this,R,F,E,V,U))}function setWeekAll(R,F,E,V,U){var W=dayOfYearFromWeeks(R,F,E,V,U),Y=createUTCDate(W.year,0,W.dayOfYear);return this.year(Y.getUTCFullYear()),this.month(Y.getUTCMonth()),this.date(Y.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(R,F){F[MONTH]=(toInt(R)-1)*3});function getSetQuarter(R){return R==null?Math.ceil((this.month()+1)/3):this.month((R-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(R,F){return R?F._dayOfMonthOrdinalParse||F._ordinalParse:F._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE$1);addParseToken("Do",function(R,F){F[DATE$1]=toInt(R.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(R,F,E){E._dayOfYear=toInt(R)});function getSetDayOfYear(R){var F=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return R==null?F:this.add(R-F,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(R,F){F[MILLISECOND]=toInt(("0."+R)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add$2;proto.calendar=calendar$1$1;proto.clone=clone$2;proto.diff=diff;proto.endOf=endOf;proto.format=format$1;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween$1;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale$5;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray$5;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString$1;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(R){return createLocal(R*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(R){return R}var proto$1=Locale.prototype;proto$1.calendar=calendar$1;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set$2;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1$1(R,F,E,V){var U=getLocale(),W=createUTC().set(V,F);return U[E](W,R)}function listMonthsImpl(R,F,E){if(isNumber$3(R)&&(F=R,R=void 0),R=R||"",F!=null)return get$1$1(R,F,E,"month");var V,U=[];for(V=0;V<12;V++)U[V]=get$1$1(R,V,E,"month");return U}function listWeekdaysImpl(R,F,E,V){typeof R=="boolean"?(isNumber$3(F)&&(E=F,F=void 0),F=F||""):(F=R,E=F,R=!1,isNumber$3(F)&&(E=F,F=void 0),F=F||"");var U=getLocale(),W=R?U._week.dow:0,Y,G=[];if(E!=null)return get$1$1(F,(E+W)%7,V,"day");for(Y=0;Y<7;Y++)G[Y]=get$1$1(F,(Y+W)%7,V,"day");return G}function listMonths(R,F){return listMonthsImpl(R,F,"months")}function listMonthsShort(R,F){return listMonthsImpl(R,F,"monthsShort")}function listWeekdays(R,F,E){return listWeekdaysImpl(R,F,E,"weekdays")}function listWeekdaysShort(R,F,E){return listWeekdaysImpl(R,F,E,"weekdaysShort")}function listWeekdaysMin(R,F,E){return listWeekdaysImpl(R,F,E,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(R){var F=R%10,E=toInt(R%100/10)===1?"th":F===1?"st":F===2?"nd":F===3?"rd":"th";return R+E}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var R=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),R.milliseconds=mathAbs(R.milliseconds),R.seconds=mathAbs(R.seconds),R.minutes=mathAbs(R.minutes),R.hours=mathAbs(R.hours),R.months=mathAbs(R.months),R.years=mathAbs(R.years),this}function addSubtract$1(R,F,E,V){var U=createDuration(F,E);return R._milliseconds+=V*U._milliseconds,R._days+=V*U._days,R._months+=V*U._months,R._bubble()}function add$1$1(R,F){return addSubtract$1(this,R,F,1)}function subtract$1(R,F){return addSubtract$1(this,R,F,-1)}function absCeil(R){return R<0?Math.floor(R):Math.ceil(R)}function bubble(){var R=this._milliseconds,F=this._days,E=this._months,V=this._data,U,W,Y,G,X;return R>=0&&F>=0&&E>=0||R<=0&&F<=0&&E<=0||(R+=absCeil(monthsToDays(E)+F)*864e5,F=0,E=0),V.milliseconds=R%1e3,U=absFloor(R/1e3),V.seconds=U%60,W=absFloor(U/60),V.minutes=W%60,Y=absFloor(W/60),V.hours=Y%24,F+=absFloor(Y/24),X=absFloor(daysToMonths(F)),E+=X,F-=absCeil(monthsToDays(X)),G=absFloor(E/12),E%=12,V.days=F,V.months=E,V.years=G,this}function daysToMonths(R){return R*4800/146097}function monthsToDays(R){return R*146097/4800}function as(R){if(!this.isValid())return NaN;var F,E,V=this._milliseconds;if(R=normalizeUnits(R),R==="month"||R==="quarter"||R==="year")switch(F=this._days+V/864e5,E=this._months+daysToMonths(F),R){case"month":return E;case"quarter":return E/3;case"year":return E/12}else switch(F=this._days+Math.round(monthsToDays(this._months)),R){case"week":return F/7+V/6048e5;case"day":return F+V/864e5;case"hour":return F*24+V/36e5;case"minute":return F*1440+V/6e4;case"second":return F*86400+V/1e3;case"millisecond":return Math.floor(F*864e5)+V;default:throw new Error("Unknown unit "+R)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(R){return function(){return this.as(R)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1$1(){return createDuration(this)}function get$2$1(R){return R=normalizeUnits(R),this.isValid()?this[R+"s"]():NaN}function makeGetter(R){return function(){return this.isValid()?this._data[R]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$4=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(R,F,E,V,U){return U.relativeTime(F||1,!!E,R,V)}function relativeTime$1(R,F,E,V){var U=createDuration(R).abs(),W=round$4(U.as("s")),Y=round$4(U.as("m")),G=round$4(U.as("h")),X=round$4(U.as("d")),K=round$4(U.as("M")),Z=round$4(U.as("w")),J=round$4(U.as("y")),Q=W<=E.ss&&["s",W]||W<E.s&&["ss",W]||Y<=1&&["m"]||Y<E.m&&["mm",Y]||G<=1&&["h"]||G<E.h&&["hh",G]||X<=1&&["d"]||X<E.d&&["dd",X];return E.w!=null&&(Q=Q||Z<=1&&["w"]||Z<E.w&&["ww",Z]),Q=Q||K<=1&&["M"]||K<E.M&&["MM",K]||J<=1&&["y"]||["yy",J],Q[2]=F,Q[3]=+R>0,Q[4]=V,substituteTimeAgo.apply(null,Q)}function getSetRelativeTimeRounding(R){return R===void 0?round$4:typeof R=="function"?(round$4=R,!0):!1}function getSetRelativeTimeThreshold(R,F){return thresholds[R]===void 0?!1:F===void 0?thresholds[R]:(thresholds[R]=F,R==="s"&&(thresholds.ss=F-1),!0)}function humanize(R,F){if(!this.isValid())return this.localeData().invalidDate();var E=!1,V=thresholds,U,W;return typeof R=="object"&&(F=R,R=!1),typeof R=="boolean"&&(E=R),typeof F=="object"&&(V=Object.assign({},thresholds,F),F.s!=null&&F.ss==null&&(V.ss=F.s-1)),U=this.localeData(),W=relativeTime$1(this,!E,V,U),E&&(W=U.pastFuture(+this,W)),U.postformat(W)}var abs$1=Math.abs;function sign$1(R){return(R>0)-(R<0)||+R}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var R=abs$1(this._milliseconds)/1e3,F=abs$1(this._days),E=abs$1(this._months),V,U,W,Y,G=this.asSeconds(),X,K,Z,J;return G?(V=absFloor(R/60),U=absFloor(V/60),R%=60,V%=60,W=absFloor(E/12),E%=12,Y=R?R.toFixed(3).replace(/\.?0+$/,""):"",X=G<0?"-":"",K=sign$1(this._months)!==sign$1(G)?"-":"",Z=sign$1(this._days)!==sign$1(G)?"-":"",J=sign$1(this._milliseconds)!==sign$1(G)?"-":"",X+"P"+(W?K+W+"Y":"")+(E?K+E+"M":"")+(F?Z+F+"D":"")+(U||V||R?"T":"")+(U?J+U+"H":"")+(V?J+V+"M":"")+(R?J+Y+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale$5;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(R,F,E){E._d=new Date(parseFloat(R)*1e3)});addParseToken("x",function(R,F,E){E._d=new Date(toInt(R))});//! moment.js
hooks.version="2.29.4";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min$3;hooks.max=max$3;hooks.now=now$4;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate$2;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var ru$1={exports:{}};(function(R){(function(F,E){R.exports?E(numeral$1.exports):E(F.numeral)})(commonjsGlobal,function(F){F.register("locale","ru",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"\u0442\u044B\u0441.",million:"\u043C\u043B\u043D.",billion:"\u043C\u043B\u0440\u0434.",trillion:"\u0442\u0440\u043B\u043D."},ordinal:function(){return"."},currency:{symbol:"\u0440\u0443\u0431."}})})})(ru$1);//! moment.js locale configuration
function plural(R,F){var E=R.split("_");return F%10===1&&F%100!==11?E[0]:F%10>=2&&F%10<=4&&(F%100<10||F%100>=20)?E[1]:E[2]}function relativeTimeWithPlural(R,F,E){var V={ss:F?"\u0441\u0435\u043A\u0443\u043D\u0434\u0430_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434",mm:F?"\u043C\u0438\u043D\u0443\u0442\u0430_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442":"\u043C\u0438\u043D\u0443\u0442\u0443_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043E\u0432",dd:"\u0434\u0435\u043D\u044C_\u0434\u043D\u044F_\u0434\u043D\u0435\u0439",ww:"\u043D\u0435\u0434\u0435\u043B\u044F_\u043D\u0435\u0434\u0435\u043B\u0438_\u043D\u0435\u0434\u0435\u043B\u044C",MM:"\u043C\u0435\u0441\u044F\u0446_\u043C\u0435\u0441\u044F\u0446\u0430_\u043C\u0435\u0441\u044F\u0446\u0435\u0432",yy:"\u0433\u043E\u0434_\u0433\u043E\u0434\u0430_\u043B\u0435\u0442"};return E==="m"?F?"\u043C\u0438\u043D\u0443\u0442\u0430":"\u043C\u0438\u043D\u0443\u0442\u0443":R+" "+plural(V[E],+R)}var monthsParse=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];hooks.defineLocale("ru",{months:{format:"\u044F\u043D\u0432\u0430\u0440\u044F_\u0444\u0435\u0432\u0440\u0430\u043B\u044F_\u043C\u0430\u0440\u0442\u0430_\u0430\u043F\u0440\u0435\u043B\u044F_\u043C\u0430\u044F_\u0438\u044E\u043D\u044F_\u0438\u044E\u043B\u044F_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F_\u043E\u043A\u0442\u044F\u0431\u0440\u044F_\u043D\u043E\u044F\u0431\u0440\u044F_\u0434\u0435\u043A\u0430\u0431\u0440\u044F".split("_"),standalone:"\u044F\u043D\u0432\u0430\u0440\u044C_\u0444\u0435\u0432\u0440\u0430\u043B\u044C_\u043C\u0430\u0440\u0442_\u0430\u043F\u0440\u0435\u043B\u044C_\u043C\u0430\u0439_\u0438\u044E\u043D\u044C_\u0438\u044E\u043B\u044C_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C_\u043E\u043A\u0442\u044F\u0431\u0440\u044C_\u043D\u043E\u044F\u0431\u0440\u044C_\u0434\u0435\u043A\u0430\u0431\u0440\u044C".split("_")},monthsShort:{format:"\u044F\u043D\u0432._\u0444\u0435\u0432\u0440._\u043C\u0430\u0440._\u0430\u043F\u0440._\u043C\u0430\u044F_\u0438\u044E\u043D\u044F_\u0438\u044E\u043B\u044F_\u0430\u0432\u0433._\u0441\u0435\u043D\u0442._\u043E\u043A\u0442._\u043D\u043E\u044F\u0431._\u0434\u0435\u043A.".split("_"),standalone:"\u044F\u043D\u0432._\u0444\u0435\u0432\u0440._\u043C\u0430\u0440\u0442_\u0430\u043F\u0440._\u043C\u0430\u0439_\u0438\u044E\u043D\u044C_\u0438\u044E\u043B\u044C_\u0430\u0432\u0433._\u0441\u0435\u043D\u0442._\u043E\u043A\u0442._\u043D\u043E\u044F\u0431._\u0434\u0435\u043A.".split("_")},weekdays:{standalone:"\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435_\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A_\u0432\u0442\u043E\u0440\u043D\u0438\u043A_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043F\u044F\u0442\u043D\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043E\u0442\u0430".split("_"),format:"\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435_\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A_\u0432\u0442\u043E\u0440\u043D\u0438\u043A_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043F\u044F\u0442\u043D\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043E\u0442\u0443".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043F\u043D_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043F\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043F\u043D_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043F\u0442_\u0441\u0431".split("_"),monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043E\u0434\u043D\u044F, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(R){if(R.week()!==this.week())switch(this.day()){case 0:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E] dddd, [\u0432] LT"}else return this.day()===2?"[\u0412\u043E] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT"},lastWeek:function(R){if(R.week()!==this.week())switch(this.day()){case 0:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u043E\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u044B\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u0443\u044E] dddd, [\u0432] LT"}else return this.day()===2?"[\u0412\u043E] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT"},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043D\u0430\u0437\u0430\u0434",s:"\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434",ss:relativeTimeWithPlural,m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"\u0447\u0430\u0441",hh:relativeTimeWithPlural,d:"\u0434\u0435\u043D\u044C",dd:relativeTimeWithPlural,w:"\u043D\u0435\u0434\u0435\u043B\u044F",ww:relativeTimeWithPlural,M:"\u043C\u0435\u0441\u044F\u0446",MM:relativeTimeWithPlural,y:"\u0433\u043E\u0434",yy:relativeTimeWithPlural},meridiemParse:/|||/i,isPM:function(R){return/^(|)$/.test(R)},meridiem:function(R,F,E){return R<4?"\u043D\u043E\u0447\u0438":R<12?"\u0443\u0442\u0440\u0430":R<17?"\u0434\u043D\u044F":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(R,F){switch(F){case"M":case"d":case"DDD":return R+"-\u0439";case"D":return R+"-\u0433\u043E";case"w":case"W":return R+"-\u044F";default:return R}},week:{dow:1,doy:4}});const localeCode=locale$6.split("_")[0]==="ru"?"ru":"en";numeral.locale(localeCode);hooks.locale(localeCode);const Numeral={install(R,F){R.prototype.$numeral=numeral,R.prototype.$moment=hooks}};function isString$3(R){return typeof R=="string"||R instanceof String}function isObject$7(R){var F;return typeof R=="object"&&R!=null&&(R==null||(F=R.constructor)==null?void 0:F.name)==="Object"}function pick(R,F){return Array.isArray(F)?pick(R,(E,V)=>F.includes(V)):Object.entries(R).reduce((E,V)=>{let[U,W]=V;return F(W,U)&&(E[U]=W),E},{})}const DIRECTION={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function forceDirection(R){switch(R){case DIRECTION.LEFT:return DIRECTION.FORCE_LEFT;case DIRECTION.RIGHT:return DIRECTION.FORCE_RIGHT;default:return R}}function escapeRegExp(R){return R.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function objectIncludes(R,F){if(F===R)return!0;const E=Array.isArray(F),V=Array.isArray(R);let U;if(E&&V){if(F.length!=R.length)return!1;for(U=0;U<F.length;U++)if(!objectIncludes(F[U],R[U]))return!1;return!0}if(E!=V)return!1;if(F&&R&&typeof F=="object"&&typeof R=="object"){const W=F instanceof Date,Y=R instanceof Date;if(W&&Y)return F.getTime()==R.getTime();if(W!=Y)return!1;const G=F instanceof RegExp,X=R instanceof RegExp;if(G&&X)return F.toString()==R.toString();if(G!=X)return!1;const K=Object.keys(F);for(U=0;U<K.length;U++)if(!Object.prototype.hasOwnProperty.call(R,K[U]))return!1;for(U=0;U<K.length;U++)if(!objectIncludes(R[K[U]],F[K[U]]))return!1;return!0}else if(F&&R&&typeof F=="function"&&typeof R=="function")return F.toString()===R.toString();return!1}class ActionDetails{constructor(F){for(Object.assign(this,F);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?DIRECTION.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?DIRECTION.RIGHT:DIRECTION.LEFT}}function IMask(R,F){return new IMask.InputMask(R,F)}function maskedClass(R){if(R==null)throw new Error("mask property should be defined");return R instanceof RegExp?IMask.MaskedRegExp:isString$3(R)?IMask.MaskedPattern:R===Date?IMask.MaskedDate:R===Number?IMask.MaskedNumber:Array.isArray(R)||R===Array?IMask.MaskedDynamic:IMask.Masked&&R.prototype instanceof IMask.Masked?R:IMask.Masked&&R instanceof IMask.Masked?R.constructor:R instanceof Function?IMask.MaskedFunction:(console.warn("Mask not found for mask",R),IMask.Masked)}function normalizeOpts(R){if(!R)throw new Error("Options in not defined");if(IMask.Masked){if(R.prototype instanceof IMask.Masked)return{mask:R};const{mask:F=void 0,...E}=R instanceof IMask.Masked?{mask:R}:isObject$7(R)&&R.mask instanceof IMask.Masked?R:{};if(F){const V=F.mask;return{...pick(F,(U,W)=>!W.startsWith("_")),mask:F.constructor,_mask:V,...E}}}return isObject$7(R)?{...R}:{mask:R}}function createMask(R){if(IMask.Masked&&R instanceof IMask.Masked)return R;const F=normalizeOpts(R),E=maskedClass(F.mask);if(!E)throw new Error("Masked class is not found for provided mask, appropriate module needs to be imported manually before creating mask.");return F.mask===E&&delete F.mask,F._mask&&(F.mask=F._mask,delete F._mask),new E(F)}IMask.createMask=createMask;class MaskElement{get selectionStart(){let F;try{F=this._unsafeSelectionStart}catch{}return F!=null?F:this.value.length}get selectionEnd(){let F;try{F=this._unsafeSelectionEnd}catch{}return F!=null?F:this.value.length}select(F,E){if(!(F==null||E==null||F===this.selectionStart&&E===this.selectionEnd))try{this._unsafeSelect(F,E)}catch{}}get isActive(){return!1}}IMask.MaskElement=MaskElement;class HTMLMaskElement extends MaskElement{constructor(F){super(),this.input=F,this._handlers={}}get rootElement(){var F,E,V;return(F=(E=(V=this.input).getRootNode)==null?void 0:E.call(V))!=null?F:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(F){Object.keys(F).forEach(E=>this._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[E],F[E]))}unbindEvents(){Object.keys(this._handlers).forEach(F=>this._toggleEventHandler(F))}_toggleEventHandler(F,E){this._handlers[F]&&(this.input.removeEventListener(F,this._handlers[F]),delete this._handlers[F]),E&&(this.input.addEventListener(F,E),this._handlers[F]=E)}}HTMLMaskElement.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};IMask.HTMLMaskElement=HTMLMaskElement;class HTMLInputMaskElement extends HTMLMaskElement{constructor(F){super(F),this.input=F,this._handlers={}}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(F,E){this.input.setSelectionRange(F,E)}get value(){return this.input.value}set value(F){this.input.value=F}}IMask.HTMLMaskElement=HTMLMaskElement;class HTMLContenteditableMaskElement extends HTMLMaskElement{get _unsafeSelectionStart(){const F=this.rootElement,E=F.getSelection&&F.getSelection(),V=E&&E.anchorOffset,U=E&&E.focusOffset;return U==null||V==null||V<U?V:U}get _unsafeSelectionEnd(){const F=this.rootElement,E=F.getSelection&&F.getSelection(),V=E&&E.anchorOffset,U=E&&E.focusOffset;return U==null||V==null||V>U?V:U}_unsafeSelect(F,E){if(!this.rootElement.createRange)return;const V=this.rootElement.createRange();V.setStart(this.input.firstChild||this.input,F),V.setEnd(this.input.lastChild||this.input,E);const U=this.rootElement,W=U.getSelection&&U.getSelection();W&&(W.removeAllRanges(),W.addRange(V))}get value(){return this.input.textContent||""}set value(F){this.input.textContent=F}}IMask.HTMLContenteditableMaskElement=HTMLContenteditableMaskElement;class InputMask{constructor(F,E){this.el=F instanceof MaskElement?F:F.isContentEditable&&F.tagName!=="INPUT"&&F.tagName!=="TEXTAREA"?new HTMLContenteditableMaskElement(F):new HTMLInputMaskElement(F),this.masked=createMask(E),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(F){var E;return F==null||((E=this.masked)==null?void 0:E.maskEquals(F))}get mask(){return this.masked.mask}set mask(F){if(this.maskEquals(F))return;if(!(F instanceof IMask.Masked)&&this.masked.constructor===maskedClass(F)){this.masked.updateOptions({mask:F});return}const E=F instanceof IMask.Masked?F:createMask({mask:F});E.unmaskedValue=this.masked.unmaskedValue,this.masked=E}get value(){return this._value}set value(F){this.value!==F&&(this.masked.value=F,this.updateControl(),this.alignCursor())}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(F){this.unmaskedValue!==F&&(this.masked.unmaskedValue=F,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(F){this.masked.typedValueEquals(F)||(this.masked.typedValue=F,this.updateControl(),this.alignCursor())}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(F,E){const V=this._listeners[F];!V||V.forEach(U=>U(E))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(F){!this.el||!this.el.isActive||(this.el.select(F,F),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value}updateControl(){const F=this.masked.unmaskedValue,E=this.masked.value,V=this.displayValue,U=this.unmaskedValue!==F||this.value!==E;this._unmaskedValue=F,this._value=E,this.el.value!==V&&(this.el.value=V),U&&this._fireChangeEvents()}updateOptions(F){const{mask:E,...V}=F,U=!this.maskEquals(E),W=!objectIncludes(this.masked,V);U&&(this.mask=E),W&&this.masked.updateOptions(V),(U||W)&&this.updateControl()}updateCursor(F){F!=null&&(this.cursorPos=F,this._delayUpdateCursor(F))}_delayUpdateCursor(F){this._abortUpdateCursor(),this._changingCursorPos=F,this._cursorChanging=setTimeout(()=>{!this.el||(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,DIRECTION.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(F,E){return this._listeners[F]||(this._listeners[F]=[]),this._listeners[F].push(E),this}off(F,E){if(!this._listeners[F])return this;if(!E)return delete this._listeners[F],this;const V=this._listeners[F].indexOf(E);return V>=0&&this._listeners[F].splice(V,1),this}_onInput(F){if(this._inputEvent=F,this._abortUpdateCursor(),!this._selection)return this.updateValue();const E=new ActionDetails({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),V=this.masked.rawInputValue,U=this.masked.splice(E.startChangePos,E.removed.length,E.inserted,E.removeDirection,{input:!0,raw:!0}).offset,W=V===this.masked.rawInputValue?E.removeDirection:DIRECTION.NONE;let Y=this.masked.nearestInputPos(E.startChangePos+U,W);W!==DIRECTION.NONE&&(Y=this.masked.nearestInputPos(Y,DIRECTION.NONE)),this.updateControl(),this.updateCursor(Y),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(F){F.preventDefault(),F.stopPropagation()}_onFocus(F){this.alignCursorFriendly()}_onClick(F){this.alignCursorFriendly()}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}IMask.InputMask=InputMask;class ChangeDetails{static normalize(F){return Array.isArray(F)?F:[F,new ChangeDetails]}constructor(F){Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},F)}aggregate(F){return this.rawInserted+=F.rawInserted,this.skip=this.skip||F.skip,this.inserted+=F.inserted,this.tailShift+=F.tailShift,this}get offset(){return this.tailShift+this.inserted.length}}IMask.ChangeDetails=ChangeDetails;class ContinuousTailDetails{constructor(F,E,V){F===void 0&&(F=""),E===void 0&&(E=0),this.value=F,this.from=E,this.stop=V}toString(){return this.value}extend(F){this.value+=String(F)}appendTo(F){return F.append(this.toString(),{tail:!0}).aggregate(F._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(F){Object.assign(this,F)}unshift(F){if(!this.value.length||F!=null&&this.from>=F)return"";const E=this.value[0];return this.value=this.value.slice(1),E}shift(){if(!this.value.length)return"";const F=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),F}}class Masked{constructor(F){this._value="",this._update({...Masked.DEFAULTS,...F}),this._initialized=!0}updateOptions(F){!Object.keys(F).length||this.withValueRefresh(this._update.bind(this,F))}_update(F){Object.assign(this,F)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(F){this._value=F._value}reset(){this._value=""}get value(){return this._value}set value(F){this.resolve(F,{input:!0})}resolve(F,E){E===void 0&&(E={input:!0}),this.reset(),this.append(F,E,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(F){this.resolve(F,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(F){this.format?this.value=this.format(F,this):this.unmaskedValue=String(F)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(F){this.resolve(F,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(F,E){return F}totalInputPositions(F,E){return F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length),Math.min(this.displayValue.length,E-F)}extractInput(F,E,V){return F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length),this.displayValue.slice(F,E)}extractTail(F,E){return F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length),new ContinuousTailDetails(this.extractInput(F,E),F)}appendTail(F){return isString$3(F)&&(F=new ContinuousTailDetails(String(F))),F.appendTo(this)}_appendCharRaw(F,E){return F?(this._value+=F,new ChangeDetails({inserted:F,rawInserted:F})):new ChangeDetails}_appendChar(F,E,V){E===void 0&&(E={});const U=this.state;let W;if([F,W]=this.doPrepareChar(F,E),W=W.aggregate(this._appendCharRaw(F,E)),W.inserted){let Y,G=this.doValidate(E)!==!1;if(G&&V!=null){const X=this.state;this.overwrite===!0&&(Y=V.state,V.unshift(this.displayValue.length-W.tailShift));let K=this.appendTail(V);G=K.rawInserted===V.toString(),!(G&&K.inserted)&&this.overwrite==="shift"&&(this.state=X,Y=V.state,V.shift(),K=this.appendTail(V),G=K.rawInserted===V.toString()),G&&K.inserted&&(this.state=X)}G||(W=new ChangeDetails,this.state=U,V&&Y&&(V.state=Y))}return W}_appendPlaceholder(){return new ChangeDetails}_appendEager(){return new ChangeDetails}append(F,E,V){if(!isString$3(F))throw new Error("value should be string");const U=isString$3(V)?new ContinuousTailDetails(String(V)):V;E!=null&&E.tail&&(E._beforeTailState=this.state);let W;[F,W]=this.doPrepare(F,E);for(let Y=0;Y<F.length;++Y){const G=this._appendChar(F[Y],E,U);if(!G.rawInserted&&!this.doSkipInvalid(F[Y],E,U))break;W.aggregate(G)}return(this.eager===!0||this.eager==="append")&&E!=null&&E.input&&F&&W.aggregate(this._appendEager()),U!=null&&(W.tailShift+=this.appendTail(U).tailShift),W}remove(F,E){return F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length),this._value=this.displayValue.slice(0,F)+this.displayValue.slice(E),new ChangeDetails}withValueRefresh(F){if(this._refreshing||!this._initialized)return F();this._refreshing=!0;const E=this.rawInputValue,V=this.value,U=F();return this.rawInputValue=E,this.value&&this.value!==V&&V.indexOf(this.value)===0&&this.append(V.slice(this.displayValue.length),{},""),delete this._refreshing,U}runIsolated(F){if(this._isolated||!this._initialized)return F(this);this._isolated=!0;const E=this.state,V=F(this);return this.state=E,delete this._isolated,V}doSkipInvalid(F,E,V){return Boolean(this.skipInvalid)}doPrepare(F,E){return E===void 0&&(E={}),ChangeDetails.normalize(this.prepare?this.prepare(F,this,E):F)}doPrepareChar(F,E){return E===void 0&&(E={}),ChangeDetails.normalize(this.prepareChar?this.prepareChar(F,this,E):F)}doValidate(F){return(!this.validate||this.validate(this.value,this,F))&&(!this.parent||this.parent.doValidate(F))}doCommit(){this.commit&&this.commit(this.value,this)}splice(F,E,V,U,W){U===void 0&&(U=DIRECTION.NONE),W===void 0&&(W={input:!0});const Y=F+E,G=this.extractTail(Y),X=this.eager===!0||this.eager==="remove";let K;X&&(U=forceDirection(U),K=this.extractInput(0,Y,{raw:!0}));let Z=F;const J=new ChangeDetails;if(U!==DIRECTION.NONE&&(Z=this.nearestInputPos(F,E>1&&F!==0&&!X?DIRECTION.NONE:U),J.tailShift=Z-F),J.aggregate(this.remove(Z)),X&&U!==DIRECTION.NONE&&K===this.rawInputValue)if(U===DIRECTION.FORCE_LEFT){let Q;for(;K===this.rawInputValue&&(Q=this.displayValue.length);)J.aggregate(new ChangeDetails({tailShift:-1})).aggregate(this.remove(Q-1))}else U===DIRECTION.FORCE_RIGHT&&G.unshift();return J.aggregate(this.append(V,W,G))}maskEquals(F){return this.mask===F}typedValueEquals(F){const E=this.typedValue;return F===E||Masked.EMPTY_VALUES.includes(F)&&Masked.EMPTY_VALUES.includes(E)||(this.format?this.format(F,this)===this.format(this.typedValue,this):!1)}}Masked.DEFAULTS={skipInvalid:!0};Masked.EMPTY_VALUES=[void 0,null,""];IMask.Masked=Masked;class ChunksTailDetails{constructor(F,E){F===void 0&&(F=[]),E===void 0&&(E=0),this.chunks=F,this.from=E}toString(){return this.chunks.map(String).join("")}extend(F){if(!String(F))return;F=isString$3(F)?new ContinuousTailDetails(String(F)):F;const E=this.chunks[this.chunks.length-1],V=E&&(E.stop===F.stop||F.stop==null)&&F.from===E.from+E.toString().length;if(F instanceof ContinuousTailDetails)V?E.extend(F.toString()):this.chunks.push(F);else if(F instanceof ChunksTailDetails){if(F.stop==null){let U;for(;F.chunks.length&&F.chunks[0].stop==null;)U=F.chunks.shift(),U.from+=F.from,this.extend(U)}F.toString()&&(F.stop=F.blockIndex,this.chunks.push(F))}}appendTo(F){if(!(F instanceof IMask.MaskedPattern))return new ContinuousTailDetails(this.toString()).appendTo(F);const E=new ChangeDetails;for(let V=0;V<this.chunks.length&&!E.skip;++V){const U=this.chunks[V],W=F._mapPosToBlock(F.displayValue.length),Y=U.stop;let G;if(Y!=null&&(!W||W.index<=Y)){if(U instanceof ChunksTailDetails||F._stops.indexOf(Y)>=0){const X=F._appendPlaceholder(Y);E.aggregate(X)}G=U instanceof ChunksTailDetails&&F._blocks[Y]}if(G){const X=G.appendTail(U);X.skip=!1,E.aggregate(X),F._value+=X.inserted;const K=U.toString().slice(X.rawInserted.length);K&&E.aggregate(F.append(K,{tail:!0}))}else E.aggregate(F.append(U.toString(),{tail:!0}))}return E}get state(){return{chunks:this.chunks.map(F=>F.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(F){const{chunks:E,...V}=F;Object.assign(this,V),this.chunks=E.map(U=>{const W="chunks"in U?new ChunksTailDetails:new ContinuousTailDetails;return W.state=U,W})}unshift(F){if(!this.chunks.length||F!=null&&this.from>=F)return"";const E=F!=null?F-this.from:F;let V=0;for(;V<this.chunks.length;){const U=this.chunks[V],W=U.unshift(E);if(U.toString()){if(!W)break;++V}else this.chunks.splice(V,1);if(W)return W}return""}shift(){if(!this.chunks.length)return"";let F=this.chunks.length-1;for(;0<=F;){const E=this.chunks[F],V=E.shift();if(E.toString()){if(!V)break;--F}else this.chunks.splice(F,1);if(V)return V}return""}}class PatternCursor{constructor(F,E){this.masked=F,this._log=[];const{offset:V,index:U}=F._mapPosToBlock(E)||(E<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=V,this.index=U,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(F){Object.assign(this,F)}pushState(){this._log.push(this.state)}popState(){const F=this._log.pop();return F&&(this.state=F),F}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(F){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((E=this.block)==null?void 0:E.displayValue.length)||0){var E;if(F())return this.ok=!0}return this.ok=!1}_pushRight(F){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(F())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,DIRECTION.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,DIRECTION.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.NONE),!0})}}class PatternFixedDefinition{constructor(F){Object.assign(this,F),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(F,E){return F===void 0&&(F=0),E===void 0&&(E=this._value.length),this._value=this._value.slice(0,F)+this._value.slice(E),this._value||(this._isRawInput=!1),new ChangeDetails}nearestInputPos(F,E){E===void 0&&(E=DIRECTION.NONE);const V=0,U=this._value.length;switch(E){case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:return V;case DIRECTION.NONE:case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:default:return U}}totalInputPositions(F,E){return F===void 0&&(F=0),E===void 0&&(E=this._value.length),this._isRawInput?E-F:0}extractInput(F,E,V){return F===void 0&&(F=0),E===void 0&&(E=this._value.length),V===void 0&&(V={}),V.raw&&this._isRawInput&&this._value.slice(F,E)||""}get isComplete(){return!0}get isFilled(){return Boolean(this._value)}_appendChar(F,E){E===void 0&&(E={});const V=new ChangeDetails;if(this.isFilled)return V;const U=this.eager===!0||this.eager==="append",Y=this.char===F&&(this.isUnmasking||E.input||E.raw)&&(!E.raw||!U)&&!E.tail;return Y&&(V.rawInserted=this.char),this._value=V.inserted=this.char,this._isRawInput=Y&&(E.raw||E.input),V}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const F=new ChangeDetails;return this.isFilled||(this._value=F.inserted=this.char),F}extractTail(){return new ContinuousTailDetails("")}appendTail(F){return isString$3(F)&&(F=new ContinuousTailDetails(String(F))),F.appendTo(this)}append(F,E,V){const U=this._appendChar(F[0],E);return V!=null&&(U.tailShift+=this.appendTail(V).tailShift),U}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(F){this._value=F._value,this._isRawInput=Boolean(F._rawInputValue)}}class PatternInputDefinition{constructor(F){const{parent:E,isOptional:V,placeholderChar:U,displayChar:W,lazy:Y,eager:G,...X}=F;this.masked=createMask(X),Object.assign(this,{parent:E,isOptional:V,placeholderChar:U,displayChar:W,lazy:Y,eager:G})}reset(){this.isFilled=!1,this.masked.reset()}remove(F,E){return F===void 0&&(F=0),E===void 0&&(E=this.value.length),F===0&&E>=1?(this.isFilled=!1,this.masked.remove(F,E)):new ChangeDetails}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return Boolean(this.masked.value)||this.isOptional}_appendChar(F,E){if(E===void 0&&(E={}),this.isFilled)return new ChangeDetails;const V=this.masked.state,U=this.masked._appendChar(F,this.currentMaskFlags(E));return U.inserted&&this.doValidate(E)===!1&&(U.inserted=U.rawInserted="",this.masked.state=V),!U.inserted&&!this.isOptional&&!this.lazy&&!E.input&&(U.inserted=this.placeholderChar),U.skip=!U.inserted&&!this.isOptional,this.isFilled=Boolean(U.inserted),U}append(F,E,V){return this.masked.append(F,this.currentMaskFlags(E),V)}_appendPlaceholder(){const F=new ChangeDetails;return this.isFilled||this.isOptional||(this.isFilled=!0,F.inserted=this.placeholderChar),F}_appendEager(){return new ChangeDetails}extractTail(F,E){return this.masked.extractTail(F,E)}appendTail(F){return this.masked.appendTail(F)}extractInput(F,E,V){return F===void 0&&(F=0),E===void 0&&(E=this.value.length),this.masked.extractInput(F,E,V)}nearestInputPos(F,E){E===void 0&&(E=DIRECTION.NONE);const V=0,U=this.value.length,W=Math.min(Math.max(F,V),U);switch(E){case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:return this.isComplete?W:V;case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:return this.isComplete?W:U;case DIRECTION.NONE:default:return W}}totalInputPositions(F,E){return F===void 0&&(F=0),E===void 0&&(E=this.value.length),this.value.slice(F,E).length}doValidate(F){return this.masked.doValidate(this.currentMaskFlags(F))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(F)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(F){this.masked.state=F.masked,this.isFilled=F.isFilled}currentMaskFlags(F){var E;return{...F,_beforeTailState:(F==null||(E=F._beforeTailState)==null?void 0:E.masked)||(F==null?void 0:F._beforeTailState)}}}PatternInputDefinition.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class MaskedRegExp extends Masked{updateOptions(F){super.updateOptions(F)}_update(F){const E=F.mask;E&&(F.validate=V=>V.search(E)>=0),super._update(F)}}IMask.MaskedRegExp=MaskedRegExp;class MaskedPattern extends Masked{constructor(F){super({...MaskedPattern.DEFAULTS,...F,definitions:Object.assign({},PatternInputDefinition.DEFAULT_DEFINITIONS,F==null?void 0:F.definitions)})}updateOptions(F){super.updateOptions(F)}_update(F){F.definitions=Object.assign({},this.definitions,F.definitions),super._update(F),this._rebuildMask()}_rebuildMask(){const F=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const E=this.mask;if(!E||!F)return;let V=!1,U=!1;for(let W=0;W<E.length;++W){if(this.blocks){const K=E.slice(W),Z=Object.keys(this.blocks).filter(Q=>K.indexOf(Q)===0);Z.sort((Q,ee)=>ee.length-Q.length);const J=Z[0];if(J){const{expose:Q,...ee}=normalizeOpts(this.blocks[J]),te=createMask({lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,...ee,parent:this});te&&(this._blocks.push(te),Q&&(this.exposeBlock=te),this._maskedBlocks[J]||(this._maskedBlocks[J]=[]),this._maskedBlocks[J].push(this._blocks.length-1)),W+=J.length-1;continue}}let Y=E[W],G=Y in F;if(Y===MaskedPattern.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(Y==="{"||Y==="}"){V=!V;continue}if(Y==="["||Y==="]"){U=!U;continue}if(Y===MaskedPattern.ESCAPE_CHAR){if(++W,Y=E[W],!Y)break;G=!1}const X=G?new PatternInputDefinition({isOptional:U,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...normalizeOpts(F[Y]),parent:this}):new PatternFixedDefinition({char:Y,eager:this.eager,isUnmasking:V});this._blocks.push(X)}}get state(){return{...super.state,_blocks:this._blocks.map(F=>F.state)}}set state(F){const{_blocks:E,...V}=F;this._blocks.forEach((U,W)=>U.state=E[W]),super.state=V}reset(){super.reset(),this._blocks.forEach(F=>F.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(F=>F.isComplete)}get isFilled(){return this._blocks.every(F=>F.isFilled)}get isFixed(){return this._blocks.every(F=>F.isFixed)}get isOptional(){return this._blocks.every(F=>F.isOptional)}doCommit(){this._blocks.forEach(F=>F.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((F,E)=>F+=E.unmaskedValue,"")}set unmaskedValue(F){if(this.exposeBlock){const E=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=F,this.appendTail(E),this.doCommit()}else super.unmaskedValue=F}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((F,E)=>F+=E.value,"")}set value(F){if(this.exposeBlock){const E=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=F,this.appendTail(E),this.doCommit()}else super.value=F}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(F){if(this.exposeBlock){const E=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=F,this.appendTail(E),this.doCommit()}else super.typedValue=F}get displayValue(){return this._blocks.reduce((F,E)=>F+=E.displayValue,"")}appendTail(F){return super.appendTail(F).aggregate(this._appendPlaceholder())}_appendEager(){var F;const E=new ChangeDetails;let V=(F=this._mapPosToBlock(this.displayValue.length))==null?void 0:F.index;if(V==null)return E;this._blocks[V].isFilled&&++V;for(let U=V;U<this._blocks.length;++U){const W=this._blocks[U]._appendEager();if(!W.inserted)break;E.aggregate(W)}return E}_appendCharRaw(F,E){E===void 0&&(E={});const V=this._mapPosToBlock(this.displayValue.length),U=new ChangeDetails;if(!V)return U;for(let Y=V.index;;++Y){var W;const G=this._blocks[Y];if(!G)break;const X=G._appendChar(F,{...E,_beforeTailState:(W=E._beforeTailState)==null||(W=W._blocks)==null?void 0:W[Y]}),K=X.skip;if(U.aggregate(X),K||X.rawInserted)break}return U}extractTail(F,E){F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length);const V=new ChunksTailDetails;return F===E||this._forEachBlocksInRange(F,E,(U,W,Y,G)=>{const X=U.extractTail(Y,G);X.stop=this._findStopBefore(W),X.from=this._blockStartPos(W),X instanceof ChunksTailDetails&&(X.blockIndex=W),V.extend(X)}),V}extractInput(F,E,V){if(F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length),V===void 0&&(V={}),F===E)return"";let U="";return this._forEachBlocksInRange(F,E,(W,Y,G,X)=>{U+=W.extractInput(G,X,V)}),U}_findStopBefore(F){let E;for(let V=0;V<this._stops.length;++V){const U=this._stops[V];if(U<=F)E=U;else break}return E}_appendPlaceholder(F){const E=new ChangeDetails;if(this.lazy&&F==null)return E;const V=this._mapPosToBlock(this.displayValue.length);if(!V)return E;const U=V.index,W=F!=null?F:this._blocks.length;return this._blocks.slice(U,W).forEach(Y=>{if(!Y.lazy||F!=null){var G;const X=Y._appendPlaceholder((G=Y._blocks)==null?void 0:G.length);this._value+=X.inserted,E.aggregate(X)}}),E}_mapPosToBlock(F){let E="";for(let V=0;V<this._blocks.length;++V){const U=this._blocks[V],W=E.length;if(E+=U.displayValue,F<=E.length)return{index:V,offset:F-W}}}_blockStartPos(F){return this._blocks.slice(0,F).reduce((E,V)=>E+=V.displayValue.length,0)}_forEachBlocksInRange(F,E,V){E===void 0&&(E=this.displayValue.length);const U=this._mapPosToBlock(F);if(U){const W=this._mapPosToBlock(E),Y=W&&U.index===W.index,G=U.offset,X=W&&Y?W.offset:this._blocks[U.index].displayValue.length;if(V(this._blocks[U.index],U.index,G,X),W&&!Y){for(let K=U.index+1;K<W.index;++K)V(this._blocks[K],K,0,this._blocks[K].displayValue.length);V(this._blocks[W.index],W.index,0,W.offset)}}}remove(F,E){F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length);const V=super.remove(F,E);return this._forEachBlocksInRange(F,E,(U,W,Y,G)=>{V.aggregate(U.remove(Y,G))}),V}nearestInputPos(F,E){if(E===void 0&&(E=DIRECTION.NONE),!this._blocks.length)return 0;const V=new PatternCursor(this,F);if(E===DIRECTION.NONE)return V.pushRightBeforeInput()||(V.popState(),V.pushLeftBeforeInput())?V.pos:this.displayValue.length;if(E===DIRECTION.LEFT||E===DIRECTION.FORCE_LEFT){if(E===DIRECTION.LEFT){if(V.pushRightBeforeFilled(),V.ok&&V.pos===F)return F;V.popState()}if(V.pushLeftBeforeInput(),V.pushLeftBeforeRequired(),V.pushLeftBeforeFilled(),E===DIRECTION.LEFT){if(V.pushRightBeforeInput(),V.pushRightBeforeRequired(),V.ok&&V.pos<=F||(V.popState(),V.ok&&V.pos<=F))return V.pos;V.popState()}return V.ok?V.pos:E===DIRECTION.FORCE_LEFT?0:(V.popState(),V.ok||(V.popState(),V.ok)?V.pos:0)}return E===DIRECTION.RIGHT||E===DIRECTION.FORCE_RIGHT?(V.pushRightBeforeInput(),V.pushRightBeforeRequired(),V.pushRightBeforeFilled()?V.pos:E===DIRECTION.FORCE_RIGHT?this.displayValue.length:(V.popState(),V.ok||(V.popState(),V.ok)?V.pos:this.nearestInputPos(F,DIRECTION.LEFT))):F}totalInputPositions(F,E){F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length);let V=0;return this._forEachBlocksInRange(F,E,(U,W,Y,G)=>{V+=U.totalInputPositions(Y,G)}),V}maskedBlock(F){return this.maskedBlocks(F)[0]}maskedBlocks(F){const E=this._maskedBlocks[F];return E?E.map(V=>this._blocks[V]):[]}}MaskedPattern.DEFAULTS={lazy:!0,placeholderChar:"_"};MaskedPattern.STOP_CHAR="`";MaskedPattern.ESCAPE_CHAR="\\";MaskedPattern.InputDefinition=PatternInputDefinition;MaskedPattern.FixedDefinition=PatternFixedDefinition;IMask.MaskedPattern=MaskedPattern;class MaskedRange extends MaskedPattern{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(F){super(F)}updateOptions(F){super.updateOptions(F)}_update(F){const{to:E=this.to||0,from:V=this.from||0,maxLength:U=this.maxLength||0,autofix:W=this.autofix,...Y}=F;this.to=E,this.from=V,this.maxLength=Math.max(String(E).length,U),this.autofix=W;const G=String(this.from).padStart(this.maxLength,"0"),X=String(this.to).padStart(this.maxLength,"0");let K=0;for(;K<X.length&&X[K]===G[K];)++K;Y.mask=X.slice(0,K).replace(/0/g,"\\0")+"0".repeat(this.maxLength-K),super._update(Y)}get isComplete(){return super.isComplete&&Boolean(this.value)}boundaries(F){let E="",V="";const[,U,W]=F.match(/^(\D*)(\d*)(\D*)/)||[];return W&&(E="0".repeat(U.length)+W,V="9".repeat(U.length)+W),E=E.padEnd(this.maxLength,"0"),V=V.padEnd(this.maxLength,"9"),[E,V]}doPrepareChar(F,E){E===void 0&&(E={});let V;if([F,V]=super.doPrepareChar(F.replace(/\D/g,""),E),!this.autofix||!F)return[F,V];const U=String(this.from).padStart(this.maxLength,"0"),W=String(this.to).padStart(this.maxLength,"0"),Y=this.value+F;if(Y.length>this.maxLength)return["",V];const[G,X]=this.boundaries(Y);return Number(X)<this.from?[U[Y.length-1],V]:Number(G)>this.to?this.autofix==="pad"&&Y.length<this.maxLength?["",V.aggregate(this.append(U[Y.length-1]+F,E))]:[W[Y.length-1],V]:[F,V]}doValidate(F){const E=this.value;if(E.search(/[^0]/)===-1&&E.length<=this._matchFrom)return!0;const[U,W]=this.boundaries(E);return this.from<=Number(W)&&Number(U)<=this.to&&super.doValidate(F)}}IMask.MaskedRange=MaskedRange;class MaskedDate extends MaskedPattern{constructor(F){const{mask:E,pattern:V,...U}={...MaskedDate.DEFAULTS,...F};super({...U,mask:isString$3(E)?E:V})}updateOptions(F){super.updateOptions(F)}_update(F){const{mask:E,pattern:V,blocks:U,...W}={...MaskedDate.DEFAULTS,...F},Y=Object.assign({},MaskedDate.GET_DEFAULT_BLOCKS());F.min&&(Y.Y.from=F.min.getFullYear()),F.max&&(Y.Y.to=F.max.getFullYear()),F.min&&F.max&&Y.Y.from===Y.Y.to&&(Y.m.from=F.min.getMonth()+1,Y.m.to=F.max.getMonth()+1,Y.m.from===Y.m.to&&(Y.d.from=F.min.getDate(),Y.d.to=F.max.getDate())),Object.assign(Y,this.blocks,U),Object.keys(Y).forEach(G=>{const X=Y[G];!("autofix"in X)&&"autofix"in F&&(X.autofix=F.autofix)}),super._update({...W,mask:isString$3(E)?E:V,blocks:Y})}doValidate(F){const E=this.date;return super.doValidate(F)&&(!this.isComplete||this.isDateExist(this.value)&&E!=null&&(this.min==null||this.min<=E)&&(this.max==null||E<=this.max))}isDateExist(F){return this.format(this.parse(F,this),this).indexOf(F)>=0}get date(){return this.typedValue}set date(F){this.typedValue=F}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(F){super.typedValue=F}maskEquals(F){return F===Date||super.maskEquals(F)}}MaskedDate.GET_DEFAULT_BLOCKS=()=>({d:{mask:MaskedRange,from:1,to:31,maxLength:2},m:{mask:MaskedRange,from:1,to:12,maxLength:2},Y:{mask:MaskedRange,from:1900,to:9999}});MaskedDate.DEFAULTS={mask:Date,pattern:"d{.}`m{.}`Y",format:(R,F)=>{if(!R)return"";const E=String(R.getDate()).padStart(2,"0"),V=String(R.getMonth()+1).padStart(2,"0"),U=R.getFullYear();return[E,V,U].join(".")},parse:(R,F)=>{const[E,V,U]=R.split(".").map(Number);return new Date(U,V-1,E)}};IMask.MaskedDate=MaskedDate;class MaskedDynamic extends Masked{constructor(F){super({...MaskedDynamic.DEFAULTS,...F}),this.currentMask=void 0}updateOptions(F){super.updateOptions(F)}_update(F){super._update(F),"mask"in F&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(F.mask)?F.mask.map(E=>{const{expose:V,...U}=normalizeOpts(E),W=createMask({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...U});return V&&(this.exposeMask=W),W}):[])}_appendCharRaw(F,E){E===void 0&&(E={});const V=this._applyDispatch(F,E);return this.currentMask&&V.aggregate(this.currentMask._appendChar(F,this.currentMaskFlags(E))),V}_applyDispatch(F,E,V){F===void 0&&(F=""),E===void 0&&(E={}),V===void 0&&(V="");const U=E.tail&&E._beforeTailState!=null?E._beforeTailState._value:this.value,W=this.rawInputValue,Y=E.tail&&E._beforeTailState!=null?E._beforeTailState._rawInputValue:W,G=W.slice(Y.length),X=this.currentMask,K=new ChangeDetails,Z=X==null?void 0:X.state;if(this.currentMask=this.doDispatch(F,{...E},V),this.currentMask)if(this.currentMask!==X){if(this.currentMask.reset(),Y){const J=this.currentMask.append(Y,{raw:!0});K.tailShift=J.inserted.length-U.length}G&&(K.tailShift+=this.currentMask.append(G,{raw:!0,tail:!0}).tailShift)}else Z&&(this.currentMask.state=Z);return K}_appendPlaceholder(){const F=this._applyDispatch();return this.currentMask&&F.aggregate(this.currentMask._appendPlaceholder()),F}_appendEager(){const F=this._applyDispatch();return this.currentMask&&F.aggregate(this.currentMask._appendEager()),F}appendTail(F){const E=new ChangeDetails;return F&&E.aggregate(this._applyDispatch("",{},F)),E.aggregate(this.currentMask?this.currentMask.appendTail(F):super.appendTail(F))}currentMaskFlags(F){var E,V;return{...F,_beforeTailState:((E=F._beforeTailState)==null?void 0:E.currentMaskRef)===this.currentMask&&((V=F._beforeTailState)==null?void 0:V.currentMask)||F._beforeTailState}}doDispatch(F,E,V){return E===void 0&&(E={}),V===void 0&&(V=""),this.dispatch(F,this,E,V)}doValidate(F){return super.doValidate(F)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(F)))}doPrepare(F,E){E===void 0&&(E={});let[V,U]=super.doPrepare(F,E);if(this.currentMask){let W;[V,W]=super.doPrepare(V,this.currentMaskFlags(E)),U=U.aggregate(W)}return[V,U]}doPrepareChar(F,E){E===void 0&&(E={});let[V,U]=super.doPrepareChar(F,E);if(this.currentMask){let W;[V,W]=super.doPrepareChar(V,this.currentMaskFlags(E)),U=U.aggregate(W)}return[V,U]}reset(){var F;(F=this.currentMask)==null||F.reset(),this.compiledMasks.forEach(E=>E.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(F){this.exposeMask?(this.exposeMask.value=F,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=F}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(F){this.exposeMask?(this.exposeMask.unmaskedValue=F,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=F}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(F){if(this.exposeMask){this.exposeMask.typedValue=F,this.currentMask=this.exposeMask,this._applyDispatch();return}let E=String(F);this.currentMask&&(this.currentMask.typedValue=F,E=this.currentMask.unmaskedValue),this.unmaskedValue=E}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var F;return Boolean((F=this.currentMask)==null?void 0:F.isComplete)}get isFilled(){var F;return Boolean((F=this.currentMask)==null?void 0:F.isFilled)}remove(F,E){const V=new ChangeDetails;return this.currentMask&&V.aggregate(this.currentMask.remove(F,E)).aggregate(this._applyDispatch()),V}get state(){var F;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(E=>E.state),currentMaskRef:this.currentMask,currentMask:(F=this.currentMask)==null?void 0:F.state}}set state(F){const{compiledMasks:E,currentMaskRef:V,currentMask:U,...W}=F;E&&this.compiledMasks.forEach((Y,G)=>Y.state=E[G]),V!=null&&(this.currentMask=V,this.currentMask.state=U),super.state=W}extractInput(F,E,V){return this.currentMask?this.currentMask.extractInput(F,E,V):""}extractTail(F,E){return this.currentMask?this.currentMask.extractTail(F,E):super.extractTail(F,E)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(F,E){return this.currentMask?this.currentMask.nearestInputPos(F,E):super.nearestInputPos(F,E)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(F){this._overwrite=F}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(F){this._eager=F}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(F){this._skipInvalid=F}maskEquals(F){return Array.isArray(F)?this.compiledMasks.every((E,V)=>{if(!F[V])return;const{mask:U,...W}=F[V];return objectIncludes(E,W)&&E.maskEquals(U)}):super.maskEquals(F)}typedValueEquals(F){var E;return Boolean((E=this.currentMask)==null?void 0:E.typedValueEquals(F))}}MaskedDynamic.DEFAULTS=void 0;MaskedDynamic.DEFAULTS={dispatch:(R,F,E,V)=>{if(!F.compiledMasks.length)return;const U=F.rawInputValue,W=F.compiledMasks.map((Y,G)=>{const X=F.currentMask===Y,K=X?Y.displayValue.length:Y.nearestInputPos(Y.displayValue.length,DIRECTION.FORCE_LEFT);return Y.rawInputValue!==U?(Y.reset(),Y.append(U,{raw:!0})):X||Y.remove(K),Y.append(R,F.currentMaskFlags(E)),Y.appendTail(V),{index:G,weight:Y.rawInputValue.length,totalInputPositions:Y.totalInputPositions(0,Math.max(K,Y.nearestInputPos(Y.displayValue.length,DIRECTION.FORCE_LEFT)))}});return W.sort((Y,G)=>G.weight-Y.weight||G.totalInputPositions-Y.totalInputPositions),F.compiledMasks[W[0].index]}};IMask.MaskedDynamic=MaskedDynamic;class MaskedEnum extends MaskedPattern{constructor(F){super(F)}updateOptions(F){super.updateOptions(F)}_update(F){const{enum:E,...V}=F;if(E){const U=E.map(G=>G.length),W=Math.min(...U),Y=Math.max(...U)-W;V.mask="*".repeat(W),Y&&(V.mask+="["+"*".repeat(Y)+"]"),this.enum=E}super._update(V)}doValidate(F){return this.enum.some(E=>E.indexOf(this.unmaskedValue)===0)&&super.doValidate(F)}}IMask.MaskedEnum=MaskedEnum;class MaskedFunction extends Masked{updateOptions(F){super.updateOptions(F)}_update(F){super._update({...F,validate:F.mask})}}IMask.MaskedFunction=MaskedFunction;class MaskedNumber extends Masked{constructor(F){super({...MaskedNumber.DEFAULTS,...F})}updateOptions(F){super.updateOptions(F)}_update(F){super._update(F),this._updateRegExps()}_updateRegExps(){const F="^"+(this.allowNegative?"[+|\\-]?":""),E="\\d*",V=(this.scale?"("+escapeRegExp(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(F+E+V),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(escapeRegExp).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(escapeRegExp(this.thousandsSeparator),"g")}_removeThousandsSeparators(F){return F.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(F){const E=F.split(this.radix);return E[0]=E[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),E.join(this.radix)}doPrepareChar(F,E){E===void 0&&(E={});const[V,U]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(E.input&&E.raw||!E.input&&!E.raw)?F.replace(this._mapToRadixRegExp,this.radix):F),E);return F&&!V&&(U.skip=!0),V&&!this.allowPositive&&!this.value&&V!=="-"&&U.aggregate(this._appendChar("-")),[V,U]}_separatorsCount(F,E){E===void 0&&(E=!1);let V=0;for(let U=0;U<F;++U)this._value.indexOf(this.thousandsSeparator,U)===U&&(++V,E&&(F+=this.thousandsSeparator.length));return V}_separatorsCountFromSlice(F){return F===void 0&&(F=this._value),this._separatorsCount(this._removeThousandsSeparators(F).length,!0)}extractInput(F,E,V){return F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length),[F,E]=this._adjustRangeWithSeparators(F,E),this._removeThousandsSeparators(super.extractInput(F,E,V))}_appendCharRaw(F,E){if(E===void 0&&(E={}),!this.thousandsSeparator)return super._appendCharRaw(F,E);const V=E.tail&&E._beforeTailState?E._beforeTailState._value:this._value,U=this._separatorsCountFromSlice(V);this._value=this._removeThousandsSeparators(this.value);const W=super._appendCharRaw(F,E);this._value=this._insertThousandsSeparators(this._value);const Y=E.tail&&E._beforeTailState?E._beforeTailState._value:this._value,G=this._separatorsCountFromSlice(Y);return W.tailShift+=(G-U)*this.thousandsSeparator.length,W.skip=!W.rawInserted&&F===this.thousandsSeparator,W}_findSeparatorAround(F){if(this.thousandsSeparator){const E=F-this.thousandsSeparator.length+1,V=this.value.indexOf(this.thousandsSeparator,E);if(V<=F)return V}return-1}_adjustRangeWithSeparators(F,E){const V=this._findSeparatorAround(F);V>=0&&(F=V);const U=this._findSeparatorAround(E);return U>=0&&(E=U+this.thousandsSeparator.length),[F,E]}remove(F,E){F===void 0&&(F=0),E===void 0&&(E=this.displayValue.length),[F,E]=this._adjustRangeWithSeparators(F,E);const V=this.value.slice(0,F),U=this.value.slice(E),W=this._separatorsCount(V.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(V+U));const Y=this._separatorsCountFromSlice(V);return new ChangeDetails({tailShift:(Y-W)*this.thousandsSeparator.length})}nearestInputPos(F,E){if(!this.thousandsSeparator)return F;switch(E){case DIRECTION.NONE:case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:{const V=this._findSeparatorAround(F-1);if(V>=0){const U=V+this.thousandsSeparator.length;if(F<U||this.value.length<=U||E===DIRECTION.FORCE_LEFT)return V}break}case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:{const V=this._findSeparatorAround(F);if(V>=0)return V+this.thousandsSeparator.length}}return F}doValidate(F){let E=Boolean(this._removeThousandsSeparators(this.value).match(this._numberRegExp));if(E){const V=this.number;E=E&&!isNaN(V)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return E&&super.doValidate(F)}doCommit(){if(this.value){const F=this.number;let E=F;this.min!=null&&(E=Math.max(E,this.min)),this.max!=null&&(E=Math.min(E,this.max)),E!==F&&(this.unmaskedValue=this.format(E,this));let V=this.value;this.normalizeZeros&&(V=this._normalizeZeros(V)),this.padFractionalZeros&&this.scale>0&&(V=this._padFractionalZeros(V)),this._value=V}super.doCommit()}_normalizeZeros(F){const E=this._removeThousandsSeparators(F).split(this.radix);return E[0]=E[0].replace(/^(\D*)(0*)(\d*)/,(V,U,W,Y)=>U+Y),F.length&&!/\d$/.test(E[0])&&(E[0]=E[0]+"0"),E.length>1&&(E[1]=E[1].replace(/0*$/,""),E[1].length||(E.length=1)),this._insertThousandsSeparators(E.join(this.radix))}_padFractionalZeros(F){if(!F)return F;const E=F.split(this.radix);return E.length<2&&E.push(""),E[1]=E[1].padEnd(this.scale,"0"),E.join(this.radix)}doSkipInvalid(F,E,V){E===void 0&&(E={});const U=this.scale===0&&F!==this.thousandsSeparator&&(F===this.radix||F===MaskedNumber.UNMASKED_RADIX||this.mapToRadix.includes(F));return super.doSkipInvalid(F,E,V)&&!U}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,MaskedNumber.UNMASKED_RADIX)}set unmaskedValue(F){super.unmaskedValue=F}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(F){this.rawInputValue=this.format(F,this).replace(MaskedNumber.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(F){this.typedValue=F}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(F){return(super.typedValueEquals(F)||MaskedNumber.EMPTY_VALUES.includes(F)&&MaskedNumber.EMPTY_VALUES.includes(this.typedValue))&&!(F===0&&this.value==="")}}MaskedNumber.UNMASKED_RADIX=".";MaskedNumber.EMPTY_VALUES=[...Masked.EMPTY_VALUES,0];MaskedNumber.DEFAULTS={mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[MaskedNumber.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:R=>R.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};IMask.MaskedNumber=MaskedNumber;const PIPE_TYPE={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function createPipe(R,F,E){F===void 0&&(F=PIPE_TYPE.MASKED),E===void 0&&(E=PIPE_TYPE.MASKED);const V=createMask(R);return U=>V.runIsolated(W=>(W[F]=U,W[E]))}function pipe(R,F,E,V){return createPipe(F,E,V)(R)}IMask.PIPE_TYPE=PIPE_TYPE;IMask.createPipe=createPipe;IMask.pipe=pipe;try{globalThis.IMask=IMask}catch{}var props={mask:void 0,prepare:Function,prepareChar:Function,validate:Function,commit:Function,overwrite:{type:Boolean,required:!1,default:void 0},eager:{required:!1,default:void 0,validator:R=>["append","remove"].includes(R)||typeof R=="boolean"},skipInvalid:{type:Boolean,required:!1,default:void 0},placeholderChar:String,displayChar:String,lazy:{type:Boolean,required:!1,default:void 0},definitions:Object,blocks:Object,enum:Array,maxLength:Number,from:Number,to:Number,pattern:String,format:Function,parse:Function,autofix:{required:!1,default:void 0,validator:R=>R==="pad"||typeof R=="boolean"},radix:String,thousandsSeparator:String,mapToRadix:Array,scale:Number,normalizeZeros:{type:Boolean,required:!1,default:void 0},padFractionalZeros:{type:Boolean,required:!1,default:void 0},min:[Number,Date],max:[Number,Date],dispatch:Function};function extractOptionsFromProps(R,F){return R={...R},Object.keys(R).forEach(E=>{(R[E]===void 0||F.includes(E))&&delete R[E]}),R}var Component2=Vue2==null?void 0:Vue2.extend({name:"imask-input",data(){return{}},render(R){const F={domProps:{value:this.maskRef?this.maskRef.value:this.value},on:{...this.$listeners}};return this.$props.mask?delete F.on.input:F.on.input=E=>this.$emit("input",E.target.value),R("input",F)},mounted(){!this.$props.mask||this._initMask()},destroyed(){this._destroyMask()},computed:{maskOptions(){return extractOptionsFromProps(this.$props,["value","unmask"])}},watch:{$props:{handler(R){const F=this.maskOptions;F.mask?this.maskRef?(this.maskRef.updateOptions(F),"value"in R&&this._updateValue()):(this._initMask(F),R.value!==this._maskValue()&&this._onAccept()):(this._destroyMask(),"value"in R&&(this.$el.value=R.value))},deep:!0}},methods:{_maskValue(){var R,F,E;return this.unmask==="typed"?(R=this.maskRef)==null?void 0:R.typedValue:this.unmask?(F=this.maskRef)==null?void 0:F.unmaskedValue:(E=this.maskRef)==null?void 0:E.value},_updateValue(){if(!this.maskRef)return;const R=this.value==null&&this.unmask!=="typed"?"":this.value;this.unmask==="typed"?this.maskRef.typedValue=R:this.unmask?this.maskRef.unmaskedValue=R:this.maskRef.value=R},_onAccept(){const R=this._maskValue();this.$emit("input",R),this.$emit("accept",R)},_onComplete(){this.$emit("complete",this._maskValue())},_initMask(R){R||(R=this.maskOptions),this.maskRef=IMask(this.$el,R).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),this._updateValue()},_destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}},props:{value:{},unmask:{validator:R=>R==="typed"||typeof R=="boolean"},...props}}),component=Component2;const _sfc_main$1i={components:{"imask-input":component},props:{value:{type:String},signed:{type:Boolean,default:!0},showSign:{type:Boolean,default:!0},categoryId:{type:Number},accountId:{type:Number},placeholder:{type:String,default:""},transactionType:{type:String,default:""},currencyCode:{type:String,default:""},error:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},short:{type:Boolean,default:!1}},computed:{delimiters(){return numeral.locales[numeral.locale()].delimiters},category(){return this.$store.getters["category/getById"](this.categoryId)},account(){return this.$store.getters["account/getById"](this.accountId)},categoryType(){var R;return this.transactionType||((R=this.category)==null?void 0:R.type)},classes(){return{"state-error":this.error,short:this.short}}},mounted(){this.focused&&(this.$refs.input.$el.focus(),this.$refs.input.$el.select())}};var _sfc_render$1i=function(){var F=this,E=F._self._c;return E("div",{staticClass:"flexbox middle space-8"},[E("div",{class:{"state-with-inner-icon":F.showSign,left:F.showSign}},[E("imask-input",{ref:"input",staticClass:"number bold width-100",class:F.classes,style:F.category&&`border-color: ${F.category.color}`,attrs:{value:F.value,mask:Number,scale:2,signed:F.signed,unmask:!0,radix:F.delimiters.decimal,"map-to-radix":[".",","],"thousands-separator":F.delimiters.thousands,placeholder:F.placeholder,type:"text"},on:{accept:function(V){return F.$emit("input",V)},keyup:function(V){return!V.type.indexOf("key")&&F._k(V.keyCode,"enter",13,V.key,"Enter")?null:F.$emit("keyEnter",V)}}}),F.showSign&&F.categoryType?E("span",{staticClass:"icon",class:{"text-orange":F.categoryType==="expense","text-green":F.categoryType==="income"}},[E("span",{directives:[{name:"show",rawName:"v-show",value:F.categoryType==="expense",expression:"categoryType === 'expense'"}]},[E("i",{staticClass:"fas fa-minus"})]),E("span",{directives:[{name:"show",rawName:"v-show",value:F.categoryType==="income",expression:"categoryType === 'income'"}]},[E("i",{staticClass:"fas fa-plus"})])]):F._e()],1),F.account||F.currencyCode?E("span",{staticClass:"bold"},[F._v(F._s(F.$helper.currencySignByCode(F.account?F.account.currency:F.currencyCode)))]):F._e()])},_sfc_staticRenderFns$1i=[],__component__$1i=normalizeComponent(_sfc_main$1i,_sfc_render$1i,_sfc_staticRenderFns$1i,!1,null,null,null,null);const InputCurrency=__component__$1i.exports;function has(R,F){return Object.prototype.hasOwnProperty.call(R,F)}function _classPrivateFieldLooseBase$a(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$b=0;function _classPrivateFieldLooseKey$a(R){return"__private_"+id$b+++"_"+R}function insertReplacement(R,F,E){const V=[];return R.forEach(U=>typeof U!="string"?V.push(U):F[Symbol.split](U).forEach((W,Y,G)=>{W!==""&&V.push(W),Y<G.length-1&&V.push(E)})),V}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */function interpolate$3(R,F){const E=/\$/g,V="$$$$";let U=[R];if(F==null)return U;for(const W of Object.keys(F))if(W!=="_"){let Y=F[W];typeof Y=="string"&&(Y=E[Symbol.replace](Y,V)),U=insertReplacement(U,new RegExp(`%\\{${W}\\}`,"g"),Y)}return U}var _apply=_classPrivateFieldLooseKey$a("apply");class Translator{constructor(F){Object.defineProperty(this,_apply,{value:_apply2}),this.locale={strings:{},pluralize(E){return E===1?0:1}},Array.isArray(F)?F.forEach(_classPrivateFieldLooseBase$a(this,_apply)[_apply],this):_classPrivateFieldLooseBase$a(this,_apply)[_apply](F)}translate(F,E){return this.translateArray(F,E).join("")}translateArray(F,E){if(!has(this.locale.strings,F))throw new Error(`missing string: ${F}`);const V=this.locale.strings[F];if(typeof V=="object"){if(E&&typeof E.smart_count<"u"){const W=this.locale.pluralize(E.smart_count);return interpolate$3(V[W],E)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return interpolate$3(V,E)}}function _apply2(R){if(!(R!=null&&R.strings))return;const F=this.locale;this.locale={...F,strings:{...F.strings,...R.strings}},this.locale.pluralize=R.pluralize||F.pluralize}var namespaceEmitter=function(){var F={},E=F._fns={};F.emit=function(Y,G,X,K,Z,J,Q){var ee=V(Y);ee.length&&U(Y,ee,[G,X,K,Z,J,Q])},F.on=function(Y,G){E[Y]||(E[Y]=[]),E[Y].push(G)},F.once=function(Y,G){function X(){G.apply(this,arguments),F.off(Y,X)}this.on(Y,X)},F.off=function(Y,G){var X=[];if(Y&&G){var K=this._fns[Y],Z=0,J=K?K.length:0;for(Z;Z<J;Z++)K[Z]!==G&&X.push(K[Z])}X.length?this._fns[Y]=X:delete this._fns[Y]};function V(W){var Y=E[W]?E[W]:[],G=W.indexOf(":"),X=G===-1?[W]:[W.substring(0,G),W.substring(G+1)],K=Object.keys(E),Z=0,J=K.length;for(Z;Z<J;Z++){var Q=K[Z];if(Q==="*"&&(Y=Y.concat(E[Q])),X.length===2&&X[0]===Q){Y=Y.concat(E[Q]);break}}return Y}function U(W,Y,G){var X=0,K=Y.length;for(X;X<K&&Y[X];X++)Y[X].event=W,Y[X].apply(Y[X],G)}return F};let urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nanoid=(R=21)=>{let F="",E=R;for(;E--;)F+=urlAlphabet[Math.random()*64|0];return F};function isObject$6(R){var F=typeof R;return R!=null&&(F=="object"||F=="function")}var isObject_1=isObject$6,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$3=freeGlobal||freeSelf||Function("return this")(),_root=root$3,root$2=_root,now$3=function(){return root$2.Date.now()},now_1=now$3,reWhitespace=/\s/;function trimmedEndIndex$1(R){for(var F=R.length;F--&&reWhitespace.test(R.charAt(F)););return F}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(R){return R&&R.slice(0,trimmedEndIndex(R)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,root$1=_root,Symbol$3=root$1.Symbol,_Symbol=Symbol$3,Symbol$2=_Symbol,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag$1(R){var F=hasOwnProperty$1.call(R,symToStringTag$1),E=R[symToStringTag$1];try{R[symToStringTag$1]=void 0;var V=!0}catch{}var U=nativeObjectToString$1.call(R);return V&&(F?R[symToStringTag$1]=E:delete R[symToStringTag$1]),U}var _getRawTag=getRawTag$1,objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString$1(R){return nativeObjectToString.call(R)}var _objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$1(R){return R==null?R===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(R)?getRawTag(R):objectToString(R)}var _baseGetTag=baseGetTag$1;function isObjectLike$1(R){return R!=null&&typeof R=="object"}var isObjectLike_1=isObjectLike$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(R){return typeof R=="symbol"||isObjectLike(R)&&baseGetTag(R)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$5=isObject_1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(R){if(typeof R=="number")return R;if(isSymbol(R))return NAN;if(isObject$5(R)){var F=typeof R.valueOf=="function"?R.valueOf():R;R=isObject$5(F)?F+"":F}if(typeof R!="string")return R===0?R:+R;R=baseTrim(R);var E=reIsBinary.test(R);return E||reIsOctal.test(R)?freeParseInt(R.slice(2),E?2:8):reIsBadHex.test(R)?NAN:+R}var toNumber_1=toNumber$2,isObject$4=isObject_1,now$2=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$4(R,F,E){var V,U,W,Y,G,X,K=0,Z=!1,J=!1,Q=!0;if(typeof R!="function")throw new TypeError(FUNC_ERROR_TEXT$1);F=toNumber$1(F)||0,isObject$4(E)&&(Z=!!E.leading,J="maxWait"in E,W=J?nativeMax(toNumber$1(E.maxWait)||0,F):W,Q="trailing"in E?!!E.trailing:Q);function ee(ce){var he=V,de=U;return V=U=void 0,K=ce,Y=R.apply(de,he),Y}function te(ce){return K=ce,G=setTimeout(ae,F),Z?ee(ce):Y}function ie(ce){var he=ce-X,de=ce-K,fe=F-he;return J?nativeMin(fe,W-de):fe}function ne(ce){var he=ce-X,de=ce-K;return X===void 0||he>=F||he<0||J&&de>=W}function ae(){var ce=now$2();if(ne(ce))return se(ce);G=setTimeout(ae,ie(ce))}function se(ce){return G=void 0,Q&&V?ee(ce):(V=U=void 0,Y)}function oe(){G!==void 0&&clearTimeout(G),K=0,V=X=U=G=void 0}function le(){return G===void 0?Y:se(now$2())}function ue(){var ce=now$2(),he=ne(ce);if(V=arguments,U=this,X=ce,he){if(G===void 0)return te(X);if(J)return clearTimeout(G),G=setTimeout(ae,F),ee(X)}return G===void 0&&(G=setTimeout(ae,F)),Y}return ue.cancel=oe,ue.flush=le,ue}var debounce_1=debounce$4,debounce$3=debounce_1,isObject$3=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(R,F,E){var V=!0,U=!0;if(typeof R!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$3(E)&&(V="leading"in E?!!E.leading:V,U="trailing"in E?!!E.trailing:U),debounce$3(R,F,{leading:V,maxWait:F,trailing:U})}var throttle_1=throttle;function _classPrivateFieldLooseBase$9(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$a=0;function _classPrivateFieldLooseKey$9(R){return"__private_"+id$a+++"_"+R}const packageJson$4={version:"3.0.4"};var _callbacks=_classPrivateFieldLooseKey$9("callbacks"),_publish=_classPrivateFieldLooseKey$9("publish");class DefaultStore{constructor(){Object.defineProperty(this,_publish,{value:_publish2}),Object.defineProperty(this,_callbacks,{writable:!0,value:new Set}),this.state={}}getState(){return this.state}setState(F){const E={...this.state},V={...this.state,...F};this.state=V,_classPrivateFieldLooseBase$9(this,_publish)[_publish](E,V,F)}subscribe(F){return _classPrivateFieldLooseBase$9(this,_callbacks)[_callbacks].add(F),()=>{_classPrivateFieldLooseBase$9(this,_callbacks)[_callbacks].delete(F)}}}function _publish2(){for(var R=arguments.length,F=new Array(R),E=0;E<R;E++)F[E]=arguments[E];_classPrivateFieldLooseBase$9(this,_callbacks)[_callbacks].forEach(V=>{V(...F)})}DefaultStore.VERSION=packageJson$4.version;function getFileNameAndExtension(R){const F=R.lastIndexOf(".");return F===-1||F===R.length-1?{name:R,extension:void 0}:{name:R.slice(0,F),extension:R.slice(F+1)}}const mimeTypes={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function getFileType(R){var F;if(R.type)return R.type;const E=R.name?(F=getFileNameAndExtension(R.name).extension)==null?void 0:F.toLowerCase():null;return E&&E in mimeTypes?mimeTypes[E]:"application/octet-stream"}function encodeCharacter(R){return R.charCodeAt(0).toString(32)}function encodeFilename(R){let F="";return R.replace(/[^A-Z0-9]/ig,E=>(F+=`-${encodeCharacter(E)}`,"/"))+F}function generateFileID(R){let F="uppy";return typeof R.name=="string"&&(F+=`-${encodeFilename(R.name.toLowerCase())}`),R.type!==void 0&&(F+=`-${R.type}`),R.meta&&typeof R.meta.relativePath=="string"&&(F+=`-${encodeFilename(R.meta.relativePath.toLowerCase())}`),R.data.size!==void 0&&(F+=`-${R.data.size}`),R.data.lastModified!==void 0&&(F+=`-${R.data.lastModified}`),F}function hasFileStableId(R){return!R.isRemote||!R.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(R.remote.provider)}function getSafeFileId(R){if(hasFileStableId(R))return R.id;const F=getFileType(R);return generateFileID({...R,type:F})}function supportsUploadProgress(R){if(R==null&&typeof navigator<"u"&&(R=navigator.userAgent),!R)return!0;const F=/Edge\/(\d+\.\d+)/.exec(R);if(!F)return!0;const E=F[1];let[V,U]=E.split(".");return V=parseInt(V,10),U=parseInt(U,10),V<15||V===15&&U<15063||V>18||V===18&&U>=18218}function getFileName(R,F){return F.name?F.name:R.split("/")[0]==="image"?`${R.split("/")[0]}.${R.split("/")[1]}`:"noname"}function pad$2(R){return R<10?`0${R}`:R.toString()}function getTimeStamp(){const R=new Date,F=pad$2(R.getHours()),E=pad$2(R.getMinutes()),V=pad$2(R.getSeconds());return`${F}:${E}:${V}`}const justErrorsLogger={debug:()=>{},warn:()=>{},error:function(){for(var R=arguments.length,F=new Array(R),E=0;E<R;E++)F[E]=arguments[E];return console.error(`[Uppy] [${getTimeStamp()}]`,...F)}},debugLogger={debug:function(){for(var R=arguments.length,F=new Array(R),E=0;E<R;E++)F[E]=arguments[E];return console.debug(`[Uppy] [${getTimeStamp()}]`,...F)},warn:function(){for(var R=arguments.length,F=new Array(R),E=0;E<R;E++)F[E]=arguments[E];return console.warn(`[Uppy] [${getTimeStamp()}]`,...F)},error:function(){for(var R=arguments.length,F=new Array(R),E=0;E<R;E++)F[E]=arguments[E];return console.error(`[Uppy] [${getTimeStamp()}]`,...F)}};var prettierBytes=function(F){if(typeof F!="number"||isNaN(F))throw new TypeError(`Expected a number, got ${typeof F}`);const E=F<0,V=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(E&&(F=-F),F<1)return`${(E?"-":"")+F} B`;const U=Math.min(Math.floor(Math.log(F)/Math.log(1024)),V.length-1);F=Number(F/Math.pow(1024,U));const W=V[U];return F>=10||F%1===0?`${(E?"-":"")+F.toFixed(0)} ${W}`:`${(E?"-":"")+F.toFixed(1)} ${W}`};function WildcardMatcher(R,F){this.text=R=R||"",this.hasWild=~R.indexOf("*"),this.separator=F,this.parts=R.split(F)}WildcardMatcher.prototype.match=function(R){var F=!0,E=this.parts,V,U=E.length,W;if(typeof R=="string"||R instanceof String)if(!this.hasWild&&this.text!=R)F=!1;else{for(W=(R||"").split(this.separator),V=0;F&&V<U;V++)E[V]!=="*"&&(V<W.length?F=E[V]===W[V]:F=!1);F=F&&W}else if(typeof R.splice=="function")for(F=[],V=R.length;V--;)this.match(R[V])&&(F[F.length]=R[V]);else if(typeof R=="object"){F={};for(var Y in R)this.match(Y)&&(F[Y]=R[Y])}return F};var wildcard$1=function(R,F,E){var V=new WildcardMatcher(R,E||/[\/\.]/);return typeof F<"u"?V.match(F):V},wildcard=wildcard$1,reMimePartSplit=/[\/\+\.]/,mimeMatch=function(R,F){function E(V){var U=wildcard(V,R,reMimePartSplit);return U&&U.length>=2}return F?E(F.split(";")[0]):E};const defaultOptions$1={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class RestrictionError extends Error{constructor(F,E){let{isUserFacing:V=!0,file:U}=E===void 0?{}:E;super(F),this.isRestriction=!0,this.isUserFacing=V,U!=null&&(this.file=U)}}class Restricter{constructor(F,E){this.i18n=E,this.getOpts=()=>{const V=F();if(V.restrictions.allowedFileTypes!=null&&!Array.isArray(V.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return V}}validateAggregateRestrictions(F,E){const{maxTotalFileSize:V,maxNumberOfFiles:U}=this.getOpts().restrictions;if(U&&F.filter(Y=>!Y.isGhost).length+E.length>U)throw new RestrictionError(`${this.i18n("youCanOnlyUploadX",{smart_count:U})}`);if(V){let W=F.reduce((Y,G)=>Y+G.size,0);for(const Y of E)if(Y.size!=null&&(W+=Y.size,W>V))throw new RestrictionError(this.i18n("exceedsSize",{size:prettierBytes(V),file:Y.name}))}}validateSingleFile(F){const{maxFileSize:E,minFileSize:V,allowedFileTypes:U}=this.getOpts().restrictions;if(U&&!U.some(Y=>Y.includes("/")?F.type?mimeMatch(F.type.replace(/;.*?$/,""),Y):!1:Y[0]==="."&&F.extension?F.extension.toLowerCase()===Y.slice(1).toLowerCase():!1)){const Y=U.join(", ");throw new RestrictionError(this.i18n("youCanOnlyUploadFileTypes",{types:Y}),{file:F})}if(E&&F.size!=null&&F.size>E)throw new RestrictionError(this.i18n("exceedsSize",{size:prettierBytes(E),file:F.name}),{file:F});if(V&&F.size!=null&&F.size<V)throw new RestrictionError(this.i18n("inferiorSize",{size:prettierBytes(V)}),{file:F})}validate(F,E){E.forEach(V=>{this.validateSingleFile(V)}),this.validateAggregateRestrictions(F,E)}validateMinNumberOfFiles(F){const{minNumberOfFiles:E}=this.getOpts().restrictions;if(Object.keys(F).length<E)throw new RestrictionError(this.i18n("youHaveToAtLeastSelectX",{smart_count:E}))}getMissingRequiredMetaFields(F){const E=new RestrictionError(this.i18n("missingRequiredMetaFieldOnFile",{fileName:F.name})),{requiredMetaFields:V}=this.getOpts().restrictions,U=[];for(const W of V)(!Object.hasOwn(F.meta,W)||F.meta[W]==="")&&U.push(W);return{missingFields:U,error:E}}}const locale$4={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};let _Symbol$for$2,_Symbol$for2$1;function _classPrivateFieldLooseBase$8(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$9=0;function _classPrivateFieldLooseKey$8(R){return"__private_"+id$9+++"_"+R}const packageJson$3={version:"3.5.1"};var _plugins=_classPrivateFieldLooseKey$8("plugins"),_restricter=_classPrivateFieldLooseKey$8("restricter"),_storeUnsubscribe=_classPrivateFieldLooseKey$8("storeUnsubscribe"),_emitter$1=_classPrivateFieldLooseKey$8("emitter"),_preProcessors=_classPrivateFieldLooseKey$8("preProcessors"),_uploaders=_classPrivateFieldLooseKey$8("uploaders"),_postProcessors=_classPrivateFieldLooseKey$8("postProcessors"),_informAndEmit=_classPrivateFieldLooseKey$8("informAndEmit"),_checkRequiredMetaFieldsOnFile=_classPrivateFieldLooseKey$8("checkRequiredMetaFieldsOnFile"),_checkRequiredMetaFields=_classPrivateFieldLooseKey$8("checkRequiredMetaFields"),_assertNewUploadAllowed=_classPrivateFieldLooseKey$8("assertNewUploadAllowed"),_transformFile=_classPrivateFieldLooseKey$8("transformFile"),_startIfAutoProceed=_classPrivateFieldLooseKey$8("startIfAutoProceed"),_checkAndUpdateFileState=_classPrivateFieldLooseKey$8("checkAndUpdateFileState"),_addListeners=_classPrivateFieldLooseKey$8("addListeners"),_updateOnlineStatus=_classPrivateFieldLooseKey$8("updateOnlineStatus"),_createUpload=_classPrivateFieldLooseKey$8("createUpload"),_getUpload=_classPrivateFieldLooseKey$8("getUpload"),_removeUpload=_classPrivateFieldLooseKey$8("removeUpload"),_runUpload=_classPrivateFieldLooseKey$8("runUpload");_Symbol$for$2=Symbol.for("uppy test: getPlugins");_Symbol$for2$1=Symbol.for("uppy test: createUpload");class Uppy{constructor(F){Object.defineProperty(this,_runUpload,{value:_runUpload2}),Object.defineProperty(this,_removeUpload,{value:_removeUpload2}),Object.defineProperty(this,_getUpload,{value:_getUpload2}),Object.defineProperty(this,_createUpload,{value:_createUpload2}),Object.defineProperty(this,_addListeners,{value:_addListeners2}),Object.defineProperty(this,_checkAndUpdateFileState,{value:_checkAndUpdateFileState2}),Object.defineProperty(this,_startIfAutoProceed,{value:_startIfAutoProceed2}),Object.defineProperty(this,_transformFile,{value:_transformFile2}),Object.defineProperty(this,_assertNewUploadAllowed,{value:_assertNewUploadAllowed2}),Object.defineProperty(this,_checkRequiredMetaFields,{value:_checkRequiredMetaFields2}),Object.defineProperty(this,_checkRequiredMetaFieldsOnFile,{value:_checkRequiredMetaFieldsOnFile2}),Object.defineProperty(this,_informAndEmit,{value:_informAndEmit2}),Object.defineProperty(this,_plugins,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,_restricter,{writable:!0,value:void 0}),Object.defineProperty(this,_storeUnsubscribe,{writable:!0,value:void 0}),Object.defineProperty(this,_emitter$1,{writable:!0,value:namespaceEmitter()}),Object.defineProperty(this,_preProcessors,{writable:!0,value:new Set}),Object.defineProperty(this,_uploaders,{writable:!0,value:new Set}),Object.defineProperty(this,_postProcessors,{writable:!0,value:new Set}),this.calculateProgress=throttle_1((V,U)=>{const W=this.getFile(V==null?void 0:V.id);if(V==null||!W){this.log(`Not setting progress for a file that has been removed: ${V==null?void 0:V.id}`);return}if(W.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${V.id}`);return}const Y=Number.isFinite(U.bytesTotal)&&U.bytesTotal>0;this.setFileState(V.id,{progress:{...W.progress,bytesUploaded:U.bytesUploaded,bytesTotal:U.bytesTotal,percentage:Y?Math.round(U.bytesUploaded/U.bytesTotal*100):0}}),this.calculateTotalProgress()},500,{leading:!0,trailing:!0}),Object.defineProperty(this,_updateOnlineStatus,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=locale$4;const E={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:defaultOptions$1,meta:{},onBeforeFileAdded:(V,U)=>!Object.hasOwn(U,V.id),onBeforeUpload:V=>V,store:new DefaultStore,logger:justErrorsLogger,infoTimeout:5e3};this.opts={...E,...F,restrictions:{...E.restrictions,...F&&F.restrictions}},F&&F.logger&&F.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):F&&F.debug&&(this.opts.logger=debugLogger),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:supportsUploadProgress(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),_classPrivateFieldLooseBase$8(this,_restricter)[_restricter]=new Restricter(()=>this.opts,this.i18n),_classPrivateFieldLooseBase$8(this,_storeUnsubscribe)[_storeUnsubscribe]=this.store.subscribe((V,U,W)=>{this.emit("state-update",V,U,W),this.updateAll(U)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),_classPrivateFieldLooseBase$8(this,_addListeners)[_addListeners]()}emit(F){for(var E=arguments.length,V=new Array(E>1?E-1:0),U=1;U<E;U++)V[U-1]=arguments[U];_classPrivateFieldLooseBase$8(this,_emitter$1)[_emitter$1].emit(F,...V)}on(F,E){return _classPrivateFieldLooseBase$8(this,_emitter$1)[_emitter$1].on(F,E),this}once(F,E){return _classPrivateFieldLooseBase$8(this,_emitter$1)[_emitter$1].once(F,E),this}off(F,E){return _classPrivateFieldLooseBase$8(this,_emitter$1)[_emitter$1].off(F,E),this}updateAll(F){this.iteratePlugins(E=>{E.update(F)})}setState(F){this.store.setState(F)}getState(){return this.store.getState()}patchFilesState(F){const E=this.getState().files;this.setState({files:{...E,...Object.fromEntries(Object.entries(F).map(V=>{let[U,W]=V;return[U,{...E[U],...W}]}))}})}setFileState(F,E){if(!this.getState().files[F])throw new Error(`Can\u2019t set state for ${F} (the file could have been removed)`);this.patchFilesState({[F]:E})}i18nInit(){const F=new Translator([this.defaultLocale,this.opts.locale]);this.i18n=F.translate.bind(F),this.i18nArray=F.translateArray.bind(F),this.locale=F.locale}setOptions(F){this.opts={...this.opts,...F,restrictions:{...this.opts.restrictions,...F&&F.restrictions}},F.meta&&this.setMeta(F.meta),this.i18nInit(),F.locale&&this.iteratePlugins(E=>{E.setOptions(F)}),this.setState()}resetProgress(){const F={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},E={...this.getState().files},V={};Object.keys(E).forEach(U=>{V[U]={...E[U],progress:{...E[U].progress,...F}}}),this.setState({files:V,totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null}),this.emit("reset-progress")}addPreProcessor(F){_classPrivateFieldLooseBase$8(this,_preProcessors)[_preProcessors].add(F)}removePreProcessor(F){return _classPrivateFieldLooseBase$8(this,_preProcessors)[_preProcessors].delete(F)}addPostProcessor(F){_classPrivateFieldLooseBase$8(this,_postProcessors)[_postProcessors].add(F)}removePostProcessor(F){return _classPrivateFieldLooseBase$8(this,_postProcessors)[_postProcessors].delete(F)}addUploader(F){_classPrivateFieldLooseBase$8(this,_uploaders)[_uploaders].add(F)}removeUploader(F){return _classPrivateFieldLooseBase$8(this,_uploaders)[_uploaders].delete(F)}setMeta(F){const E={...this.getState().meta,...F},V={...this.getState().files};Object.keys(V).forEach(U=>{V[U]={...V[U],meta:{...V[U].meta,...F}}}),this.log("Adding metadata:"),this.log(F),this.setState({meta:E,files:V})}setFileMeta(F,E){const V={...this.getState().files};if(!V[F]){this.log("Was trying to set metadata for a file that has been removed: ",F);return}const U={...V[F].meta,...E};V[F]={...V[F],meta:U},this.setState({files:V})}getFile(F){return this.getState().files[F]}getFiles(){const{files:F}=this.getState();return Object.values(F)}getFilesByIds(F){return F.map(E=>this.getFile(E))}getObjectOfFilesPerState(){const{files:F,totalProgress:E,error:V}=this.getState(),U=Object.values(F),W=U.filter(te=>{let{progress:ie}=te;return!ie.uploadComplete&&ie.uploadStarted}),Y=U.filter(te=>!te.progress.uploadStarted),G=U.filter(te=>te.progress.uploadStarted||te.progress.preprocess||te.progress.postprocess),X=U.filter(te=>te.progress.uploadStarted),K=U.filter(te=>te.isPaused),Z=U.filter(te=>te.progress.uploadComplete),J=U.filter(te=>te.error),Q=W.filter(te=>!te.isPaused),ee=U.filter(te=>te.progress.preprocess||te.progress.postprocess);return{newFiles:Y,startedFiles:G,uploadStartedFiles:X,pausedFiles:K,completeFiles:Z,erroredFiles:J,inProgressFiles:W,inProgressNotPausedFiles:Q,processingFiles:ee,isUploadStarted:X.length>0,isAllComplete:E===100&&Z.length===U.length&&ee.length===0,isAllErrored:!!V&&J.length===U.length,isAllPaused:W.length!==0&&K.length===W.length,isUploadInProgress:W.length>0,isSomeGhost:U.some(te=>te.isGhost)}}validateRestrictions(F,E){E===void 0&&(E=this.getFiles());try{_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].validate(E,[F])}catch(V){return V}return null}checkIfFileAlreadyExists(F){const{files:E}=this.getState();return!!(E[F]&&!E[F].isGhost)}addFile(F){_classPrivateFieldLooseBase$8(this,_assertNewUploadAllowed)[_assertNewUploadAllowed](F);const{nextFilesState:E,validFilesToAdd:V,errors:U}=_classPrivateFieldLooseBase$8(this,_checkAndUpdateFileState)[_checkAndUpdateFileState]([F]),W=U.filter(G=>G.isRestriction);if(_classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit](W),U.length>0)throw U[0];this.setState({files:E});const[Y]=V;return this.emit("file-added",Y),this.emit("files-added",V),this.log(`Added file: ${Y.name}, ${Y.id}, mime type: ${Y.type}`),_classPrivateFieldLooseBase$8(this,_startIfAutoProceed)[_startIfAutoProceed](),Y.id}addFiles(F){_classPrivateFieldLooseBase$8(this,_assertNewUploadAllowed)[_assertNewUploadAllowed]();const{nextFilesState:E,validFilesToAdd:V,errors:U}=_classPrivateFieldLooseBase$8(this,_checkAndUpdateFileState)[_checkAndUpdateFileState](F),W=U.filter(G=>G.isRestriction);_classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit](W);const Y=U.filter(G=>!G.isRestriction);if(Y.length>0){let G=`Multiple errors occurred while adding files:
`;if(Y.forEach(X=>{G+=`
 * ${X.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:Y.length}),details:G},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(Y,G);{const X=new Error(G);throw X.errors=Y,X}}this.setState({files:E}),V.forEach(G=>{this.emit("file-added",G)}),this.emit("files-added",V),V.length>5?this.log(`Added batch of ${V.length} files`):Object.values(V).forEach(G=>{this.log(`Added file: ${G.name}
 id: ${G.id}
 type: ${G.type}`)}),V.length>0&&_classPrivateFieldLooseBase$8(this,_startIfAutoProceed)[_startIfAutoProceed]()}removeFiles(F,E){const{files:V,currentUploads:U}=this.getState(),W={...V},Y={...U},G=Object.create(null);F.forEach(J=>{V[J]&&(G[J]=V[J],delete W[J])});function X(J){return G[J]===void 0}Object.keys(Y).forEach(J=>{const Q=U[J].fileIDs.filter(X);if(Q.length===0){delete Y[J];return}const{capabilities:ee}=this.getState();if(Q.length!==U[J].fileIDs.length&&!ee.individualCancellation)throw new Error("individualCancellation is disabled");Y[J]={...U[J],fileIDs:Q}});const K={currentUploads:Y,files:W};Object.keys(W).length===0&&(K.allowNewUpload=!0,K.error=null,K.recoveredState=null),this.setState(K),this.calculateTotalProgress();const Z=Object.keys(G);Z.forEach(J=>{this.emit("file-removed",G[J],E)}),Z.length>5?this.log(`Removed ${Z.length} files`):this.log(`Removed files: ${Z.join(", ")}`)}removeFile(F,E){E===void 0&&(E=null),this.removeFiles([F],E)}pauseResume(F){if(!this.getState().capabilities.resumableUploads||this.getFile(F).uploadComplete)return;const V=!(this.getFile(F).isPaused||!1);return this.setFileState(F,{isPaused:V}),this.emit("upload-pause",F,V),V}pauseAll(){const F={...this.getState().files};Object.keys(F).filter(V=>!F[V].progress.uploadComplete&&F[V].progress.uploadStarted).forEach(V=>{const U={...F[V],isPaused:!0};F[V]=U}),this.setState({files:F}),this.emit("pause-all")}resumeAll(){const F={...this.getState().files};Object.keys(F).filter(V=>!F[V].progress.uploadComplete&&F[V].progress.uploadStarted).forEach(V=>{const U={...F[V],isPaused:!1,error:null};F[V]=U}),this.setState({files:F}),this.emit("resume-all")}retryAll(){const F={...this.getState().files},E=Object.keys(F).filter(U=>F[U].error);if(E.forEach(U=>{const W={...F[U],isPaused:!1,error:null};F[U]=W}),this.setState({files:F,error:null}),this.emit("retry-all",E),E.length===0)return Promise.resolve({successful:[],failed:[]});const V=_classPrivateFieldLooseBase$8(this,_createUpload)[_createUpload](E,{forceAllowNewUpload:!0});return _classPrivateFieldLooseBase$8(this,_runUpload)[_runUpload](V)}cancelAll(F){let{reason:E="user"}=F===void 0?{}:F;if(this.emit("cancel-all",{reason:E}),E==="user"){const{files:V}=this.getState(),U=Object.keys(V);U.length&&this.removeFiles(U,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}retryUpload(F){this.setFileState(F,{error:null,isPaused:!1}),this.emit("upload-retry",F);const E=_classPrivateFieldLooseBase$8(this,_createUpload)[_createUpload]([F],{forceAllowNewUpload:!0});return _classPrivateFieldLooseBase$8(this,_runUpload)[_runUpload](E)}logout(){this.iteratePlugins(F=>{F.provider&&F.provider.logout&&F.provider.logout()})}calculateTotalProgress(){const E=this.getFiles().filter(K=>K.progress.uploadStarted||K.progress.preprocess||K.progress.postprocess);if(E.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const V=E.filter(K=>K.progress.bytesTotal!=null),U=E.filter(K=>K.progress.bytesTotal==null);if(V.length===0){const K=E.length*100,Z=U.reduce((Q,ee)=>Q+ee.progress.percentage,0),J=Math.round(Z/K*100);this.setState({totalProgress:J});return}let W=V.reduce((K,Z)=>K+Z.progress.bytesTotal,0);const Y=W/V.length;W+=Y*U.length;let G=0;V.forEach(K=>{G+=K.progress.bytesUploaded}),U.forEach(K=>{G+=Y*(K.progress.percentage||0)/100});let X=W===0?0:Math.round(G/W*100);X>100&&(X=100),this.setState({totalProgress:X}),this.emit("progress",X)}updateOnlineStatus(){(typeof window.navigator.onLine<"u"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(F,E){if(typeof F!="function"){const Y=`Expected a plugin class, but got ${F===null?"null":typeof F}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(Y)}const V=new F(this,E),U=V.id;if(!U)throw new Error("Your plugin must have an id");if(!V.type)throw new Error("Your plugin must have a type");const W=this.getPlugin(U);if(W){const Y=`Already found a plugin named '${W.id}'. Tried to use: '${U}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(Y)}return F.VERSION&&this.log(`Using ${U} v${F.VERSION}`),V.type in _classPrivateFieldLooseBase$8(this,_plugins)[_plugins]?_classPrivateFieldLooseBase$8(this,_plugins)[_plugins][V.type].push(V):_classPrivateFieldLooseBase$8(this,_plugins)[_plugins][V.type]=[V],V.install(),this}getPlugin(F){for(const E of Object.values(_classPrivateFieldLooseBase$8(this,_plugins)[_plugins])){const V=E.find(U=>U.id===F);if(V!=null)return V}}[_Symbol$for$2](F){return _classPrivateFieldLooseBase$8(this,_plugins)[_plugins][F]}iteratePlugins(F){Object.values(_classPrivateFieldLooseBase$8(this,_plugins)[_plugins]).flat(1).forEach(F)}removePlugin(F){this.log(`Removing plugin ${F.id}`),this.emit("plugin-remove",F),F.uninstall&&F.uninstall();const E=_classPrivateFieldLooseBase$8(this,_plugins)[_plugins][F.type],V=E.findIndex(Y=>Y.id===F.id);V!==-1&&E.splice(V,1);const W={plugins:{...this.getState().plugins,[F.id]:void 0}};this.setState(W)}close(F){let{reason:E}=F===void 0?{}:F;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:E}),_classPrivateFieldLooseBase$8(this,_storeUnsubscribe)[_storeUnsubscribe](),this.iteratePlugins(V=>{this.removePlugin(V)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus]),window.removeEventListener("offline",_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus]))}hideInfo(){const{info:F}=this.getState();this.setState({info:F.slice(1)}),this.emit("info-hidden")}info(F,E,V){E===void 0&&(E="info"),V===void 0&&(V=3e3);const U=typeof F=="object";this.setState({info:[...this.getState().info,{type:E,message:U?F.message:F,details:U?F.details:null}]}),setTimeout(()=>this.hideInfo(),V),this.emit("info-visible")}log(F,E){const{logger:V}=this.opts;switch(E){case"error":V.error(F);break;case"warning":V.warn(F);break;default:V.debug(F);break}}restore(F){return this.log(`Core: attempting to restore upload "${F}"`),this.getState().currentUploads[F]?_classPrivateFieldLooseBase$8(this,_runUpload)[_runUpload](F):(_classPrivateFieldLooseBase$8(this,_removeUpload)[_removeUpload](F),Promise.reject(new Error("Nonexistent upload")))}[_Symbol$for2$1](){return _classPrivateFieldLooseBase$8(this,_createUpload)[_createUpload](...arguments)}addResultData(F,E){if(!_classPrivateFieldLooseBase$8(this,_getUpload)[_getUpload](F)){this.log(`Not setting result for an upload that has been removed: ${F}`);return}const{currentUploads:V}=this.getState(),U={...V[F],result:{...V[F].result,...E}};this.setState({currentUploads:{...V,[F]:U}})}upload(){var F;(F=_classPrivateFieldLooseBase$8(this,_plugins)[_plugins].uploader)!=null&&F.length||this.log("No uploader type plugins are used","warning");let{files:E}=this.getState();const V=this.opts.onBeforeUpload(E);return V===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(V&&typeof V=="object"&&(E=V,this.setState({files:E})),Promise.resolve().then(()=>_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].validateMinNumberOfFiles(E)).catch(U=>{throw _classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit]([U]),U}).then(()=>{if(!_classPrivateFieldLooseBase$8(this,_checkRequiredMetaFields)[_checkRequiredMetaFields](E))throw new RestrictionError(this.i18n("missingRequiredMetaField"))}).catch(U=>{throw U}).then(()=>{const{currentUploads:U}=this.getState(),W=Object.values(U).flatMap(X=>X.fileIDs),Y=[];Object.keys(E).forEach(X=>{const K=this.getFile(X);!K.progress.uploadStarted&&W.indexOf(X)===-1&&Y.push(K.id)});const G=_classPrivateFieldLooseBase$8(this,_createUpload)[_createUpload](Y);return _classPrivateFieldLooseBase$8(this,_runUpload)[_runUpload](G)}).catch(U=>{throw this.emit("error",U),this.log(U,"error"),U}))}}function _informAndEmit2(R){for(const W of R){const{file:Y,isRestriction:G}=W;G?this.emit("restriction-failed",Y,W):this.emit("error",W),this.log(W,"warning")}const F=R.filter(W=>W.isUserFacing),E=4,V=F.slice(0,E),U=F.slice(E);V.forEach(W=>{let{message:Y,details:G=""}=W;this.info({message:Y,details:G},"error",this.opts.infoTimeout)}),U.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:U.length})})}function _checkRequiredMetaFieldsOnFile2(R){const{missingFields:F,error:E}=_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].getMissingRequiredMetaFields(R);return F.length>0?(this.setFileState(R.id,{missingRequiredMetaFields:F}),this.log(E.message),this.emit("restriction-failed",R,E),!1):!0}function _checkRequiredMetaFields2(R){let F=!0;for(const E of Object.values(R))_classPrivateFieldLooseBase$8(this,_checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](E)||(F=!1);return F}function _assertNewUploadAllowed2(R){const{allowNewUpload:F}=this.getState();if(F===!1){const E=new RestrictionError(this.i18n("noMoreFilesAllowed"),{file:R});throw _classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit]([E]),E}}function _transformFile2(R){const F=R instanceof File?{name:R.name,type:R.type,size:R.size,data:R}:R,E=getFileType(F),V=getFileName(E,F),U=getFileNameAndExtension(V).extension,W=Boolean(F.isRemote),Y=getSafeFileId(F),G=F.meta||{};G.name=V,G.type=E;const X=Number.isFinite(F.data.size)?F.data.size:null;return{source:F.source||"",id:Y,name:V,extension:U||"",meta:{...this.getState().meta,...G},type:E,data:F.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:X,uploadComplete:!1,uploadStarted:null},size:X,isRemote:W,remote:F.remote||"",preview:F.preview}}function _startIfAutoProceed2(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(R=>{R.isRestriction||this.log(R.stack||R.message||R)})},4))}function _checkAndUpdateFileState2(R){const{files:F}=this.getState(),E={...F},V=[],U=[];for(const Y of R)try{var W;let G=_classPrivateFieldLooseBase$8(this,_transformFile)[_transformFile](Y);if((W=F[G.id])!=null&&W.isGhost){const{isGhost:K,...Z}=F[G.id];G={...Z,data:Y.data},this.log(`Replaced the blob in the restored ghost file: ${G.name}, ${G.id}`)}const X=this.opts.onBeforeFileAdded(G,E);if(!X&&this.checkIfFileAlreadyExists(G.id))throw new RestrictionError(this.i18n("noDuplicates",{fileName:G.name}),{file:Y});if(X===!1)throw new RestrictionError("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:Y});typeof X=="object"&&X!==null&&(G=X),_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].validateSingleFile(G),E[G.id]=G,V.push(G)}catch(G){U.push(G)}try{_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].validateAggregateRestrictions(Object.values(F),V)}catch(Y){return U.push(Y),{nextFilesState:F,validFilesToAdd:[],errors:U}}return{nextFilesState:E,validFilesToAdd:V,errors:U}}function _addListeners2(){const R=(V,U,W)=>{let Y=V.message||"Unknown error";V.details&&(Y+=` ${V.details}`),this.setState({error:Y}),U!=null&&U.id in this.getState().files&&this.setFileState(U.id,{error:Y,response:W})};this.on("error",R),this.on("upload-error",(V,U,W)=>{if(R(U,V,W),typeof U=="object"&&U.message){this.log(U.message,"error");const Y=new Error(this.i18n("failedToUpload",{file:V==null?void 0:V.name}));Y.isUserFacing=!0,Y.details=U.message,U.details&&(Y.details+=` ${U.details}`),_classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit]([Y])}else _classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit]([U])});let F;this.on("upload-stalled",(V,U)=>{const{message:W}=V,Y=U.map(G=>G.meta.name).join(", ");F||(this.info({message:W,details:Y},"warning",this.opts.infoTimeout),F=setTimeout(()=>{F=null},this.opts.infoTimeout)),this.log(`${W} ${Y}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const E=V=>{const U=V.filter(Y=>{const G=Y!=null&&this.getFile(Y.id);return G||this.log(`Not setting progress for a file that has been removed: ${Y==null?void 0:Y.id}`),G}),W=Object.fromEntries(U.map(Y=>[Y.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:Y.size}}]));this.patchFilesState(W)};this.on("upload-start",V=>{V.forEach(U=>{this.emit("upload-started",U)}),E(V)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(V,U)=>{if(V==null||!this.getFile(V.id)){this.log(`Not setting progress for a file that has been removed: ${V==null?void 0:V.id}`);return}const W=this.getFile(V.id).progress;this.setFileState(V.id,{progress:{...W,postprocess:_classPrivateFieldLooseBase$8(this,_postProcessors)[_postProcessors].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:W.bytesTotal},response:U,uploadURL:U.uploadURL,isPaused:!1}),V.size==null&&this.setFileState(V.id,{size:U.bytesUploaded||W.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(V,U)=>{if(V==null||!this.getFile(V.id)){this.log(`Not setting progress for a file that has been removed: ${V==null?void 0:V.id}`);return}this.setFileState(V.id,{progress:{...this.getFile(V.id).progress,preprocess:U}})}),this.on("preprocess-complete",V=>{if(V==null||!this.getFile(V.id)){this.log(`Not setting progress for a file that has been removed: ${V==null?void 0:V.id}`);return}const U={...this.getState().files};U[V.id]={...U[V.id],progress:{...U[V.id].progress}},delete U[V.id].progress.preprocess,this.setState({files:U})}),this.on("postprocess-progress",(V,U)=>{if(V==null||!this.getFile(V.id)){this.log(`Not setting progress for a file that has been removed: ${V==null?void 0:V.id}`);return}this.setFileState(V.id,{progress:{...this.getState().files[V.id].progress,postprocess:U}})}),this.on("postprocess-complete",V=>{if(V==null||!this.getFile(V.id)){this.log(`Not setting progress for a file that has been removed: ${V==null?void 0:V.id}`);return}const U={...this.getState().files};U[V.id]={...U[V.id],progress:{...U[V.id].progress}},delete U[V.id].progress.postprocess,this.setState({files:U})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",V=>{V&&_classPrivateFieldLooseBase$8(this,_checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](V)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus]),window.addEventListener("offline",_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus]),setTimeout(_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus],3e3))}function _createUpload2(R,F){F===void 0&&(F={});const{forceAllowNewUpload:E=!1}=F,{allowNewUpload:V,currentUploads:U}=this.getState();if(!V&&!E)throw new Error("Cannot create a new upload: already uploading.");const W=nanoid();return this.emit("upload",{id:W,fileIDs:R}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...U,[W]:{fileIDs:R,step:0,result:{}}}}),W}function _getUpload2(R){const{currentUploads:F}=this.getState();return F[R]}function _removeUpload2(R){const F={...this.getState().currentUploads};delete F[R],this.setState({currentUploads:F})}async function _runUpload2(R){const F=()=>{const{currentUploads:W}=this.getState();return W[R]};let E=F();const V=[..._classPrivateFieldLooseBase$8(this,_preProcessors)[_preProcessors],..._classPrivateFieldLooseBase$8(this,_uploaders)[_uploaders],..._classPrivateFieldLooseBase$8(this,_postProcessors)[_postProcessors]];try{for(let W=E.step||0;W<V.length&&E;W++){const Y=V[W];this.setState({currentUploads:{...this.getState().currentUploads,[R]:{...E,step:W}}});const{fileIDs:G}=E;await Y(G,R),E=F()}}catch(W){throw _classPrivateFieldLooseBase$8(this,_removeUpload)[_removeUpload](R),W}if(E){E.fileIDs.forEach(X=>{const K=this.getFile(X);K&&K.progress.postprocess&&this.emit("postprocess-complete",K)});const W=E.fileIDs.map(X=>this.getFile(X)),Y=W.filter(X=>!X.error),G=W.filter(X=>X.error);await this.addResultData(R,{successful:Y,failed:G,uploadID:R}),E=F()}let U;return E&&(U=E.result,this.emit("complete",U),_classPrivateFieldLooseBase$8(this,_removeUpload)[_removeUpload](R)),U==null&&this.log(`Not setting result for an upload that has been removed: ${R}`),U}Uppy.VERSION=packageJson$3.version;var n$1,l,u$1,i$1,o,r$1,f$1,c$1={},s$2=[],a$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v$1=Array.isArray;function h$2(R,F){for(var E in F)R[E]=F[E];return R}function p(R){var F=R.parentNode;F&&F.removeChild(R)}function y$2(R,F,E){var V,U,W,Y={};for(W in F)W=="key"?V=F[W]:W=="ref"?U=F[W]:Y[W]=F[W];if(arguments.length>2&&(Y.children=arguments.length>3?n$1.call(arguments,2):E),typeof R=="function"&&R.defaultProps!=null)for(W in R.defaultProps)Y[W]===void 0&&(Y[W]=R.defaultProps[W]);return d$1(R,Y,V,U,null)}function d$1(R,F,E,V,U){var W={type:R,props:F,key:E,ref:V,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:U==null?++u$1:U};return U==null&&l.vnode!=null&&l.vnode(W),W}function k$1(R){return R.children}function b$1(R,F){this.props=R,this.context=F}function g$1(R,F){if(F==null)return R.__?g$1(R.__,R.__.__k.indexOf(R)+1):null;for(var E;F<R.__k.length;F++)if((E=R.__k[F])!=null&&E.__e!=null)return E.__d||E.__e;return typeof R.type=="function"?g$1(R):null}function m$1(R){var F,E;if((R=R.__)!=null&&R.__c!=null){for(R.__e=R.__c.base=null,F=0;F<R.__k.length;F++)if((E=R.__k[F])!=null&&E.__e!=null){R.__e=R.__c.base=E.__e;break}return m$1(R)}}function w$1(R){(!R.__d&&(R.__d=!0)&&i$1.push(R)&&!x$2.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r$1)(x$2)}function x$2(){var R,F,E,V,U,W,Y,G,X;for(i$1.sort(f$1);R=i$1.shift();)R.__d&&(F=i$1.length,V=void 0,U=void 0,W=void 0,G=(Y=(E=R).__v).__e,(X=E.__P)&&(V=[],U=[],(W=h$2({},Y)).__v=Y.__v+1,z$1(X,Y,W,E.__n,X.ownerSVGElement!==void 0,Y.__h!=null?[G]:null,V,G==null?g$1(Y):G,Y.__h,U),L(V,Y,U),Y.__e!=G&&m$1(Y)),i$1.length>F&&i$1.sort(f$1));x$2.__r=0}function P$1(R,F,E,V,U,W,Y,G,X,K,Z){var J,Q,ee,te,ie,ne,ae,se,oe,le=0,ue=V&&V.__k||s$2,ce=ue.length,he=ce,de=F.length;for(E.__k=[],J=0;J<de;J++)(te=E.__k[J]=(te=F[J])==null||typeof te=="boolean"||typeof te=="function"?null:typeof te=="string"||typeof te=="number"||typeof te=="bigint"?d$1(null,te,null,null,te):v$1(te)?d$1(k$1,{children:te},null,null,null):te.__b>0?d$1(te.type,te.props,te.key,te.ref?te.ref:null,te.__v):te)!=null?(te.__=E,te.__b=E.__b+1,(se=A$1(te,ue,ae=J+le,he))===-1?ee=c$1:(ee=ue[se]||c$1,ue[se]=void 0,he--),z$1(R,te,ee,U,W,Y,G,X,K,Z),ie=te.__e,(Q=te.ref)&&ee.ref!=Q&&(ee.ref&&N$1(ee.ref,null,te),Z.push(Q,te.__c||ie,te)),ie!=null&&(ne==null&&(ne=ie),(oe=ee===c$1||ee.__v===null)?se==-1&&le--:se!==ae&&(se===ae+1?le++:se>ae?he>de-ae?le+=se-ae:le--:le=se<ae&&se==ae-1?se-ae:0),ae=J+le,typeof te.type!="function"||se===ae&&ee.__k!==te.__k?typeof te.type=="function"||se===ae&&!oe?te.__d!==void 0?(X=te.__d,te.__d=void 0):X=ie.nextSibling:X=S(R,ie,X):X=$$1(te,X,R),typeof E.type=="function"&&(E.__d=X))):(ee=ue[J])&&ee.key==null&&ee.__e&&(ee.__e==X&&(ee.__=V,X=g$1(ee)),O(ee,ee,!1),ue[J]=null);for(E.__e=ne,J=ce;J--;)ue[J]!=null&&(typeof E.type=="function"&&ue[J].__e!=null&&ue[J].__e==E.__d&&(E.__d=ue[J].__e.nextSibling),O(ue[J],ue[J]))}function $$1(R,F,E){for(var V,U=R.__k,W=0;U&&W<U.length;W++)(V=U[W])&&(V.__=R,F=typeof V.type=="function"?$$1(V,F,E):S(E,V.__e,F));return F}function S(R,F,E){return E==null||E.parentNode!==R?R.insertBefore(F,null):F==E&&F.parentNode!=null||R.insertBefore(F,E),F.nextSibling}function A$1(R,F,E,V){var U=R.key,W=R.type,Y=E-1,G=E+1,X=F[E];if(X===null||X&&U==X.key&&W===X.type)return E;if(V>(X!=null?1:0))for(;Y>=0||G<F.length;){if(Y>=0){if((X=F[Y])&&U==X.key&&W===X.type)return Y;Y--}if(G<F.length){if((X=F[G])&&U==X.key&&W===X.type)return G;G++}}return-1}function D$1(R,F,E,V,U){var W;for(W in E)W==="children"||W==="key"||W in F||I$1(R,W,null,E[W],V);for(W in F)U&&typeof F[W]!="function"||W==="children"||W==="key"||W==="value"||W==="checked"||E[W]===F[W]||I$1(R,W,F[W],E[W],V)}function H$1(R,F,E){F[0]==="-"?R.setProperty(F,E==null?"":E):R[F]=E==null?"":typeof E!="number"||a$1.test(F)?E:E+"px"}function I$1(R,F,E,V,U){var W;e:if(F==="style")if(typeof E=="string")R.style.cssText=E;else{if(typeof V=="string"&&(R.style.cssText=V=""),V)for(F in V)E&&F in E||H$1(R.style,F,"");if(E)for(F in E)V&&E[F]===V[F]||H$1(R.style,F,E[F])}else if(F[0]==="o"&&F[1]==="n")W=F!==(F=F.replace(/(PointerCapture)$|Capture$/,"$1")),F=F.toLowerCase()in R?F.toLowerCase().slice(2):F.slice(2),R.l||(R.l={}),R.l[F+W]=E,E?V?E.u=V.u:(E.u=Date.now(),R.addEventListener(F,W?j$1:T$1,W)):R.removeEventListener(F,W?j$1:T$1,W);else if(F!=="dangerouslySetInnerHTML"){if(U)F=F.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(F!=="width"&&F!=="height"&&F!=="href"&&F!=="list"&&F!=="form"&&F!=="tabIndex"&&F!=="download"&&F!=="rowSpan"&&F!=="colSpan"&&F!=="role"&&F in R)try{R[F]=E==null?"":E;break e}catch{}typeof E=="function"||(E==null||E===!1&&F[4]!=="-"?R.removeAttribute(F):R.setAttribute(F,E))}}function T$1(R){var F=this.l[R.type+!1];if(R.t){if(R.t<=F.u)return}else R.t=Date.now();return F(l.event?l.event(R):R)}function j$1(R){return this.l[R.type+!0](l.event?l.event(R):R)}function z$1(R,F,E,V,U,W,Y,G,X,K){var Z,J,Q,ee,te,ie,ne,ae,se,oe,le,ue,ce,he,de,fe=F.type;if(F.constructor!==void 0)return null;E.__h!=null&&(X=E.__h,G=F.__e=E.__e,F.__h=null,W=[G]),(Z=l.__b)&&Z(F);e:if(typeof fe=="function")try{if(ae=F.props,se=(Z=fe.contextType)&&V[Z.__c],oe=Z?se?se.props.value:Z.__:V,E.__c?ne=(J=F.__c=E.__c).__=J.__E:("prototype"in fe&&fe.prototype.render?F.__c=J=new fe(ae,oe):(F.__c=J=new b$1(ae,oe),J.constructor=fe,J.render=q),se&&se.sub(J),J.props=ae,J.state||(J.state={}),J.context=oe,J.__n=V,Q=J.__d=!0,J.__h=[],J._sb=[]),J.__s==null&&(J.__s=J.state),fe.getDerivedStateFromProps!=null&&(J.__s==J.state&&(J.__s=h$2({},J.__s)),h$2(J.__s,fe.getDerivedStateFromProps(ae,J.__s))),ee=J.props,te=J.state,J.__v=F,Q)fe.getDerivedStateFromProps==null&&J.componentWillMount!=null&&J.componentWillMount(),J.componentDidMount!=null&&J.__h.push(J.componentDidMount);else{if(fe.getDerivedStateFromProps==null&&ae!==ee&&J.componentWillReceiveProps!=null&&J.componentWillReceiveProps(ae,oe),!J.__e&&(J.shouldComponentUpdate!=null&&J.shouldComponentUpdate(ae,J.__s,oe)===!1||F.__v===E.__v)){for(F.__v!==E.__v&&(J.props=ae,J.state=J.__s,J.__d=!1),F.__e=E.__e,F.__k=E.__k,F.__k.forEach(function(Te){Te&&(Te.__=F)}),le=0;le<J._sb.length;le++)J.__h.push(J._sb[le]);J._sb=[],J.__h.length&&Y.push(J);break e}J.componentWillUpdate!=null&&J.componentWillUpdate(ae,J.__s,oe),J.componentDidUpdate!=null&&J.__h.push(function(){J.componentDidUpdate(ee,te,ie)})}if(J.context=oe,J.props=ae,J.__P=R,J.__e=!1,ue=l.__r,ce=0,"prototype"in fe&&fe.prototype.render){for(J.state=J.__s,J.__d=!1,ue&&ue(F),Z=J.render(J.props,J.state,J.context),he=0;he<J._sb.length;he++)J.__h.push(J._sb[he]);J._sb=[]}else do J.__d=!1,ue&&ue(F),Z=J.render(J.props,J.state,J.context),J.state=J.__s;while(J.__d&&++ce<25);J.state=J.__s,J.getChildContext!=null&&(V=h$2(h$2({},V),J.getChildContext())),Q||J.getSnapshotBeforeUpdate==null||(ie=J.getSnapshotBeforeUpdate(ee,te)),P$1(R,v$1(de=Z!=null&&Z.type===k$1&&Z.key==null?Z.props.children:Z)?de:[de],F,E,V,U,W,Y,G,X,K),J.base=F.__e,F.__h=null,J.__h.length&&Y.push(J),ne&&(J.__E=J.__=null)}catch(Te){F.__v=null,(X||W!=null)&&(F.__e=G,F.__h=!!X,W[W.indexOf(G)]=null),l.__e(Te,F,E)}else W==null&&F.__v===E.__v?(F.__k=E.__k,F.__e=E.__e):F.__e=M(E.__e,F,E,V,U,W,Y,X,K);(Z=l.diffed)&&Z(F)}function L(R,F,E){for(var V=0;V<E.length;V++)N$1(E[V],E[++V],E[++V]);l.__c&&l.__c(F,R),R.some(function(U){try{R=U.__h,U.__h=[],R.some(function(W){W.call(U)})}catch(W){l.__e(W,U.__v)}})}function M(R,F,E,V,U,W,Y,G,X){var K,Z,J,Q=E.props,ee=F.props,te=F.type,ie=0;if(te==="svg"&&(U=!0),W!=null){for(;ie<W.length;ie++)if((K=W[ie])&&"setAttribute"in K==!!te&&(te?K.localName===te:K.nodeType===3)){R=K,W[ie]=null;break}}if(R==null){if(te===null)return document.createTextNode(ee);R=U?document.createElementNS("http://www.w3.org/2000/svg",te):document.createElement(te,ee.is&&ee),W=null,G=!1}if(te===null)Q===ee||G&&R.data===ee||(R.data=ee);else{if(W=W&&n$1.call(R.childNodes),Z=(Q=E.props||c$1).dangerouslySetInnerHTML,J=ee.dangerouslySetInnerHTML,!G){if(W!=null)for(Q={},ie=0;ie<R.attributes.length;ie++)Q[R.attributes[ie].name]=R.attributes[ie].value;(J||Z)&&(J&&(Z&&J.__html==Z.__html||J.__html===R.innerHTML)||(R.innerHTML=J&&J.__html||""))}if(D$1(R,ee,Q,U,G),J)F.__k=[];else if(P$1(R,v$1(ie=F.props.children)?ie:[ie],F,E,V,U&&te!=="foreignObject",W,Y,W?W[0]:E.__k&&g$1(E,0),G,X),W!=null)for(ie=W.length;ie--;)W[ie]!=null&&p(W[ie]);G||("value"in ee&&(ie=ee.value)!==void 0&&(ie!==R.value||te==="progress"&&!ie||te==="option"&&ie!==Q.value)&&I$1(R,"value",ie,Q.value,!1),"checked"in ee&&(ie=ee.checked)!==void 0&&ie!==R.checked&&I$1(R,"checked",ie,Q.checked,!1))}return R}function N$1(R,F,E){try{typeof R=="function"?R(F):R.current=F}catch(V){l.__e(V,E)}}function O(R,F,E){var V,U;if(l.unmount&&l.unmount(R),(V=R.ref)&&(V.current&&V.current!==R.__e||N$1(V,null,F)),(V=R.__c)!=null){if(V.componentWillUnmount)try{V.componentWillUnmount()}catch(W){l.__e(W,F)}V.base=V.__P=null,R.__c=void 0}if(V=R.__k)for(U=0;U<V.length;U++)V[U]&&O(V[U],F,E||typeof R.type!="function");E||R.__e==null||p(R.__e),R.__=R.__e=R.__d=void 0}function q(R,F,E){return this.constructor(R,E)}function B(R,F,E){var V,U,W,Y;l.__&&l.__(R,F),U=(V=typeof E=="function")?null:E&&E.__k||F.__k,W=[],Y=[],z$1(F,R=(!V&&E||F).__k=y$2(k$1,null,[R]),U||c$1,c$1,F.ownerSVGElement!==void 0,!V&&E?[E]:U?null:F.firstChild?n$1.call(F.childNodes):null,W,!V&&E?E:U?U.__e:F.firstChild,V,Y),L(W,R,Y)}n$1=s$2.slice,l={__e:function(R,F,E,V){for(var U,W,Y;F=F.__;)if((U=F.__c)&&!U.__)try{if((W=U.constructor)&&W.getDerivedStateFromError!=null&&(U.setState(W.getDerivedStateFromError(R)),Y=U.__d),U.componentDidCatch!=null&&(U.componentDidCatch(R,V||{}),Y=U.__d),Y)return U.__E=U}catch(G){R=G}throw R}},u$1=0,b$1.prototype.setState=function(R,F){var E;E=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=h$2({},this.state),typeof R=="function"&&(R=R(h$2({},E),this.props)),R&&h$2(E,R),R!=null&&this.__v&&(F&&this._sb.push(F),w$1(this))},b$1.prototype.forceUpdate=function(R){this.__v&&(this.__e=!0,R&&this.__h.push(R),w$1(this))},b$1.prototype.render=k$1,i$1=[],r$1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$1=function(R,F){return R.__v.__b-F.__v.__b},x$2.__r=0;function isDOMElement(R){return(R==null?void 0:R.nodeType)===Node.ELEMENT_NODE}function findDOMElement(R,F){return F===void 0&&(F=document),typeof R=="string"?F.querySelector(R):isDOMElement(R)?R:null}function getTextDirection(R){for(var F;R&&!R.dir;)R=R.parentNode;return(F=R)==null?void 0:F.dir}class BasePlugin{constructor(F,E){E===void 0&&(E={}),this.uppy=F,this.opts=E}getPluginState(){const{plugins:F}=this.uppy.getState();return F[this.id]||{}}setPluginState(F){const{plugins:E}=this.uppy.getState();this.uppy.setState({plugins:{...E,[this.id]:{...E[this.id],...F}}})}setOptions(F){this.opts={...this.opts,...F},this.setPluginState(),this.i18nInit()}i18nInit(){const F=new Translator([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=F.translate.bind(F),this.i18nArray=F.translateArray.bind(F),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}}function _classPrivateFieldLooseBase$7(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$8=0;function _classPrivateFieldLooseKey$7(R){return"__private_"+id$8+++"_"+R}function debounce$2(R){let F=null,E=null;return function(){for(var V=arguments.length,U=new Array(V),W=0;W<V;W++)U[W]=arguments[W];return E=U,F||(F=Promise.resolve().then(()=>(F=null,R(...E)))),F}}var _updateUI=_classPrivateFieldLooseKey$7("updateUI");class UIPlugin extends BasePlugin{constructor(){super(...arguments),Object.defineProperty(this,_updateUI,{writable:!0,value:void 0})}getTargetPlugin(F){let E;if(typeof F=="object"&&F instanceof UIPlugin)E=F;else if(typeof F=="function"){const V=F;this.uppy.iteratePlugins(U=>{U instanceof V&&(E=U)})}return E}mount(F,E){const V=E.id,U=findDOMElement(F);if(U){this.isTargetDOMEl=!0;const G=document.createElement("div");return G.classList.add("uppy-Root"),_classPrivateFieldLooseBase$7(this,_updateUI)[_updateUI]=debounce$2(X=>{!this.uppy.getPlugin(this.id)||(B(this.render(X),G),this.afterUpdate())}),this.uppy.log(`Installing ${V} to a DOM element '${F}'`),this.opts.replaceTargetContent&&(U.innerHTML=""),B(this.render(this.uppy.getState()),G),this.el=G,U.appendChild(G),G.dir=this.opts.direction||getTextDirection(G)||"ltr",this.onMount(),this.el}const W=this.getTargetPlugin(F);if(W)return this.uppy.log(`Installing ${V} to ${W.id}`),this.parent=W,this.el=W.addTarget(E),this.onMount(),this.el;this.uppy.log(`Not installing ${V}`);let Y=`Invalid target option given to ${V}.`;throw typeof F=="function"?Y+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":Y+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(Y)}update(F){if(this.el!=null){var E,V;(E=(V=_classPrivateFieldLooseBase$7(this,_updateUI))[_updateUI])==null||E.call(V,F)}}unmount(){if(this.isTargetDOMEl){var F;(F=this.el)==null||F.remove()}this.onUnmount()}onMount(){}onUnmount(){}}const toArray$4=Array.from;function isDragDropSupported(){const R=document.body;return!(!("draggable"in R)||!("ondragstart"in R&&"ondrop"in R)||!("FormData"in window)||!("FileReader"in window))}function getFilesAndDirectoriesFromDirectory(R,F,E,V){let{onSuccess:U}=V;R.readEntries(W=>{const Y=[...F,...W];W.length?queueMicrotask(()=>{getFilesAndDirectoriesFromDirectory(R,Y,E,{onSuccess:U})}):U(Y)},W=>{E(W),U(F)})}function getAsFileSystemHandleFromEntry(R,F){return R==null?R:{kind:R.isFile?"file":R.isDirectory?"directory":void 0,name:R.name,getFile(){return new Promise((E,V)=>R.file(E,V))},async*values(){const E=R.createReader();yield*await new Promise(U=>{getFilesAndDirectoriesFromDirectory(E,[],F,{onSuccess:W=>U(W.map(Y=>getAsFileSystemHandleFromEntry(Y,F)))})})}}}function createPromiseToAddFileOrParseDirectory(R,F,E){try{return E===void 0&&(E=void 0),async function*(){const V=()=>`${F}/${R.name}`;if(R.kind==="file"){const U=await R.getFile();U!=null?(U.relativePath=F?V():null,yield U):E!=null&&(yield E)}else if(R.kind==="directory")for await(const U of R.values())yield*createPromiseToAddFileOrParseDirectory(U,F?V():R.name);else E!=null&&(yield E)}()}catch(V){return Promise.reject(V)}}async function*getFilesFromDataTransfer(R,F){const E=await Promise.all(Array.from(R.items,async V=>{var U;let W;const Y=()=>typeof V.getAsEntry=="function"?V.getAsEntry():V.webkitGetAsEntry();return(U=W)!=null||(W=getAsFileSystemHandleFromEntry(Y(),F)),{fileSystemHandle:W,lastResortFile:V.getAsFile()}}));for(const{lastResortFile:V,fileSystemHandle:U}of E)if(U!=null)try{yield*createPromiseToAddFileOrParseDirectory(U,"",V)}catch(W){V!=null?yield V:F(W)}else V!=null&&(yield V)}function fallbackApi(R){const F=toArray$4(R.files);return Promise.resolve(F)}async function getDroppedFiles(R,F){let{logDropError:E=()=>{}}=F===void 0?{}:F;try{const V=[];for await(const U of getFilesFromDataTransfer(R,E))V.push(U);return V}catch{return fallbackApi(R)}}const locale$3={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},packageJson$2={version:"3.0.3"};class DragDrop extends UIPlugin{constructor(F,E){super(F,E),this.handleDrop=async U=>{var W,Y;U.preventDefault(),U.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});const G=K=>{this.uppy.log(K,"error")},X=await getDroppedFiles(U.dataTransfer,{logDropError:G});X.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(X)),(W=(Y=this.opts).onDrop)==null||W.call(Y,U)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=locale$3;const V={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};this.opts={...V,...E},this.i18nInit(),this.isDragDropSupported=isDragDropSupported(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(F){const E=F.map(V=>({source:this.id,name:V.name,type:V.type,data:V,meta:{relativePath:V.relativePath||null}}));try{this.uppy.addFiles(E)}catch(V){this.uppy.log(V)}}onInputChange(F){const E=toArray$4(F.target.files);E.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(E)),F.target.value=null}handleDragOver(F){var E,V;F.preventDefault(),F.stopPropagation();const{types:U}=F.dataTransfer,W=U.some(G=>G==="Files"),{allowNewUpload:Y}=this.uppy.getState();if(!W||!Y){F.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}F.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(E=(V=this.opts).onDragOver)==null||E.call(V,F)}handleDragLeave(F){var E,V;F.preventDefault(),F.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(E=(V=this.opts).onDragLeave)==null||E.call(V,F)}renderHiddenFileInput(){const{restrictions:F}=this.uppy.opts;return y$2("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:E=>{this.fileInputRef=E},name:this.opts.inputName,multiple:F.maxNumberOfFiles!==1,accept:F.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},y$2("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return y$2("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:y$2("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return y$2("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){const F=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,E={width:this.opts.width,height:this.opts.height};return y$2("button",{type:"button",className:F,style:E,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),y$2("div",{className:"uppy-DragDrop-inner"},DragDrop.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){const{target:F}=this.opts;this.setPluginState({isDraggingOver:!1}),F&&this.mount(F,this)}uninstall(){this.unmount()}}DragDrop.VERSION=packageJson$2.version;class NetworkError extends Error{constructor(F,E){E===void 0&&(E=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=F,this.isNetworkError=!0,this.request=E}}function fetchWithNetworkError(){return fetch(...arguments).catch(R=>{throw R.name==="AbortError"?R:new NetworkError(R)})}class ErrorWithCause extends Error{constructor(F,E){E===void 0&&(E={}),super(F),this.cause=E.cause,this.cause&&has(this.cause,"isNetworkError")&&(this.isNetworkError=this.cause.isNetworkError)}}function emitSocketProgress(R,F,E){const{progress:V,bytesUploaded:U,bytesTotal:W}=F;V&&(R.uppy.log(`Upload progress: ${V}`),R.uppy.emit("upload-progress",E,{uploader:R,bytesUploaded:U,bytesTotal:W}))}const emitSocketProgress$1=throttle_1(emitSocketProgress,300,{leading:!0,trailing:!0});function getSocketHost(R){const E=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(R)[1];return`${/^http:\/\//i.test(R)?"ws":"wss"}://${E}`}function _classPrivateFieldLooseBase$6(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$7=0;function _classPrivateFieldLooseKey$6(R){return"__private_"+id$7+++"_"+R}var _uppy=_classPrivateFieldLooseKey$6("uppy"),_events=_classPrivateFieldLooseKey$6("events");class EventManager{constructor(F){Object.defineProperty(this,_uppy,{writable:!0,value:void 0}),Object.defineProperty(this,_events,{writable:!0,value:[]}),_classPrivateFieldLooseBase$6(this,_uppy)[_uppy]=F}on(F,E){return _classPrivateFieldLooseBase$6(this,_events)[_events].push([F,E]),_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].on(F,E)}remove(){for(const[F,E]of _classPrivateFieldLooseBase$6(this,_events)[_events].splice(0))_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].off(F,E)}onFilePause(F,E){this.on("upload-pause",(V,U)=>{F===V&&E(U)})}onFileRemove(F,E){this.on("file-removed",V=>{F===V.id&&E(V.id)})}onPause(F,E){this.on("upload-pause",(V,U)=>{F===V&&E(U)})}onRetry(F,E){this.on("upload-retry",V=>{F===V&&E()})}onRetryAll(F,E){this.on("retry-all",()=>{!_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].getFile(F)||E()})}onPauseAll(F,E){this.on("pause-all",()=>{!_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].getFile(F)||E()})}onCancelAll(F,E){var V=this;this.on("cancel-all",function(){!_classPrivateFieldLooseBase$6(V,_uppy)[_uppy].getFile(F)||E(...arguments)})}onResumeAll(F,E){this.on("resume-all",()=>{!_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].getFile(F)||E()})}}class AuthError extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}}let _Symbol$for$1,_Symbol$for2;function _classPrivateFieldLooseBase$5(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$6=0;function _classPrivateFieldLooseKey$5(R){return"__private_"+id$6+++"_"+R}var _queued=_classPrivateFieldLooseKey$5("queued"),_emitter=_classPrivateFieldLooseKey$5("emitter"),_isOpen=_classPrivateFieldLooseKey$5("isOpen"),_socket=_classPrivateFieldLooseKey$5("socket"),_handleMessage=_classPrivateFieldLooseKey$5("handleMessage");_Symbol$for$1=Symbol.for("uppy test: getSocket");_Symbol$for2=Symbol.for("uppy test: getQueued");class UppySocket{constructor(F){Object.defineProperty(this,_queued,{writable:!0,value:[]}),Object.defineProperty(this,_emitter,{writable:!0,value:namespaceEmitter()}),Object.defineProperty(this,_isOpen,{writable:!0,value:!1}),Object.defineProperty(this,_socket,{writable:!0,value:void 0}),Object.defineProperty(this,_handleMessage,{writable:!0,value:E=>{try{const V=JSON.parse(E.data);this.emit(V.action,V.payload)}catch(V){console.log(V)}}}),this.opts=F,(!F||F.autoOpen!==!1)&&this.open()}get isOpen(){return _classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen]}[_Symbol$for$1](){return _classPrivateFieldLooseBase$5(this,_socket)[_socket]}[_Symbol$for2](){return _classPrivateFieldLooseBase$5(this,_queued)[_queued]}open(){_classPrivateFieldLooseBase$5(this,_socket)[_socket]==null&&(_classPrivateFieldLooseBase$5(this,_socket)[_socket]=new WebSocket(this.opts.target),_classPrivateFieldLooseBase$5(this,_socket)[_socket].onopen=()=>{for(_classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen]=!0;_classPrivateFieldLooseBase$5(this,_queued)[_queued].length>0&&_classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen];){const F=_classPrivateFieldLooseBase$5(this,_queued)[_queued].shift();this.send(F.action,F.payload)}},_classPrivateFieldLooseBase$5(this,_socket)[_socket].onclose=()=>{_classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen]=!1,_classPrivateFieldLooseBase$5(this,_socket)[_socket]=null},_classPrivateFieldLooseBase$5(this,_socket)[_socket].onmessage=_classPrivateFieldLooseBase$5(this,_handleMessage)[_handleMessage])}close(){var F;(F=_classPrivateFieldLooseBase$5(this,_socket)[_socket])==null||F.close()}send(F,E){if(!_classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen]){_classPrivateFieldLooseBase$5(this,_queued)[_queued].push({action:F,payload:E});return}_classPrivateFieldLooseBase$5(this,_socket)[_socket].send(JSON.stringify({action:F,payload:E}))}on(F,E){_classPrivateFieldLooseBase$5(this,_emitter)[_emitter].on(F,E)}emit(F,E){_classPrivateFieldLooseBase$5(this,_emitter)[_emitter].emit(F,E)}once(F,E){_classPrivateFieldLooseBase$5(this,_emitter)[_emitter].once(F,E)}}let _Symbol$for;function _classPrivateFieldLooseBase$4(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$5=0;function _classPrivateFieldLooseKey$4(R){return"__private_"+id$5+++"_"+R}const packageJson$1={version:"3.4.1"};function stripSlash(R){return R.replace(/\/$/,"")}async function handleJSONResponse(R){if(R.status===401)throw new AuthError;const F=R.json();if(R.ok)return F;let E=`Failed request with status: ${R.status}. ${R.statusText}`;try{const V=await F;E=V.message?`${E} message: ${V.message}`:E,E=V.requestId?`${E} request-Id: ${V.requestId}`:E}catch{}throw new Error(E)}const allowedHeadersCache=new Map;var _companionHeaders=_classPrivateFieldLooseKey$4("companionHeaders"),_getUrl=_classPrivateFieldLooseKey$4("getUrl"),_requestSocketToken=_classPrivateFieldLooseKey$4("requestSocketToken");_Symbol$for=Symbol.for("uppy test: getCompanionHeaders");class RequestClient{constructor(F,E,V){Object.defineProperty(this,_getUrl,{value:_getUrl2}),Object.defineProperty(this,_companionHeaders,{writable:!0,value:void 0}),Object.defineProperty(this,_requestSocketToken,{writable:!0,value:async(U,W)=>{if(U.remote.url==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(U.remote.url,{...U.remote.body,...W})).token}}),this.uppy=F,this.opts=E,this.getQueue=V,this.onReceiveResponse=this.onReceiveResponse.bind(this),_classPrivateFieldLooseBase$4(this,_companionHeaders)[_companionHeaders]=E==null?void 0:E.companionHeaders}setCompanionHeaders(F){_classPrivateFieldLooseBase$4(this,_companionHeaders)[_companionHeaders]=F}[_Symbol$for](){return _classPrivateFieldLooseBase$4(this,_companionHeaders)[_companionHeaders]}get hostname(){const{companion:F}=this.uppy.getState(),E=this.opts.companionUrl;return stripSlash(F&&F[E]?F[E]:E)}async headers(){return{...{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${RequestClient.VERSION}`},..._classPrivateFieldLooseBase$4(this,_companionHeaders)[_companionHeaders]}}onReceiveResponse(F){let{headers:E}=F;const U=this.uppy.getState().companion||{},W=this.opts.companionUrl;E.has("i-am")&&E.get("i-am")!==U[W]&&this.uppy.setState({companion:{...U,[W]:E.get("i-am")}})}async preflight(F){const E=allowedHeadersCache.get(this.hostname);if(E!=null)return E;const V=["accept","content-type","uppy-auth-token"],U=(async()=>{try{const Y=(await fetch(_classPrivateFieldLooseBase$4(this,_getUrl)[_getUrl](F),{method:"OPTIONS"})).headers.get("access-control-allow-headers");if(Y==null||Y==="*")return allowedHeadersCache.set(this.hostname,V),V;this.uppy.log(`[CompanionClient] adding allowed preflight headers to companion cache: ${this.hostname} ${Y}`);const G=Y.split(",").map(X=>X.trim().toLowerCase());return allowedHeadersCache.set(this.hostname,G),G}catch(W){return this.uppy.log(`[CompanionClient] unable to make preflight request ${W}`,"warning"),allowedHeadersCache.delete(this.hostname),V}})();return allowedHeadersCache.set(this.hostname,U),U}async preflightAndHeaders(F){const[E,V]=await Promise.all([this.preflight(F),this.headers()]);return Object.fromEntries(Object.entries(V).filter(U=>{let[W]=U;return E.includes(W.toLowerCase())?!0:(this.uppy.log(`[CompanionClient] excluding disallowed header ${W}`),!1)}))}async request(F){let{path:E,method:V="GET",data:U,skipPostResponse:W,signal:Y}=F;try{const G=await this.preflightAndHeaders(E),X=await fetchWithNetworkError(_classPrivateFieldLooseBase$4(this,_getUrl)[_getUrl](E),{method:V,signal:Y,headers:G,credentials:this.opts.companionCookiesRule||"same-origin",body:U?JSON.stringify(U):null});return W||this.onReceiveResponse(X),handleJSONResponse(X)}catch(G){throw G!=null&&G.isAuthError?G:new ErrorWithCause(`Could not ${V} ${_classPrivateFieldLooseBase$4(this,_getUrl)[_getUrl](E)}`,{cause:G})}}async get(F,E){return E===void 0&&(E=void 0),typeof E=="boolean"&&(E={skipPostResponse:E}),this.request({...E,path:F})}async post(F,E,V){return V===void 0&&(V=void 0),typeof V=="boolean"&&(V={skipPostResponse:V}),this.request({...V,path:F,method:"POST",data:E})}async delete(F,E,V){return E===void 0&&(E=void 0),typeof V=="boolean"&&(V={skipPostResponse:V}),this.request({...V,path:F,method:"DELETE",data:E})}async uploadRemoteFile(F,E,V){V===void 0&&(V={});try{if(F.serverToken)return await this.connectToServerSocket(F,this.getQueue());const Y=await this.getQueue().wrapPromiseFunction(_classPrivateFieldLooseBase$4(this,_requestSocketToken)[_requestSocketToken],{priority:-1})(F,E).abortOn(V.signal);return this.uppy.getState().files[F.id]?(this.uppy.setFileState(F.id,{serverToken:Y}),await this.connectToServerSocket(this.uppy.getFile(F.id),this.getQueue())):void 0}catch(W){var U;if((W==null||(U=W.cause)==null?void 0:U.name)==="AbortError")return;throw this.uppy.setFileState(F.id,{serverToken:void 0}),this.uppy.emit("upload-error",F,W),W}}async connectToServerSocket(F,E){return new Promise((V,U)=>{const W=F.serverToken,Y=getSocketHost(F.remote.companionUrl),G=new UppySocket({target:`${Y}/api/${W}`,autoOpen:!1}),X=new EventManager(this.uppy);let K;X.onFileRemove(F.id,()=>{G.send("cancel",{}),K.abort(),V(`upload ${F.id} was removed`)}),X.onPause(F.id,Z=>{Z?(G.send("pause",{}),K.abort()):(K.abort(),K=E.run(()=>(G.open(),G.send("resume",{}),()=>{})))}),X.onPauseAll(F.id,()=>{G.send("pause",{}),K.abort()}),X.onCancelAll(F.id,function(Z){let{reason:J}=Z===void 0?{}:Z;J==="user"&&(G.send("cancel",{}),K.abort()),V(`upload ${F.id} was canceled`)}),X.onResumeAll(F.id,()=>{K.abort(),F.error&&G.send("pause",{}),K=E.run(()=>(G.open(),G.send("resume",{}),()=>{}))}),X.onRetry(F.id,()=>{G.isOpen&&(G.send("pause",{}),G.send("resume",{}))}),X.onRetryAll(F.id,()=>{G.isOpen&&(G.send("pause",{}),G.send("resume",{}))}),G.on("progress",Z=>emitSocketProgress$1(this,Z,F)),G.on("error",Z=>{const{message:J}=Z.error,Q=Object.assign(new Error(J),{cause:Z.error});this.opts.useFastRemoteRetry?G.close():this.uppy.setFileState(F.id,{serverToken:null}),this.uppy.emit("upload-error",F,Q),K.done(),U(Q)}),G.on("success",Z=>{const J={uploadURL:Z.url};this.uppy.emit("upload-success",F,J),K.done(),G.close(),V()}),K=E.run(()=>(F.isPaused?G.send("pause",{}):G.open(),()=>{}))})}}function _getUrl2(R){return/^(https?:|)\/\//.test(R)?R:`${this.hostname}/${R}`}RequestClient.VERSION=packageJson$1.version;function setItem(R,F){return new Promise(E=>{localStorage.setItem(R,F),E()})}function getItem(R){return Promise.resolve(localStorage.getItem(R))}function removeItem(R){return new Promise(F=>{localStorage.removeItem(R),F()})}const tokenStorage=Object.freeze(Object.defineProperty({__proto__:null,setItem,getItem,removeItem},Symbol.toStringTag,{value:"Module"}));function _classPrivateFieldLooseBase$3(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$4=0;function _classPrivateFieldLooseKey$3(R){return"__private_"+id$4+++"_"+R}const getName=R=>R.split("-").map(F=>F.charAt(0).toUpperCase()+F.slice(1)).join(" ");function getOrigin(){return location.origin}function getRegex(R){if(typeof R=="string")return new RegExp(`^${R}$`);if(R instanceof RegExp)return R}function isOriginAllowed(R,F){return(Array.isArray(F)?F.map(getRegex):[getRegex(F)]).some(V=>(V==null?void 0:V.test(R))||(V==null?void 0:V.test(`${R}/`)))}var _refreshingTokenPromise=_classPrivateFieldLooseKey$3("refreshingTokenPromise"),_getAuthToken=_classPrivateFieldLooseKey$3("getAuthToken"),_removeAuthToken=_classPrivateFieldLooseKey$3("removeAuthToken");class Provider extends RequestClient{constructor(F,E,V){super(F,E,V),Object.defineProperty(this,_removeAuthToken,{value:_removeAuthToken2}),Object.defineProperty(this,_getAuthToken,{value:_getAuthToken2}),Object.defineProperty(this,_refreshingTokenPromise,{writable:!0,value:void 0}),this.provider=E.provider,this.id=this.provider,this.name=this.opts.name||getName(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}async headers(){const[F,E]=await Promise.all([super.headers(),_classPrivateFieldLooseBase$3(this,_getAuthToken)[_getAuthToken]()]),V={};return E&&(V["uppy-auth-token"]=E),this.companionKeysParams&&(V["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...F,...V}}onReceiveResponse(F){super.onReceiveResponse(F);const E=this.uppy.getPlugin(this.pluginId),U=E.getPluginState().authenticated?F.status!==401:F.status<400;return E.setPluginState({authenticated:U}),F}async setAuthToken(F){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,F)}async ensurePreAuth(){if(this.companionKeysParams&&!this.preAuthToken&&(await this.fetchPreAuthToken(),!this.preAuthToken))throw new Error("Could not load authentication data required for third-party login. Please try again later.")}authUrl(F){F===void 0&&(F={});const E=new URLSearchParams({state:btoa(JSON.stringify({origin:getOrigin()})),...F});return this.preAuthToken&&E.set("uppyPreAuthToken",this.preAuthToken),`${this.hostname}/${this.id}/connect?${E}`}async login(F){return await this.ensurePreAuth(),new Promise((E,V)=>{const U=this.authUrl(F),W=window.open(U,"_blank"),Y=G=>{if(G.source!==W){this.uppy.log.warn("ignoring event from unknown source",G);return}const{companionAllowedHosts:X}=this.uppy.getPlugin(this.pluginId).opts;if(!isOriginAllowed(G.origin,X)){V(new Error(`rejecting event from ${G.origin} vs allowed pattern ${X}`));return}const K=typeof G.data=="string"?JSON.parse(G.data):G.data;if(K.error){const{uppy:Z}=this,J=Z.i18n("authAborted");Z.info({message:J},"warning",5e3),V(new Error("auth aborted"));return}if(!K.token){V(new Error("did not receive token from auth window"));return}W.close(),window.removeEventListener("message",Y),this.setAuthToken(K.token),E()};window.addEventListener("message",Y)})}refreshTokenUrl(){return`${this.hostname}/${this.id}/refresh-token`}fileUrl(F){return`${this.hostname}/${this.id}/get/${F}`}async request(){await _classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise];try{return await super.request(...arguments)}catch(F){if(!F.isAuthError||!await _classPrivateFieldLooseBase$3(this,_getAuthToken)[_getAuthToken]())throw F;return _classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise]==null&&(_classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise]=(async()=>{try{const E=await super.request({path:this.refreshTokenUrl(),method:"POST"});await this.setAuthToken(E.uppyAuthToken)}catch(E){throw E.isAuthError&&await _classPrivateFieldLooseBase$3(this,_removeAuthToken)[_removeAuthToken](),F}finally{_classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise]=void 0}})()),await _classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise],super.request(...arguments)}}async fetchPreAuthToken(){if(!!this.companionKeysParams)try{const F=await this.post(`${this.id}/preauth/`,{params:this.companionKeysParams});this.preAuthToken=F.token}catch(F){this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${F}`,"warning")}}list(F,E){return this.get(`${this.id}/list/${F||""}`,E)}async logout(F){const E=await this.get(`${this.id}/logout`,F);return await _classPrivateFieldLooseBase$3(this,_removeAuthToken)[_removeAuthToken](),E}static initPlugin(F,E,V){if(F.type="acquirer",F.files=[],V&&(F.opts={...V,...E}),E.serverUrl||E.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(E.companionAllowedHosts){const U=E.companionAllowedHosts;if(typeof U!="string"&&!Array.isArray(U)&&!(U instanceof RegExp))throw new TypeError(`${F.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);F.opts.companionAllowedHosts=U}else/^(?!https?:\/\/).*$/i.test(E.companionUrl)?F.opts.companionAllowedHosts=`https://${E.companionUrl.replace(/^\/\//,"")}`:F.opts.companionAllowedHosts=new URL(E.companionUrl).origin;F.storage=F.opts.storage||tokenStorage}}async function _getAuthToken2(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}async function _removeAuthToken2(){return this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)}function _classPrivateFieldLooseBase$2(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$3=0;function _classPrivateFieldLooseKey$2(R){return"__private_"+id$3+++"_"+R}var _aliveTimer=_classPrivateFieldLooseKey$2("aliveTimer"),_isDone=_classPrivateFieldLooseKey$2("isDone"),_onTimedOut=_classPrivateFieldLooseKey$2("onTimedOut"),_timeout=_classPrivateFieldLooseKey$2("timeout");class ProgressTimeout{constructor(F,E){Object.defineProperty(this,_aliveTimer,{writable:!0,value:void 0}),Object.defineProperty(this,_isDone,{writable:!0,value:!1}),Object.defineProperty(this,_onTimedOut,{writable:!0,value:void 0}),Object.defineProperty(this,_timeout,{writable:!0,value:void 0}),_classPrivateFieldLooseBase$2(this,_timeout)[_timeout]=F,_classPrivateFieldLooseBase$2(this,_onTimedOut)[_onTimedOut]=E}progress(){_classPrivateFieldLooseBase$2(this,_isDone)[_isDone]||_classPrivateFieldLooseBase$2(this,_timeout)[_timeout]>0&&(clearTimeout(_classPrivateFieldLooseBase$2(this,_aliveTimer)[_aliveTimer]),_classPrivateFieldLooseBase$2(this,_aliveTimer)[_aliveTimer]=setTimeout(_classPrivateFieldLooseBase$2(this,_onTimedOut)[_onTimedOut],_classPrivateFieldLooseBase$2(this,_timeout)[_timeout]))}done(){_classPrivateFieldLooseBase$2(this,_isDone)[_isDone]||(clearTimeout(_classPrivateFieldLooseBase$2(this,_aliveTimer)[_aliveTimer]),_classPrivateFieldLooseBase$2(this,_aliveTimer)[_aliveTimer]=null,_classPrivateFieldLooseBase$2(this,_isDone)[_isDone]=!0)}}function _classPrivateFieldLooseBase$1(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$2=0;function _classPrivateFieldLooseKey$1(R){return"__private_"+id$2+++"_"+R}function createCancelError(R){return new Error("Cancelled",{cause:R})}function abortOn(R){if(R!=null){var F;const E=()=>this.abort(R.reason);R.addEventListener("abort",E,{once:!0});const V=()=>{R.removeEventListener("abort",E)};(F=this.then)==null||F.call(this,V,V)}return this}var _activeRequests=_classPrivateFieldLooseKey$1("activeRequests"),_queuedHandlers=_classPrivateFieldLooseKey$1("queuedHandlers"),_paused=_classPrivateFieldLooseKey$1("paused"),_pauseTimer=_classPrivateFieldLooseKey$1("pauseTimer"),_downLimit=_classPrivateFieldLooseKey$1("downLimit"),_upperLimit=_classPrivateFieldLooseKey$1("upperLimit"),_rateLimitingTimer=_classPrivateFieldLooseKey$1("rateLimitingTimer"),_call=_classPrivateFieldLooseKey$1("call"),_queueNext=_classPrivateFieldLooseKey$1("queueNext"),_next=_classPrivateFieldLooseKey$1("next"),_queue=_classPrivateFieldLooseKey$1("queue"),_dequeue=_classPrivateFieldLooseKey$1("dequeue"),_resume=_classPrivateFieldLooseKey$1("resume"),_increaseLimit=_classPrivateFieldLooseKey$1("increaseLimit");class RateLimitedQueue{constructor(F){Object.defineProperty(this,_dequeue,{value:_dequeue2}),Object.defineProperty(this,_queue,{value:_queue2}),Object.defineProperty(this,_next,{value:_next2}),Object.defineProperty(this,_queueNext,{value:_queueNext2}),Object.defineProperty(this,_call,{value:_call2}),Object.defineProperty(this,_activeRequests,{writable:!0,value:0}),Object.defineProperty(this,_queuedHandlers,{writable:!0,value:[]}),Object.defineProperty(this,_paused,{writable:!0,value:!1}),Object.defineProperty(this,_pauseTimer,{writable:!0,value:void 0}),Object.defineProperty(this,_downLimit,{writable:!0,value:1}),Object.defineProperty(this,_upperLimit,{writable:!0,value:void 0}),Object.defineProperty(this,_rateLimitingTimer,{writable:!0,value:void 0}),Object.defineProperty(this,_resume,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,_increaseLimit,{writable:!0,value:()=>{if(_classPrivateFieldLooseBase$1(this,_paused)[_paused]){_classPrivateFieldLooseBase$1(this,_rateLimitingTimer)[_rateLimitingTimer]=setTimeout(_classPrivateFieldLooseBase$1(this,_increaseLimit)[_increaseLimit],0);return}_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit]=this.limit,this.limit=Math.ceil((_classPrivateFieldLooseBase$1(this,_upperLimit)[_upperLimit]+_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit])/2);for(let E=_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit];E<=this.limit;E++)_classPrivateFieldLooseBase$1(this,_queueNext)[_queueNext]();_classPrivateFieldLooseBase$1(this,_upperLimit)[_upperLimit]-_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit]>3?_classPrivateFieldLooseBase$1(this,_rateLimitingTimer)[_rateLimitingTimer]=setTimeout(_classPrivateFieldLooseBase$1(this,_increaseLimit)[_increaseLimit],2e3):_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit]=Math.floor(_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit]/2)}}),typeof F!="number"||F===0?this.limit=1/0:this.limit=F}run(F,E){return!_classPrivateFieldLooseBase$1(this,_paused)[_paused]&&_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]<this.limit?_classPrivateFieldLooseBase$1(this,_call)[_call](F):_classPrivateFieldLooseBase$1(this,_queue)[_queue](F,E)}wrapSyncFunction(F,E){var V=this;return function(){for(var U=arguments.length,W=new Array(U),Y=0;Y<U;Y++)W[Y]=arguments[Y];const G=V.run(()=>(F(...W),queueMicrotask(()=>G.done()),()=>{}),E);return{abortOn,abort(){G.abort()}}}}wrapPromiseFunction(F,E){var V=this;return function(){for(var U=arguments.length,W=new Array(U),Y=0;Y<U;Y++)W[Y]=arguments[Y];let G;const X=new Promise((K,Z)=>{G=V.run(()=>{let J,Q;try{Q=Promise.resolve(F(...W))}catch(ee){Q=Promise.reject(ee)}return Q.then(ee=>{J?Z(J):(G.done(),K(ee))},ee=>{J?Z(J):(G.done(),Z(ee))}),ee=>{J=createCancelError(ee)}},E)});return X.abort=K=>{G.abort(K)},X.abortOn=abortOn,X}}resume(){_classPrivateFieldLooseBase$1(this,_paused)[_paused]=!1,clearTimeout(_classPrivateFieldLooseBase$1(this,_pauseTimer)[_pauseTimer]);for(let F=0;F<this.limit;F++)_classPrivateFieldLooseBase$1(this,_queueNext)[_queueNext]()}pause(F){F===void 0&&(F=null),_classPrivateFieldLooseBase$1(this,_paused)[_paused]=!0,clearTimeout(_classPrivateFieldLooseBase$1(this,_pauseTimer)[_pauseTimer]),F!=null&&(_classPrivateFieldLooseBase$1(this,_pauseTimer)[_pauseTimer]=setTimeout(_classPrivateFieldLooseBase$1(this,_resume)[_resume],F))}rateLimit(F){clearTimeout(_classPrivateFieldLooseBase$1(this,_rateLimitingTimer)[_rateLimitingTimer]),this.pause(F),this.limit>1&&Number.isFinite(this.limit)&&(_classPrivateFieldLooseBase$1(this,_upperLimit)[_upperLimit]=this.limit-1,this.limit=_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit],_classPrivateFieldLooseBase$1(this,_rateLimitingTimer)[_rateLimitingTimer]=setTimeout(_classPrivateFieldLooseBase$1(this,_increaseLimit)[_increaseLimit],F))}get isPaused(){return _classPrivateFieldLooseBase$1(this,_paused)[_paused]}}function _call2(R){_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]+=1;let F=!1,E;try{E=R()}catch(V){throw _classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]-=1,V}return{abort:V=>{F||(F=!0,_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]-=1,E(V),_classPrivateFieldLooseBase$1(this,_queueNext)[_queueNext]())},done:()=>{F||(F=!0,_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]-=1,_classPrivateFieldLooseBase$1(this,_queueNext)[_queueNext]())}}}function _queueNext2(){queueMicrotask(()=>_classPrivateFieldLooseBase$1(this,_next)[_next]())}function _next2(){if(_classPrivateFieldLooseBase$1(this,_paused)[_paused]||_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]>=this.limit||_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].length===0)return;const R=_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].shift(),F=_classPrivateFieldLooseBase$1(this,_call)[_call](R.fn);R.abort=F.abort,R.done=F.done}function _queue2(R,F){F===void 0&&(F={});const E={fn:R,priority:F.priority||0,abort:()=>{_classPrivateFieldLooseBase$1(this,_dequeue)[_dequeue](E)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},V=_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].findIndex(U=>E.priority>U.priority);return V===-1?_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].push(E):_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].splice(V,0,E),E}function _dequeue2(R){const F=_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].indexOf(R);F!==-1&&_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].splice(F,1)}const internalRateLimitedQueue=Symbol("__queue");function isNetworkError(R){return R?R.readyState!==0&&R.readyState!==4||R.status===0:!1}function filterNonFailedFiles(R){const F=E=>"error"in E&&E.error;return R.filter(E=>!F(E))}function filterFilesToEmitUploadStarted(R){return R.filter(F=>!F.progress.uploadStarted||!F.isRestored)}const locale$2={strings:{uploadStalled:"Upload has not made any progress for %{seconds} seconds. You may want to retry it."}};function _classPrivateFieldLooseBase(R,F){if(!Object.prototype.hasOwnProperty.call(R,F))throw new TypeError("attempted to use private field on non-instance");return R}var id$1=0;function _classPrivateFieldLooseKey(R){return"__private_"+id$1+++"_"+R}const packageJson={version:"3.4.1"};function buildResponseError(R,F){let E=F;return E||(E=new Error("Upload error")),typeof E=="string"&&(E=new Error(E)),E instanceof Error||(E=Object.assign(new Error("Upload error"),{data:E})),isNetworkError(R)?(E=new NetworkError(E,R),E):(E.request=R,E)}function setTypeInBlob(R){return R.data.slice(0,R.data.size,R.meta.type)}var _uploadLocalFile=_classPrivateFieldLooseKey("uploadLocalFile"),_uploadBundle=_classPrivateFieldLooseKey("uploadBundle"),_getCompanionClientArgs=_classPrivateFieldLooseKey("getCompanionClientArgs"),_uploadFiles=_classPrivateFieldLooseKey("uploadFiles"),_handleUpload=_classPrivateFieldLooseKey("handleUpload");class XHRUpload extends BasePlugin{constructor(F,E){super(F,E),Object.defineProperty(this,_uploadFiles,{value:_uploadFiles2}),Object.defineProperty(this,_getCompanionClientArgs,{value:_getCompanionClientArgs2}),Object.defineProperty(this,_uploadBundle,{value:_uploadBundle2}),Object.defineProperty(this,_uploadLocalFile,{value:_uploadLocalFile2}),Object.defineProperty(this,_handleUpload,{writable:!0,value:async U=>{if(U.length===0){this.uppy.log("[XHRUpload] No files to upload!");return}this.opts.limit===0&&!this.opts[internalRateLimitedQueue]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");const W=this.uppy.getFilesByIds(U),Y=filterNonFailedFiles(W),G=filterFilesToEmitUploadStarted(Y);if(this.uppy.emit("upload-start",G),this.opts.bundle){if(Y.some(K=>K.isRemote))throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");await _classPrivateFieldLooseBase(this,_uploadBundle)[_uploadBundle](Y)}else await _classPrivateFieldLooseBase(this,_uploadFiles)[_uploadFiles](Y)}}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=locale$2;const V={formData:!0,fieldName:E.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData(U){let W={};try{W=JSON.parse(U)}catch(Y){F.log(Y)}return W},getResponseError(U,W){let Y=new Error("Upload error");return isNetworkError(W)&&(Y=new NetworkError(Y,W)),Y},validateStatus(U){return U>=200&&U<300}};if(this.opts={...V,...E},this.i18nInit(),internalRateLimitedQueue in this.opts?this.requests=this.opts[internalRateLimitedQueue]:this.requests=new RateLimitedQueue(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if((E==null?void 0:E.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null)}getOptions(F){const E=this.uppy.getState().xhrUpload,{headers:V}=this.opts,U={...this.opts,...E||{},...F.xhrUpload||{},headers:{}};return typeof V=="function"?U.headers=V(F):Object.assign(U.headers,this.opts.headers),E&&Object.assign(U.headers,E.headers),F.xhrUpload&&Object.assign(U.headers,F.xhrUpload.headers),U}addMetadata(F,E,V){(Array.isArray(V.allowedMetaFields)?V.allowedMetaFields:Object.keys(E)).forEach(W=>{Array.isArray(E[W])?E[W].forEach(Y=>F.append(W,Y)):F.append(W,E[W])})}createFormDataUpload(F,E){const V=new FormData;this.addMetadata(V,F.meta,E);const U=setTypeInBlob(F);return F.name?V.append(E.fieldName,U,F.meta.name):V.append(E.fieldName,U),V}createBundledUpload(F,E){const V=new FormData,{meta:U}=this.uppy.getState();return this.addMetadata(V,U,E),F.forEach(W=>{const Y=this.getOptions(W),G=setTypeInBlob(W);W.name?V.append(Y.fieldName,G,W.name):V.append(Y.fieldName,G)}),V}install(){if(this.opts.bundle){const{capabilities:F}=this.uppy.getState();this.uppy.setState({capabilities:{...F,individualCancellation:!1}})}this.uppy.addUploader(_classPrivateFieldLooseBase(this,_handleUpload)[_handleUpload])}uninstall(){if(this.opts.bundle){const{capabilities:F}=this.uppy.getState();this.uppy.setState({capabilities:{...F,individualCancellation:!0}})}this.uppy.removeUploader(_classPrivateFieldLooseBase(this,_handleUpload)[_handleUpload])}}async function _uploadLocalFile2(R,F,E){const V=this.getOptions(R);return this.uppy.log(`uploading ${F} of ${E}`),new Promise((U,W)=>{const Y=V.formData?this.createFormDataUpload(R,V):R.data,G=new XMLHttpRequest,X=new EventManager(this.uppy);this.uploaderEvents[R.id]=X;let K;const Z=new ProgressTimeout(V.timeout,()=>{const Q=new Error(this.i18n("uploadStalled",{seconds:Math.ceil(V.timeout/1e3)}));this.uppy.emit("upload-stalled",Q,[R])}),J=nanoid();G.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${J} started`)}),G.upload.addEventListener("progress",Q=>{this.uppy.log(`[XHRUpload] ${J} progress: ${Q.loaded} / ${Q.total}`),Z.progress(),Q.lengthComputable&&this.uppy.emit("upload-progress",R,{uploader:this,bytesUploaded:Q.loaded,bytesTotal:Q.total})}),G.addEventListener("load",()=>{if(this.uppy.log(`[XHRUpload] ${J} finished`),Z.done(),K.done(),this.uploaderEvents[R.id]&&(this.uploaderEvents[R.id].remove(),this.uploaderEvents[R.id]=null),V.validateStatus(G.status,G.responseText,G)){const ie=V.getResponseData(G.responseText,G),ne=ie[V.responseUrlFieldName],ae={status:G.status,body:ie,uploadURL:ne};return this.uppy.emit("upload-success",R,ae),ne&&this.uppy.log(`Download ${R.name} from ${ne}`),U(R)}const Q=V.getResponseData(G.responseText,G),ee=buildResponseError(G,V.getResponseError(G.responseText,G)),te={status:G.status,body:Q};return this.uppy.emit("upload-error",R,ee,te),W(ee)}),G.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${J} errored`),Z.done(),K.done(),this.uploaderEvents[R.id]&&(this.uploaderEvents[R.id].remove(),this.uploaderEvents[R.id]=null);const Q=buildResponseError(G,V.getResponseError(G.responseText,G));return this.uppy.emit("upload-error",R,Q),W(Q)}),G.open(V.method.toUpperCase(),V.endpoint,!0),G.withCredentials=V.withCredentials,V.responseType!==""&&(G.responseType=V.responseType),K=this.requests.run(()=>{const Q=this.getOptions(R);return Object.keys(Q.headers).forEach(ee=>{G.setRequestHeader(ee,Q.headers[ee])}),G.send(Y),()=>{Z.done(),G.abort()}}),X.onFileRemove(R.id,()=>{K.abort(),W(new Error("File removed"))}),X.onCancelAll(R.id,Q=>{let{reason:ee}=Q;ee==="user"&&K.abort(),W(new Error("Upload cancelled"))})})}function _uploadBundle2(R){return new Promise((F,E)=>{const{endpoint:V}=this.opts,{method:U}=this.opts,W=this.uppy.getState().xhrUpload,Y=this.createBundledUpload(R,{...this.opts,...W||{}}),G=new XMLHttpRequest,X=Z=>{R.forEach(J=>{this.uppy.emit("upload-error",J,Z)})},K=new ProgressTimeout(this.opts.timeout,()=>{const Z=new Error(this.i18n("uploadStalled",{seconds:Math.ceil(this.opts.timeout/1e3)}));this.uppy.emit("upload-stalled",Z,R)});G.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),K.progress()}),G.upload.addEventListener("progress",Z=>{K.progress(),Z.lengthComputable&&R.forEach(J=>{this.uppy.emit("upload-progress",J,{uploader:this,bytesUploaded:Z.loaded/Z.total*J.size,bytesTotal:J.size})})}),G.addEventListener("load",Z=>{if(K.done(),this.opts.validateStatus(Z.target.status,G.responseText,G)){const Q=this.opts.getResponseData(G.responseText,G),ee={status:Z.target.status,body:Q};return R.forEach(te=>{this.uppy.emit("upload-success",te,ee)}),F()}const J=this.opts.getResponseError(G.responseText,G)||new Error("Upload error");return J.request=G,X(J),E(J)}),G.addEventListener("error",()=>{K.done();const Z=this.opts.getResponseError(G.responseText,G)||new Error("Upload error");return X(Z),E(Z)}),this.uppy.on("cancel-all",function(Z){let{reason:J}=Z===void 0?{}:Z;J==="user"&&(K.done(),G.abort())}),G.open(U.toUpperCase(),V,!0),G.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(G.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(Z=>{G.setRequestHeader(Z,this.opts.headers[Z])}),G.send(Y)})}function _getCompanionClientArgs2(R){const F=this.getOptions(R),E=Array.isArray(F.allowedMetaFields)?F.allowedMetaFields:Object.keys(R.meta);return{...R.remote.body,protocol:"multipart",endpoint:F.endpoint,size:R.data.size,fieldname:F.fieldName,metadata:Object.fromEntries(E.map(V=>[V,R.meta[V]])),httpMethod:F.method,useFormData:F.formData,headers:F.headers}}async function _uploadFiles2(R){await Promise.allSettled(R.map((F,E)=>{const V=parseInt(E,10)+1,U=R.length;if(F.isRemote){const W=F.remote.providerOptions.provider?Provider:RequestClient,Y=()=>this.requests,G=new W(this.uppy,F.remote.providerOptions,Y),X=new AbortController,K=J=>{J.id===F.id&&X.abort()};this.uppy.on("file-removed",K);const Z=G.uploadRemoteFile(F,_classPrivateFieldLooseBase(this,_getCompanionClientArgs)[_getCompanionClientArgs](F),{signal:X.signal});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",K)},{priority:-1})(),Z}return _classPrivateFieldLooseBase(this,_uploadLocalFile)[_uploadLocalFile](F,V,U)}))}XHRUpload.VERSION=packageJson.version;const IconUploader_vue_vue_type_style_index_0_lang="",_sfc_main$1h={mounted(){var R,F;this.uppy=new Uppy({autoProceed:!0,restrictions:{maxNumberOfFiles:1},meta:{access_token:(R=window==null?void 0:window.appState)==null?void 0:R.token}}).use(DragDrop,{target:".UppyDragDrop",locale:{strings:{dropHereOr:this.$t("fileUploaderLabel")}}}).use(XHRUpload,{endpoint:`${((F=window==null?void 0:window.appState)==null?void 0:F.baseApiUrl)||"/api.php"}/cash.account.uploadLogo`,limit:1,fieldName:"logo"}).on("upload-success",(E,V)=>{V.body.error?this.$store.commit("errors/error",{title:"error.api",method:"cash.account.uploadLogo",message:V.body.error_description}):this.$emit("uploaded",V.body)})}};var _sfc_render$1h=function(){var F=this;return F._self._c,F._m(0)},_sfc_staticRenderFns$1h=[function(){var R=this,F=R._self._c;return F("div",{staticClass:"box uploadbox custom-p-0"},[F("div",{staticClass:"UppyDragDrop"})])}],__component__$1h=normalizeComponent(_sfc_main$1h,_sfc_render$1h,_sfc_staticRenderFns$1h,!1,null,null,null,null);const IconUploader=__component__$1h.exports,AddAccount_vue_vue_type_style_index_0_lang="",_sfc_main$1g={components:{InputCurrency,IconUploader},mixins:[updateEntityMixin],props:["editedItem"],data(){return{model:{id:null,name:"",currency:"",starting_balance:"",icon:"",description:""}}},validations:{model:{name:{required:validators_min.exports.required},currency:{required:validators_min.exports.required}}},computed:{sortedCurrencies(){return[...this.$store.state.system.currencies].sort((R,F)=>R.code<F.code?-1:R.code>F.code?1:0)}},mounted(){this.$refs.focus.focus()},methods:{setIcon(R){this.model.icon=R}}};var _sfc_render$1g=function(){var F=this,E=F._self._c;return E("div",{staticClass:"dialog-body"},[E("div",{staticClass:"dialog-header"},[E("h2",[F._v(" "+F._s(F.isModeUpdate?F.$t("updateAccount"):F.$t("addAccount"))+" ")])]),E("div",{staticClass:"dialog-content"},[E("div",{staticClass:"fields"},[E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("name"))+" ")]),E("div",{staticClass:"value"},[E("input",{directives:[{name:"model",rawName:"v-model",value:F.model.name,expression:"model.name"}],ref:"focus",staticClass:"bold large",class:{"state-error":F.$v.model.name.$error},attrs:{type:"text"},domProps:{value:F.model.name},on:{keyup:function(V){return!V.type.indexOf("key")&&F._k(V.keyCode,"enter",13,V.key,"Enter")?null:F.submit("account")},input:function(V){V.target.composing||F.$set(F.model,"name",V.target.value)}}})])]),E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("currency"))+" ")]),E("div",{staticClass:"value"},[E("div",{staticClass:"wa-select solid"},[E("select",{directives:[{name:"model",rawName:"v-model",value:F.model.currency,expression:"model.currency"}],staticClass:"width-50",class:{"state-error":F.$v.model.currency.$error},on:{change:function(V){var U=Array.prototype.filter.call(V.target.options,function(W){return W.selected}).map(function(W){var Y="_value"in W?W._value:W.value;return Y});F.$set(F.model,"currency",V.target.multiple?U:U[0])}}},F._l(F.sortedCurrencies,function(V){return E("option",{key:V.code,domProps:{value:V.code}},[F._v(" "+F._s(V.code)+" \u2013 "+F._s(V.title)+" ("+F._s(V.sign)+") ")])}),0)])])]),F.isModeUpdate?F._e():E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("startingBalance"))+" ")]),E("div",{staticClass:"value"},[E("input-currency",{attrs:{"currency-code":F.model.currency,"show-sign":!1,short:!0,placeholder:"0"},model:{value:F.model.starting_balance,callback:function(V){F.$set(F.model,"starting_balance",V)},expression:"model.starting_balance"}})],1)]),E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("icon"))+" ")]),E("div",{staticClass:"value"},[E("div",{staticClass:"\u0441-icon-uploader"},[F.$helper.isValidHttpUrl(F.model.icon)?E("div",{staticClass:"flexbox middle"},[E("div",{staticClass:"\u0441-icon-uploader-image",style:`background-image:url('${F.model.icon}')`}),E("div",[E("a",{staticClass:"button nobutton smaller",attrs:{href:"#"},on:{click:function(V){V.preventDefault(),F.model.icon=""}}},[F._v(F._s(F.$t("delete")))])])]):E("div",[E("IconUploader",{on:{uploaded:F.setIcon}})],1)])])]),E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("desc"))+" ")]),E("div",{staticClass:"value"},[E("textarea",{directives:[{name:"model",rawName:"v-model",value:F.model.description,expression:"model.description"}],staticClass:"width-100",staticStyle:{resize:"none",height:"auto"},attrs:{rows:"4",placeholder:F.$t("optional")},domProps:{value:F.model.description},on:{input:function(V){V.target.composing||F.$set(F.model,"description",V.target.value)}}})])])])]),E("div",{staticClass:"dialog-footer"},[E("div",{staticClass:"flexbox"},[E("div",{staticClass:"flexbox space-12 wide"},[E("button",{staticClass:"button purple",attrs:{disabled:F.controlsDisabled},on:{click:function(V){return F.submit("account")}}},[F._v(" "+F._s(F.isModeUpdate?F.$t("update"):F.$t("add"))+" ")]),E("button",{staticClass:"button light-gray",on:{click:F.close}},[F._v(" "+F._s(F.$t("cancel"))+" ")])]),F.isModeUpdate?E("button",{staticClass:"button outlined red",attrs:{disabled:F.controlsDisabled},on:{click:function(V){return F.remove("account")}}},[E("span",[F._v(F._s(F.$t("delete")))])]):F._e()])])])},_sfc_staticRenderFns$1g=[],__component__$1g=normalizeComponent(_sfc_main$1g,_sfc_render$1g,_sfc_staticRenderFns$1g,!1,null,null,null,null);const AddAccount=__component__$1g.exports,rowModificatorMixin={methods:{$_rowModificatorMixin_rowModificator_category(R){let F='<div class="flexbox space-8 middle">';return R.color&&(F+=`<div class="icon custom-m-0 ${R.parent_category_id?"custom-ml-12":""}">`,R.glyph?F+=`
            <i class="${R.glyph}" style="color:${R.color};"></i>
          `:F+=`
          <i class="rounded" style="background-color:${R.color};"></i>
            `,F+="</div>"),F+=`<div title="${R.name}" class="text-ellipsis">${R.name}</div>`,F+="</div>",F},$_rowModificatorMixin_rowModificator_account(R){const F=`${R.name}${R.currency?`&nbsp;(${this.$helper.currencySignByCode(R.currency)})`:""}`;return`<div title="${F}" class="text-ellipsis">${F}</div>`}}};var vueClickOutside={exports:{}};(function(R,F){function E(W){return typeof W.value!="function"?(console.warn("[Vue-click-outside:] provided expression",W.expression,"is not a function."),!1):!0}function V(W,Y){if(!W||!Y)return!1;for(var G=0,X=Y.length;G<X;G++)try{if(W.contains(Y[G]))return!0;if(Y[G].contains(W))return!1}catch{return!1}return!1}function U(W){return typeof W.componentInstance<"u"&&W.componentInstance.$isServer}R.exports={bind:function(W,Y,G){if(!E(Y))return;function X(Z){if(!!G.context){var J=Z.path||Z.composedPath&&Z.composedPath();J&&J.length>0&&J.unshift(Z.target),!(W.contains(Z.target)||V(G.context.popupItem,J))&&W.__vueClickOutside__.callback(Z)}}W.__vueClickOutside__={handler:X,callback:Y.value};const K="ontouchstart"in document.documentElement?"touchstart":"click";!U(G)&&document.addEventListener(K,X)},update:function(W,Y){E(Y)&&(W.__vueClickOutside__.callback=Y.value)},unbind:function(W,Y,G){const X="ontouchstart"in document.documentElement?"touchstart":"click";!U(G)&&W.__vueClickOutside__&&document.removeEventListener(X,W.__vueClickOutside__.handler),delete W.__vueClickOutside__}}})(vueClickOutside);const ClickOutside=vueClickOutside.exports,_sfc_main$1f={directives:{ClickOutside},props:{value:{default:null,required:!0},items:{type:Array,required:!0},valuePropName:{type:String,default:"value"},useDefaultValue:{type:Boolean,default:!0},defaultValue:{type:String,default:function(){return this.$t("notSelected")}},rowModificator:{type:Function,default:R=>R.name},isRight:{type:Boolean,default:!1},label:{type:String},groupsLabels:{type:Array,default:()=>[]},maxHeight:{type:Number,default:500},error:{type:Boolean,default:!1}},data(){return{open:!1}},computed:{itemsGroups(){const R=this.items.every(F=>Array.isArray(F))?[...this.items]:[[...this.items]];return this.useDefaultValue?[[{[this.valuePropName]:this.$options.props.value.default,name:this.defaultValue}],...R]:R},activeItem(){const R=this.itemsGroups.flat();return R.find(F=>F[this.valuePropName]===this.value)||R[0]}}};var _sfc_render$1f=function(){var F=this,E=F._self._c;return E("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:()=>F.open=!1,expression:"() => (open = false)"}],staticClass:"dropdown",class:{"is-opened":F.open,"state-error":F.error}},[E("button",{staticClass:"dropdown-toggle button light-gray width-100",on:{click:function(V){V.preventDefault(),F.open=!F.open}}},[F.label?E("div",{staticClass:"smaller gray custom-mb-8 align-left"},[F._v(" "+F._s(F.label)+" ")]):F._e(),E("div",{staticClass:"align-left",domProps:{innerHTML:F._s(F.activeItem[F.valuePropName]!==F.$options.props.value.default?F.rowModificator(F.activeItem):"&nbsp;")}})]),E("div",{staticClass:"dropdown-body",class:{right:F.isRight},style:`max-height:${F.maxHeight}px`},F._l(F.itemsGroups,function(V,U){return E("div",{key:U},[F.groupsLabels[F.useDefaultValue?U-1:U]?E("div",{staticClass:"smaller gray uppercase custom-px-16 custom-py-8"},[F._v(" "+F._s(F.groupsLabels[F.useDefaultValue?U-1:U])+" ")]):F._e(),E("ul",{staticClass:"menu custom-m-0"},F._l(V,function(W,Y){return E("li",{key:Y},[W.name?E("a",{attrs:{href:"#"},domProps:{innerHTML:F._s(F.rowModificator(W))},on:{click:function(G){G.preventDefault(),F.$emit("input",W[F.valuePropName]),F.open=!1}}}):F._e()])}),0)])}),0)])},_sfc_staticRenderFns$1f=[],__component__$1f=normalizeComponent(_sfc_main$1f,_sfc_render$1f,_sfc_staticRenderFns$1f,!1,null,null,null,null);const DropdownWa=__component__$1f.exports;/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */var n,u,t,i,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function s$1(R,F){for(var E in F)R[E]=F[E];return R}function a(R){var F=R.parentNode;F&&F.removeChild(R)}function h$1(R,F,E){var V,U,W,Y,G=arguments;if(F=s$1({},F),arguments.length>3)for(E=[E],V=3;V<arguments.length;V++)E.push(G[V]);if(E!=null&&(F.children=E),R!=null&&R.defaultProps!=null)for(U in R.defaultProps)F[U]===void 0&&(F[U]=R.defaultProps[U]);return Y=F.key,(W=F.ref)!=null&&delete F.ref,Y!=null&&delete F.key,v(R,F,Y,W)}function v(R,F,E,V){var U={type:R,props:F,key:E,ref:V,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(U),U}function d(R){return R.children}function y$1(R){if(R==null||typeof R=="boolean")return null;if(typeof R=="string"||typeof R=="number")return v(null,R,null,null);if(R.__e!=null||R.__c!=null){var F=v(R.type,R.props,R.key,null);return F.__e=R.__e,F}return R}function m(R,F){this.props=R,this.context=F}function w(R,F){if(F==null)return R.__p?w(R.__p,R.__p.__k.indexOf(R)+1):null;for(var E;F<R.__k.length;F++)if((E=R.__k[F])!=null&&E.__e!=null)return E.__e;return typeof R.type=="function"?w(R):null}function g(R){var F,E;if((R=R.__p)!=null&&R.__c!=null){for(R.__e=R.__c.base=null,F=0;F<R.__k.length;F++)if((E=R.__k[F])!=null&&E.__e!=null){R.__e=R.__c.base=E.__e;break}return g(R)}}function k(R){(!R.__d&&(R.__d=!0)&&u.push(R)===1||i!==n.debounceRendering)&&(i=n.debounceRendering,(n.debounceRendering||t)(_))}function _(){var R,F,E,V,U,W,Y,G;for(u.sort(function(X,K){return K.__v.__b-X.__v.__b});R=u.pop();)R.__d&&(E=void 0,V=void 0,W=(U=(F=R).__v).__e,Y=F.__P,G=F.u,F.u=!1,Y&&(E=[],V=$(Y,U,s$1({},U),F.__n,Y.ownerSVGElement!==void 0,null,E,G,W==null?w(U):W),j(E,U),V!=W&&g(U)))}function b(R,F,E,V,U,W,Y,G,X){var K,Z,J,Q,ee,te,ie,ne=E&&E.__k||e,ae=ne.length;if(G==f&&(G=W!=null?W[0]:ae?w(E,0):null),K=0,F.__k=x$1(F.__k,function(se){if(se!=null){if(se.__p=F,se.__b=F.__b+1,(J=ne[K])===null||J&&se.key==J.key&&se.type===J.type)ne[K]=void 0;else for(Z=0;Z<ae;Z++){if((J=ne[Z])&&se.key==J.key&&se.type===J.type){ne[Z]=void 0;break}J=null}if(Q=$(R,se,J=J||f,V,U,W,Y,null,G,X),(Z=se.ref)&&J.ref!=Z&&(ie||(ie=[])).push(Z,se.__c||Q,se),Q!=null){if(te==null&&(te=Q),se.l!=null)Q=se.l,se.l=null;else if(W==J||Q!=G||Q.parentNode==null){e:if(G==null||G.parentNode!==R)R.appendChild(Q);else{for(ee=G,Z=0;(ee=ee.nextSibling)&&Z<ae;Z+=2)if(ee==Q)break e;R.insertBefore(Q,G)}F.type=="option"&&(R.value="")}G=Q.nextSibling,typeof F.type=="function"&&(F.l=Q)}}return K++,se}),F.__e=te,W!=null&&typeof F.type!="function")for(K=W.length;K--;)W[K]!=null&&a(W[K]);for(K=ae;K--;)ne[K]!=null&&D(ne[K],ne[K]);if(ie)for(K=0;K<ie.length;K++)A(ie[K],ie[++K],ie[++K])}function x$1(R,F,E){if(E==null&&(E=[]),R==null||typeof R=="boolean")F&&E.push(F(null));else if(Array.isArray(R))for(var V=0;V<R.length;V++)x$1(R[V],F,E);else E.push(F?F(y$1(R)):R);return E}function C(R,F,E,V,U){var W;for(W in E)W in F||N(R,W,null,E[W],V);for(W in F)U&&typeof F[W]!="function"||W==="value"||W==="checked"||E[W]===F[W]||N(R,W,F[W],E[W],V)}function P(R,F,E){F[0]==="-"?R.setProperty(F,E):R[F]=typeof E=="number"&&c.test(F)===!1?E+"px":E==null?"":E}function N(R,F,E,V,U){var W,Y,G,X,K;if(!((F=U?F==="className"?"class":F:F==="class"?"className":F)==="key"||F==="children"))if(F==="style")if(W=R.style,typeof E=="string")W.cssText=E;else{if(typeof V=="string"&&(W.cssText="",V=null),V)for(Y in V)E&&Y in E||P(W,Y,"");if(E)for(G in E)V&&E[G]===V[G]||P(W,G,E[G])}else F[0]==="o"&&F[1]==="n"?(X=F!==(F=F.replace(/Capture$/,"")),K=F.toLowerCase(),F=(K in R?K:F).slice(2),E?(V||R.addEventListener(F,T,X),(R.t||(R.t={}))[F]=E):R.removeEventListener(F,T,X)):F!=="list"&&F!=="tagName"&&F!=="form"&&!U&&F in R?R[F]=E==null?"":E:typeof E!="function"&&F!=="dangerouslySetInnerHTML"&&(F!==(F=F.replace(/^xlink:?/,""))?E==null||E===!1?R.removeAttributeNS("http://www.w3.org/1999/xlink",F.toLowerCase()):R.setAttributeNS("http://www.w3.org/1999/xlink",F.toLowerCase(),E):E==null||E===!1?R.removeAttribute(F):R.setAttribute(F,E))}function T(R){return this.t[R.type](n.event?n.event(R):R)}function $(R,F,E,V,U,W,Y,G,X,K){var Z,J,Q,ee,te,ie,ne,ae,se,oe,le=F.type;if(F.constructor!==void 0)return null;(Z=n.__b)&&Z(F);try{e:if(typeof le=="function"){if(ae=F.props,se=(Z=le.contextType)&&V[Z.__c],oe=Z?se?se.props.value:Z.__p:V,E.__c?ne=(J=F.__c=E.__c).__p=J.__E:("prototype"in le&&le.prototype.render?F.__c=J=new le(ae,oe):(F.__c=J=new m(ae,oe),J.constructor=le,J.render=H),se&&se.sub(J),J.props=ae,J.state||(J.state={}),J.context=oe,J.__n=V,Q=J.__d=!0,J.__h=[]),J.__s==null&&(J.__s=J.state),le.getDerivedStateFromProps!=null&&s$1(J.__s==J.state?J.__s=s$1({},J.__s):J.__s,le.getDerivedStateFromProps(ae,J.__s)),Q)le.getDerivedStateFromProps==null&&J.componentWillMount!=null&&J.componentWillMount(),J.componentDidMount!=null&&Y.push(J);else{if(le.getDerivedStateFromProps==null&&G==null&&J.componentWillReceiveProps!=null&&J.componentWillReceiveProps(ae,oe),!G&&J.shouldComponentUpdate!=null&&J.shouldComponentUpdate(ae,J.__s,oe)===!1){for(J.props=ae,J.state=J.__s,J.__d=!1,J.__v=F,F.__e=X!=null?X!==E.__e?X:E.__e:null,F.__k=E.__k,Z=0;Z<F.__k.length;Z++)F.__k[Z]&&(F.__k[Z].__p=F);break e}J.componentWillUpdate!=null&&J.componentWillUpdate(ae,J.__s,oe)}for(ee=J.props,te=J.state,J.context=oe,J.props=ae,J.state=J.__s,(Z=n.__r)&&Z(F),J.__d=!1,J.__v=F,J.__P=R,Z=J.render(J.props,J.state,J.context),F.__k=x$1(Z!=null&&Z.type==d&&Z.key==null?Z.props.children:Z),J.getChildContext!=null&&(V=s$1(s$1({},V),J.getChildContext())),Q||J.getSnapshotBeforeUpdate==null||(ie=J.getSnapshotBeforeUpdate(ee,te)),b(R,F,E,V,U,W,Y,X,K),J.base=F.__e;Z=J.__h.pop();)J.__s&&(J.state=J.__s),Z.call(J);Q||ee==null||J.componentDidUpdate==null||J.componentDidUpdate(ee,te,ie),ne&&(J.__E=J.__p=null)}else F.__e=z(E.__e,F,E,V,U,W,Y,K);(Z=n.diffed)&&Z(F)}catch(ue){n.__e(ue,F,E)}return F.__e}function j(R,F){for(var E;E=R.pop();)try{E.componentDidMount()}catch(V){n.__e(V,E.__v)}n.__c&&n.__c(F)}function z(R,F,E,V,U,W,Y,G){var X,K,Z,J,Q=E.props,ee=F.props;if(U=F.type==="svg"||U,R==null&&W!=null){for(X=0;X<W.length;X++)if((K=W[X])!=null&&(F.type===null?K.nodeType===3:K.localName===F.type)){R=K,W[X]=null;break}}if(R==null){if(F.type===null)return document.createTextNode(ee);R=U?document.createElementNS("http://www.w3.org/2000/svg",F.type):document.createElement(F.type),W=null}return F.type===null?Q!==ee&&(W!=null&&(W[W.indexOf(R)]=null),R.data=ee):F!==E&&(W!=null&&(W=e.slice.call(R.childNodes)),Z=(Q=E.props||f).dangerouslySetInnerHTML,J=ee.dangerouslySetInnerHTML,G||(J||Z)&&(J&&Z&&J.__html==Z.__html||(R.innerHTML=J&&J.__html||"")),C(R,ee,Q,U,G),F.__k=F.props.children,J||b(R,F,E,V,F.type!=="foreignObject"&&U,W,Y,f,G),G||("value"in ee&&ee.value!==void 0&&ee.value!==R.value&&(R.value=ee.value==null?"":ee.value),"checked"in ee&&ee.checked!==void 0&&ee.checked!==R.checked&&(R.checked=ee.checked))),R}function A(R,F,E){try{typeof R=="function"?R(F):R.current=F}catch(V){n.__e(V,E)}}function D(R,F,E){var V,U,W;if(n.unmount&&n.unmount(R),(V=R.ref)&&A(V,null,F),E||typeof R.type=="function"||(E=(U=R.__e)!=null),R.__e=R.l=null,(V=R.__c)!=null){if(V.componentWillUnmount)try{V.componentWillUnmount()}catch(Y){n.__e(Y,F)}V.base=V.__P=null}if(V=R.__k)for(W=0;W<V.length;W++)V[W]&&D(V[W],F,E);U!=null&&a(U)}function H(R,F,E){return this.constructor(R,E)}function I(R,F,E){var V,U,W;n.__p&&n.__p(R,F),U=(V=E===r)?null:E&&E.__k||F.__k,R=h$1(d,null,[R]),W=[],$(F,V?F.__k=R:(E||F).__k=R,U||f,f,F.ownerSVGElement!==void 0,E&&!V?[E]:U?null:e.slice.call(F.childNodes),W,!1,E||f,V),j(W,R)}n={},m.prototype.setState=function(R,F){var E=this.__s!==this.state&&this.__s||(this.__s=s$1({},this.state));(typeof R!="function"||(R=R(E,this.props)))&&s$1(E,R),R!=null&&this.__v&&(this.u=!1,F&&this.__h.push(F),k(this))},m.prototype.forceUpdate=function(R){this.__v&&(R&&this.__h.push(R),this.u=!0,k(this))},m.prototype.render=d,u=[],t=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=n.debounceRendering,n.__e=function(R,F,E){for(var V;F=F.__p;)if((V=F.__c)&&!V.__p)try{if(V.constructor&&V.constructor.getDerivedStateFromError!=null)V.setState(V.constructor.getDerivedStateFromError(R));else{if(V.componentDidCatch==null)continue;V.componentDidCatch(R)}return k(V.__E=V)}catch(U){R=U}throw R},r=f;function _defineProperties(R,F){for(var E=0;E<F.length;E++){var V=F[E];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}function _createClass(R,F,E){return F&&_defineProperties(R.prototype,F),E&&_defineProperties(R,E),R}function _extends(){return _extends=Object.assign||function(R){for(var F=arguments,E=1;E<arguments.length;E++){var V=F[E];for(var U in V)Object.prototype.hasOwnProperty.call(V,U)&&(R[U]=V[U])}return R},_extends.apply(this,arguments)}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH_3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH_4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",REGEX_FUNCTIONAL_RGB=new RegExp("rgb"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_RGBA=new RegExp("rgba"+PERMISSIVE_MATCH_4),REGEX_FUNCTIONAL_HSL=new RegExp("hsl"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_HSLA=new RegExp("hsla"+PERMISSIVE_MATCH_4),HEX_START="^(?:#?|0x?)",HEX_INT_SINGLE="([0-9a-fA-F]{1})",HEX_INT_DOUBLE="([0-9a-fA-F]{2})",REGEX_HEX_3=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_4=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_6=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),REGEX_HEX_8=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),KELVIN_MIN=2e3,KELVIN_MAX=4e4,log$1=Math.log,round$3=Math.round,floor=Math.floor;function clamp(R,F,E){return Math.min(Math.max(R,F),E)}function parseUnit(R,F){var E=R.indexOf("%")>-1,V=parseFloat(R);return E?F/100*V:V}function parseHexInt(R){return parseInt(R,16)}function intToHex(R){return R.toString(16).padStart(2,"0")}var IroColor=function(){function R(E,V){this.$={h:0,s:0,v:0,a:1},E&&this.set(E),this.onChange=V,this.initialValue=_extends({},this.$)}var F=R.prototype;return F.set=function(V){if(typeof V=="string")/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(V)?this.hexString=V:/^rgba?/.test(V)?this.rgbString=V:/^hsla?/.test(V)&&(this.hslString=V);else if(typeof V=="object")V instanceof R?this.hsva=V.hsva:"r"in V&&"g"in V&&"b"in V?this.rgb=V:"h"in V&&"s"in V&&"v"in V?this.hsv=V:"h"in V&&"s"in V&&"l"in V?this.hsl=V:"kelvin"in V&&(this.kelvin=V.kelvin);else throw new Error("Invalid color value")},F.setChannel=function(V,U,W){var Y;this[V]=_extends({},this[V],(Y={},Y[U]=W,Y))},F.reset=function(){this.hsva=this.initialValue},F.clone=function(){return new R(this)},F.unbind=function(){this.onChange=void 0},R.hsvToRgb=function(V){var U=V.h/60,W=V.s/100,Y=V.v/100,G=floor(U),X=U-G,K=Y*(1-W),Z=Y*(1-X*W),J=Y*(1-(1-X)*W),Q=G%6,ee=[Y,Z,K,K,J,Y][Q],te=[J,Y,Y,Z,K,K][Q],ie=[K,K,J,Y,Y,Z][Q];return{r:clamp(ee*255,0,255),g:clamp(te*255,0,255),b:clamp(ie*255,0,255)}},R.rgbToHsv=function(V){var U=V.r/255,W=V.g/255,Y=V.b/255,G=Math.max(U,W,Y),X=Math.min(U,W,Y),K=G-X,Z=0,J=G,Q=G===0?0:K/G;switch(G){case X:Z=0;break;case U:Z=(W-Y)/K+(W<Y?6:0);break;case W:Z=(Y-U)/K+2;break;case Y:Z=(U-W)/K+4;break}return{h:Z*60%360,s:clamp(Q*100,0,100),v:clamp(J*100,0,100)}},R.hsvToHsl=function(V){var U=V.s/100,W=V.v/100,Y=(2-U)*W,G=Y<=1?Y:2-Y,X=G<1e-9?0:U*W/G;return{h:V.h,s:clamp(X*100,0,100),l:clamp(Y*50,0,100)}},R.hslToHsv=function(V){var U=V.l*2,W=V.s*(U<=100?U:200-U)/100,Y=U+W<1e-9?0:2*W/(U+W);return{h:V.h,s:clamp(Y*100,0,100),v:clamp((U+W)/2,0,100)}},R.kelvinToRgb=function(V){var U=V/100,W,Y,G;return U<66?(W=255,Y=-155.25485562709179-.44596950469579133*(Y=U-2)+104.49216199393888*log$1(Y),G=U<20?0:-254.76935184120902+.8274096064007395*(G=U-10)+115.67994401066147*log$1(G)):(W=351.97690566805693+.114206453784165*(W=U-55)-40.25366309332127*log$1(W),Y=325.4494125711974+.07943456536662342*(Y=U-50)-28.0852963507957*log$1(Y),G=255),{r:clamp(floor(W),0,255),g:clamp(floor(Y),0,255),b:clamp(floor(G),0,255)}},R.rgbToKelvin=function(V){for(var U=V.r,W=V.b,Y=.4,G=KELVIN_MIN,X=KELVIN_MAX,K;X-G>Y;){K=(X+G)*.5;var Z=R.kelvinToRgb(K);Z.b/Z.r>=W/U?X=K:G=K}return K},_createClass(R,[{key:"hsv",get:function(){var V=this.$;return{h:V.h,s:V.s,v:V.v}},set:function(V){var U=this.$;if(V=_extends({},U,V),this.onChange){var W={h:!1,v:!1,s:!1,a:!1};for(var Y in U)W[Y]=V[Y]!=U[Y];this.$=V,(W.h||W.s||W.v||W.a)&&this.onChange(this,W)}else this.$=V}},{key:"hsva",get:function(){return _extends({},this.$)},set:function(V){this.hsv=V}},{key:"hue",get:function(){return this.$.h},set:function(V){this.hsv={h:V}}},{key:"saturation",get:function(){return this.$.s},set:function(V){this.hsv={s:V}}},{key:"value",get:function(){return this.$.v},set:function(V){this.hsv={v:V}}},{key:"alpha",get:function(){return this.$.a},set:function(V){this.hsv=_extends({},this.hsv,{a:V})}},{key:"kelvin",get:function(){return R.rgbToKelvin(this.rgb)},set:function(V){this.rgb=R.kelvinToRgb(V)}},{key:"red",get:function(){var V=this.rgb;return V.r},set:function(V){this.rgb=_extends({},this.rgb,{r:V})}},{key:"green",get:function(){var V=this.rgb;return V.g},set:function(V){this.rgb=_extends({},this.rgb,{g:V})}},{key:"blue",get:function(){var V=this.rgb;return V.b},set:function(V){this.rgb=_extends({},this.rgb,{b:V})}},{key:"rgb",get:function(){var V=R.hsvToRgb(this.$),U=V.r,W=V.g,Y=V.b;return{r:round$3(U),g:round$3(W),b:round$3(Y)}},set:function(V){this.hsv=_extends({},R.rgbToHsv(V),{a:V.a===void 0?1:V.a})}},{key:"rgba",get:function(){return _extends({},this.rgb,{a:this.alpha})},set:function(V){this.rgb=V}},{key:"hsl",get:function(){var V=R.hsvToHsl(this.$),U=V.h,W=V.s,Y=V.l;return{h:round$3(U),s:round$3(W),l:round$3(Y)}},set:function(V){this.hsv=_extends({},R.hslToHsv(V),{a:V.a===void 0?1:V.a})}},{key:"hsla",get:function(){return _extends({},this.hsl,{a:this.alpha})},set:function(V){this.hsl=V}},{key:"rgbString",get:function(){var V=this.rgb;return"rgb("+V.r+", "+V.g+", "+V.b+")"},set:function(V){var U,W,Y,G,X=1;if((U=REGEX_FUNCTIONAL_RGB.exec(V))?(W=parseUnit(U[1],255),Y=parseUnit(U[2],255),G=parseUnit(U[3],255)):(U=REGEX_FUNCTIONAL_RGBA.exec(V))&&(W=parseUnit(U[1],255),Y=parseUnit(U[2],255),G=parseUnit(U[3],255),X=parseUnit(U[4],1)),U)this.rgb={r:W,g:Y,b:G,a:X};else throw new Error("Invalid rgb string")}},{key:"rgbaString",get:function(){var V=this.rgba;return"rgba("+V.r+", "+V.g+", "+V.b+", "+V.a+")"},set:function(V){this.rgbString=V}},{key:"hexString",get:function(){var V=this.rgb;return"#"+intToHex(V.r)+intToHex(V.g)+intToHex(V.b)},set:function(V){var U,W,Y,G,X=255;if((U=REGEX_HEX_3.exec(V))?(W=parseHexInt(U[1])*17,Y=parseHexInt(U[2])*17,G=parseHexInt(U[3])*17):(U=REGEX_HEX_4.exec(V))?(W=parseHexInt(U[1])*17,Y=parseHexInt(U[2])*17,G=parseHexInt(U[3])*17,X=parseHexInt(U[4])*17):(U=REGEX_HEX_6.exec(V))?(W=parseHexInt(U[1]),Y=parseHexInt(U[2]),G=parseHexInt(U[3])):(U=REGEX_HEX_8.exec(V))&&(W=parseHexInt(U[1]),Y=parseHexInt(U[2]),G=parseHexInt(U[3]),X=parseHexInt(U[4])),U)this.rgb={r:W,g:Y,b:G,a:X/255};else throw new Error("Invalid hex string")}},{key:"hex8String",get:function(){var V=this.rgba;return"#"+intToHex(V.r)+intToHex(V.g)+intToHex(V.b)+intToHex(floor(V.a*255))},set:function(V){this.hexString=V}},{key:"hslString",get:function(){var V=this.hsl;return"hsl("+V.h+", "+V.s+"%, "+V.l+"%)"},set:function(V){var U,W,Y,G,X=1;if((U=REGEX_FUNCTIONAL_HSL.exec(V))?(W=parseUnit(U[1],360),Y=parseUnit(U[2],100),G=parseUnit(U[3],100)):(U=REGEX_FUNCTIONAL_HSLA.exec(V))&&(W=parseUnit(U[1],360),Y=parseUnit(U[2],100),G=parseUnit(U[3],100),X=parseUnit(U[4],1)),U)this.hsl={h:W,s:Y,l:G,a:X};else throw new Error("Invalid hsl string")}},{key:"hslaString",get:function(){var V=this.hsla;return"hsla("+V.h+", "+V.s+"%, "+V.l+"%, "+V.a+")"},set:function(V){this.hslString=V}}]),R}(),sliderDefaultOptions={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function getSliderDimensions(R){var F,E=R.width,V=R.sliderSize,U=R.borderWidth,W=R.handleRadius,Y=R.padding,G=R.sliderShape,X=R.layoutDirection==="horizontal";return V=(F=V)!=null?F:Y*2+W*2,G==="circle"?{handleStart:R.padding+R.handleRadius,handleRange:E-Y*2-W*2,width:E,height:E,cx:E/2,cy:E/2,radius:E/2-U/2}:{handleStart:V/2,handleRange:E-V,radius:V/2,x:0,y:0,width:X?V:E,height:X?E:V}}function getCurrentSliderValue(R,F){var E=F.hsva,V=F.rgb;switch(R.sliderType){case"red":return V.r/2.55;case"green":return V.g/2.55;case"blue":return V.b/2.55;case"alpha":return E.a*100;case"kelvin":var U=R.minTemperature,W=R.maxTemperature,Y=W-U,G=(F.kelvin-U)/Y*100;return Math.max(0,Math.min(G,100));case"hue":return E.h/=3.6;case"saturation":return E.s;case"value":default:return E.v}}function getSliderValueFromInput(R,F,E){var V=getSliderDimensions(R),U=V.handleRange,W=V.handleStart,Y;R.layoutDirection==="horizontal"?Y=-1*E+U+W:Y=F-W,Y=Math.max(Math.min(Y,U),0);var G=Math.round(100/U*Y);switch(R.sliderType){case"kelvin":var X=R.minTemperature,K=R.maxTemperature,Z=K-X;return X+Z*(G/100);case"alpha":return G/100;case"hue":return G*3.6;case"red":case"blue":case"green":return G*2.55;default:return G}}function getSliderHandlePosition(R,F){var E=getSliderDimensions(R),V=E.width,U=E.height,W=E.handleRange,Y=E.handleStart,G=R.layoutDirection==="horizontal",X=getCurrentSliderValue(R,F),K=G?V/2:U/2,Z=Y+X/100*W;return G&&(Z=-1*Z+W+Y*2),{x:G?K:Z,y:G?Z:K}}function getSliderGradient(R,F){var E=F.hsv,V=F.rgb;switch(R.sliderType){case"red":return[[0,"rgb("+0+","+V.g+","+V.b+")"],[100,"rgb("+255+","+V.g+","+V.b+")"]];case"green":return[[0,"rgb("+V.r+","+0+","+V.b+")"],[100,"rgb("+V.r+","+255+","+V.b+")"]];case"blue":return[[0,"rgb("+V.r+","+V.g+","+0+")"],[100,"rgb("+V.r+","+V.g+","+255+")"]];case"alpha":return[[0,"rgba("+V.r+","+V.g+","+V.b+",0)"],[100,"rgb("+V.r+","+V.g+","+V.b+")"]];case"kelvin":for(var U=[],W=R.minTemperature,Y=R.maxTemperature,G=8,X=Y-W,K=W,Z=0;K<Y;K+=X/G,Z+=1){var J=IroColor.kelvinToRgb(K),Q=J.r,ee=J.g,te=J.b;U.push([100/G*Z,"rgb("+Q+","+ee+","+te+")"])}return U;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var ie=IroColor.hsvToHsl({h:E.h,s:0,v:E.v}),ne=IroColor.hsvToHsl({h:E.h,s:100,v:E.v});return[[0,"hsl("+ie.h+","+ie.s+"%,"+ie.l+"%)"],[100,"hsl("+ne.h+","+ne.s+"%,"+ne.l+"%)"]];case"value":default:var ae=IroColor.hsvToHsl({h:E.h,s:E.s,v:100});return[[0,"#000"],[100,"hsl("+ae.h+","+ae.s+"%,"+ae.l+"%)"]]}}var TAU=Math.PI*2,mod=function(F,E){return(F%E+E)%E},dist=function(F,E){return Math.sqrt(F*F+E*E)};function getHandleRange(R){return R.width/2-R.padding-R.handleRadius-R.borderWidth}function isInputInsideWheel(R,F,E){var V=getWheelDimensions(R),U=V.cx,W=V.cy,Y=R.width/2;return dist(U-F,W-E)<Y}function getWheelDimensions(R){var F=R.width/2;return{width:R.width,radius:F-R.borderWidth,cx:F,cy:F}}function translateWheelAngle(R,F,E){var V=R.wheelAngle,U=R.wheelDirection;return E&&U==="clockwise"?F=V+F:U==="clockwise"?F=360-V+F:E&&U==="anticlockwise"?F=V+180-F:U==="anticlockwise"&&(F=V-F),mod(F,360)}function getWheelHandlePosition(R,F){var E=F.hsv,V=getWheelDimensions(R),U=V.cx,W=V.cy,Y=getHandleRange(R),G=(180+translateWheelAngle(R,E.h,!0))*(TAU/360),X=E.s/100*Y,K=R.wheelDirection==="clockwise"?-1:1;return{x:U+X*Math.cos(G)*K,y:W+X*Math.sin(G)*K}}function getWheelValueFromInput(R,F,E){var V=getWheelDimensions(R),U=V.cx,W=V.cy,Y=getHandleRange(R);F=U-F,E=W-E;var G=translateWheelAngle(R,Math.atan2(-E,-F)*(360/TAU)),X=Math.min(dist(F,E),Y);return{h:Math.round(G),s:Math.round(100/Y*X)}}function getBoxDimensions(R){var F=R.width,E=R.boxHeight,V=R.padding,U=R.handleRadius;return{width:F,height:E!=null?E:F,radius:V+U}}function getBoxValueFromInput(R,F,E){var V=getBoxDimensions(R),U=V.width,W=V.height,Y=V.radius,G=Y,X=U-Y*2,K=W-Y*2,Z=(F-G)/X*100,J=(E-G)/K*100;return{s:Math.max(0,Math.min(Z,100)),v:Math.max(0,Math.min(100-J,100))}}function getBoxHandlePosition(R,F){var E=getBoxDimensions(R),V=E.width,U=E.height,W=E.radius,Y=F.hsv,G=W,X=V-W*2,K=U-W*2;return{x:G+Y.s/100*X,y:G+(K-Y.v/100*K)}}function getBoxGradients(R,F){var E=F.hue;return[[[0,"#fff"],[100,"hsl("+E+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}var BASE_ELEMENTS;function resolveSvgUrl(R){BASE_ELEMENTS||(BASE_ELEMENTS=document.getElementsByTagName("base"));var F=window.navigator.userAgent,E=/^((?!chrome|android).)*safari/i.test(F),V=/iPhone|iPod|iPad/i.test(F),U=window.location;return(E||V)&&BASE_ELEMENTS.length>0?U.protocol+"//"+U.host+U.pathname+U.search+R:R}function getHandleAtPoint(R,F,E,V){for(var U=0;U<V.length;U++){var W=V[U].x-F,Y=V[U].y-E,G=Math.sqrt(W*W+Y*Y);if(G<R.handleRadius)return U}return null}function cssBorderStyles(R){return{boxSizing:"border-box",border:R.borderWidth+"px solid "+R.borderColor}}function cssGradient(R,F,E){return R+"-gradient("+F+", "+E.map(function(V){var U=V[0],W=V[1];return W+" "+U+"%"}).join(",")+")"}function cssValue(R){return typeof R=="string"?R:R+"px"}var iroColorPickerOptionDefaults={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},SECONDARY_EVENTS=["mousemove","touchmove","mouseup","touchend"],IroComponentWrapper=function(R){function F(E){R.call(this,E),this.uid=(Math.random()+1).toString(36).substring(5)}return R&&(F.__proto__=R),F.prototype=Object.create(R&&R.prototype),F.prototype.constructor=F,F.prototype.render=function(V){var U=this.handleEvent.bind(this),W={onMouseDown:U,ontouchstart:U},Y=V.layoutDirection==="horizontal",G=V.margin===null?V.sliderMargin:V.margin,X={overflow:"visible",display:Y?"inline-block":"block"};return V.index>0&&(X[Y?"marginLeft":"marginTop"]=G),h$1(d,null,V.children(this.uid,W,X))},F.prototype.handleEvent=function(V){var U=this,W=this.props.onInput,Y=this.base.getBoundingClientRect();V.preventDefault();var G=V.touches?V.changedTouches[0]:V,X=G.clientX-Y.left,K=G.clientY-Y.top;switch(V.type){case"mousedown":case"touchstart":var Z=W(X,K,0);Z!==!1&&SECONDARY_EVENTS.forEach(function(J){document.addEventListener(J,U,{passive:!1})});break;case"mousemove":case"touchmove":W(X,K,1);break;case"mouseup":case"touchend":W(X,K,2),SECONDARY_EVENTS.forEach(function(J){document.removeEventListener(J,U,{passive:!1})});break}},F}(m);function IroHandle(R){var F=R.r,E=R.url,V=F,U=F;return h$1("svg",{className:"IroHandle IroHandle--"+R.index+" "+(R.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+cssValue(R.x)+", "+cssValue(R.y)+")",willChange:"transform",top:cssValue(-F),left:cssValue(-F),width:cssValue(F*2),height:cssValue(F*2),position:"absolute",overflow:"visible"}},E&&h$1("use",Object.assign({xlinkHref:resolveSvgUrl(E)},R.props)),!E&&h$1("circle",{cx:V,cy:U,r:F,fill:"none","stroke-width":2,stroke:"#000"}),!E&&h$1("circle",{cx:V,cy:U,r:F-2,fill:R.fill,"stroke-width":2,stroke:"#fff"}))}IroHandle.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}};function IroSlider(R){var F=R.activeIndex,E=F!==void 0&&F<R.colors.length?R.colors[F]:R.color,V=getSliderDimensions(R),U=V.width,W=V.height,Y=V.radius,G=getSliderHandlePosition(R,E),X=getSliderGradient(R,E);function K(Z,J,Q){var ee=getSliderValueFromInput(R,Z,J);R.parent.inputActive=!0,E[R.sliderType]=ee,R.onInput(Q,R.id)}return h$1(IroComponentWrapper,Object.assign({},R,{onInput:K}),function(Z,J,Q){return h$1("div",Object.assign({},J,{className:"IroSlider",style:Object.assign({},{position:"relative",width:cssValue(U),height:cssValue(W),borderRadius:cssValue(Y),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},Q)}),h$1("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:cssValue(Y),background:cssGradient("linear",R.layoutDirection==="horizontal"?"to top":"to right",X)},cssBorderStyles(R))}),h$1(IroHandle,{isActive:!0,index:E.index,r:R.handleRadius,url:R.handleSvg,props:R.handleProps,x:G.x,y:G.y}))})}IroSlider.defaultProps=Object.assign({},sliderDefaultOptions);function IroBox(R){var F=getBoxDimensions(R),E=F.width,V=F.height,U=F.radius,W=R.colors,Y=R.parent,G=R.activeIndex,X=G!==void 0&&G<R.colors.length?R.colors[G]:R.color,K=getBoxGradients(R,X),Z=W.map(function(Q){return getBoxHandlePosition(R,Q)});function J(Q,ee,te){if(te===0){var ie=getHandleAtPoint(R,Q,ee,Z);ie!==null?Y.setActiveColor(ie):(Y.inputActive=!0,X.hsv=getBoxValueFromInput(R,Q,ee),R.onInput(te,R.id))}else te===1&&(Y.inputActive=!0,X.hsv=getBoxValueFromInput(R,Q,ee));R.onInput(te,R.id)}return h$1(IroComponentWrapper,Object.assign({},R,{onInput:J}),function(Q,ee,te){return h$1("div",Object.assign({},ee,{className:"IroBox",style:Object.assign({},{width:cssValue(E),height:cssValue(V),position:"relative"},te)}),h$1("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:cssValue(U)},cssBorderStyles(R),{background:cssGradient("linear","to bottom",K[1])+","+cssGradient("linear","to right",K[0])})}),W.filter(function(ie){return ie!==X}).map(function(ie){return h$1(IroHandle,{isActive:!1,index:ie.index,fill:ie.hslString,r:R.handleRadius,url:R.handleSvg,props:R.handleProps,x:Z[ie.index].x,y:Z[ie.index].y})}),h$1(IroHandle,{isActive:!0,index:X.index,fill:X.hslString,r:R.activeHandleRadius||R.handleRadius,url:R.handleSvg,props:R.handleProps,x:Z[X.index].x,y:Z[X.index].y}))})}var HUE_GRADIENT_CLOCKWISE="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",HUE_GRADIENT_ANTICLOCKWISE="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function IroWheel(R){var F=getWheelDimensions(R),E=F.width,V=R.colors;R.borderWidth;var U=R.parent,W=R.color,Y=W.hsv,G=V.map(function(Z){return getWheelHandlePosition(R,Z)}),X={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function K(Z,J,Q){if(Q===0){if(!isInputInsideWheel(R,Z,J))return!1;var ee=getHandleAtPoint(R,Z,J,G);ee!==null?U.setActiveColor(ee):(U.inputActive=!0,W.hsv=getWheelValueFromInput(R,Z,J),R.onInput(Q,R.id))}else Q===1&&(U.inputActive=!0,W.hsv=getWheelValueFromInput(R,Z,J));R.onInput(Q,R.id)}return h$1(IroComponentWrapper,Object.assign({},R,{onInput:K}),function(Z,J,Q){return h$1("div",Object.assign({},J,{className:"IroWheel",style:Object.assign({},{width:cssValue(E),height:cssValue(E),position:"relative"},Q)}),h$1("div",{className:"IroWheelHue",style:Object.assign({},X,{transform:"rotateZ("+(R.wheelAngle+90)+"deg)",background:R.wheelDirection==="clockwise"?HUE_GRADIENT_CLOCKWISE:HUE_GRADIENT_ANTICLOCKWISE})}),h$1("div",{className:"IroWheelSaturation",style:Object.assign({},X,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),R.wheelLightness&&h$1("div",{className:"IroWheelLightness",style:Object.assign({},X,{background:"#000",opacity:1-Y.v/100})}),h$1("div",{className:"IroWheelBorder",style:Object.assign({},X,cssBorderStyles(R))}),V.filter(function(ee){return ee!==W}).map(function(ee){return h$1(IroHandle,{isActive:!1,index:ee.index,fill:ee.hslString,r:R.handleRadius,url:R.handleSvg,props:R.handleProps,x:G[ee.index].x,y:G[ee.index].y})}),h$1(IroHandle,{isActive:!0,index:W.index,fill:W.hslString,r:R.activeHandleRadius||R.handleRadius,url:R.handleSvg,props:R.handleProps,x:G[W.index].x,y:G[W.index].y}))})}function createWidget(R){var F=function(E,V){var U,W=document.createElement("div");I(h$1(R,Object.assign({},{ref:function(G){return U=G}},V)),W);function Y(){var G=E instanceof Element?E:document.querySelector(E);G.appendChild(U.base),U.onMount(G)}return document.readyState!=="loading"?Y():document.addEventListener("DOMContentLoaded",Y),U};return F.prototype=R.prototype,Object.assign(F,R),F.__component=R,F}var IroColorPicker=function(R){function F(E){var V=this;R.call(this,E),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=E.id;var U=E.colors.length>0?E.colors:[E.color];U.forEach(function(W){return V.addColor(W)}),this.setActiveColor(0),this.state=Object.assign({},E,{color:this.color,colors:this.colors,layout:E.layout})}return R&&(F.__proto__=R),F.prototype=Object.create(R&&R.prototype),F.prototype.constructor=F,F.prototype.addColor=function(V,U){U===void 0&&(U=this.colors.length);var W=new IroColor(V,this.onColorChange.bind(this));this.colors.splice(U,0,W),this.colors.forEach(function(Y,G){return Y.index=G}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",W)},F.prototype.removeColor=function(V){var U=this.colors.splice(V,1)[0];U.unbind(),this.colors.forEach(function(W,Y){return W.index=Y}),this.state&&this.setState({colors:this.colors}),U.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",U)},F.prototype.setActiveColor=function(V){this.color=this.colors[V],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},F.prototype.setColors=function(V,U){var W=this;U===void 0&&(U=0),this.colors.forEach(function(Y){return Y.unbind()}),this.colors=[],V.forEach(function(Y){return W.addColor(Y)}),this.setActiveColor(U),this.emit("color:setAll",this.colors)},F.prototype.on=function(V,U){var W=this,Y=this.events;(Array.isArray(V)?V:[V]).forEach(function(G){(Y[G]||(Y[G]=[])).push(U),W.deferredEvents[G]&&(W.deferredEvents[G].forEach(function(X){U.apply(null,X)}),W.deferredEvents[G]=[])})},F.prototype.off=function(V,U){var W=this;(Array.isArray(V)?V:[V]).forEach(function(Y){var G=W.events[Y];G&&G.splice(G.indexOf(U),1)})},F.prototype.emit=function(V){for(var U=this,W=[],Y=arguments.length-1;Y-- >0;)W[Y]=arguments[Y+1];var G=this.activeEvents,X=G.hasOwnProperty(V)?G[V]:!1;if(!X){G[V]=!0;var K=this.events[V]||[];K.forEach(function(Z){return Z.apply(U,W)}),G[V]=!1}},F.prototype.deferredEmit=function(V){for(var U,W=[],Y=arguments.length-1;Y-- >0;)W[Y]=arguments[Y+1];var G=this.deferredEvents;(U=this).emit.apply(U,[V].concat(W)),(G[V]||(G[V]=[])).push(W)},F.prototype.setOptions=function(V){this.setState(V)},F.prototype.resize=function(V){this.setOptions({width:V})},F.prototype.reset=function(){this.colors.forEach(function(V){return V.reset()}),this.setState({colors:this.colors})},F.prototype.onMount=function(V){this.el=V,this.deferredEmit("mount",this)},F.prototype.onColorChange=function(V,U){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",V,U)),this.emit("color:change",V,U)},F.prototype.emitInputEvent=function(V,U){V===0?this.emit("input:start",this.color,U):V===1?this.emit("input:move",this.color,U):V===2&&this.emit("input:end",this.color,U)},F.prototype.render=function(V,U){var W=this,Y=U.layout;if(!Array.isArray(Y)){switch(Y){default:Y=[{component:IroWheel},{component:IroSlider}]}U.transparency&&Y.push({component:IroSlider,options:{sliderType:"alpha"}})}return h$1("div",{class:"IroColorPicker",id:U.id,style:{display:U.display}},Y.map(function(G,X){var K=G.component,Z=G.options;return h$1(K,Object.assign({},U,Z,{ref:void 0,onInput:W.emitInputEvent.bind(W),parent:W,index:X}))}))},F}(m);IroColorPicker.defaultProps=Object.assign({},iroColorPickerOptionDefaults,{colors:[],display:"block",id:null,layout:"default",margin:null});var IroColorPickerWidget=createWidget(IroColorPicker),iro;(function(R){R.version="5.5.2",R.Color=IroColor,R.ColorPicker=IroColorPickerWidget,function(F){F.h=h$1,F.ComponentBase=IroComponentWrapper,F.Handle=IroHandle,F.Slider=IroSlider,F.Wheel=IroWheel,F.Box=IroBox}(R.ui||(R.ui={}))})(iro||(iro={}));var iro$1=iro;const ColorPicker_vue_vue_type_style_index_0_lang="",_sfc_main$1e={directives:{ClickOutside},props:["value"],data(){return{showPicker:!1}},mounted(){this.colorPicker=new iro$1.ColorPicker("#c-picker",{width:200,color:this.value,borderWidth:2,borderColor:"#333",wheelLightness:!1,layout:[{component:iro$1.ui.Slider},{component:iro$1.ui.Wheel}]}).on("color:change",R=>{this.$emit("input",R.hexString)})},methods:{clickOutside(){this.showPicker=!1}}};var _sfc_render$1e=function(){var F=this,E=F._self._c;return E("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:F.clickOutside,expression:"clickOutside"}],staticClass:"c-picker"},[E("div",{staticClass:"c-picker__square",class:{"c-picker__square--active":F.showPicker},style:`background-color:${F.value};`,on:{click:function(V){F.showPicker=!0}}}),E("transition",{attrs:{name:"fade"}},[E("div",{directives:[{name:"show",rawName:"v-show",value:F.showPicker,expression:"showPicker"}],staticClass:"c-picker__wheel",attrs:{id:"c-picker"}})])],1)},_sfc_staticRenderFns$1e=[],__component__$1e=normalizeComponent(_sfc_main$1e,_sfc_render$1e,_sfc_staticRenderFns$1e,!1,null,null,null,null);const ColorPicker=__component__$1e.exports,FontAwsomeSelector_vue_vue_type_style_index_0_lang="",icons=["fas fa-circle","fas fa-user-tie","fas fa-flag","fas fa-syringe","fas fa-child","fas fa-mask","fas fa-tools","fas fa-hard-hat","fas fa-lock","fas fa-unlock","fas fa-file","fas fa-broom","fas fa-star","fas fa-pencil-alt","fas fa-bolt","fas fa-lightbulb","fas fa-camera","fas fa-chart-bar","fas fa-book","fas fa-map-marker-alt","fas fa-anchor","fas fa-car","fas fa-balance-scale","fas fa-radiation-alt","fas fa-bug","fas fa-clock","fas fa-coffee","fas fa-home","fas fa-carrot","fas fa-briefcase","fas fa-music","fas fa-grin","fas fa-table-tennis","fas fa-phone","fas fa-paw","fas fa-seedling","fas fa-video","fas fa-store","fas fa-crown","fas fa-church","fas fa-piggy-bank","fas fa-wallet","fas fa-credit-card","fas fa-coins","fas fa-gift","fas fa-shopping-cart","fas fa-shuttle-van","fas fa-tshirt","fas fa-bell","fab fa-btc","fas fa-percent","fas fa-archive","fas fa-plane","fas fa-globe","fas fa-birthday-cake","fas fa-wifi","fas fa-server","fas fa-utensils","fas fa-glass-cheers","fas fa-hands-helping","fas fa-calendar-alt","fas fa-certificate","fas fa-ellipsis-h"],_sfc_main$1d={icons,props:{value:{type:String},color:{type:String}},data(){return{open:!1}}};var _sfc_render$1d=function(){var F=this,E=F._self._c;return E("div",[F.open?F._e():E("div",{staticClass:"flexbox middle space-8"},[E("div",[E("div",{staticClass:"c-icon-item",style:`color: ${F.color};`,on:{click:function(V){F.open=!0}}},[E("i",{class:F.value||F.$options.icons[0]})])]),E("div",[E("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(V){V.preventDefault(),F.open=!0}}},[F._v(F._s(F.$t("change")))])])]),E("div",{directives:[{name:"show",rawName:"v-show",value:F.open,expression:"open"}],staticClass:"c-icon-list"},F._l(F.$options.icons,function(V,U){return E("div",{key:U,staticClass:"c-icon-item",style:`color: ${F.color}`,on:{click:function(W){F.$emit("input",U===0?null:V),F.open=!1}}},[E("i",{class:V})])}),0)])},_sfc_staticRenderFns$1d=[],__component__$1d=normalizeComponent(_sfc_main$1d,_sfc_render$1d,_sfc_staticRenderFns$1d,!1,null,null,null,null);const FontAwsomeSelector=__component__$1d.exports,_sfc_main$1c={components:{ColorPicker,DropdownWa,FontAwsomeSelector},mixins:[updateEntityMixin,rowModificatorMixin],props:{editedItem:{type:Object},type:{type:String,validator:R=>["income","expense"].indexOf(R)!==-1}},data(){return{model:{id:null,name:"",type:"",color:"",is_profit:!1,parent_category_id:null,glyph:null}}},validations:{model:{name:{required:validators_min.exports.required},type:{required:validators_min.exports.required}}},computed:{parentsList(){return this.$store.getters["category/sortedCategories"].filter(R=>{var F;return R.parent_category_id===null&&((F=this.editedItem)==null?void 0:F.id)!==R.id&&R.type===this.model.type&&![-1,-2].includes(R.id)})},showSelectParent(){return this.editedItem?this.$store.getters["category/getChildren"](this.editedItem.id).length<1:!0}},watch:{"model.parent_category_id"(R){this.model.color=R?this.$store.getters["category/getById"](R).color:this.model.type==="income"?"#11CC22":"#EF4B35"},"model.type"(){this.isModeUpdate||(this.model.is_profit=!1)}},created(){this.type&&(this.model.type=this.type,this.model.color=this.model.type==="income"?"#11CC22":"#EF4B35")},mounted(){this.$refs.focus.focus()}};var _sfc_render$1c=function(){var F=this,E=F._self._c;return E("div",{staticClass:"dialog-body",staticStyle:{overflow:"initial"}},[E("div",{staticClass:"dialog-header"},[E("h2",[F._v(" "+F._s(F.isModeUpdate?F.$t("updateCategory"):F.$t("addCategory"))+" ")])]),E("div",{staticClass:"dialog-content"},[E("div",{staticClass:"fields"},[E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("name"))+" ")]),E("div",{staticClass:"value"},[E("input",{directives:[{name:"model",rawName:"v-model",value:F.model.name,expression:"model.name"}],ref:"focus",staticClass:"bold large",class:{"state-error":F.$v.model.name.$error},attrs:{type:"text"},domProps:{value:F.model.name},on:{keyup:function(V){return!V.type.indexOf("key")&&F._k(V.keyCode,"enter",13,V.key,"Enter")?null:F.submit("category")},input:function(V){V.target.composing||F.$set(F.model,"name",V.target.value)}}})])]),E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("type"))+" ")]),E("div",{staticClass:"value"},[E("div",{staticClass:"flexbox middle space-12"},[E("div",{staticClass:"wa-select solid"},[E("select",{directives:[{name:"model",rawName:"v-model",value:F.model.type,expression:"model.type"}],class:{"state-error":F.$v.model.type.$error},on:{change:function(V){var U=Array.prototype.filter.call(V.target.options,function(W){return W.selected}).map(function(W){var Y="_value"in W?W._value:W.value;return Y});F.$set(F.model,"type",V.target.multiple?U:U[0])}}},[E("option",{attrs:{value:"income"}},[F._v(" "+F._s(F.$t("income"))+" ")]),E("option",{attrs:{value:"expense"}},[F._v(" "+F._s(F.$t("expense"))+" ")])])]),F.model.type==="expense"?E("label",{on:{click:function(V){V.preventDefault(),F.model.is_profit=!F.model.is_profit}}},[E("span",{staticClass:"wa-checkbox"},[E("input",{attrs:{type:"checkbox"},domProps:{checked:F.model.is_profit}}),F._m(0)]),F._v(" "+F._s(F.$t("profit"))+" "),F._m(1)]):F._e()]),F.model.type==="income"?E("div",{staticClass:"custom-mt-8"},[E("div",{staticClass:"hint"},[F._v(" "+F._s(F.$t("incomeCategoryExplained"))+" ")])]):F._e(),F.model.type==="expense"&&!F.model.is_profit?E("div",{staticClass:"custom-mt-8"},[E("div",{staticClass:"hint"},[F._v(" "+F._s(F.$t("expenseCategoryExplained"))+" ")])]):F._e(),F.model.is_profit?E("div",{staticClass:"custom-mt-8"},[E("div",{staticClass:"hint"},[F._v(" "+F._s(F.$t("profitCategoryExplained"))+" ")])]):F._e()])]),F.showSelectParent?E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("parentCategory"))+" ")]),E("div",{staticClass:"value"},[E("DropdownWa",{staticClass:"width-100",attrs:{items:F.parentsList,"value-prop-name":"id","row-modificator":F.$_rowModificatorMixin_rowModificator_category,"max-height":200},model:{value:F.model.parent_category_id,callback:function(V){F.$set(F.model,"parent_category_id",V)},expression:"model.parent_category_id"}})],1)]):F._e(),F.model.parent_category_id?F._e():E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("color"))+" ")]),E("div",{staticClass:"value"},[E("ColorPicker",{model:{value:F.model.color,callback:function(V){F.$set(F.model,"color",V)},expression:"model.color"}})],1)]),E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("icon"))+" ")]),E("div",{staticClass:"value"},[E("FontAwsomeSelector",{attrs:{color:F.model.color},model:{value:F.model.glyph,callback:function(V){F.$set(F.model,"glyph",V)},expression:"model.glyph"}})],1)])])]),E("div",{staticClass:"dialog-footer"},[E("div",{staticClass:"flexbox"},[E("div",{staticClass:"flexbox space-12 wide"},[E("button",{staticClass:"button purple",attrs:{disabled:F.controlsDisabled},on:{click:function(V){return F.submit("category")}}},[F._v(" "+F._s(F.isModeUpdate?F.$t("update"):F.$t("add"))+" ")]),E("button",{staticClass:"button light-gray",on:{click:F.close}},[F._v(" "+F._s(F.$t("cancel"))+" ")])]),F.isModeUpdate?E("button",{staticClass:"button outlined red",attrs:{disabled:F.controlsDisabled},on:{click:function(V){return F.remove("category")}}},[E("span",[F._v(F._s(F.$t("delete")))])]):F._e()])])])},_sfc_staticRenderFns$1c=[function(){var R=this,F=R._self._c;return F("span",[F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-check"})])])},function(){var R=this,F=R._self._c;return F("span",{staticClass:"text-blue"},[F("i",{staticClass:"fas fa-coins"})])}],__component__$1c=normalizeComponent(_sfc_main$1c,_sfc_render$1c,_sfc_staticRenderFns$1c,!1,null,null,null,null);const AddCategory=__component__$1c.exports,_sfc_main$1b={components:{Modal:Modal$1,Account:AddAccount,Category:AddCategory},props:["updatingEntityName","type"],data(){return{openModal:!1}}};var _sfc_render$1b=function(){var F=this,E=F._self._c;return E("h6",{staticClass:"heading"},[E("span",[F._t("default")],2),F.$permissions.isAdmin?E("a",{staticClass:"count",on:{click:function(V){F.openModal=!0}}},[E("i",{staticClass:"fas fa-plus-circle"})]):F._e(),E("portal",[F.openModal?E("Modal",{on:{close:function(V){F.openModal=!1}}},[E(F.updatingEntityName,{tag:"component",attrs:{type:F.type}})],1):F._e()],1)],1)},_sfc_staticRenderFns$1b=[],__component__$1b=normalizeComponent(_sfc_main$1b,_sfc_render$1b,_sfc_staticRenderFns$1b,!1,null,null,null,null);const SidebarHeading=__component__$1b.exports,_sfc_main$1a={name:"SortableItemCategory",components:{SortableList},props:{category:{type:Object,required:!0},allowChildren:{type:Boolean,default:!0}},computed:{classes(){return{selected:this.$store.state.currentType==="category"&&this.$store.state.currentTypeId===this.category.id}},childrens(){return this.$store.getters["category/getChildren"](this.category.id)}}};var _sfc_render$1a=function(){var F=this,E=F._self._c;return E("li",{class:F.classes,attrs:{"data-itemid":F.category.id}},[E("router-link",{staticClass:"flexbox middle",attrs:{to:`/category/${F.category.id}`}},[F.category.glyph?E("span",{key:F.category.color,staticClass:"icon"},[E("i",{class:F.category.glyph,style:`color:${F.category.color};`})]):E("span",{staticClass:"icon"},[E("i",{staticClass:"rounded",style:`background-color:${F.category.color};`})]),E("span",[F._v(F._s(F.category.name))]),F.category.is_profit?E("span",{staticClass:"count small",attrs:{title:F.$t("profit")}},[E("i",{staticClass:"fas fa-coins"})]):F._e()]),E("SortableList",{attrs:{items:F.childrens,"parent-id":F.category.id,"sorting-target":"category",group:{name:F.$parent.$attrs.group.name,put:()=>F.allowChildren?F.$parent.$attrs.group.name:!1}}},F._l(F.childrens,function(V){return E("SortableItemCategory",{key:V.id,attrs:{category:V,"allow-children":!1}})}),1)],1)},_sfc_staticRenderFns$1a=[],__component__$1a=normalizeComponent(_sfc_main$1a,_sfc_render$1a,_sfc_staticRenderFns$1a,!1,null,null,null,null);const SortableItemCategory=__component__$1a.exports,_sfc_main$19={components:{SidebarHeading,SortableList,SortableItemCategory},computed:{...mapGetters({categoriesByType:["category/getByType"]}),categoriesIncome(){return this.categoriesByType("income").filter(R=>R.parent_category_id===null)},categoriesExpense(){return this.categoriesByType("expense").filter(R=>R.parent_category_id===null)}}};var _sfc_render$19=function(){var F=this,E=F._self._c;return E("div",[E("SidebarHeading",{staticClass:"custom-mt-24",attrs:{"updating-entity-name":"Category",type:"income"}},[F._v(" "+F._s(F.$t("income"))+" ")]),E("SortableList",{attrs:{items:F.categoriesIncome,"sorting-target":"category",group:{name:"categoriesIncome",pull:!1}}},F._l(F.categoriesIncome,function(V){return E("SortableItemCategory",{key:V.id,attrs:{category:V}})}),1),E("SidebarHeading",{attrs:{"updating-entity-name":"Category",type:"expense"}},[F._v(" "+F._s(F.$t("expense"))+" ")]),E("SortableList",{attrs:{items:F.categoriesExpense,"sorting-target":"category",group:{name:"categoriesExpense",pull:!1}}},F._l(F.categoriesExpense,function(V){return E("SortableItemCategory",{key:V.id,attrs:{category:V}})}),1)],1)},_sfc_staticRenderFns$19=[],__component__$19=normalizeComponent(_sfc_main$19,_sfc_render$19,_sfc_staticRenderFns$19,!1,null,null,null,null);const SidebarCategories=__component__$19.exports,_sfc_main$18={};var _sfc_render$18=function(){var F=this,E=F._self._c;return E("ul",{staticClass:"menu"},[F.$permissions.isAdmin?E("li",[E("router-link",{attrs:{to:"/trash"}},[E("i",{staticClass:"fas fa-trash-alt"}),E("span",[F._v(F._s(F.$t("trash")))])])],1):F._e(),F.$permissions.isAdmin?E("li",[E("a",{attrs:{href:`${F.$helper.baseUrl}plugins/`}},[E("i",{staticClass:"fas fa-plug"}),E("span",[F._v(F._s(F.$t("plugins")))])])]):F._e()])},_sfc_staticRenderFns$18=[],__component__$18=normalizeComponent(_sfc_main$18,_sfc_render$18,_sfc_staticRenderFns$18,!1,null,null,null,null);const SidebarFooter=__component__$18.exports;function bind(R,F){return function(){return R.apply(F,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(R=>F=>{const E=toString.call(F);return R[E]||(R[E]=E.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=R=>(R=R.toLowerCase(),F=>kindOf(F)===R),typeOfTest=R=>F=>typeof F===R,{isArray:isArray$2}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer(R){return R!==null&&!isUndefined$1(R)&&R.constructor!==null&&!isUndefined$1(R.constructor)&&isFunction$1(R.constructor.isBuffer)&&R.constructor.isBuffer(R)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(R){let F;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?F=ArrayBuffer.isView(R):F=R&&R.buffer&&isArrayBuffer(R.buffer),F}const isString$2=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$2=R=>R!==null&&typeof R=="object",isBoolean=R=>R===!0||R===!1,isPlainObject=R=>{if(kindOf(R)!=="object")return!1;const F=getPrototypeOf(R);return(F===null||F===Object.prototype||Object.getPrototypeOf(F)===null)&&!(Symbol.toStringTag in R)&&!(Symbol.iterator in R)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=R=>isObject$2(R)&&isFunction$1(R.pipe),isFormData=R=>{let F;return R&&(typeof FormData=="function"&&R instanceof FormData||isFunction$1(R.append)&&((F=kindOf(R))==="formdata"||F==="object"&&isFunction$1(R.toString)&&R.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim$1=R=>R.trim?R.trim():R.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(R,F,{allOwnKeys:E=!1}={}){if(R===null||typeof R>"u")return;let V,U;if(typeof R!="object"&&(R=[R]),isArray$2(R))for(V=0,U=R.length;V<U;V++)F.call(null,R[V],V,R);else{const W=E?Object.getOwnPropertyNames(R):Object.keys(R),Y=W.length;let G;for(V=0;V<Y;V++)G=W[V],F.call(null,R[G],G,R)}}function findKey(R,F){F=F.toLowerCase();const E=Object.keys(R);let V=E.length,U;for(;V-- >0;)if(U=E[V],F===U.toLowerCase())return U;return null}const _global$1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=R=>!isUndefined$1(R)&&R!==_global$1;function merge$2(){const{caseless:R}=isContextDefined(this)&&this||{},F={},E=(V,U)=>{const W=R&&findKey(F,U)||U;isPlainObject(F[W])&&isPlainObject(V)?F[W]=merge$2(F[W],V):isPlainObject(V)?F[W]=merge$2({},V):isArray$2(V)?F[W]=V.slice():F[W]=V};for(let V=0,U=arguments.length;V<U;V++)arguments[V]&&forEach(arguments[V],E);return F}const extend$2=(R,F,E,{allOwnKeys:V}={})=>(forEach(F,(U,W)=>{E&&isFunction$1(U)?R[W]=bind(U,E):R[W]=U},{allOwnKeys:V}),R),stripBOM=R=>(R.charCodeAt(0)===65279&&(R=R.slice(1)),R),inherits=(R,F,E,V)=>{R.prototype=Object.create(F.prototype,V),R.prototype.constructor=R,Object.defineProperty(R,"super",{value:F.prototype}),E&&Object.assign(R.prototype,E)},toFlatObject=(R,F,E,V)=>{let U,W,Y;const G={};if(F=F||{},R==null)return F;do{for(U=Object.getOwnPropertyNames(R),W=U.length;W-- >0;)Y=U[W],(!V||V(Y,R,F))&&!G[Y]&&(F[Y]=R[Y],G[Y]=!0);R=E!==!1&&getPrototypeOf(R)}while(R&&(!E||E(R,F))&&R!==Object.prototype);return F},endsWith=(R,F,E)=>{R=String(R),(E===void 0||E>R.length)&&(E=R.length),E-=F.length;const V=R.indexOf(F,E);return V!==-1&&V===E},toArray$3=R=>{if(!R)return null;if(isArray$2(R))return R;let F=R.length;if(!isNumber$2(F))return null;const E=new Array(F);for(;F-- >0;)E[F]=R[F];return E},isTypedArray=(R=>F=>R&&F instanceof R)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(R,F)=>{const V=(R&&R[Symbol.iterator]).call(R);let U;for(;(U=V.next())&&!U.done;){const W=U.value;F.call(R,W[0],W[1])}},matchAll=(R,F)=>{let E;const V=[];for(;(E=R.exec(F))!==null;)V.push(E);return V},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=R=>R.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(E,V,U){return V.toUpperCase()+U}),hasOwnProperty=(({hasOwnProperty:R})=>(F,E)=>R.call(F,E))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(R,F)=>{const E=Object.getOwnPropertyDescriptors(R),V={};forEach(E,(U,W)=>{let Y;(Y=F(U,W,R))!==!1&&(V[W]=Y||U)}),Object.defineProperties(R,V)},freezeMethods=R=>{reduceDescriptors(R,(F,E)=>{if(isFunction$1(R)&&["arguments","caller","callee"].indexOf(E)!==-1)return!1;const V=R[E];if(!!isFunction$1(V)){if(F.enumerable=!1,"writable"in F){F.writable=!1;return}F.set||(F.set=()=>{throw Error("Can not rewrite read-only method '"+E+"'")})}})},toObjectSet=(R,F)=>{const E={},V=U=>{U.forEach(W=>{E[W]=!0})};return isArray$2(R)?V(R):V(String(R).split(F)),E},noop$2=()=>{},toFiniteNumber=(R,F)=>(R=+R,Number.isFinite(R)?R:F),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(R=16,F=ALPHABET.ALPHA_DIGIT)=>{let E="";const{length:V}=F;for(;R--;)E+=F[Math.random()*V|0];return E};function isSpecCompliantForm(R){return!!(R&&isFunction$1(R.append)&&R[Symbol.toStringTag]==="FormData"&&R[Symbol.iterator])}const toJSONObject=R=>{const F=new Array(10),E=(V,U)=>{if(isObject$2(V)){if(F.indexOf(V)>=0)return;if(!("toJSON"in V)){F[U]=V;const W=isArray$2(V)?[]:{};return forEach(V,(Y,G)=>{const X=E(Y,U+1);!isUndefined$1(X)&&(W[G]=X)}),F[U]=void 0,W}}return V};return E(R,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=R=>R&&(isObject$2(R)||isFunction$1(R))&&isFunction$1(R.then)&&isFunction$1(R.catch),utils={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$2,isBoolean,isObject:isObject$2,isPlainObject,isUndefined:isUndefined$1,isDate:isDate$1,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$2,extend:extend$2,trim:trim$1,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$3,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey,global:_global$1,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(R,F,E,V,U){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=R,this.name="AxiosError",F&&(this.code=F),E&&(this.config=E),V&&(this.request=V),U&&(this.response=U)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(R=>{descriptors[R]={value:R}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(R,F,E,V,U,W)=>{const Y=Object.create(prototype$1);return utils.toFlatObject(R,Y,function(X){return X!==Error.prototype},G=>G!=="isAxiosError"),AxiosError.call(Y,R.message,F,E,V,U),Y.cause=R,Y.name=R.name,W&&Object.assign(Y,W),Y};const httpAdapter=null;function isVisitable(R){return utils.isPlainObject(R)||utils.isArray(R)}function removeBrackets(R){return utils.endsWith(R,"[]")?R.slice(0,-2):R}function renderKey(R,F,E){return R?R.concat(F).map(function(U,W){return U=removeBrackets(U),!E&&W?"["+U+"]":U}).join(E?".":""):F}function isFlatArray(R){return utils.isArray(R)&&!R.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(F){return/^is[A-Z]/.test(F)});function toFormData(R,F,E){if(!utils.isObject(R))throw new TypeError("target must be an object");F=F||new FormData,E=utils.toFlatObject(E,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ie,ne){return!utils.isUndefined(ne[ie])});const V=E.metaTokens,U=E.visitor||Z,W=E.dots,Y=E.indexes,X=(E.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(F);if(!utils.isFunction(U))throw new TypeError("visitor must be a function");function K(te){if(te===null)return"";if(utils.isDate(te))return te.toISOString();if(!X&&utils.isBlob(te))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(te)||utils.isTypedArray(te)?X&&typeof Blob=="function"?new Blob([te]):Buffer.from(te):te}function Z(te,ie,ne){let ae=te;if(te&&!ne&&typeof te=="object"){if(utils.endsWith(ie,"{}"))ie=V?ie:ie.slice(0,-2),te=JSON.stringify(te);else if(utils.isArray(te)&&isFlatArray(te)||(utils.isFileList(te)||utils.endsWith(ie,"[]"))&&(ae=utils.toArray(te)))return ie=removeBrackets(ie),ae.forEach(function(oe,le){!(utils.isUndefined(oe)||oe===null)&&F.append(Y===!0?renderKey([ie],le,W):Y===null?ie:ie+"[]",K(oe))}),!1}return isVisitable(te)?!0:(F.append(renderKey(ne,ie,W),K(te)),!1)}const J=[],Q=Object.assign(predicates,{defaultVisitor:Z,convertValue:K,isVisitable});function ee(te,ie){if(!utils.isUndefined(te)){if(J.indexOf(te)!==-1)throw Error("Circular reference detected in "+ie.join("."));J.push(te),utils.forEach(te,function(ae,se){(!(utils.isUndefined(ae)||ae===null)&&U.call(F,ae,utils.isString(se)?se.trim():se,ie,Q))===!0&&ee(ae,ie?ie.concat(se):[se])}),J.pop()}}if(!utils.isObject(R))throw new TypeError("data must be an object");return ee(R),F}function encode$2(R){const F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(R).replace(/[!'()~]|%20|%00/g,function(V){return F[V]})}function AxiosURLSearchParams(R,F){this._pairs=[],R&&toFormData(R,this,F)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(F,E){this._pairs.push([F,E])};prototype.toString=function(F){const E=F?function(V){return F.call(this,V,encode$2)}:encode$2;return this._pairs.map(function(U){return E(U[0])+"="+E(U[1])},"").join("&")};function encode$1(R){return encodeURIComponent(R).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(R,F,E){if(!F)return R;const V=E&&E.encode||encode$1,U=E&&E.serialize;let W;if(U?W=U(F,E):W=utils.isURLSearchParams(F)?F.toString():new AxiosURLSearchParams(F,E).toString(V),W){const Y=R.indexOf("#");Y!==-1&&(R=R.slice(0,Y)),R+=(R.indexOf("?")===-1?"?":"&")+W}return R}class InterceptorManager{constructor(){this.handlers=[]}use(F,E,V){return this.handlers.push({fulfilled:F,rejected:E,synchronous:V?V.synchronous:!1,runWhen:V?V.runWhen:null}),this.handlers.length-1}eject(F){this.handlers[F]&&(this.handlers[F]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(F){utils.forEach(this.handlers,function(V){V!==null&&F(V)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let R;return typeof navigator<"u"&&((R=navigator.product)==="ReactNative"||R==="NativeScript"||R==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(R,F){return toFormData(R,new platform$1.classes.URLSearchParams,Object.assign({visitor:function(E,V,U,W){return platform$1.isNode&&utils.isBuffer(E)?(this.append(V,E.toString("base64")),!1):W.defaultVisitor.apply(this,arguments)}},F))}function parsePropPath(R){return utils.matchAll(/\w+|\[(\w*)]/g,R).map(F=>F[0]==="[]"?"":F[1]||F[0])}function arrayToObject(R){const F={},E=Object.keys(R);let V;const U=E.length;let W;for(V=0;V<U;V++)W=E[V],F[W]=R[W];return F}function formDataToJSON(R){function F(E,V,U,W){let Y=E[W++];const G=Number.isFinite(+Y),X=W>=E.length;return Y=!Y&&utils.isArray(U)?U.length:Y,X?(utils.hasOwnProp(U,Y)?U[Y]=[U[Y],V]:U[Y]=V,!G):((!U[Y]||!utils.isObject(U[Y]))&&(U[Y]=[]),F(E,V,U[Y],W)&&utils.isArray(U[Y])&&(U[Y]=arrayToObject(U[Y])),!G)}if(utils.isFormData(R)&&utils.isFunction(R.entries)){const E={};return utils.forEachEntry(R,(V,U)=>{F(parsePropPath(V),U,E,0)}),E}return null}function stringifySafely(R,F,E){if(utils.isString(R))try{return(F||JSON.parse)(R),utils.trim(R)}catch(V){if(V.name!=="SyntaxError")throw V}return(E||JSON.stringify)(R)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(F,E){const V=E.getContentType()||"",U=V.indexOf("application/json")>-1,W=utils.isObject(F);if(W&&utils.isHTMLForm(F)&&(F=new FormData(F)),utils.isFormData(F))return U&&U?JSON.stringify(formDataToJSON(F)):F;if(utils.isArrayBuffer(F)||utils.isBuffer(F)||utils.isStream(F)||utils.isFile(F)||utils.isBlob(F))return F;if(utils.isArrayBufferView(F))return F.buffer;if(utils.isURLSearchParams(F))return E.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),F.toString();let G;if(W){if(V.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(F,this.formSerializer).toString();if((G=utils.isFileList(F))||V.indexOf("multipart/form-data")>-1){const X=this.env&&this.env.FormData;return toFormData(G?{"files[]":F}:F,X&&new X,this.formSerializer)}}return W||U?(E.setContentType("application/json",!1),stringifySafely(F)):F}],transformResponse:[function(F){const E=this.transitional||defaults$1.transitional,V=E&&E.forcedJSONParsing,U=this.responseType==="json";if(F&&utils.isString(F)&&(V&&!this.responseType||U)){const Y=!(E&&E.silentJSONParsing)&&U;try{return JSON.parse(F)}catch(G){if(Y)throw G.name==="SyntaxError"?AxiosError.from(G,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):G}}return F}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(F){return F>=200&&F<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils.forEach(["delete","get","head","post","put","patch"],R=>{defaults$1.headers[R]={}});const defaults$2=defaults$1,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=R=>{const F={};let E,V,U;return R&&R.split(`
`).forEach(function(Y){U=Y.indexOf(":"),E=Y.substring(0,U).trim().toLowerCase(),V=Y.substring(U+1).trim(),!(!E||F[E]&&ignoreDuplicateOf[E])&&(E==="set-cookie"?F[E]?F[E].push(V):F[E]=[V]:F[E]=F[E]?F[E]+", "+V:V)}),F},$internals=Symbol("internals");function normalizeHeader(R){return R&&String(R).trim().toLowerCase()}function normalizeValue(R){return R===!1||R==null?R:utils.isArray(R)?R.map(normalizeValue):String(R)}function parseTokens(R){const F=Object.create(null),E=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let V;for(;V=E.exec(R);)F[V[1]]=V[2];return F}const isValidHeaderName=R=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(R.trim());function matchHeaderValue(R,F,E,V,U){if(utils.isFunction(V))return V.call(this,F,E);if(U&&(F=E),!!utils.isString(F)){if(utils.isString(V))return F.indexOf(V)!==-1;if(utils.isRegExp(V))return V.test(F)}}function formatHeader(R){return R.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(F,E,V)=>E.toUpperCase()+V)}function buildAccessors(R,F){const E=utils.toCamelCase(" "+F);["get","set","has"].forEach(V=>{Object.defineProperty(R,V+E,{value:function(U,W,Y){return this[V].call(this,F,U,W,Y)},configurable:!0})})}class AxiosHeaders{constructor(F){F&&this.set(F)}set(F,E,V){const U=this;function W(G,X,K){const Z=normalizeHeader(X);if(!Z)throw new Error("header name must be a non-empty string");const J=utils.findKey(U,Z);(!J||U[J]===void 0||K===!0||K===void 0&&U[J]!==!1)&&(U[J||X]=normalizeValue(G))}const Y=(G,X)=>utils.forEach(G,(K,Z)=>W(K,Z,X));return utils.isPlainObject(F)||F instanceof this.constructor?Y(F,E):utils.isString(F)&&(F=F.trim())&&!isValidHeaderName(F)?Y(parseHeaders(F),E):F!=null&&W(E,F,V),this}get(F,E){if(F=normalizeHeader(F),F){const V=utils.findKey(this,F);if(V){const U=this[V];if(!E)return U;if(E===!0)return parseTokens(U);if(utils.isFunction(E))return E.call(this,U,V);if(utils.isRegExp(E))return E.exec(U);throw new TypeError("parser must be boolean|regexp|function")}}}has(F,E){if(F=normalizeHeader(F),F){const V=utils.findKey(this,F);return!!(V&&this[V]!==void 0&&(!E||matchHeaderValue(this,this[V],V,E)))}return!1}delete(F,E){const V=this;let U=!1;function W(Y){if(Y=normalizeHeader(Y),Y){const G=utils.findKey(V,Y);G&&(!E||matchHeaderValue(V,V[G],G,E))&&(delete V[G],U=!0)}}return utils.isArray(F)?F.forEach(W):W(F),U}clear(F){const E=Object.keys(this);let V=E.length,U=!1;for(;V--;){const W=E[V];(!F||matchHeaderValue(this,this[W],W,F,!0))&&(delete this[W],U=!0)}return U}normalize(F){const E=this,V={};return utils.forEach(this,(U,W)=>{const Y=utils.findKey(V,W);if(Y){E[Y]=normalizeValue(U),delete E[W];return}const G=F?formatHeader(W):String(W).trim();G!==W&&delete E[W],E[G]=normalizeValue(U),V[G]=!0}),this}concat(...F){return this.constructor.concat(this,...F)}toJSON(F){const E=Object.create(null);return utils.forEach(this,(V,U)=>{V!=null&&V!==!1&&(E[U]=F&&utils.isArray(V)?V.join(", "):V)}),E}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([F,E])=>F+": "+E).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(F){return F instanceof this?F:new this(F)}static concat(F,...E){const V=new this(F);return E.forEach(U=>V.set(U)),V}static accessor(F){const V=(this[$internals]=this[$internals]={accessors:{}}).accessors,U=this.prototype;function W(Y){const G=normalizeHeader(Y);V[G]||(buildAccessors(U,Y),V[G]=!0)}return utils.isArray(F)?F.forEach(W):W(F),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.reduceDescriptors(AxiosHeaders.prototype,({value:R},F)=>{let E=F[0].toUpperCase()+F.slice(1);return{get:()=>R,set(V){this[E]=V}}});utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(R,F){const E=this||defaults$2,V=F||E,U=AxiosHeaders$1.from(V.headers);let W=V.data;return utils.forEach(R,function(G){W=G.call(E,W,U.normalize(),F?F.status:void 0)}),U.normalize(),W}function isCancel(R){return!!(R&&R.__CANCEL__)}function CanceledError(R,F,E){AxiosError.call(this,R==null?"canceled":R,AxiosError.ERR_CANCELED,F,E),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(R,F,E){const V=E.config.validateStatus;!E.status||!V||V(E.status)?R(E):F(new AxiosError("Request failed with status code "+E.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(E.status/100)-4],E.config,E.request,E))}const cookies=platform$1.isStandardBrowserEnv?function(){return{write:function(E,V,U,W,Y,G){const X=[];X.push(E+"="+encodeURIComponent(V)),utils.isNumber(U)&&X.push("expires="+new Date(U).toGMTString()),utils.isString(W)&&X.push("path="+W),utils.isString(Y)&&X.push("domain="+Y),G===!0&&X.push("secure"),document.cookie=X.join("; ")},read:function(E){const V=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return V?decodeURIComponent(V[3]):null},remove:function(E){this.write(E,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(R){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(R)}function combineURLs(R,F){return F?R.replace(/\/+$/,"")+"/"+F.replace(/^\/+/,""):R}function buildFullPath(R,F){return R&&!isAbsoluteURL(F)?combineURLs(R,F):F}const isURLSameOrigin=platform$1.isStandardBrowserEnv?function(){const F=/(msie|trident)/i.test(navigator.userAgent),E=document.createElement("a");let V;function U(W){let Y=W;return F&&(E.setAttribute("href",Y),Y=E.href),E.setAttribute("href",Y),{href:E.href,protocol:E.protocol?E.protocol.replace(/:$/,""):"",host:E.host,search:E.search?E.search.replace(/^\?/,""):"",hash:E.hash?E.hash.replace(/^#/,""):"",hostname:E.hostname,port:E.port,pathname:E.pathname.charAt(0)==="/"?E.pathname:"/"+E.pathname}}return V=U(window.location.href),function(Y){const G=utils.isString(Y)?U(Y):Y;return G.protocol===V.protocol&&G.host===V.host}}():function(){return function(){return!0}}();function parseProtocol(R){const F=/^([-+\w]{1,25})(:?\/\/|:)/.exec(R);return F&&F[1]||""}function speedometer(R,F){R=R||10;const E=new Array(R),V=new Array(R);let U=0,W=0,Y;return F=F!==void 0?F:1e3,function(X){const K=Date.now(),Z=V[W];Y||(Y=K),E[U]=X,V[U]=K;let J=W,Q=0;for(;J!==U;)Q+=E[J++],J=J%R;if(U=(U+1)%R,U===W&&(W=(W+1)%R),K-Y<F)return;const ee=Z&&K-Z;return ee?Math.round(Q*1e3/ee):void 0}}function progressEventReducer(R,F){let E=0;const V=speedometer(50,250);return U=>{const W=U.loaded,Y=U.lengthComputable?U.total:void 0,G=W-E,X=V(G),K=W<=Y;E=W;const Z={loaded:W,total:Y,progress:Y?W/Y:void 0,bytes:G,rate:X||void 0,estimated:X&&Y&&K?(Y-W)/X:void 0,event:U};Z[F?"download":"upload"]=!0,R(Z)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(R){return new Promise(function(E,V){let U=R.data;const W=AxiosHeaders$1.from(R.headers).normalize(),Y=R.responseType;let G;function X(){R.cancelToken&&R.cancelToken.unsubscribe(G),R.signal&&R.signal.removeEventListener("abort",G)}let K;utils.isFormData(U)&&(platform$1.isStandardBrowserEnv||platform$1.isStandardBrowserWebWorkerEnv?W.setContentType(!1):W.getContentType(/^\s*multipart\/form-data/)?utils.isString(K=W.getContentType())&&W.setContentType(K.replace(/^\s*(multipart\/form-data);+/,"$1")):W.setContentType("multipart/form-data"));let Z=new XMLHttpRequest;if(R.auth){const te=R.auth.username||"",ie=R.auth.password?unescape(encodeURIComponent(R.auth.password)):"";W.set("Authorization","Basic "+btoa(te+":"+ie))}const J=buildFullPath(R.baseURL,R.url);Z.open(R.method.toUpperCase(),buildURL(J,R.params,R.paramsSerializer),!0),Z.timeout=R.timeout;function Q(){if(!Z)return;const te=AxiosHeaders$1.from("getAllResponseHeaders"in Z&&Z.getAllResponseHeaders()),ne={data:!Y||Y==="text"||Y==="json"?Z.responseText:Z.response,status:Z.status,statusText:Z.statusText,headers:te,config:R,request:Z};settle(function(se){E(se),X()},function(se){V(se),X()},ne),Z=null}if("onloadend"in Z?Z.onloadend=Q:Z.onreadystatechange=function(){!Z||Z.readyState!==4||Z.status===0&&!(Z.responseURL&&Z.responseURL.indexOf("file:")===0)||setTimeout(Q)},Z.onabort=function(){!Z||(V(new AxiosError("Request aborted",AxiosError.ECONNABORTED,R,Z)),Z=null)},Z.onerror=function(){V(new AxiosError("Network Error",AxiosError.ERR_NETWORK,R,Z)),Z=null},Z.ontimeout=function(){let ie=R.timeout?"timeout of "+R.timeout+"ms exceeded":"timeout exceeded";const ne=R.transitional||transitionalDefaults;R.timeoutErrorMessage&&(ie=R.timeoutErrorMessage),V(new AxiosError(ie,ne.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,R,Z)),Z=null},platform$1.isStandardBrowserEnv){const te=(R.withCredentials||isURLSameOrigin(J))&&R.xsrfCookieName&&cookies.read(R.xsrfCookieName);te&&W.set(R.xsrfHeaderName,te)}U===void 0&&W.setContentType(null),"setRequestHeader"in Z&&utils.forEach(W.toJSON(),function(ie,ne){Z.setRequestHeader(ne,ie)}),utils.isUndefined(R.withCredentials)||(Z.withCredentials=!!R.withCredentials),Y&&Y!=="json"&&(Z.responseType=R.responseType),typeof R.onDownloadProgress=="function"&&Z.addEventListener("progress",progressEventReducer(R.onDownloadProgress,!0)),typeof R.onUploadProgress=="function"&&Z.upload&&Z.upload.addEventListener("progress",progressEventReducer(R.onUploadProgress)),(R.cancelToken||R.signal)&&(G=te=>{!Z||(V(!te||te.type?new CanceledError(null,R,Z):te),Z.abort(),Z=null)},R.cancelToken&&R.cancelToken.subscribe(G),R.signal&&(R.signal.aborted?G():R.signal.addEventListener("abort",G)));const ee=parseProtocol(J);if(ee&&platform$1.protocols.indexOf(ee)===-1){V(new AxiosError("Unsupported protocol "+ee+":",AxiosError.ERR_BAD_REQUEST,R));return}Z.send(U||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(R,F)=>{if(R){try{Object.defineProperty(R,"name",{value:F})}catch{}Object.defineProperty(R,"adapterName",{value:F})}});const renderReason=R=>`- ${R}`,isResolvedHandle=R=>utils.isFunction(R)||R===null||R===!1,adapters={getAdapter:R=>{R=utils.isArray(R)?R:[R];const{length:F}=R;let E,V;const U={};for(let W=0;W<F;W++){E=R[W];let Y;if(V=E,!isResolvedHandle(E)&&(V=knownAdapters[(Y=String(E)).toLowerCase()],V===void 0))throw new AxiosError(`Unknown adapter '${Y}'`);if(V)break;U[Y||"#"+W]=V}if(!V){const W=Object.entries(U).map(([G,X])=>`adapter ${G} `+(X===!1?"is not supported by the environment":"is not available in the build"));let Y=F?W.length>1?`since :
`+W.map(renderReason).join(`
`):" "+renderReason(W[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Y,"ERR_NOT_SUPPORT")}return V},adapters:knownAdapters};function throwIfCancellationRequested(R){if(R.cancelToken&&R.cancelToken.throwIfRequested(),R.signal&&R.signal.aborted)throw new CanceledError(null,R)}function dispatchRequest(R){return throwIfCancellationRequested(R),R.headers=AxiosHeaders$1.from(R.headers),R.data=transformData.call(R,R.transformRequest),["post","put","patch"].indexOf(R.method)!==-1&&R.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(R.adapter||defaults$2.adapter)(R).then(function(V){return throwIfCancellationRequested(R),V.data=transformData.call(R,R.transformResponse,V),V.headers=AxiosHeaders$1.from(V.headers),V},function(V){return isCancel(V)||(throwIfCancellationRequested(R),V&&V.response&&(V.response.data=transformData.call(R,R.transformResponse,V.response),V.response.headers=AxiosHeaders$1.from(V.response.headers))),Promise.reject(V)})}const headersToObject=R=>R instanceof AxiosHeaders$1?R.toJSON():R;function mergeConfig(R,F){F=F||{};const E={};function V(K,Z,J){return utils.isPlainObject(K)&&utils.isPlainObject(Z)?utils.merge.call({caseless:J},K,Z):utils.isPlainObject(Z)?utils.merge({},Z):utils.isArray(Z)?Z.slice():Z}function U(K,Z,J){if(utils.isUndefined(Z)){if(!utils.isUndefined(K))return V(void 0,K,J)}else return V(K,Z,J)}function W(K,Z){if(!utils.isUndefined(Z))return V(void 0,Z)}function Y(K,Z){if(utils.isUndefined(Z)){if(!utils.isUndefined(K))return V(void 0,K)}else return V(void 0,Z)}function G(K,Z,J){if(J in F)return V(K,Z);if(J in R)return V(void 0,K)}const X={url:W,method:W,data:W,baseURL:Y,transformRequest:Y,transformResponse:Y,paramsSerializer:Y,timeout:Y,timeoutMessage:Y,withCredentials:Y,adapter:Y,responseType:Y,xsrfCookieName:Y,xsrfHeaderName:Y,onUploadProgress:Y,onDownloadProgress:Y,decompress:Y,maxContentLength:Y,maxBodyLength:Y,beforeRedirect:Y,transport:Y,httpAgent:Y,httpsAgent:Y,cancelToken:Y,socketPath:Y,responseEncoding:Y,validateStatus:G,headers:(K,Z)=>U(headersToObject(K),headersToObject(Z),!0)};return utils.forEach(Object.keys(Object.assign({},R,F)),function(Z){const J=X[Z]||U,Q=J(R[Z],F[Z],Z);utils.isUndefined(Q)&&J!==G||(E[Z]=Q)}),E}const VERSION="1.5.1",validators$1={};["object","boolean","number","function","string","symbol"].forEach((R,F)=>{validators$1[R]=function(V){return typeof V===R||"a"+(F<1?"n ":" ")+R}});const deprecatedWarnings={};validators$1.transitional=function(F,E,V){function U(W,Y){return"[Axios v"+VERSION+"] Transitional option '"+W+"'"+Y+(V?". "+V:"")}return(W,Y,G)=>{if(F===!1)throw new AxiosError(U(Y," has been removed"+(E?" in "+E:"")),AxiosError.ERR_DEPRECATED);return E&&!deprecatedWarnings[Y]&&(deprecatedWarnings[Y]=!0,console.warn(U(Y," has been deprecated since v"+E+" and will be removed in the near future"))),F?F(W,Y,G):!0}};function assertOptions(R,F,E){if(typeof R!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const V=Object.keys(R);let U=V.length;for(;U-- >0;){const W=V[U],Y=F[W];if(Y){const G=R[W],X=G===void 0||Y(G,W,R);if(X!==!0)throw new AxiosError("option "+W+" must be "+X,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(E!==!0)throw new AxiosError("Unknown option "+W,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(F){this.defaults=F,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(F,E){typeof F=="string"?(E=E||{},E.url=F):E=F||{},E=mergeConfig(this.defaults,E);const{transitional:V,paramsSerializer:U,headers:W}=E;V!==void 0&&validator.assertOptions(V,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),U!=null&&(utils.isFunction(U)?E.paramsSerializer={serialize:U}:validator.assertOptions(U,{encode:validators.function,serialize:validators.function},!0)),E.method=(E.method||this.defaults.method||"get").toLowerCase();let Y=W&&utils.merge(W.common,W[E.method]);W&&utils.forEach(["delete","get","head","post","put","patch","common"],te=>{delete W[te]}),E.headers=AxiosHeaders$1.concat(Y,W);const G=[];let X=!0;this.interceptors.request.forEach(function(ie){typeof ie.runWhen=="function"&&ie.runWhen(E)===!1||(X=X&&ie.synchronous,G.unshift(ie.fulfilled,ie.rejected))});const K=[];this.interceptors.response.forEach(function(ie){K.push(ie.fulfilled,ie.rejected)});let Z,J=0,Q;if(!X){const te=[dispatchRequest.bind(this),void 0];for(te.unshift.apply(te,G),te.push.apply(te,K),Q=te.length,Z=Promise.resolve(E);J<Q;)Z=Z.then(te[J++],te[J++]);return Z}Q=G.length;let ee=E;for(J=0;J<Q;){const te=G[J++],ie=G[J++];try{ee=te(ee)}catch(ne){ie.call(this,ne);break}}try{Z=dispatchRequest.call(this,ee)}catch(te){return Promise.reject(te)}for(J=0,Q=K.length;J<Q;)Z=Z.then(K[J++],K[J++]);return Z}getUri(F){F=mergeConfig(this.defaults,F);const E=buildFullPath(F.baseURL,F.url);return buildURL(E,F.params,F.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(F){Axios.prototype[F]=function(E,V){return this.request(mergeConfig(V||{},{method:F,url:E,data:(V||{}).data}))}});utils.forEach(["post","put","patch"],function(F){function E(V){return function(W,Y,G){return this.request(mergeConfig(G||{},{method:F,headers:V?{"Content-Type":"multipart/form-data"}:{},url:W,data:Y}))}}Axios.prototype[F]=E(),Axios.prototype[F+"Form"]=E(!0)});const Axios$1=Axios;class CancelToken{constructor(F){if(typeof F!="function")throw new TypeError("executor must be a function.");let E;this.promise=new Promise(function(W){E=W});const V=this;this.promise.then(U=>{if(!V._listeners)return;let W=V._listeners.length;for(;W-- >0;)V._listeners[W](U);V._listeners=null}),this.promise.then=U=>{let W;const Y=new Promise(G=>{V.subscribe(G),W=G}).then(U);return Y.cancel=function(){V.unsubscribe(W)},Y},F(function(W,Y,G){V.reason||(V.reason=new CanceledError(W,Y,G),E(V.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(F){if(this.reason){F(this.reason);return}this._listeners?this._listeners.push(F):this._listeners=[F]}unsubscribe(F){if(!this._listeners)return;const E=this._listeners.indexOf(F);E!==-1&&this._listeners.splice(E,1)}static source(){let F;return{token:new CancelToken(function(U){F=U}),cancel:F}}}const CancelToken$1=CancelToken;function spread(R){return function(E){return R.apply(null,E)}}function isAxiosError(R){return utils.isObject(R)&&R.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([R,F])=>{HttpStatusCode[F]=R});const HttpStatusCode$1=HttpStatusCode;function createInstance(R){const F=new Axios$1(R),E=bind(Axios$1.prototype.request,F);return utils.extend(E,Axios$1.prototype,F,{allOwnKeys:!0}),utils.extend(E,F,null,{allOwnKeys:!0}),E.create=function(U){return createInstance(mergeConfig(R,U))},E}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(F){return Promise.all(F)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=R=>formDataToJSON(utils.isHTMLForm(R)?new FormData(R):R);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,balanceFlow={namespaced:!0,state:()=>({balanceFlow:[]}),getters:{getBalanceFlowByCode:R=>F=>R.balanceFlow.find(E=>E.currency===F)},mutations:{setBalanceFlow(R,F){R.balanceFlow=F}},actions:{async getBalanceFlow({commit:R}){try{const{data:F}=await api$1.get("cash.aggregate.getBalanceFlow",{params:{from:hooks().add(-1,"M").format("YYYY-MM-DD"),to:hooks().add(3,"M").format("YYYY-MM-DD"),group_by:"day"}});R("setBalanceFlow",F)}catch{return!1}}}},setIntervalDate=(R,F)=>hooks().add(R,F).format("YYYY-MM-DD"),intervals={from:[{key:"-1_M",value:setIntervalDate(-1,"M")},{key:"-3_M",value:setIntervalDate(-3,"M")},{key:"-6_M",value:setIntervalDate(-6,"M")},{key:"-1_Y",value:setIntervalDate(-1,"Y")},{key:"-3_Y",value:setIntervalDate(-3,"Y")},{key:"-5_Y",value:setIntervalDate(-5,"Y")},{key:"-10_Y",value:setIntervalDate(-10,"Y")}],to:[{key:"0_M",value:setIntervalDate(0,"d")},{key:"1_M",value:setIntervalDate(1,"M")},{key:"3_M",value:setIntervalDate(3,"M")},{key:"6_M",value:setIntervalDate(6,"M")},{key:"1_Y",value:setIntervalDate(1,"Y")},{key:"2_Y",value:setIntervalDate(2,"Y")},{key:"3_Y",value:setIntervalDate(3,"Y")}]},getDateFromLocalStorage=R=>{var E;const F=localStorage.getItem(`interval_${R}`);return(E=intervals[R].find(V=>V.key===F))==null?void 0:E.value},mutationDelete=(R,F)=>{F.forEach(E=>{const V=R.transactions.data.findIndex(U=>U.id===E);V>-1&&(R.transactions.data.splice(V,1),R.transactions.total=R.transactions.data.length)})},transaction={namespaced:!0,state:()=>({transactions:{data:[],limit:null,offset:null,total:null},queryParams:{from:"",to:hooks().add(1,"M").format("YYYY-MM-DD"),offset:0,filter:""},loading:!1,chartInterval:{from:getDateFromLocalStorage("from")||hooks().add(-1,"Y").format("YYYY-MM-DD"),to:getDateFromLocalStorage("to")||hooks().add(6,"M").format("YYYY-MM-DD")},detailsInterval:{from:"",to:""},activeGroupTransactions:{index:null,name:"",items:[]},featurePeriod:7,chartData:[],chartDataCurrencyIndex:0,loadingChart:!0,todayCount:{}}),getters:{getTransactionById:R=>F=>R.transactions.data.find(E=>E.id===F),getTransactionsWithoutJustCreated:R=>R.transactions.data.filter(F=>!F.$_flagCreated),getTransactionsJustCreated:R=>R.transactions.data.filter(F=>F.$_flagCreated),getChartDataByCurrentCurrency:R=>R.chartData[R.chartDataCurrencyIndex],activeCurrencyCode:R=>{var F;return(F=R.chartData[R.chartDataCurrencyIndex])==null?void 0:F.currency}},mutations:{setTransactions(R,F){R.transactions=F},resetTransactions(R){R.transactions={data:[],limit:null,offset:null,total:null}},updateTransactions(R,F){F.affected_transaction_ids.forEach((V,U)=>{const W=R.transactions.data.findIndex(Y=>Y.id===V);if(W>-1){const Y={...F,id:R.transactions.data[W].id,...U>0&&{create_datetime:R.transactions.data[W].create_datetime},...U>0&&{date:R.transactions.data[W].date},...U>0&&{datetime:R.transactions.data[W].datetime},$_flagCreated:R.transactions.data[W].$_flagCreated,$_flagUpdated:!0};R.transactions.data.splice(W,1,Y)}}),R.transactions.data.sort((V,U)=>new Date(U.date)-new Date(V.date))},updateTransactionProps(R,{ids:F,props:E}){F.forEach(V=>{const U=R.transactions.data.findIndex(W=>W.id===V);if(U>-1){const W={...R.transactions.data[U],...E,$_flagUpdated:!0};R.transactions.data.splice(U,1,W)}})},deleteTransaction:mutationDelete,deleteTransactionSilent:mutationDelete,setActiveGroupTransactions(R,F){R.activeGroupTransactions=F},createTransactions(R,F){F.forEach(E=>{R.transactions.data.unshift({...E,$_flagCreated:!0}),R.transactions.total=R.transactions.data.length})},setFeaturePeriod(R,F){R.featurePeriod=F},setChartData(R,F){R.chartData=F},setDetailsInterval(R,F){R.detailsInterval=F},setLoading(R,F){R.loading=F},setLoadingChart(R,F){R.loadingChart=F},updateQueryParams(R,F){const E={...R.queryParams};for(const V in F)V in E&&(E[V]=F[V]);R.queryParams=E},updateChartInterval(R,F){R.chartInterval={...R.chartInterval,...F}},setChartDataCurrencyIndex(R,F){R.chartDataCurrencyIndex=F},setTodayCount(R,F){R.todayCount=F}},actions:{async getChartData({commit:R,state:F}){const{filter:E}=F.queryParams,V=F.chartInterval.from,U=F.chartInterval.to;try{R("setLoadingChart",!0);const{data:W}=await api$1.get("cash.aggregate.getChartData",{params:{from:V,to:U,filter:E,group_by:"day"}});R("setChartData",W===null?[]:W),R("setChartDataCurrencyIndex",0)}catch{return!1}finally{R("setLoadingChart",!1)}},async update({commit:R,dispatch:F},E){let V=E.id?"update":"create";try{V==="update"&&E.is_repeating&&(await F("delete",{id:E.id,silent:!0}),V="create");const{data:U}=await api$1.post(`cash.transaction.${V}`,E);"silent"in E||(V==="update"&&R("updateTransactions",U),V==="create"&&R("createTransactions",U))}catch(U){return Promise.reject(U)}},async delete({commit:R},F){const E=F.silent?"deleteTransactionSilent":"deleteTransaction";try{const{data:V}=await api$1.post("cash.transaction.delete",F);R(E,V)}catch{return!1}},async fetchTransactions({commit:R,state:F},E={}){try{R("updateQueryParams",E);const V={...F.queryParams};V.offset===0&&R("setLoading",!0),F.detailsInterval.from&&(V.from=F.detailsInterval.from),F.detailsInterval.to&&(V.to=F.detailsInterval.to);const{data:U}=await api$1.get("cash.transaction.getList",{params:V}),W={...U,...U.offset>0&&{data:[...F.transactions.data,...U.data]}};R("setTransactions",W)}catch{return!1}finally{R("setLoading",!1)}},async fetchUpNextTransactions({commit:R}){try{R("setLoading",!0);const{data:F}=await api$1.get("cash.transaction.getUpNextList",{params:{today:hooks().add(1,"day").format("YYYY-MM-DD")}});R("setTransactions",F)}catch{return!1}finally{R("setLoading",!1)}},updateDetailsInterval({commit:R,dispatch:F},E){R("setDetailsInterval",E),F("fetchTransactions",{offset:0})},async getTodayCount({commit:R}){try{const{data:F}=await api$1.get("cash.transaction.getTodayCount",{params:{today:hooks().format("YYYY-MM-DD")}});R("setTodayCount",F.count),this.$isSpaMobileMode&&window.emitter.emit("todayCount",F.count)}catch{return!1}}}},transactionBulk={namespaced:!0,state:()=>({selectedTransactionsIds:[],lastCheckboxIndex:-1}),getters:{isSelected:R=>F=>R.selectedTransactionsIds.includes(F)},mutations:{select(R,F){R.selectedTransactionsIds=F.reduce((E,V)=>(E.includes(V)||E.push(V),E),R.selectedTransactionsIds)},unselect(R,F){R.selectedTransactionsIds=F.reduce((E,V)=>{const U=E.indexOf(V);return U>-1&&E.splice(U,1),E},R.selectedTransactionsIds)},emptySelectedTransactionsIds(R){R.selectedTransactionsIds=[]},setLastCheckboxIndex(R,F){R.lastCheckboxIndex=F}},actions:{async bulkCreate({commit:R},F){try{const{data:E}=await api$1.post("cash.transaction.bulkCreate",F);R("transaction/createTransactions",E,{root:!0})}catch{return!1}},async bulkDelete({dispatch:R,state:F,commit:E}){const V=F.selectedTransactionsIds;try{await api$1.post("cash.transaction.bulkDelete",{ids:V}),E("transaction/deleteTransaction",V,{root:!0}),E("emptySelectedTransactionsIds")}catch{return!1}},async bulkMove({dispatch:R,commit:F},E){try{await api$1.post("cash.transaction.bulkMove",E),F("emptySelectedTransactionsIds")}catch{return!1}},async restore({state:R,commit:F}){const E=R.selectedTransactionsIds;await api$1.post("cash.transaction.restore",{ids:E}),F("emptySelectedTransactionsIds")},async purge({state:R,commit:F}){const E=R.selectedTransactionsIds;await api$1.post("cash.transaction.purge",{ids:E}),F("emptySelectedTransactionsIds")}}};/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function extend$1(R,F){for(var E in F)R[E]=F[E];return R}var encodeReserveRE=/[!'()*]/g,encodeReserveReplacer=function(R){return"%"+R.charCodeAt(0).toString(16)},commaRE=/%2C/g,encode=function(R){return encodeURIComponent(R).replace(encodeReserveRE,encodeReserveReplacer).replace(commaRE,",")};function decode(R){try{return decodeURIComponent(R)}catch{}return R}function resolveQuery(R,F,E){F===void 0&&(F={});var V=E||parseQuery,U;try{U=V(R||"")}catch{U={}}for(var W in F){var Y=F[W];U[W]=Array.isArray(Y)?Y.map(castQueryParamValue):castQueryParamValue(Y)}return U}var castQueryParamValue=function(R){return R==null||typeof R=="object"?R:String(R)};function parseQuery(R){var F={};return R=R.trim().replace(/^(\?|#|&)/,""),R&&R.split("&").forEach(function(E){var V=E.replace(/\+/g," ").split("="),U=decode(V.shift()),W=V.length>0?decode(V.join("=")):null;F[U]===void 0?F[U]=W:Array.isArray(F[U])?F[U].push(W):F[U]=[F[U],W]}),F}function stringifyQuery(R){var F=R?Object.keys(R).map(function(E){var V=R[E];if(V===void 0)return"";if(V===null)return encode(E);if(Array.isArray(V)){var U=[];return V.forEach(function(W){W!==void 0&&(W===null?U.push(encode(E)):U.push(encode(E)+"="+encode(W)))}),U.join("&")}return encode(E)+"="+encode(V)}).filter(function(E){return E.length>0}).join("&"):null;return F?"?"+F:""}var trailingSlashRE=/\/?$/;function createRoute(R,F,E,V){var U=V&&V.options.stringifyQuery,W=F.query||{};try{W=clone$1(W)}catch{}var Y={name:F.name||R&&R.name,meta:R&&R.meta||{},path:F.path||"/",hash:F.hash||"",query:W,params:F.params||{},fullPath:getFullPath(F,U),matched:R?formatMatch(R):[]};return E&&(Y.redirectedFrom=getFullPath(E,U)),Object.freeze(Y)}function clone$1(R){if(Array.isArray(R))return R.map(clone$1);if(R&&typeof R=="object"){var F={};for(var E in R)F[E]=clone$1(R[E]);return F}else return R}var START=createRoute(null,{path:"/"});function formatMatch(R){for(var F=[];R;)F.unshift(R),R=R.parent;return F}function getFullPath(R,F){var E=R.path,V=R.query;V===void 0&&(V={});var U=R.hash;U===void 0&&(U="");var W=F||stringifyQuery;return(E||"/")+W(V)+U}function isSameRoute(R,F,E){return F===START?R===F:F?R.path&&F.path?R.path.replace(trailingSlashRE,"")===F.path.replace(trailingSlashRE,"")&&(E||R.hash===F.hash&&isObjectEqual(R.query,F.query)):R.name&&F.name?R.name===F.name&&(E||R.hash===F.hash&&isObjectEqual(R.query,F.query)&&isObjectEqual(R.params,F.params)):!1:!1}function isObjectEqual(R,F){if(R===void 0&&(R={}),F===void 0&&(F={}),!R||!F)return R===F;var E=Object.keys(R).sort(),V=Object.keys(F).sort();return E.length!==V.length?!1:E.every(function(U,W){var Y=R[U],G=V[W];if(G!==U)return!1;var X=F[U];return Y==null||X==null?Y===X:typeof Y=="object"&&typeof X=="object"?isObjectEqual(Y,X):String(Y)===String(X)})}function isIncludedRoute(R,F){return R.path.replace(trailingSlashRE,"/").indexOf(F.path.replace(trailingSlashRE,"/"))===0&&(!F.hash||R.hash===F.hash)&&queryIncludes(R.query,F.query)}function queryIncludes(R,F){for(var E in F)if(!(E in R))return!1;return!0}function handleRouteEntered(R){for(var F=0;F<R.matched.length;F++){var E=R.matched[F];for(var V in E.instances){var U=E.instances[V],W=E.enteredCbs[V];if(!(!U||!W)){delete E.enteredCbs[V];for(var Y=0;Y<W.length;Y++)U._isBeingDestroyed||W[Y](U)}}}}var View={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(F,E){var V=E.props,U=E.children,W=E.parent,Y=E.data;Y.routerView=!0;for(var G=W.$createElement,X=V.name,K=W.$route,Z=W._routerViewCache||(W._routerViewCache={}),J=0,Q=!1;W&&W._routerRoot!==W;){var ee=W.$vnode?W.$vnode.data:{};ee.routerView&&J++,ee.keepAlive&&W._directInactive&&W._inactive&&(Q=!0),W=W.$parent}if(Y.routerViewDepth=J,Q){var te=Z[X],ie=te&&te.component;return ie?(te.configProps&&fillPropsinData(ie,Y,te.route,te.configProps),G(ie,Y,U)):G()}var ne=K.matched[J],ae=ne&&ne.components[X];if(!ne||!ae)return Z[X]=null,G();Z[X]={component:ae},Y.registerRouteInstance=function(oe,le){var ue=ne.instances[X];(le&&ue!==oe||!le&&ue===oe)&&(ne.instances[X]=le)},(Y.hook||(Y.hook={})).prepatch=function(oe,le){ne.instances[X]=le.componentInstance},Y.hook.init=function(oe){oe.data.keepAlive&&oe.componentInstance&&oe.componentInstance!==ne.instances[X]&&(ne.instances[X]=oe.componentInstance),handleRouteEntered(K)};var se=ne.props&&ne.props[X];return se&&(extend$1(Z[X],{route:K,configProps:se}),fillPropsinData(ae,Y,K,se)),G(ae,Y,U)}};function fillPropsinData(R,F,E,V){var U=F.props=resolveProps(E,V);if(U){U=F.props=extend$1({},U);var W=F.attrs=F.attrs||{};for(var Y in U)(!R.props||!(Y in R.props))&&(W[Y]=U[Y],delete U[Y])}}function resolveProps(R,F){switch(typeof F){case"undefined":return;case"object":return F;case"function":return F(R);case"boolean":return F?R.params:void 0}}function resolvePath(R,F,E){var V=R.charAt(0);if(V==="/")return R;if(V==="?"||V==="#")return F+R;var U=F.split("/");(!E||!U[U.length-1])&&U.pop();for(var W=R.replace(/^\//,"").split("/"),Y=0;Y<W.length;Y++){var G=W[Y];G===".."?U.pop():G!=="."&&U.push(G)}return U[0]!==""&&U.unshift(""),U.join("/")}function parsePath(R){var F="",E="",V=R.indexOf("#");V>=0&&(F=R.slice(V),R=R.slice(0,V));var U=R.indexOf("?");return U>=0&&(E=R.slice(U+1),R=R.slice(0,U)),{path:R,query:E,hash:F}}function cleanPath(R){return R.replace(/\/(?:\s*\/)+/g,"/")}var isarray=Array.isArray||function(R){return Object.prototype.toString.call(R)=="[object Array]"},pathToRegexp_1=pathToRegexp,parse_1=parse,compile_1=compile,tokensToFunction_1=tokensToFunction,tokensToRegExp_1=tokensToRegExp,PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(R,F){for(var E=[],V=0,U=0,W="",Y=F&&F.delimiter||"/",G;(G=PATH_REGEXP.exec(R))!=null;){var X=G[0],K=G[1],Z=G.index;if(W+=R.slice(U,Z),U=Z+X.length,K){W+=K[1];continue}var J=R[U],Q=G[2],ee=G[3],te=G[4],ie=G[5],ne=G[6],ae=G[7];W&&(E.push(W),W="");var se=Q!=null&&J!=null&&J!==Q,oe=ne==="+"||ne==="*",le=ne==="?"||ne==="*",ue=G[2]||Y,ce=te||ie;E.push({name:ee||V++,prefix:Q||"",delimiter:ue,optional:le,repeat:oe,partial:se,asterisk:!!ae,pattern:ce?escapeGroup(ce):ae?".*":"[^"+escapeString(ue)+"]+?"})}return U<R.length&&(W+=R.substr(U)),W&&E.push(W),E}function compile(R,F){return tokensToFunction(parse(R,F),F)}function encodeURIComponentPretty(R){return encodeURI(R).replace(/[\/?#]/g,function(F){return"%"+F.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(R){return encodeURI(R).replace(/[?#]/g,function(F){return"%"+F.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(R,F){for(var E=new Array(R.length),V=0;V<R.length;V++)typeof R[V]=="object"&&(E[V]=new RegExp("^(?:"+R[V].pattern+")$",flags(F)));return function(U,W){for(var Y="",G=U||{},X=W||{},K=X.pretty?encodeURIComponentPretty:encodeURIComponent,Z=0;Z<R.length;Z++){var J=R[Z];if(typeof J=="string"){Y+=J;continue}var Q=G[J.name],ee;if(Q==null)if(J.optional){J.partial&&(Y+=J.prefix);continue}else throw new TypeError('Expected "'+J.name+'" to be defined');if(isarray(Q)){if(!J.repeat)throw new TypeError('Expected "'+J.name+'" to not repeat, but received `'+JSON.stringify(Q)+"`");if(Q.length===0){if(J.optional)continue;throw new TypeError('Expected "'+J.name+'" to not be empty')}for(var te=0;te<Q.length;te++){if(ee=K(Q[te]),!E[Z].test(ee))throw new TypeError('Expected all "'+J.name+'" to match "'+J.pattern+'", but received `'+JSON.stringify(ee)+"`");Y+=(te===0?J.prefix:J.delimiter)+ee}continue}if(ee=J.asterisk?encodeAsterisk(Q):K(Q),!E[Z].test(ee))throw new TypeError('Expected "'+J.name+'" to match "'+J.pattern+'", but received "'+ee+'"');Y+=J.prefix+ee}return Y}}function escapeString(R){return R.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(R){return R.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(R,F){return R.keys=F,R}function flags(R){return R&&R.sensitive?"":"i"}function regexpToRegexp(R,F){var E=R.source.match(/\((?!\?)/g);if(E)for(var V=0;V<E.length;V++)F.push({name:V,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(R,F)}function arrayToRegexp(R,F,E){for(var V=[],U=0;U<R.length;U++)V.push(pathToRegexp(R[U],F,E).source);var W=new RegExp("(?:"+V.join("|")+")",flags(E));return attachKeys(W,F)}function stringToRegexp(R,F,E){return tokensToRegExp(parse(R,E),F,E)}function tokensToRegExp(R,F,E){isarray(F)||(E=F||E,F=[]),E=E||{};for(var V=E.strict,U=E.end!==!1,W="",Y=0;Y<R.length;Y++){var G=R[Y];if(typeof G=="string")W+=escapeString(G);else{var X=escapeString(G.prefix),K="(?:"+G.pattern+")";F.push(G),G.repeat&&(K+="(?:"+X+K+")*"),G.optional?G.partial?K=X+"("+K+")?":K="(?:"+X+"("+K+"))?":K=X+"("+K+")",W+=K}}var Z=escapeString(E.delimiter||"/"),J=W.slice(-Z.length)===Z;return V||(W=(J?W.slice(0,-Z.length):W)+"(?:"+Z+"(?=$))?"),U?W+="$":W+=V&&J?"":"(?="+Z+"|$)",attachKeys(new RegExp("^"+W,flags(E)),F)}function pathToRegexp(R,F,E){return isarray(F)||(E=F||E,F=[]),E=E||{},R instanceof RegExp?regexpToRegexp(R,F):isarray(R)?arrayToRegexp(R,F,E):stringToRegexp(R,F,E)}pathToRegexp_1.parse=parse_1;pathToRegexp_1.compile=compile_1;pathToRegexp_1.tokensToFunction=tokensToFunction_1;pathToRegexp_1.tokensToRegExp=tokensToRegExp_1;var regexpCompileCache=Object.create(null);function fillParams(R,F,E){F=F||{};try{var V=regexpCompileCache[R]||(regexpCompileCache[R]=pathToRegexp_1.compile(R));return typeof F.pathMatch=="string"&&(F[0]=F.pathMatch),V(F,{pretty:!0})}catch{return""}finally{delete F[0]}}function normalizeLocation(R,F,E,V){var U=typeof R=="string"?{path:R}:R;if(U._normalized)return U;if(U.name){U=extend$1({},R);var W=U.params;return W&&typeof W=="object"&&(U.params=extend$1({},W)),U}if(!U.path&&U.params&&F){U=extend$1({},U),U._normalized=!0;var Y=extend$1(extend$1({},F.params),U.params);if(F.name)U.name=F.name,U.params=Y;else if(F.matched.length){var G=F.matched[F.matched.length-1].path;U.path=fillParams(G,Y,"path "+F.path)}return U}var X=parsePath(U.path||""),K=F&&F.path||"/",Z=X.path?resolvePath(X.path,K,E||U.append):K,J=resolveQuery(X.query,U.query,V&&V.options.parseQuery),Q=U.hash||X.hash;return Q&&Q.charAt(0)!=="#"&&(Q="#"+Q),{_normalized:!0,path:Z,query:J,hash:Q}}var toTypes=[String,Object],eventTypes=[String,Array],noop$1=function(){},Link={name:"RouterLink",props:{to:{type:toTypes,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:eventTypes,default:"click"}},render:function(F){var E=this,V=this.$router,U=this.$route,W=V.resolve(this.to,U,this.append),Y=W.location,G=W.route,X=W.href,K={},Z=V.options.linkActiveClass,J=V.options.linkExactActiveClass,Q=Z==null?"router-link-active":Z,ee=J==null?"router-link-exact-active":J,te=this.activeClass==null?Q:this.activeClass,ie=this.exactActiveClass==null?ee:this.exactActiveClass,ne=G.redirectedFrom?createRoute(null,normalizeLocation(G.redirectedFrom),null,V):G;K[ie]=isSameRoute(U,ne,this.exactPath),K[te]=this.exact||this.exactPath?K[ie]:isIncludedRoute(U,ne);var ae=K[ie]?this.ariaCurrentValue:null,se=function(pe){guardEvent(pe)&&(E.replace?V.replace(Y,noop$1):V.push(Y,noop$1))},oe={click:guardEvent};Array.isArray(this.event)?this.event.forEach(function(pe){oe[pe]=se}):oe[this.event]=se;var le={class:K},ue=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:X,route:G,navigate:se,isActive:K[te],isExactActive:K[ie]});if(ue){if(ue.length===1)return ue[0];if(ue.length>1||!ue.length)return ue.length===0?F():F("span",{},ue)}if(this.tag==="a")le.on=oe,le.attrs={href:X,"aria-current":ae};else{var ce=findAnchor(this.$slots.default);if(ce){ce.isStatic=!1;var he=ce.data=extend$1({},ce.data);he.on=he.on||{};for(var de in he.on){var fe=he.on[de];de in oe&&(he.on[de]=Array.isArray(fe)?fe:[fe])}for(var Te in oe)Te in he.on?he.on[Te].push(oe[Te]):he.on[Te]=se;var xe=ce.data.attrs=extend$1({},ce.data.attrs);xe.href=X,xe["aria-current"]=ae}else le.on=oe}return F(this.tag,le,this.$slots.default)}};function guardEvent(R){if(!(R.metaKey||R.altKey||R.ctrlKey||R.shiftKey)&&!R.defaultPrevented&&!(R.button!==void 0&&R.button!==0)){if(R.currentTarget&&R.currentTarget.getAttribute){var F=R.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(F))return}return R.preventDefault&&R.preventDefault(),!0}}function findAnchor(R){if(R){for(var F,E=0;E<R.length;E++)if(F=R[E],F.tag==="a"||F.children&&(F=findAnchor(F.children)))return F}}var _Vue;function install$2(R){if(!(install$2.installed&&_Vue===R)){install$2.installed=!0,_Vue=R;var F=function(U){return U!==void 0},E=function(U,W){var Y=U.$options._parentVnode;F(Y)&&F(Y=Y.data)&&F(Y=Y.registerRouteInstance)&&Y(U,W)};R.mixin({beforeCreate:function(){F(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),R.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,E(this,this)},destroyed:function(){E(this)}}),Object.defineProperty(R.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(R.prototype,"$route",{get:function(){return this._routerRoot._route}}),R.component("RouterView",View),R.component("RouterLink",Link);var V=R.config.optionMergeStrategies;V.beforeRouteEnter=V.beforeRouteLeave=V.beforeRouteUpdate=V.created}}var inBrowser=typeof window<"u";function createRouteMap(R,F,E,V,U){var W=F||[],Y=E||Object.create(null),G=V||Object.create(null);R.forEach(function(Z){addRouteRecord(W,Y,G,Z,U)});for(var X=0,K=W.length;X<K;X++)W[X]==="*"&&(W.push(W.splice(X,1)[0]),K--,X--);return{pathList:W,pathMap:Y,nameMap:G}}function addRouteRecord(R,F,E,V,U,W){var Y=V.path,G=V.name,X=V.pathToRegexpOptions||{},K=normalizePath(Y,U,X.strict);typeof V.caseSensitive=="boolean"&&(X.sensitive=V.caseSensitive);var Z={path:K,regex:compileRouteRegex(K,X),components:V.components||{default:V.component},alias:V.alias?typeof V.alias=="string"?[V.alias]:V.alias:[],instances:{},enteredCbs:{},name:G,parent:U,matchAs:W,redirect:V.redirect,beforeEnter:V.beforeEnter,meta:V.meta||{},props:V.props==null?{}:V.components?V.props:{default:V.props}};if(V.children&&V.children.forEach(function(ie){var ne=W?cleanPath(W+"/"+ie.path):void 0;addRouteRecord(R,F,E,ie,Z,ne)}),F[Z.path]||(R.push(Z.path),F[Z.path]=Z),V.alias!==void 0)for(var J=Array.isArray(V.alias)?V.alias:[V.alias],Q=0;Q<J.length;++Q){var ee=J[Q],te={path:ee,children:V.children};addRouteRecord(R,F,E,te,U,Z.path||"/")}G&&(E[G]||(E[G]=Z))}function compileRouteRegex(R,F){var E=pathToRegexp_1(R,[],F);return E}function normalizePath(R,F,E){return E||(R=R.replace(/\/$/,"")),R[0]==="/"||F==null?R:cleanPath(F.path+"/"+R)}function createMatcher(R,F){var E=createRouteMap(R),V=E.pathList,U=E.pathMap,W=E.nameMap;function Y(ee){createRouteMap(ee,V,U,W)}function G(ee,te){var ie=typeof ee!="object"?W[ee]:void 0;createRouteMap([te||ee],V,U,W,ie),ie&&ie.alias.length&&createRouteMap(ie.alias.map(function(ne){return{path:ne,children:[te]}}),V,U,W,ie)}function X(){return V.map(function(ee){return U[ee]})}function K(ee,te,ie){var ne=normalizeLocation(ee,te,!1,F),ae=ne.name;if(ae){var se=W[ae];if(!se)return Q(null,ne);var oe=se.regex.keys.filter(function(de){return!de.optional}).map(function(de){return de.name});if(typeof ne.params!="object"&&(ne.params={}),te&&typeof te.params=="object")for(var le in te.params)!(le in ne.params)&&oe.indexOf(le)>-1&&(ne.params[le]=te.params[le]);return ne.path=fillParams(se.path,ne.params),Q(se,ne,ie)}else if(ne.path){ne.params={};for(var ue=0;ue<V.length;ue++){var ce=V[ue],he=U[ce];if(matchRoute(he.regex,ne.path,ne.params))return Q(he,ne,ie)}}return Q(null,ne)}function Z(ee,te){var ie=ee.redirect,ne=typeof ie=="function"?ie(createRoute(ee,te,null,F)):ie;if(typeof ne=="string"&&(ne={path:ne}),!ne||typeof ne!="object")return Q(null,te);var ae=ne,se=ae.name,oe=ae.path,le=te.query,ue=te.hash,ce=te.params;if(le=ae.hasOwnProperty("query")?ae.query:le,ue=ae.hasOwnProperty("hash")?ae.hash:ue,ce=ae.hasOwnProperty("params")?ae.params:ce,se)return W[se],K({_normalized:!0,name:se,query:le,hash:ue,params:ce},void 0,te);if(oe){var he=resolveRecordPath(oe,ee),de=fillParams(he,ce);return K({_normalized:!0,path:de,query:le,hash:ue},void 0,te)}else return Q(null,te)}function J(ee,te,ie){var ne=fillParams(ie,te.params),ae=K({_normalized:!0,path:ne});if(ae){var se=ae.matched,oe=se[se.length-1];return te.params=ae.params,Q(oe,te)}return Q(null,te)}function Q(ee,te,ie){return ee&&ee.redirect?Z(ee,ie||te):ee&&ee.matchAs?J(ee,te,ee.matchAs):createRoute(ee,te,ie,F)}return{match:K,addRoute:G,getRoutes:X,addRoutes:Y}}function matchRoute(R,F,E){var V=F.match(R);if(V){if(!E)return!0}else return!1;for(var U=1,W=V.length;U<W;++U){var Y=R.keys[U-1];Y&&(E[Y.name||"pathMatch"]=typeof V[U]=="string"?decode(V[U]):V[U])}return!0}function resolveRecordPath(R,F){return resolvePath(R,F.parent?F.parent.path:"/",!0)}var Time=inBrowser&&window.performance&&window.performance.now?window.performance:Date;function genStateKey(){return Time.now().toFixed(3)}var _key=genStateKey();function getStateKey(){return _key}function setStateKey(R){return _key=R}var positionStore=Object.create(null);function setupScroll(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var R=window.location.protocol+"//"+window.location.host,F=window.location.href.replace(R,""),E=extend$1({},window.history.state);return E.key=getStateKey(),window.history.replaceState(E,"",F),window.addEventListener("popstate",handlePopState),function(){window.removeEventListener("popstate",handlePopState)}}function handleScroll(R,F,E,V){if(!!R.app){var U=R.options.scrollBehavior;!U||R.app.$nextTick(function(){var W=getScrollPosition(),Y=U.call(R,F,E,V?W:null);!Y||(typeof Y.then=="function"?Y.then(function(G){scrollToPosition(G,W)}).catch(function(G){}):scrollToPosition(Y,W))})}}function saveScrollPosition(){var R=getStateKey();R&&(positionStore[R]={x:window.pageXOffset,y:window.pageYOffset})}function handlePopState(R){saveScrollPosition(),R.state&&R.state.key&&setStateKey(R.state.key)}function getScrollPosition(){var R=getStateKey();if(R)return positionStore[R]}function getElementPosition(R,F){var E=document.documentElement,V=E.getBoundingClientRect(),U=R.getBoundingClientRect();return{x:U.left-V.left-F.x,y:U.top-V.top-F.y}}function isValidPosition(R){return isNumber$1(R.x)||isNumber$1(R.y)}function normalizePosition(R){return{x:isNumber$1(R.x)?R.x:window.pageXOffset,y:isNumber$1(R.y)?R.y:window.pageYOffset}}function normalizeOffset(R){return{x:isNumber$1(R.x)?R.x:0,y:isNumber$1(R.y)?R.y:0}}function isNumber$1(R){return typeof R=="number"}var hashStartsWithNumberRE=/^#\d/;function scrollToPosition(R,F){var E=typeof R=="object";if(E&&typeof R.selector=="string"){var V=hashStartsWithNumberRE.test(R.selector)?document.getElementById(R.selector.slice(1)):document.querySelector(R.selector);if(V){var U=R.offset&&typeof R.offset=="object"?R.offset:{};U=normalizeOffset(U),F=getElementPosition(V,U)}else isValidPosition(R)&&(F=normalizePosition(R))}else E&&isValidPosition(R)&&(F=normalizePosition(R));F&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:F.x,top:F.y,behavior:R.behavior}):window.scrollTo(F.x,F.y))}var supportsPushState=inBrowser&&function(){var R=window.navigator.userAgent;return(R.indexOf("Android 2.")!==-1||R.indexOf("Android 4.0")!==-1)&&R.indexOf("Mobile Safari")!==-1&&R.indexOf("Chrome")===-1&&R.indexOf("Windows Phone")===-1?!1:window.history&&typeof window.history.pushState=="function"}();function pushState(R,F){saveScrollPosition();var E=window.history;try{if(F){var V=extend$1({},E.state);V.key=getStateKey(),E.replaceState(V,"",R)}else E.pushState({key:setStateKey(genStateKey())},"",R)}catch{window.location[F?"replace":"assign"](R)}}function replaceState(R){pushState(R,!0)}var NavigationFailureType={redirected:2,aborted:4,cancelled:8,duplicated:16};function createNavigationRedirectedError(R,F){return createRouterError(R,F,NavigationFailureType.redirected,'Redirected when going from "'+R.fullPath+'" to "'+stringifyRoute(F)+'" via a navigation guard.')}function createNavigationDuplicatedError(R,F){var E=createRouterError(R,F,NavigationFailureType.duplicated,'Avoided redundant navigation to current location: "'+R.fullPath+'".');return E.name="NavigationDuplicated",E}function createNavigationCancelledError(R,F){return createRouterError(R,F,NavigationFailureType.cancelled,'Navigation cancelled from "'+R.fullPath+'" to "'+F.fullPath+'" with a new navigation.')}function createNavigationAbortedError(R,F){return createRouterError(R,F,NavigationFailureType.aborted,'Navigation aborted from "'+R.fullPath+'" to "'+F.fullPath+'" via a navigation guard.')}function createRouterError(R,F,E,V){var U=new Error(V);return U._isRouter=!0,U.from=R,U.to=F,U.type=E,U}var propertiesToLog=["params","query","hash"];function stringifyRoute(R){if(typeof R=="string")return R;if("path"in R)return R.path;var F={};return propertiesToLog.forEach(function(E){E in R&&(F[E]=R[E])}),JSON.stringify(F,null,2)}function isError(R){return Object.prototype.toString.call(R).indexOf("Error")>-1}function isNavigationFailure(R,F){return isError(R)&&R._isRouter&&(F==null||R.type===F)}function runQueue(R,F,E){var V=function(U){U>=R.length?E():R[U]?F(R[U],function(){V(U+1)}):V(U+1)};V(0)}function resolveAsyncComponents(R){return function(F,E,V){var U=!1,W=0,Y=null;flatMapComponents(R,function(G,X,K,Z){if(typeof G=="function"&&G.cid===void 0){U=!0,W++;var J=once(function(ie){isESModule(ie)&&(ie=ie.default),G.resolved=typeof ie=="function"?ie:_Vue.extend(ie),K.components[Z]=ie,W--,W<=0&&V()}),Q=once(function(ie){var ne="Failed to resolve async component "+Z+": "+ie;Y||(Y=isError(ie)?ie:new Error(ne),V(Y))}),ee;try{ee=G(J,Q)}catch(ie){Q(ie)}if(ee)if(typeof ee.then=="function")ee.then(J,Q);else{var te=ee.component;te&&typeof te.then=="function"&&te.then(J,Q)}}}),U||V()}}function flatMapComponents(R,F){return flatten$1(R.map(function(E){return Object.keys(E.components).map(function(V){return F(E.components[V],E.instances[V],E,V)})}))}function flatten$1(R){return Array.prototype.concat.apply([],R)}var hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";function isESModule(R){return R.__esModule||hasSymbol&&R[Symbol.toStringTag]==="Module"}function once(R){var F=!1;return function(){for(var E=[],V=arguments.length;V--;)E[V]=arguments[V];if(!F)return F=!0,R.apply(this,E)}}var History$1=function(F,E){this.router=F,this.base=normalizeBase(E),this.current=START,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};History$1.prototype.listen=function(F){this.cb=F};History$1.prototype.onReady=function(F,E){this.ready?F():(this.readyCbs.push(F),E&&this.readyErrorCbs.push(E))};History$1.prototype.onError=function(F){this.errorCbs.push(F)};History$1.prototype.transitionTo=function(F,E,V){var U=this,W;try{W=this.router.match(F,this.current)}catch(G){throw this.errorCbs.forEach(function(X){X(G)}),G}var Y=this.current;this.confirmTransition(W,function(){U.updateRoute(W),E&&E(W),U.ensureURL(),U.router.afterHooks.forEach(function(G){G&&G(W,Y)}),U.ready||(U.ready=!0,U.readyCbs.forEach(function(G){G(W)}))},function(G){V&&V(G),G&&!U.ready&&(!isNavigationFailure(G,NavigationFailureType.redirected)||Y!==START)&&(U.ready=!0,U.readyErrorCbs.forEach(function(X){X(G)}))})};History$1.prototype.confirmTransition=function(F,E,V){var U=this,W=this.current;this.pending=F;var Y=function(ie){!isNavigationFailure(ie)&&isError(ie)&&(U.errorCbs.length?U.errorCbs.forEach(function(ne){ne(ie)}):console.error(ie)),V&&V(ie)},G=F.matched.length-1,X=W.matched.length-1;if(isSameRoute(F,W)&&G===X&&F.matched[G]===W.matched[X])return this.ensureURL(),F.hash&&handleScroll(this.router,W,F,!1),Y(createNavigationDuplicatedError(W,F));var K=resolveQueue(this.current.matched,F.matched),Z=K.updated,J=K.deactivated,Q=K.activated,ee=[].concat(extractLeaveGuards(J),this.router.beforeHooks,extractUpdateHooks(Z),Q.map(function(ie){return ie.beforeEnter}),resolveAsyncComponents(Q)),te=function(ie,ne){if(U.pending!==F)return Y(createNavigationCancelledError(W,F));try{ie(F,W,function(ae){ae===!1?(U.ensureURL(!0),Y(createNavigationAbortedError(W,F))):isError(ae)?(U.ensureURL(!0),Y(ae)):typeof ae=="string"||typeof ae=="object"&&(typeof ae.path=="string"||typeof ae.name=="string")?(Y(createNavigationRedirectedError(W,F)),typeof ae=="object"&&ae.replace?U.replace(ae):U.push(ae)):ne(ae)})}catch(ae){Y(ae)}};runQueue(ee,te,function(){var ie=extractEnterGuards(Q),ne=ie.concat(U.router.resolveHooks);runQueue(ne,te,function(){if(U.pending!==F)return Y(createNavigationCancelledError(W,F));U.pending=null,E(F),U.router.app&&U.router.app.$nextTick(function(){handleRouteEntered(F)})})})};History$1.prototype.updateRoute=function(F){this.current=F,this.cb&&this.cb(F)};History$1.prototype.setupListeners=function(){};History$1.prototype.teardown=function(){this.listeners.forEach(function(F){F()}),this.listeners=[],this.current=START,this.pending=null};function normalizeBase(R){if(!R)if(inBrowser){var F=document.querySelector("base");R=F&&F.getAttribute("href")||"/",R=R.replace(/^https?:\/\/[^\/]+/,"")}else R="/";return R.charAt(0)!=="/"&&(R="/"+R),R.replace(/\/$/,"")}function resolveQueue(R,F){var E,V=Math.max(R.length,F.length);for(E=0;E<V&&R[E]===F[E];E++);return{updated:F.slice(0,E),activated:F.slice(E),deactivated:R.slice(E)}}function extractGuards(R,F,E,V){var U=flatMapComponents(R,function(W,Y,G,X){var K=extractGuard(W,F);if(K)return Array.isArray(K)?K.map(function(Z){return E(Z,Y,G,X)}):E(K,Y,G,X)});return flatten$1(V?U.reverse():U)}function extractGuard(R,F){return typeof R!="function"&&(R=_Vue.extend(R)),R.options[F]}function extractLeaveGuards(R){return extractGuards(R,"beforeRouteLeave",bindGuard,!0)}function extractUpdateHooks(R){return extractGuards(R,"beforeRouteUpdate",bindGuard)}function bindGuard(R,F){if(F)return function(){return R.apply(F,arguments)}}function extractEnterGuards(R){return extractGuards(R,"beforeRouteEnter",function(F,E,V,U){return bindEnterGuard(F,V,U)})}function bindEnterGuard(R,F,E){return function(U,W,Y){return R(U,W,function(G){typeof G=="function"&&(F.enteredCbs[E]||(F.enteredCbs[E]=[]),F.enteredCbs[E].push(G)),Y(G)})}}var HTML5History=function(R){function F(E,V){R.call(this,E,V),this._startLocation=getLocation(this.base)}return R&&(F.__proto__=R),F.prototype=Object.create(R&&R.prototype),F.prototype.constructor=F,F.prototype.setupListeners=function(){var V=this;if(!(this.listeners.length>0)){var U=this.router,W=U.options.scrollBehavior,Y=supportsPushState&&W;Y&&this.listeners.push(setupScroll());var G=function(){var X=V.current,K=getLocation(V.base);V.current===START&&K===V._startLocation||V.transitionTo(K,function(Z){Y&&handleScroll(U,Z,X,!0)})};window.addEventListener("popstate",G),this.listeners.push(function(){window.removeEventListener("popstate",G)})}},F.prototype.go=function(V){window.history.go(V)},F.prototype.push=function(V,U,W){var Y=this,G=this,X=G.current;this.transitionTo(V,function(K){pushState(cleanPath(Y.base+K.fullPath)),handleScroll(Y.router,K,X,!1),U&&U(K)},W)},F.prototype.replace=function(V,U,W){var Y=this,G=this,X=G.current;this.transitionTo(V,function(K){replaceState(cleanPath(Y.base+K.fullPath)),handleScroll(Y.router,K,X,!1),U&&U(K)},W)},F.prototype.ensureURL=function(V){if(getLocation(this.base)!==this.current.fullPath){var U=cleanPath(this.base+this.current.fullPath);V?pushState(U):replaceState(U)}},F.prototype.getCurrentLocation=function(){return getLocation(this.base)},F}(History$1);function getLocation(R){var F=window.location.pathname,E=F.toLowerCase(),V=R.toLowerCase();return R&&(E===V||E.indexOf(cleanPath(V+"/"))===0)&&(F=F.slice(R.length)),(F||"/")+window.location.search+window.location.hash}var HashHistory=function(R){function F(E,V,U){R.call(this,E,V),!(U&&checkFallback(this.base))&&ensureSlash()}return R&&(F.__proto__=R),F.prototype=Object.create(R&&R.prototype),F.prototype.constructor=F,F.prototype.setupListeners=function(){var V=this;if(!(this.listeners.length>0)){var U=this.router,W=U.options.scrollBehavior,Y=supportsPushState&&W;Y&&this.listeners.push(setupScroll());var G=function(){var K=V.current;!ensureSlash()||V.transitionTo(getHash(),function(Z){Y&&handleScroll(V.router,Z,K,!0),supportsPushState||replaceHash(Z.fullPath)})},X=supportsPushState?"popstate":"hashchange";window.addEventListener(X,G),this.listeners.push(function(){window.removeEventListener(X,G)})}},F.prototype.push=function(V,U,W){var Y=this,G=this,X=G.current;this.transitionTo(V,function(K){pushHash(K.fullPath),handleScroll(Y.router,K,X,!1),U&&U(K)},W)},F.prototype.replace=function(V,U,W){var Y=this,G=this,X=G.current;this.transitionTo(V,function(K){replaceHash(K.fullPath),handleScroll(Y.router,K,X,!1),U&&U(K)},W)},F.prototype.go=function(V){window.history.go(V)},F.prototype.ensureURL=function(V){var U=this.current.fullPath;getHash()!==U&&(V?pushHash(U):replaceHash(U))},F.prototype.getCurrentLocation=function(){return getHash()},F}(History$1);function checkFallback(R){var F=getLocation(R);if(!/^\/#/.test(F))return window.location.replace(cleanPath(R+"/#"+F)),!0}function ensureSlash(){var R=getHash();return R.charAt(0)==="/"?!0:(replaceHash("/"+R),!1)}function getHash(){var R=window.location.href,F=R.indexOf("#");return F<0?"":(R=R.slice(F+1),R)}function getUrl(R){var F=window.location.href,E=F.indexOf("#"),V=E>=0?F.slice(0,E):F;return V+"#"+R}function pushHash(R){supportsPushState?pushState(getUrl(R)):window.location.hash=R}function replaceHash(R){supportsPushState?replaceState(getUrl(R)):window.location.replace(getUrl(R))}var AbstractHistory=function(R){function F(E,V){R.call(this,E,V),this.stack=[],this.index=-1}return R&&(F.__proto__=R),F.prototype=Object.create(R&&R.prototype),F.prototype.constructor=F,F.prototype.push=function(V,U,W){var Y=this;this.transitionTo(V,function(G){Y.stack=Y.stack.slice(0,Y.index+1).concat(G),Y.index++,U&&U(G)},W)},F.prototype.replace=function(V,U,W){var Y=this;this.transitionTo(V,function(G){Y.stack=Y.stack.slice(0,Y.index).concat(G),U&&U(G)},W)},F.prototype.go=function(V){var U=this,W=this.index+V;if(!(W<0||W>=this.stack.length)){var Y=this.stack[W];this.confirmTransition(Y,function(){var G=U.current;U.index=W,U.updateRoute(Y),U.router.afterHooks.forEach(function(X){X&&X(Y,G)})},function(G){isNavigationFailure(G,NavigationFailureType.duplicated)&&(U.index=W)})}},F.prototype.getCurrentLocation=function(){var V=this.stack[this.stack.length-1];return V?V.fullPath:"/"},F.prototype.ensureURL=function(){},F}(History$1),VueRouter=function(F){F===void 0&&(F={}),this.app=null,this.apps=[],this.options=F,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=createMatcher(F.routes||[],this);var E=F.mode||"hash";switch(this.fallback=E==="history"&&!supportsPushState&&F.fallback!==!1,this.fallback&&(E="hash"),inBrowser||(E="abstract"),this.mode=E,E){case"history":this.history=new HTML5History(this,F.base);break;case"hash":this.history=new HashHistory(this,F.base,this.fallback);break;case"abstract":this.history=new AbstractHistory(this,F.base);break}},prototypeAccessors={currentRoute:{configurable:!0}};VueRouter.prototype.match=function(F,E,V){return this.matcher.match(F,E,V)};prototypeAccessors.currentRoute.get=function(){return this.history&&this.history.current};VueRouter.prototype.init=function(F){var E=this;if(this.apps.push(F),F.$once("hook:destroyed",function(){var Y=E.apps.indexOf(F);Y>-1&&E.apps.splice(Y,1),E.app===F&&(E.app=E.apps[0]||null),E.app||E.history.teardown()}),!this.app){this.app=F;var V=this.history;if(V instanceof HTML5History||V instanceof HashHistory){var U=function(Y){var G=V.current,X=E.options.scrollBehavior,K=supportsPushState&&X;K&&"fullPath"in Y&&handleScroll(E,Y,G,!1)},W=function(Y){V.setupListeners(),U(Y)};V.transitionTo(V.getCurrentLocation(),W,W)}V.listen(function(Y){E.apps.forEach(function(G){G._route=Y})})}};VueRouter.prototype.beforeEach=function(F){return registerHook(this.beforeHooks,F)};VueRouter.prototype.beforeResolve=function(F){return registerHook(this.resolveHooks,F)};VueRouter.prototype.afterEach=function(F){return registerHook(this.afterHooks,F)};VueRouter.prototype.onReady=function(F,E){this.history.onReady(F,E)};VueRouter.prototype.onError=function(F){this.history.onError(F)};VueRouter.prototype.push=function(F,E,V){var U=this;if(!E&&!V&&typeof Promise<"u")return new Promise(function(W,Y){U.history.push(F,W,Y)});this.history.push(F,E,V)};VueRouter.prototype.replace=function(F,E,V){var U=this;if(!E&&!V&&typeof Promise<"u")return new Promise(function(W,Y){U.history.replace(F,W,Y)});this.history.replace(F,E,V)};VueRouter.prototype.go=function(F){this.history.go(F)};VueRouter.prototype.back=function(){this.go(-1)};VueRouter.prototype.forward=function(){this.go(1)};VueRouter.prototype.getMatchedComponents=function(F){var E=F?F.matched?F:this.resolve(F).route:this.currentRoute;return E?[].concat.apply([],E.matched.map(function(V){return Object.keys(V.components).map(function(U){return V.components[U]})})):[]};VueRouter.prototype.resolve=function(F,E,V){E=E||this.history.current;var U=normalizeLocation(F,E,V,this),W=this.match(U,E),Y=W.redirectedFrom||W.fullPath,G=this.history.base,X=createHref(G,Y,this.mode);return{location:U,route:W,href:X,normalizedTo:U,resolved:W}};VueRouter.prototype.getRoutes=function(){return this.matcher.getRoutes()};VueRouter.prototype.addRoute=function(F,E){this.matcher.addRoute(F,E),this.history.current!==START&&this.history.transitionTo(this.history.getCurrentLocation())};VueRouter.prototype.addRoutes=function(F){this.matcher.addRoutes(F),this.history.current!==START&&this.history.transitionTo(this.history.getCurrentLocation())};Object.defineProperties(VueRouter.prototype,prototypeAccessors);var VueRouter$1=VueRouter;function registerHook(R,F){return R.push(F),function(){var E=R.indexOf(F);E>-1&&R.splice(E,1)}}function createHref(R,F,E){var V=E==="hash"?"#"+F:F;return R?cleanPath(R+"/"+V):V}VueRouter.install=install$2;VueRouter.version="3.6.5";VueRouter.isNavigationFailure=isNavigationFailure;VueRouter.NavigationFailureType=NavigationFailureType;VueRouter.START_LOCATION=START;inBrowser&&window.Vue&&window.Vue.use(VueRouter);const _sfc_main$17={computed:{...mapState("transaction",["loadingChart"]),chartData(){return this.$store.getters["transaction/getChartDataByCurrentCurrency"]},balanceChangeSignPoint(){var E,V;if(!this.chartData||((E=this.chartData.data[0])==null?void 0:E.balance)===null)return!1;const R=(V=this.chartData.data.filter(U=>U.period<=this.$helper.currentDate).slice(-1)[0])==null?void 0:V.balance;if(!R)return!1;const F=Math.sign(R);return this.chartData.data.filter(U=>this.$moment(U.period)>this.$moment()).find(U=>F===-1&&U.balance>=0||F!==-1&&U.balance<0)},message(){if(this.balanceChangeSignPoint){const R=this.$moment(this.balanceChangeSignPoint.period).diff(this.$moment(),"days")+1,F=this.$moment(this.balanceChangeSignPoint.period).format("LL");return this.$t(this.balanceChangeSignPoint.balance<0?"cashGapIn":"cashGapOut",{inDays:R,date:F})}else return""}}};var _sfc_render$17=function(){var F=this,E=F._self._c;return!F.loadingChart&&F.message?E("div",{staticClass:"alert c-cashgap-prediction-banner",class:F.balanceChangeSignPoint.balance>=0?"success":"danger",staticStyle:{"text-align":"center"}},[E("i",{staticClass:"fas custom-mr-4",class:F.balanceChangeSignPoint.balance>=0?"fa-arrow-circle-up":"fa-exclamation-triangle"}),F._v(" "+F._s(F.message)+" ")]):F._e()},_sfc_staticRenderFns$17=[],__component__$17=normalizeComponent(_sfc_main$17,_sfc_render$17,_sfc_staticRenderFns$17,!1,null,null,null,null);const CashGapMessage=__component__$17.exports,ChartHeader_vue_vue_type_style_index_0_lang="",_sfc_main$16={__name:"ChartHeader",setup(R){return{__sfc:!0}}};var _sfc_render$16=function(){var F=this,E=F._self._c;return F._self._setupProxy,E("div",{staticClass:"c-header custom-m-12 custom-ml-32 custom-ml-12-mobile"},[F.$helper.isDesktopEnv?F._t("title"):F._e(),F._t("controls")],2)},_sfc_staticRenderFns$16=[],__component__$16=normalizeComponent(_sfc_main$16,_sfc_render$16,_sfc_staticRenderFns$16,!1,null,null,null,null);const ChartHeader=__component__$16.exports,_sfc_main$15={computed:{activeCurrencyChart:{get(){return this.$store.state.transaction.chartDataCurrencyIndex},set(R){this.$store.commit("transaction/setChartDataCurrencyIndex",R)}}}};var _sfc_render$15=function(){var F=this,E=F._self._c;return F.$store.state.transaction.chartData.length>1?E("div",{staticClass:"toggle"},F._l(F.$store.state.transaction.chartData,function(V,U){return E("span",{key:V.currency,class:{selected:U===F.activeCurrencyChart},on:{click:function(W){F.activeCurrencyChart=U}}},[F._v(" "+F._s(V.currency)+" ")])}),0):F._e()},_sfc_staticRenderFns$15=[],__component__$15=normalizeComponent(_sfc_main$15,_sfc_render$15,_sfc_staticRenderFns$15,!1,null,null,null,null);const CurrencyToggler=__component__$15.exports,Dropdown_vue_vue_type_style_index_0_lang="",_sfc_main$14={props:{type:{type:String,required:!0}},computed:{items(){return intervals[this.type]},value:{get(){return this.$store.state.transaction.chartInterval[this.type]},set(R){localStorage.setItem(`interval_${this.type}`,this.getNameByValue(R)),this.$store.commit("transaction/updateChartInterval",{[this.type]:R})}}},methods:{getNameByValue(R){return this.items.find(F=>F.value===R).key}}};var _sfc_render$14=function(){var F=this,E=F._self._c;return E("div",{staticClass:"wa-select solid"},[E("select",{directives:[{name:"model",rawName:"v-model",value:F.value,expression:"value"}],staticClass:"c-select",on:{change:function(V){var U=Array.prototype.filter.call(V.target.options,function(W){return W.selected}).map(function(W){var Y="_value"in W?W._value:W.value;return Y});F.value=V.target.multiple?U:U[0]}}},F._l(F.items,function(V){return E("option",{key:V.key,domProps:{value:V.value}},[F._v(" "+F._s(F.$t(V.key))+" ")])}),0)])},_sfc_staticRenderFns$14=[],__component__$14=normalizeComponent(_sfc_main$14,_sfc_render$14,_sfc_staticRenderFns$14,!1,null,null,null,null);const Dropdown=__component__$14.exports,amountMixin={computed:{$_amountMixin_amountTypes(){const R=this.$store.getters.getCurrentType;return R!=null&&R.is_profit?["profit"]:R!=null&&R.type?[R.type]:["income","expense","profit"]}},methods:{$_amountMixin_amountDelta(R){return Math.abs(this.$_amountMixin_getTotalByType("income",R))-Math.abs(this.$_amountMixin_getTotalByType("expense",R))-Math.abs(this.$_amountMixin_getTotalByType("profit",R))},$_amountMixin_getTotalByType(R,F){const E=this.$store.state.transaction.chartData[this.$store.state.transaction.chartDataCurrencyIndex];if(!E)return 0;const V=this.$helper.currentDate,U=`amount${R[0].toUpperCase()}${R.slice(1)}`;return E.data.filter(W=>F==="to"?W.period>V:W.period<=V).reduce((W,Y)=>W+Y[U],0)}}},_sfc_main$13={mixins:[amountMixin],props:{period:{type:String,required:!0}},computed:{...mapState("transaction",["chartData","chartDataCurrencyIndex","loadingChart"]),currencyCode(){var R;return(R=this.chartData[this.chartDataCurrencyIndex])==null?void 0:R.currency}}};var _sfc_render$13=function(){var F=this,E=F._self._c;return F.loadingChart?E("div",F._l(F.$_amountMixin_amountTypes.length+1,function(V){return E("div",{key:V,staticClass:"skeleton"},[E("span",{staticClass:"skeleton-line custom-mb-4"})])}),0):E("div",[F._l(F.$_amountMixin_amountTypes,function(V,U){return E("div",{key:U},[E("div",{class:{"text-green":V==="income","text-red":V==="expense","text-blue":V==="profit"},attrs:{title:V==="profit"?F.$t("profit"):V==="income"?F.$t("income"):F.$t("expense")}},[E("div",{staticClass:"custom-ml-12"},[V==="profit"?E("i",{staticClass:"fas fa-coins text-blue smaller"}):F._e(),E("span",{staticClass:"smaller semibold"},[F._v(F._s(F.$helper.toCurrency({value:F.$_amountMixin_getTotalByType(V,F.period),currencyCode:F.currencyCode,prefix:V==="income"?"+ ":V==="expense"?"\u2212 ":" "})))])])])])}),E("div",[F.$_amountMixin_amountTypes.includes("profit")?E("div",{attrs:{title:F.$t("delta")}},[E("div",{staticClass:"custom-ml-12"},[E("span",{staticClass:"smaller semibold gray"},[F._v(" "+F._s(F.$helper.toCurrency({value:F.$_amountMixin_amountDelta(F.period),currencyCode:F.currencyCode,isDynamics:!0,prefix:"\u0394\xA0"}))+" ")])])]):F._e()])],2)},_sfc_staticRenderFns$13=[],__component__$13=normalizeComponent(_sfc_main$13,_sfc_render$13,_sfc_staticRenderFns$13,!1,null,null,null,null);const AmountForPeriod=__component__$13.exports,ChartHeaderControls_vue_vue_type_style_index_0_lang="",_sfc_main$12={components:{CurrencyToggler,Dropdown,AmountForPeriod}};var _sfc_render$12=function(){var F=this,E=F._self._c;return E("div",{staticClass:"c-period-dropdowns-container"},[E("div",{staticClass:"flexbox vertical-mobile space-12",staticStyle:{"align-items":"start"}},[E("CurrencyToggler"),E("div",{staticClass:"c-period-dropdowns flexbox fixed space-12 width-100-mobile"},[E("div",[E("Dropdown",{staticClass:"custom-m-0 custom-mb-8 width-100-mobile",attrs:{type:"from"}}),E("AmountForPeriod",{attrs:{period:"from"}})],1),E("div",[E("Dropdown",{staticClass:"custom-m-0 custom-mb-8 width-100-mobile",attrs:{type:"to"}}),E("AmountForPeriod",{attrs:{period:"to"}})],1)])],1)])},_sfc_staticRenderFns$12=[],__component__$12=normalizeComponent(_sfc_main$12,_sfc_render$12,_sfc_staticRenderFns$12,!1,null,null,null,null);const ChartHeaderControls=__component__$12.exports,_sfc_main$11={mixins:[amountMixin],props:{currencyCode:{type:String}},computed:{average(){const R=this.$_amountMixin_amountDelta("to"),F=Math.ceil(Math.abs(this.$moment().diff(this.$moment(this.$store.state.transaction.chartInterval.to),"months",!0)));return R/F}}};var _sfc_render$11=function(){var F=this,E=F._self._c;return F.average!==0&&!F.$store.state.transaction.loadingChart?E("div",{staticClass:"opacity-50 nowrap custom-mt-4 semibold small",class:F.average>=0?"text-green":"text-red",attrs:{title:F.$t("forecasted")}},[E("i",{staticClass:"fas fa-tachometer-alt"}),F._v(" "+F._s(F.$helper.toCurrency({value:F.average,currencyCode:F.currencyCode,isDynamics:!0}))+"/"+F._s(F.$t("shortMonth"))+" ")]):F._e()},_sfc_staticRenderFns$11=[],__component__$11=normalizeComponent(_sfc_main$11,_sfc_render$11,_sfc_staticRenderFns$11,!1,null,null,null,null);const ChartHeaderTitleAverage=__component__$11.exports,_sfc_main$10={components:{Modal:Modal$1,Account:AddAccount,Category:AddCategory,ChartHeaderTitleAverage},data(){return{open:!1,currentComponentInModal:"",item:null}},computed:{currentEntity(){return this.$store.state.currentType==="account"||this.$store.state.currentType==="category"?this.$store.getters.getCurrentType:this.$store.getters["balanceFlow/getBalanceFlowByCode"](this.$store.state.currentTypeId)},balance(){var R,F;return((R=this.currentEntity.stat)==null?void 0:R.summary)||((F=this.currentEntity.balances)==null?void 0:F.now.amount)}},methods:{update(R){this.open=!0,this.currentComponentInModal=R.currency?"Account":"Category",this.item=R},close(){this.open=!1,this.currentComponentInModal=""}}};var _sfc_render$10=function(){var F=this,E=F._self._c;return F.currentEntity?E("div",{staticClass:"custom-pb-16-mobile"},[E("div",[F._v(F._s(F.$moment().format("LL")))]),E("div",{staticClass:"flexbox middle space-12 wrap"},[E("div",{staticClass:"flexbox space-12 middle wrap-mobile"},[E("div",{staticClass:"h2 custom-mb-0"},[F._v(" "+F._s(F.currentEntity.name||F.currentEntity.currency)+" ")]),F.currentEntity.currency?E("div",{staticClass:"h2 nowrap custom-mb-0",class:{"text-green":F.balance>0,"text-red":F.balance<0}},[F._v(" "+F._s(F.$helper.toCurrency({value:F.balance,currencyCode:F.currentEntity.currency}))+" ")]):F._e()]),E("chart-header-title-average",{attrs:{"currency-code":F.$store.getters["transaction/activeCurrencyCode"]}}),F.currentEntity.id>0&&F.$permissions.isAdmin?E("div",[E("button",{staticClass:"button nobutton circle",on:{click:function(V){return F.update(F.currentEntity)}}},[E("i",{staticClass:"fas fa-edit"})])]):F._e()],1),E("portal",[F.open?E("Modal",{on:{close:F.close}},[E(F.currentComponentInModal,{tag:"component",attrs:{"edited-item":F.item}})],1):F._e()],1)],1):F._e()},_sfc_staticRenderFns$10=[],__component__$10=normalizeComponent(_sfc_main$10,_sfc_render$10,_sfc_staticRenderFns$10,!1,null,null,null,null);const ChartHeaderTitle=__component__$10.exports,initialDarkMode=document.documentElement.getAttribute("data-theme")==="dark",DarkModeObserver=new Vue$2({data(){return{darkMode:initialDarkMode}},created(){this.addDarkModeObserver()},beforeDestroy(){this.darkModeObserver&&this.darkModeObserver.disconnect()},methods:{addDarkModeObserver(){const R=document.documentElement;if(R){const F={attributes:!0},E=V=>{for(const U of V)U.attributeName==="data-theme"&&(this.darkMode=R.getAttribute("data-theme")==="dark")};this.darkModeObserver=new MutationObserver(E),this.darkModeObserver.observe(R,F)}}}}),darkModeObserver={install:R=>{R.prototype.$darkModeObserver=DarkModeObserver}};var extendStatics=function(R,F){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,V){E.__proto__=V}||function(E,V){for(var U in V)Object.prototype.hasOwnProperty.call(V,U)&&(E[U]=V[U])},extendStatics(R,F)};function __extends(R,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");extendStatics(R,F);function E(){this.constructor=R}R.prototype=F===null?Object.create(F):(E.prototype=F.prototype,new E)}var __assign$1=function(){return __assign$1=Object.assign||function(F){for(var E,V=1,U=arguments.length;V<U;V++){E=arguments[V];for(var W in E)Object.prototype.hasOwnProperty.call(E,W)&&(F[W]=E[W])}return F},__assign$1.apply(this,arguments)};function __awaiter(R,F,E,V){function U(W){return W instanceof E?W:new E(function(Y){Y(W)})}return new(E||(E=Promise))(function(W,Y){function G(Z){try{K(V.next(Z))}catch(J){Y(J)}}function X(Z){try{K(V.throw(Z))}catch(J){Y(J)}}function K(Z){Z.done?W(Z.value):U(Z.value).then(G,X)}K((V=V.apply(R,F||[])).next())})}function __generator(R,F){var E={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},V,U,W,Y;return Y={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function G(K){return function(Z){return X([K,Z])}}function X(K){if(V)throw new TypeError("Generator is already executing.");for(;Y&&(Y=0,K[0]&&(E=0)),E;)try{if(V=1,U&&(W=K[0]&2?U.return:K[0]?U.throw||((W=U.return)&&W.call(U),0):U.next)&&!(W=W.call(U,K[1])).done)return W;switch(U=0,W&&(K=[K[0]&2,W.value]),K[0]){case 0:case 1:W=K;break;case 4:return E.label++,{value:K[1],done:!1};case 5:E.label++,U=K[1],K=[0];continue;case 7:K=E.ops.pop(),E.trys.pop();continue;default:if(W=E.trys,!(W=W.length>0&&W[W.length-1])&&(K[0]===6||K[0]===2)){E=0;continue}if(K[0]===3&&(!W||K[1]>W[0]&&K[1]<W[3])){E.label=K[1];break}if(K[0]===6&&E.label<W[1]){E.label=W[1],W=K;break}if(W&&E.label<W[2]){E.label=W[2],E.ops.push(K);break}W[2]&&E.ops.pop(),E.trys.pop();continue}K=F.call(R,E)}catch(Z){K=[6,Z],U=0}finally{V=W=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}}function __values(R){var F=typeof Symbol=="function"&&Symbol.iterator,E=F&&R[F],V=0;if(E)return E.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&V>=R.length&&(R=void 0),{value:R&&R[V++],done:!R}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(R,F){var E=typeof Symbol=="function"&&R[Symbol.iterator];if(!E)return R;var V=E.call(R),U,W=[],Y;try{for(;(F===void 0||F-- >0)&&!(U=V.next()).done;)W.push(U.value)}catch(G){Y={error:G}}finally{try{U&&!U.done&&(E=V.return)&&E.call(V)}finally{if(Y)throw Y.error}}return W}function __spread(){for(var R=[],F=0;F<arguments.length;F++)R=R.concat(__read(arguments[F]));return R}typeof SuppressedError=="function"&&SuppressedError;var Percent=function(){function R(F){this._value=F}return Object.defineProperty(R.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),R.prototype.toString=function(){return""+this._value+"%"},R}();function percent(R){return new Percent(R)}function isPercent(R){return R instanceof Percent}function isNaN$1(R){return Number(R)!==R}function getType(R){return{}.toString.call(R)}function castString(R){if(typeof R=="string")return R;if(typeof R=="number")return""+R;throw new Error("Expected a string or number but got "+getType(R))}function toBoolean(R){return!!R}function toNumber(R){if(hasValue(R)&&!isNumber(R)){var F=Number(R);return isNaN$1(F)&&isString$1(R)&&R!=""?toNumber(R.replace(/[^0-9.\-]+/g,"")):F}return R}function toText(R){if(hasValue(R)&&!isString$1(R)){if(isNumber(R))return castString(R);if(isObject$1(R))return R.toString()}return R}function toNumberOrPercent(R){return!hasValue(R)||isNumber(R)||isPercent(R)?R:isString$1(R)&&R.indexOf("%")!=-1?percent(toNumber(R)):toNumber(R)}function hasValue(R){return R!=null}function getValue(R){if(hasValue(R))return R;throw new Error("Value doesn't exist")}function getValueDefault(R,F){return hasValue(R)?R:F}function isDate(R){return getType(R)==="[object Date]"}function isString$1(R){return typeof R=="string"}function isNumber(R){return typeof R=="number"&&Number(R)==R}function isObject$1(R){return typeof R=="object"&&R!=null}function isArray$1(R){return Array.isArray(R)}var PI=Math.PI,HALFPI=PI/2,RADIANS=PI/180,DEGREES=180/PI;function toNumberRange(R,F,E){return hasValue(R)?(R=toNumber(R),fitToRange(R,F,E)):R}function round$2(R,F,E){if(!isNumber(F)||F<=0){var V=Math.round(R);return E&&V-R==.5&&V--,V}else{var U=Math.pow(10,F);return Math.round(R*U)/U}}function ceil(R,F){if(!isNumber(F)||F<=0)return Math.ceil(R);var E=Math.pow(10,F);return Math.ceil(R*E)/E}function fitToRange(R,F,E){if(isNumber(F)){if(isNumber(E)&&E<F){var V=E;E=F,F=V}R<F&&(R=F)}return isNumber(E)&&R>E&&(R=E),R}function sin(R){return round$2(Math.sin(RADIANS*R),10)}function tan(R){return round$2(Math.tan(RADIANS*R),10)}function cos(R){return round$2(Math.cos(RADIANS*R),10)}function max$2(R,F){return isNumber(R)?isNumber(F)&&F>R?F:R:isNumber(F)?F:null}function min$2(R,F){return isNumber(R)?isNumber(F)&&F<R?F:R:isNumber(F)?F:null}function closest(R,F){return R.reduce(function(E,V){return Math.abs(V-F)<Math.abs(E-F)?V:E})}function intersect(R,F){var E=getValue(R.start),V=getValue(F.start),U=getValue(R.end),W=getValue(F.end);return Math.max(E,V)<=Math.min(U,W)}function invertRange(R){var F=getValue(R.start),E=getValue(R.end);return{start:1-E,end:1-F}}function intersection(R,F){var E=getValue(R.start),V=getValue(F.start),U=getValue(R.end),W=getValue(F.end),Y=Math.max(E,V),G=Math.min(U,W);if(!(G<Y))return{start:Y,end:G}}function getDistance(R,F){return R?(F||(F={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(R.x-F.x),2)+Math.pow(Math.abs(R.y-F.y),2))):0}function getHorizontalDistance(R,F){return R?(F||(F={x:0,y:0}),Math.abs(R.x-F.x)):0}function getVerticalDistance(R,F){return R?(F||(F={x:0,y:0}),Math.abs(R.y-F.y)):0}function getCubicCurveDistance(R,F,E,V,U){if(!R)return 0;F||(F={x:0,y:0});var W=0,Y=R;if(U>0)for(var G=0;G<=U;G++){var X=getPointOnCubicCurve(R,F,E,V,G/U);W+=getDistance(Y,X),Y=X}return W}function getScale$1(R,F,E,V){var U=getDistance(F,V),W=getDistance(R,E);return Math.abs(W/U)}function getMidPoint(R,F,E){return isNumber(E)||(E=.5),{x:R.x+(F.x-R.x)*E,y:R.y+(F.y-R.y)*E}}function getAngle(R,F){F||(F={x:R.x*2,y:R.y*2});var E=F.x-R.x,V=F.y-R.y,U=Math.atan2(V,E)*DEGREES;return U<0&&(U+=360),normalizeAngle(U)}function getBBox(R){if(R){var F=R.length;if(F!==0){for(var E=void 0,V=void 0,U,W=void 0,Y=0;Y<F;Y++){var G=R[Y];(!isNumber(V)||G.x>V)&&(V=G.x),(!isNumber(E)||G.x<E)&&(E=G.x),(!isNumber(U)||G.y<U)&&(U=G.y),(!isNumber(W)||G.y>W)&&(W=G.y)}return{x:E,y:U,width:V-E,height:W-U}}}return{x:0,y:0,width:0,height:0}}function getCommonRectangle(R){var F=R.length;if(F!==0){for(var E=void 0,V=void 0,U=void 0,W=void 0,Y=0;Y<F;Y++){var G=R[Y];E=min$2(G.x,E),V=min$2(G.y,V),U=max$2(G.x+G.width,U),W=max$2(G.y+G.height,W)}return{x:E,y:V,width:U-E,height:W-V}}}function getPointOnQuadraticCurve(R,F,E,V){var U=(1-V)*(1-V)*R.x+2*(1-V)*V*E.x+V*V*F.x,W=(1-V)*(1-V)*R.y+2*(1-V)*V*E.y+V*V*F.y;return{x:U,y:W}}function getPointOnCubicCurve(R,F,E,V,U){var W={x:0,y:0},Y=1-U,G=Y*Y,X=G*Y;return W.x=R.x*X+E.x*3*G*U+V.x*3*Y*U*U+F.x*U*U*U,W.y=R.y*X+E.y*3*G*U+V.y*3*Y*U*U+F.y*U*U*U,W}function getCubicControlPointA(R,F,E,V,U,W){return U=adjustTension(U),W=adjustTension(W),{x:(-R.x+F.x/U+E.x)*U,y:(-R.y+F.y/W+E.y)*W}}function getCubicControlPointB(R,F,E,V,U,W){return U=adjustTension(U),W=adjustTension(W),{x:(F.x+E.x/U-V.x)*U,y:(F.y+E.y/W-V.y)*W}}function adjustTension(R){return 1-R+1e-5}function normalizeAngle(R){return R==360?360:R%360}function fitAngleToRange(R,F,E){if(F>E){var V=F;F=E,E=V}R=normalizeAngle(R);var U=(F-normalizeAngle(F))/360;R<F&&(R+=360*(U+1));var W=F+(E-F)/2+180,Y=F+(E-F)/2-180;return R>E&&(R-360>F?R-=360:R<W?R=E:R=F),R<F&&(R>Y?R=F:R=E),R}function getArcRect(R,F,E){var V=Number.MAX_VALUE,U=Number.MAX_VALUE,W=-Number.MAX_VALUE,Y=-Number.MAX_VALUE,G=[];isNumber(E)||(E=1),G.push(getArcPoint(E,R)),G.push(getArcPoint(E,F));for(var X=Math.min(Math.floor(R/90)*90,Math.floor(F/90)*90),K=Math.max(Math.ceil(R/90)*90,Math.ceil(F/90)*90),Z=X;Z<=K;Z+=90)Z>=R&&Z<=F&&G.push(getArcPoint(E,Z));for(var J=0;J<G.length;J++){var Q=G[J];Q.x<V&&(V=Q.x),Q.y<U&&(U=Q.y),Q.x>W&&(W=Q.x),Q.y>Y&&(Y=Q.y)}return{x:V,y:U,width:W-V,height:Y-U}}function getArcPoint(R,F){return{x:R*cos(F),y:R*sin(F)}}function isInRectangle(R,F){return R.x>=F.x&&R.x<=F.x+F.width&&R.y>=F.y&&R.y<=F.y+F.height}function indexOf(R,F){for(var E=R.length,V=0;V<E;++V)if(R[V]===F)return V;return-1}function any(R,F){for(var E=R.length,V=0;V<E;++V)if(F(R[V]))return!0;return!1}function map$2(R,F){for(var E=R.length,V=new Array(E),U=0;U<E;++U)V[U]=F(R[U],U);return V}function each$2(R,F){for(var E=R.length,V=0;V<E;++V)F(R[V],V)}function eachReverse(R,F){for(var E=R.length;E--;)F(R[E],E)}function eachContinue$2(R,F){for(var E=R.length,V=0;V<E&&F(R[V],V);++V);}function shiftLeft(R,F){for(var E=R.length,V=F;V<E;++V)R[V-F]=R[V];R.length=E-F}function pushAll(R,F){for(var E=F.length,V=0;V<E;++V)R.push(F[V])}function remove$1(R,F){var E=!1,V=R.indexOf(F);if(V!==-1){E=!0,R.splice(V,1);for(var U=R.length;V<U;)R[V]===F?(R.splice(V,1),--U):++V}return E}function move(R,F,E){var V=indexOf(R,F);V!==-1&&removeIndex(R,V),E==null?R.push(F):insertIndex(R,E,F)}function add$1(R,F,E){isNumber(E)?E===0?R.unshift(F):R.splice(E,0,F):R.push(F)}function replace(R,F,E){var V=R.indexOf(F);V!==-1&&R.splice(V,1),isNumber(E)?R.splice(E,0,F):R.push(F)}function toArray$2(R){return Array.isArray(R)?R:[R]}function copy$3(R){for(var F=R.length,E=new Array(F),V=0;V<F;++V)E[V]=R[V];return E}function insertIndex(R,F,E){R.splice(F,0,E)}function removeIndex(R,F){R.splice(F,1)}function getSortedIndex(R,F,E){for(var V=0,U=R.length,W=!1;V<U;){var Y=V+U>>1,G=F(E,R[Y]);G<0?U=Y:(G===0&&(W=!0),V=Y+1)}return{found:W,index:W?V-1:V}}function findIndex$1(R,F){for(var E=R.length,V=0;V<E;++V)if(F(R[V],V))return V;return-1}function keepIf(R,F){for(var E=R.length,V=0;V<E;)F(R[V])?++V:(R.splice(V,1),--E)}var Disposer=function(){function R(F){this._disposed=!1,this._dispose=F}return R.prototype.isDisposed=function(){return this._disposed},R.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},R}(),MultiDisposer=function(R){__extends(F,R);function F(E){return R.call(this,function(){each$2(E,function(V){V.dispose()})})||this}return F}(Disposer),MutableValueDisposer=function(R){__extends(F,R);function F(){var E=R.call(this,function(){hasValue(E._disposer)&&(E._disposer.dispose(),E._disposer=void 0)})||this;return E}return F.prototype.get=function(){return this._value},F.prototype.set=function(E,V){hasValue(this._disposer)&&this._disposer.dispose(),this._disposer=V,this._value=E},F.prototype.reset=function(){this.set(void 0,void 0)},F}(Disposer),CounterDisposer=function(R){__extends(F,R);function F(){var E=R!==null&&R.apply(this,arguments)||this;return E._counter=0,E}return F.prototype.increment=function(){var E=this;return++this._counter,new Disposer(function(){--E._counter,E._counter===0&&E.dispose()})},F}(Disposer),pendingFrame=!1,nextQueue=[],readQueue=[],writeQueue=[],idleQueue=[],fps=1e3/60,raf=typeof requestAnimationFrame=="function"?function(R){requestAnimationFrame(R)}:function(R){setTimeout(R,fps)};function frameLoop(){for(var R=Date.now(),F=nextQueue.length,E=0;E<F;++E)nextQueue[E](R);shiftLeft(nextQueue,F);for(var E=0;E<readQueue.length;++E)readQueue[E](R);readQueue.length=0;for(var E=0;E<writeQueue.length;++E)writeQueue[E](R);writeQueue.length=0,nextQueue.length===0&&readQueue.length===0?pendingFrame=!1:raf(frameLoop)}function pendFrame(){pendingFrame||(pendingFrame=!0,raf(frameLoop))}function readFrame(R){readQueue.push(R),pendFrame()}function writeFrame(R){writeQueue.push(R),pendFrame()}function whenIdle(R){idleQueue.push(R)}function triggerIdle(){for(var R=Date.now(),F=idleQueue.length,E=0;E<F;++E)idleQueue.shift()(R)}var EventDispatcher=function(){function R(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return R.prototype.isDisposed=function(){return this._disposed},R.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var F=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{each$2(F,function(E){E.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}},R.prototype.hasListeners=function(){return this._listeners.length!==0},R.prototype.hasListenersByType=function(F){return any(this._listeners,function(E){return(E.type===null||E.type===F)&&!E.killed})},R.prototype.enable=function(){this._enabled=!0},R.prototype.disable=function(){this._enabled=!1},R.prototype.enableType=function(F){delete this._disabled[F]},R.prototype.disableType=function(F,E){E===void 0&&(E=1/0),this._disabled[F]=E},R.prototype._removeListener=function(F){if(this._iterating===0){var E=this._listeners.indexOf(F);if(E===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(E,1)}else this._killed.push(F)},R.prototype._removeExistingListener=function(F,E,V,U){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(W){W.once===F&&W.type===E&&(V==null||W.callback===V)&&W.context===U&&W.disposer.dispose()})},R.prototype.isEnabled=function(F){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(F)&&this._disabled[F]==null},R.prototype.has=function(F,E,V){var U=findIndex$1(this._listeners,function(W){return W.once!==!0&&W.type===F&&(E==null||W.callback===E)&&W.context===V});return U!==-1},R.prototype._shouldDispatch=function(F){if(this._disposed)throw new Error("EventDispatcher is disposed");var E=this._disabled[F];return isNumber(E)?(E<=1?delete this._disabled[F]:--this._disabled[F],!1):this._enabled},R.prototype._eachListener=function(F){var E=this;++this._iterating;try{each$2(this._listeners,F)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(each$2(this._killed,function(V){E._removeListener(V)}),this._killed.length=0)}},R.prototype.dispatchImmediately=function(F,E){this._shouldDispatch(F)&&this._eachListener(function(V){!V.killed&&(V.type===null||V.type===F)&&V.dispatch(F,E)})},R.prototype.dispatch=function(F,E){this._shouldDispatch(F)&&this._eachListener(function(V){!V.killed&&(V.type===null||V.type===F)&&whenIdle(function(){V.killed||V.dispatch(F,E)})})},R.prototype._on=function(F,E,V,U,W,Y){var G=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(F,E,V,U);var X={type:E,callback:V,context:U,shouldClone:W,dispatch:Y,killed:!1,once:F,disposer:new Disposer(function(){X.killed=!0,G._removeListener(X)})};return this._listeners.push(X),X},R.prototype.onAll=function(F,E,V){return V===void 0&&(V=!0),this._on(!1,null,F,E,V,function(U,W){return F.call(E,U,W)}).disposer},R.prototype.on=function(F,E,V,U){return U===void 0&&(U=!0),this._on(!1,F,E,V,U,function(W,Y){return E.call(V,Y)}).disposer},R.prototype.once=function(F,E,V,U){U===void 0&&(U=!0);var W=this._on(!0,F,E,V,U,function(Y,G){W.disposer.dispose(),E.call(V,G)});return W.disposer},R.prototype.off=function(F,E,V){this._removeExistingListener(!1,F,E,V)},R.prototype.copyFrom=function(F){var E=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(F===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");each$2(F._listeners,function(V){!V.killed&&V.shouldClone&&(V.type===null?E.onAll(V.callback,V.context):V.once?E.once(V.type,V.callback,V.context):E.on(V.type,V.callback,V.context))})},R}(),TargetedEventDispatcher=function(R){__extends(F,R);function F(E){var V=R.call(this)||this;return V.target=E,V}return F.prototype.copyFrom=function(E){var V=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(E===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");each$2(E._listeners,function(U){U.context!==E.target&&!U.killed&&U.shouldClone&&(U.type===null?V.onAll(U.callback,U.context):U.once?V.once(U.type,U.callback,U.context):V.on(U.type,U.callback,U.context))})},F}(EventDispatcher);function entries(R){return function(F){for(var E in R)if(hasKey(R,E)&&!F([E,R[E]]))break}}function keys(R){var F=[];for(var E in R)hasKey(R,E)&&F.push(E);return F}function keysOrdered(R,F){return keys(R).sort(F)}function hasKey(R,F){return{}.hasOwnProperty.call(R,F)}function eachContinue$1(R,F){for(var E in R)if(hasKey(R,E)&&!F(E,R[E]))break}function each$1(R,F){eachContinue$1(R,function(E,V){return F(E,V),!0})}function eachOrdered(R,F,E){each$2(keysOrdered(R,E),function(V){F(V,R[V])})}function merge$1(R,F){return Object.assign({},R,F)}function clone(R){return JSON.parse(JSON.stringify(R))}function copyProperties$1(R,F,E){each$2(E,function(V){hasValue(R[V])&&(F[V]=R[V])})}function forceCopyProperties(R,F,E){each$2(E,function(V){F[V]=R[V]})}function copyAllProperties(R,F){copyProperties$1(R,F,keys(R))}function fromArray(R){return function(F){for(var E=R.length,V=0;V<E&&F(R[V]);++V);}}function length(R){var F=0;return R(function(E){return++F,!0}),F}function toArray$1(R){var F=[];return R(function(E){return F.push(E),!0}),F}function eachContinue(R,F){R(F)}function each(R,F){R(function(E){return F(E),!0})}function sort(R,F){return fromArray(toArray$1(R).sort(F))}function map$1(R,F){return function(E){return R(function(V){return E(F(V))})}}function concat(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];return function(E){for(var V=!0,U=function(G){return V=E(G)},W=R.length,Y=0;Y<W&&(R[Y](U),!!V);++Y);}}function flatten(R){return function(F){var E=!0,V=function(U){return E=F(U)};R(function(U){return U(V),E})}}function indexed(R){return function(F){var E=0;R(function(V){return F([E++,V])})}}function find$2(R,F){var E;return R(function(V){return F(V)?(E=V,!1):!0}),E}function contains$1(R,F){var E=!1;return R(function(V){return F(V)?(E=!0,!1):!0}),E}var ListIterator=function(){function R(F,E){this.createNewItems=!1,this.list=F,this._create=E,this.reset()}return R.prototype.reset=function(){this._listCopy=toArray$1(this.list.iterator())},R.prototype.clear=function(){this._listCopy.length=0},R.prototype.getFirst=function(){return this.returnItem(0)},R.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},R.prototype.find=function(F){var E=findIndex$1(this._listCopy,F);if(E!==-1){var V=this._listCopy[E];return remove$1(this._listCopy,V),V}else return this.getLast()},R.prototype.removeItem=function(F){return remove$1(this._listCopy,F)},R.prototype.returnItem=function(F){if(F>=0&&F<this._listCopy.length){var E=this._listCopy[F];return remove$1(this._listCopy,E),E}else if(this.createNewItems)return this._create()},R.prototype.iterator=function(){return fromArray(this._listCopy)},R}();function order$1(R,F){return R===F?0:R<F?-1:1}function repeat(R,F){return new Array(F+1).join(R)}function random(R){for(var F="",E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",V=0;V<R;V++)F+=E.charAt(Math.floor(Math.random()*E.length));return F}var DictionaryDisposer=function(R){__extends(F,R);function F(E){var V=this,U=E.events.on("removed",function(W){W.oldValue.dispose()},void 0,!1);return V=R.call(this,function(){U.dispose(),each(E.iterator(),function(W){var Y=W[1];Y.dispose()})})||this,V}return F}(Disposer),Dictionary=function(){function R(){this.events=new EventDispatcher,this._dictionary={}}return R.prototype.hasKey=function(F){return hasKey(this._dictionary,F)},R.prototype.getKey=function(F){return this._dictionary[F]},R.prototype.insertKey=function(F,E){if(hasKey(this._dictionary,F))throw new Error("Key "+F+" already exists in dictionary");this._dictionary[F]=E,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:F,newValue:E})},R.prototype.setKey=function(F,E){if(hasKey(this._dictionary,F)){var V=this._dictionary[F];V!==E&&(this._dictionary[F]=E,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:F,oldValue:V,newValue:E}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:V}))}else this._dictionary[F]=E,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:F,newValue:E})},R.prototype.updateKey=function(F,E){if(hasKey(this._dictionary,F)){var V=this._dictionary[F],U=E(V);V!==U&&(this._dictionary[F]=U,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:F,oldValue:V,newValue:U}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:V}))}else throw new Error("Key "+F+" doesn't exist in dictionary")},R.prototype.removeKey=function(F){if(hasKey(this._dictionary,F)){var E=this._dictionary[F];delete this._dictionary[F],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:F,oldValue:E}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:E})}},R.prototype.insertKeyIfEmpty=function(F,E){return this.hasKey(F)||this.insertKey(F,E()),this.getKey(F)},R.prototype.clear=function(){var F=this;this.events.isEnabled("removed")&&each$1(this._dictionary,function(E,V){F.events.dispatchImmediately("removed",{type:"removed",target:F,oldValue:V})}),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},R.prototype.copyFrom=function(F){var E=this;each(F.iterator(),function(V){E.setKey(V[0],V[1])})},R.prototype.iterator=function(){return entries(this._dictionary)},R.prototype[Symbol.iterator]=function(){var F,E,V,U;return __generator(this,function(W){switch(W.label){case 0:F=[];for(E in this._dictionary)F.push(E);V=0,W.label=1;case 1:return V<F.length?(U=F[V],hasKey(this._dictionary,U)?[4,[U,this._dictionary[U]]]:[3,3]):[3,4];case 2:W.sent(),W.label=3;case 3:return V++,[3,1];case 4:return[2]}})},R.prototype.each=function(F){each(this.iterator(),function(E){var V=__read(E,2),U=V[0],W=V[1];return F(U,W)})},R.prototype.sortedIterator=function(){return sort(this.iterator(),function(F,E){return order$1(F[0],E[0])})},R}(),DictionaryTemplate=function(R){__extends(F,R);function F(E){var V=R.call(this)||this;return V.template=E,V}return Object.defineProperty(F.prototype,"template",{get:function(){return this._template},set:function(E){E.isTemplate=!0,this._template=E},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){var V=this;each(E.iterator(),function(U){V.setKey(U[0],U[1].clone())})},F.prototype.create=function(E){var V=this;return this.insertKeyIfEmpty(E,function(){return V.template.clone()})},F}(Dictionary),Cache=function(){function R(){this._storage=new Dictionary,this.ttl=1e3}return R.prototype.set=function(F,E,V,U){var W=this._storage.insertKeyIfEmpty(F,function(){return new Dictionary}),Y={touched:new Date().getTime(),ttl:isNumber(U)?U:this.ttl,value:V};W.setKey(E,Y)},R.prototype.get=function(F,E,V){if(V===void 0&&(V=void 0),this._storage.hasKey(F)){var U=this._storage.getKey(F);if(U.hasKey(E)){var W=U.getKey(E);return W.ttl&&W.touched+W.ttl<new Date().getTime()&&(W.expired=!0),W.expired?(U.removeKey(E),V):W.value}else return V}else return V},R.prototype.clear=function(F){F?this._storage.removeKey(F):this._storage.clear()},R}(),cache=new Cache,Registry=function(){function R(){var F=this;this.events=new EventDispatcher,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],typeof addEventListener<"u"&&(addEventListener("beforeprint",function(){each$2(F.baseSprites,function(E){var V=E.paper.svg;V.setAttribute("viewBox","0 0 "+V.clientWidth+" "+V.clientHeight)})}),addEventListener("afterprint",function(){each$2(F.baseSprites,function(E){var V=E.paper.svg;V.removeAttribute("viewBox")})}))}return R.prototype.getUniqueId=function(){var F=this._uidCount;return this._uidCount+=1,"id-"+F},Object.defineProperty(R.prototype,"map",{get:function(){return this._map||(this._map=new Dictionary),this._map},enumerable:!0,configurable:!0}),R.prototype.setCache=function(F,E,V){cache.set(this.uid,F,E,V)},R.prototype.getCache=function(F,E){return E===void 0&&(E=void 0),cache.get(this.uid,F,E)},R.prototype.dispatch=function(F,E){this.events.isEnabled(F)&&(E?(E.type=F,E.target=E.target||this,this.events.dispatch(F,{type:F,target:this})):this.events.dispatch(F,{type:F,target:this}))},R.prototype.dispatchImmediately=function(F,E){this.events.isEnabled(F)&&(E?(E.type=F,E.target=E.target||this,this.events.dispatchImmediately(F,E)):this.events.dispatchImmediately(F,{type:F,target:this}))},R.prototype.getPlaceholder=function(F){return hasValue(this._placeholders[F])?this._placeholders[F]:(this._placeholders[F]="__amcharts_"+F+"_"+random(8)+"__",this._placeholders[F])},R.prototype.addToInvalidComponents=function(F){F.baseId?move(this.invalidDatas[F.baseId],F):move(this.invalidDatas.noBase,F)},R.prototype.removeFromInvalidComponents=function(F){F.baseId&&remove$1(this.invalidDatas[F.baseId],F),remove$1(this.invalidDatas.noBase,F)},R.prototype.addToInvalidSprites=function(F){F.baseId?add$1(this.invalidSprites[F.baseId],F):add$1(this.invalidSprites.noBase,F)},R.prototype.removeFromInvalidSprites=function(F){F.baseId&&remove$1(this.invalidSprites[F.baseId],F),remove$1(this.invalidSprites.noBase,F)},R.prototype.addToInvalidPositions=function(F){F.baseId?add$1(this.invalidPositions[F.baseId],F):add$1(this.invalidPositions.noBase,F)},R.prototype.removeFromInvalidPositions=function(F){F.baseId&&remove$1(this.invalidPositions[F.baseId],F),remove$1(this.invalidPositions.noBase,F)},R.prototype.addToInvalidLayouts=function(F){F.baseId?add$1(this.invalidLayouts[F.baseId],F):add$1(this.invalidLayouts.noBase,F)},R.prototype.removeFromInvalidLayouts=function(F){F.baseId&&remove$1(this.invalidLayouts[F.baseId],F),remove$1(this.invalidLayouts.noBase,F)},R}(),registry=new Registry;function is(R,F){var E=registry.registeredClasses[F];return E!=null&&R instanceof E}var IndexedIterable=function(){function R(F,E,V){this._array=F,this._start=E,this._end=V}return R.prototype.iterator=function(){var F=this;return function(E){if(F._start!==F._end)if(F._start<F._end)for(var V=F._start;V<F._end&&E(F._array[V]);++V);else for(var V=F._start-1;V>=F._end&&E(F._array[V]);--V);}},R.prototype.backwards=function(){return new R(this._array,this._end,this._start)},R.prototype.range=function(F,E){if(F<=E){if(this._start===this._end)return this;if(this._start<this._end){var V=E-F;return F=Math.max(this._start+F,this._start),E=Math.min(F+V,this._end),new R(this._array,F,E)}else{var V=E-F;return F=Math.max(this._start-F,this._end),E=Math.max(F-V,this._end),new R(this._array,F,E)}}else throw new Error("Start index must be lower than end index")},R}();(function(R){__extends(F,R);function F(E,V,U){var W=R.call(this,[E.events.on("inserted",function(Y){var G=Y.newValue,X=W._getKey(G),K=0;eachContinue(E.iterator(),function(Z){return Z===G?!1:(W._getKey(Z)===X&&++K,!0)}),W._insert(G,X,K)},void 0,!1),E.events.on("removed",function(Y){W._remove(Y.oldValue)},void 0,!1)])||this;return W._keys=[],W._groups={},W._getKey=V,W._sort=U,each(E.iterator(),function(Y){W._insert(Y,V(Y))}),W}return F.prototype._insert=function(E,V,U){if(this._groups[V]==null){this._groups[V]=[];var W=getSortedIndex(this._keys,this._sort,V),Y=W.found,G=W.index;if(Y)throw new Error("Key already exists: "+V);insertIndex(this._keys,G,V)}U==null?this._groups[V].push(E):insertIndex(this._groups[V],U,E)},F.prototype._remove=function(E){var V=this._getKey(E),U=this._groups[V];if(U!=null&&(remove$1(U,E),U.length===0)){delete this._groups[V];var W=getSortedIndex(this._keys,this._sort,V),Y=W.found,G=W.index;if(Y)removeIndex(this._keys,G);else throw new Error("Key doesn't exist: "+V)}},F.prototype.iterator=function(){var E=this;return flatten(map$1(fromArray(this._keys),function(V){return fromArray(E._groups[V])}))},F})(MultiDisposer);var ListDisposer=function(R){__extends(F,R);function F(E,V){V===void 0&&(V=!0);var U=this;if(V){var W=E.events.on("removed",function(Y){Y.oldValue.dispose()},void 0,!1);U=R.call(this,function(){W.dispose(),each(E.iterator(),function(Y){Y.dispose()})})||this}else U=R.call(this,function(){each(E.iterator(),function(Y){Y.dispose()})})||this;return U}return F}(Disposer);function checkBounds(R,F){if(!(R>=0&&R<F))throw new Error("Index out of bounds: "+R)}var List=function(){function R(F){F===void 0&&(F=[]),this.events=new EventDispatcher,this._values=F}return Object.defineProperty(R.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),R.prototype.contains=function(F){return this._values.indexOf(F)!==-1},R.prototype.removeValue=function(F){for(var E=0,V=this._values.length;E<V;)this._values[E]===F?(this.removeIndex(E),--V):++E},R.prototype.indexOf=function(F){return indexOf(this._values,F)},Object.defineProperty(R.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),R.prototype.hasIndex=function(F){return F>=0&&F<this._values.length},R.prototype.getIndex=function(F){return this._values[F]},R.prototype.setIndex=function(F,E){checkBounds(F,this._values.length);var V=this._values[F];return V!==E&&(this._values[F]=E,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:F,oldValue:V,newValue:E}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:V}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:E})),V},R.prototype.insertIndex=function(F,E){checkBounds(F,this._values.length+1),insertIndex(this._values,F,E),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:F,newValue:E}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:E})},R.prototype._sortQuicksort=function(F,E,V){if(F<E){var U=this._sortPartition(F,E,V);this._sortQuicksort(F,U,V),this._sortQuicksort(U+1,E,V)}},R.prototype._sortPartition=function(F,E,V){for(var U=this._values,W=U[F],Y=F-1,G=E+1;;){do++Y;while(V(U[Y],W)<0);do--G;while(V(U[G],W)>0);if(Y>=G)return G;this.swap(Y,G)}},R.prototype.sort=function(F){this._sortQuicksort(0,this._values.length-1,F)},R.prototype.swap=function(F,E){var V=this._values.length;if(checkBounds(F,V),checkBounds(E,V),F!==E){var U=this._values[F],W=this._values[E];this._values[F]=W,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:F,oldValue:U,newValue:W}),this._values[E]=U,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:E,oldValue:W,newValue:U})}},R.prototype.removeIndex=function(F){checkBounds(F,this._values.length);var E=this._values[F];return removeIndex(this._values,F),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:F,oldValue:E}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:E}),E},R.prototype.moveValue=function(F,E){var V=this.indexOf(F);if(V!==-1){var U=this._values[V];removeIndex(this._values,V),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:V,oldValue:U})}E==null?(E=this._values.length,this._values.push(F)):insertIndex(this._values,E,F),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:E,newValue:F}),V===-1&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:F})},R.prototype.push=function(F){var E=this._values.push(F)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:E,newValue:F}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:F}),F},R.prototype.unshift=function(F){this.insertIndex(0,F)},R.prototype.pushAll=function(F){var E=this;each$2(F,function(V){E.push(V)})},R.prototype.copyFrom=function(F){this.pushAll(F._values)},R.prototype.pop=function(){var F=this._values.length-1;return F<0?void 0:this.removeIndex(this._values.length-1)},R.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},R.prototype.setAll=function(F){var E=this,V=copy$3(this._values);this._values.length=0,each$2(F,function(U){E._values.push(U)}),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:V,newArray:this._values}),this.events.isEnabled("removed")&&each$2(V,function(U){E.events.dispatchImmediately("removed",{type:"removed",target:E,oldValue:U})}),this.events.isEnabled("inserted")&&each$2(this._values,function(U){E.events.dispatchImmediately("inserted",{type:"inserted",target:E,newValue:U})})},R.prototype.clear=function(){this.setAll([])},R.prototype.iterator=function(){return fromArray(this._values)},R.prototype[Symbol.iterator]=function(){var F,E;return __generator(this,function(V){switch(V.label){case 0:F=this._values.length,E=0,V.label=1;case 1:return E<F?[4,this._values[E]]:[3,4];case 2:V.sent(),V.label=3;case 3:return++E,[3,1];case 4:return[2]}})},R.prototype.each=function(F){each$2(this._values,F)},R.prototype.range=function(F,E){if(F<=E){var V=E-F;return F=Math.max(F,0),E=Math.min(F+V,this._values.length),new IndexedIterable(this._values,F,E)}else throw new Error("Start index must be lower than end index")},R.prototype.backwards=function(){return new IndexedIterable(this._values,this._values.length,0)},R}(),ListTemplate=function(R){__extends(F,R);function F(E){var V=R.call(this)||this;return V.template=E,V}return Object.defineProperty(F.prototype,"template",{get:function(){return this._template},set:function(E){E.isTemplate=!0,this._template=E},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){var V=this;each(E.iterator(),function(U){V.push(U.clone())})},F.prototype.create=function(E){var V=E!=null?new E:this.template.clone();return this.push(V),V},F.prototype.clone=function(){for(var E=new F(this.template),V=this.values,U=V.length,W=0;W<U;++W)E.push(V[W].clone());return E},F}(List),OrderedList=function(){function R(F){this._values=[],this.events=new EventDispatcher,F!=null&&this.setAll(F)}return Object.defineProperty(R.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),R.prototype._insert=function(F){return this._values.push(F),this._values.length-1},Object.defineProperty(R.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),R.prototype.indexOf=function(F){return indexOf(this._values,F)},R.prototype.contains=function(F){return this.indexOf(F)!==-1},R.prototype.getIndex=function(F){return this._values[F]},Object.defineProperty(R.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),R.prototype.insert=function(F){var E=this._insert(F);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:E,newValue:F})},R.prototype.remove=function(F){var E=this.indexOf(F);if(E!==-1){var V=this._values[E];removeIndex(this._values,E),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:E,oldValue:V})}},R.prototype.setAll=function(F){var E=this;eachReverse(this._values,function(V,U){E._values.pop(),E.events.isEnabled("removed")&&E.events.dispatchImmediately("removed",{type:"removed",target:E,index:U,oldValue:V})}),each$2(F,function(V){E.insert(V)})},R.prototype.clear=function(){this.setAll([])},R.prototype.slice=function(F,E){var V=new R;return V._values=this._values.slice(F,E),V},R.prototype.findClosestIndex=function(F,E,V){V===void 0&&(V="any");var U=-1,W,Y,G=0;return eachContinue(this.iterator(),function(X){var K=E(X);if(V==="any"){if(K===F)return U=G,!1;var Z=Math.abs(F-K);(!hasValue(Y)||Y>Z)&&(U=G,W=K,Y=Z)}else V==="left"&&K<F?(!hasValue(W)||W<K)&&(U=G,W=K):V==="right"&&K>=F&&(!hasValue(W)||W>=K)&&(U=G,W=K);return++G,!0}),U===-1&&(V==="left"?U=0:V==="right"&&(U=this.length-1)),U},R.prototype.iterator=function(){return fromArray(this._values)},R.prototype[Symbol.iterator]=function(){var F,E;return __generator(this,function(V){switch(V.label){case 0:F=this._values.length,E=0,V.label=1;case 1:return E<F?[4,this._values[E]]:[3,4];case 2:V.sent(),V.label=3;case 3:return++E,[3,1];case 4:return[2]}})},R.prototype.each=function(F){each$2(this._values,F)},R}(),SortedList=function(R){__extends(F,R);function F(E){var V=R.call(this)||this;return V._ordering=E,V}return F.prototype._insert=function(E){var V=getSortedIndex(this._values,this._ordering,E).index;return insertIndex(this._values,V,E),V},F.prototype.indexOf=function(E){var V=getSortedIndex(this._values,this._ordering,E),U=V.found,W=V.index;return U?W:-1},F.prototype.update=function(E){var V=indexOf(this._values,E);if(V!==-1){var U=this._values.length-1;(V===0||this._ordering(this._values[V-1],E)<0)&&(V===U||this._ordering(E,this._values[V+1])<0)||(removeIndex(this._values,V),this._insert(E))}},F}(OrderedList),OrderedListTemplate=function(R){__extends(F,R);function F(E){var V=R.call(this)||this;return V.template=E,V}return Object.defineProperty(F.prototype,"template",{get:function(){return this._template},set:function(E){E.isTemplate=!0,this._template=E},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){var V=this;each(E.iterator(),function(U){V.insert(U.clone())})},F.prototype.slice=function(E,V){var U=new F(this.template);return U._values=this._values.slice(E,V),U},F.prototype.create=function(E){var V=E!=null?new E:this.template.clone();return this.insert(V),V},F}(OrderedList),SortedListTemplate=function(R){__extends(F,R);function F(E,V){var U=R.call(this,V)||this;return U.template=E,U}return Object.defineProperty(F.prototype,"template",{get:function(){return this._template},set:function(E){E.isTemplate=!0,this._template=E},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){var V=this;each(E.iterator(),function(U){V.insert(U.clone())})},F.prototype.create=function(E){var V=E!=null?new E:this.template.clone();return this.insert(V),V},F}(SortedList);function order(R,F){return R===F?0:R<F?-1:1}function reverse(R){switch(R){case 0:return 0;case-1:return 1;case 1:return-1}}function or(R,F){return R===0?F:R}var GlobalAdapter=function(){function R(){this._callbackId=0,this._callbacks=new SortedList(function(F,E){return or(order(F.priority,E.priority),order(F.id,E.id))})}return R.prototype.addAll=function(F,E,V,U,W){U===void 0&&(U=0),this._callbacks.insert({id:++this._callbackId,key:E,callback:V,priority:U,scope:W,type:F})},R.prototype.isEnabled=function(F,E){return any(this._callbacks.values,function(V){return V.key===E&&F instanceof V.type})},R.prototype.applyAll=function(F,E,V){var U=this._callbacks.values,W=U.length;if(W==0)return V;for(var Y=0;Y<W;++Y){var G=U[Y];G.key===E&&F instanceof G.type&&(V=G.callback.call(G.scope,V,F,E))}return V},R}(),globalAdapter=new GlobalAdapter,Adapter=function(){function R(F){this._callbackId=0,this._callbacks=new SortedList(function(E,V){return or(order(E.priority,V.priority),order(E.id,V.id))}),this._disabled={},this.object=F,this.events=this._callbacks.events}return R.prototype.add=function(F,E,V,U){V===void 0&&(V=0),this._callbacks.insert({id:++this._callbackId,key:F,callback:E,priority:V,scope:U})},R.prototype.has=function(F,E,V,U){return V===void 0&&(V=0),contains$1(this._callbacks.iterator(),function(W){return W.key===F&&W.callback===E&&W.priority===V&&W.scope===U})},R.prototype.remove=function(F,E){var V=this;each$2(toArray$1(this._callbacks.iterator()),function(U){U.key===F&&(!isNumber(E)||E===U.priority)&&V._callbacks.remove(U)})},R.prototype.enableKey=function(F){delete this._disabled[F]},R.prototype.disableKey=function(F,E){E===void 0&&(E=1/0),this._disabled[F]=E},R.prototype._hasListenersByType=function(F){return any(this._callbacks.values,function(E){return E.key===F})},R.prototype.isEnabled=function(F){return this._disabled[F]==null&&(this._hasListenersByType(F)||globalAdapter.isEnabled(this.object,F))},R.prototype._shouldDispatch=function(F){var E=this._disabled[F];return isNumber(E)?(E<=1?delete this._disabled[F]:--this._disabled[F],!1):!0},R.prototype.apply=function(F,E){if(this._shouldDispatch(F)){var V=this._callbacks.values,U=V.length;if(U>0)for(var W=0;W<U;++W){var Y=V[W];Y.key===F&&(E=Y.callback.call(Y.scope,E,this.object,F))}return E=globalAdapter.applyAll(this.object,F,E),E}else return E},R.prototype.keys=function(){return toArray$1(map$1(this._callbacks.iterator(),function(F){return F.key}))},R.prototype.copyFrom=function(F){var E=this;each(F._callbacks.iterator(),function(V){E.add(V.key,V.callback,V.priority,V.scope)}),each$1(F._disabled,function(V,U){E._disabled[V]=U})},R.prototype.clear=function(){this._callbacks.clear()},R}(),namedColors={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function rgb$1(R,F){var E;return namedColors[R]?E=namedColors[R]:R.charAt(0)==="#"?E=hexToRgb(R):R.match(/^rgba?\(/)&&(E=rgbaToRgb(R)),E||(E={r:0,g:0,b:0,a:1}),hasValue(F)&&(E.a=F),E}function hexToRgb(R){var F=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;R=R.replace(F,function(V,U,W,Y){return U+U+W+W+Y+Y});var E=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(R);return E?{r:parseInt(E[1],16),g:parseInt(E[2],16),b:parseInt(E[3],16)}:hexToRgbWithAlpha(R)}function hexToRgbWithAlpha(R){var F=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i;R=R.replace(F,function(V,U,W,Y,G){return U+U+W+W+Y+Y+G+G});var E=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(R);return E?{r:parseInt(E[1],16),g:parseInt(E[2],16),b:parseInt(E[3],16),a:parseInt(E[4],16)/256}:void 0}function rgbaToRgb(R){R=R.replace(/[ ]/g,"");var F=R.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(F)F.push("1");else if(F=R.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!F)return;return{r:parseInt(F[1]),g:parseInt(F[2]),b:parseInt(F[3]),a:parseFloat(F[4])}}function rgbToHex(R){return"#"+pad2(R.r.toString(16))+pad2(R.g.toString(16))+pad2(R.b.toString(16))}function rgbToRGBA(R){return hasValue(R.a)&&R.a!==1?"rgba("+R.r+","+R.g+","+R.b+","+R.a+")":"rgb("+R.r+","+R.g+","+R.b+")"}function pad2(R){return R.length==1?"0"+R:""+R}function interpolate$2(R,F,E){return E=fitToRange(E,0,1),R?F?{r:R.r+Math.round((F.r-R.r)*E),g:R.g+Math.round((F.g-R.g)*E),b:R.b+Math.round((F.b-R.b)*E),a:(R.a||1)+Math.round(((F.a||1)-(R.a||1))*E)}:R:F||R}function lighten(R,F){return R&&{r:Math.max(0,Math.min(255,R.r+getLightnessStep(R.r,F))),g:Math.max(0,Math.min(255,R.g+getLightnessStep(R.g,F))),b:Math.max(0,Math.min(255,R.b+getLightnessStep(R.b,F))),a:R.a}}function getLightnessStep(R,F){var E=F>0?255-R:R;return Math.round(E*F)}function brighten(R,F){if(R){var E=Math.min(Math.max(R.r,R.g,R.b),230),V=getLightnessStep(E,F);return{r:Math.max(0,Math.min(255,Math.round(R.r+V))),g:Math.max(0,Math.min(255,Math.round(R.g+V))),b:Math.max(0,Math.min(255,Math.round(R.b+V))),a:R.a}}else return R}function saturate(R,F){if(R==null||F==1)return R;var E=rgbToHsl(R);return E.s=F,hslToRgb(E)}function hslToRgb(R){var F,E,V,U=R.h,W=R.s,Y=R.l;if(W==0)F=E=V=Y;else{var G=function(J,Q,ee){return ee<0&&(ee+=1),ee>1&&(ee-=1),ee<.16666666666666666?J+(Q-J)*6*ee:ee<.5?Q:ee<.6666666666666666?J+(Q-J)*(.6666666666666666-ee)*6:J},X=Y<.5?Y*(1+W):Y+W-Y*W,K=2*Y-X;F=G(K,X,U+1/3),E=G(K,X,U),V=G(K,X,U-1/3)}return{r:Math.round(F*255),g:Math.round(E*255),b:Math.round(V*255)}}function rgbToHsl(R){var F=R.r/255,E=R.g/255,V=R.b/255,U=Math.max(F,E,V),W=Math.min(F,E,V),Y=0,G=0,X=(U+W)/2;if(U===W)Y=G=0;else{var K=U-W;switch(G=X>.5?K/(2-U-W):K/(U+W),U){case F:Y=(E-V)/K+(E<V?6:0);break;case E:Y=(V-F)/K+2;break;case V:Y=(F-E)/K+4;break}Y/=6}return{h:Y,s:G,l:X}}function isLight(R){return(R.r*299+R.g*587+R.b*114)/1e3>=128}var Color$1=function(){function R(F){this._value=F}return Object.defineProperty(R.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"hex",{get:function(){return this._value?rgbToHex(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"rgba",{get:function(){return this._value?rgbToRGBA(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"alpha",{get:function(){return this._value!=null&&this._value.a!=null?this._value.a:1},set:function(F){this._value&&(this._value.a=F)},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new R({r:255,g:255,b:255})),this._lightColor},set:function(F){this._lightColor=F},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new R({r:0,g:0,b:0})),this._darkColor},set:function(F){this._darkColor=F},enumerable:!0,configurable:!0}),R.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},R.prototype.lighten=function(F){return new R(lighten(this.rgb,F))},R.prototype.brighten=function(F){return new R(brighten(this.rgb,F))},R.prototype.saturate=function(F){return new R(saturate(this.rgb,F))},Object.defineProperty(R.prototype,"alternative",{get:function(){if(this.rgb!=null)return isLight(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),R}();function color$1(R,F){if(!hasValue(R))return new Color$1(void 0);if(typeof R=="string"){var E="_color_"+R+"_"+(F||"1"),V=registry.getCache(E);if(V)return new Color$1({r:V.r,g:V.g,b:V.b,a:V.a});var U=rgb$1(R,F);return registry.setCache(E,U),new Color$1(U)}return R instanceof Color$1?(hasValue(F)&&(R.alpha=F),R):new Color$1(R)}function isColor(R){return R instanceof Color$1}function castColor(R){return color$1(R)}function toColor(R){return hasValue(R)&&!isColor(R)?castColor(R):R}var BaseObject=function(){function R(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return R.prototype.debug=function(){},Object.defineProperty(R.prototype,"uid",{get:function(){return this._uid||(this._uid=registry.getUniqueId(),registry.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"id",{get:function(){return this._id},set:function(F){this._id=F},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"map",{get:function(){return this._map||(this._map=new Dictionary),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new Dictionary),this._delayedMap},enumerable:!0,configurable:!0}),R.prototype.addDelayedMap=function(F,E){var V=this.delayedMap;V.hasKey(E)||V.setKey(E,[]);var U=V.getKey(E);U.push({property:F,target:this})},R.prototype.processDelayedMap=function(){var F=this;this.delayedMap.each(function(E,V){if(F.map.hasKey(E)){var U=F.map.getKey(E);each$2(V,function(W){W.target[W.property]=U}),F.delayedMap.removeKey(E)}})},R.prototype.applyTheme=function(){var F=this;if(registry){var E=this.getCurrentThemes();E&&each$2(E,function(V,U){V(F)})}},Object.defineProperty(R.prototype,"themes",{get:function(){return this._themes},set:function(F){this._themes=F},enumerable:!0,configurable:!0}),R.prototype.getCurrentThemes=function(){return this.themes||registry.themes},R.prototype.isDisposed=function(){return this._disposed},R.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var F=this._disposers;for(this._disposers=null;F.length!==0;){var E=F.shift();E.dispose()}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var V=this._uid;V!=null&&registry.map.removeKey(V)}},R.prototype.addDisposer=function(F){this._disposers.push(F)},R.prototype.removeDispose=function(F){if(!this._disposed){var E=indexOf(this._disposers,F);E>-1&&this._disposers.splice(E,1)}F.dispose()},R.prototype.clone=function(F){F||(F="clone-"+registry.getUniqueId());var E=new this.constructor;return E.cloneId=F,E.copyFrom(this),E},Object.defineProperty(R.prototype,"clones",{get:function(){return this._clones||(this._clones=new List),this._clones},enumerable:!0,configurable:!0}),R.prototype.copyFrom=function(F){F.clones.push(this),this.clonedFrom=F},Object.defineProperty(R.prototype,"className",{get:function(){return this._className},set:function(F){this._className=F},enumerable:!0,configurable:!0}),R.prototype.setCache=function(F,E,V){cache.set(this.uid,F,E,V)},R.prototype.getCache=function(F,E){return E===void 0&&(E=void 0),cache.get(this.uid,F,E)},R.prototype.clearCache=function(){cache.clear(this.uid)},R.prototype.setTimeout=function(F,E){var V=this,U=setTimeout(function(){V.removeDispose(W),F()},E),W=new Disposer(function(){clearTimeout(U)});return this._disposers.push(W),W},R.prototype.setInterval=function(F,E){var V=this,U=setInterval(function(){V.removeDispose(W),F()},E),W=new Disposer(function(){clearTimeout(U)});return this._disposers.push(W),W},Object.defineProperty(R.prototype,"config",{set:function(F){try{this.processConfig(F)}catch(E){this.raiseCriticalError(E)}},enumerable:!0,configurable:!0}),R.prototype.processConfig=function(F){var E=this;if(!!F){var V=this;if(eachOrdered(F,function(W,Y){var G=Y;if(W=="callback"&&typeof Y=="function"&&Y.call(V),E.hasProperty(W)){var X;if(isObject$1(G)&&hasValue(G.type)&&(!isObject$1(V[W])||!hasValue(V[W].className)||G.forceCreate||V[W].className!=G.type)&&!E.asIs(W)?(X=E.createClassInstance(G.type),X?V[W]=X:X=V[W]):X=V[W],X instanceof Adapter)E.processAdapters(X,G);else if(X instanceof EventDispatcher)E.processEvents(X,G);else if(W=="locale"&&isString$1(G))window["am4lang_"+G]&&(V[W]=window["am4lang_"+G]);else if(W=="parent"&&isString$1(G)){var K=E.map.getKey(G);K?V[W]=K:E.addDelayedMap("parent",G)}else if(E.asIs(W))V[W]=G;else if(E.asFunction(W)&&isString$1(G))if(hasValue(registry.registeredClasses[G]))V[W]=registry.registeredClasses[G];else throw Error("Invalid easing function: "+G);else if(G instanceof R)V[W]=G;else if(X instanceof R)X.config=G;else if(X instanceof ListTemplate||X instanceof OrderedListTemplate||X instanceof SortedListTemplate){if(isArray$1(G))X instanceof ListTemplate?E.processListTemplate(G,X):E.processOrderedTemplate(G,X);else if(isObject$1(G))if(G instanceof R)X.template=G;else{var Z=void 0;hasValue(G.template)?Z=G.template:Z=G,X.template instanceof R?X.template.config=Z:each$1(Z,function(J,Q){var ee=X.template[J];ee instanceof Adapter?E.processAdapters(ee,Q):ee instanceof EventDispatcher?E.processEvents(ee,Q):ee instanceof DictionaryTemplate?E.processDictionaryTemplate(ee,Q):X.template[J]instanceof R?X.template[J].config=Q:isObject$1(Q)&&hasValue(Q.type)?(ee=E.createClassInstance(Q.type),ee?(ee instanceof R&&(ee.config=Q),X.template[J]=ee):X.template[J]=Q):ee instanceof List?E.processList(Q,ee):X.template[J]=E.maybeColorOrPercent(Q)}),hasValue(G.values)&&(X instanceof ListTemplate?E.processListTemplate(G.values,X):E.processOrderedTemplate(G.values,X))}}else X instanceof List?W=="children"?E.processList(G,X,E):E.processList(G,X):X instanceof DictionaryTemplate?E.processDictionaryTemplate(X,G):X instanceof Dictionary?E.processDictionary(X,G):X instanceof Color$1||X instanceof Percent?V[W]=E.maybeColorOrPercent(G):isObject$1(X)&&isObject$1(G)?copyAllProperties(G,X):(G=E.maybeColorOrPercent(G),V[W]=G)}else E.isReserved(W)||(V[W]=G)},this.configOrder),this.processingErrors.length){var U=this.processingErrors.join(`
`);throw this._processingErrors=[],Error(U)}}},R.prototype.maybeColorOrPercent=function(F){if(isString$1(F)){if(F.match(/^[\-]?[0-9.]+\%$/))return percent(toNumber(F));if(F.match(/^\#[0-9abcdef]{3,}$/i))return color$1(F)}return F},R.prototype.processAdapters=function(F,E){var V=this;isArray$1(E)?each$2(E,function(U,W){F.add(U.key,U.callback,U.priority||0,V)}):isObject$1(E)&&each$1(E,function(U,W){F.has(U,W)||F.add(U,W)})},R.prototype.processEvents=function(F,E){var V=this;isArray$1(E)?each$2(E,function(U,W){F.on(U.type,U.callback,V)}):isObject$1(E)&&each$1(E,function(U,W){F.has(U,W)||F.on(U,W)})},R.prototype.processDictionaryTemplate=function(F,E){isObject$1(E)&&each$1(E,function(V,U){var W;V=="template"?W=F.template:F.hasKey(V)?W=F.getKey(V):W=F.create(V),W instanceof R?W.config=U:isObject$1(W)&&isObject$1(U)?copyAllProperties(U,W):W.setKey(V,U)})},R.prototype.processDictionary=function(F,E){isObject$1(E)&&each$1(E,function(V,U){F.setKey(V,U)})},R.prototype.processListTemplate=function(F,E){var V=this;for(each$2(F,function(U,W){var Y=V.getConfigEntryType(U),G;if(E.hasIndex(W)&&!U.forceCreate)G=E.getIndex(W);else if(U instanceof R){E.push(U);return}else Y?G=E.create(Y):G=E.create();U===G||isObject$1(U)&&(G instanceof R?G.config=U:isObject$1(G)&&isObject$1(U)?copyAllProperties(U,G):E.setIndex(E.indexOf(G),U))});F.length>E.length;)E.pop()},R.prototype.processOrderedTemplate=function(F,E){var V=this;each$2(F,function(U,W){var Y=V.getConfigEntryType(U),G;Y?G=E.create(Y):G=E.create(),isObject$1(U)&&(G instanceof R?G.config=U:isObject$1(G)&&isObject$1(U)?copyAllProperties(U,G):E.insert(U))})},R.prototype.processList=function(F,E,V){var U=this;isArray$1(F)||(F=[F]);var W=E.length,Y=0;for(each$2(F,function(G,X){if(isObject$1(G)){var K=void 0;if(X<W&&!G.forceCreate)K=E.getIndex(X);else if(G instanceof R){E.push(G);return}else Y++,K=U.createEntryInstance(G),V?K.parent=V:E.push(K);K instanceof R?K.config=G:isObject$1(K)&&isObject$1(G)&&copyAllProperties(G,K)}else E.hasIndex(X)?E.setIndex(X,G):E.push(G)});!V&&F.length+Y<E.length;)E.pop()},R.prototype.configOrder=function(F,E){return F==E?0:F=="language"?-1:E=="language"?1:0},R.prototype.asIs=function(F){return indexOf(["locale"],F)!=-1},R.prototype.asFunction=function(F){return!1},R.prototype.createClassInstance=function(F){if(hasValue(registry.registeredClasses[F]))return new registry.registeredClasses[F];throw Error('Invalid type: "'+F+'".')},R.prototype.createEntryInstance=function(F){var E;return hasValue(F.type)&&(E=this.createClassInstance(F.type)),E||F},R.prototype.getConfigEntryType=function(F){if(hasValue(F.type)){if(hasValue(registry.registeredClasses[F.type]))return registry.registeredClasses[F.type];throw Error('Invalid type: "'+F.type+'".')}},R.prototype.hasProperty=function(F){return F in this},R.prototype.isReserved=function(F){return["type","forceCreate"].indexOf(F)!==-1},Object.defineProperty(R.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),R}(),BaseObjectEvents=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="BaseObjectEvents",E}return Object.defineProperty(F.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new EventDispatcher,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),F.prototype.dispatch=function(E,V){this._eventDispatcher&&this.events.isEnabled(E)&&(V?(V.type=E,V.target=V.target||this,this.events.dispatch(E,{type:E,target:this})):this.events.dispatch(E,{type:E,target:this}))},F.prototype.dispatchImmediately=function(E,V){this._eventDispatcher&&this.events.isEnabled(E)&&(V?(V.type=E,V.target=V.target||this,this.events.dispatchImmediately(E,V)):this.events.dispatchImmediately(E,{type:E,target:this}))},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),E._eventDispatcher&&this.events.copyFrom(E._eventDispatcher)},F}(BaseObject);function isSafari(){return/apple/i.test(navigator.vendor)}function isInternetExplorer(){return/MSIE |Trident\//.test(navigator.userAgent)}var STRING="string",NUMBER="number",DATE="date",DURATION="duration",PLACEHOLDER="__\xA7\xA7\xA7__",PLACEHOLDER2="__\xA7\xA7\xA7\xA7__";function used(R){}function copyProperties(R,F){return each$1(R,function(E,V){hasValue(V)&&(F[E]=V)}),F}function stripHash(R){return/^[^#]*/.exec(R)[0]}function getBaseURI(){var R="#";if(isSafari()){var F=document.baseURI;if(F){F=stripHash(F);var E=stripHash(location.href);F!==E&&(R=E+R)}}return R}function copy$2(R,F){return each$1(R,function(E,V){F[E]=V}),F}function isNotEmpty(R){return hasValue(R)&&R.toString()!==""}function relativeToValue(R,F){return isNumber(R)?R:R!=null&&isNumber(R.value)&&isNumber(F)?F*R.value:0}function relativeRadiusToValue(R,F,E){var V;return isNumber(R)?(V=R,V<0&&(E?V=F+V:V=F-V)):R!=null&&isNumber(R.value)&&(V=F*R.value),V}function getPixelRatio(){var R=window.devicePixelRatio||1;return R}function capitalize(R){var F=R.split("");return F[0]=F[0].toUpperCase(),F.join("")}function stringify(R){return JSON.stringify(R)}function escapeForRgex(R){return R.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function splitTextByCharCount(R,F,E,V,U){if(R.length<=F)return[R];var W=[];if(E){for(var Y=-1,G=R.replace(/([,;:!?\\\/]+|[\s])/g,PLACEHOLDER+"$1"+PLACEHOLDER),X=G.split(PLACEHOLDER),K=1;K<X.length;K++){var Z=X[K];(Z=="."||Z==",")&&X[K-1].match(/[\w]+$/)&&(X[K-1]+=Z,X[K]="")}for(var K=0;K<X.length;K++){var Z=X[K],J=Z.length;if(J!==0){if(J>F&&(E!==!0||U!=!1)){V&&(Z=reverseString(Z));var Q=Z.match(new RegExp(".{1,"+F+"}","g"));if(Q){if(V)for(var ee=0;ee<Q.length;ee++)Q[ee]=reverseString(Q[ee]);W=W.concat(Q)}}else Y===-1&&(W.push(""),Y=0),W[Y].length+J+1>F&&W[Y]!==""&&(W.push(""),Y++),W[Y]+=Z;Y=W.length-1}}}else{var Q=R.match(new RegExp(".{1,"+F+"}","g"));if(Q){if(V)for(var ee=0;ee<Q.length;ee++)V||(Q[ee]=reverseString(Q[ee]));W=Q}}return W.length==1&&E&&U&&W[0].length>F&&(W=[]),W}function truncateWithEllipsis(R,F,E,V,U){if(R.length<=F)return R;F-=E.length,F<1&&(F=1);var W=splitTextByCharCount(R,F,V,U);return(W[0]||"")+E}function trim(R){return R.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function rtrim(R){return R.replace(/[\s\uFEFF\xA0]+$/g,"")}function ltrim(R){return R.replace(/^[\s\uFEFF\xA0]+/g,"")}function reverseString(R){return R.split("").reverse().join("")}function padString(R,F,E){return F===void 0&&(F=0),E===void 0&&(E="0"),typeof R!="string"&&(R=R.toString()),F>R.length?Array(F-R.length+1).join(E)+R:R}function getFormat(R){if(typeof R>"u")return STRING;R=R.toLowerCase().replace(/^\[[^\]]*\]/,""),R=R.replace(/\[[^\]]+\]/,""),R=R.trim();var F=R.match(/\/(date|number|duration)$/);return F?F[1]:R===NUMBER?NUMBER:R===DATE?DATE:R===DURATION?DURATION:R.match(/[#0]/)?NUMBER:R.match(/[ymwdhnsqaxkzgtei]/)?DATE:STRING}function cleanFormat(R){return R.replace(/\/(date|number|duration)$/i,"")}function stripTags(R){return R&&R.replace(/<[^>]*>/g,"")}function plainText(R){return R&&stripTags((""+R).replace(/[\n\r]+/g,". "))}function numberToString(R){if(isNaN$1(R))return"NaN";if(R===1/0)return"Infinity";if(R===-1/0)return"-Infinity";if(R===0&&1/R===-1/0)return"-0";var F=R<0;R=Math.abs(R);var E=getValue(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+R)),V=E[1],U=E[2]||"",W;if(E[3]==null)W=U===""?V:V+"."+U;else{var Y=+E[3];if(R<1){var G=Y-1;W="0."+repeat("0",G)+V+U}else{var G=Y-U.length;G===0?W=V+U:G<0?W=V+U.slice(0,G)+"."+U.slice(G):W=V+U+repeat("0",G)}}return F?"-"+W:W}function anyToDate(R){if(isDate(R)){var F=new Date(R);return F.setMilliseconds(R.getMilliseconds()),F}else{if(isNumber(R))return new Date(R);var E=Number(R);return isNumber(E)?new Date(E):new Date(R)}}function anyToNumber(R){if(isDate(R))return R.getTime();if(isNumber(R))return R;if(isString$1(R)){var F=Number(R);return isNumber(F)?F:void 0}}function getYearDay(R,F){var E=new Date(R.getFullYear(),0,0),V=R.getTime()-E.getTime()+(E.getTimezoneOffset()-R.getTimezoneOffset())*60*1e3,U=1e3*60*60*24;return Math.floor(V/U)}function getWeek(R,F){var E=new Date(Date.UTC(R.getFullYear(),R.getMonth(),R.getDate())),V=E.getUTCDay()||7;E.setUTCDate(E.getUTCDate()+4-V);var U=new Date(Date.UTC(E.getUTCFullYear(),0,1));return Math.ceil(((E.getTime()-U.getTime())/864e5+1)/7)}function getMonthWeek(R,F){var E=getWeek(new Date(R.getFullYear(),R.getMonth(),1)),V=getWeek(R);return V==1&&(V=53),V-E+1}function getDayFromWeek(R,F,E,V){E===void 0&&(E=1),V===void 0&&(V=!1);var U=new Date(F,0,4,0,0,0,0);V&&U.setUTCFullYear(F);var W=R*7+E-((U.getDay()||7)+3);return W}function get12Hours(R,F){return R>12?R-=12:R===0&&(R=12),hasValue(F)?R+(F-1):R}function getTimeZone(R,F,E,V){if(F===void 0&&(F=!1),E===void 0&&(E=!1),V===void 0&&(V=!1),V)return F?"Coordinated Universal Time":"UTC";var U=R.toLocaleString("UTC"),W=R.toLocaleString("UTC",{timeZoneName:F?"long":"short"}).substr(U.length);return E===!1&&(W=W.replace(/ (standard|daylight|summer|winter) /i," ")),W}function fitNumber(R,F,E){return R>E?E:R<F?F:R}function fitNumberRelative(R,F,E){var V=E-F;return(R>E||R<F)&&(R=F+(R-V*Math.floor(R/V))),R}function svgPointToSprite(R,F){var E=R.x,V=R.y,U=[];if(F){for(;hasValue(F.parent);)U.push(F),F=F.parent;U.reverse();for(var W=0;W<U.length;W++){var Y=U[W],G=Y.rotation,X=E-Y.pixelX-Y.ex,K=V-Y.pixelY-Y.ey;Y.dx&&(E-=Y.dx),Y.dy&&(V-=Y.dy);var Z=Y.scale;Y.group&&(Z=Y.group.scale),E=(cos(-G)*X-sin(-G)*K)/Z-Y.pixelPaddingLeft,V=(cos(-G)*K+sin(-G)*X)/Z-Y.pixelPaddingTop}}return{x:E,y:V}}function spritePointToSvg(R,F){var E=R.x,V=R.y;if(F)for(;hasValue(F.parent);){var U=F.rotation;E+=F.pixelPaddingLeft+F.ex,V+=F.pixelPaddingTop+F.ey;var W=F.scale;F.group&&(W=F.group.scale);var Y=F.pixelX+(E*cos(U)-V*sin(U))*W,G=F.pixelY+(E*sin(U)+V*cos(U))*W;F.dx&&(Y+=F.dx),F.dy&&(G+=F.dy),E=Y,V=G,F=F.parent}return{x:E,y:V}}function spritePointToSprite(R,F,E){return svgPointToSprite(spritePointToSvg(R,F),E)}function spriteRectToSvg(R,F){var E=spritePointToSvg(R,F),V=spritePointToSvg({x:R.x+R.width,y:R.y+R.height},F);return{x:E.x,y:E.y,width:V.x-E.x,height:V.y-E.y}}function documentPointToSvg(R,F,E){try{var V=F.getBoundingClientRect();return isNumber(E)||(E=1),{x:(R.x-V.left)/E,y:(R.y-V.top)/E}}catch{return R}}function svgPointToDocument(R,F){try{var E=F.getBoundingClientRect();return{x:R.x+E.left,y:R.y+E.top}}catch{return R}}function documentPointToSprite(R,F){if(F&&F.htmlContainer){var E=documentPointToSvg(R,getValue(F.htmlContainer),F.svgContainer.cssScale);return svgPointToSprite(E,F)}else return R}function spritePointToDocument(R,F){if(F&&F.htmlContainer){var E=spritePointToSvg(R,F);return svgPointToDocument(E,getValue(F.htmlContainer))}else return R}function width(R){var F=getComputedStyle(R),E=parseFloat(F.paddingLeft)+parseFloat(F.paddingRight),V=parseFloat(F.borderLeftWidth)+parseFloat(F.borderRightWidth);return R.clientWidth-E-V}function height(R){var F=getComputedStyle(R),E=parseFloat(F.paddingTop)+parseFloat(F.paddingBottom),V=parseFloat(F.borderTopWidth)+parseFloat(F.borderBottomWidth);return R.clientHeight-E-V}function decimalPlaces(R){var F=(""+R).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return F?Math.max(0,(F[1]?F[1].length:0)-(F[2]?+F[2]:0)):0}var urlRegexp=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function parseUrl(R){var F=urlRegexp.exec(R);return{protocol:F&&F[1]||"",separator:F&&F[2]||"",authority:F&&F[3]||"",domain:F&&F[4]||"",port:F&&F[5]||"",path:F&&F[6]||"",query:F&&F[7]||"",hash:F&&F[8]||""}}function serializeUrl(R){return R.protocol+R.separator+R.authority+R.domain+R.port+R.path+R.query+R.hash}function isRelativeUrl(R){return R.protocol===""&&R.separator===""&&R.authority===""&&R.domain===""&&R.port===""}function joinUrl(R,F){var E=parseUrl(R),V=parseUrl(F);if(isRelativeUrl(E))throw new Error("Left URL is not absolute");if(isRelativeUrl(V)){if(V.path!=="")if(V.path[0]==="/")E.path=V.path;else{var U=E.path.split(/\//),W=V.path.split(/\//);if(U.length===0?W.length!==0&&U.push(""):U.length>1&&U.pop(),pushAll(U,W),E.path=U.join("/"),E.path!==""&&E.path[0]!=="/")throw new Error("URL path must start with /")}return E.query=V.query,E.hash=V.hash,serializeUrl(E)}else return serializeUrl(V)}function isIE(){return!!window.MSInputMethodContext&&!!document.documentMode}function linear$2(R){return+R}registry.registeredClasses["ease.linear"]=linear$2;function quadIn(R){return R*R}registry.registeredClasses["ease.quadIn"]=quadIn;function quadOut(R){return R*(2-R)}registry.registeredClasses["ease.quadOut"]=quadOut;function quadInOut(R){return R*=2,(R<=1?R*R:--R*(2-R)+1)/2}registry.registeredClasses["ease.quadInOut"]=quadInOut;function polyIn(R,F){return Math.pow(R,F)}registry.registeredClasses["ease.polyIn"]=polyIn;function polyOut(R,F){return 1-Math.pow(1-R,F)}registry.registeredClasses["ease.polyOut"]=polyOut;function polyInOut(R,F){return R*=2,(R<=1?Math.pow(R,F):2-Math.pow(2-R,F))/2}registry.registeredClasses["ease.polyInOut"]=polyInOut;function polyIn3(R){return polyIn(R,3)}registry.registeredClasses["ease.polyIn3"]=polyIn3;function polyOut3(R){return polyOut(R,3)}registry.registeredClasses["ease.polyOut3"]=polyOut3;function polyInOut3(R){return polyInOut(R,3)}registry.registeredClasses["ease.polyInOut3"]=polyInOut3;function expIn(R){return Math.pow(2,10*R-10)}registry.registeredClasses["ease.expIn"]=expIn;function expOut(R){return 1-Math.pow(2,-10*R)}registry.registeredClasses["ease.expOut"]=expOut;function expInOut(R){return R*=2,(R<=1?Math.pow(2,10*R-10):2-Math.pow(2,10-10*R))/2}registry.registeredClasses["ease.expInOut"]=expInOut;function sinIn(R){return 1-Math.cos(R*HALFPI)}registry.registeredClasses["ease.sinIn"]=sinIn;function sinOut(R){return Math.sin(R*HALFPI)}registry.registeredClasses["ease.sinOut"]=sinOut;function sinInOut(R){return(1-Math.cos(PI*R))/2}registry.registeredClasses["ease.sinInOut"]=sinInOut;function cubicIn(R){return R*R*R}registry.registeredClasses["ease.cubicIn"]=cubicIn;function cubicOut(R){return--R*R*R+1}registry.registeredClasses["ease.cubicOut"]=cubicOut;function cubicInOut$1(R){return R*=2,(R<=1?R*R*R:(R-=2)*R*R+2)/2}registry.registeredClasses["ease.cubicInOut"]=cubicInOut$1;function circleIn(R){return 1-Math.sqrt(1-R*R)}registry.registeredClasses["ease.circleIn"]=circleIn;function circleOut(R){return Math.sqrt(1- --R*R)}registry.registeredClasses["ease.circleOut"]=circleOut;function circleInOut(R){return R*=2,(R<=1?1-Math.sqrt(1-R*R):Math.sqrt(1-(R-=2)*R)+1)/2}registry.registeredClasses["ease.circleInOut"]=circleInOut;var b1=4/11,b2=6/11,b3=8/11,b4=3/4,b5=9/11,b6=10/11,b7=15/16,b8=21/22,b9=63/64,b0=1/b1/b1;function bounceIn(R){return 1-bounceOut(1-R)}registry.registeredClasses["ease.bounceIn"]=bounceIn;function bounceOut(R){return R=+R,R<b1?b0*R*R:R<b3?b0*(R-=b2)*R+b4:R<b6?b0*(R-=b5)*R+b7:b0*(R-=b8)*R+b9}registry.registeredClasses["ease.bounceOut"]=bounceOut;function bounceInOut(R){return R*=2,(R<=1?1-bounceOut(1-R):bounceOut(R-1)+1)/2}registry.registeredClasses["ease.bounceInOut"]=bounceInOut;var tau$1=2*Math.PI,amplitude=1,period=.3/tau$1,s=Math.asin(1/amplitude)*period;function elasticIn(R){return amplitude*Math.pow(2,10*--R)*Math.sin((s-R)/period)}registry.registeredClasses["ease.elasticIn"]=elasticIn;function elasticOut(R){return 1-amplitude*Math.pow(2,-10*(R=+R))*Math.sin((R+s)/period)}registry.registeredClasses["ease.elasticOut"]=elasticOut;function elasticInOut(R){return R=R*2-1,(R<0?amplitude*Math.pow(2,10*R)*Math.sin((s-R)/period):2-amplitude*Math.pow(2,-10*R)*Math.sin((s+R)/period))/2}registry.registeredClasses["ease.elasticInOut"]=elasticInOut;var SpriteState=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.transitionDuration=0,E.transitionEasing=cubicOut,E.properties={},E.propertyFields={},E.filters=new List,E.isTemplate=!1,E.className="SpriteState",E._disposers.push(new ListDisposer(E.filters)),E.applyTheme(),E}return Object.defineProperty(F.prototype,"adapter",{get:function(){var E=this;return this._adapterO||(this._adapterO=new Adapter(this),this._adapterO.events.on("inserted",function(V){E[V.newValue.key]=E[V.newValue.key]},void 0,!1),this._adapterO.events.on("removed",function(V){E[V.newValue.key]=E[V.newValue.key]},void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),F.prototype.getPropertyValue=function(E){var V=this.properties[E],U=this.sprite;if(U){var W=this.propertyFields[E];if(hasValue(W)&&(U.dataItem&&(V=U.dataItem.dataContext[W]),V==null&&(V="__unset")),hasValue(V))this._adapterO&&(V=this._adapterO.apply(E,V));else{var Y=U.getPropertyValue(E);this._adapterO?V=this._adapterO.apply(E,Y):V=Y,V==Y&&(V=void 0)}}return V},F.prototype.copyFrom=function(E){E&&E!=this&&(this.transitionDuration=E.transitionDuration,this.transitionEasing=E.transitionEasing,copyProperties(E.properties,this.properties),copyProperties(E.propertyFields,this.propertyFields),this.filters.copyFrom(E.filters),E._adapterO&&this.adapter.copyFrom(E._adapterO))},Object.defineProperty(F.prototype,"allValues",{get:function(){var E=this,V={};if(each$1(this.properties,function(Y,G){V[Y]=E.getPropertyValue(Y)}),this._adapterO){var U=this._adapterO.keys();each$1(U,function(Y,G){var X=E.getPropertyValue(G);V[G]=X})}var W=this.propertyFields;return each$1(W,function(Y){var G=E.getPropertyValue(Y);V[Y]=G}),V},enumerable:!0,configurable:!0}),F.prototype.reset=function(){this.properties={},this.filters.clear()},F.prototype.processConfig=function(E){hasValue(E)&&hasValue(E.properties)&&each$1(E.properties,function(V,U){isString$1(U)&&(U.match(/^[0-9.\-]+\%$/)?E.properties[V]=percent(toNumber(U)):U.match(/^\#[0-9abcdef]{3,}$/i)&&(E.properties[V]=toColor(U)))}),R.prototype.processConfig.call(this,E)},F.prototype.asFunction=function(E){return E=="transitionEasing"||R.prototype.asIs.call(this,E)},F}(BaseObject);registry.registeredClasses.SpriteState=SpriteState;var SpriteEventDispatcher=function(R){__extends(F,R);function F(){var E=R!==null&&R.apply(this,arguments)||this;return E._interactionEvents=new Dictionary,E}return F.prototype._dispatchSpriteEvent=function(E){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(E.type)){var V=merge$1(E,{target:this.target});this.target.events.dispatchImmediately(V.type,V)}},F.prototype._dispatchSpritePointEvent=function(E){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(E.type)){var V=merge$1(E,{target:this.target,spritePoint:E.point?documentPointToSprite(E.point,this.target):void 0,svgPoint:this.target.getSvgPoint(E.point)});this.target.events.dispatchImmediately(V.type,V)}},F.prototype._addInteractionObjectEvent=function(E,V,U,W){var Y=this,G=W+"-"+E,X=this._interactionEvents.insertKeyIfEmpty(G,function(){var K=Y.target.interactions.events.on(E,V,U,W);return new CounterDisposer(function(){Y._interactionEvents.removeKey(G),K.dispose()})});return X.increment()},F.prototype._on=function(E,V,U,W,Y,G){var X=R.prototype._on.call(this,E,V,U,W,Y,G),K=[X.disposer];switch(V){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":K.push(this._addInteractionObjectEvent(V,this._dispatchSpritePointEvent,this,Y));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":K.push(this._addInteractionObjectEvent(V,this._dispatchSpriteEvent,this,Y));break}switch(V){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0;break}return X.disposer=new MultiDisposer(K),X},F}(TargetedEventDispatcher),SVGDefaults=function(){function R(){}return R.opacity=1,R.strokeOpacity=1,R.strokeWidth=1,R.fillOpacity=1,R.fill=color$1("#000000"),R.stroke=color$1("#000000"),R.focusable=void 0,R.tabindex=0,R}(),options={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function getProgressNumber(R,F,E){return F+(E-F)*R}function getProgressPercent(R,F,E){return new Percent(getProgressNumber(R,F.percent,E.percent))}function getProgressColor(R,F,E){var V=new Color$1(interpolate$2(F.rgb,E.rgb,R));return F.alpha!=E.alpha&&(V.alpha=F.alpha+(E.alpha-F.alpha)*R),V}function getHybridProperty(R,F){return F+R.charAt(0).toUpperCase()+R.substr(1)}var AnimationDisposer=function(){function R(F){this._disposer=new Disposer(function(){for(;F.length!==0;)F[0].dispose()})}return R.prototype.isDisposed=function(){return this._disposer.isDisposed()},R.prototype.dispose=function(){this._disposer.dispose()},R}(),Animation=function(R){__extends(F,R);function F(E,V,U,W){var Y=R.call(this)||this;return Y.duration=0,Y.easing=linear$2,Y.progress=0,Y._loop=0,Y._pause=!1,Y._delayTimeout=null,Y._time=0,Y._isFinished=!1,Y.className="Animation",Y.object=E,Y.animationOptions=toArray$2(V),Y.duration=U,W&&(Y.easing=W),Y.applyTheme(),Y}return F.prototype.debug=function(){},F.prototype.dispose=function(){R.prototype.dispose.call(this),this.pause()},F.prototype.delay=function(E){var V=this;if(E>0){this.pause(),move(this.object.animations,this);var U=setTimeout(function(){V._delayTimeout=null,V.start()},E);this._delayTimeout=new Disposer(function(){clearTimeout(U)})}return this},F.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,move(system$1.animations,this),move(this.object.animations,this),system$1.requestFrame()},F.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var E=this.animationOptions.length-1;E>=0;E--){var V=this.animationOptions[E];if(hasValue(V.from)||(V.childObject?V.from=V.childObject[V.property]:(V.from=this.object[V.property],hasValue(V.from)||(V.from=SVGDefaults[V.property]))),V.from==V.to)remove$1(this.animationOptions,V);else if(!hasValue(V.from)||!(V.from instanceof Percent)&&V.to instanceof Percent||V.from instanceof Percent&&!(V.to instanceof Percent))this.staticOptions.push(V),remove$1(this.animationOptions,V);else if(isNumber(V.to))if(V.updateMethod=getProgressNumber,V.from instanceof Percent){var U=this.object[getHybridProperty(V.property,"pixel")];isNaN(U)?(this.staticOptions.push(V),remove$1(this.animationOptions,V)):V.from=U}else isNaN(V.from)&&(this.staticOptions.push(V),remove$1(this.animationOptions,V));else if(V.to instanceof Color$1)V.from?V.updateMethod=getProgressColor:(this.staticOptions.push(V),remove$1(this.animationOptions,V));else if(V.to instanceof Percent){if(V.updateMethod=getProgressPercent,!isNaN(V.from)){var U=this.object[getHybridProperty(V.property,"relative")];isNaN(U)||(V.from=percent(U*100))}}else this.staticOptions.push(V),remove$1(this.animationOptions,V)}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var W={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",W)}return this.update(),this.duration===0&&this.end(),this},F.prototype.loop=function(E){return isNumber(E)||(E=1/0),this._loop=E,this},F.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),remove$1(system$1.animations,this),remove$1(this.object.animations,this),this},F.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},F.prototype.end=function(){if(this._loop==0&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var E={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",E)}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},F.prototype.kill=function(){this.pause(),this._isFinished=!0},F.prototype.isFinished=function(){return this._isFinished},F.prototype.applyStaticOptions=function(){var E=this;each$2(this.staticOptions,function(V){V.childObject?V.childObject[V.property]=E.progress==1?V.to:V.from:E.object[V.property]=E.progress==1?V.to:V.from})},F.prototype.stop=function(E){if(this.pause(),!E&&this.events.isEnabled("animationstopped")){var V={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",V)}return this},F.prototype.setProgress=function(E){var V=this;if(this._time=this.duration*E,each$2(this.animationOptions,function(W){if(W.updateMethod&&hasValue(W.from)){var Y=W.updateMethod(E,W.from,W.to);W.childObject?W.childObject[W.property]=Y:V.object[W.property]=Y}}),this.progress=E,this.events.isEnabled("animationprogress")){var U={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",U)}system$1.requestFrame()},F.prototype.update=function(){if(!this._pause){var E=void 0;this._time=fitToRange(Date.now()-this._startTime,0,this.duration);var V=this._time/this.duration;E=this.easing(V),(this.duration==0||!isNumber(E)||V>=1)&&(E=1),this.setProgress(E),round$2(this._time/this.duration,6)==1&&this.end()}return this},Object.defineProperty(F.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),F.prototype.stopSameAnimations=function(){var E=this;each$2(copy$3(this.object.animations),function(V){if(V!==E&&!V.delayed){var U=[];each$2(E.animationOptions,function(W){each$2(V.animationOptions,function(Y){W.property==Y.property&&W.childObject==Y.childObject&&(U.push(Y),V.animationOptions.length==0&&V.kill())})}),each$2(U,function(W){remove$1(V.animationOptions,W)})}})},F.prototype.asFunction=function(E){return E=="easing"||R.prototype.asIs.call(this,E)},F}(BaseObjectEvents),SVGNS="http://www.w3.org/2000/svg",XMLNS="http://www.w3.org/2000/xmlns/",XLINK="http://www.w3.org/1999/xlink";function addEventListener$1(R,F,E,V){return R.addEventListener(F,E,V||!1),new Disposer(function(){R.removeEventListener(F,E,V||!1)})}function getElement(R){if(isString$1(R)){var F=document.getElementById(R);if(F==null&&(F=document.getElementsByClassName(R)[0]),F instanceof HTMLElement)return F}else if(R instanceof HTMLElement)return R}function addClass(R,F){if(!!R)if(R.classList){var E=F.split(" ");each$2(E,function(U){R.classList.add(U)})}else{var V=R.getAttribute("class");V?R.setAttribute("class",V.split(" ").filter(function(U){return U!==F}).join(" ")+" "+F):R.setAttribute("class",F)}}function removeClass(R,F){if(!!R)if(R.classList)R.classList.remove(F);else{var E=R.getAttribute("class");E&&R.setAttribute("class",E.split(" ").filter(function(V){return V!==F}).join(" "))}}function setStyle(R,F,E){R.style[F]=E}function getComputedStyle$2(R,F){return R.currentStyle?R.currentStyle[F]:document.defaultView.getComputedStyle(R,null).getPropertyValue(F)}function blur(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var R=document.createElement("button");R.style.position="fixed",R.style.top="0px",R.style.left="-10000px",document.body.appendChild(R),R.focus(),R.blur(),document.body.removeChild(R)}}function contains(R,F){for(var E=F;;){if(R===E)return!0;if(E.parentNode==null){if(E.host==null)return!1;E=E.host}else E=E.parentNode}}function getShadowRoot(R){for(var F=R;;){if(F.parentNode==null)return F.host!=null?F:null;F=F.parentNode}}function getRoot(R){for(var F=R.ownerDocument,E=R;;){if(E.parentNode==null)return E===F||E.host!=null?E:null;E=E.parentNode}}function eventTarget(R){return typeof R.composedPath=="function"?R.composedPath()[0]:R.target}function fixPixelPerfect(R){readFrame(function(){try{var F=R.getBoundingClientRect(),E=F.left-Math.round(F.left),V=F.top-Math.round(F.top);E!==0&&writeFrame(function(){R.style.left=E+"px"}),V!==0&&writeFrame(function(){R.style.top=V+"px"})}catch{}})}var rootStylesheet;function getStylesheet(R){if(R==null){if(!hasValue(rootStylesheet)){var F=document.createElement("style");F.type="text/css",document.head.appendChild(F),rootStylesheet=F.sheet}return rootStylesheet}else{var F=document.createElement("style");return F.type="text/css",R.appendChild(F),F.sheet}}function appendStylesheet(R,F){var E=R.cssRules.length;return R.insertRule(F+"{}",E),R.cssRules[E]}var StyleRule=function(R){__extends(F,R);function F(E,V,U){var W=this,Y=getStylesheet(E);return W=R.call(this,function(){var G=indexOf(Y.cssRules,W._rule);if(G===-1)throw new Error("Could not dispose StyleRule");Y.deleteRule(G)})||this,W._rule=appendStylesheet(Y,V),each$1(U,function(G,X){W.setStyle(G,X)}),W}return Object.defineProperty(F.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(E){this._rule.selectorText=E},enumerable:!0,configurable:!0}),F.prototype._setVendorPrefixName=function(E,V){var U=this._rule.style;U.setProperty("-webkit-"+E,V,""),U.setProperty("-moz-"+E,V,""),U.setProperty("-ms-"+E,V,""),U.setProperty("-o-"+E,V,""),U.setProperty(E,V,"")},F.prototype.setStyle=function(E,V){E==="transition"?this._setVendorPrefixName(E,V):this._rule.style.setProperty(E,V,"")},F}(Disposer),styleId=0;(function(R){__extends(F,R);function F(E,V,U){var W=this,Y=hasValue(U)?U:"__style_"+ ++styleId+"__";return W=R.call(this,E,"."+Y,V)||this,W._className=Y,W}return Object.defineProperty(F.prototype,"className",{get:function(){return this._className},set:function(E){this._className=E,this.selector="."+E},enumerable:!0,configurable:!0}),F.prototype.toString=function(){return this._className},F})(StyleRule);function ready(R){if(document.readyState!=="loading")R();else{var F=function(){document.readyState!=="loading"&&(document.removeEventListener("readystatechange",F),R())};document.addEventListener("readystatechange",F)}}function findFont(R){var F=getComputedStyle$2(R,"font-family");if(F)return F;var E=R.parentElement||R.parentNode;return E?findFont(E):void 0}function findFontSize(R){var F=getComputedStyle$2(R,"font-size");if(F)return F;var E=R.parentElement||R.parentNode;return E?findFontSize(E):void 0}var AMElement=function(){function R(F){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,typeof F=="string"?this.node=document.createElementNS(SVGNS,F):this.node=F}return R.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(R.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),R.prototype.transform=function(){var F="translate("+this._x+","+this._y+")";if(this._scale!=1&&(F+=(F?" ":"")+"scale("+this._scale+")"),this._rotation!=0){var E="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(E="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),F+=(F?" ":"")+E}this._transformString=F,this.node.setAttribute("transform",F)},R.prototype.getBBox=function(){var F={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var E=this.node.getBBox();F.x=E.x,F.y=E.y,F.width=E.width,F.height=E.height}catch{}return F},R.prototype.moveTo=function(F){if(F){var E=F.x,V=F.y;(this._x!=E||this._y!=V)&&(this._x=E,this._y=V,this.transform())}},Object.defineProperty(R.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(F){this.node.innerHTML=F},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(F){this.node.textContent=F},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"x",{get:function(){return this._x},set:function(F){this._x!=F&&(this._x=F,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"y",{get:function(){return this._y},set:function(F){this._y!=F&&(this._y=F,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"rotation",{get:function(){return this._rotation},set:function(F){this._rotation!=F&&(this._rotation=F,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"rotationX",{get:function(){return this._rotationX},set:function(F){this._rotationX!=F&&(this._rotationX=F,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"rotationY",{get:function(){return this._rotationY},set:function(F){this._rotationY!=F&&(this._rotationY=F,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"scale",{get:function(){return this._scale},set:function(F){this._scale!=F&&(this._scale=F,this.transform())},enumerable:!0,configurable:!0}),R.prototype.removeAttr=function(F){this.node.removeAttribute(F)},R.prototype.attr=function(F){var E=this;return each$1(F,function(V,U){hasValue(U)?E.node.setAttribute(V,U):E.node.removeAttribute(V)}),this},R.prototype.getAttr=function(F){return this.node.getAttribute(F)},R.prototype.attrNS=function(F,E,V){return this.node.setAttributeNS(F,E,V),this},R.prototype.getAttrNS=function(F,E){return this.node.getAttributeNS(F,E)},R.prototype.removeStyle=function(F){this.node.style[F]=null,delete this.node.style[F]},R.prototype.getStyle=function(F){return this.node.style[F]},R.prototype.addStyle=function(F){var E=this;return each$1(F,function(V,U){hasValue(U)?E.node.style[V]=U:E.removeStyle(V)}),this},R.prototype.addClass=function(F){addClass(this.node,F)},R.prototype.removeClass=function(F){removeClass(this.node,F)},R.prototype.setClass=function(F){this.node.setAttribute("class",F)},R.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},R.prototype.isDisposed=function(){return this._isDisposed},R.prototype.dispose=function(){this.removeNode()},R}(),Group=function(R){__extends(F,R);function F(E){return R.call(this,E)||this}return F.prototype.add=function(E){E&&this.node.appendChild(E.node)},F.prototype.addToBack=function(E){if(E){var V=this.node.childNodes[0];V?V!=E.node&&this.node.insertBefore(E.node,V):this.node.appendChild(E.node)}},F.prototype.removeElement=function(E){if(E)try{E.node&&E.node.parentNode==this.node&&this.node.removeChild(E.node)}catch{}},F.prototype.hasChild=function(E){for(var V=0;V<this.node.childNodes.length;V++)if(this.node.childNodes[V]==E.node)return!0;return!1},Object.defineProperty(F.prototype,"content",{get:function(){return this.node.innerHTML},set:function(E){this.node.innerHTML=E},enumerable:!0,configurable:!0}),F.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var E=this.node.firstChild;E&&E.parentNode&&E.parentNode.removeChild(E)}},F.prototype.removeChildrenByTag=function(E){if(this.node.childNodes)for(var V=this.node.getElementsByTagName(E),U=0;U<V.length;U++)this.node.removeChild(V[U])},F}(AMElement),InterfaceColorSet=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._purposes={stroke:color$1("#e5e5e5"),fill:color$1("#f3f3f3"),primaryButton:color$1("#6794dc"),primaryButtonHover:color$1("#6771dc"),primaryButtonDown:color$1("#68dc75"),primaryButtonActive:color$1("#68dc75"),primaryButtonText:color$1("#FFFFFF"),primaryButtonStroke:color$1("#FFFFFF"),secondaryButton:color$1("#d9d9d9"),secondaryButtonHover:color$1("#d9d9d9").brighten(-.25),secondaryButtonDown:color$1("#d9d9d9").brighten(-.35),secondaryButtonActive:color$1("#d9d9d9").brighten(.35),secondaryButtonText:color$1("#000000"),secondaryButtonStroke:color$1("#FFFFFF"),grid:color$1("#000000"),background:color$1("#ffffff"),alternativeBackground:color$1("#000000"),text:color$1("#000000"),alternativeText:color$1("#FFFFFF"),disabledBackground:color$1("#999999"),positive:color$1("#67dc75"),negative:color$1("#dc6788")},E.className="InterfaceColorSet",E.applyTheme(),E}return F.prototype.debug=function(){},F.prototype.getFor=function(E){return this._purposes[E]},F.prototype.setFor=function(E,V){this._purposes[E]=V},F}(BaseObject);registry.registeredClasses.InterfaceColorSet=InterfaceColorSet;var rules$1=new Dictionary;function popupCSS(R,F){F||(F="ampopup");var E=new InterfaceColorSet,V=E.getFor("text"),U=E.getFor("background");U.alpha=.8;var W=E.getFor("alternativeBackground");W.alpha=.05;var Y=rules$1.insertKeyIfEmpty(F,function(){var G=new MultiDisposer([new StyleRule(R,"."+F,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new StyleRule(R,"."+F+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":U.hex,opacity:"0.5"}),new StyleRule(R,"."+F+"-header",{display:"block",width:"100%","min-height":"1.8em",background:W.rgba}),new StyleRule(R,"."+F+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new StyleRule(R,"."+F+"-content",{background:U.hex,"background-color":U.rgba,color:V.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new StyleRule(R,"."+F+"-inside",{padding:"1em"}),new StyleRule(R,"."+F+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new CounterDisposer(function(){rules$1.removeKey(F),G.dispose()})});return Y.increment()}var InteractionObjectEventDispatcher=function(R){__extends(F,R);function F(){var E=R!==null&&R.apply(this,arguments)||this;return E._domEvents={},E}return F.prototype._addDOMEvent=function(E,V,U,W){var Y=this;if(!this._domEvents[E]){var G=function(X){U.call(W,V,X)};this.target.element.addEventListener(E,G,!1),this._domEvents[E]=new CounterDisposer(function(){delete Y._domEvents[E],Y.target.element.removeEventListener(E,G,!1)})}return this._domEvents[E].increment()},F.prototype._dispatchKeyboardEvent=function(E,V){this.target.events.isEnabled(E)&&this.target.events.dispatchImmediately(E,{type:E,target:this.target,event:V})},F.prototype._on=function(E,V,U,W,Y,G){var X=R.prototype._on.call(this,E,V,U,W,Y,G),K=[X.disposer];switch(V){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":K.push(this._addDOMEvent(V,V,this._dispatchKeyboardEvent,this));break;case"keyup":K.push(this._addDOMEvent(V,V,this._dispatchKeyboardEvent,this));break;case"keypress":K.push(this._addDOMEvent(V,V,this._dispatchKeyboardEvent,this));break;case"input":K.push(this._addDOMEvent(V,V,this._dispatchKeyboardEvent,this));break}return X.disposer=new MultiDisposer(K),X},F}(TargetedEventDispatcher),InteractionObject=function(R){__extends(F,R);function F(E){var V=R.call(this)||this;return V._eventDispatcher=new InteractionObjectEventDispatcher(V),V.eventDisposers=new Dictionary,V.replacedStyles=new Dictionary,V._clickable=!1,V._contextMenuDisabled=!1,V._hoverable=!1,V._trackable=!1,V._draggable=!1,V._swipeable=!1,V._resizable=!1,V._wheelable=!1,V._inert=!1,V._isHover=!1,V.isRealHover=!1,V._isHoverByTouch=!1,V._isDown=!1,V._isFocused=!1,V._isTouchProtected=!1,V._inertiaOptions=new Dictionary,V.inertias=new Dictionary,V._hitOptions={},V._hoverOptions={},V._swipeOptions={},V._keyboardOptions={},V._mouseOptions={},V._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},V._disposers.push(V._eventDispatcher),V._element=E,V.className="InteractionObject",V._disposers.push(new DictionaryDisposer(V.inertias)),V._disposers.push(new DictionaryDisposer(V.eventDisposers)),V.applyTheme(),V}return Object.defineProperty(F.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isHover",{get:function(){return this._isHover},set:function(E){this.isHover!=E&&(this._isHover=E,E?getInteraction().overObjects.moveValue(this):(this.isRealHover=!1,getInteraction().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(E){this.isHoverByTouch!=E&&(this._isHoverByTouch=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new List),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isDown",{get:function(){return this._isDown},set:function(E){this.isDown!=E&&(this._isDown=E,E?getInteraction().downObjects.moveValue(this):getInteraction().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new List),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isFocused",{get:function(){return this._isFocused},set:function(E){this.isFocused!=E&&(this._isFocused=E,E?getInteraction().focusedObject=this:getInteraction().focusedObject=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(E){this._isTouchProtected!=E&&(this._isTouchProtected=E,E?getInteraction().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&getInteraction().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"clickable",{get:function(){return this._clickable},set:function(E){this._clickable!==E&&(this._clickable=E,getInteraction().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(E){this._contextMenuDisabled!==E&&(this._contextMenuDisabled=E,getInteraction().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hoverable",{get:function(){return this._hoverable},set:function(E){this._hoverable!==E&&(this._hoverable=E,getInteraction().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"trackable",{get:function(){return this._trackable},set:function(E){this._trackable!==E&&(this._trackable=E,getInteraction().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"draggable",{get:function(){return this._draggable},set:function(E){this._draggable!==E&&(this._draggable=E,getInteraction().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"swipeable",{get:function(){return this._swipeable},set:function(E){this._swipeable!==E&&(this._swipeable=E,getInteraction().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"resizable",{get:function(){return this._resizable},set:function(E){this._resizable!==E&&(this._resizable=E,getInteraction().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"wheelable",{get:function(){return this._wheelable},set:function(E){this._wheelable!==E&&(this._wheelable=E,getInteraction().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"inert",{get:function(){return this._inert},set:function(E){this._inert!==E&&(this._inert=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"focusable",{get:function(){return this._focusable},set:function(E){this._focusable!==E&&(this._focusable=E,this._focusable&&this.tabindex==-1&&(this._tabindex=1),getInteraction().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tabindex",{get:function(){return getValueDefault(this._tabindex,-1)},set:function(E){this._tabindex!==E&&(this._tabindex=E,E>-1&&(this.focusable=!0),getInteraction().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"element",{get:function(){return this._element},set:function(E){this._element=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(E){this._originalPosition=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"originalScale",{get:function(){return getValueDefault(this._originalScale,1)},set:function(E){this._originalScale!==E&&(this._originalScale=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"originalAngle",{get:function(){return getValueDefault(this._originalAngle,0)},set:function(E){this._originalAngle!==E&&(this._originalAngle=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(E){this._inertiaOptions=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(E){this._hitOptions=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(E){this._hoverOptions=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(E){this._swipeOptions=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(E){this._keyboardOptions=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(E){this._mouseOptions=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(E){this._cursorOptions=E},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.inertiaOptions=E.inertiaOptions,this.hitOptions=E.hitOptions,this.hoverOptions=E.hoverOptions,this.swipeOptions=E.swipeOptions,this.keyboardOptions=E.keyboardOptions,this.cursorOptions=E.cursorOptions,this.contextMenuDisabled=E.contextMenuDisabled,getInteraction().applyCursorOverStyle(this)},F.prototype.setEventDisposer=function(E,V,U){var W=this.eventDisposers.getKey(E);V?W==null&&this.eventDisposers.setKey(E,U()):W!=null&&(W.dispose(),this.eventDisposers.removeKey(E))},F.prototype.dispose=function(){R.prototype.dispose.call(this);var E=getInteraction();E.overObjects.removeValue(this),E.downObjects.removeValue(this),E.trackedObjects.removeValue(this),E.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&E.unlockWheel(),E.focusedObject===this&&(E.focusedObject=void 0)},F}(BaseObjectEvents),InteractionKeyboardObject=function(){function R(F,E){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=F,this.keyboardEvent=E,this._startedOn=new Date().getTime(),getInteraction().processDragStart(F),system$1.animations.push(this),this.update()}return R.prototype.update=function(){var F=this.interaction,E=getInteraction().getKeyboardOption(F,"speed"),V=getInteraction().getKeyboardOption(F,"accelleration"),U=getInteraction().getKeyboardOption(F,"accellerationDelay"),W={x:0,y:0};this.keyboardEvent.shiftKey?(E*=.5,V=1):this.keyboardEvent.ctrlKey&&(E*=2);var Y=new Date().getTime()-this._startedOn,G=Y-U;if(V>0&&G>0){var X=Y/U;Y=U,W.x+=this.directionX*(E*V*X*G),W.y+=this.directionY*(E*V*X*G)}W.x+=this.directionX*(E*Y),W.y+=this.directionY*(E*Y),getInteraction().handleTransformMove(F,W,{x:0,y:0},this.keyboardEvent,!0,!1)},R.prototype.isDisposed=function(){return this._disposed},R.prototype.dispose=function(){this._disposed||(getInteraction().processDragStop(this.interaction),remove$1(system$1.animations,this))},R}(),Inertia=function(R){__extends(F,R);function F(E,V,U,W){var Y=R.call(this)||this;return Y.animations=[],Y.className="Inertia",Y.interaction=E,Y.type=V,Y.point=U,Y.startPoint=W,Y._disposers.push(new AnimationDisposer(Y.animations)),Y}return Object.defineProperty(F.prototype,"x",{get:function(){return this.point.x},set:function(E){isNumber(E)&&(this.point.x=E,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"y",{get:function(){return this.point.y},set:function(E){isNumber(E)&&(this.point.y=E,this.handleMove())},enumerable:!0,configurable:!0}),F.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var E={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",E)}},F.prototype.done=function(){this.interaction.inertias.removeKey(this.type),this.type==="move"&&getInteraction().processDragStop(this.interaction),this.dispose()},F}(BaseObject),Keyboard=function(){function R(){}return R.prototype.getEventKey=function(F){var E=F.keyCode||F.which,V;switch(E){case 38:V="up";break;case 40:V="down";break;case 37:V="left";break;case 39:V="right";break;case 13:V="enter";break;case 27:V="esc";break;case 36:V="home";break;case 35:V="end";break;case 9:V="tab";break;case 17:V="ctrl";break;case 18:V="alt";break;case 16:V="shift";break;case 32:V="space";break;case 36:V="home";break;case 35:V="end";break;case 33:V="pgup";break;case 34:V="pgdn";break;case 45:V="ins";break;case 46:V="del";break;case 107:V="plus";break;case 109:V="minus";break;default:V="other";break}return V},R.prototype.isKey=function(F,E){var V=this.getEventKey(F);return isString$1(E)&&(E=[E]),E.indexOf(V)!==-1},R.prototype.shiftKey=function(F){return F.shiftKey},R.prototype.ctrlKey=function(F){return F.ctrlKey},R.prototype.altKey=function(F){return F.altKey},R.prototype.metaKey=function(F){return F.metaKey},R}(),keyboard=new Keyboard,timeUnitDurations={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function getNextUnit(R){switch(R){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function getDuration(R,F){return hasValue(F)||(F=1),timeUnitDurations[R]*F}function now$1(){return new Date}function getTime(){return now$1().getTime()}function copy$1(R){return new Date(R.getTime())}function checkChange(R,F,E,V){R=new Date(R.getTime()),F=new Date(F.getTime());var U=0,W=0;!V&&E!="millisecond"&&(U=R.getTimezoneOffset(),R.setUTCMinutes(R.getUTCMinutes()-U),W=F.getTimezoneOffset(),F.setUTCMinutes(F.getUTCMinutes()-W));var Y=!1;switch(E){case"year":R.getUTCFullYear()!=F.getUTCFullYear()&&(Y=!0);break;case"month":(R.getUTCFullYear()!=F.getUTCFullYear()||R.getUTCMonth()!=F.getUTCMonth())&&(Y=!0);break;case"day":(R.getUTCMonth()!=F.getUTCMonth()||R.getUTCDate()!=F.getUTCDate())&&(Y=!0);break;case"hour":R.getUTCHours()!=F.getUTCHours()&&(Y=!0);break;case"minute":R.getUTCMinutes()!=F.getUTCMinutes()&&(Y=!0);break;case"second":R.getUTCSeconds()!=F.getUTCSeconds()&&(Y=!0);break;case"millisecond":R.getTime()!=F.getTime()&&(Y=!0);break}if(Y)return!0;var G=getNextUnit(E);return G?(R.setUTCMinutes(R.getUTCMinutes()+U),F.setUTCMinutes(F.getUTCMinutes()+W),checkChange(R,F,G,V)):!1}function add(R,F,E,V){var U=0;switch(!V&&F!="millisecond"&&(U=R.getTimezoneOffset(),R.setUTCMinutes(R.getUTCMinutes()-U)),F){case"day":var W=R.getUTCDate();R.setUTCDate(W+E);break;case"second":var Y=R.getUTCSeconds();R.setUTCSeconds(Y+E);break;case"millisecond":var G=R.getUTCMilliseconds();R.setUTCMilliseconds(G+E);break;case"hour":var X=R.getUTCHours();R.setUTCHours(X+E);break;case"minute":var K=R.getUTCMinutes();R.setUTCMinutes(K+E);break;case"year":var Z=R.getUTCFullYear();R.setUTCFullYear(Z+E);break;case"month":var J=R.getUTCMonth();R.setUTCMonth(J+E);break;case"week":var Q=R.getUTCDate();R.setUTCDate(Q+E*7);break}if(!V&&F!="millisecond"&&(R.setUTCMinutes(R.getUTCMinutes()+U),F=="day"||F=="week"||F=="month"||F=="year")){var ee=R.getTimezoneOffset();if(ee!=U){var te=ee-U;R.setUTCMinutes(R.getUTCMinutes()+te),R.getTimezoneOffset()!=ee&&R.setUTCMinutes(R.getUTCMinutes()-te)}}return R}function round$1(R,F,E,V,U,W,Y,G){Y===void 0&&(Y=0),isNumber(E)||(E=1);var X=0;switch(G&&["day","month","week","year"].indexOf(F)!=-1&&(R=setTimezone(R,G)),!U&&F!="millisecond"&&(X=R.getTimezoneOffset(),R.setUTCMinutes(R.getUTCMinutes()-X)),F){case"day":var K=R.getUTCDate();if(E>1){if(W){W=round$1(W,"day",1);var Z=R.getTime()-W.getTime(),J=Math.floor(Z/getDuration("day")/E),Q=getDuration("day",J*E);R.setTime(W.getTime()+Q-X*getDuration("minute"))}}else R.setUTCDate(K);R.setUTCHours(0,0,0,0);break;case"second":var ee=R.getUTCSeconds();E>1&&(ee=Math.floor(ee/E)*E),R.setUTCSeconds(ee,0);break;case"millisecond":if(E==1)return R;var te=R.getUTCMilliseconds();te=Math.floor(te/E)*E,R.setUTCMilliseconds(te);break;case"hour":var ie=R.getUTCHours();E>1&&(ie=Math.floor(ie/E)*E),R.setUTCHours(ie,Y,0,0);break;case"minute":var ne=R.getUTCMinutes();te=R.getUTCMilliseconds(),E>1&&(ne=Math.floor(ne/E)*E),R.setUTCMinutes(ne,0,0);break;case"month":var ae=R.getUTCMonth();E>1&&(ae=Math.floor(ae/E)*E),R.setUTCMonth(ae,1),R.setUTCHours(0,Y,0,0);break;case"year":var se=R.getUTCFullYear();E>1&&(se=Math.floor(se/E)*E),R.setUTCFullYear(se,0,1),R.setUTCHours(0,Y,0,0);break;case"week":var oe=R.getUTCDate(),le=R.getUTCDay();isNumber(V)||(V=1),le>=V?oe=oe-le+V:oe=oe-(7+le)+V,R.setUTCDate(oe),R.setUTCHours(0,Y,0,0);break}if(!U&&F!="millisecond"&&(R.setUTCMinutes(R.getUTCMinutes()+X),F=="day"||F=="week"||F=="month"||F=="year")){var ue=R.getTimezoneOffset();if(ue!=X){var ce=ue-X;R.setUTCMinutes(R.getUTCMinutes()+ce)}}return R}function setTimezone(R,F){var E=new Date(R.toLocaleString("en-US",{timeZone:F}));return E}function getTimezoneMinutes(R){var F=new Date;F.setHours(0,0,0,0);var E=setTimezone(F,R);return E.getMinutes()}var Interaction=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._globalEventsAdded=!1,E._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},E._usePointerEventsOnly=!1,E._useTouchEventsOnly=!1,E._addHoverEvents=!0,E._passiveSupported=!1,E._delayedEvents={out:[]},E.overObjects=new List,E.downObjects=new List,E.trackedObjects=new List,E.transformedObjects=new List,E.pointers=new Dictionary,E.inertiaOptions=new Dictionary,E.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},E.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},E.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},E.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},E.mouseOptions={sensitivity:1},E.className="Interaction",E.body=E.getInteraction(document.body),E._disposers.push(E.body),window.hasOwnProperty("PointerEvent")?(E._pointerEvents.pointerdown="pointerdown",E._pointerEvents.pointerup="pointerup",E._pointerEvents.pointermove="pointermove",E._pointerEvents.pointercancel="pointercancel",E._pointerEvents.pointerover="pointerover",E._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(E._pointerEvents.pointerdown="MSPointerDown",E._pointerEvents.pointerup="MSPointerUp",E._pointerEvents.pointermove="MSPointerMove",E._pointerEvents.pointercancel="MSPointerUp",E._pointerEvents.pointerover="MSPointerOver",E._pointerEvents.pointerout="MSPointerOut"):typeof matchMedia<"u"&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(E._addHoverEvents=!1,E._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||E.fullFF()?E._usePointerEventsOnly=!0:E._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?E._pointerEvents.wheel="wheel":hasValue(document.onmousewheel)&&(E._pointerEvents.wheel="mousewheel"),E.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:polyOut3}),E.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:polyOut3}),E._passiveSupported=F.passiveSupported,E.applyTheme(),E}return F.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},F.prototype.debug=function(){},F.prototype.addGlobalEvents=function(){var E=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(addEventListener$1(document,this._pointerEvents.pointerdown,function(V){E.handleGlobalPointerDown(V)})),this._disposers.push(addEventListener$1(document,this._pointerEvents.pointermove,function(V){E.handleGlobalPointerMove(V)})),this._disposers.push(addEventListener$1(document,this._pointerEvents.pointerup,function(V){E.handleGlobalPointerUp(V)})),this._disposers.push(addEventListener$1(document,this._pointerEvents.pointercancel,function(V){E.handleGlobalPointerUp(V,!0)})),this._disposers.push(addEventListener$1(document,"mouseenter",function(V){!hasValue(V.relatedTarget)&&(V.buttons==0||V.which==0)&&E.handleDocumentLeave(V)}))),this._usePointerEventsOnly||(this._disposers.push(addEventListener$1(document,"touchstart",function(V){E.handleGlobalTouchStart(V)})),this._disposers.push(addEventListener$1(document,"touchmove",function(V){E.handleGlobalTouchMove(V)})),this._disposers.push(addEventListener$1(document,"touchend",function(V){E.handleGlobalTouchEnd(V)}))),this._disposers.push(addEventListener$1(document,"keydown",function(V){E.handleGlobalKeyDown(V)})),this._disposers.push(addEventListener$1(document,"keyup",function(V){E.handleGlobalKeyUp(V)})),this._globalEventsAdded=!0)},F.prototype.processClickable=function(E){this.processTouchable(E)},F.prototype.processContextMenu=function(E){E.contextMenuDisabled?E.eventDisposers.hasKey("contextMenuDisabled")||E.eventDisposers.setKey("contextMenuDisabled",addEventListener$1(E.element,"contextmenu",function(V){V.preventDefault()})):E.eventDisposers.hasKey("contextMenuDisabled")&&E.eventDisposers.getKey("contextMenuDisabled").dispose()},F.prototype.processHoverable=function(E){var V=this;if(E.hoverable||E.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(E),!E.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&E.eventDisposers.setKey("hoverable",new MultiDisposer([addEventListener$1(E.element,this._pointerEvents.pointerout,function(W){return V.handlePointerOut(E,W)}),addEventListener$1(E.element,this._pointerEvents.pointerover,function(W){return V.handlePointerOver(E,W)})])),E.trackable;else{var U=E.eventDisposers.getKey("hoverable");U!=null&&(U.dispose(),E.eventDisposers.removeKey("hoverable"))}this.processTouchable(E)},F.prototype.processMovable=function(E){(E.draggable||E.swipeable||E.trackable||E.resizable)&&(!this.isGlobalElement(E)&&!E.isTouchProtected&&this.prepElement(E),this.applyCursorOverStyle(E)),this.processTouchable(E)},F.prototype.processTrackable=function(E){this.processHoverable(E),this.processMovable(E),E.trackable?this.trackedObjects.moveValue(E):this.trackedObjects.removeValue(E)},F.prototype.processDraggable=function(E){this.processMovable(E)},F.prototype.processSwipeable=function(E){this.processMovable(E)},F.prototype.processResizable=function(E){this.processMovable(E)},F.prototype.processWheelable=function(E){var V=this;if(E.wheelable)E.eventDisposers.hasKey("wheelable")||E.eventDisposers.setKey("wheelable",new MultiDisposer([addEventListener$1(E.element,this._pointerEvents.wheel,function(W){return V.handleMouseWheel(E,W)},this._passiveSupported?{passive:!1}:!1),E.events.on("out",function(W){E.wheelable&&V.unlockWheel()}),E.events.on("over",function(W){E.wheelable&&V.lockWheel()})]));else{var U=E.eventDisposers.getKey("wheelable");U!=null&&(U.dispose(),E.eventDisposers.removeKey("wheelable"))}},F.prototype.processFocusable=function(E){var V=this;if(E.focusable===!0&&E.tabindex>-1&&!this._useTouchEventsOnly)E.eventDisposers.hasKey("focusable")||E.eventDisposers.setKey("focusable",new MultiDisposer([addEventListener$1(E.element,"focus",function(W){return V.handleFocus(E,W)}),addEventListener$1(E.element,"blur",function(W){return V.handleBlur(E,W)}),addEventListener$1(E.element,this._pointerEvents.pointerdown,function(W){return V.handleFocusBlur(E,W)}),addEventListener$1(E.element,"touchstart",function(W){return V.handleFocusBlur(E,W)},this._passiveSupported?{passive:!1}:!1)]));else{var U=E.eventDisposers.getKey("focusable");U!=null&&(U.dispose(),E.eventDisposers.removeKey("focusable"))}},F.prototype.processTouchable=function(E){var V=this;if(E.clickable||E.hoverable||E.trackable||E.draggable||E.swipeable||E.resizable)this.addGlobalEvents(),E.eventDisposers.hasKey("touchable")||(!this._useTouchEventsOnly&&!this._usePointerEventsOnly?E.eventDisposers.setKey("touchable",new MultiDisposer([addEventListener$1(E.element,this._pointerEvents.pointerdown,function(W){return V.handlePointerDown(E,W)}),addEventListener$1(E.element,"touchstart",function(W){return V.handleTouchDown(E,W)},this._passiveSupported?{passive:!1}:!1)])):this._useTouchEventsOnly?this._usePointerEventsOnly||E.eventDisposers.setKey("touchable",addEventListener$1(E.element,"touchstart",function(W){return V.handleTouchDown(E,W)},this._passiveSupported?{passive:!1}:!1)):E.eventDisposers.setKey("touchable",addEventListener$1(E.element,this._pointerEvents.pointerdown,function(W){return V.handlePointerDown(E,W)})));else{var U=E.eventDisposers.getKey("touchable");U!=null&&(U.dispose(),E.eventDisposers.removeKey("touchable"))}},F.prototype.handleFocus=function(E,V){if(!E.focusable){V.preventDefault();return}if(E.isFocused=!0,E.events.isEnabled("focus")&&!system$1.isPaused){var U={type:"focus",target:E,event:V};E.events.dispatchImmediately("focus",U)}},F.prototype.handleFocusBlur=function(E,V){E.focusable!==!1&&this.getHitOption(E,"noFocus")&&E.events.once("focus",function(){E.events.disableType("blur"),blur(),E.sprite&&E.sprite.handleBlur(),E.events.enableType("blur")})},F.prototype.handleBlur=function(E,V){if(!E.focusable){V.preventDefault();return}if(E.isFocused=!1,E.events.isEnabled("blur")&&!system$1.isPaused){var U={type:"blur",target:E,event:V};E.events.dispatchImmediately("blur",U)}},F.prototype.handleGlobalKeyDown=function(E){if(this.focusedObject){if(keyboard.isKey(E,"esc"))blur();else if(this.focusedObject.draggable&&keyboard.isKey(E,["up","down","left","right"])){E.preventDefault();var V=this.focusedObject,U="interactionKeyboardObject";if(V.eventDisposers.hasKey(U))return;var W=new InteractionKeyboardObject(V,E);switch(V.eventDisposers.setKey(U,W),keyboard.getEventKey(E)){case"up":W.directionY=-1;break;case"down":W.directionY=1;break;case"left":W.directionX=-1;break;case"right":W.directionX=1;break}}}},F.prototype.handleGlobalKeyUp=function(E){var V="interactionKeyboardObject";if(this.focusedObject){var U=this.focusedObject.eventDisposers.getKey(V);U!=null&&(E.preventDefault(),U.dispose(),this.focusedObject.eventDisposers.removeKey(V));var W=this.focusedObject.sprite;keyboard.isKey(E,"enter")&&W&&(W.events.isEnabled("hit")||W.events.isEnabled("toggled")?this.focusedObject.dispatchImmediately("hit"):W.showTooltipOn=="hit"&&this.focusedObject.dispatchImmediately("up"))}},F.prototype.handleGlobalPointerMove=function(E){var V=this.getPointer(E);if(V.point=this.getPointerPoint(E),this.events.isEnabled("track")&&!system$1.isPaused){var U={type:"track",target:this,event:E,pointer:V,touch:V.touch};this.events.dispatchImmediately("track",U)}this.addBreadCrumb(V,V.point),this.handleGlobalMove(V,E)},F.prototype.handleGlobalPointerDown=function(E){this.processDelayed();var V=this.getPointer(E);if(this.events.isEnabled("down")&&!system$1.isPaused){var U={type:"down",target:this,event:E,pointer:V,touch:V.touch};this.events.dispatchImmediately("down",U)}},F.prototype.preventTouchAction=function(E){E.defaultPrevented||E.preventDefault()},F.prototype.handleGlobalPointerUp=function(E,V){V===void 0&&(V=!1);var U=this.getPointer(E);if(this.events.isEnabled("up")&&!system$1.isPaused){var W={type:"up",target:this,event:E,pointer:U,touch:U.touch};this.events.dispatchImmediately("up",W)}this.handleGlobalUp(U,E,V)},F.prototype.handleGlobalTouchMove=function(E){for(var V=0;V<E.changedTouches.length;V++){var U=this.getPointer(E.changedTouches[V]);if(U.point=this.getPointerPoint(E.changedTouches[V]),this.events.isEnabled("track")&&!system$1.isPaused){var W={type:"track",target:this,event:E,pointer:U,touch:U.touch};this.events.dispatchImmediately("track",W)}this.addBreadCrumb(U,U.point),this.handleGlobalMove(U,E)}},F.prototype.handleGlobalTouchStart=function(E){this.processDelayed();for(var V=0;V<E.changedTouches.length;V++){var U=this.getPointer(E.changedTouches[V]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!system$1.isPaused){var W={type:"down",target:this,event:E,pointer:U,touch:U.touch};this.events.dispatchImmediately("down",W)}}},F.prototype.handleGlobalTouchEnd=function(E){for(var V=0;V<E.changedTouches.length;V++){var U=this.getPointer(E.changedTouches[V]);if(this.events.isEnabled("up")&&!system$1.isPaused){var W={type:"up",target:this,event:E,pointer:U,touch:U.touch};this.events.dispatchImmediately("up",W)}this.handleGlobalUp(U,E)}},F.prototype.handlePointerDown=function(E,V){var U=this.getPointer(V);!U.touch&&V.which!=1&&V.which!=3||(U.button=V.which,this.resetPointer(U,V),this.handleDown(E,U,V))},F.prototype.handlePointerOver=function(E,V){var U=this.getPointer(V);this.handleOver(E,U,V)},F.prototype.handlePointerOut=function(E,V){var U=this.getPointer(V);this.handleOut(E,U,V)},F.prototype.handleMouseWheel=function(E,V){var U=this.getPointer(V);U.point=this.getPointerPoint(V);var W=0,Y=0,G=1;if(V.deltaMode==1&&(G=50),G*=this.getMouseOption(E,"sensitivity"),V instanceof WheelEvent)W=Math.round(-1*V.wheelDeltaX||V.deltaX*G),Y=Math.round(-1*V.wheelDeltaY||V.deltaY*G);else throw new Error("Invalid event type");this.handleWheel(E,U,W,Y,V)},F.prototype.handleTouchDown=function(E,V){for(var U=0;U<V.changedTouches.length;U++){var W=this.getPointer(V.changedTouches[U]);this.maybePreventDefault(E,V,W),this.resetPointer(W,V.changedTouches[U]),this.handleDown(E,W,V)}},F.prototype.handleHit=function(E,V,U){var W=getTime();if(E.lastHit&&E.lastHit>=W-this.getHitOption(E,"doubleHitTime")){if(W-E.lastHit<100)return;if(E.lastHit=void 0,E.lastHitPointer=void 0,E.events.isEnabled("doublehit")&&!system$1.isPaused){var Y={type:"doublehit",target:E,point:V.point,event:U,touch:V.touch};E.events.dispatchImmediately("doublehit",Y)}}else if(E.lastHit=W,E.lastHitPointer=V,V.button===3){if(E.events.isEnabled("rightclick")&&!system$1.isPaused){var Y={type:"rightclick",target:E,event:U};E.events.dispatchImmediately("rightclick",Y)}}else if(E.events.isEnabled("hit")&&!system$1.isPaused){var Y={type:"hit",target:E,event:U,point:V.point,touch:V.touch};E.events.dispatchImmediately("hit",Y)}},F.prototype.handleOver=function(E,V,U,W){if(!!E.hoverable){var Y=!1;if(this.shouldCancelHovers(V)&&this.areTransformed()&&this.moved(V,this.getHitOption(E,"hitTolerance"))&&(Y=!0,this.cancelAllHovers(U)),this.processDelayed(),E.overPointers.moveValue(V),!E.isRealHover&&(Y||(E.isHover=!0,E.isRealHover=!0,this.overObjects.moveValue(E)),this.handleTrack(this.body,V,U,!0),E.events.isEnabled("over")&&!system$1.isPaused&&!Y)){var G={type:"over",target:E,event:U,pointer:V,touch:V.touch};E.events.dispatchImmediately("over",G)}}},F.prototype.handleOut=function(E,V,U,W,Y){var G=this;if(W===void 0&&(W=!1),Y===void 0&&(Y=!1),!!E.hoverable&&(E.overPointers.removeValue(V),E.isHover&&(!E.hasDelayedOut||Y))){if(W&&E.overPointers.length)return;if(V&&V.touch&&!Y&&!this.old(V)){var X=this.getHoverOption(E,"touchOutBehavior");if(X=="leave"){this._delayedEvents.out.push({type:"out",io:E,pointer:V,event:U,keepUntil:getTime()+500}),E.hasDelayedOut=!0;return}else if(X=="delay"&&this.getHoverOption(E,"touchOutDelay")){this._delayedEvents.out.push({type:"out",io:E,pointer:V,event:U,keepUntil:getTime()+500,timeout:this.setTimeout(function(){G.handleOut(E,V,U,!0)},this.getHoverOption(E,"touchOutDelay"))});return}}if(E.isHover=!1,this.overObjects.removeValue(E),!E.isDisposed()&&E.events.isEnabled("out")&&!system$1.isPaused){var K={type:"out",target:E,event:U,pointer:V,touch:V.touch};E.events.dispatchImmediately("out",K)}E.overPointers.clear(),E.hasDelayedOut=!1}},F.prototype.processDelayed=function(){for(var E;E=this._delayedEvents.out.pop(),!!E;)E.timeout&&E.timeout.dispose(),this.handleOut(E.io,E.pointer,E.event,!1,!0)},F.prototype.handleDown=function(E,V,U){if(this.maybePreventDefault(E,U,V),E.inert&&this.stopInertia(E),this.handleOver(E,V,U,!0),E.downPointers.moveValue(V),this.applyCursorDownStyle(E,V),E.isDown||(E.focusable!==!1&&this.getHitOption(E,"noFocus")&&this.focusedObject&&blur(),E.isDown=!0,this.downObjects.moveValue(E),E.draggable&&this.processDragStart(E,V,U),E.resizable&&this.processResizeStart(E,V,U)),E.events.isEnabled("down")&&!system$1.isPaused){var W={type:"down",target:E,event:U,pointer:V,touch:V.touch};E.events.dispatchImmediately("down",W)}},F.prototype.handleGlobalUp=function(E,V,U){var W=this;U===void 0&&(U=!1);var Y=this.downObjects.values.slice();Y.sort(function(G,X){if(G&&X){var K=G.element.compareDocumentPosition(X.element);return K&Node.DOCUMENT_POSITION_CONTAINED_BY?1:K&Node.DOCUMENT_POSITION_CONTAINS?-1:0}else return 0}),each$2(Y,function(G){G&&G.downPointers.contains(E)&&W.handleUp(G,E,V,U)})},F.prototype.handleDocumentLeave=function(E){var V=this;each(this.downObjects.backwards().iterator(),function(U){U.downPointers.each(function(W){V.handleUp(U,W,E)})})},F.prototype.handleUp=function(E,V,U,W){if(W===void 0&&(W=!1),this.restoreCursorDownStyle(E,V),E.downPointers.removeValue(V),(V&&V.touch||this._useTouchEventsOnly)&&this.handleOut(E,V,U,!0),E.isDown){if(E.downPointers.length==0&&(E.isDown=!1,this.downObjects.removeValue(E)),E.events.isEnabled("up")&&!system$1.isPaused&&V){var Y={type:"up",target:E,event:U,pointer:V,touch:V.touch};E.events.dispatchImmediately("up",Y)}W||(E.swipeable&&this.swiped(E,V)?this.handleSwipe(E,V,U):(E.clickable&&!this.moved(V,this.getHitOption(E,"hitTolerance"))&&this.handleHit(E,V,U),E.inert&&this.moved(V,this.getHitOption(E,"hitTolerance"))?this.handleInertia(E,V):E.draggable&&this.processDragStop(E,V,U),E.resizable&&this.processResizeStop(E,V,U)))}},F.prototype.maybePreventDefault=function(E,V,U){hasValue(V)&&(E.draggable||E.swipeable||E.trackable||E.resizable)&&!this.isGlobalElement(E)&&V.cancelable!==!1&&(!E.isTouchProtected||!U||!U.touch)&&V.preventDefault()},F.prototype.cancelAllHovers=function(E){var V=this;each(this.overObjects.backwards().iterator(),function(U){if(U){var W=U.overPointers.getIndex(0);V.handleOut(U,W,E,!0,!0)}})},F.prototype.shouldCancelHovers=function(E){return options.disableHoverOnTransform=="touch"},F.prototype.handleGlobalMove=function(E,V){var U=this;if(!E.touch){var W=eventTarget(E.lastEvent);each(this.overObjects.backwards().iterator(),function(Y){if(Y&&Y.overPointers.contains(E)&&Y.hoverable){var G=!1;Y.element&&E.lastEvent&&contains(Y.element,W)||(G=!0),G&&U.handleOut(Y,E,V,!0)}})}each(this.transformedObjects.backwards().iterator(),function(Y){Y.downPointers.contains(E)&&!(Y.swipeable&&U.swiping(Y,E))&&(Y.draggable||Y.resizable)&&U.handleTransform(Y,V)}),each(this.trackedObjects.backwards().iterator(),function(Y){Y.overPointers.contains(E)||U.handleTrack(Y,E,V)})},F.prototype.handleTrack=function(E,V,U,W){if(W===void 0&&(W=!1),!(!W&&!this.moved(V,0))&&E.events.isEnabled("track")&&!system$1.isPaused){var Y={type:"track",target:E,event:U,point:V.point,pointer:V,touch:V.touch};E.events.dispatchImmediately("track",Y)}},F.prototype.handleSwipe=function(E,V,U){if(E.events.isEnabled("swipe")&&!system$1.isPaused){var W={type:"swipe",target:E,event:U,touch:V.touch};E.events.dispatchImmediately("swipe",W)}if(V.startPoint.x<V.point.x){if(E.events.isEnabled("swiperight")&&!system$1.isPaused){var W={type:"swiperight",target:E,event:U,touch:V.touch};E.events.dispatchImmediately("swiperight",W)}}else if(E.events.isEnabled("swipeleft")&&!system$1.isPaused){var W={type:"swipeleft",target:E,event:U,touch:V.touch};E.events.dispatchImmediately("swipeleft",W)}},F.prototype.handleWheel=function(E,V,U,W,Y){var G={x:U,y:W};E.events.isEnabled("wheel")&&!system$1.isPaused&&E.events.dispatchImmediately("wheel",{type:"wheel",target:E,event:Y,point:V.point,shift:G}),U<0?E.events.isEnabled("wheelleft")&&!system$1.isPaused&&E.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:E,event:Y,point:V.point,shift:G}):U>0?E.events.isEnabled("swiperight")&&!system$1.isPaused&&E.events.dispatchImmediately("wheelright",{type:"wheelright",target:E,event:Y,point:V.point,shift:G}):W<0?E.events.isEnabled("wheelup")&&!system$1.isPaused&&E.events.dispatchImmediately("wheelup",{type:"wheelup",target:E,event:Y,point:V.point,shift:G}):W>0&&E.events.isEnabled("wheeldown")&&!system$1.isPaused&&E.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:E,event:Y,point:V.point,shift:G})},F.prototype.handleInertia=function(E,V){E.draggable&&E.downPointers.length===0&&this.handleMoveInertia(E,V),E.resizable&&E.downPointers.length>1&&this.handleResizeInertia(E,V)},F.prototype.handleMoveInertia=function(E,V){var U=E,W="move",Y={x:V.point.x,y:V.point.y},G={x:V.startPoint.x,y:V.startPoint.y},X=new Inertia(U,W,Y,G),K=this.getTrailPoint(V,getTime()-this.getInertiaOption(E,"move","time"));if(typeof K>"u"){this.processDragStop(E,V,V.lastUpEvent);return}var Z=this.getInertiaOption(E,"move","factor"),J=[{to:V.point.x+(V.point.x-K.point.x)*Z,property:"x"},{to:V.point.y+(V.point.y-K.point.y)*Z,property:"y"}],Q=new Animation(X,J,this.getInertiaOption(E,"move","duration"),this.getInertiaOption(E,"move","easing")).start();this._disposers.push(Q.events.on("animationended",function(ee){X.done()})),E.inertias.setKey("move",X)},F.prototype.handleResizeInertia=function(E,V){},F.prototype.handleTransform=function(E,V){var U=E.downPointers.getIndex(0),W=null,Y=null;U&&(W=U.point,Y=U.startPoint);var G,X,K;X={x:E.originalPosition.x,y:E.originalPosition.y},K=X;for(var Z=!0,J=1;J<E.downPointers.length;J++){var Q=E.downPointers.getIndex(J);if(Y.x!=Q.startPoint.x&&Y.y!=Q.startPoint.y){Z=!1,G=Q,X=G.point,K=G.startPoint;break}}var ee=U&&this.moved(U,0);if(E.draggable&&U&&U.dragStartEvents&&U.dragStartEvents.length&&ee&&E.events.isEnabled("dragstart")&&!system$1.isPaused&&E.events.dispatchImmediately("dragstart",U.dragStartEvents.shift()),Z&&E.draggable)this.handleTransformMove(E,W,Y,V,ee,U.touch),this.shouldCancelHovers(U)&&this.moved(U,this.getHitOption(E,"hitTolerance"))&&this.cancelAllHovers(V);else{var te=G&&this.moved(G,0);(this.shouldCancelHovers(U)&&this.moved(U,this.getHitOption(E,"hitTolerance"))||this.shouldCancelHovers(G)&&this.moved(G,this.getHitOption(E,"hitTolerance")))&&this.cancelAllHovers(V),E.draggable&&E.resizable?(this.handleTransformMove(E,W,Y,V,ee&&te,U.touch),this.handleTransformResize(E,W,Y,X,K,V,ee&&te,U.touch)):(E.draggable&&this.handleTransformMove(E,W,Y,V,ee,U.touch),E.resizable&&(!Z||V.ctrlKey)&&this.handleTransformResize(E,W,Y,X,K,V,ee&&te,U.touch))}},F.prototype.handleTransformMove=function(E,V,U,W,Y,G){if(Y&&E.events.isEnabled("drag")&&!system$1.isPaused&&(!E.isTouchProtected||!G)){var X={type:"drag",target:E,event:W,shift:{x:V.x-U.x,y:V.y-U.y},startPoint:U,point:V,touch:G};E.events.dispatchImmediately("drag",X)}},F.prototype.handleTransformResize=function(E,V,U,W,Y,G,X,K){if(E.events.isEnabled("resize")&&!system$1.isPaused&&(!E.isTouchProtected||!K)){var Z={type:"resize",target:E,event:G,scale:getScale$1(V,U,W,Y),startPoint1:U,point1:V,startPoint2:Y,point2:W,touch:K};E.events.dispatchImmediately("resize",Z)}},F.prototype.processDragStart=function(E,V,U){this.transformedObjects.moveValue(E),this.shouldCancelHovers(V)&&this.cancelAllHovers(U);var W={type:"dragstart",target:E,event:U,touch:V?V.touch:!1};V&&(V.dragTarget=E),V&&V.dragStartEvents?V.dragStartEvents.push(W):system$1.isPaused||E.dispatchImmediately("dragstart",W)},F.prototype.processDragStop=function(E,V,U){if(V||(V=this.getDragPointer(E)),V&&(V.dragTarget=void 0),this.transformedObjects.removeValue(E),(!V||this.moved(V,0))&&E.events.isEnabled("dragstop")&&!system$1.isPaused){var W={type:"dragstop",target:E,touch:V?V.touch:!1};E.events.dispatchImmediately("dragstop",W)}},F.prototype.processResizeStart=function(E,V,U){this.transformedObjects.moveValue(E)},F.prototype.processResizeStop=function(E,V,U){this.transformedObjects.removeValue(E)},F.prototype.dragStart=function(E,V){V||(V=this.getDragPointer(E)),V&&this.handleDown(E,V,V.lastDownEvent)},F.prototype.dragStop=function(E,V,U){V||(V=this.getDragPointer(E)),V&&!U&&this.handleGlobalUp(V,V.lastUpEvent,U)},F.prototype.getDragPointer=function(E){return E?E.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},F.prototype.getPointerId=function(E){var V="";return hasValue(E.identifier)?V=""+E.identifier:hasValue(E.pointerId)?V=""+E.pointerId:V="m",V.replace("-","")},F.prototype.getPointerPoint=function(E){return{x:E.clientX,y:E.clientY}},F.prototype.getPointer=function(E){var V=this.getPointerId(E),U=this.getPointerPoint(E),W;return this.pointers.hasKey(V)?(W=this.pointers.getKey(V),W.touch=this.isPointerTouch(E)):(W={id:V,touch:this.isPointerTouch(E),startPoint:U,startTime:getTime(),point:U,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(W,U),this.pointers.setKey(V,W)),W.lastEvent=E,this.lastPointer=W,W},F.prototype.isPointerTouch=function(E){if(typeof Touch<"u"&&E instanceof Touch)return!0;if(typeof PointerEvent<"u"&&E instanceof PointerEvent&&hasValue(E.pointerType))switch(E.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(E instanceof MouseEvent)}else if(hasValue(E.type)&&E.type.match(/^mouse/))return!1;return!0},F.prototype.resetPointer=function(E,V){var U=this.getPointerPoint(V);E.startTime=getTime(),E.startPoint={x:U.x,y:U.y},E.point={x:U.x,y:U.y},E.track=[],E.swipeCanceled=!1},F.prototype.addBreadCrumb=function(E,V){E.track.push({timestamp:getTime(),point:V})},F.prototype.lockDocument=function(){this.prepElement(this.body)},F.prototype.unlockDocument=function(){this.transformedObjects.length==0&&this.restoreAllStyles(this.body)},F.prototype.lockElement=function(E){this.prepElement(E)},F.prototype.unlockElement=function(E){this.restoreAllStyles(E)},F.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,this._passiveSupported?{passive:!1}:!1)},F.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},F.prototype.isLocalElement=function(E,V,U){var W=this.getCache("local_pointer_"+E.id);if(hasValue(W))return W;var Y=getRoot(V)||document;if(Y.elementFromPoint){var G=Y.elementFromPoint(E.point.x,E.point.y),X=G&&contains(V,G);return this.setCache("local_pointer_"+E.id+"_"+U,X,100),X}return!1},F.prototype.wheelLockEvent=function(E){return E.preventDefault(),!1},F.prototype.prepElement=function(E){var V=E.element;if(V){for(var U=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],W=0;W<U.length;W++)U[W]in V.style&&this.setTemporaryStyle(E,U[W],"none");this.setTemporaryStyle(E,"tapHighlightColor","rgba(0, 0, 0, 0)")}},F.prototype.unprepElement=function(E){var V=E.element;if(V){for(var U=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],W=0;W<U.length;W++)U[W]in V.style&&this.restoreStyle(E,U[W]);this.restoreStyle(E,"tapHighlightColor")}},F.prototype.getHitOption=function(E,V){var U=E.hitOptions[V];return typeof U>"u"&&(U=this.hitOptions[V]),U},F.prototype.getHoverOption=function(E,V){var U=E.hoverOptions[V];return typeof U>"u"&&(U=this.hoverOptions[V]),U},F.prototype.getSwipeOption=function(E,V){var U=E.swipeOptions[V];return typeof U>"u"&&(U=this.swipeOptions[V]),U},F.prototype.getKeyboardOption=function(E,V){var U=E.keyboardOptions[V];return typeof U>"u"&&(U=this.keyboardOptions[V]),U},F.prototype.getMouseOption=function(E,V){var U=E.mouseOptions[V];return typeof U>"u"&&(U=this.mouseOptions[V]),U},F.prototype.getInertiaOption=function(E,V,U){var W=E.inertiaOptions.getKey(V),Y;return W&&hasValue(W[U])?Y=W[U]:Y=this.inertiaOptions.getKey(V)[U],Y},F.prototype.stopInertia=function(E){for(var V,U=["move","resize"],W=0;W<U.length;W++)if(V=U[W],E.inertias.hasKey(V)){var Y=E.inertias.getKey(V);if(Y){Y.dispose();continue}}},F.prototype.swiping=function(E,V){var U=getTime();return V.swipeCanceled||!E.swipeable?!1:Math.abs(V.startPoint.y-V.point.y)<this.getSwipeOption(E,"verticalThreshold")&&V.startTime>U-this.getSwipeOption(E,"time")},F.prototype.swiped=function(E,V){var U=getTime();return V.swipeCanceled?!1:Math.abs(V.startPoint.x-V.point.x)>this.getSwipeOption(E,"horizontalThreshold")&&Math.abs(V.startPoint.y-V.point.y)<this.getSwipeOption(E,"verticalThreshold")&&V.startTime>U-this.getSwipeOption(E,"time")},F.prototype.applyCursorOverStyle=function(E){var V=E.cursorOptions;if(!!hasValue(V.overStyle))for(var U=0;U<V.overStyle.length;U++)setStyle(E.element,V.overStyle[U].property,V.overStyle[U].value)},F.prototype.applyCursorDownStyle=function(E,V){if(!(V&&V.touch)){var U=E.cursorOptions.downStyle;if(E.downPointers.contains(V)&&hasValue(U))for(var W=0;W<U.length;W++)this.setTemporaryStyle(this.body,U[W].property,U[W].value),this.setTemporaryStyle(E,U[W].property,U[W].value)}},F.prototype.restoreCursorDownStyle=function(E,V){if(!(V&&V.touch)){var U=E.cursorOptions.downStyle;if(E.downPointers.contains(V)&&hasValue(U))for(var W=0;W<U.length;W++)this.restoreStyle(this.body,U[W].property),this.restoreStyle(E,U[W].property)}},F.prototype.setGlobalStyle=function(E){for(var V=getInteraction().body,U=isArray$1(E)?E:[E],W=0;W<U.length;W++)this.setTemporaryStyle(V,U[W].property,U[W].value)},F.prototype.restoreGlobalStyle=function(E){for(var V=getInteraction().body,U=isArray$1(E)?E:[E],W=0;W<U.length;W++)this.restoreStyle(V,U[W].property)},F.prototype.isGlobalElement=function(E){return document.body===E.element},F.prototype.moved=function(E,V,U){var W=this.getShift(E);return Math.abs(W.x)>V||Math.abs(W.y)>V},F.prototype.old=function(E,V){return V===void 0&&(V=300),getTime()-E.startTime>V},F.prototype.getShift=function(E){return{x:E.startPoint.x-E.point.x,y:E.startPoint.y-E.point.y}},F.prototype.getTrailPoint=function(E,V){for(var U,W=0;W<E.track.length;W++)if(E.track[W].timestamp>=V){U=E.track[W];break}return U},F.prototype.pointerExists=function(E,V){var U=!1;return E.each(function(W){W!=V&&(U=W.point.x==V.point.x&&W.point.y==V.point.y)}),U},F.prototype.getInteraction=function(E){return new InteractionObject(E)},F.prototype.setTemporaryStyle=function(E,V,U){var W=E.element;hasValue(W.style[V])&&!E.replacedStyles.hasKey(V)&&E.replacedStyles.setKey(V,W.style[V]),setStyle(W,V,U)},F.prototype.restoreStyle=function(E,V){E.replacedStyles.hasKey(V)?(E.element.style[V]=E.replacedStyles.getKey(V),E.replacedStyles.removeKey(V)):delete E.element.style[V]},F.prototype.restoreAllStyles=function(E){each(E.replacedStyles.iterator(),function(V){var U=V[0],W=V[1];E.element.style[U]=W,E.replacedStyles.removeKey(U)})},F.prototype.dispose=function(){this.isDisposed()||(R.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},F.prototype.log=function(E,V,U){{if(V.changedTouches){for(var W=0;W<V.changedTouches.length;W++)this.logTouch(E,V.type,V.changedTouches[W]);return}var Y="";if(V.pointerType)switch(V.pointerType){case 2:Y="touch";break;case 4:Y="mouse";break;default:Y=V.pointerType;break}else typeof TouchEvent<"u"&&V instanceof TouchEvent?Y="touch":V.type.match(/^mouse/)?Y="mouse":Y="???";var G="";hasValue(V.identifier)?G=V.identifier:hasValue(V.pointerId)?G=V.pointerId:G="???",console.log(U?E+" ("+U.uid+")  "+V.type+"  "+Y+"  "+G:E+"  "+V.type+"  "+Y+"  "+G)}},F.prototype.areTransformed=function(E){var V=this.transformedObjects.length;if(E)for(var U=isArray$1(E)?E:[E],W=0;W<U.length;W++)this.transformedObjects.contains(U[W])&&V--;return V>0},F.prototype.logTouch=function(E,V,U){console.log(E+"  "+V+"  touch  "+U.identifier)},Object.defineProperty(F,"passiveSupported",{get:function(){var E=this;if(this._passiveSupported==null)try{var V=Object.defineProperty({},"passive",{get:function(){E._passiveSupported=!0}});window.addEventListener("test",V,V),window.removeEventListener("test",V,V)}catch{this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),F}(BaseObjectEvents),interaction=null;function getInteraction(){return interaction==null&&(interaction=new Interaction),interaction}var Popup=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.adapter=new Adapter(E),E._elements={},E._IOs={},E._content="",E._title="",E._classPrefix="ampopup",E._defaultStyles=!0,E._showCurtain=!1,E._draggable=!0,E._align="center",E._dynamicResize=!0,E._verticalAlign="middle",E._shift={x:0,y:0},E._tempShift={x:0,y:0},E._readerTitle="",E._closable=!0,E._cssLoaded=!1,E._fitTo="window",E.isTemplate=!1,E._sized=!1,E.className="Popup",E}return F.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},F.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},F.prototype.dispose=function(){this.close(),R.prototype.dispose.call(this)},F.prototype.positionElement=function(E){var V=this;E===void 0&&(E=!0),this._elements.wrapper&&setTimeout(function(){if(!!V._elements.wrapper){if(E||!V._sized){V._elements.wrapper.style.opacity="0.01",V._elements.wrapper.style.left="0",V._elements.wrapper.style.top="0",V._elements.wrapper.style.margin="0 0 0 0",V._elements.wrapper.style.width="",V._elements.wrapper.style.height="";var U=V._elements.wrapper.getBoundingClientRect();V._elements.wrapper.style.width=U.width+"px",V._elements.wrapper.style.height=U.height+"px",V._sized=!0}if(V.dynamicResize)for(var W=V._elements.wrapper.getElementsByTagName("img"),Y=0;Y<W.length;Y++){var G=W[Y];if(!G.complete){G.addEventListener("load",function(){V.positionElement(!0)});break}}setTimeout(function(){if(!!V._elements.wrapper){var X;switch((E||!V._sized)&&V._bbox?X=V._bbox:(X=V._elements.wrapper.getBoundingClientRect(),V._elements.wrapper.style.opacity=""),V.align){case"left":V._elements.wrapper.style.left="0",V._elements.wrapper.style.right="auto",V._elements.wrapper.style.marginLeft=V.toStyle(V._shift.x+V._tempShift.x);break;case"center":V._elements.wrapper.style.left="50%",V._elements.wrapper.style.right="auto",V._elements.wrapper.style.marginLeft=V.toStyle(Math.round(-X.width/2)+(V._shift.x+V._tempShift.x));break;case"right":V._elements.wrapper.style.left="auto",V._elements.wrapper.style.right="0",V._elements.wrapper.style.marginLeft=V.toStyle(V._shift.x+V._tempShift.x);break;default:V._elements.wrapper.style.left=V.toStyle(V.left)||"auto",V._elements.wrapper.style.right=V.toStyle(V.right)||"auto",V._elements.wrapper.style.marginLeft=V.toStyle(V._shift.x+V._tempShift.x);break}switch(V.verticalAlign){case"top":V._elements.wrapper.style.top="0",V._elements.wrapper.style.bottom="auto",V._elements.wrapper.style.marginTop=V.toStyle(V._shift.y+V._tempShift.y);break;case"middle":V._elements.wrapper.style.top="50%",V._elements.wrapper.style.bottom="auto",V._elements.wrapper.style.marginTop=V.toStyle(Math.round(-X.height/2)+(V._shift.y+V._tempShift.y));break;case"bottom":V._elements.wrapper.style.top="auto",V._elements.wrapper.style.bottom="0",V._elements.wrapper.style.marginTop=V.toStyle(V._shift.y+V._tempShift.y);break;default:V._elements.wrapper.style.top=V.toStyle(V.top)||"auto",V._elements.wrapper.style.bottom=V.toStyle(V.bottom)||"auto",V._elements.wrapper.style.marginTop=V.toStyle(V._shift.y+V._tempShift.y);break}}},1)}},1)},F.prototype.setupDragging=function(){var E=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",function(V){E._tempShift.x=V.shift.x,E._tempShift.y=V.shift.y,E.positionElement(!1)}),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",function(V){E._shift.x+=E._tempShift.x,E._shift.y+=E._tempShift.y,E._tempShift.x=0,E._tempShift.y=0,E.positionElement(!1)})):this._IOs.header&&(getInteraction().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},F.prototype.toStyle=function(E){return hasValue(E)?isNumber(E)?""+E+"px":E.toString():null},Object.defineProperty(F.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(E){this._classPrefix=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(E){this._content!=E&&(this._content=E,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=E,this.positionElement())},enumerable:!0,configurable:!0}),F.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},F.prototype.createContentElement=function(){if(!this._elements.wrapper){var E=this.getClassNames(),V=document.createElement("div");V.className=E.contentClass,V.style.opacity="0.01";var U=document.createElement("a");U.className=E.closeClass;var W=document.createElement("div");W.className=E.headerClass;var Y=document.createElement("div");Y.innerHTML=this.title,Y.className=E.titleClass,this.title||(Y.style.display="none");var G=document.createElement("div");G.className=E.insideClass,G.innerHTML=this.content,this._IOs.wrapper=getInteraction().getInteraction(V),this._IOs.header=getInteraction().getInteraction(W),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=getInteraction().getInteraction(U),this._disposers.push(this._IOs.close),U.style.visibility="hidden",V.setAttribute("role","dialog"),W.appendChild(U),W.appendChild(Y),V.appendChild(W),V.appendChild(G),this.container.appendChild(V),this._elements.wrapper=V,this._elements.header=W,this._elements.content=G,this._elements.title=Y,this._elements.close=U,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(F.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(E){this._title!=E&&(this._title=E,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=E,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",this._readerTitle!=""?this._readerTitle:this.title)},set:function(E){this._readerTitle!=E&&(this._readerTitle=E,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(E){E!==this._closable&&(this._closable=E,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(E){E!=this._fitTo&&(this._fitTo=E,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(E){this._defaultStyles!=E&&(this._defaultStyles=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(E){this._showCurtain!=E&&(this._showCurtain=E,this._elements.curtain&&(this._elements.curtain.style.display=E?"block":"none"))},enumerable:!0,configurable:!0}),F.prototype.createCurtainElement=function(){var E=this.getClassNames(),V=document.createElement("div");V.className=E.curtainClass,this.container.appendChild(V),this._IOs.curtain=getInteraction().getInteraction(V),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),V.style.display=this.showCurtain?"block":"none",this._elements.curtain=V},Object.defineProperty(F.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(E){this._draggable!=E&&(this._draggable=E,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(E){this._dynamicResize!=E&&(this._dynamicResize=E,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(E){this._align!=E&&(this._align=E,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(E){this._verticalAlign!=E&&(this._verticalAlign=E,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(E){this.left!=E&&(this._left=E,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(E){this.right!=E&&(this._right=E,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(E){this.top!=E&&(this._top=E,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(E){this.bottom!=E&&(this._bottom=E,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),F.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(popupCSS(getShadowRoot(this.container),this.classPrefix)),each$1(this._elements,function(E,V){V.style.display=""}),this._cssLoaded=!0)},F.prototype.applyEvents=function(){var E=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var V=[getInteraction().body.events.on("keyup",function(U){keyboard.isKey(U.event,"esc")&&E.closable&&E.close()}),this._IOs.close.events.on("hit",function(U){E.close()})];V.push(this._IOs.curtain.events.on("hit",function(U){E.showCurtain&&E.closable&&E.close()})),this._disposers.push(new MultiDisposer(V))}else this._IOs.close.element.style.visibility="hidden"},F.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},F.prototype.releasePointers=function(){hasValue(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},F.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.container=E.container,this.sprite=E.sprite,this.classPrefix=E.classPrefixRaw,this.content=E.content,this.title=E.title,this.readerTitle=E.readerTitle,this.defaultStyles=E.defaultStyles,this.showCurtain=E.showCurtain,this.align=E.align,this.verticalAlign=E.verticalAlign,this.left=E.left,this.right=E.right,this.top=E.top,this.bottom=E.bottom,this.adapter.copyFrom(E.adapter)},F}(BaseObjectEvents),Modal=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.adapter=new Adapter(E),E.className="Modal",E.showCurtain=!0,E.draggable=!1,E}return F}(Popup);function log(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];console&&console.log.apply(console,__spread(R))}function warn$1(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];console&&console.warn.apply(console,__spread(R))}var Native=function(){function R(){var F=this;this._targets=[],this._observer=new ResizeObserver(function(E){each$2(E,function(V){each$2(F._targets,function(U){U.target===V.target&&U.callback()})})})}return R.prototype.addTarget=function(F,E){this._observer.observe(F,{box:"content-box"}),this._targets.push({target:F,callback:E})},R.prototype.removeTarget=function(F){this._observer.unobserve(F),keepIf(this._targets,function(E){return E.target!==F})},R}(),Raf=function(){function R(){this._targets=[]}return R.prototype.addTarget=function(F,E){var V=this;if(this._targets.length===0){var U=null,W=function(){var G=Date.now();(U===null||G>U+R.delay)&&(U=G,each$2(V._targets,function(X){var K=X.target.getBoundingClientRect();(K.width!==X.size.width||K.height!==X.size.height)&&(X.size=K,X.callback())})),V._timer=requestAnimationFrame(W)};this._timer=requestAnimationFrame(W)}var Y=F.getBoundingClientRect();this._targets.push({target:F,callback:E,size:Y})},R.prototype.removeTarget=function(F){keepIf(this._targets,function(E){return E.target!==F}),this._targets.length===0&&cancelAnimationFrame(this._timer)},R.delay=200,R}(),observer=null;function makeSensor(){return observer===null&&(typeof ResizeObserver<"u"?observer=new Native:observer=new Raf),observer}var ResizeSensor=function(){function R(F,E){this._disposed=!1,this._sensor=makeSensor(),this._element=F,this._sensor.addTarget(F,E)}return R.prototype.isDisposed=function(){return this._disposed},R.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(R.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),R.prototype.reset=function(){warn$1("resizeSensor.reset() is no longer needed and can be removed")},R}(),svgContainers=[],SVGContainer=function(){function R(F,E){var V=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=F,E||(this._printing=!1,this.initSensor(),this._disposers.push(addEventListener$1(window,"beforeprint",function(){V._printing=!0})),this._disposers.push(addEventListener$1(window,"afterprint",function(){V._printing=!1}))),svgContainers.push(this);var U=document.createElement("div"),W=U.style;W.width="100%",W.height="100%",W.position="relative",F.appendChild(U),this.SVGContainer=U}return R.prototype.initSensor=function(){var F=this;this.resizeSensor&&this.resizeSensor.dispose();var E=function(){F.autoResize&&!F._printing&&F.measure()};this.resizeSensor=new ResizeSensor(this.htmlElement,E),this._disposers.push(this.resizeSensor)},R.prototype.measure=function(){var F=width(this.htmlElement),E=height(this.htmlElement),V=this.container;V&&((this.width!=F||this.height!=E)&&(this.width=F,this.height=E,F>0&&(V.maxWidth=F),E>0&&(V.maxHeight=E),fixPixelPerfect(this.SVGContainer)),V.maxWidth||(V.maxWidth=0),V.maxHeight||(V.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(R.prototype,"container",{get:function(){return this._container},set:function(F){this._container=F,this.measure()},enumerable:!0,configurable:!0}),R.prototype.isDisposed=function(){return this._disposed},R.prototype.dispose=function(){this._disposed||remove$1(svgContainers,this),each$2(this._disposers,function(F){F.dispose()})},Object.defineProperty(R.prototype,"hideOverflow",{set:function(F){F?this.SVGContainer.style.overflow="hidden":this.SVGContainer.style.overflow=""},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"modal",{get:function(){return hasValue(this._modal)||(this._modal=new Modal,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),R.prototype.openModal=function(F,E){this.closeModal();var V=this.modal;return V.content=F,V.readerTitle=E||"",V.title=E||"",V.open(),V},R.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(R.prototype,"popups",{get:function(){if(!hasValue(this._popups)){var F=new Popup;F.container=this.SVGContainer,this._popups=new ListTemplate(F),this._disposers.push(new ListDisposer(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),R.prototype.openPopup=function(F,E){var V=this.popups.create();return V.content=F,hasValue(E)&&(V.title=E),V.open(),V},R.prototype.closeAllPopups=function(){this.popups.each(function(F){F.close()})},Object.defineProperty(R.prototype,"readerAlertElement",{get:function(){if(!hasValue(this._readerAlertElement)){var F=document.createElement("div");F.setAttribute("role","alert"),F.style.zIndex="-100000",F.style.opacity="0",F.style.position="absolute",F.style.top="0",this.SVGContainer.appendChild(F),this._readerAlertElement=F}return this._readerAlertElement},enumerable:!0,configurable:!0}),R.prototype.readerAlert=function(F){this.readerAlertElement.innerHTML=F},R.prototype.checkTransform=function(F){if(window.getComputedStyle){if(F&&F.style){var E=window.getComputedStyle(F,null);if(E){var V=E.getPropertyValue("-webkit-transform")||E.getPropertyValue("-moz-transform")||E.getPropertyValue("-ms-transform")||E.getPropertyValue("-o-transform")||E.getPropertyValue("transform");if(V&&V!=="none"){var U=V.split("(")[1].split(")")[0].split(","),W=Number(U[0]),Y=Number(U[1]),G=Math.sqrt(W*W+Y*Y);isNaN(G)||(this.cssScale*=G)}}}F.parentNode&&F.parentNode instanceof HTMLElement&&this.checkTransform(F.parentNode)}},R}(),Paper=function(){function R(F,E){this.container=F,this.id=E;var V=document.createElementNS(SVGNS,"svg");V.setAttribute("version","1.1"),V.setAttributeNS(XMLNS,"xmlns",SVGNS),V.setAttributeNS(XMLNS,"xmlns:xlink",XLINK),V.setAttribute("role","group"),this.container.appendChild(V),this.defs=document.createElementNS(SVGNS,"defs"),V.appendChild(this.defs),V.style.width="100%",V.style.height="100%",V.style.overflow="visible",this.svg=V}return R.prototype.add=function(F){return new AMElement(F)},R.prototype.addGroup=function(F){return new Group(F)},R.prototype.append=function(F){F&&this.svg.appendChild(F.node)},R.prototype.appendDef=function(F){F&&this.defs.appendChild(F.node)},R.prototype.foreignObject=function(){var F=new AMElement("foreignObject");return F},R.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},R}(),ghostPaper=null;function getGhostPaper(){if(ghostPaper===null){var R=document.createElement("div");R.hidden=!0,R.style.width="1px",R.style.height="1px",R.style.position="absolute",R.style.zIndex="-1000000",document.body.appendChild(R);var F=new SVGContainer(R,!0);ghostPaper=new Paper(F.SVGContainer,"ghost")}return ghostPaper}var Pattern=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._elements=new List,E.properties={},E.className="Pattern",E.width=10,E.height=10,E.x=0,E.y=0,E.patternUnits="userSpaceOnUse";var V=new InterfaceColorSet;return E.backgroundFill=V.getFor("background"),E.backgroundOpacity=0,E.fillOpacity=1,E.fill=V.getFor("alternativeBackground"),E.stroke=V.getFor("alternativeBackground"),E.strokeOpacity=1,E.strokeWidth=1,E.shapeRendering="crispEdges",E.rotation=0,E.element=E.paper.addGroup("pattern"),E.id="pattern-"+registry.getUniqueId(),E.element.attr({id:E.id}),E._disposers.push(E.element),E._disposers.push(new ListDisposer(E._elements)),E.patternUnits=E.patternUnits,E.width=E.width,E.height=E.height,E.applyTheme(),E}return F.prototype.draw=function(){var E=this,V=this.element;if(V){V.removeChildNodes();var U=this.paper.add("rect");U.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),V.add(U),V.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),each(this._elements.iterator(),function(W){W.rotation=E.rotation,W.rotationX=E.properties.rotationX,W.rotationY=E.properties.rotationY,E.element.add(W)})}},F.prototype.animate=function(E,V,U){return new Animation(this,E,V,U).start()},F.prototype.addElement=function(E){this._elements.push(E),this._disposers.push(E)},F.prototype.removeElement=function(E){this._elements.removeValue(E),this.removeDispose(E)},Object.defineProperty(F.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(E){this.properties.fillOpacity=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fill",{get:function(){return this.properties.fill},set:function(E){this.properties.fill=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(E){this.properties.backgroundFill=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(E){this.properties.backgroundOpacity=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(E){this.properties.stroke=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(E){this.properties.strokeOpacity=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(E){this.properties.strokeWidth=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(E){this.properties.shapeRendering=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(E){this.properties.rotation=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(E){this.properties.patternUnits=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"width",{get:function(){return this.properties.width},set:function(E){this.properties.width=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"height",{get:function(){return this.properties.height},set:function(E){this.properties.height=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"x",{get:function(){return this.properties.x},set:function(E){this.properties.x=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"y",{get:function(){return this.properties.y},set:function(E){this.properties.y=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(E){this._paper!=E&&(this._paper=E,this.draw(),E.appendDef(this.element))},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){var V=this;R.prototype.copyFrom.call(this,E),each$1(E.properties,function(U,W){V[U]=W})},Object.defineProperty(F.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(E){this.properties.strokeDashArray=E,this.draw()},enumerable:!0,configurable:!0}),F.prototype.processConfig=function(E){if(E&&hasValue(E.elements)&&isArray$1(E.elements))for(var V=0,U=E.elements.length;V<U;V++){var W=E.elements[V];if(hasValue(W.type)){var Y=this.createEntryInstance(W);Y instanceof BaseObject&&(Y.config=W),this.addElement(hasValue(W.typeProperty)?Y[W.typeProperty]:Y.element)}}R.prototype.processConfig.call(this,E)},F}(BaseObject);registry.registeredClasses.Pattern=Pattern;var LinearGradient=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._stops=new List,E._rotation=0,E.className="LinearGradient",E._stops.events.on("setIndex",E.validate,E),E._stops.events.on("inserted",E.validate,E),E.element=E.paper.addGroup("linearGradient"),E.id="gradient-"+registry.getUniqueId(),E.element.attr({id:E.id}),E._disposers.push(E.element),E.applyTheme(),E}return F.prototype.validate=function(){var E=this,V=(this._rotation+90)*RADIANS,U=Math.round(50+Math.sin(V+Math.PI)*50)+"%",W=Math.round(50+Math.cos(V)*50)+"%",Y=Math.round(50+Math.sin(V)*50)+"%",G=Math.round(50+Math.cos(V+Math.PI)*50)+"%",X=this.element;X.removeChildNodes(),X.attr({x1:U,x2:Y,y1:W,y2:G}),each(indexed(this._stops.iterator()),function(K){var Z=K[0],J=K[1],Q=J.offset;isNumber(Q)||(Q=Z/(E._stops.length-1));var ee=E.paper.add("stop");hasValue(J.color)&&ee.attr({"stop-color":J.color.toString()}),isNumber(J.opacity)&&ee.attr({"stop-opacity":J.opacity}),isNumber(Q)&&ee.attr({offset:Q}),X.add(ee)})},F.prototype.clear=function(){this._stops.clear()},F.prototype.addColor=function(E,V,U){this._stops.push({color:E,opacity:V,offset:U})},Object.defineProperty(F.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(E){this._paper!=E&&(this._paper=E,this.validate(),E.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rotation",{get:function(){return this._rotation},set:function(E){this._rotation=E,this.validate()},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.stops.copyFrom(E.stops),this._rotation=E.rotation},Object.defineProperty(F.prototype,"gradientUnits",{set:function(E){this.element.attr({gradientUnits:E})},enumerable:!0,configurable:!0}),F}(BaseObject);registry.registeredClasses.LinearGradient=LinearGradient;var RadialGradient=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._stops=new List,E.element=E.paper.addGroup("radialGradient"),E.id="gradient-"+registry.getUniqueId(),E.element.attr({id:E.id}),E._disposers.push(E.element),E.applyTheme(),E}return F.prototype.draw=function(){var E=this,V=this.element;if(isNumber(this.cx)){var U=this.cx;U instanceof Percent&&(U=U.percent+"%"),V.attr({cx:U})}if(isNumber(this.cy)){var U=this.cy;U instanceof Percent&&(U=U.percent+"%"),V.attr({cy:U})}if(this.fx){var U=this.fx;U instanceof Percent&&(U=U.percent+"%"),V.attr({fx:U})}if(this.fy){var U=this.fy;U instanceof Percent&&(U=U.percent+"%"),V.attr({fy:U})}V.removeChildNodes(),each(indexed(this._stops.iterator()),function(W){var Y=W[0],G=W[1],X=G.offset;isNumber(X)||(X=Y/(E._stops.length-1));var K=E.paper.add("stop");hasValue(G.color)&&K.attr({"stop-color":G.color.toString()}),isNumber(G.opacity)&&K.attr({"stop-opacity":G.opacity}),isNumber(X)&&K.attr({offset:X}),V.add(K)})},F.prototype.addColor=function(E,V,U){this._stops.push({color:E,opacity:V,offset:U}),this.draw()},Object.defineProperty(F.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(E){this._paper!=E&&(this._paper=E,this.draw(),E.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cx",{get:function(){return this._cx},set:function(E){this._cx=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cy",{get:function(){return this._cy},set:function(E){this._cy=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fx",{get:function(){return this._fx},set:function(E){this._fx=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fy",{get:function(){return this._fy},set:function(E){this._fy=E,this.draw()},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.stops.copyFrom(E.stops),this.cx=E.cx,this.cy=E.cy,this.fx=E.fx,this.fy=E.fy},Object.defineProperty(F.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),F.prototype.clear=function(){this._stops.clear()},F}(BaseObject);registry.registeredClasses.RadialGradient=RadialGradient;var MouseCursorStyle=function(){function R(){}return R.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],R.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],R.pointer=[{property:"cursor",value:"pointer"}],R.default=[{property:"cursor",value:"default"}],R.horizontalResize=[{property:"cursor",value:"ew-resize"}],R.verticalResize=[{property:"cursor",value:"ns-resize"}],R.notAllowed=[{property:"cursor",value:"not-allowed"}],R.text=[{property:"cursor",value:"text"}],R}();const en={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(R){var F="th";if(R<11||R>13)switch(R%10){case 1:F="st";break;case 2:F="nd";break;case 3:F="rd";break}return F},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};var Language=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.adapter=new Adapter(E),E._locale=en,E._defaultLocale=en,E.className="Language",hasValue(options.defaultLocale)&&(E.locale=options.defaultLocale),E.applyTheme(),E}return F.prototype.getLocale=function(E){return E==null&&(E=this._locale),this.adapter.apply("locale",{locale:E}).locale},F.prototype.translate=function(E,V){for(var U=[],W=2;W<arguments.length;W++)U[W-2]=arguments[W];V=this.getLocale(V);var Y=E,G=this.getTranslations(V),X=G[E];if(X===null)Y="";else if(hasValue(X))X&&(Y=X);else if(V!==this._defaultLocale)return this.translate.apply(this,__spread([E,this._defaultLocale],U));if(U.length)for(var K=U.length,Z=0;Z<K;++Z)Y=Y.split("%"+(Z+1)).join(U[Z]);return this.adapter.apply("translate",{translation:Y,locale:V}).translation},F.prototype.translateAny=function(E,V){for(var U=[],W=2;W<arguments.length;W++)U[W-2]=arguments[W];return this.translate.apply(this,__spread([E,V],U))},F.prototype.setTranslationAny=function(E,V,U){var W=U||this.locale;W[E]=V},F.prototype.translateEmpty=function(E,V){for(var U=[],W=2;W<arguments.length;W++)U[W-2]=arguments[W];var Y=this.translate.apply(this,__spread([E,V],U));return Y==E?"":Y},F.prototype.translateFunc=function(E,V){V=this.getLocale(V);var U=this.getTranslations(V),W=U[E];return W!=null?W:V!==this._defaultLocale?this.translateFunc(E,this._defaultLocale):function(){return""}},F.prototype.translateAll=function(E,V){var U=this;return this.isDefault()?E:map$2(E,function(W){return U.translate(W,V)})},F.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(F.prototype,"locale",{get:function(){return this._locale},set:function(E){if(this._locale!=E&&(this._locale=E,this.events.isEnabled("localechanged"))){var V={type:"localechanged",locale:E,target:this};this.events.dispatchImmediately("localechanged",V)}},enumerable:!0,configurable:!0}),F.prototype.getTranslations=function(E){return this.adapter.apply("translations",{translations:E,locale:E}).translations},F}(BaseObjectEvents),TextFormatter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.adapter=new Adapter(E),E.className="TextFormatter",E.applyTheme(),E}return F.prototype.debug=function(){},F.prototype.format=function(E,V){hasValue(V)||(V="svg");var U="";E=this.escape(E);var W=E.match(/\[([^\]]*?)\]/gm);if(!W)return this.wrap(E,"",V);for(var Y=E.split(/\[[^\[\]]*\]/),G=0,X=Y.length;G<X;G++){var K=Y[G];if(K!==""){K=this.adapter.apply("chunk",K);var Z="";G>0&&(Z=W[G-1].replace("[","").replace("]","")),U+=this.wrap(K,Z,V)}}return U=this.unescape(U),this.cleanUp(U)},F.prototype.escape=function(E){return E.replace(/\[\[/g,registry.getPlaceholder("1")).replace(/([^\/\]]{1})\]\]/g,"$1"+registry.getPlaceholder("2")).replace(/\]\]/g,registry.getPlaceholder("2")).replace(/\{\{/g,registry.getPlaceholder("3")).replace(/\}\}/g,registry.getPlaceholder("4")).replace(/\'\'/g,registry.getPlaceholder("5"))},F.prototype.unescape=function(E){return E.replace(new RegExp(registry.getPlaceholder("1"),"g"),"[[").replace(new RegExp(registry.getPlaceholder("2"),"g"),"]]").replace(new RegExp(registry.getPlaceholder("3"),"g"),"{{").replace(new RegExp(registry.getPlaceholder("4"),"g"),"}}").replace(new RegExp(registry.getPlaceholder("5"),"g"),"''")},F.prototype.cleanUp=function(E){return E.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},F.prototype.wrap=function(E,V,U){switch((V===""||V==="/")&&(V=""),U){case"html":return this.wrapHtml(E,this.translateStyleShortcuts(V));default:return this.wrapSvg(E,this.translateStyleShortcuts(V))}},F.prototype.wrapSvg=function(E,V){return V===""?"<tspan>"+E+"</tspan>":"<tspan style='"+V+"'>"+E+"</tspan>"},F.prototype.getSvgElement=function(E,V){var U=new AMElement("tspan");return U.textContent=E,V&&U.node.setAttribute("style",V),U},F.prototype.wrapHtml=function(E,V){return V===""?"<span>"+E+"</span>":"<span style='"+this.styleSvgToHtml(V)+"'>"+E+"</span>"},F.prototype.getHtmlElement=function(E,V){var U=document.createElement("span");return U.innerHTML=E,V&&U.setAttribute("style",V),U},F.prototype.styleSvgToHtml=function(E){return E=E.replace(/fill:/,"color:"),E},F.prototype.translateStyleShortcuts=function(E){if(E==""||E=="[ ]")return"";var V=registry.getCache("translateStyleShortcuts_"+E);if(V)return V;var U=E.match(/('[^']*')|("[^"]*")/gi);if(U)for(var W=0;W<U.length;W++)E=E.replace(U[W],U[W].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var Y=E.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!Y)return E;for(var W=0;W<Y.length;W++)Y[W].match(/^bold$/i)?Y[W]="font-weight:"+Y[W]:Y[W]=="/"?Y[W]="":Y[W].match(/:/)?Y[W]=Y[W].replace(/\+/g," "):Y[W]="fill:"+Y[W];var G=Y.join(";");return registry.setCache("translateStyleShortcuts_"+E,G),G},F.prototype.chunk=function(E,V,U){V===void 0&&(V=!1),U===void 0&&(U=!1);var W=[];E=this.escape(E);for(var Y=V?E.split("'"):[E],G=0;G<Y.length;G++){var X=Y[G];if(X!=="")if(G%2===0){X=X.replace(/\]\[/g,"]"+PLACEHOLDER+"["),X=X.replace(/\[\]/g,"[ ]");for(var K=X.split(/[\[\]]+/),Z=0;Z<K.length;Z++){var J=this.cleanUp(this.unescape(K[Z]));J!==PLACEHOLDER&&J!==""&&(Z%2===0?W.push({type:"value",text:this.adapter.apply("chunk",J)}):W.push({type:U?"value":"format",text:"["+J+"]"}))}}else for(var K=X.split(/[\[\]]+/),Z=0;Z<K.length;Z++){var J=this.cleanUp(this.unescape(K[Z]));J!==""&&(Z%2===0?W.push({type:"text",text:J}):this.isImage(J)?W.push({type:"image",text:"["+J+"]"}):W.push({type:"format",text:"["+J+"]"}))}}return W},F.prototype.isImage=function(E){return!!E.match(/img[ ]?:/)},F}(BaseObject),formatter;function getTextFormatter(){return formatter==null&&(formatter=new TextFormatter),formatter}registry.registeredClasses.TextFormatter=TextFormatter;var NumberFormatter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._negativeBase=0,E._numberFormat="#,###.#####",E._outputFormat="svg",E._smallNumberThreshold=1,E._forceLTR=!1,E.className="NumberFormatter",E.applyTheme(),E}return F.prototype.dispose=function(){R.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(F.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new Language),this._language},set:function(E){this._language=E},enumerable:!0,configurable:!0}),F.prototype.format=function(E,V,U){(typeof V>"u"||isString$1(V)&&V.toLowerCase()==="number")&&(V=this._numberFormat);var W,Y=Number(E);if(isObject$1(V))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,V).format(Y):new Intl.NumberFormat(void 0,V).format(Y)}catch{return"Invalid"}else{V=cleanFormat(V);var G=this.parseFormat(V,this.language),X=void 0;Y>this._negativeBase?X=G.positive:Y<this._negativeBase?X=G.negative:X=G.zero,hasValue(U)&&!X.mod&&(X=clone(X),X.decimals.active=Y==0?0:U),W=X.template.split(PLACEHOLDER).join(this.applyFormat(Y,X))}return this.forceLTR&&(W="\u200E"+W),W},F.prototype.parseFormat=function(E,V){var U=this,W=this.getCache(E);if(hasValue(W))return W;var Y={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:V.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:V.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:V.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:V.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:V.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:V.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}};E=E.replace("||",PLACEHOLDER2);var G=E.split("|");return Y.positive.source=G[0],typeof G[2]>"u"?Y.zero=Y.positive:Y.zero.source=G[2],typeof G[1]>"u"?Y.negative=Y.positive:Y.negative.source=G[1],each$1(Y,function(X,K){if(!K.parsed){if(typeof U.getCache(K.source)<"u"){Y[X]=U.getCache(K.source);return}var Z=K.source;Z.toLowerCase()==="number"&&(Z=isString$1(U._numberFormat)?U._numberFormat:"#,###.#####");for(var J=getTextFormatter().chunk(Z,!0),Q=0;Q<J.length;Q++){var ee=J[Q];if(ee.text=ee.text.replace(PLACEHOLDER2,"|"),ee.type==="value"){var te=ee.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);if(te)if(te===null||te[0]==="")K.template+=ee.text;else{var ie=te[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);ie&&(K.mod=ie[0].toLowerCase(),K.modSpacing=!!te[0].match(/[ ]{1}[abespABESP%!]{1}$/));var ne=te[0].split(".");if(ne[0]!==""){K.thousands.active=(ne[0].match(/0/g)||[]).length,K.thousands.passive=(ne[0].match(/\#/g)||[]).length+K.thousands.active;var ae=ne[0].split(",");ae.length===1||(K.thousands.interval=getValue(ae.pop()).length,K.thousands.interval===0&&(K.thousands.interval=-1))}typeof ne[1]>"u"||(K.decimals.active=(ne[1].match(/0/g)||[]).length,K.decimals.passive=(ne[1].match(/\#/g)||[]).length+K.decimals.active),K.template+=ee.text.split(te[0]).join(PLACEHOLDER)}}else K.template+=ee.text}U.setCache(K.source,K),K.parsed=!0}}),this.setCache(E,Y),Y},F.prototype.applyFormat=function(E,V){var U=E<0;E=Math.abs(E);var W="",Y="",G=V.mod?V.mod.split(""):[];if(G.indexOf("b")!==-1){var X=this.applyPrefix(E,this.bytePrefixes,G.indexOf("!")!==-1);E=X[0],W=X[1],Y=X[2],V.modSpacing&&(Y=" "+Y)}else if(G.indexOf("a")!==-1){var K=this.applyPrefix(E,E<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,G.indexOf("!")!==-1);E=K[0],W=K[1],Y=K[2],V.modSpacing&&(Y=" "+Y)}else if(G.indexOf("p")!==-1){var Z=Math.min(E.toString().length+2,21);E=parseFloat(E.toPrecision(Z)),W=this.language.translate("_percentPrefix")||"",Y=this.language.translate("_percentSuffix")||"",W==""&&Y==""&&(Y="%")}else if(G.indexOf("%")!==-1){var Z=min$2(E.toString().length+2,21);E*=100,E=parseFloat(E.toPrecision(Z)),Y="%"}else if(G.indexOf("\u2030")!==-1){var Z=min$2(E.toString().length+3,21);E*=1e3,E=parseFloat(E.toPrecision(Z)),Y="\u2030"}if(G.indexOf("e")!==-1){var J=void 0;V.decimals.passive>=0?J=E.toExponential(V.decimals.passive).split("e"):J=E.toExponential().split("e"),E=Number(J[0]),Y="e"+J[1],V.modSpacing&&(Y=" "+Y)}else if(V.decimals.passive===0)E=Math.round(E);else if(V.decimals.passive>0){var Q=Math.pow(10,V.decimals.passive);E=Math.round(E*Q)/Q}var ee="",te=numberToString(E).split("."),ie=te[0];if(ie.length<V.thousands.active&&(ie=Array(V.thousands.active-ie.length+1).join("0")+ie),V.thousands.interval>0){for(var ne=[],ae=ie.split("").reverse().join(""),se=0,oe=ie.length;se<=oe;se+=V.thousands.interval){var le=ae.substr(se,V.thousands.interval).split("").reverse().join("");le!==""&&ne.unshift(le)}ie=ne.join(V.thousands.separator)}ee+=ie,te.length===1&&te.push("");var ue=te[1];return ue.length<V.decimals.active&&(ue+=Array(V.decimals.active-ue.length+1).join("0")),ue!==""&&(ee+=V.decimals.separator+ue),ee===""&&(ee="0"),E!==0&&U&&G.indexOf("s")===-1&&(ee="-"+ee),W&&(ee=W+ee),Y&&(ee+=Y),ee},F.prototype.applyPrefix=function(E,V,U){U===void 0&&(U=!1);for(var W=E,Y="",G="",X=!1,K=1,Z=0,J=V.length;Z<J;Z++)V[Z].number<=E&&(V[Z].number===0?W=0:(W=E/V[Z].number,K=V[Z].number),Y=V[Z].prefix,G=V[Z].suffix,X=!0);return!X&&U&&V.length&&E!=0&&(W=E/V[0].number,Y=V[0].prefix,G=V[0].suffix,X=!0),X&&(W=parseFloat(W.toPrecision(min$2(K.toString().length+Math.floor(W).toString().replace(/[^0-9]*/g,"").length,21)))),[W,Y,G]},F.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(F.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(E){this._numberFormat=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(E){this._intlLocales=E,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(E){this._negativeBase=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bigNumberPrefixes",{get:function(){return hasValue(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(E){this._bigNumberPrefixes=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"smallNumberPrefixes",{get:function(){return hasValue(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(E){this._smallNumberPrefixes=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(E){this._smallNumberThreshold=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bytePrefixes",{get:function(){return hasValue(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(E){this._bytePrefixes=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(E){this._outputFormat=E.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"forceLTR",{get:function(){return this._forceLTR},set:function(E){this._forceLTR=E,this.invalidateSprite()},enumerable:!0,configurable:!0}),F.prototype.escape=function(E){return E.replace("||",PLACEHOLDER2)},F.prototype.unescape=function(E){return E.replace(PLACEHOLDER2,"|")},F}(BaseObject);registry.registeredClasses.NumberFormatter=NumberFormatter;var DateFormatter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._dateFormat="yyyy-MM-dd",E._inputDateFormat="yyyy-MM-dd",E._utc=!1,E.timezoneMinutes=0,E._firstDayOfWeek=1,E.months=["January","February","March","April","May","June","July","August","September","October","November","December"],E.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],E.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],E.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E._outputFormat="svg",E.capitalize=!0,E.className="DateFormatter",E.applyTheme(),E}return Object.defineProperty(F.prototype,"language",{get:function(){return this._language},set:function(E){this._language=E,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),F.prototype.format=function(E,V,U){this.language||(this.sprite?this.language=this.sprite.language:this.language=new Language),(typeof V>"u"||V==="")&&(V=this._dateFormat);var W,Y;if(isString$1(E)?Y=this.parse(E):Y=anyToDate(E),isObject$1(V))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,V).format(Y):new Intl.DateTimeFormat(void 0,V).format(Y)}catch{return"Invalid"}else{V=cleanFormat(V);var G=this.parseFormat(V);if(hasValue(this.timezoneOffset)?Y.setMinutes(Y.getMinutes()+Y.getTimezoneOffset()-this.timezoneOffset):hasValue(this.timezone)&&U!==!1&&(Y=setTimezone(Y,this.timezone)),!isNumber(Y.getTime()))return this.language.translate("Invalid date");W=this.applyFormat(Y,G,this.language),this.capitalize&&(W=W.replace(/^.{1}/,W.substr(0,1).toUpperCase()))}return W},F.prototype.parseFormat=function(E){var V=this.getCache(E);if(hasValue(V))return V;for(var U={template:"",parts:[]},W=getTextFormatter().chunk(E,!0),Y=0;Y<W.length;Y++){var G=W[Y];if(G.type==="value"){G.text.match(/^date$/i)&&isString$1(this._dateFormat)&&(G.text=this._dateFormat);var X=G.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(X)for(var K=0;K<X.length;K++)U.parts.push(X[K]),G.text=G.text.replace(X[K],PLACEHOLDER)}U.template+=G.text}return this.setCache(E,U),U},F.prototype.applyFormat=function(E,V,U){var W=V.template,Y,G,X,K,Z,J,Q,ee,te=E.getTimezoneOffset(),ie=E.getTime();this.utc?(Y=E.getUTCFullYear(),G=E.getUTCMonth(),X=E.getUTCDay(),K=E.getUTCDate(),Z=E.getUTCHours(),J=E.getUTCMinutes(),Q=E.getUTCSeconds(),ee=E.getUTCMilliseconds()):(Y=E.getFullYear(),G=E.getMonth(),X=E.getDay(),K=E.getDate(),Z=E.getHours(),J=E.getMinutes(),Q=E.getSeconds(),ee=E.getMilliseconds());for(var ne=0,ae=V.parts.length;ne<ae;ne++){var se="";switch(V.parts[ne]){case"G":se=U.translate(Y<0?"_era_bc":"_era_ad");break;case"yyyy":se=Math.abs(Y).toString(),Y<0&&(se+=U.translate("_era_bc"));break;case"yyy":case"yy":case"y":se=Math.abs(Y).toString().substr(-V.parts[ne].length),Y<0&&(se+=U.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var oe=getWeek(E),le=Y;oe==1&&X>4&&le--,V.parts[ne]=="YYYY"?se=Math.abs(le).toString():se=Math.abs(le).toString().substr(-V.parts[ne].length),le<0&&(se+=U.translate("_era_bc"));break;case"u":break;case"q":se=""+Math.ceil((E.getMonth()+1)/3);break;case"MMMMM":se=U.translate(this.months[G]).substr(0,1);break;case"MMMM":se=U.translate(this.months[G]);break;case"MMM":se=U.translate(this.monthsShort[G]);break;case"MM":se=padString(G+1,2,"0");break;case"M":se=(G+1).toString();break;case"ww":se=padString(getWeek(E,this.utc),2,"0");break;case"w":se=getWeek(E,this.utc).toString();break;case"W":se=getMonthWeek(E,this.utc).toString();break;case"dd":se=padString(K,2,"0");break;case"d":se=K.toString();break;case"DD":case"DDD":se=padString(getYearDay(E,this.utc).toString(),V.parts[ne].length,"0");break;case"D":se=getYearDay(E,this.utc).toString();break;case"F":break;case"g":break;case"t":se=U.translateFunc("_dateOrd").call(this,K);break;case"E":se=(X||7).toString();break;case"EE":se=padString((X||7).toString(),2,"0");break;case"EEE":case"eee":se=U.translate(this.weekdaysShort[X]);break;case"EEEE":case"eeee":se=U.translate(this.weekdays[X]);break;case"EEEEE":case"eeeee":se=U.translate(this.weekdays[X]).substr(0,1);break;case"e":case"ee":se=(X-this.firstDayOfWeek+1).toString(),V.parts[ne]=="ee"&&(se=padString(se,2,"0"));break;case"a":Z>=12?se=U.translate("PM"):se=U.translate("AM");break;case"aa":Z>=12?se=U.translate("P.M."):se=U.translate("A.M.");break;case"aaa":Z>=12?se=U.translate("P"):se=U.translate("A");break;case"h":se=get12Hours(Z).toString();break;case"hh":se=padString(get12Hours(Z),2,"0");break;case"H":se=Z.toString();break;case"HH":se=padString(Z,2,"0");break;case"K":se=get12Hours(Z,0).toString();break;case"KK":se=padString(get12Hours(Z,0),2,"0");break;case"k":se=(Z+1).toString();break;case"kk":se=padString(Z+1,2,"0");break;case"m":se=J.toString();break;case"mm":se=padString(J,2,"0");break;case"s":se=Q.toString();break;case"ss":se=padString(Q,2,"0");break;case"S":case"SS":case"SSS":se=Math.round(ee/1e3*Math.pow(10,V.parts[ne].length)).toString();break;case"x":se=ie.toString();break;case"n":case"nn":case"nnn":se=padString(ee,V.parts[ne].length,"0");break;case"z":se=getTimeZone(E,!1,!1,this.utc);break;case"zz":se=getTimeZone(E,!0,!1,this.utc);break;case"zzz":se=getTimeZone(E,!1,!0,this.utc);break;case"zzzz":se=getTimeZone(E,!0,!0,this.utc);break;case"Z":case"ZZ":var ue=Math.abs(te)/60,ce=Math.floor(ue),he=ue*60-ce*60;this.utc&&(ce=0,he=0),V.parts[ne]=="Z"?(se="GMT",se+=te>0?"-":"+",se+=padString(ce,2)+":"+padString(he,2)):(se=te>0?"-":"+",se+=padString(ce,2)+padString(he,2));break;case"i":se=E.toISOString();break;case"I":se=E.toUTCString();break}W=W.replace(PLACEHOLDER,se)}return W},F.prototype.parse=function(E,V){if(hasValue(V)||(V=this.inputDateFormat),E instanceof Date)return E;if(typeof E=="number")return new Date(E);typeof E!="string"&&(E=E.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new Language);var U,W="";V=cleanFormat(V),V=V.substr(0,E.length);for(var Y=this.parseFormat(V),G={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},X={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},K=0,Z=0,J=0;J<Y.parts.length;J++){switch(Z=J+K+1,Y.parts[J]){case"yyyy":case"YYYY":W+="([0-9]{4})",G.year=Z;break;case"yyy":case"YYY":W+="([0-9]{3})",G.year3=Z;break;case"yy":case"YY":W+="([0-9]{2})",G.year2=Z;break;case"y":case"Y":W+="([0-9]{1})",G.year1=Z;break;case"MMMM":W+="("+this.getStringList(this.months).join("|")+")",G.monthLong=Z;break;case"MMM":W+="("+this.getStringList(this.monthsShort).join("|")+")",G.monthShort=Z;break;case"MM":case"M":W+="([0-9]{2}|[0-9]{1})",G.month=Z;break;case"ww":case"w":W+="([0-9]{2}|[0-9]{1})",G.week=Z;break;case"dd":case"d":W+="([0-9]{2}|[0-9]{1})",G.day=Z;break;case"DDD":case"DD":case"D":W+="([0-9]{3}|[0-9]{2}|[0-9]{1})",G.yearDay=Z;break;case"dddd":W+="("+this.getStringList(this.weekdays).join("|")+")",G.weekdayLong=Z;break;case"ddd":W+="("+this.getStringList(this.weekdaysShort).join("|")+")",G.weekdayShort=Z;break;case"aaa":case"aa":case"a":W+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",G.am=Z;break;case"hh":case"h":W+="([0-9]{2}|[0-9]{1})",G.hour12Base1=Z;break;case"HH":case"H":W+="([0-9]{2}|[0-9]{1})",G.hourBase0=Z;break;case"KK":case"K":W+="([0-9]{2}|[0-9]{1})",G.hour12Base0=Z;break;case"kk":case"k":W+="([0-9]{2}|[0-9]{1})",G.hourBase1=Z;break;case"mm":case"m":W+="([0-9]{2}|[0-9]{1})",G.minute=Z;break;case"ss":case"s":W+="([0-9]{2}|[0-9]{1})",G.second=Z;break;case"SSS":case"SS":case"S":W+="([0-9]{3}|[0-9]{2}|[0-9]{1})",G.millisecond=Z,G.millisecondDigits=Y.parts[J].length;break;case"nnn":case"nn":case"n":W+="([0-9]{3}|[0-9]{2}|[0-9]{1})",G.millisecond=Z;break;case"x":W+="([0-9]{1,})",G.timestamp=Z;break;case"Z":W+="GMT([-+]+[0-9]{2}:[0-9]{2})",G.zone=Z;break;case"ZZ":W+="([\\-+]+[0-9]{2}[0-9]{2})",G.zone=Z;break;case"i":W+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",G.iso=Z,K+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":K--;break}W+="[^0-9]*"}var Q=new RegExp(W),ee=E.match(Q);if(ee){if(G.year>-1&&(X.year=parseInt(ee[G.year])),G.year3>-1){var te=parseInt(ee[G.year3]);te+=1e3,X.year=te}if(G.year2>-1){var te=parseInt(ee[G.year2]);te>50?te+=1e3:te+=2e3,X.year=te}if(G.year1>-1){var te=parseInt(ee[G.year1]);te=Math.floor(new Date().getFullYear()/10)*10+te,X.year=te}if(G.monthLong>-1&&(X.month=this.resolveMonth(ee[G.monthLong])),G.monthShort>-1&&(X.month=this.resolveShortMonth(ee[G.monthShort])),G.month>-1&&(X.month=parseInt(ee[G.month])-1),G.week>-1&&G.day===-1&&(X.month=0,X.day=getDayFromWeek(parseInt(ee[G.week]),X.year,1,this.utc)),G.day>-1&&(X.day=parseInt(ee[G.day])),G.yearDay>-1&&(X.month=0,X.day=parseInt(ee[G.yearDay])),G.hourBase0>-1&&(X.hour=parseInt(ee[G.hourBase0])),G.hourBase1>-1&&(X.hour=parseInt(ee[G.hourBase1])-1),G.hour12Base0>-1){var te=parseInt(ee[G.hour12Base0]);te==11&&(te=0),G.am>-1&&!this.isAm(ee[G.am])&&(te+=12),X.hour=te}if(G.hour12Base1>-1){var te=parseInt(ee[G.hour12Base1]);te==12&&(te=0),G.am>-1&&!this.isAm(ee[G.am])&&(te+=12),X.hour=te}if(G.minute>-1&&(X.minute=parseInt(ee[G.minute])),G.second>-1&&(X.second=parseInt(ee[G.second])),G.millisecond>-1){var te=parseInt(ee[G.millisecond]);G.millisecondDigits==2?te*=10:G.millisecondDigits==1&&(te*=100),X.millisecond=te}if(G.timestamp>-1){X.timestamp=parseInt(ee[G.timestamp]);var ie=new Date(X.timestamp);X.year=ie.getUTCFullYear(),X.month=ie.getUTCMonth(),X.day=ie.getUTCDate(),X.hour=ie.getUTCHours(),X.minute=ie.getUTCMinutes(),X.second=ie.getUTCSeconds(),X.millisecond=ie.getUTCMilliseconds()}G.zone>-1&&(X.offset=this.resolveTimezoneOffset(new Date(X.year,X.month,X.day),ee[G.zone])),G.iso>-1&&(X.year=toNumber(ee[G.iso+0]),X.month=toNumber(ee[G.iso+1])-1,X.day=toNumber(ee[G.iso+2]),X.hour=toNumber(ee[G.iso+3]),X.minute=toNumber(ee[G.iso+4]),X.second=toNumber(ee[G.iso+5]),X.millisecond=toNumber(ee[G.iso+6]),ee[G.iso+7]=="Z"||ee[G.iso+7]=="z"?X.utc=!0:ee[G.iso+7]!=""&&(X.offset=this.resolveTimezoneOffset(new Date(X.year,X.month,X.day),ee[G.iso+7]))),X.utc?U=new Date(Date.UTC(X.year,X.month,X.day,X.hour,X.minute,X.second,X.millisecond)):U=new Date(X.year,X.month,X.day,X.hour,X.minute+X.offset,X.second,X.millisecond)}else U=new Date(E);return U},F.prototype.resolveTimezoneOffset=function(E,V){var U=V.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);if(U){var W=getValue(V.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),Y=W[1],G=W[2],X=W[3],K=parseInt(G)*60+parseInt(X);Y=="+"&&(K*=-1);var Z=(E||new Date).getTimezoneOffset(),J=K-Z;return J}return 0},F.prototype.resolveMonth=function(E){var V=this.months.indexOf(E);return V>-1||this.language&&!this.language.isDefault()&&(V=this.language.translateAll(this.months).indexOf(E),V>-1)?V:0},F.prototype.resolveShortMonth=function(E){var V=this.monthsShort.indexOf(E);return V>-1||(V=this.months.indexOf(E),V>-1)||this.language&&!this.language.isDefault()&&(V=this.language.translateAll(this.monthsShort).indexOf(E),V>-1)?V:0},F.prototype.isAm=function(E){var V=this.getStringList(["AM","A.M.","A"]);return V.indexOf(E.toUpperCase())>-1},F.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},F.prototype.getStringList=function(E){for(var V=[],U=0;U<E.length;U++)this.language?V.push(escapeForRgex(this.language.translate(E[U]))):V.push(escapeForRgex(E[U]));return V},Object.defineProperty(F.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(E){this._dateFormat=E,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(E){this._inputDateFormat=E,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(E){this._intlLocales=E,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"utc",{get:function(){return this._utc},set:function(E){this._utc=E,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(E){this._timezoneOffset!=E&&(this._timezoneOffset=E,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"timezone",{get:function(){return this._timezone},set:function(E){this._timezone!=E&&(this._timezone=E,this.timezoneMinutes=getTimezoneMinutes(E),this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(E){this._firstDayOfWeek=E,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(E){this._outputFormat=E.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),F}(BaseObject);registry.registeredClasses.DateFormatter=DateFormatter;var DurationFormatter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._negativeBase=0,E._baseUnit="second",E._outputFormat="svg",E._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},E._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},E.className="DurationFormatter",E.applyTheme(),E}return F.prototype.format=function(E,V,U){this.language||(this.sprite?this.language=this.sprite.language:this.language=new Language);var W=U||this._baseUnit;(typeof V>"u"||V==="")&&(hasValue(this.durationFormat)?V=this.durationFormat:V=this.getFormat(toNumber(E),null,W)),V=cleanFormat(V);var Y=this.parseFormat(V,W),G=Number(E),X;G>this._negativeBase?X=Y.positive:G<this._negativeBase?X=Y.negative:X=Y.zero;var K=this.applyFormat(G,X);return X.color!==""&&(this._outputFormat==="svg"?K="<tspan fill='"+X.color+"'>"+K+"</tspan>":this._outputFormat==="html"&&(K="<span style='color: "+X.color+";'>"+K+"</span>")),K},F.prototype.parseFormat=function(E,V){var U=this,W=this.getCache(E);if(hasValue(W))return W;var Y=V||this._baseUnit,G={positive:{color:"",template:"",parts:[],source:"",baseUnit:Y,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:Y,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:Y,parsed:!1,absolute:!1}};E=E.replace("||",PLACEHOLDER2);var X=E.split("|");return G.positive.source=X[0],typeof X[2]>"u"?G.zero=G.positive:G.zero.source=X[2],typeof X[1]>"u"?G.negative=G.positive:G.negative.source=X[1],each$1(G,function(K,Z){if(!Z.parsed){if(typeof U.getCache(Z.source)<"u"){G[K]=U.getCache(Z.source);return}var J=Z.source,Q=[];Q=Z.source.match(/^\[([^\]]*)\]/),Q&&Q.length&&Q[0]!==""&&(J=Z.source.substr(Q[0].length),Z.color=Q[1]);for(var ee=getTextFormatter().chunk(J,!0),te=0;te<ee.length;te++){var ie=ee[te];if(ie.text=ie.text.replace(PLACEHOLDER2,"|"),ie.type==="value"){ie.text.match(/[yYMdDwhHKkmsSn]+a/)&&(Z.absolute=!0,ie.text=ie.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var ne=ie.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(ne)for(var ae=0;ae<ne.length;ae++)hasValue(ne[ae])||(ne[ae]=U._unitAliases[ne[ae]]),Z.parts.push(ne[ae]),ie.text=ie.text.replace(ne[ae],PLACEHOLDER)}Z.template+=ie.text}U.setCache(Z.source,Z),Z.parsed=!0}}),this.setCache(E,G),G},F.prototype.applyFormat=function(E,V){var U=!V.absolute&&E<this._negativeBase;E=Math.abs(E);for(var W=this.toTimeStamp(E,V.baseUnit),Y=V.template,G=0,X=V.parts.length;G<X;G++){var K=V.parts[G],Z=this.toTimeUnit(K.substr(0,1)),J=K.length,Q=Math.floor(W/this._unitValues[Z]);Y=Y.replace(PLACEHOLDER,padString(Q,J,"0")),W-=Q*this._unitValues[Z]}return U&&(Y="-"+Y),Y},F.prototype.toTimeStamp=function(E,V){return E*this._unitValues[V]},F.prototype.toTimeUnit=function(E){switch(E){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},F.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(F.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(E){this._baseUnit=E,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(E){this._outputFormat=E.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),F.prototype.getFormat=function(E,V,U){if(hasValue(this.durationFormat))return this.durationFormat;if(U||(U=this.baseUnit),hasValue(V)&&E!=V){E=Math.abs(E),V=Math.abs(V);var W=this.getValueUnit(max$2(E,V),U);return this.durationFormats[U][W]}else{var Y=this.getValueUnit(E,U);return this.durationFormats[U][Y]}},F.prototype.getValueUnit=function(E,V){V||(V=this.baseUnit);var U,W=this.getMilliseconds(E,V);return eachContinue$1(this._unitValues,function(Y,G){if(Y==V||U){var X=W/G;if(X<=1)return U||(U=Y),!1;U=Y}return!0}),U},F.prototype.getMilliseconds=function(E,V){return V||(V=this.baseUnit),E*this._unitValues[V]},Object.defineProperty(F.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(E){this._durationFormat!=E&&(this._durationFormat=E,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(E){this._durationFormats=E,this.invalidateSprite()},enumerable:!0,configurable:!0}),F}(BaseObject);registry.registeredClasses.DurationFormatter=DurationFormatter;var rules=new Dictionary;function exportCSS(R,F){var E=F||"amexport",V=new InterfaceColorSet,U=rules.insertKeyIfEmpty(E,function(){var W=new MultiDisposer([new StyleRule(R,"."+E+"-menu *",{"box-sizing":"border-box"}),new StyleRule(R,"."+E+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new StyleRule(R,"."+E+"-menu-level-0."+E+"-left",{right:"auto",left:"5px"}),new StyleRule(R,"."+E+"-menu-level-0."+E+"-right",{right:"5px",left:"auto"}),new StyleRule(R,"."+E+"-menu-level-0."+E+"-top",{top:"5px",bottom:"auto"}),new StyleRule(R,"."+E+"-menu-level-0."+E+"-bottom",{top:"auto",bottom:"5px"}),new StyleRule(R,"."+E+"-item."+E+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new StyleRule(R,"div:hover > div > ."+E+"-menu ."+E+"-item."+E+"-item-level-0, ."+E+"-item."+E+"-item-level-0.active",{opacity:"0.9"}),new StyleRule(R,"."+E+"-item."+E+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new StyleRule(R,"."+E+"-item."+E+"-item-level-0:before",{display:"block"}),new StyleRule(R,"."+E+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":V.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:V.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new StyleRule(R,"."+E+"-left ."+E+"-item",{margin:"1px 0 0 1px"}),new StyleRule(R,"."+E+"-item:hover, ."+E+"-item.active",{background:V.getFor("secondaryButtonHover").hex,color:V.getFor("secondaryButtonText").hex}),new StyleRule(R,"."+E+"-item > ."+E+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new StyleRule(R,"."+E+"-left ."+E+"-item > ."+E+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new StyleRule(R,"."+E+"-right ."+E+"-item > ."+E+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new StyleRule(R,"."+E+"-top ."+E+"-item > ."+E+"-menu",{top:"-1px",bottom:"auto"}),new StyleRule(R,"."+E+"-bottom ."+E+"-item > ."+E+"-menu",{top:"auto",bottom:"0"}),new StyleRule(R,"."+E+"-item > ."+E+"-menu",{display:"none"}),new StyleRule(R,"."+E+"-item:hover > ."+E+"-menu, ."+E+"-item.active > ."+E+"-menu",{display:"block"}),new StyleRule(R,"."+E+"-item:hover > ."+E+"-menu > ."+E+"-item, ."+E+"-item.active > ."+E+"-menu > ."+E+"-item",{opacity:"1"}),new StyleRule(R,"."+E+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new StyleRule(R,"."+E+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new StyleRule(R,"."+E+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new StyleRule(R,"."+E+"-item-level-0 > ."+E+"-icon",{padding:"0.1em 0.2em"}),new StyleRule(R,"."+E+"-clickable",{cursor:"pointer"})]);return new CounterDisposer(function(){rules.removeKey(E),W.dispose()})});return U.increment()}var Validatable=function(R){__extends(F,R);function F(){var E=R!==null&&R.apply(this,arguments)||this;return E._validateDisposer=null,E}return F.prototype.invalidate=function(){this._validateDisposer===null&&(this._validateDisposer=registry.events.on("exitframe",this.validate,this))},F.prototype.validate=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null)},F.prototype.dispose=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null),R.prototype.dispose.call(this)},F}(BaseObjectEvents),ExportMenu=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.adapter=new Adapter(E),E.closeDelay=1e3,E.closeOnClick=!0,E._language=new MutableValueDisposer,E._menuTag="ul",E._itemTag="li",E._labelTag="a",E._iconTag="img",E._classPrefix="amexport",E._defaultStyles=!0,E._align="right",E._verticalAlign="top",E._tabindex=0,E._ignoreNextClose=!1,E._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],E.className="ExportMenu",E._disposers.push(E._language),E.invalidate(),E.applyTheme(),E}return F.prototype.validate=function(){this.draw(),R.prototype.validate.call(this)},F.prototype.draw=function(){var E=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),getValue(this._container).appendChild(this._element);for(var V=this.adapter.apply("items",{items:this._items}).items,U=V.length,W=0;W<U;W++)this.drawBranch(this._element,V[W],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(getInteraction().body.events.on("down",function(Y){Y.pointer.touch||(E._ignoreNextClose=!1),E.close()})),this._disposers.push(getInteraction().body.events.on("keydown",function(Y){var G=keyboard.getEventKey(Y.event);switch(G){case"esc":E.close();break;case"up":case"down":case"left":case"right":E._currentSelection&&Y.event.preventDefault(),E.moveSelection(G);break}})),this.defaultStyles&&this.loadDefaultCSS()},F.prototype.drawBranch=function(E,V,U){var W=this;if(V=this.adapter.apply("branch",{branch:V,level:U}).branch,V.unsupported!==!0){V.ascendants||(V.ascendants=new List);var Y=V.type,G=this.createItemElement(U,Y),X;V.icon?(X=this.createIconElement(U,Y),X.src=V.icon,(V.label||V.title)&&(X.title=V.title||V.label)):V.svg?(X=this.createSvgElement(U,Y,V.svg),(V.label||V.title)&&(X.title=V.title||V.label)):(X=this.createLabelElement(U,Y),X.innerHTML=V.label?this.language.translate(V.label):"",V.title&&(X.title=V.title));var K=this.getReaderLabel(V,X.innerHTML);X.setAttribute("aria-label",K),G.appendChild(X),V.interactions=getInteraction().getInteraction(G),V.element=G,this.typeClickable(Y)&&(V.interactions.events.on("hit",function(ne){if(W.events.isEnabled("hit")&&!W.isDisposed()){var ae={type:"hit",event:ne.event,target:W,branch:V};W.events.dispatchImmediately("hit",ae)}}),V.interactions.events.on("keyup",function(ne){if(keyboard.isKey(ne.event,"enter")&&W.events.isEnabled("enter")){var ae={type:"enter",event:ne.event,target:W,branch:V};W.events.dispatchImmediately("enter",ae)}}));{var Z=this.getSubMenu(V);Z!=null&&(V.interactions.events.on("keyup",function(ne){keyboard.isKey(ne.event,"enter")&&(W.selectBranch(Z[0]),W.setFocus(Z[0]))}),V.interactions.events.on("hit",function(ne){W.selectBranch(V)}))}V.interactions.events.on("over",function(ne){if(ne.pointer.touch&&(W._ignoreNextClose=!0),W.selectBranch(V),W.events.isEnabled("over")){var ae={type:"over",event:ne.event,target:W,branch:V};W.events.dispatchImmediately("over",ae)}}),V.interactions.events.on("out",function(ne){if(!W.isDisposed()&&(ne.pointer.touch||W.delayUnselectBranch(V),W.events.isEnabled("out"))){var ae={type:"out",event:ne.event,target:W,branch:V};W.events.dispatchImmediately("out",ae)}}),V.interactions.events.on("focus",function(ne){W.selectBranch(V)}),V.interactions.events.on("blur",function(ne){W.delayUnselectBranch(V)});var J=U+1;if(V.menu){var Q=this.createMenuElement(J);V.submenuElement=Q;for(var ee=V.menu.length,te=0;te<ee;te++){var ie=new List;V.menu[te].ascendants=ie,V.ascendants.length&&ie.copyFrom(V.ascendants),ie.push(V),this.drawBranch(Q,V.menu[te],J)}if(Q.innerHTML=="")return;G.appendChild(Q)}V.hidden&&this.hideBranch(V),V.id&&G.setAttribute("id",V.id),V.color&&(G.style.backgroundColor=V.color.hex),E.appendChild(G)}},F.prototype.createMenuElement=function(E){var V=document.createElement(this.menuTag);return V.className=this.getMenuItemClass(E),E===0?V.setAttribute("role","menubar"):V.setAttribute("role","menu"),V},F.prototype.getMenuItemClass=function(E){var V=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+E;return E===0&&(V+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:V,level:E}).className},F.prototype.createItemElement=function(E,V){var U=document.createElement(this.itemTag),W=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+E+" "+this.classPrefix+"-item-"+(V||"blank");return U.className=this.adapter.apply("itemClass",{className:W,level:E,type:V}).className,U.setAttribute("role","menuitem"),U.setAttribute("tabindex",this.tabindex.toString()),U},F.prototype.createLabelElement=function(E,V){var U=document.createElement(this.labelTag),W=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+E+" "+this.classPrefix+"-item-"+(V||"blank");return this.typeClickable(V)&&(W+=" "+this.classPrefix+"-clickable"),U.className=this.adapter.apply("labelClass",{className:W,level:E,type:V}).className,U},F.prototype.createIconElement=function(E,V){var U=document.createElement(this.iconTag),W=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+E+" "+this.classPrefix+"-item-"+(V||"blank");return this.typeClickable(V)&&(W+=" "+this.classPrefix+"-clickable"),U.className=this.adapter.apply("labelClass",{className:W,level:E,type:V}).className,U.setAttribute("tabindex",this.tabindex.toString()),U.setAttribute("role","menuitem"),U},F.prototype.createSvgElement=function(E,V,U){var W=new DOMParser,Y=W.parseFromString(U,"image/svg+xml").documentElement,G=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+E+" "+this.classPrefix+"-item-"+(V||"blank");return this.typeClickable(V)&&(G+=" "+this.classPrefix+"-clickable"),Y.setAttribute("class",this.adapter.apply("labelClass",{className:G,level:E,type:V}).className),Y.setAttribute("tabindex",this.tabindex.toString()),Y.setAttribute("role","menuitem"),Y},F.prototype.dispose=function(){this._disposed||(R.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},F.prototype.typeClickable=function(E){return hasValue(E)},F.prototype.hasSubMenu=function(E){return!!(E.menu&&E.menu.length)},F.prototype.getSubMenu=function(E){if(E.menu&&E.menu.length)return E.menu},F.prototype.getReaderLabel=function(E,V){return V=stripTags(V),E.ascendants.length==0?(V=V=="..."?this.language.translate("Export"):V,V+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(E)?V+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":E.type=="print"?V=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(E.type)&&(V=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,V)),this.adapter.apply("rederLabel",{label:V,branch:E}).label},Object.defineProperty(F.prototype,"container",{get:function(){return this._container},set:function(E){this._container=E,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"items",{get:function(){return this._items},set:function(E){this._items=E,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tag",{set:function(E){this._menuTag=E,this._itemTag=E=="ul"?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(E){this._align=E,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(E){this._verticalAlign=E,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(E){this._classPrefix=E,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(E){this._defaultStyles!=E&&(this._defaultStyles=E,E&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),F.prototype.loadDefaultCSS=function(){this._disposers.push(exportCSS(getShadowRoot(this.container),this.classPrefix)),this._element&&(this._element.style.display="")},Object.defineProperty(F.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(E){this._tabindex=E,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"language",{get:function(){var E=this,V=this._language.get();return V==null&&(V=new Language,this._language.set(V,V.events.on("localechanged",function(U){E.invalidate()}))),V},set:function(E){var V=this;this._language.set(E,E.events.on("localechanged",function(U){V.invalidate()})),this.invalidate()},enumerable:!0,configurable:!0}),F.prototype.close=function(){var E=this;if(!this.isDisposed()){if(this._ignoreNextClose){this._ignoreNextClose=!1;return}if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout(function(){E._element.style.pointerEvents="auto"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var V=this._element.getElementsByClassName("active"),U=V.length,W=U-1;W>=0;W--)V[W]&&removeClass(V[W],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},F.prototype.selectBranch=function(E){var V=this;if(!this.isDisposed()&&(E.closeTimeout&&(this.removeDispose(E.closeTimeout),E.closeTimeout=void 0),addClass(E.element,"active"),E.submenuElement&&E.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==E&&this._currentSelection.ascendants&&each(concat(fromArray([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(W){!E.ascendants.contains(W)&&E!==W&&V.unselectBranch(W,!0)}),each(E.ascendants.iterator(),function(W){W.closeTimeout&&(V.removeDispose(W.closeTimeout),W.closeTimeout=void 0),addClass(W.element,"active")}),this._currentSelection=E,this.events.isEnabled("branchselected"))){var U={type:"branchselected",target:this,branch:E};this.events.dispatchImmediately("branchselected",U)}},F.prototype.unselectBranch=function(E,V){if(!this.isDisposed()&&(removeClass(E.element,"active"),E.submenuElement&&E.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==E&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))){var U={type:"branchunselected",target:this,branch:E};this.events.dispatchImmediately("branchunselected",U)}},F.prototype.delayUnselectBranch=function(E,V){var U=this;this.isDisposed()||(E.closeTimeout&&(this.removeDispose(E.closeTimeout),E.closeTimeout=void 0),E.closeTimeout=this.setTimeout(function(){U.unselectBranch(E,V)},this.closeDelay),V!==!0&&E.ascendants&&each(E.ascendants.iterator(),function(W){U.delayUnselectBranch(W,!0)}))},F.prototype.moveSelection=function(E){if(!this.isDisposed()&&!!this._currentSelection){var V;if(E=="up")V=this.getPrevSibling(this._currentSelection);else if(E=="down")V=this.getNextSibling(this._currentSelection);else if(E=="left"&&this.align=="right"||E=="right"&&this.align=="left"){var U=this.getSubMenu(this._currentSelection);U!=null&&(V=U[0])}else(E=="right"&&this.align=="right"||E=="left"&&this.align=="left")&&(V=this.getParentItem(this._currentSelection));V&&V!==this._currentSelection&&(this.selectBranch(V),this.setFocus(V),this._currentSelection=V)}},F.prototype.getSiblings=function(E){var V=this.getParentItem(E);return V&&V.menu?V.menu:[]},F.prototype.getParentItem=function(E){if(E.ascendants&&E.ascendants.length)return E.ascendants.getIndex(E.ascendants.length-1)},F.prototype.getNextSibling=function(E){var V=this.getSiblings(E);if(V.length>1){var U=V.indexOf(E)+1;return U=V.length==U?0:U,V[U].unsupported?this.getNextSibling(V[U]):V[U]}else return E},F.prototype.getPrevSibling=function(E){var V=this.getSiblings(E);if(V.length>1){var U=V.indexOf(E)-1;return U=U==-1?V.length-1:U,V[U].unsupported?this.getPrevSibling(V[U]):V[U]}else return E},F.prototype.setFocus=function(E){if(E.interactions)try{E.interactions.element.focus()}catch{}},F.prototype.setBlur=function(E){if(E.interactions)try{E.interactions.element.blur()}catch{}},F.prototype.hideBranch=function(E){E.element.style.display="none"},F.prototype.showBranch=function(E){E.element.style.display=""},Object.defineProperty(F.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),F}(Validatable);function load(R,F,E){return new Promise(function(V,U){var W=hasValue(E)&&E.responseType=="blob",Y=new XMLHttpRequest;if(Y.onload=function(){if(Y.status===200){var K=void 0,Z;if(W){Z=Y.response,readBlob(Z).then(function(Q){var ee={xhr:Y,error:!1,response:Q,blob:Z,type:Y.getResponseHeader("Content-Type"),target:F};V(ee)});return}else K=Y.responseText||Y.response;var J={xhr:Y,error:!1,response:K,blob:Z,type:Y.getResponseHeader("Content-Type"),target:F};V(J)}else U({xhr:Y,error:!0,type:Y.getResponseHeader("Content-Type"),target:F})},Y.onerror=function(){U({xhr:Y,error:!0,type:Y.getResponseHeader("Content-Type"),target:F})},Y.open("GET",R,!0),E&&E.withCredentials&&(Y.withCredentials=!0),hasValue(E)){if(hasValue(E.requestHeaders))for(var G=0;G<E.requestHeaders.length;G++){var X=E.requestHeaders[G];Y.setRequestHeader(X.key,X.value)}hasValue(E.responseType)&&(Y.responseType=E.responseType)}Y.send()})}function readBlob(R){return new Promise(function(F,E){var V=new FileReader;V.onload=function(U){F(V.result)},V.onerror=function(U){E(U)},V.readAsText(R)})}var pdfmakePromise;function _pdfmake(){return __awaiter(this,void 0,void 0,function(){var R,F,E,V;return __generator(this,function(U){switch(U.label){case 0:return[4,Promise.all([__vitePreload(()=>import("pdfmake/build/pdfmake.js"),[]),__vitePreload(()=>import("../node_modules/@amcharts/amcharts4/.internal/pdfmake/vfs_fonts"),[])])];case 1:return R=U.sent(),F=R[0].default||R[0],E=R[1].default||R[1],V=window,V.pdfMake=V.pdfMake||{},V.pdfMake.vfs=E,F.vfs=E,[2,F]}})})}var fontFamilySrcRegexp=/src: ([^;]+);/;function supportsBlobUri(){return window.navigator.msSaveOrOpenBlob!=null}function blobToDataUri(R){return new Promise(function(F,E){var V=new FileReader;V.onload=function(U){F(V.result)},V.onerror=function(U){E(U)},V.readAsDataURL(R)})}function getCssRules(R){return __awaiter(this,void 0,void 0,function(){var F;return __generator(this,function(E){switch(E.label){case 0:F=R.sheet,E.label=1;case 1:return E.trys.push([1,2,,4]),[2,F.cssRules];case 2:return E.sent(),[4,new Promise(function(V,U){R.addEventListener("load",function(){V(F.cssRules)},!0),R.addEventListener("error",function(W){U(W)},!0),setTimeout(function(){U(new Error("Timeout while waiting for <style> to load"))},1e4)})];case 3:return[2,E.sent()];case 4:return[2]}})})}function loadStylesheet(R,F,E){return __awaiter(this,void 0,void 0,function(){var V,U,W,Y;return __generator(this,function(G){switch(G.label){case 0:return G.trys.push([0,2,,3]),[4,load(F)];case 1:return V=G.sent(),[3,3];case 2:return U=G.sent(),console.error("Failed to load stylesheet",F,U),[2];case 3:W=R.createElement("style"),W.textContent=V.response,R.head.appendChild(W),G.label=4;case 4:return G.trys.push([4,,7,8]),[4,getCssRules(W)];case 5:return Y=G.sent(),[4,eachStylesheet(R,F,Y,E)];case 6:return G.sent(),[3,8];case 7:return R.head.removeChild(W),[7];case 8:return[2]}})})}function eachStylesheet(R,F,E,V){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X;return __generator(this,function(K){switch(K.label){case 0:for(U=[],W=E.length,Y=0;Y<W;Y++)G=E[Y],G.type===CSSRule.IMPORT_RULE?(X=G.href,X&&(X=joinUrl(F,X),U.push(loadStylesheet(R,X,V)))):V(F,G);return U.length?[4,Promise.all(U)]:[3,2];case 1:K.sent(),K.label=2;case 2:return[2]}})})}function eachStylesheets(R){return __awaiter(this,void 0,void 0,function(){var F,E;return __generator(this,function(V){switch(V.label){case 0:F=document.createElement("iframe"),F.src="about:blank",F.setAttribute("title",""),document.head.appendChild(F),V.label=1;case 1:return V.trys.push([1,,3,4]),E=F.contentDocument,[4,Promise.all(map$2(document.styleSheets,function(U){var W=U.href;return W==null?eachStylesheet(E,location.href,U.cssRules,R):(W=joinUrl(location.href,W),loadStylesheet(E,W,R))}))];case 2:return V.sent(),[3,4];case 3:return document.head.removeChild(F),[7];case 4:return[2]}})})}var Export=function(R){__extends(F,R);function F(E){var V=R.call(this)||this;return V.adapter=new Adapter(V),V._formatOptions=new Dictionary,V._extraSprites=[],V._validateSprites=[],V.dataFieldsOrder=[],V._dynamicDataFields=!0,V._removedObjects=new List,V._hiddenObjects=[],V._objectsAlreadyHidden=!1,V._filePrefix="amCharts",V.useWebFonts=!0,V.useRetina=!0,V.useSimplifiedExport=!0,V.timeoutDelay=2e3,V._exportRunning=!1,V._prevHasData=!1,V._container=E,V.className="Export",V._formatOptions.setKey("png",{}),V._formatOptions.setKey("jpg",{quality:.8}),V._formatOptions.setKey("gif",{}),V._formatOptions.setKey("svg",{}),V._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),V._formatOptions.setKey("json",{indent:2,useLocale:!0}),V._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:"",addBOM:!0}),V._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),V._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),V._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),V._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),V.adapter.add("options",function(U){var W=V._formatOptions.getKey(U.type);return U.options?U.options=merge$1(W,U.options):U.options=W,U}),V.applyTheme(),V.dispatchImmediately("inited"),V}return Object.defineProperty(F.prototype,"menu",{get:function(){return this._menu},set:function(E){var V=this;this._menu&&this.removeDispose(this._menu),this._menu=E,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",function(U){return U.branch.unsupported=!V.typeSupported(U.branch.type),U}),this._menu.events.on("hit",function(U){V.export(U.branch.type,U.branch.options),V.menu.close()}),this._menu.events.on("enter",function(U){V.export(U.branch.type,U.branch.options),V.menu.close()}),this._menu.events.on("over",function(U){V._disablePointers()}),this._menu.events.on("out",function(U){setTimeout(function(){V._releasePointers()},10)}),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",function(U){return U.classPrefix=options.classNamePrefix+U.classPrefix,U}),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),F.prototype.typeSupported=function(E){var V=!0,U=this.getFormatOptions(E);return hasValue(U)&&U.disabled?V=!1:E==="pdf"||(E==="xlsx"?V=!!this._hasData():(E=="print"&&!window.print||["json","csv","html","pdfdata"].indexOf(E)!==-1&&!this._hasData())&&(V=!1)),this.adapter.apply("supported",{supported:V,type:E}).supported},F.prototype._hasData=function(){return this.data&&this.data.length},F.prototype._getFunction=function(E){switch(E){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},F.prototype.export=function(E,V){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X,K=this;return __generator(this,function(Z){switch(Z.label){case 0:return E=="custom"?(this.handleCustom(V),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(U={type:"exportstarted",target:this,format:E,options:V},this.events.dispatchImmediately("exportstarted",U)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){if(K.events.isEnabled("exporttimedout")){var J={type:"exporttimedout",target:K,format:E,options:V};K.events.dispatchImmediately("exporttimedout",J)}K.showTimeout()},this.timeoutDelay)),this.hideNonExportableSprites(),W=this._getFunction(E),V=this.adapter.apply("options",{options:V,type:E}).options,W=this.adapter.apply("exportFunction",{func:W,type:E,options:V}).func,[4,W.call(this,E,V)]);case 1:return Y=Z.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),Y?(this.events.isEnabled("exportfinished")&&(G={type:"exportfinished",target:this,format:E,options:V},this.events.dispatchImmediately("exportfinished",G)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),E==="print"?[2,this.print(Y,V,this.adapter.apply("title",{title:this.title,options:V}).title)]:E=="pdfdata"?[2,this.download(Y,this.filePrefix+".pdf")]:[2,this.download(Y,this.filePrefix+"."+E,V&&V.addBOM)]):(this.events.isEnabled("error")&&(X={type:"error",target:this,format:E,options:V},this.events.dispatchImmediately("error",X)),[2,!1])}})})},F.prototype.unsupported=function(E,V){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(U){return[2,""]})})},F.prototype.handleCustom=function(E){hasValue(E)&&hasValue(E.callback)&&E.callback.call(E.callbackTarget||this,E)},F.prototype.getPrint=function(E,V){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(U){return[2,this.getImage("png",V)]})})},F.prototype.getFontFamilies=function(){return __awaiter(this,void 0,void 0,function(){var E,V,U,W,Y=this;return __generator(this,function(G){switch(G.label){case 0:return E=this.getDOMURL(),V=[],U=[],[4,eachStylesheets(function(X,K){if(K.type===CSSRule.FONT_FACE_RULE){var Z=K.cssText,J=fontFamilySrcRegexp.exec(Z);if(J!==null){var Q=J[1].split(/ *, */).map(function(ee){return __awaiter(Y,void 0,void 0,function(){var te,ie,ne,ae,se,oe;return __generator(this,function(le){switch(le.label){case 0:return te=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(ee),te!==null?[3,1]:[2,ee];case 1:if(ie=te[2],ne=joinUrl(X,te[1]),this.webFontFilter&&!ne.match(this.webFontFilter))return[2,null];le.label=2;case 2:return le.trys.push([2,7,,8]),[4,load(ne,void 0,{responseType:"blob"})];case 3:return ae=le.sent(),supportsBlobUri()?(se=E.createObjectURL(ae.blob),V.push(se),[3,6]):[3,4];case 4:return[4,blobToDataUri(ae.blob)];case 5:se=le.sent(),le.label=6;case 6:return[2,'url("'+se+'")'+ie];case 7:return oe=le.sent(),console.error("Failed to load font",ne,oe),[2,null];case 8:return[2]}})})});U.push(Promise.all(Q).then(function(ee){return ee=ee.filter(function(te){return te!=null}),ee.length===0?"":Z.replace(fontFamilySrcRegexp,"src: "+ee.join(", ")+";")}))}}})];case 1:return G.sent(),[4,Promise.all(U)];case 2:return W=G.sent(),[2,{blobs:V,cssText:W.filter(function(X){return!!X}).join(`
`)}]}})})},F.prototype.getImage=function(E,V,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,Z;return __generator(this,function(J){switch(J.label){case 0:return W=this._objectsAlreadyHidden,W||this.hideNonExportableSprites(),hasValue(V)||(V=this.getFormatOptions(E)),[4,this.awaitValidSprites()];case 1:return J.sent(),[4,this.simplifiedImageExport()];case 2:if(!J.sent())return[3,10];Y=void 0,J.label=3;case 3:return J.trys.push([3,7,,9]),[4,this.getCanvas(V)];case 4:return Y=J.sent(),U===!1?[3,6]:[4,this.addExtras(Y,V)];case 5:G=J.sent(),this.disposeCanvas(Y),Y=G,J.label=6;case 6:return X=Y.toDataURL(this.getContentType(E),V.quality),this.disposeCanvas(Y),W||this.restoreNonExportableSprites(),[2,X];case 7:return K=J.sent(),console.error(K.message+`
`+K.stack),warn$1("Simple export failed, falling back to advanced export"),Y&&this.disposeCanvas(Y),[4,this.getImageAdvanced(E,V,U)];case 8:return Z=J.sent(),W||this.restoreNonExportableSprites(),[2,Z];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(E,V,U)];case 11:return Z=J.sent(),W||this.restoreNonExportableSprites(),[2,Z];case 12:return[2]}})})},F.prototype.addExtras=function(E,V,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee,te,ie,ne,ae,se,oe=this;return __generator(this,function(le){switch(le.label){case 0:return this.extraSprites.length?(W=0,Y=0,G=E.width,X=E.height,K=0,Z=0,[4,Promise.all(map$2(this.extraSprites,function(ue){return __awaiter(oe,void 0,void 0,function(){var ce,he,de,fe;return __generator(this,function(Te){switch(Te.label){case 0:return ue instanceof Sprite?ce={sprite:ue,position:"bottom"}:ce=ue,ce.position=ce.position||"bottom",ce.marginTop=ce.marginTop||0,ce.marginRight=ce.marginRight||0,ce.marginBottom=ce.marginBottom||0,ce.marginLeft=ce.marginLeft||0,U?[4,ce.sprite.exporting.getCanvasAdvanced(V)]:[3,2];case 1:return he=Te.sent(),[3,4];case 2:return[4,ce.sprite.exporting.getCanvas(V)];case 3:he=Te.sent(),Te.label=4;case 4:return de=he.width+ce.marginLeft+ce.marginRight,fe=he.height+ce.marginTop+ce.marginBottom,ce.position=="top"?(G=ce.crop?X:max$2(G,de),Y+=fe):ce.position=="right"?(X=ce.crop?X:max$2(X,fe),K+=de):ce.position=="left"?(X=ce.crop?X:max$2(X,fe),W+=de):ce.position==="bottom"&&(G=ce.crop?X:max$2(G,de),Z+=fe),[2,{canvas:he,position:ce.position,left:ce.marginLeft,top:ce.marginTop,width:de,height:fe}]}})})}))]):[3,2];case 1:return J=le.sent(),Q=this.getDisposableCanvas(),Q.width=W+G+K,Q.height=Y+X+Z,ee=Q.getContext("2d"),te=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),te&&(ee.fillStyle=te.toString(),ee.fillRect(0,0,Q.width,Q.height)),ie=W,ne=Y,ae=ie+G,se=ne+X,each$2(J,function(ue){ue.position=="top"?(ne-=ue.height,ee.drawImage(ue.canvas,W+ue.left,ne+ue.top)):ue.position=="right"?(ee.drawImage(ue.canvas,ae+ue.left,Y+ue.top),ae+=ue.width):ue.position=="left"?(ie-=ue.width,ee.drawImage(ue.canvas,ie+ue.left,Y+ue.top)):ue.position==="bottom"&&(ee.drawImage(ue.canvas,W+ue.left,se+ue.top),se+=ue.height),oe.disposeCanvas(ue.canvas)}),ee.drawImage(E,W,Y),[2,Q];case 2:return[2,E]}})})},F.prototype.getCanvas=function(E){return __awaiter(this,void 0,void 0,function(){var V,U,W,Y,G,X,K,Z,J,Q,ee,te,ie,ne,ae,se,oe;return __generator(this,function(le){switch(le.label){case 0:hasValue(E)||(E={}),V=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),U=this.getDOMURL(),W=null,Y=null,le.label=1;case 1:return le.trys.push([1,,4,5]),X=this.sprite.pixelWidth,K=this.sprite.pixelHeight,Z=findFont(this.sprite.dom),J=findFontSize(this.sprite.dom),Q=E.scale||1,ee=this.getPixelRatio(E),Q=this.getAdjustedScale(X*ee,K*ee,Q,E),G=this.getDisposableCanvas(),G.style.width=X*Q+"px",G.style.height=K*Q+"px",G.width=X*Q,G.height=K*Q,te=G.getContext("2d"),V&&(te.fillStyle=V.toString(),te.fillRect(0,0,X*Q,K*Q)),ie=[],this.useWebFonts&&ie.push(this.getFontFamilies().then(function(ue){return Y=ue.blobs,ue.cssText})),ie.push(this.imagesToDataURI(this.sprite.dom,E)),ie.push(this.prepForeignObjects(this.sprite.dom,E)),[4,Promise.all(ie)];case 2:return ne=le.sent(),ae=this.normalizeSVG("<style>"+ne[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),E,X,K,Q,Z,J),se=new Blob([ae],{type:"image/svg+xml"}),W=U.createObjectURL(se),[4,this.loadNewImage(W,X*Q*ee,K*Q*ee,"anonymous")];case 3:return oe=le.sent(),te.drawImage(oe,0,0),[3,5];case 4:return W!==null&&U.revokeObjectURL(W),Y!==null&&each$2(Y,function(ue){U.revokeObjectURL(ue)}),this.restoreRemovedObjects(),[7];case 5:return[2,G]}})})},F.prototype.getCanvasAdvanced=function(E){return __awaiter(this,void 0,void 0,function(){var V,U,W,Y,G,X,K,Z,J,Q,ee;return __generator(this,function(te){switch(te.label){case 0:return hasValue(E)||(E={}),[4,this.imagesToDataURI(this.sprite.dom,E)];case 1:return te.sent(),V=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return U=te.sent(),W=this.sprite.pixelWidth,Y=this.sprite.pixelHeight,G=findFont(this.sprite.dom),X=findFontSize(this.sprite.dom),K=E.scale||1,Z=this.getPixelRatio(E),K=this.getAdjustedScale(W*Z,Y*Z,K,E),J=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),E,W,Y,K,G,X,V),Q=this.getDisposableCanvas(),Q.style.width=W*Z*K+"px",Q.style.height=Y*Z*K+"px",Q.width=W*Z*K,Q.height=Y*Z*K,ee={useCORS:!0},Z!=1&&(ee.ignoreDimensions=!0,ee.scaleWidth=W*Z*K,ee.scaleHeight=Y*Z*K),[4,U.fromString(Q.getContext("2d"),J,ee).render()];case 3:return te.sent(),[2,Q]}})})},F.prototype.getImageAdvanced=function(E,V,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G;return __generator(this,function(X){switch(X.label){case 0:return W=this._objectsAlreadyHidden,W||this.hideNonExportableSprites(),hasValue(V)||(V=this.getFormatOptions(E)),[4,this.getCanvasAdvanced(V)];case 1:return Y=X.sent(),U===!1?[3,3]:[4,this.addExtras(Y,V,!0)];case 2:Y=X.sent(),X.label=3;case 3:return G=Y.toDataURL(this.getContentType(E),V.quality),this.disposeCanvas(Y),W||this.restoreNonExportableSprites(),[2,G]}})})},F.prototype.getDisposableCanvas=function(){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="-10000px",document.body.appendChild(E),E},F.prototype.disposeCanvas=function(E){document.body.contains(E)&&document.body.removeChild(E)},F.prototype.getPixelRatio=function(E){return this.useRetina?getPixelRatio():1},F.prototype.getAdjustedScale=function(E,V,U,W){if(!W)return U;var Y=E*U,G=E*U,X,K;return W.maxWidth&&Y>W.maxWidth&&(X=W.maxWidth/E),W.maxHeight&&G>W.maxHeight&&(K=W.maxHeight/V),X||K?min$2(X,K):(W.minWidth&&Y<W.minWidth&&(X=W.minWidth/E),W.minHeight&&G<W.minHeight&&(K=W.minHeight/V),X||K?max$2(X,K):U)},F.prototype.imagesToDataURI=function(E,V){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X,K;return __generator(this,function(Z){switch(Z.label){case 0:if(U=E.querySelectorAll("image"),!U.length)return[3,2];for(W=[],Y=U.length,G=0;G<Y;G++)X=U[G],K=X.getAttributeNS(F.XLINK,"href"),K&&(K.indexOf("data:image")!==-1||(K.indexOf(".svg")!==-1?W.push(this.svgToDataURI(X,V)):W.push(this.imageToDataURI(X,V))));return[4,Promise.all(W)];case 1:return Z.sent(),[2];case 2:return[2]}})})},F.prototype.prepForeignObjects=function(E,V){return __awaiter(this,void 0,void 0,function(){var U,W,Y;return __generator(this,function(G){if(U=E.querySelectorAll("foreignObject"),U.length)for(W=U.length,Y=0;Y<W;Y++)this.temporarilyRemoveObject(U[Y]);return[2]})})},F.prototype.imageToDataURI=function(E,V){return __awaiter(this,void 0,void 0,function(){var U,W,Y;return __generator(this,function(G){switch(G.label){case 0:return G.trys.push([0,2,,3]),[4,this.loadNewImage(E.getAttributeNS(F.XLINK,"href"),null,null,"anonymous")];case 1:U=G.sent(),W=document.createElement("canvas"),W.width=U.width,W.height=U.height,W.getContext("2d").drawImage(U,0,0);try{return Y=W.toDataURL(),E.setAttribute("href",Y),[2,Y]}catch{return V.keepTainted!==!1&&this.temporarilyRemoveObject(E),[2,void 0]}return[3,3];case 2:return G.sent(),(!V||V.keepTainted!==!1)&&this.temporarilyRemoveObject(E),[2,void 0];case 3:return[2]}})})},F.prototype.svgToDataURI=function(E,V){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G;return __generator(this,function(X){switch(X.label){case 0:U=E.getAttributeNS(F.XLINK,"href"),X.label=1;case 1:return X.trys.push([1,3,,4]),[4,load(U)];case 2:return W=X.sent(),Y=this.adapter.apply("charset",{charset:"base64",type:"svg",options:V}).charset,G=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+Y+","+btoa(W.response),options:V}).data,E.setAttributeNS(F.XLINK,"href",G),[2,G];case 3:return X.sent(),(!V||V.keepTainted!==!1)&&this.temporarilyRemoveObject(E),[2,void 0];case 4:return[2]}})})},F.prototype.temporarilyRemoveObject=function(E,V){var U=E.parentElement||E.parentNode;V||(V=this.sprite.paper.add("g").node),U.insertBefore(V,E),E.textContent,U.removeChild(E),this._removedObjects.push({element:E,placeholder:V})},F.prototype.restoreRemovedObjects=function(){for(var E;E=this._removedObjects.pop(),!!E;){var V=E.placeholder.parentElement||E.placeholder.parentNode;V.insertBefore(E.element,E.placeholder)}},F.prototype.simplifiedImageExport=function(){return __awaiter(this,void 0,void 0,function(){var E,V,U,W,Y,G,X;return __generator(this,function(K){switch(K.label){case 0:if(this.useSimplifiedExport===!1)return[2,!1];if(E=registry.getCache("simplifiedImageExport"),E===!1||E===!0)return[2,E];K.label=1;case 1:K.trys.push([1,6,,7]),V=document.createElement("canvas"),V.width=1,V.height=1,U=V.getContext("2d"),W=this.getDOMURL(),Y=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),G=W.createObjectURL(Y),X=void 0,K.label=2;case 2:return K.trys.push([2,4,,5]),[4,this.loadNewImage(G,1,1)];case 3:return X=K.sent(),[3,5];case 4:return K.sent(),[2,!1];case 5:U.drawImage(X,0,0),W.revokeObjectURL(G);try{return registry.setCache("simplifiedImageExport",!0),[2,!0]}catch{return registry.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return K.sent(),registry.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}})})},F.prototype.loadNewImage=function(E,V,U,W){return new Promise(function(Y,G){var X;V&&U?X=new Image(V,U):X=new Image,W&&X.setAttribute("crossOrigin",W),X.onload=function(){Y(X)};function K(){if(W){var Z=X.src;X.onerror=function(){G(new Error('Loading image "'+E+'" failed'))},X.removeAttribute("crossorigin"),X.src="",X.src=Z}else G(new Error('Loading image "'+E+'" failed'))}X.onabort=K,X.onerror=K,X.src=E})},F.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},F.prototype.getSVG=function(E,V,U){return U===void 0&&(U=!0),__awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee,te;return __generator(this,function(ie){switch(ie.label){case 0:return W=this._objectsAlreadyHidden,W||this.hideNonExportableSprites(),hasValue(V)||(V=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return ie.sent(),Y=this.sprite.pixelWidth,G=this.sprite.pixelHeight,X=findFont(this.sprite.dom),K=findFontSize(this.sprite.dom),Z=V.scale||1,J=this.getPixelRatio(V),Z=this.getAdjustedScale(Y*J,G*J,Z,V),Q=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),V,Y,G,Z,X,K),ee=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:V}).charset,te=this.adapter.apply("getSVG",{data:U?"data:"+this.getContentType(E)+";"+ee+","+encodeURIComponent(Q):Q,options:V}).data,W||this.restoreNonExportableSprites(),[2,te]}})})},F.prototype.normalizeSVG=function(E,V,U,W,Y,G,X,K){var Z="";U&&(Z+='width="'+Math.round(U*(Y||1))+'px" '),W&&(Z+='height="'+Math.round(W*(Y||1))+'px" ');var J="";G&&(J+="font-family: "+G.replace(/"/g,"")+";"),X&&(J+="font-size: "+X+";"),Y&&(Z+='viewBox="0 0 '+U+" "+W+'" ');var Q=[],ee=E.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(ee)for(var te=0;te<ee.length;te++)E=E.replace(ee[te],PLACEHOLDER),Q.push(ee[te]);E.match(/<svg/)?Z!==""&&(E=E.replace(/(<svg[^>]*)width="[^"]*"/,"$1"),E=E.replace(/(<svg[^>]*)height="[^"]*"/,"$1"),E=E.replace(/(<svg)/,"$1"+Z)):E='<?xml version="1.0" encoding="utf-8"?><svg '+Z+' style="'+J+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+E+"</svg>",K&&(E=E.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+K.rgba+'"/>')),isInternetExplorer()&&(E=E.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var ie=new RegExp("url\\("+escapeForRgex(getBaseURI()),"g");if(E=E.replace(ie,"url(#"),E=E.replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),Q.length)for(var te=0;te<Q.length;te++)E=E.replace(PLACEHOLDER,Q[te]);return E=this.adapter.apply("normalizeSVG",{data:E,options:V}).data,E},F.prototype.serializeElement=function(E){return new XMLSerializer().serializeToString(E)},F.prototype.getPDF=function(E,V){return __awaiter(this,void 0,void 0,function(){function U(ne){var ae={};ae.normal=ne.normal.path,ie[ne.normal.path]=ne.normal.bytes,ne.bold?(ae.bold=ne.bold.path,ie[ne.bold.path]=ne.bold.bytes):ae.bold=ne.normal.path,ne.italics?(ae.italics=ne.italics.path,ie[ne.italics.path]=ne.italics.bytes):ae.italics=ne.normal.path,ne.bolditalics?(ae.bolditalics=ne.bolditalics.path,ie[ne.bolditalics.path]=ne.bolditalics.bytes):ae.bolditalics=ne.normal.path,te[ne.name]=ae}var W,Y,G,X,K,Z,J,Q,ee,te,ie;return __generator(this,function(ne){switch(ne.label){case 0:return[4,this.getImage(V.imageFormat||"png",V)];case 1:return W=ne.sent(),[4,this.pdfmake];case 2:return Y=ne.sent(),G=[30,30,30,30],X={pageSize:V.pageSize||"A4",pageOrientation:V.pageOrientation||"portrait",pageMargins:V.pageMargins||G,defaultStyle:{font:V.font?V.font.name:void 0},content:[]},K=this.adapter.apply("title",{title:this.title,options:V}).title,Z=0,K&&(X.content.push({text:K,fontSize:V.fontSize||14,bold:!0,margin:[0,0,0,15]}),Z+=50),V.addURL&&(X.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:V.fontSize,margin:[0,0,0,15]}),Z+=50),E!="pdfdata"&&X.content.push({image:W,alignment:V.align||"left",fit:this.getPageSizeFit(X.pageSize,X.pageMargins,Z)}),E=="pdfdata"||V.addData?(Q=(J=X.content).push,ee={},[4,this.getPDFData("pdf",V)]):[3,4];case 3:Q.apply(J,[(ee.table=ne.sent(),ee.fontSize=V.fontSize||14,ee)]),ne.label=4;case 4:return X=this.adapter.apply("pdfmakeDocument",{doc:X,options:V}).doc,te=null,ie=null,V.font&&(te={},ie={},U(V.font),V.extraFonts&&each$2(V.extraFonts,U)),[4,new Promise(function(ae,se){Y.createPdf(X,null,te,ie).getDataUrl(function(oe){ae(oe)})})];case 5:return[2,ne.sent()]}})})},F.prototype.getPDFData=function(E,V){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X,K,Z=this;return __generator(this,function(J){if(U={body:[]},W=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,Y=this.data,V.pivot)G=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,eachOrdered(W,function(Q,ee){var te=[];V.addColumnNames&&te.push(ee);for(var ie=Y.length,ne=0;ne<ie;ne++){var ae=Y[ne][Q];te.push(Z.convertToSpecialFormat(Q,ae,V,!0))}U.body.push(Z.getPDFDataRow(te,V,void 0,!0))},function(Q,ee){var te=G.indexOf(Q),ie=G.indexOf(ee);return te>ie?1:te<ie?-1:0});else for(V.addColumnNames&&(U.body.push(this.getPDFDataRow(W,V,void 0,!0)),U.headerRows=1),X=Y.length,K=0;K<X;K++)U.body.push(this.getPDFDataRow(Y[K],V,W));return[2,this.adapter.apply("pdfmakeTable",{table:U,options:V}).table]})})},F.prototype.getPDFDataRow=function(E,V,U,W){var Y=this;W===void 0&&(W=!1);var G=[];U||(U=E);var X=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return eachOrdered(U,function(K,Z){var J=Y.convertEmptyValue(K,E[K],V),Q=W?J:Y.convertToSpecialFormat(K,J,V);Q=""+Q,G.push(Q)},function(K,Z){var J=X.indexOf(K),Q=X.indexOf(Z);return J>Q?1:J<Q?-1:0}),G},F.prototype.getPageSizeFit=function(E,V,U){U===void 0&&(U=0);var W=[0,0,0,0];typeof V=="number"?W=[V,V,V,V]:V.length==2?W=[V[0],V[1],V[0],V[1]]:V.length==4&&(W=V);var Y={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},G=Y[E];return G[0]-=W[0]+W[2],G[1]-=W[1]+W[3]+U,G},F.prototype.getExcel=function(E,V){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X,K,Z,J,Q,ee,te=this;return __generator(this,function(ie){switch(ie.label){case 0:return hasValue(V)||(V=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(U=ie.sent(),W=this.adapter.apply("xlsxWorkbookOptions",{xlsx:U,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,Y=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:U,name:this.title||this.language.translate("Data")}).name),G={SheetNames:[Y],Sheets:{}},X=[],K=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,V.pivot)Z=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,eachOrdered(K,function(ne,ae){var se=[];V.addColumnNames&&se.push(ae);for(var oe=te.data.length,le=0;le<oe;le++){var ue=te.data[le][ne];se.push(te.convertToSpecialFormat(ne,ue,V,!0))}X.push(te.getExcelRow(se,V,void 0,!0))},function(ne,ae){var se=Z.indexOf(ne),oe=Z.indexOf(ae);return se>oe?1:se<oe?-1:0});else for(V.addColumnNames&&X.push(this.getExcelRow(K,V,void 0,!0)),J=this.data.length,Q=0;Q<J;Q++)X.push(this.getExcelRow(this.data[Q],V,K));return G.Sheets[Y]=U.utils.aoa_to_sheet(X),G=this.adapter.apply("xlsxWorkbook",{xlsx:U,workbook:G,options:V}).workbook,ee=this.adapter.apply("getExcel",{data:"data:"+this.getContentType(E)+";base64,"+U.write(G,W),options:V}).data,[2,ee]}})})},F.prototype.normalizeExcelSheetName=function(E){return E=E.replace(/([:\\\/?*\[\]]+)/g," "),truncateWithEllipsis(E,31,"...",!0)},F.prototype.getExcelRow=function(E,V,U,W){var Y=this;W===void 0&&(W=!1);var G=[];U||(U=E);var X=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return eachOrdered(U,function(K,Z){var J=Y.convertEmptyValue(K,E[K],V),Q=W?J:Y.convertToSpecialFormat(K,J,V,!0);G.push(Q)},function(K,Z){var J=X.indexOf(K),Q=X.indexOf(Z);return J>Q?1:J<Q?-1:0}),G},F.prototype.getCSV=function(E,V,U){return U===void 0&&(U=!0),__awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee,te,ie=this;return __generator(this,function(ne){if(hasValue(V)||(V=this.getFormatOptions("csv")),W="",Y=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,G="",X=this.data,V.pivot)K=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,eachOrdered(Y,function(ae,se){var oe=[];V.addColumnNames&&oe.push(se);for(var le=X.length,ue=0;ue<le;ue++){var ce=X[ue][ae];oe.push(ie.convertToSpecialFormat(ae,ce,V,!0))}W+=G+ie.getCSVRow(oe,V,void 0,!0),G=`
`},function(ae,se){var oe=K.indexOf(ae),le=K.indexOf(se);return oe>le?-1:oe<le?1:0});else{for(Z=X.length,J=0;J<Z;J++)Q=this.getCSVRow(X[J],V,Y),V.reverse?W=Q+G+W:W+=G+Q,G=`
`;V.addColumnNames&&(W=this.getCSVRow(Y,V,void 0,!0)+G+W)}return ee=this.adapter.apply("charset",{charset:"charset=utf-8",type:E,options:V}).charset,te=this.adapter.apply("getCSV",{data:U?"data:"+this.getContentType(E)+";"+ee+","+encodeURIComponent(W):W,options:V}).data,[2,te]})})},F.prototype.getCSVRow=function(E,V,U,W){var Y=this;W===void 0&&(W=!1);var G=V.separator||",",X=[];U||(U=E);var K=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return eachOrdered(U,function(Z,J){var Q=Y.convertEmptyValue(Z,E[Z],V),ee=W?Q:Y.convertToSpecialFormat(Z,Q,V);ee=""+ee,ee=ee.replace(/"/g,'""'),(V.forceQuotes||ee.search(new RegExp(`"|
|`+G,"g"))>=0)&&(ee='"'+ee+'"'),X.push(ee)},function(Z,J){var Q=K.indexOf(Z),ee=K.indexOf(J);return Q>ee?1:Q<ee?-1:0}),X.join(G)},F.prototype.getHTML=function(E,V,U){return U===void 0&&(U=!0),__awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee=this;return __generator(this,function(te){if(hasValue(V)||(V=this.getFormatOptions("html")),W="<table>",V.tableClass&&(W='<table class="'+V.tableClass+'">'),Y=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,G=this.data,V.pivot)X=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,W+=`
<tbody>`,eachOrdered(Y,function(ie,ne){var ae=[];V.addColumnNames&&ae.push(ne);for(var se=G.length,oe=0;oe<se;oe++){var le=G[oe][ie];ae.push(ee.convertToSpecialFormat(ie,le,V,!0))}W+=`
`+ee.getHTMLRow(ae,V,void 0,!0)},function(ie,ne){var ae=X.indexOf(ie),se=X.indexOf(ne);return ae>se?-1:ae<se?1:0}),W+=`
</tbody>`;else{for(V.addColumnNames&&(W+=`
<thead>
`+this.getHTMLRow(Y,V,void 0,!0,!0)+`
</thead>`),W+=`
<tbody>`,K=G.length,Z=0;Z<K;Z++)W+=`
`+this.getHTMLRow(G[Z],V,Y);W+=`
</tbody>`}return W+=`
</table>`,J=this.adapter.apply("charset",{charset:"charset=utf-8",type:E,options:V}).charset,Q=this.adapter.apply("getHTML",{data:U?"data:"+this.getContentType(E)+";"+J+","+encodeURIComponent(W):W,options:V}).data,[2,Q]})})},F.prototype.getHTMLRow=function(E,V,U,W,Y){var G=this;W===void 0&&(W=!1),Y===void 0&&(Y=!1);var X="	<tr>";V.rowClass&&(X='	<tr class="'+V.rowClass+'">'),U||(U=E);var K=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,Z=Y?"th":"td",J=!0;return eachOrdered(U,function(Q,ee){var te=G.convertEmptyValue(Q,E[Q],V),ie=W?te:G.convertToSpecialFormat(Q,te,V);ie=""+ie,ie=ie.replace(/[\u00A0-\u9999<>\&]/gim,function(ae){return"&#"+ae.charCodeAt(0)+";"});var ne=Z;V.pivot&&J&&(ne="th"),V.cellClass?X+=`
		<`+ne+' class="'+V.cellClass+'">'+ie+"</"+ne+">":X+=`
		<`+ne+">"+ie+"</"+ne+">",J=!1},function(Q,ee){var te=K.indexOf(Q),ie=K.indexOf(ee);return te>ie?1:te<ie?-1:0}),X+=`
	</tr>`,X},F.prototype.getJSON=function(E,V,U){return U===void 0&&(U=!0),__awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee,te=this;return __generator(this,function(ie){if(hasValue(V)||(V=this.getFormatOptions("json")),Y=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)W=this.data;else for(W=[],G=this.data,X=function(ne,ae){var se=G[ae];if(typeof se=="object"){var oe={};each$1(se,function(le,ue){hasValue(Y[le])&&(oe[Y[le]]=te.convertToSpecialFormat(le,ue,V))}),W.push(oe)}},K=G.length,Z=0;Z<K;Z++)X(K,Z);return J=JSON.stringify(W,function(ne,ae){return typeof ae=="object"&&each$1(ae,function(se,oe){ae[se]=te.convertToSpecialFormat(se,oe,V)}),ae},V.indent),Q=this.adapter.apply("charset",{charset:"charset=utf-8",type:E,options:V}).charset,ee=this.adapter.apply("getJSON",{data:U?"data:"+this.getContentType(E)+";"+Q+","+encodeURIComponent(J):J,options:V}).data,[2,ee]})})},F.prototype.convertToSpecialFormat=function(E,V,U,W){if(typeof V=="number")if(this.isDateField(E))V=new Date(V);else{if(this.isDurationField(E))return this.durationFormatter.format(V,this.durationFormat);if(this.isNumberField(E)&&this.numberFormat)return this.numberFormatter.format(V,this.numberFormat)}return V instanceof Date?U.useTimestamps?V=V.getTime():U.useLocale?W||(V=V.toLocaleString()):V=this.dateFormatter.format(V,this.dateFormat):isString$1(V)&&this.isDateField(E)&&this.dateFormat&&(V=this.dateFormatter.format(this.dateFormatter.parse(V),this.dateFormat)),V},F.prototype.convertEmptyValue=function(E,V,U){return hasValue(V)?V:U.emptyAs},F.prototype.download=function(E,V,U){return U===void 0&&(U=!1),__awaiter(this,void 0,void 0,function(){var ne,ae,G,W,Z,J,Q,ee,Y,ne,ae,G,X,K,Z,J,Q,ee,te,ie,ne,ae,se,oe;return __generator(this,function(le){if(this.msBlobDownloadSupport()){if(ne=E.split(";"),ae=ne.shift().replace(/data:/,""),E=decodeURIComponent(ne.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv"].indexOf(ae)==-1)try{G=atob(E),E=G}catch{return[2,!1]}else return W=new Blob([E],{type:ae}),window.navigator.msSaveBlob(W,V),[2,!0];for(Z=new Array(E.length),J=0;J<E.length;++J)Q=E.charCodeAt(J),Z[J]=Q;ee=new Blob([new Uint8Array(Z)],{type:ae}),window.navigator.msSaveBlob(ee,V)}else if(this.blobDownloadSupport()){if(Y=document.createElement("a"),Y.download=V,document.body.appendChild(Y),ne=E.split(";"),ae=ne.shift().replace(/data:/,""),E=decodeURIComponent(ne.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv","text/html"].indexOf(ae)==-1)try{G=atob(E),E=G}catch{return[2,!1]}else return U&&(E="\uFEFF"+E),X=new Blob([E],{type:ae}),K=window.URL.createObjectURL(X),Y.href=K,Y.download=V,Y.click(),setTimeout(function(){document.body.removeChild(Y),window.URL.revokeObjectURL(K)},100),[2,!0];for(Z=new Array(E.length),J=0;J<E.length;++J)Q=E.charCodeAt(J),Z[J]=Q;U&&(Z=[239,187,191].concat(Z)),ee=new Blob([new Uint8Array(Z)],{type:ae}),te=window.URL.createObjectURL(ee),Y.href=te,Y.download=V,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),setTimeout(function(){window.URL.revokeObjectURL(te)},100)}else this.linkDownloadSupport()?(ie=document.createElement("a"),ie.download=V,ie.href=E,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)):this.legacyIE()?(ne=E.match(/^data:(.*);[ ]*([^,]*),(.*)$/),ne.length===4&&(ne[2]=="base64"?ne[1].match(/^image\//)&&this.showModal('<img src="'+E+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(ae=void 0,V.match(/\.svg$/)?ae="image/svg+xml":(ae="text/plain",V+=".txt"),se=document.createElement("iframe"),se.width="1px",se.height="1px",se.style.display="none",document.body.appendChild(se),oe=se.contentDocument,oe.open(ae,"replace"),oe.write(decodeURIComponent(ne[3])),oe.close(),oe.execCommand("SaveAs",!0,V),document.body.removeChild(se)))):window.location.href=E;return[2,!0]})})},F.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},F.prototype.linkDownloadSupport=function(){var E=registry.getCache("linkDownloadSupport");if(E===!1||E===!0)return E;var V=document.createElement("a"),U=typeof V.download<"u";return registry.setCache("linkDownloadSupport",U),U},F.prototype.blobDownloadSupport=function(){return hasValue(window.Blob)},F.prototype.msBlobDownloadSupport=function(){return hasValue(window.navigator.msSaveOrOpenBlob)},F.prototype.legacyIE=function(){var E=document.createElement("div");return E.innerHTML="<!--[if lt IE 10]><i></i><![endif]-->",E.getElementsByTagName("i").length==1},F.prototype.print=function(E,V,U){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(W){return V.printMethod=="css"?[2,this.printViaCSS(E,V,U)]:[2,this.printViaIframe(E,V,U)]})})},F.prototype.printViaCSS=function(E,V,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G,X,K;return __generator(this,function(Z){return W=document.documentElement.scrollTop||document.body.scrollTop,Y=new StyleRule(getShadowRoot(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),U&&document&&document.title&&(G=document.title,document.title=U),X=new Image,X.src=E,X.style.maxWidth="100%",X.style.display="block",X.style.position="relative",X.style.visibility="visible",X.style.opacity="1",X.style.clipPath="none",document.body.appendChild(X),this.setTimeout(function(){window.print()},50),K=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,K&&V.delay<1e3?V.delay=1e3:V.delay<100&&(V.delay=100),this.setTimeout(function(){document.body.removeChild(X),Y.dispose(),G&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=W},V.delay||500),[2,!0]})})},F.prototype.printViaIframe=function(E,V,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G;return __generator(this,function(X){return W=document.createElement("iframe"),W.style.visibility="hidden",document.body.appendChild(W),W.contentWindow.document.open(),W.contentWindow.document.close(),Y=new Image,Y.src=E,Y.style.maxWidth="100%",Y.style.height="auto",U&&(W.contentWindow.document.title=U),W.contentWindow.document.body.appendChild(Y),W.load=function(){W.contentWindow.document.body.appendChild(Y)},this.setTimeout(function(){try{W.contentWindow.document.execCommand("print",!1,null)||W.contentWindow.print()}catch{W.contentWindow.print()}},V.delay||50),G=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,G&&V.delay<1e3?V.delay=1e3:V.delay<100&&(V.delay=100),this.setTimeout(function(){document.body.removeChild(W)},V.delay+50||100),[2,!0]})})},F.prototype.findBackgroundColor=function(E){var V=1,U=getComputedStyle$2(E,"background-color");if((U.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||U=="transparent")&&(V=0),V==0){var W=E.parentElement;return W?this.findBackgroundColor(W):color$1("#fff")}else return color$1(U,V)},Object.defineProperty(F.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(E){this._container=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(E){this._sprite=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(E){this._extraSprites=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(E){this._validateSprites=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(E){this._data=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(E){this._dataFields=E,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),F.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var E=this.data.length>0;this._prevHasData!=E&&(this._prevHasData=E,this.menu&&this.menu.invalidate())},Object.defineProperty(F.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new DateFormatter,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(E){this._dateFormatter=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(E){this._dateFormat=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new List),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(E){this._dateFields=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new NumberFormatter,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(E){this._numberFormatter=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(E){this._numberFormat=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new List),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(E){this._numberFields=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new DurationFormatter,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(E){this._durationFormatter=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(E){this._durationFormat=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new List),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(E){this._durationFields=E},enumerable:!0,configurable:!0}),F.prototype.generateDataFields=function(){var E=this;this._dataFields={},this.data.length&&each$2(this.data,function(V){each$1(V,function(U,W){hasValue(E._dataFields[U])||(E._dataFields[U]=E.adapter.apply("dataFieldName",{name:U,field:U}).name)})})},F.prototype.isDateField=function(E){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(E),field:E}).isDateField},F.prototype.isNumberField=function(E){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(E),field:E}).isNumberField},F.prototype.isDurationField=function(E){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(E),field:E}).isDurationField},F.prototype.getContentType=function(E){var V="";switch(E){case"png":case"gif":V="image/"+E;break;case"jpg":V="image/jpeg";break;case"svg":V="image/svg+xml";break;case"csv":V="text/csv";break;case"json":V="application/json";break;case"html":V="text/html";break;case"pdf":case"pdfdata":V="application/pdf";break;case"xlsx":V="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break}return this.adapter.apply("contentType",{contentType:V,type:E}).contentType},Object.defineProperty(F.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(E){this._filePrefix=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(E){this._backgroundColor=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(E){this._title=E},enumerable:!0,configurable:!0}),F.prototype.showPreloader=function(){var E=this.preloader;E&&(E.progress=.5,E.label.text="...")},F.prototype.hidePreloader=function(){var E=this.preloader;E&&(E.progress=1)},Object.defineProperty(F.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),F.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},F.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(F.prototype,"language",{get:function(){return this._language||(this._language=new Language),this._language},set:function(E){this._language=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"modal",{get:function(){return this._modal||(this._modal=new Modal,this._modal.adapter.add("classPrefix",function(E){return E=options.classNamePrefix+E,E})),this._modal},enumerable:!0,configurable:!0}),F.prototype.showModal=function(E,V){this.hideModal(),this.hidePreloader();var U=this.modal;U.container=this.sprite.svgContainer.SVGContainer,U.content=E,U.readerTitle=V,U.open()},F.prototype.hideModal=function(){this._modal&&this.modal.close()},F.prototype._canvg=function(){return __awaiter(this,void 0,void 0,function(){var E;return __generator(this,function(V){switch(V.label){case 0:return[4,__vitePreload(()=>import("../node_modules/@amcharts/amcharts4/.internal/canvg/index.js"),[])];case 1:return E=V.sent(),E.default!=null?[2,E.default]:[2,E]}})})},Object.defineProperty(F.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pdfmake",{get:function(){return pdfmakePromise==null&&(pdfmakePromise=_pdfmake()),pdfmakePromise},enumerable:!0,configurable:!0}),F.prototype._xlsx=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(E){switch(E.label){case 0:return[4,__vitePreload(()=>import("../node_modules/@amcharts/amcharts4/.internal/bundled/xlsx"),[])];case 1:return[2,E.sent()]}})})},Object.defineProperty(F.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),F.prototype.setFormatOptions=function(E,V){this._formatOptions.setKey(E,V)},F.prototype.getFormatOptions=function(E){return this._formatOptions.getKey(E)},Object.defineProperty(F.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),F.prototype._disablePointers=function(){hasValue(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},F.prototype._releasePointers=function(){hasValue(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},F.prototype.hideNonExportableSprites=function(){var E=this;if(!this._objectsAlreadyHidden){var V=this.sprite.svgContainer;V&&each$2(V.nonExportableSprites,function(U){!U.isHidden&&!U.isHiding&&U.visible&&E._hiddenObjects.push(U),U.hide(0)}),this._objectsAlreadyHidden=!0}},F.prototype.restoreNonExportableSprites=function(){!this._objectsAlreadyHidden||(each$2(this._hiddenObjects,function(E){E.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},F.prototype.awaitValidSprites=function(){return __awaiter(this,void 0,void 0,function(){var E;return __generator(this,function(V){switch(V.label){case 0:return E=[],this.validateSprites.length&&each$2(this.validateSprites,function(U,W){U.invalid&&E.push(new Promise(function(Y,G){U.events.once("validated",function(X){Y()})}))}),E.length?[4,Promise.all(E)]:[3,2];case 1:V.sent(),V.label=2;case 2:return[2]}})})},F.prototype.processConfig=function(E){registry.registeredClasses.ExportMenu=ExportMenu,E&&(hasValue(E.menu)&&!hasValue(E.menu.type)&&(E.menu.type="ExportMenu"),hasValue(E.dataFields)&&isObject$1(E.dataFields)&&(this.dataFields=E.dataFields,delete E.dataFields)),R.prototype.processConfig.call(this,E)},F.XLINK="http://www.w3.org/1999/xlink",F}(Validatable),visualProperties=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],Sprite=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.properties={},E._eventDispatcher=new SpriteEventDispatcher(E),E._bindings={},E._isTemplate=!1,E._isPath=!1,E._inited=!1,E._ready=!1,E.isHiding=!1,E._isHidden=!1,E.isShowing=!1,E.isStandaloneInstance=!1,E._isActive=!1,E._mask=new MutableValueDisposer,E._positionPrecision=3,E._language=new MutableValueDisposer,E._exporting=new MutableValueDisposer,E._exportable=!0,E._bbox={x:0,y:0,width:0,height:0},E.invalid=!1,E.positionInvalid=!1,E.propertyFields={},E.applyOnClones=!1,E._measuredWidthSelf=0,E._measuredHeightSelf=0,E.maxLeft=0,E.maxRight=0,E.maxTop=0,E.maxBottom=0,E.maxLeftSelf=0,E.maxRightSelf=0,E.maxTopSelf=0,E.maxBottomSelf=0,E._isDragged=!1,E._isResized=!1,E._disabled=!1,E._internalDisabled=!1,E._updateDisabled=!1,E._internalDefaultsApplied=!1,E.rollOutDelay=0,E.isBaseSprite=!1,E.shouldClone=!0,E.appeared=!1,E.ex=0,E.ey=0,E.dragWhileResize=!1,E.measureFailed=!1,E.preventShow=!1,E.cloneTooltip=!0,E.className="Sprite",E._disposers.push(E._eventDispatcher),E.uid,E.group=E.paper.addGroup("g"),E.setPropertyValue("scale",1),E.setPropertyValue("rotation",0),E.setPropertyValue("align","none"),E.setPropertyValue("valign","none"),E.setPropertyValue("pixelPerfect",!1),E.setPropertyValue("visible",!0),E.setPropertyValue("tooltipPosition","fixed"),E.setPropertyValue("verticalCenter","none"),E.setPropertyValue("horizontalCenter","none"),E.setPropertyValue("tooltipX",percent(50)),E.setPropertyValue("tooltipX",percent(50)),E.setPropertyValue("marginTop",0),E.setPropertyValue("marginBottom",0),E.setPropertyValue("marginLeft",0),E.setPropertyValue("marginRight",0),E.setPropertyValue("dx",0),E.setPropertyValue("dy",0),E.setPropertyValue("paddingTop",0),E.setPropertyValue("paddingBottom",0),E.setPropertyValue("paddingRight",0),E.setPropertyValue("paddingLeft",0),E.setPropertyValue("togglable",!1),E.setPropertyValue("hidden",!1),E.setPropertyValue("urlTarget","_self"),E.setPropertyValue("alwaysShowTooltip",!1),E.setPropertyValue("showTooltipOn","hover"),E._prevMeasuredWidth=0,E._prevMeasuredHeight=0,E._measuredWidth=0,E._measuredHeight=0,E._isMeasured=!0,E.invalidate(),E.applyTheme(),E._disposers.push(E.events),E._disposers.push(E.group),E._disposers.push(E._mask),E._disposers.push(E._language),E._disposers.push(E._exporting),E._disposers.push(new Disposer(function(){each$1(E._bindings,function(V,U){U.dispose()})})),E.setPropertyValue("interactionsEnabled",!0),E}return Object.defineProperty(F.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Adapter(this)),this._adapterO},enumerable:!0,configurable:!0}),F.prototype.applyTheme=function(){R.prototype.applyTheme.call(this)},F.prototype.getCurrentThemes=function(){var E=this._themes;if(E)return E;var V=this._parent;return V?V.getCurrentThemes():registry.themes},F.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},F.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,registry.addToInvalidSprites(this),system$1.requestFrame())},F.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,registry.removeFromInvalidSprites(this),this.afterDraw()},F.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,registry.addToInvalidPositions(this),system$1.requestFrame())},F.prototype.validatePosition=function(){var E=this.pixelX,V=this.pixelY,U=this.dx,W=this.dy,Y=E+U,G=V+W;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var X=this.measure(),K=this.group.transformString;this.group.moveTo({x:Y,y:G}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(K!=this.group.transformString||X)&&(K==null?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),(this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.updateTooltipPosition()),E+U==Y&&V+W==G&&(registry.removeFromInvalidPositions(this),this.positionInvalid=!1);var Z=this._maskRectangle;Z&&this._clipElement.moveTo({x:Z.x-E,y:Z.y-V})},F.prototype.beforeDraw=function(){},F.prototype.draw=function(){},F.prototype.afterDraw=function(){var E,V;if((this.isMeasured||this.horizontalCenter!=="none"||this.verticalCenter!=="none")&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var U=__values(this._adapterO.keys()),W=U.next();!W.done;W=U.next()){var Y=W.value;switch(Y){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[Y]=this[Y];break}}}catch(G){E={error:G}}finally{try{W&&!W.done&&(V=U.return)&&V.call(U)}finally{if(E)throw E.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}this.showTooltipOn=="always"&&(this.visible&&!this.disabled&&!this.__disabled?this.showTooltip():this.hideTooltip(0))},F.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},F.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},F.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},F.prototype.updateFilterScale=function(){var E=this;each(this.filters.iterator(),function(V){V.scale=E.globalScale})},F.prototype.removeFromInvalids=function(){registry.removeFromInvalidSprites(this),registry.removeFromInvalidPositions(this)},F.prototype.copyFrom=function(E){var V=this;R.prototype.copyFrom.call(this,E),this.isMeasured=E.isMeasured,this.states.copyFrom(E.states),E.filters.length>0&&E.filters.each(function(U){V.filters.push(U.clone())}),E._adapterO&&this.adapter.copyFrom(E._adapterO),E._interaction&&this.interactions.copyFrom(E.interactions),E._plugins&&this.plugins.copyFrom(E.plugins),this.configField=E.configField,this.applyOnClones=E.applyOnClones,this.disabled=E.disabled,this.virtualParent=E.virtualParent,this.exportable=E.exportable,E._tooltip&&(this._tooltip?this._tooltip.copyFrom(E.tooltip):E.cloneTooltip?this.tooltip=E.tooltip.clone():this._tooltip=E.tooltip),this._showSystemTooltip=E.showSystemTooltip,copyProperties(E.propertyFields,this.propertyFields),copyProperties(E.properties,this),E.fillModifier&&(this.fillModifier=E.fillModifier.clone()),E.strokeModifier&&(this.strokeModifier=E.strokeModifier.clone()),E.focusFilter&&(this.focusFilter=E.focusFilter.clone())},F.prototype.dispose=function(){if(!this.isDisposed()){if(this.showTooltipOn=="always"&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(R.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var E=this._clones.length-1;E>=0;E--){var V=this._clones.getIndex(E);V.dispose()}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var U=this.stroke;U&&!(U instanceof Color$1)&&U.dispose&&(this.clonedFrom&&this.clonedFrom.stroke==U||U.dispose());var W=this.fill;if(W&&!(W instanceof Color$1)&&W.dispose&&(this.clonedFrom&&this.clonedFrom.fill==W||W.dispose()),hasValue(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var Y=this._filters.getIndex(0);Y.dispose(),this._filters.removeValue(Y)}this._alwaysShowDisposers=void 0}},Object.defineProperty(F.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(E){E=toBoolean(E),this._isTemplate!=E&&(this._isTemplate=E,this instanceof Container&&each(this.children.iterator(),function(V){V.isTemplate=E}),E?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"showSystemTooltip",{get:function(){return hasValue(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:this._parent?this._parent.showSystemTooltip:!1},set:function(E){E=toBoolean(E),this._showSystemTooltip!=E&&(this._showSystemTooltip=E,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"topParent",{get:function(){if(this._topParent)return this._topParent;if(this._parent)return this._parent.topParent},set:function(E){this._topParent=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"parent",{get:function(){return this._parent},set:function(E){if(!this._isTemplate){this.paper;var V=this._parent;V!=E&&(V&&V.children.removeValue(this),this._parent=E,E?(this.topParent=E.topParent,E.isTemplate&&(this.isTemplate=!0),this.baseId=E.baseId,E.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=E.tooltipContainer),this._dataItem||(this.dataItem=E.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),F.prototype.handleAlwaysShow=function(){this.showTooltip()},F.prototype.handleAlwaysShowTooltip=function(){var E=this,V=this._alwaysShowDisposers;if(V&&each$2(V,function(W){W.dispose()}),this._alwaysShowDisposers=[],this.showTooltipOn=="always")for(;E!=null;){var U=E.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(U),this._alwaysShowDisposers.push(U),E=E.parent}},Object.defineProperty(F.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(E){this._virtualParent=E,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),F.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var E=this.fill;E&&E.element&&this.paper.appendDef(E.element);var V=this.stroke;if(V&&V.element&&this.paper.appendDef(V.element),this.fillModifier&&this.fill instanceof Color$1){var U=this.fillModifier.modify(this.fill);U&&U.element&&this.paper.appendDef(U.element)}if(this.strokeModifier&&this.stroke instanceof Color$1){var W=this.strokeModifier.modify(this.stroke);W&&W.element&&this.paper.appendDef(W.element)}this._clipPath&&this.paper.appendDef(this._clipPath),this._exportable===!1&&(this.exportable=!1)},Object.defineProperty(F.prototype,"map",{get:function(){var E=this.topParent;return E?E.map:(this._map||(this._map=new Dictionary),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"delayedMap",{get:function(){var E=this.topParent;return E?E.delayedMap:(this._delayedMap||(this._delayedMap=new Dictionary),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"id",{get:function(){return this._id},set:function(E){if(this._id!=E){if(this._id=E,this.map.hasKey(E))throw Error("Duplicate id ("+E+") used on multiple objects.");this.map.setKey(E,this)}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"paper",{get:function(){if(this._paper)return this._paper;var E=this._parent;return E?E.paper:getGhostPaper()},set:function(E){this.setPaper(E)},enumerable:!0,configurable:!0}),F.prototype.setPaper=function(E){var V=this._paper;return V!=E?(this._paper=E,this.appendDefs(),!0):!1},Object.defineProperty(F.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var E=this._parent;if(E)return E.htmlContainer},set:function(E){this._htmlContainer=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"filters",{get:function(){return this._filters||(this._filters=new List,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new ListDisposer(this._filters))),this._filters},enumerable:!0,configurable:!0}),F.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},F.prototype.setSVGAttribute=function(E){this.group.attr(E)},F.prototype.removeSVGAttribute=function(E){this.group.removeAttr(E)},F.prototype.setClassName=function(){var E=this.className,V=options.classNamePrefix;this.element&&this.element.addClass(V+E),this.group.addClass(V+E+"-group"),hasValue(this.id)&&this.group.addClass(V+this.id),this.userClassName&&this.group.addClass(this.userClassName)},F.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},F.prototype.updateClipPath=function(){var E=this._clipElement;E&&E.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},F.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var E=registry.getUniqueId();this._clipPath.attr({id:E}),this.group.attr({"clip-path":'url("'+getBaseURI()+E+'")'})}},F.prototype.applyMask=function(){var E=this.mask;if(this._clipPath&&E)if(E instanceof Container){this._clipElement.attr({width:max$2(0,E.pixelWidth),height:max$2(0,E.pixelHeight)});var V=spritePointToSprite({x:E.pixelX,y:E.pixelY},E.parent,this);this._clipPath.x=V.x,this._clipPath.y=V.y}else E.element&&E.element!=this._clipElement&&(this._clipElement=E.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=E.scale,this._clipPath.x=E.pixelX,this._clipPath.y=E.pixelY,this._clipPath.rotation=E.rotation},F.prototype.applyFilters=function(){var E=this;if(this._filters&&this._filters.length>0){var V=100,U=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var W="filter-"+this.uid;this.filterElement.attr({id:W}),each(this.filters.iterator(),function(X){X.sprite=E,X.paper=E.paper,E.filterElement.attr({filterUnits:X.filterUnits}),X.appendPrimitives(E.filterElement),X.width>V&&(V=X.width),X.height>U&&(U=X.height),X.scale=E.globalScale});var Y=V+"%",G=U+"%";this.filterElement.attr({width:Y,height:G,x:-(V-100)/2+"%",y:-(U-100)/2+"%"}),this.group.attr({filter:'url("'+getBaseURI()+W+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},F.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},F.prototype.setElement=function(E){this.element=E,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(F.prototype,"element",{get:function(){return this._element},set:function(E){this.removeElement(),this._element=E,this.group.add(E),E.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"svgContainer",{get:function(){if(this._svgContainer)return this._svgContainer;if(this._parent)return this._parent.svgContainer},set:function(E){this._svgContainer=E},enumerable:!0,configurable:!0}),F.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var E=this.element.getBBox();this._bbox={x:E.x,y:E.y,width:E.width,height:E.height}}},F.prototype.updateCenter=function(){if(this.element){var E=this.element.transformString,V=this.bbox,U=0,W=0,Y=V.x,G=V.y,X=V.width,K=V.height,Z=this.pixelPaddingLeft,J=this.pixelPaddingRight,Q=this.pixelPaddingTop,ee=this.pixelPaddingBottom,te=max$2(X+Z+J,this.pixelWidth),ie=max$2(K+Q+ee,this.pixelHeight),ne=V.x,ae=V.x+te,se=V.y,oe=V.y+ie,le=this.horizontalCenter,ue=this.verticalCenter;switch(le){case"none":U=Y+Z;break;case"left":U=Z;break;case"middle":U=Z-(X+J+Z)/2;break;case"right":U=-J-X;break}switch(ue){case"none":W=G+Q;break;case"top":W=Q;break;case"middle":W=Q-(K+ee+Q)/2;break;case"bottom":W=-ee-K;break}this._measuredHeight=ie,this._measuredWidth=te;var ce=round$2(U-Y,this._positionPrecision,!0),he=round$2(W-G,this._positionPrecision,!0);this.ex=ce-Z,this.ey=he-Q,this.maxLeft=ne+ce-Z,this.maxRight=ae+ce-Z,this.maxTop=se+he-Q,this.maxBottom=oe+he-Q,this.pixelPerfect&&options.pixelPerfectPrecision==0&&(ce-=.5,he-=.5),this.element.moveTo({x:ce,y:he}),E!=this.element.transformString&&this.dispatchImmediately("transformed")}},F.prototype.measure=function(){this.updateCenter();var E=this._measuredWidth,V=this._measuredHeight,U=this.maxLeft,W=this.maxRight,Y=this.maxTop,G=this.maxBottom;this._measuredWidthSelf=E,this._measuredHeightSelf=V;var X=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,this.rotation!==0||this.scale!==1||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var K=this.paper.svg,Z=K.createSVGMatrix(),J=this.rotation,Q=this.scale;this.nonScaling&&(Q=this.scale/this.globalScale),Z.a=cos(J)*Q,Z.c=-sin(J)*Q,Z.e=0,Z.b=sin(J)*Q,Z.d=cos(J)*Q,Z.f=0;var ee=K.createSVGPoint();ee.x=U,ee.y=Y;var te=K.createSVGPoint();te.x=W,te.y=Y;var ie=K.createSVGPoint();ie.x=W,ie.y=G;var ne=K.createSVGPoint();ne.x=U,ne.y=G;var ae=ee.matrixTransform(Z),se=te.matrixTransform(Z),oe=ie.matrixTransform(Z),le=ne.matrixTransform(Z);U=Math.min(ae.x,se.x,oe.x,le.x),W=Math.max(ae.x,se.x,oe.x,le.x),Y=Math.min(ae.y,se.y,oe.y,le.y),G=Math.max(ae.y,se.y,oe.y,le.y),E=W-U,V=G-Y,this.maxLeft=round$2(U,X,!0),this.maxRight=round$2(W,X,!0),this.maxTop=round$2(Y,X,!0),this.maxBottom=round$2(G,X,!0)}return this._measuredWidth=round$2(E,X,!0),this._measuredHeight=round$2(V,X,!0),this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight?(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.tooltip&&this.tooltip.visible&&(hasValue(this.tooltipText)||hasValue(this.tooltipHTML))&&this.updateTooltipPosition(),!0):!1},F.prototype.insertBefore=function(E){var V=this._parent;if(V){var U=V.children.indexOf(E);U!==-1&&(V.children.moveValue(this,U),V.sortChildren())}return this},F.prototype.insertAfter=function(E){var V=this._parent;if(V){var U=V.children.indexOf(E);U!==-1&&(V.children.moveValue(this,U+1),V.sortChildren())}return this},F.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},F.prototype.getRelativeX=function(E){return E instanceof Percent?E.value:this._parent?E/this._parent.innerWidth:0},F.prototype.getRelativeY=function(E){return E instanceof Percent?E.value:this._parent?E/this._parent.innerHeight:0},F.prototype.getPixelX=function(E){var V=0;if(isNumber(E))V=E;else if(E instanceof Percent){var U=E.value;this._parent&&(V=round$2(this._parent.innerWidth*U,this._positionPrecision,!0))}return V},F.prototype.getPixelY=function(E){var V=0;if(isNumber(E))V=E;else if(E instanceof Percent){var U=E.value;this._parent&&(V=round$2(this._parent.innerHeight*U,this._positionPrecision,!0))}return V},F.prototype.moveTo=function(E,V,U,W){this.isDragged&&!W||(E&&(isNumber(E.x)&&this.setPropertyValue("x",round$2(E.x,this._positionPrecision,!0)),isNumber(E.y)&&this.setPropertyValue("y",round$2(E.y,this._positionPrecision,!0))),isNumber(V)&&(this.rotation=V),isNumber(U)&&(this.scale=U),this.invalidatePosition())},Object.defineProperty(F.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(E){var V=this;this._mask.get()!==E&&(E?(this.createClipPath(),E instanceof Container?this._clipElement=this.paper.add("rect"):(E.isMeasured=!1,E.element&&(this._clipElement=E.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(E,new MultiDisposer([E.events.on("maxsizechanged",function(){V.inited&&V.applyMask()},void 0,!1),E.events.on("validated",this.applyMask,this,!1),E.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(E){E?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:E.width,height:E.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(E){E=toBoolean(E),E||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=E&&(this._isMeasured=E,this.invalidatePosition())},enumerable:!0,configurable:!0}),F.prototype.hitTest=function(E){this.invalid&&this.validate(),E.invalid&&E.validate();var V=this.pixelX+this.maxLeft,U=this.pixelY+this.maxTop,W=V+this.maxRight,Y=U+this.maxBottom,G=E.pixelX+E.maxLeft,X=E.pixelY+E.maxTop,K=G+E.maxRight,Z=X+E.maxBottom;return!(G>W||K<V||X>Y||Z<U)},Object.defineProperty(F.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),F.prototype.isReady=function(){return this._ready},Object.defineProperty(F.prototype,"states",{get:function(){if(!this._states){var E=new SpriteState;this._states=new DictionaryTemplate(E),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new DictionaryDisposer(this._states)),this._disposers.push(E)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var E=this.states.create("hidden");E.properties.opacity=0,E.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"defaultState",{get:function(){if(!this.states.getKey("default")){var E=this.states.create("default");E.properties.opacity=1}return this.states.getKey("default")},enumerable:!0,configurable:!0}),F.prototype.processState=function(E){var V=E.newValue;if(V.sprite=this,V.name=E.key,(this.states.hasKey("hover")||this.showTooltipOn=="hover"&&(hasValue(this.tooltipHTML)||hasValue(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||this.showTooltipOn=="hover"&&(hasValue(this.tooltipHTML)||hasValue(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var U=this.clones.values,W=U.length,Y=0;Y<W;++Y){var G=U[Y];G.isDisposed()||G.states.setKey(V.name,V)}},Object.defineProperty(F.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),F.prototype.getSvgPoint=function(E){try{var V=this.htmlContainer.getBoundingClientRect();return{x:E.x-V.left,y:E.y-V.top}}catch{return E}},F.prototype.animate=function(E,V,U){return new Animation(this,E,V,U).start()},F.prototype.setState=function(E,V,U){var W;if(E instanceof SpriteState)this.states.setKey(E.name,E),W=E;else if(W=this.states.getKey(E),!W)return;if(W.name=="hover"){if(this.isHidden)return;this.isHover=!0}return W.name=="hidden"?this.isHiding=!0:this.visible||this.setVisibility(W.properties.visible||this.defaultState.properties.visible),W.name=="active"&&(this.isActive=!0),isNumber(V)||(V=W.transitionDuration),hasValue(U)||(U=W.transitionEasing),this.transitTo(W,V,U)},F.prototype.applyCurrentState=function(E){var V=this.setState(this.defaultState,E);return this.isHover&&(V=this.setState("hover",E)),this.isDown&&this.interactions.downPointers.length&&(V=this.setState("down",E)),this.isFocused=this.isFocused,this.isActive&&(V=this.setState("active",E),this.isHover&&this.states.hasKey("hoverActive")&&(V=this.setState("hoverActive",E))),V},F.prototype.transitTo=function(E,V,U){var W=this,Y=[],G=E.allValues,X;if(each$1(G,function(Z,J){var Q=W[Z];if(J!=Q&&W.defaultState.properties[Z]==null&&(W.defaultState.properties[Z]=Q),J!="__unset"){var ee={from:Q,to:J,property:Z};Y.push(ee)}}),Y.length>0&&(X=this.animate(Y,V,U),X&&!X.isFinished()?this._disposers.push(X.events.on("animationended",function(){W.dispatchImmediately("transitionended")})):this.dispatchImmediately("transitionended")),E.filters.length>0){var K=[];each(E.filters.iterator(),function(Z){var J=Z.clone();K.push(J);var Q=[];each(W.filters.iterator(),function(ee){ee.className==J.className&&(contains$1(W.defaultState.filters.iterator(),function(te){return te.className===J.className})||W.defaultState.filters.push(ee),each$1(J.properties,function(te,ie){var ne=ee.properties[te];ne!=ie&&Q.push({property:te,from:ne,to:ie})}))}),J.animate(Q,V,U)}),this.filters.clear(),this.filters.pushAll(K)}return X},F.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(F.prototype,"isHover",{get:function(){return this.isInteractive()?this.interactions.isHover:!1},set:function(E){E=toBoolean(E),E!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=E,E?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isDown",{get:function(){return this.isInteractive()?this.interactions.isDown:!1},set:function(E){E=toBoolean(E),this.isInteractive()&&this.isDown!=E&&(this.interactions.isDown=E,E?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isFocused",{get:function(){return this.isInteractive()?this.interactions.isFocused:!1},set:function(E){E=toBoolean(E),this.focusable&&this.isFocused!=E&&this.isInteractive()&&(this.interactions.isFocused=E,E===!0?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isActive",{get:function(){return this._isActive},set:function(E){this.setActive(E)},enumerable:!0,configurable:!0}),F.prototype.setActive=function(E){E=toBoolean(E),this._isActive!==E&&(this._isActive=E,E&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(F.prototype,"disabled",{get:function(){var E=this.getPropertyValue("disabled");return hasValue(E)?E:this.virtualParent?this.virtualParent.disabled:this._parent?this._parent.disabled:!1},set:function(E){this.setDisabled(E)},enumerable:!0,configurable:!0}),F.prototype.setDisabled=function(E){E=toBoolean(E);var V=this.getPropertyValue("disabled");if(V!=E){if(this.setPropertyValue("disabled",E,!0),E)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var U=this._parent.element;U.hasChild(this.group)||U.add(this.group)}this instanceof Container?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),system$1.requestFrame(),!0}return!1},Object.defineProperty(F.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(E){this._internalDisabled!=E&&(this._internalDisabled=E,this._updateDisabled=!0,this.invalidatePosition(),E||this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new NumberFormatter,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(E){this._numberFormatter=E,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new DateFormatter,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(E){this._dateFormatter=E,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new DurationFormatter,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(E){this._durationFormatter=E,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"language",{get:function(){var E=this._language.get();return E||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(E=new Language,this.language=E,E))},set:function(E){var V=this;this._language.get()!==E&&this._language.set(E,E.events.on("localechanged",function(U){if(V._numberFormatter&&(V._numberFormatter.language=V.language),V._dateFormatter&&(V._dateFormatter.language=V.language),V._durationFormatter&&(V._durationFormatter.language=V.language),V._exporting.get()){var W=V._exporting.get();W.numberFormatter.language=V.language,W.dateFormatter.language=V.language,W.durationFormatter.language=V.language,W.language=V.language}V instanceof Container&&V.deepInvalidate()}))},enumerable:!0,configurable:!0}),F.prototype.populateString=function(E,V){if(hasValue(E)){E=castString(E),E=getTextFormatter().escape(E);var U=E.match(/\{([^}]+)\}/g),W=void 0;if(U)for(W=0;W<U.length;W++){var Y=U[W].replace(/\{([^}]+)\}/,"$1"),G=this.getTagValue(Y,"",V);hasValue(G)||(G=""),E=E.split(U[W]).join(G)}E=getTextFormatter().unescape(E)}else E="";return this._adapterO?this._adapterO.apply("populateString",E):E},F.prototype.getTagValue=function(E,V,U){var W;hasValue(U)||(U=this.dataItem);for(var Y=[],G=/([^.]+)\(([^)]*)\)|([^.]+)/g,X;X=G.exec(E),X!==null;)if(X[3])Y.push({prop:X[3]});else{var K=[];if(trim(X[2])!="")for(var Z=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,J=void 0;J=Z.exec(X[2]),J!==null;)K.push(J[1]||J[2]||J[3]);Y.push({method:X[1],params:K})}if(U){W=this.getTagValueFromObject(Y,U.values),(!hasValue(W)||isObject$1(W))&&(W=this.getTagValueFromObject(Y,U));var Q=U.dataContext;!hasValue(W)&&Q&&(W=this.getTagValueFromObject(Y,U.dataContext),hasValue(W)||(W=this.getTagValueFromObject([{prop:E}],Q)),!hasValue(W)&&Q.dataContext&&(W=this.getTagValueFromObject(Y,Q.dataContext))),!hasValue(W)&&U.component&&U.component.dataItem!==U&&(W=U.component.getTagValue(E,V))}return hasValue(W)||(W=this.getTagValueFromObject(Y,this.populateStringFrom||this)),!hasValue(W)&&this._parent&&(W=this._parent.getTagValue(E,V)),W},F.prototype.getTagValueFromObject=function(E,V,U){for(var W=V,Y=!1,G=0,X=E.length;G<X;G++){var K=E[G];if(K.prop){if(W=W[K.prop],!hasValue(W))return}else switch(K.method){case"formatNumber":var Z=anyToNumber(W);hasValue(Z)&&(W=this.numberFormatter.format(Z,U||K.params[0]||void 0),Y=!0);break;case"formatDate":var J=void 0;if(isString$1(W)?J=this.dateFormatter.parse(W):J=anyToDate(W),!isDate(J)||isNaN$1(J.getTime()))return;hasValue(J)&&(W=this.dateFormatter.format(J,U||K.params[0]||void 0),Y=!0);break;case"formatDuration":var Q=anyToNumber(W);hasValue(Q)&&(W=this.durationFormatter.format(Q,U||K.params[0]||void 0,K.params[1]||void 0),Y=!0);break;case"urlEncode":case"encodeURIComponent":W=encodeURIComponent(W);break;default:W[K.method]&&W[K.method].apply(this,K.params);break}}if(!Y){var ee=[{method:"",params:U}];if(!hasValue(U))isNumber(W)?(ee[0].method="formatNumber",ee[0].params=""):isDate(W)&&(ee[0].method="formatDate",ee[0].params="");else{var te=getFormat(U);te===NUMBER?ee[0].method="formatNumber":te===DATE?ee[0].method="formatDate":te===DURATION&&(ee[0].method="formatDuration")}ee[0].method&&(W=this.getTagValueFromObject(ee,W))}return W},Object.defineProperty(F.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(E){this.setDataItem(E)},enumerable:!0,configurable:!0}),F.prototype.setDataItem=function(E){var V=this;if(this._dataItem!=E){if(this._dataItem=E,E){if(this.configField){var U=E.dataContext;U&&(this.config=U[this.configField],!this.config&&U.dataContext&&(this.config=U.dataContext[this.configField]))}var W=E.dataContext;if(W){var Y=W.dataContext;each$1(this.propertyFields,function(G,X){if(hasValue(W[X])){var K=V;K[G]=W[X]}else if(Y){var Z=Y[X];if(hasValue(Z)){var K=V;K[G]=Z}}})}}this.invalidate()}},F.prototype.getPropertyValue=function(E){var V=this.properties[E];return this._isTemplate||(this._adapterO&&(V=this._adapterO.apply(E,V)),V=globalAdapter.applyAll(this,E,V)),V},F.prototype.setColorProperty=function(E,V,U){var W=this.properties[E];return V instanceof Color$1&&W instanceof Color$1&&V.toString()==W.toString()?!1:this.setPropertyValue(E,V,U)},F.prototype.setPercentProperty=function(E,V,U,W,Y,G){if(V=toNumberOrPercent(V),isNumber(V))return isNumber(Y)&&(V=round$2(V,Y,G)),this.setPropertyValue(E,V,U,W);var X=this.properties[E];return V instanceof Percent&&X instanceof Percent&&V.value==X.value?!1:this.setPropertyValue(E,V,U,W)},F.prototype.setPropertyValue=function(E,V,U,W){if(this.properties[E]!==V&&!this.isDisposed()){if(this.properties[E]=V,this.events.isEnabled("propertychanged")){var Y={type:"propertychanged",target:this,property:E};this.events.dispatchImmediately("propertychanged",Y)}if(U&&this.invalidate(),W&&this.invalidatePosition(),this.applyOnClones)for(var G=this.clones.values,X=G.length,K=0;K<X;++K){var Z=G[K];Z.isDisposed()||(Z[E]=V)}return!0}return!1},F.prototype.bind=function(E,V,U,W){var Y=this;U===void 0&&(U=E),hasValue(this._bindings[E])&&this._bindings[E].dispose(),this[E]=V[U],this._bindings[E]=V.events.on("propertychanged",function(G){if(G.property===U){var X=V[U];W&&(X=W(X)),Y[E]=X}})},F.prototype.observe=function(E,V,U,W){var Y=this;return new MultiDisposer(map$2(toArray$2(E),function(G){return Y.events.on("propertychanged",function(X){X.property===G&&V.call(U,X)},U,W)}))},F.prototype.applyAccessibility=function(){var E=this.readerTitle,V=this.readerDescription,U=this.role,W=this.readerHidden,Y=this.readerChecked,G=this.readerControls,X=this.readerLive,K=this.readerOrientation,Z=this.readerValueNow,J=this.readerValueText,Q=[],ee=[],te=this.readerLabelledBy;te&&Q.push(te);var ie=this.readerDescribedBy;if(ie&&ee.push(ie),E)if(Q.length||this.showSystemTooltip){var ne=this.titleElement,ae=this.uid+"-title";ne.node.textContent!=E&&(ne.node.textContent=E,ne.attr({id:ae})),Q.push(ae)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":E});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(V){var se=this.descriptionElement,oe=this.uid+"-description";se.node.textContent!=V&&(se.node.textContent=V,se.attr({id:oe})),ee.push(oe)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);Q.length?this.setSVGAttribute({"aria-labelledby":Q.join(" ")}):this.removeSVGAttribute("aria-labelledby"),ee.length?this.setSVGAttribute({"aria-describedby":ee.join(" ")}):this.removeSVGAttribute("aria-describedby"),U?this.setSVGAttribute({role:U}):this.removeSVGAttribute("role"),W?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),Y?this.setSVGAttribute({"aria-checked":"true"}):Y===!1?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),G?this.setSVGAttribute({"aria-controls":G}):this.removeSVGAttribute("aria-controls"),X?this.setSVGAttribute({"aria-live":X}):this.removeSVGAttribute("aria-live"),K?this.setSVGAttribute({"aria-orientation":K}):this.removeSVGAttribute("aria-orientation"),Z?this.setSVGAttribute({"aria-valuenow":Z}):this.removeSVGAttribute("aria-valuenow"),J?this.setSVGAttribute({"aria-valuetext":J}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(F.prototype,"readerTitle",{get:function(){var E=this.getPropertyValue("readerTitle");return hasValue(E)&&this.dataItem?this.populateString(E):E},set:function(E){E=toText(E),this.setPropertyValue("readerTitle",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerDescription",{get:function(){var E=this.getPropertyValue("readerDescription");return hasValue(E)&&this.dataItem?this.populateString(E):this.getPropertyValue("readerDescription")},set:function(E){E=toText(E),this.setPropertyValue("readerDescription",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(E){E=toText(E),this.setPropertyValue("role",E)&&(this.applyAccessibility(),E=="slider"&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(E){E=toBoolean(E),this.setPropertyValue("readerHidden",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(E){E=toBoolean(E),this.setPropertyValue("readerChecked",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(E){E=toText(E),this.setPropertyValue("readerControls",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(E){E=toText(E),this.setPropertyValue("readerLive",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(E){E=toText(E),this.setPropertyValue("readerLabelledBy",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(E){E=toText(E),this.setPropertyValue("readerDescribedBy",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(E){E=toText(E),this.setPropertyValue("readerOrientation",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(E){E=toText(E),this.setPropertyValue("readerValueNow",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(E){E=toText(E),this.setPropertyValue("readerValueText",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"interactions",{get:function(){if(!this._interaction){var E=getInteraction().getInteraction(this.dom);this._interaction=E,E.clickable=this.clickable,E.hoverable=this.hoverable,E.trackable=this.trackable,E.draggable=this.draggable,E.swipeable=this.swipeable,E.resizable=this.resizable,E.wheelable=this.wheelable,E.contextMenuDisabled=this.contextMenuDisabled,E.inert=this.inert,E.sprite=this,this._disposers.push(E)}return this._interaction},enumerable:!0,configurable:!0}),F.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(F.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(E){var V=this;E=toBoolean(E),this.setPropertyValue("focusable",E)&&(!E&&!this.isInteractive()||(this.interactions.focusable=E,E?(this.setSVGAttribute({focusable:E}),hasValue(this._tabindex)||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",E,function(){return new MultiDisposer([V.events.on("blur",V.handleBlur,V,!1),V.events.on("focus",V.handleFocus,V,!1)])})))},enumerable:!0,configurable:!0}),F.prototype.handleFocus=function(E){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},F.prototype.handleBlur=function(E){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(F.prototype,"focusFilter",{get:function(){var E=this._focusFilter;if(E)return E;if(this.virtualParent)return this.virtualParent.focusFilter;if(this._parent)return this._parent.focusFilter},set:function(E){this._focusFilter=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(E){E!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tabindex",{get:function(){var E=this._tabindex;if(E!=null)return E;if(this.virtualParent)return this.virtualParent.tabindex;if(this._parent)return this._parent.tabindex},set:function(E){E=toNumber(E),this.setPropertyValue("tabindex",E)&&isNumber(E)&&(this.interactions.tabindex=E,this.setSVGAttribute({tabindex:E}),this._tabindex=E,this.focusable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(E){var V=this;E=toBoolean(E),this.setPropertyValue("draggable",E)&&(!E&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.draggable=E,this.interactions.setEventDisposer("sprite-draggable",E,function(){return new MultiDisposer([V.events.on("down",V.handleDown,V,!1),V.events.on("dragstart",V.handleDragStart,V,!1),V.events.on("drag",V.handleDragMove,V,!1),V.events.on("dragstop",V.handleDragStop,V,!1)])})))},enumerable:!0,configurable:!0}),F.prototype.handleDragStart=function(E){(!this.interactions.isTouchProtected||!E.touch)&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},F.prototype.dragStart=function(E){this._isDragged=!0,getInteraction().dragStart(this.interactions,E)},F.prototype.handleDragStop=function(E){(!this.interactions.isTouchProtected||!E.touch)&&(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},F.prototype.dragStop=function(E,V){this._isDragged=!1,getInteraction().dragStop(this.interactions,E,V)},F.prototype.handleDragMove=function(E){if(!this.interactions.isTouchProtected||!E.touch){var V=this.interactions.originalPosition;if(V&&this._isDragged){var U=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:V.x+E.shift.x/U,y:V.y+E.shift.y/U},void 0,void 0,!0)}this.dispatchImmediately("dragged",E)}},Object.defineProperty(F.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(E){E=toBoolean(E),this.setPropertyValue("inert",E)&&(!E&&!this.isInteractive()||(this.interactions.inert=E))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(E){var V=this;E=toBoolean(E),this.setPropertyValue("hoverable",E)&&(!E&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.hoverable=E,this.interactions.setEventDisposer("sprite-hoverable",E,function(){return new MultiDisposer([V.events.on("over",V.handleOver,V,!1),V.events.on("out",V.handleOut,V,!1)])})))},enumerable:!0,configurable:!0}),F.prototype.handleOver=function(E){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var V=void 0;E&&E.pointer&&(V=documentPointToSvg(E.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),this.showTooltipOn=="hover"&&this.showTooltip(V)}else this.showTooltipOn=="hover"&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},F.prototype.handleOut=function(E){var V=this;if(this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover){this._outTimeout=this.setTimeout(function(){V.tooltip.isHover||(V.tooltip.targetSprite==V&&V.hideTooltip(),V._outTimeout=V.setTimeout(V.handleOutReal.bind(V),V.rollOutDelay))},10);return}this.showTooltipOn=="hover"&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay)},F.prototype.handleOutReal=function(){!this.isHidden&&!this.isHiding&&this.states.hasKey("hover")&&this.applyCurrentState()},Object.defineProperty(F.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),F.prototype.handleDown=function(E){this.interactions.downPointers.length===1&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},F.prototype.handleUp=function(E){var V=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),this.showTooltipOn=="hit"&&(this.updateTooltipPosition(E.pointer?E.pointer.point:void 0),this._disposers.push(registry.events.once("exitframe",function(){V.showTooltip()})),this._disposers.push(getInteraction().body.events.once("down",function(U){V.hideTooltip()})))},Object.defineProperty(F.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(E){var V=this;E=toBoolean(E),this.setPropertyValue("clickable",E)&&(!E&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.clickable=E,this.interactions.setEventDisposer("sprite-clickable",E,function(){return new MultiDisposer([V.events.on("down",V.handleDown,V,!1),V.events.on("up",V.handleUp,V,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(E){var V=this;E=toBoolean(E),this.setPropertyValue("togglable",E)&&(!E&&!this.isInteractive()||this.interactions.setEventDisposer("sprite-togglable",E,function(){return V.events.on("hit",V.handleToggle,V,!1)}))},enumerable:!0,configurable:!0}),F.prototype.handleToggle=function(E){this.isActive=!this.isActive},Object.defineProperty(F.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(E){E=toBoolean(E),this.setPropertyValue("contextMenuDisabled",E)&&(this.interactions.contextMenuDisabled=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(E){this.setPropertyValue("url",E)&&(this._urlDisposer&&this._urlDisposer.dispose(),isNotEmpty(E)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=MouseCursorStyle.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(E){this.setBaseId(E)},enumerable:!0,configurable:!0}),F.prototype.setBaseId=function(E){E!=this._baseId&&(this.invalid&&(this.invalid=!1,registry.removeFromInvalidSprites(this),this.invalidate()),this._baseId=E)},Object.defineProperty(F.prototype,"baseSprite",{get:function(){if(this.isBaseSprite)return this;if(this._parent)return this._parent.baseSprite},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(E){this.setPropertyValue("urlTarget",E)},enumerable:!0,configurable:!0}),F.prototype.urlHandler=function(E){if(isNotEmpty(this.url)){var V=this.populateString(this.url);this.urlTarget==="_self"?window.location.href=V:window.open(V,this.urlTarget)}},Object.defineProperty(F.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(E){E=toBoolean(E),this.setPropertyValue("swipeable",E)&&(this.applyCursorStyle(),!E&&!this.isInteractive()||(this.interactions.swipeable=E))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(E){E=toBoolean(E),this.setPropertyValue("trackable",E)&&(!E&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.trackable=E))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(E){this.setPropertyValue("wheelable",E)&&(!E&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.wheelable=E))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(E){var V=this;E=toBoolean(E),this.setPropertyValue("resizable",E)&&(!E&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.resizable=E,this.interactions.setEventDisposer("sprite-resizable",E,function(){return new MultiDisposer([V.events.on("down",V.handleDown,V,!1),V.events.on("resize",V.handleResize,V,!1)])})))},enumerable:!0,configurable:!0}),F.prototype.handleResize=function(E){if((!this.interactions.isTouchProtected||!E.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*E.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var V=documentPointToSvg(E.point1,this.htmlContainer,this.svgContainer.cssScale),U=documentPointToSvg(E.point2,this.htmlContainer,this.svgContainer.cssScale),W=getMidPoint(V,U),Y=documentPointToSprite(E.startPoint1,this._parent),G=documentPointToSprite(E.startPoint2,this._parent),X=this.interactions.originalPosition,K=this.interactions.originalScale;if(X){var Z={x:(Y.x-X.x)/K,y:(Y.y-X.y)/K},J={x:(G.x-X.x)/K,y:(G.y-X.y)/K},Q=getMidPoint(Z,J),ee=svgPointToSprite(W,this._parent);this.moveTo({x:ee.x-Q.x*this.scale,y:ee.y-Q.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(F.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cursorOverStyle",{set:function(E){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=E,getInteraction().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cursorDownStyle",{set:function(E){this.cursorOptions.downStyle=E},enumerable:!0,configurable:!0}),F.prototype.applyCursorStyle=function(){},Object.defineProperty(F.prototype,"interactionsEnabled",{get:function(){var E=this.getPropertyValue("interactionsEnabled");return E===!1?!1:this.virtualParent?this.virtualParent.interactionsEnabled:this._parent?this._parent.interactionsEnabled:!0},set:function(E){if(E=toBoolean(E),this.setPropertyValue("interactionsEnabled",E)){var V=null;E?this.group.node.style.pointerEvents="":V="none",this.group.node.style.pointerEvents=V}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"exporting",{get:function(){return this.getExporting()},set:function(E){this._exporting.set(E,E)},enumerable:!0,configurable:!0}),F.prototype.getExporting=function(){var E=this._exporting.get();if(E)return E;if(this.isStandaloneInstance||!this._parent)E=new Export(this.svgContainer.SVGContainer),E.sprite=this,E.language=this.language,E.numberFormatter=this.numberFormatter,E.dateFormatter=this.dateFormatter,E.durationFormatter=this.durationFormatter,this._exporting.set(E,E);else return this._parent.exporting;return E},Object.defineProperty(F.prototype,"exportable",{get:function(){return this._exportable},set:function(E){var V=this.svgContainer;this._exportable=E,V&&(E?remove$1(V.nonExportableSprites,this):indexOf(V.nonExportableSprites,this)==-1&&V.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),F.prototype.modalPrefix=function(E){return E=options.classNamePrefix+E,E},Object.defineProperty(F.prototype,"modal",{get:function(){var E=this.svgContainer;if(E){var V=E.modal;return V.adapter.has("classPrefix",this.modalPrefix)||V.adapter.add("classPrefix",this.modalPrefix),V}},enumerable:!0,configurable:!0}),F.prototype.openModal=function(E,V){var U=this.svgContainer;if(U)return U.openModal(E,V)},F.prototype.closeModal=function(){var E=this.svgContainer;E&&E.closeModal()},Object.defineProperty(F.prototype,"popups",{get:function(){var E=this.svgContainer;if(E){var V=E.popups;return V.template.sprite=this,V.template.adapter.has("classPrefix",this.modalPrefix)||V.template.adapter.add("classPrefix",this.modalPrefix),V}},enumerable:!0,configurable:!0}),F.prototype.openPopup=function(E,V){var U=this.svgContainer;if(U)return U.openPopup(E,V)},F.prototype.closeAllPopups=function(){var E=this.svgContainer;E&&E.closeAllPopups()},Object.defineProperty(F.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(E){this.isDragged||this.setPercentProperty("x",E,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelX",{get:function(){var E=fitToRange(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(E){isNumber(E)&&(E=round$2(E,this._positionPrecision,!0),this.setPropertyValue("minX",E,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(E){isNumber(E)&&(E=round$2(E,this._positionPrecision,!0),this.setPropertyValue("maxX",E,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(E){this.isDragged||this.setPercentProperty("y",E,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelY",{get:function(){var E=fitToRange(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(E){isNumber(E)&&(E=round$2(E,this._positionPrecision,!0),this.setPropertyValue("minY",E,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(E){isNumber(E)&&(E=round$2(E,this._positionPrecision,!0),this.setPropertyValue("maxY",E,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(E){isNumber(E)&&(E=round$2(E,this._positionPrecision,!0),this.setPropertyValue("dx",E,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(E){isNumber(E)&&(E=round$2(E,this._positionPrecision,!0),this.setPropertyValue("dy",E,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(E){E=toNumber(E),isNumber(E)||(E=0),this.setPropertyValue("rotation",E,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(E){E=toText(E),this.setPropertyValue("align",E)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(E){E=toText(E),this.setPropertyValue("valign",E)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(E){E=toText(E),this.setPropertyValue("horizontalCenter",E)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(E){E=toText(E),this.setPropertyValue("verticalCenter",E)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxWidth",{get:function(){var E=this.getPropertyValue("maxWidth");if(!isNumber(E)&&this._parent){var V=this._parent.maxWidth;return this._parent.layout!="absolute"&&this.align!="none"&&this.align!=null&&(V=V-this.pixelMarginLeft-this.pixelMarginRight),V}return E},set:function(E){this.setMaxWidth(E)},enumerable:!0,configurable:!0}),F.prototype.setMaxWidth=function(E){var V=this.maxWidth,U=this.maxHeight;if(this.setPropertyValue("maxWidth",E)){isNumber(this.relativeWidth)&&this.invalidate();var W={type:"maxsizechanged",target:this,previousWidth:V,previousHeight:U};this.dispatchImmediately("maxsizechanged",W)}},Object.defineProperty(F.prototype,"maxHeight",{get:function(){var E=this.getPropertyValue("maxHeight");if(!isNumber(E)&&this._parent){var V=this._parent.maxHeight;return this._parent.layout!="absolute"&&this.valign!="none"&&this.valign!=null&&(V=V-this.pixelMarginTop-this.pixelMarginBottom),V}return E},set:function(E){this.setMaxHeight(E)},enumerable:!0,configurable:!0}),F.prototype.setMaxHeight=function(E){var V=this.maxWidth,U=this.maxHeight;if(this.setPropertyValue("maxHeight",E)){isNumber(this.relativeHeight)&&this.invalidate();var W={type:"maxsizechanged",target:this,previousWidth:V,previousHeight:U};this.dispatchImmediately("maxsizechanged",W)}},Object.defineProperty(F.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(E){this.setPropertyValue("minWidth",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(E){this.setPropertyValue("minHeight",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(E){var V=this.setPercentProperty("width",E,!0,!1,this._positionPrecision,!0);V&&(this.percentWidth=void 0,this.relativeWidth=void 0,E instanceof Percent?(this.percentWidth=E.percent,isNumber(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(E),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(E){var V=this.setPercentProperty("height",E,!0,!1,this._positionPrecision,!0);V&&(this.percentHeight=void 0,this._relativeHeight=void 0,E instanceof Percent?(this.percentHeight=E.percent,isNumber(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(E),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelWidth",{get:function(){var E;isNumber(this.percentWidth)?E=this.maxWidth:isNumber(this._pixelWidth)?E=this._pixelWidth:E=0;var V=this.minWidth;V!=null&&E<V&&(E=V);var U=round$2(E,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",U):U},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelHeight",{get:function(){var E;isNumber(this.percentHeight)?E=this.maxHeight:isNumber(this._pixelHeight)?E=this._pixelHeight:E=0;var V=this.minHeight;V!=null&&E<V&&(E=V);var U=round$2(E,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",U):U},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativeWidth",{get:function(){var E=this._relativeWidth;if(isNumber(E))return this._adapterO?this._adapterO.apply("relativeWidth",E):E},set:function(E){this._relativeWidth!=E&&(this._relativeWidth=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativeHeight",{get:function(){var E=this._relativeHeight;if(isNumber(E))return this._adapterO?this._adapterO.apply("relativeHeight",E):E},set:function(E){this._relativeHeight!=E&&(this._relativeHeight=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"outerWidth",{get:function(){var E=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"outerHeight",{get:function(){var E=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerWidth",{get:function(){var E=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerHeight",{get:function(){var E=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"globalScale",{get:function(){var E=this.scale;return this._parent&&(E=E*this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(E){E=toNumber(E),E<0&&(E=0),E!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",E,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),F.prototype.margin=function(E,V,U,W){return this.marginTop=E,this.marginRight=V,this.marginBottom=U,this.marginLeft=W,this},Object.defineProperty(F.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(E){this.setPercentProperty("marginLeft",E,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(E){this.setPercentProperty("marginRight",E,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(E){this.setPercentProperty("marginTop",E,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(E){this.setPercentProperty("marginBottom",E,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelMarginRight",{get:function(){var E=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativeMarginRight",{get:function(){var E=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelMarginLeft",{get:function(){var E=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativeMarginLeft",{get:function(){var E=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelMarginTop",{get:function(){var E=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativeMarginTop",{get:function(){var E=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelMarginBottom",{get:function(){var E=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",E):E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativeMarginBottom",{get:function(){var E=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",E):E},enumerable:!0,configurable:!0}),F.prototype.padding=function(E,V,U,W){return this.paddingTop=E,this.paddingRight=V,this.paddingBottom=U,this.paddingLeft=W,this},Object.defineProperty(F.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(E){this.setPercentProperty("paddingLeft",E,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(E){this.setPercentProperty("paddingRight",E,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(E){this.setPercentProperty("paddingTop",E,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(E){this.setPercentProperty("paddingBottom",E,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(E){this.setPath(E)},enumerable:!0,configurable:!0}),F.prototype.setPath=function(E){return this.setPropertyValue("path",E)?(this._adapterO&&(E=this._adapterO.apply("path",E)),this._isPath||((!this.element||this.element.node&&!(this.element.node instanceof SVGPathElement))&&(this.element=this.paper.add("path")),this._isPath=!0),hasValue(E)?this.element.attr({d:E}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0):!1},Object.defineProperty(F.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(E){this.setPropertyValue("fillModifier",E)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(E){this.setPropertyValue("strokeModifier",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(E){E=toNumberRange(E,0,1),this.setPropertyValue("fillOpacity",E)&&this.setSVGAttribute({"fill-opacity":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(E){this.setFill(E)},enumerable:!0,configurable:!0}),F.prototype.setFill=function(E){if((!isObject$1(E)||"r"in E)&&(E=toColor(E)),this.setColorProperty("fill",E)||this.fillModifier){if(E instanceof Color$1&&this.fillModifier&&(E=this.fillModifier.modify(E)),this.realFill=E,E instanceof Color$1)this.setSVGAttribute({fill:E.toString()});else if(!hasValue(E))this.removeSVGAttribute("fill");else if(E instanceof Pattern||E instanceof LinearGradient||E instanceof RadialGradient){var V=E;V.paper=this.paper,this.setSVGAttribute({fill:'url("'+getBaseURI()+V.id+'")'})}}},Object.defineProperty(F.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(E){E=toNumberRange(E,0,1),this.setPropertyValue("opacity",E)&&this.setSVGAttribute({opacity:E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(E){this.setStroke(E)},enumerable:!0,configurable:!0}),F.prototype.setStroke=function(E){if((!isObject$1(E)||"r"in E)&&(E=toColor(E)),this.setColorProperty("stroke",E)||this.strokeModifier){if(E instanceof Color$1&&this.strokeModifier&&(E=this.strokeModifier.modify(E)),this.realStroke=E,E instanceof Color$1)E.hex=="none"?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:E.toString()});else if(!hasValue(E))this.removeSVGAttribute("stroke");else if(E instanceof Pattern||E instanceof LinearGradient||E instanceof RadialGradient){var V=E;V.paper=this.paper,this.setSVGAttribute({stroke:'url("'+getBaseURI()+V.id+'")'})}}},Object.defineProperty(F.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(E){E=toNumberRange(E,0,1),this.setPropertyValue("strokeOpacity",E)&&this.setSVGAttribute({"stroke-opacity":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(E){E=toBoolean(E),this.setPropertyValue("nonScalingStroke",E)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(E){E=toBoolean(E),this.setPropertyValue("nonScaling",E,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(E){E=toNumber(E),this.setPropertyValue("strokeWidth",E,!0),this.nonScalingStroke&&(isNumber(E)||(E=1),E=E/this.globalScale),this.setSVGAttribute({"stroke-width":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(E){E=toText(E),this.setPropertyValue("strokeDasharray",E)&&this.setSVGAttribute({"stroke-dasharray":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(E){E=toNumber(E),this.setPropertyValue("strokeDashoffset",E)&&this.setSVGAttribute({"stroke-dashoffset":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(E){this.setPropertyValue("strokeLinecap",E)&&this.setSVGAttribute({"stroke-linecap":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(E){this.setPropertyValue("strokeLinejoin",E)&&this.setSVGAttribute({"stroke-linejoin":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(E){E=toText(E),this.setPropertyValue("shapeRendering",E)&&this.setSVGAttribute({"shape-rendering":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(E){E=toBoolean(E),E?this._positionPrecision=options.pixelPerfectPrecision:this._positionPrecision=3,this.setPropertyValue("pixelPerfect",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rtl",{get:function(){return hasValue(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(E){E=toBoolean(E),this.isBaseSprite&&(this.topParent.rtl=E),this._rtl=E},enumerable:!0,configurable:!0}),F.prototype.show=function(E){return this.showReal(E)},F.prototype.showReal=function(E){var V=this;if(!this.preventShow){var U,W=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||W.opacity!=null&&this.opacity<W.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),isNumber(E)||(E=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,U=this.applyCurrentState(E),U&&!U.isFinished()?(this._showHideDisposer=U.events.on("animationended",function(){V.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var Y=this.defaultState.properties.visible;hasValue(Y)||(Y=!0),this.visible=Y,this.readerHidden=!1,this.dispatchImmediately("shown")}return U}},F.prototype.hide=function(E){return this.hideReal(E)},F.prototype.hideReal=function(E){var V=this,U;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var W=this.hiddenState;W?(U=this.setState(W,E,void 0),U&&!U.isFinished()?(this._hideAnimation=U,this._showHideDisposer=U.events.on("animationended",function(){V.isHiding=!1,V._isHidden=!0,W.properties.visible==!1&&(V.visible=!1)},this),this._disposers.push(this._showHideDisposer),this._disposers.push(U)):(this.isHiding=!1,this._isHidden=!0)):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return isNumber(E)||(E=this.hiddenState.transitionDuration),U},Object.defineProperty(F.prototype,"visible",{get:function(){return this.getVisibility()},set:function(E){E=toBoolean(E),this.setVisibility(E)},enumerable:!0,configurable:!0}),F.prototype.getVisibility=function(){var E=this.getPropertyValue("visible");return hasValue(E)||(E=!0),E},F.prototype.setVisibility=function(E){if(this.setPropertyValue("visible",E)&&(E?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var V={type:"visibilitychanged",target:this,visible:E};this.events.dispatchImmediately("visibilitychanged",V)}},Object.defineProperty(F.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(E){E=toNumber(E),this.setPropertyValue("zIndex",E)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),F.prototype.toFront=function(){var E=this._parent;E&&E.children.indexOf(this)!=E.children.length-1&&(E.children.moveValue(this,E.children.length-1),this.dispatch("zIndexChanged"))},F.prototype.toBack=function(){var E=this._parent;E&&E.children.indexOf(this)!=0&&(E.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(F.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(E){this.setPropertyValue("userClassName",E)&&(!E&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltip",{get:function(){if(this._tooltip)return this._tooltip;if(this.virtualParent)return this.virtualParent.tooltip;if(this._parent)return this._parent.tooltip},set:function(E){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=E,E&&(E.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipDataItem",{get:function(){var E=this._tooltipDataItem;return E||this.dataItem},set:function(E){this._tooltipDataItem=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(E){this._tooltipColorSource=E},enumerable:!0,configurable:!0}),F.prototype.showTooltip=function(E){this.showTooltipOn=="always"&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!E&&this.tooltipPosition=="pointer"&&this.isHover&&(E=documentPointToSvg(getInteraction().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var V=this;V!=null;){if(!V.visible||V.disabled||V.__disabled){this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0);return}V=V.parent}if(hasValue(this.tooltipText)||hasValue(this.tooltipHTML)){var U=this.tooltip,W=this.tooltipDataItem;if(U){U.targetSprite=this;var Y=this,G=this.tooltipColorSource;if((U.getStrokeFromObject||U.getFillFromObject)&&G&&(G.isTemplate?W&&eachContinue$2(W.sprites,function(ee){return ee.clonedFrom==G?(Y=ee,!1):!0}):Y=G),U.getStrokeFromObject){for(var X=this.stroke,K=Y;K.parent!=null&&(X=K.stroke,X==null&&(K=K.parent),X==null););X instanceof Color$1?U.background.animate({property:"stroke",to:X},U.animationDuration):U.background.stroke=X}if(U.dataItem=W,U.label.populateStringFrom=this,U.getFillFromObject){for(var Z=this.fill,K=Y;K.parent!=null;)if(Z=K.fill,Z==null||Z instanceof Color$1&&Z.rgb==null)K=K.parent;else if(Z!=null)break;Z==null&&(Z=color$1("#000000")),Z instanceof Color$1&&U.visible?U.background.animate({property:"fill",to:Z},U.animationDuration):U.background.fill=Z,U.autoTextColor&&Z instanceof Color$1&&(U.label.fill=Z.alternative)}var J="";if(this.tooltipHTML&&(U.html=this.tooltipHTML,J=this.tooltipHTML),this.tooltipText&&(U.text=this.tooltipText,J=this.tooltipText),this.updateTooltipPosition(E))if(U.readerDescribedBy=this.uidAttr(),U.label.invalid&&U.label.validate(),J!=null&&J!=""&&U.label.currentText!=""){U&&!U.parent&&(U.parent=this.tooltipContainer);var Q=U.defaultState.transitionDuration;return Q<=0&&(Q=1),U.show(Q),U.currentSprite=this,!0}else this.hideTooltip(0);else this.hideTooltip(0)}}return!1},F.prototype.updateTooltipPosition=function(E){var V=this;if(this.tooltipPosition=="pointer"){if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=getInteraction().body.events.on("track",function(W){return V.pointTooltipTo(documentPointToSvg(W.point,V.svgContainer.SVGContainer,V.svgContainer.cssScale),!0)}),E)return this.pointTooltipTo(E,!0)}else{var U=spritePointToSvg({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(U)}},F.prototype.pointTooltipTo=function(E,V){var U=this.tooltip;return U&&this.topParent&&(U.showInViewport||isInRectangle(E,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))?(U.pointTo(E,V),!0):!1},F.prototype.hideTooltip=function(E){if(this.showTooltipOn!="always"){var V=this.tooltip;V&&(V.targetSprite==this&&(V.targetSprite=void 0),V.hide(E),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(F.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(E){E=toText(E),this.hoverable=!0,this.setPropertyValue("tooltipHTML",E)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(E){E=toText(E),E&&(this.hoverable=!0),this.setPropertyValue("tooltipText",E)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipContainer",{get:function(){if(this._tooltipContainer)return this._tooltipContainer;if(this._parent)return this._parent.tooltipContainer},set:function(E){this._tooltipContainer=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(E){this.setPercentProperty("tooltipX",E)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"alwaysShowTooltip",{get:function(){return this.getPropertyValue("showTooltipOn")=="always"},set:function(E){E=toBoolean(E),E&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(E){this.setPropertyValue("showTooltipOn",E)&&(E=="hit"&&(this.clickable=!0),this.tooltip&&(E=="always"?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(E){this.setPropertyValue("tooltipPosition",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(E){this.setPercentProperty("tooltipY",E)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),F.prototype.getTooltipX=function(){var E=this.getPropertyValue("tooltipX");hasValue(E)||(E=percent(50));var V;return isNumber(E)&&(V=E),E instanceof Percent&&(V=this.maxLeftSelf+this._measuredWidthSelf*E.value-this.pixelPaddingLeft-this.ex),isNumber(V)||(V=0),V},F.prototype.getTooltipY=function(){var E=this.getPropertyValue("tooltipY");hasValue(E)||(E=percent(50));var V;return isNumber(E)&&(V=E),E instanceof Percent&&(V=this.maxTopSelf+this._measuredHeightSelf*E.value-this.pixelPaddingTop-this.ey),isNumber(V)||(V=0),V},F.prototype.raiseCriticalError=function(E,V){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",E).message:this.modal.content=E.message,V?this.modal.closable=!0:this.disabled=!0,this.modal.open()),console.log(E)},F.prototype.processConfig=function(E){E&&(hasValue(E.tooltipColorSource)&&isString$1(E.tooltipColorSource)&&this.map.hasKey(E.tooltipColorSource)&&(E.tooltipColorSource=this.map.getKey(E.tooltipColorSource)),hasValue(E.cursorOverStyle)&&isString$1(E.cursorOverStyle)&&(E.cursorOverStyle=this.getCursorStyle(E.cursorOverStyle)),hasValue(E.cursorDowntyle)&&isString$1(E.cursorDowntyle)&&(E.cursorDowntyle=this.getCursorStyle(E.cursorDowntyle)),hasValue(E.cursorOptions)&&(hasValue(E.cursorOptions.overStyle)&&isString$1(E.cursorOptions.overStyle)&&(E.cursorOptions.overStyle=this.getCursorStyle(E.cursorOptions.overStyle)),hasValue(E.cursorOptions.downStyle)&&isString$1(E.cursorOptions.downStyle)&&(E.cursorOptions.downStyle=this.getCursorStyle(E.cursorOptions.downStyle)))),R.prototype.processConfig.call(this,E),this.processDelayedMap()},F.prototype.getCursorStyle=function(E){switch(E){case"grab":return MouseCursorStyle.grab;case"grabbing":return MouseCursorStyle.grabbing;case"pointer":return MouseCursorStyle.pointer;case"horizontalResize":return MouseCursorStyle.horizontalResize;case"verticalResize":return MouseCursorStyle.verticalResize;default:return MouseCursorStyle.default}},F.prototype.configOrder=function(E,V){return E==V?0:E=="tooltipColorSource"?1:V=="tooltipColorSource"?-1:R.prototype.configOrder.call(this,E,V)},Object.defineProperty(F.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:this._parent?this._parent.isHidden:!1},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(E){E=toBoolean(E),this.setShowOnInit(E)},enumerable:!0,configurable:!0}),F.prototype.setShowOnInit=function(E){this.setPropertyValue("showOnInit",E)&&(this.isTemplate||(E&&!this.inited&&!this.hidden?(this._showOnInitDisposer=new MultiDisposer([registry.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer)):this._showOnInitDisposer&&this._showOnInitDisposer.dispose()))},F.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},F.prototype.appear=function(){var E=this;if(this.appeared=!1,!this.hidden&&!this.isHidden&&this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var V=this.show();V&&!V.isFinished()?this.addDisposer(V.events.on("animationended",function(){E.appeared=!0,E.dispatch("appeared")})):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(F.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(E){E=toBoolean(E),this.setPropertyValue("hidden",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"plugins",{get:function(){var E=this;return this._plugins||(this._plugins=new List,this._disposers.push(this._plugins.events.on("inserted",function(V){V.newValue.target=E,V.newValue.init()})),this._disposers.push(new ListDisposer(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),F.prototype._systemUpdate=function(E){this.validate()},F.prototype._systemCheckIfValidate=function(){return!0},F.prototype._systemValidatePositions=function(){this.validatePosition()},F.prototype._systemValidateLayouts=function(){},F}(BaseObjectEvents);registry.registeredClasses.Sprite=Sprite;var Rectangle=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Rectangle",E.element=E.paper.add("rect"),E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this._positionPrecision;this.pixelPerfect&&(E=0);var V=round$2(this.innerWidth,E),U=round$2(this.innerHeight,E);this.element.attr({width:V,height:U})},F.prototype.measureElement=function(){},Object.defineProperty(F.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),F}(Sprite);registry.registeredClasses.Rectangle=Rectangle;var Container=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._childrenByLayout=[],E._childrenDisposers=new Dictionary,E.hasFocused=!1,E.setStateOnSprites=[],E.layoutInvalid=!1,E._absoluteWidth=0,E._absoluteHeight=0,E._shouldBeReady=[],E._tapToActivate=!1,E.tapTimeout=3e3,E.className="Container",E._element=E.paper.addGroup("g"),E.group.add(E.element),E.setPropertyValue("pixelPerfect",!1),E.setPropertyValue("layout","absolute"),E.setPropertyValue("fixedWidthGrid",!1),E.setPropertyValue("verticalCenter","none"),E.setPropertyValue("horizontalCenter","none"),E._positionPrecision=4,E._disposers.push(new DictionaryDisposer(E._childrenDisposers)),E.children.events.on("inserted",E.handleChildAdded,E),E.children.events.on("removed",E.handleChildRemoved,E),E.applyTheme(),E}return F.prototype.handleChildAdded=function(E){this.processChild(E.newValue)},F.prototype.processChild=function(E){try{this._childrenDisposers.insertKey(E.uid,new MultiDisposer([E.events.on("transformed",this.handleChildTransform,this),E.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch{}if(this.element){var V=this.element;V.add(E.group)}E.parent=this,E.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:E}),this.invalidate()},F.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},F.prototype.handleChildRemoved=function(E){var V=E.oldValue;if(this._childrenDisposers.removeKey(V.uid),this.element){var U=this.element;U.removeElement(V.group)}V.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:V})},F.prototype.handleChildTransform=function(E){var V=E.target;V.isMeasured&&this.invalidateLayout()},F.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||(this.layoutInvalid=!0,registry.addToInvalidLayouts(this),system$1.requestFrame())},F.prototype.invalidate=function(){R.prototype.invalidate.call(this),this.invalidateLayout()},F.prototype.deepInvalidate=function(){R.prototype.invalidate.call(this),each$2(this._childrenByLayout,function(E){E instanceof F?E.deepInvalidate():E.invalidate()}),this.invalidateLayout()},Object.defineProperty(F.prototype,"children",{get:function(){return this._children||(this._children=new List),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(E){this.setPropertyValue("minWidth",E)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(E){this.setPropertyValue("minHeight",E)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),F.prototype.removeElement=function(){},F.prototype.sortChildren=function(){var E=this;if(this._childrenByLayout=[],this.layout=="none"||this.layout=="absolute"||!this.layout)this._childrenByLayout=this.children.values;else{var V=[],U=[];each(this.children.iterator(),function(W){E.layout=="horizontal"||E.layout=="grid"?isNumber(W.percentWidth)?U.push(W):V.push(W):E.layout=="vertical"&&isNumber(W.percentHeight)?U.push(W):V.push(W)}),this._childrenByLayout=V.concat(U)}this.calculateRelativeSize()},F.prototype.calculateRelativeSize=function(){var E=this,V=0,U=0;each$2(this._childrenByLayout,function(W){W.isMeasured&&(isNumber(W.percentWidth)&&(V+=W.percentWidth),isNumber(W.percentHeight)&&(U+=W.percentHeight))}),each$2(this._childrenByLayout,function(W){W.isMeasured&&(E.layout=="horizontal"&&(isNumber(W.percentWidth)&&(W.relativeWidth=W.percentWidth/V),isNumber(W.percentHeight)&&(W.relativeHeight=W.percentHeight/100)),E.layout=="vertical"&&(isNumber(W.percentHeight)&&(W.relativeHeight=W.percentHeight/U),isNumber(W.percentWidth)&&(W.relativeWidth=W.percentWidth/100)),E.layout=="grid"&&(isNumber(W.percentHeight)&&(W.relativeHeight=W.percentHeight/100),isNumber(W.percentWidth)&&(W.relativeWidth=W.percentWidth/100))),(E.layout=="absolute"||!W.isMeasured)&&(isNumber(W.percentWidth)&&(W.relativeWidth=W.percentWidth/100),isNumber(W.percentHeight)&&(W.relativeHeight=W.percentHeight/100))})},F.prototype.addChildren=function(){if(this.element){var E=copy$3(this.children.values),V=E.map(function(X,K){return{idx:K,data:X}});V.sort(function(X,K){var Z=X.data.zIndex||0,J=K.data.zIndex||0;return Z<J?-1:Z>J?1:X.idx-K.idx}),E=V.map(function(X){return X.data});var U=this.element,W=!0;if(U.node&&U.node.childNodes){for(var Y=0,G=U.node.childNodes.length;Y<G;Y++)if(U.node.childNodes[Y]!=E[Y].group.node){W=!1;break}}W||(each$2(E,function(X){X.group&&U.add(X.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},F.prototype.createChild=function(E){var V=new E;return V.parent=this,V},F.prototype.removeChildren=function(){for(;this.children.length>0;){var E=this.children.getIndex(0);E.parent=void 0,this.children.removeValue(E)}},F.prototype.disposeChildren=function(){for(;this.children.length>0;){var E=this.children.getIndex(0);E.dispose(),this.children.removeValue(E)}},Object.defineProperty(F.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(E){this._background&&this.background!=E&&this.removeDispose(this._background),E&&(this._background=E,this._disposers.push(E),this.processBackground())},enumerable:!0,configurable:!0}),F.prototype.handleGlobalScale=function(){R.prototype.handleGlobalScale.call(this),this.children.each(function(E){E.handleGlobalScale()})},F.prototype.createBackground=function(){return new Rectangle},F.prototype.processBackground=function(){var E=this._background;E&&(E.isMeasured=!1,this._background.fill=new InterfaceColorSet().getFor("background"),E.parent=this,E.isMeasured=!1,this.children.removeValue(E),this._disposers.push(E),this.group.addToBack(this._background.group))},F.prototype.validateLayout=function(){var E=this;registry.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var V=0,U=0,W=!0;this.children&&(this.sortChildren(),each$2(this._childrenByLayout,function(Y){var G,X;if(isNumber(Y.relativeWidth)?(G=round$2(E._availableWidth*Y.relativeWidth,2),E.layout=="horizontal"&&(G-=Y.pixelMarginRight+Y.pixelMarginLeft)):E.layout=="horizontal"&&Y.invalid&&Y.validate(),isNumber(Y.relativeHeight)?(X=round$2(E._availableHeight*Y.relativeHeight,2),E.layout=="vertical"&&(X-=Y.pixelMarginTop+Y.pixelMarginBottom)):E.layout=="vertical"&&Y.invalid&&Y.validate(),Y.invalid==!1){if(isNumber(Y.relativeWidth)&&(Y.maxWidth=G),isNumber(Y.relativeHeight)&&(Y.maxHeight=X),Y.isMeasured){E.layout=="horizontal"&&(isNumber(Y.percentWidth)||Y.measuredWidth>0&&(E._availableWidth-=Y.measuredWidth+Y.pixelMarginLeft+Y.pixelMarginRight)),E.layout=="vertical"&&(isNumber(Y.percentHeight)||Y.measuredHeight>0&&(E._availableHeight-=Y.measuredHeight+Y.pixelMarginTop+Y.pixelMarginBottom));var K=Y.measuredWidth,Z=Y.measuredHeight;Y.align!="none"&&(K+=Y.pixelMarginLeft+Y.pixelMarginRight),Y.valign!="none"&&(Z+=Y.pixelMarginTop+Y.pixelMarginBottom),V=Math.max(V,K),U=Math.max(U,Z)}}else Y.isMeasured&&(isNumber(Y.relativeWidth)&&Y.maxWidth!=G&&(Y.maxWidth=G,W=!1),isNumber(Y.relativeHeight)&&Y.maxHeight!=X&&(Y.maxHeight=X,W=!1))})),this._absoluteWidth=V,this._absoluteHeight=U,W&&this.arrange()},F.prototype.arrange=function(){var E=this,V=this.children,U=0,W=0,Y=max$2(this.innerWidth,this._absoluteWidth),G=max$2(this.innerHeight,this._absoluteHeight),X,K,Z,J,Q=this.pixelPaddingLeft,ee=this.pixelPaddingRight,te=this.pixelPaddingTop,ie=this.pixelPaddingBottom,ne=0,ae=0,se=0,oe=0,le=[],ue=[],ce,he,de,fe=this.maxWidth,Te=this.maxHeight,xe=this.minWidth,pe=this.minHeight,_e=copy$3(V.values);if(this.reverseOrder&&_e.reverse(),this.layout=="grid"){he=fe,ce=1;for(var Ce=0,be=_e.length;Ce<be;Ce++){var ge=_e[Ce];if(ge.isMeasured&&!ge.disabled&&!ge.__disabled){var we=ge.measuredWidth;we<he&&(he=we),we>ce&&(ce=we)}}he=fitToRange(he,1,fe),ce=fitToRange(ce,1,fe),this.fixedWidthGrid?de=fe/ce:de=fe/he,de=max$2(1,Math.floor(de)),de=min$2(this.maxColumns,de),le=this.getColumnWidth(_e,de,ce)}for(var Pe,Oe,Ae,Se,Ce=0,be=_e.length;Ce<be;Ce++){var ge=_e[Ce];if(ge.isMeasured&&!ge.disabled&&!ge.__disabled){var ye=void 0,$e=void 0,ke=ge.pixelMarginLeft,Ee=ge.pixelMarginRight,Ie=ge.pixelMarginTop,Le=ge.pixelMarginBottom,Be=ge.measuredWidth,Fe=ge.measuredHeight,Ne=void 0,He=void 0,Re=void 0,qe=void 0;switch(this.layout){case"none":break;case"absolute":switch(ge.align){case"left":ye=ke-ge.maxLeft;break;case"center":ye=(Y-Be)/2-ge.maxLeft;break;case"right":ye=Y-Ee-ge.maxRight;break;default:ge.x instanceof Percent||(ye=ge.pixelX);break}switch(ge.valign){case"top":$e=Ie-ge.maxTop;break;case"middle":$e=(G-Fe)/2-ge.maxTop;break;case"bottom":$e=G-Le-ge.maxBottom;break;default:ge.y instanceof Percent||($e=ge.pixelY);break}break;case"vertical":switch(ge.align){case"left":ye=ke-ge.maxLeft;break;case"center":ye=(Y-Be)/2-ge.maxLeft;break;case"right":ye=Y-Ee-ge.maxRight;break;default:ye=ge.pixelX;break}$e=ae+Ie-ge.maxTop,ae=$e+ge.maxBottom+Le;break;case"horizontal":switch(ge.valign){case"top":$e=Ie-ge.maxTop;break;case"middle":$e=(G-Fe)/2-ge.maxTop;break;case"bottom":$e=G-Le-ge.maxBottom;break;default:$e=ge.pixelY;break}ye=ne+ke-ge.maxLeft,ne=ye+ge.maxRight+Ee;break;case"grid":switch(ye=ne+ke-ge.maxLeft,ge.valign){case"top":$e=ae+Ie-ge.maxTop;break;case"middle":$e=ae+(G-Fe)/2-ge.maxTop;break;case"bottom":$e=ae+G-Le-ge.maxBottom;break;default:$e=ae-ge.maxTop;break}ne+=le[oe],ue[se]=max$2(ue[se],Fe),oe++;var Xe=le[oe];if(isNumber(Xe)||(Xe=ce),ne>min$2(this.innerWidth,fe)-Xe+1&&oe<de){de=oe,ne=0,ae=0,se=0,oe=0,le=this.getColumnWidth(_e,de,ce),ue=[],Ce=-1;continue}oe>=de&&(oe=0,ae+=ue[se],se++,ne=0);break}this.layout!=="none"&&(ge.moveTo({x:ye,y:$e}),Ne=ye+ge.maxLeft-ke,He=ye+ge.maxRight+Ee,Re=$e+ge.maxTop-Ie,qe=$e+ge.maxBottom+Le,(He>K||!isNumber(K))&&(K=He),(Ne<X||!isNumber(X))&&(X=Ne),(Re<Z||!isNumber(Z))&&(Z=Re),(qe>J||!isNumber(J))&&(J=qe),(He>Oe||!isNumber(Oe))&&(Oe=He),(Ne<Pe||!isNumber(Pe))&&(Pe=Ne),(Re<Ae||!isNumber(Ae))&&(Ae=Re),(qe>Se||!isNumber(Se))&&(Se=Se))}else ge.validatePosition()}if(this.layout=="none"){var Je=this.bbox;X=Je.x,K=Je.x+Je.width,Z=Je.y,J=Je.y+Je.height}isNumber(X)||(X=0,Pe=0),isNumber(K)||(K=this._availableWidth,Oe=K),isNumber(Z)||(Z=0,Ae=0),isNumber(J)||(J=this._availableHeight,Se=J),isNumber(Ae)||(Ae=0),isNumber(Se)||(Se=Ae),isNumber(Pe)||(Pe=0),isNumber(Oe)||(Oe=Pe),U=K-X,W=J-Z,isNumber(this.relativeWidth)&&(U=fe-Q-ee,X=0,K=U),isNumber(this.relativeHeight)&&(W=Te-te-ie,Z=0,J=W),isNumber(this._pixelWidth)&&(X=0,U=this._pixelWidth-Q-ee),isNumber(xe)&&U<xe&&(X=0,U=this.minWidth-Q-ee),isNumber(this._pixelHeight)&&(Z=0,W=this._pixelHeight-te-ie),isNumber(pe)&&W<pe&&(Z=0,W=pe-te-ie);var et=Oe-Pe,it=Se-Ae;if(this.layout!="none"&&(this.contentAlign||this.contentValign)&&V.length>0){var nt,st,ut=U,ct=W;ut<et&&(ut=et),ct<it&&(ct=it),this.contentAlign=="center"&&(nt=(ut-et)/2),this.contentAlign=="right"&&(nt=ut-et),this.contentValign=="middle"&&(st=(ct-it)/2),this.contentValign=="bottom"&&(st=ct-it),isNumber(nt)&&each(V.iterator(),function(Ze){var ot=Ze.maxLeft,tt=nt;E.layout=="horizontal"&&(Ze.x=Ze.pixelX+tt),E.layout=="grid"&&(Ze.x=Ze.pixelX+tt),E.layout=="vertical"&&(tt+=Ze.pixelMarginLeft,Ze.align=="none"&&(Ze.x=tt-ot)),E.layout=="absolute"&&(tt+=Ze.pixelMarginLeft,Ze.align=="none"&&(Ze.x=tt-ot))}),isNumber(st)&&each(V.iterator(),function(Ze){var ot=Ze.maxTop,tt=st;E.layout=="horizontal"&&(tt+=Ze.pixelMarginTop,Ze.valign=="none"&&(Ze.y=tt-ot)),E.layout=="grid"&&(tt+=Ze.pixelMarginTop,Ze.y=tt-ot),E.layout=="vertical"&&(Ze.y=Ze.pixelY+tt),E.layout=="absolute"&&(tt+=Ze.pixelMarginTop,Ze.valign=="none"&&(Ze.y=tt-ot))})}var ht=this.bbox;U=max$2(U,xe),W=max$2(W,pe),this.contentWidth=U,this.contentHeight=W,U=min$2(U,fe),W=min$2(W,Te),this._bbox={x:X,y:Z,width:U,height:W};var pt=this.maxLeft,vt=this.maxTop,dt=this.maxBottom,_t=this.maxRight;if(this.measure(),(pt!=this.maxLeft||_t!=this.maxRight||vt!=this.maxTop||dt!=this.maxBottom)&&this.events.isEnabled("transformed")){var mt={type:"transformed",target:this};ht&&(mt.dummyData=ht.width+" "+U+"  "+ht.height+" "+W),this.events.dispatchImmediately("transformed",mt)}this.dispatchImmediately("layoutvalidated")},F.prototype.updateCenter=function(){R.prototype.updateCenter.call(this),this.updateBackground()},F.prototype.updateBackground=function(){var E=this._background;E&&(E.x=this.maxLeft,E.y=this.maxTop,E.width=this.maxRight-this.maxLeft,E.height=this.maxBottom-this.maxTop)},F.prototype.getColumnWidth=function(E,V,U){var W=this,Y=[],G=0;return each$2(E,function(X){X.isMeasured&&!X.disabled&&!X.__disabled&&(W.fixedWidthGrid?Y[G]=U:Y[G]=max$2(Y[G],X.measuredWidth+X.pixelMarginRight+X.pixelMarginLeft),G++,G==V&&(G=0))}),Y},Object.defineProperty(F.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(E){this.setPropertyValue("layout",E)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(E){this.setPropertyValue("contentValign",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(E){this.setPropertyValue("contentAlign",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(E){this.setPropertyValue("fixedWidthGrid",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(E){this.setPropertyValue("maxColumns",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(E){this.setPropertyValue("reverseOrder",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(E){this.setPropertyValue("setStateOnChildren",E,!0)},enumerable:!0,configurable:!0}),F.prototype.fitsToBounds=function(E){var V=E.x,U=E.y,W=.5;return V>=-W&&V<=this.pixelWidth+W&&U>=-W&&U<=this.pixelHeight+W},F.prototype.copyFrom=function(E){var V=this;R.prototype.copyFrom.call(this,E),this.layout=E.layout,this.setStateOnChildren=E.setStateOnChildren,E._background&&(this.background=E._background.clone(),this.background.copyFrom(E._background)),each(E.children.iterator(),function(U){if(U.shouldClone){var W=U.clone();W.parent=V}})},Object.defineProperty(F.prototype,"preloader",{get:function(){var E=this._preloader;if(E)return E;if(this.parent)return this.parent.preloader},set:function(E){this._preloader&&this.removeDispose(this._preloader),this._preloader=E,E&&(E.parent=this.tooltipContainer,this._disposers.push(E))},enumerable:!0,configurable:!0}),F.prototype.setPaper=function(E){var V=this,U=R.prototype.setPaper.call(this,E);return U&&(this._background&&(this._background.paper=E,this._background.topParent=this.topParent),this.children.each(function(W){W.setPaper(E),W.topParent=V.topParent})),U},F.prototype.removeFromInvalids=function(){R.prototype.removeFromInvalids.call(this),registry.removeFromInvalidLayouts(this)},F.prototype.setDataItem=function(E){this._dataItem!=E&&(each(this.children.iterator(),function(V){V.dataItem=E}),this._background&&(this._background.dataItem=E)),R.prototype.setDataItem.call(this,E)},F.prototype.measureElement=function(){this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||this.validateLayout()},Object.defineProperty(F.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(E){this.setPropertyValue("fontFamily",E,!0)&&(this.setSVGAttribute({"font-family":E}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(E){this.setPropertyValue("fontSize",E,!0)&&(this.setSVGAttribute({"font-size":E}),this.invalidateLabels())},enumerable:!0,configurable:!0}),F.prototype.invalidateLabels=function(){this.children.each(function(E){E.hardInvalidate?(E.hardInvalidate(),E.events.once("validated",E.handleValidate,E,!1)):E instanceof F&&E.invalidateLabels()})},Object.defineProperty(F.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(E){this.setPropertyValue("fontWeight",E),this.setSVGAttribute({"font-weight":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(E){this.setPropertyValue("textDecoration",E),this.setSVGAttribute({"text-decoration":E})},enumerable:!0,configurable:!0}),F.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),R.prototype.dispose.call(this)},F.prototype.setState=function(E,V,U){var W=E;return E instanceof SpriteState&&(W=E.name),this.setStateOnChildren&&each(this.children.iterator(),function(Y){Y.setState(W,V,U),W!="active"&&(Y.isActive=!1)}),this._background&&this._background.setState(W),this.setStateOnSprites.length&&each$2(this.setStateOnSprites,function(Y){Y.setState(W,V,U)}),R.prototype.setState.call(this,E,V,U)},F.prototype.setActive=function(E){R.prototype.setActive.call(this,E),this._background&&(this._background.isActive=E)},F.prototype.dispatchReady=function(){var E=this;if(!this.isReady()&&!this.isDisposed()){var V=!0;eachContinue(this.children.iterator(),function(U){return!U.__disabled&&!U.disabled&&!U.isReady()?(V=!1,!1):!0}),eachContinue$2(this._shouldBeReady,function(U){return!U.__disabled&&!U.disabled&&!U.isReady()?(V=!1,!1):!0}),V?R.prototype.dispatchReady.call(this):registry.events.once("exitframe",function(){E.dispatchReady(),system$1.requestFrame()},void 0,!1)}},F.prototype._systemUpdate=function(E){this.children.each(function(V){V.invalid&&(V._systemCheckIfValidate()?V.dataItem&&V.dataItem.component&&V.dataItem.component.dataInvalid?E.push(V):V.validate():E.push(V))}),R.prototype._systemUpdate.call(this,E)},F.prototype._systemValidatePositions=function(){this.children.each(function(E){E.positionInvalid&&E.validatePosition()}),R.prototype._systemValidatePositions.call(this)},F.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(F.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(E){this._tapToActivate!=E&&this.setTapToActivate(E)},enumerable:!0,configurable:!0}),F.prototype.setTapToActivate=function(E){var V=this;this._tapToActivate=E,this.interactions.isTouchProtected=E,E&&this.interactions.setEventDisposer("container-tapToActivate",E,function(){return new MultiDisposer([V.events.on("hit",V.handleTapToActivate,V,!1),V.events.on("down",V.initTapTimeout,V,!1),V.events.on("track",V.initTapTimeout,V,!1),getInteraction().body.events.on("down",function(U){getInteraction().isLocalElement(U.pointer,V.paper.svg,V.uid)||V.handleTapToActivateDeactivation()},V,!1)])}),getInteraction()},F.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},F.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},F.prototype.initTapTimeout=function(){var E=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){E.handleTapToActivateDeactivation()},this.tapTimeout))},F.prototype.moveHtmlContainer=function(E){var V=getElement(E);if(V){this.htmlContainer=V;var U=this.svgContainer;U.htmlElement=V,U.htmlElement.appendChild(U.SVGContainer),U.initSensor(),U.measure()}else isString$1(E)&&E!=""&&system$1.log("html container '"+E+"' not found")},F.prototype.hasLicense=function(){for(var E=0;E<options.licenses.length;E++)if(options.licenses[E].match(/^CH.{5,}/i))return!0;return!1},F}(Sprite);registry.registeredClasses.Container=Container;var System=function(){function R(){this._isPaused=!1,this.animations=[],this.uid=registry.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return R.prototype.reportTime=function(F,E){this.dummyCounter<6,E&&(this.time=Date.now())},R.prototype.update=function(){var F=this;if(!this._isPaused){this._frameRequested=!1;var E=Date.now();registry.dispatchImmediately("enterframe");var V=[];for(var U in registry.invalidDatas)if(hasKey(registry.invalidDatas,U)){for(var W=registry.invalidDatas[U];W.length>0;){var Y=W[0],G=Y.dataProvider;if(Y.isDisposed())remove$1(W,Y);else if(G&&G.dataInvalid)try{if(G.validateData(),G.dataValidationProgress<1)break}catch(J){remove$1(W,G),G.raiseCriticalError(J)}else try{if(Y.validateData(),Y.dataValidationProgress<1)break}catch(J){remove$1(W,Y),Y.raiseCriticalError(J)}}if(Date.now()-E>this.updateStepDuration)break}for(;registry.invalidRawDatas.length>0;){var Y=registry.invalidRawDatas[0];if(Y.isDisposed())remove$1(registry.invalidRawDatas,Y);else try{Y.validateRawData()}catch(Q){remove$1(registry.invalidRawDatas,Y),Y.raiseCriticalError(Q)}}for(;registry.invalidDataItems.length>0;){var Y=registry.invalidDataItems[0],G=Y.dataProvider;if(!(Y.isDisposed()||Y.dataInvalid||G&&G.dataInvalid))try{Y.validateDataItems()}catch(ee){remove$1(registry.invalidDataItems,Y),Y.raiseCriticalError(ee)}remove$1(registry.invalidDataItems,Y)}for(;registry.invalidDataRange.length>0;){var Y=registry.invalidDataRange[0],G=Y.dataProvider;if(!(Y.isDisposed()||Y.dataInvalid||G&&G.dataInvalid))try{Y.validateDataRange(),Y.skipRangeEvent||Y.dispatchImmediately("datarangechanged"),Y.skipRangeEvent=!1}catch(ee){remove$1(registry.invalidDataRange,Y),Y.raiseCriticalError(ee)}remove$1(registry.invalidDataRange,Y)}var X=[];each$1(registry.invalidLayouts,function(J){F.validateLayouts(J)}),each$1(registry.invalidPositions,function(J){F.validatePositions(J)});var K=!1;if(E=Date.now(),each$1(registry.invalidSprites,function(J,Q){for(var ee=0;Q.length>0;){if(F.validateLayouts(J),F.validatePositions(J),ee++,ee==5){if(Date.now()-E>F.updateStepDuration)break;ee=0}var te=Q[Q.length-1];if(te&&!te.isDisposed()){if(!te._systemCheckIfValidate())X.push(te);else if(!F.checkIfValidate2(te))X.push(te);else try{te._systemUpdate(X)}catch(ie){te.invalid=!1,remove$1(Q,te),te.raiseCriticalError(ie)}te.invalid=!1}remove$1(Q,te)}registry.invalidSprites[J]=registry.invalidSprites[J].concat(X)}),each$1(registry.invalidSprites,function(J,Q){Q.length>0&&(K=!0)}),each$1(registry.invalidDatas,function(J,Q){Q.length>0&&(K=!0)}),each$2(copy$3(this.animations),function(J){J.update()}),each$1(registry.invalidLayouts,function(J){F.validateLayouts(J)}),each$1(registry.invalidPositions,function(J){F.validatePositions(J)}),triggerIdle(),each$1(registry.invalidLayouts,function(J){F.validateLayouts(J)}),each$1(registry.invalidPositions,function(J){F.validatePositions(J)}),registry.dispatchImmediately("exitframe"),(K||this.animations.length>0||V.length>0)&&this.requestFrame(),this.updateStepDuration<200){var Z=!0;each$1(registry.invalidDatas,function(J,Q){Q.length>0&&(Z=!1)}),each$1(registry.invalidSprites,function(J,Q){Q.length>0&&(Z=!1)}),Z&&(this.updateStepDuration=200)}}},R.prototype.checkIfValidate2=function(F){return!(F.dataItem&&F.dataItem.component&&F.dataItem.component.dataInvalid&&!F.dataItem.component.isTemplate)},R.prototype.requestFrame=function(){var F=this;this._frameRequested||(raf(function(){F.update()}),this._frameRequested=!0)},R.prototype.softInvalidate=function(F){var E=this;F.children.each(function(V){V instanceof Container&&E.softInvalidate(V),V.measureFailed&&(is(V,"Label")?V.hardInvalidate():V.invalidate(),V.measureFailed=!1)})},R.prototype.validatePositions=function(F){for(var E=registry.invalidPositions[F];E.length>0;){var V=E[E.length-1];if(V.isDisposed())remove$1(E,V);else try{V._systemValidatePositions()}catch(U){V.positionInvalid=!1,remove$1(E,V),V.raiseCriticalError(U)}}},R.prototype.validateLayouts=function(F){for(var E=registry.invalidLayouts[F];E.length>0;){var V=E[E.length-1];if(V.isDisposed())remove$1(E,V);else try{V.children.each(function(U){U._systemValidateLayouts()}),V.validateLayout()}catch(U){V.layoutInvalid=!1,remove$1(E,V),V.raiseCriticalError(U)}}},R.prototype.log=function(F){log(F)},Object.defineProperty(R.prototype,"isPaused",{get:function(){return this._isPaused},set:function(F){this._isPaused=F,F||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),R.VERSION="4.10.38",R}(),system$1=new System,DataParser=function(){function R(){}return R.prototype.parse=function(F){return[]},Object.defineProperty(R.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),R.prototype.maybeToNumber=function(F,E){return this.options.numberFields.indexOf(F)!==-1?anyToNumber(E):E},Object.defineProperty(R.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),R.prototype.maybeToDate=function(F,E){return this.options.dateFields.indexOf(F)!==-1?this.options.dateFormatter.parse(E,this.dateFormat):E},R.prototype.maybeToEmpty=function(F){return(!hasValue(F)||F=="")&&hasValue(this.options.emptyAs)?this.options.emptyAs:F},Object.defineProperty(R.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new DateFormatter,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),R}(),separators=[",",";","	"],CSVParser=function(R){__extends(F,R);function F(){var E=R!==null&&R.apply(this,arguments)||this;return E.contentType="text/csv",E.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},E}return F.isCSV=function(E){return!!F.getDelimiterFromData(E)},F.getDelimiterFromData=function(E){var V=E.split(`
`),U=V.length,W;return each$2(separators,function(Y){for(var G=0,X=0,K=0;K<U;++K)if(G=V[K].split(Y).length,G>1){if(X===0)X=G;else if(G!=X){X=0;break}}else{X=0;break}X&&(W=Y)}),W},F.prototype.parse=function(E){this.options.delimiter||(this.options.delimiter=F.getDelimiterFromData(E));var V=this.CSVToArray(E,this.options.delimiter),U=hasValue(this.options.emptyAs),W=this.parsableNumbers,Y=this.parsableDates,G=[],X=[],K,Z;for(Z=0;Z<this.options.skipRows;Z++)V.shift();if(this.options.useColumnNames){X=V.shift();for(var J=0;J<X.length;J++)K=hasValue(X[J])?X[J].replace(/^\s+|\s+$/gm,""):"",K===""&&(K="col"+J),X[J]=K}for(var Q;Q=this.options.reverse?V.pop():V.shift(),!!Q;)if(!(this.options.skipEmpty&&Q.length===1&&Q[0]==="")){var ee={};for(Z=0;Z<Q.length;Z++)K=X[Z]===void 0?"col"+Z:X[Z],ee[K]=Q[Z]===""?this.options.emptyAs:Q[Z],U&&(ee[K]=this.maybeToEmpty(ee[K])),W&&(ee[K]=this.maybeToNumber(K,ee[K])),Y&&(ee[K]=this.maybeToDate(K,ee[K]));G.push(ee)}return G},F.prototype.CSVToArray=function(E,V){V=V||",";for(var U=new RegExp("(\\"+V+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+V+"\\r\\n]*))","gi"),W=[[]],Y=null;Y=U.exec(E),!!Y;){var G=Y[1];G.length&&G!==V&&W.push([]);var X=void 0;Y[2]?X=Y[2].replace(new RegExp('""',"g"),'"'):X=Y[3],W[W.length-1].push(X)}return W},F}(DataParser),JSONParser=function(R){__extends(F,R);function F(){var E=R!==null&&R.apply(this,arguments)||this;return E.contentType="application/json",E.options={},E}return F.isJSON=function(E){try{return JSON.parse(E),!0}catch{return!1}},F.prototype.parse=function(E){var V=this,U;try{hasValue(JSON)&&(U=JSON.parse(E))}catch{return}var W=hasValue(this.options.emptyAs),Y=this.parsableNumbers,G=this.parsableDates;if(Array.isArray(U)&&(Y||G||W))for(var X=function(J,Q){var ee=U[J];each$1(ee,function(te,ie){W&&(ee[te]=V.maybeToEmpty(ee[te])),Y&&(ee[te]=V.maybeToNumber(te,ee[te])),G&&(ee[te]=V.maybeToDate(te,ee[te]))})},K=0,Z=U.length;K<Z;K++)X(K,Z);return U},F}(DataParser),DataLoader=function(){function R(){this.adapter=new Adapter(this)}return R.prototype.load=function(F){var E=Array.isArray(F)?F:[F],V=map$2(E,function(U){return U.dispatchImmediately("started"),U.dispatchImmediately("loadstarted"),load(U.url,U,U.requestOptions)});Promise.all(V).then(function(U){each$2(U,function(W){var Y=W.target;Y.dispatchImmediately("loadended"),W.error?Y.events.isEnabled("error")&&Y.events.dispatchImmediately("error",{type:"error",code:W.xhr.status,message:Y.language.translate("Unable to load file: %1",null,Y.url),target:Y}):Y.processData(W.response,W.type),Y.dispatchImmediately("ended")})}).catch(function(U){U.target&&(U.target.dispatchImmediately("loadended"),U.target.events.isEnabled("error")&&U.target.events.dispatchImmediately("error",{type:"error",code:U.xhr.status,message:U.target.language.translate("Unable to load file: %1",null,U.target.url),target:U.target}),U.target.dispatchImmediately("ended"))})},R.prototype.getParserByType=function(F){var E=this.adapter.apply("getParserByType",{parser:null,type:F}).parser;if(E)return E;if(F=="csv"||F=="text/csv"||F=="application/vnd.ms-excel")return new CSVParser;if(F=="json"||F=="application/json")return new JSONParser},R.prototype.getParserByData=function(F,E){var V=this.adapter.apply("getParserByData",{parser:null,data:F,type:E}).parser;if(!V){if(V=this.getParserByType(E),V)return V;if(JSONParser.isJSON(F))return this.getParserByType("json");if(CSVParser.isCSV(F))return this.getParserByType("csv")}return V},R}(),dataLoader=new DataLoader,DataSource=function(R){__extends(F,R);function F(E,V){var U=R.call(this)||this;return U.adapter=new Adapter(U),U._requestOptions={},U._incremental=!1,U._incrementalParams={},U._keepCount=!1,U._updateCurrentData=!1,U.showPreloader=!0,U.className="DataSource",E&&(U.url=E),V&&(typeof V=="string"?U.parser=dataLoader.getParserByType(V):U.parser=V),U}return F.prototype.processData=function(E,V){if(this.dispatchImmediately("parsestarted"),!this.parser&&(this.parser=dataLoader.getParserByData(E,V),!this.parser)){if(this.events.isEnabled("parseerror")){var U={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",U)}this.dispatchImmediately("parseended");return}if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",E))),!hasValue(this.data)&&this.events.isEnabled("parseerror")){var W={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",W)}this.dispatchImmediately("parseended"),hasValue(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date},Object.defineProperty(F.prototype,"url",{get:function(){var E=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(E=this.addUrlParams(E,this.incrementalParams)),this.adapter.apply("url",E)},set:function(E){this._url=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(E){this._requestOptions=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"parser",{get:function(){return this._parser||(this._parser=new JSONParser),this.adapter.apply("parser",this._parser)},set:function(E){this._parser=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(E){var V=this;this._reloadFrequency!=E&&(this._reloadFrequency=E,E?hasValue(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",function(U){V._reloadTimeout=setTimeout(function(){V.load()},V.reloadFrequency)})):hasValue(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(E){this._incremental=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(E){this._incrementalParams=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(E){this._keepCount=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(E){this._updateCurrentData=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new Language,this.language)},set:function(E){this._language=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new DateFormatter,this.dateFormatter)},set:function(E){this._dateFormatter=E},enumerable:!0,configurable:!0}),F.prototype.timestampUrl=function(E){var V=new Date().getTime().toString(),U={};return U[V]="",this.addUrlParams(E,U)},F.prototype.dispose=function(){R.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),hasValue(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},F.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),dataLoader.load(this))},F.prototype.addUrlParams=function(E,V){var U=E.match(/\?/)?"&":"?",W=[];return each$1(V,function(Y,G){G!=""?W.push(Y+"="+encodeURIComponent(G)):W.push(Y)}),W.length?E+U+W.join("&"):E},F.prototype.processConfig=function(E){registry.registeredClasses.json=JSONParser,registry.registeredClasses.JSONParser=JSONParser,registry.registeredClasses.csv=CSVParser,registry.registeredClasses.CSVParser=CSVParser,R.prototype.processConfig.call(this,E)},F}(BaseObjectEvents),Responsive=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._rules=new List,E._appliedRules={},E._appliedTargets=[],E._useDefault=!0,E.adapter=new Adapter(E),E._enabled=!1,E._responsiveDisposers=[],E._noStates=[],E.className="Responsive",E.rules.events.on("inserted",function(){E.checkRules()},!0),E.rules.events.on("removed",function(){E.checkRules()},!0),E._disposers.push(E.rules.events),E.applyTheme(),E}return Object.defineProperty(F.prototype,"component",{get:function(){return this._component},set:function(E){var V=this;E!=this._component&&(this.disposeResponsiveHandlers(),this._component=E,this._responsiveDisposers.push(getValue(this.component).events.on("sizechanged",function(){V.checkRules()},this)),this._responsiveDisposers.push(getValue(this.component).events.once("datavalidated",function(){V._component.isReady()&&V.checkRules(!0)},this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(E){this._enabled!=E&&(this._enabled=E,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(E){this._useDefault!=E&&(this._useDefault=E,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(E){this._rules=E,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",defaultRules)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"allRules",{get:function(){var E=new List;return this.useDefault&&E.copyFrom(this.defaultRules),E.copyFrom(this.rules),this.adapter.apply("allRules",E)},enumerable:!0,configurable:!0}),F.prototype.isApplied=function(E){var V=this._appliedRules[E];return hasValue(V)?V:!1},F.prototype.checkRules=function(E){var V=this;E===void 0&&(E=!1);var U=this.allRules;if(!(!U||U.length==0)){var W=!1,Y=getValue(this.component);if(!(Y.pixelWidth==0||Y.pixelHeight==0)&&(each(U.iterator(),function(G){G.id||(G.id=registry.getUniqueId());var X=G.relevant(Y);(X&&!V.isApplied(G.id)||!X&&V.isApplied(G.id))&&(W=!0),V._appliedRules[G.id]=X}),E&&(W=!0),W)){if(!this.component.isReady()){Y.hidden=!0,Y.events.once("ready",function(G){G.target.show(0),V._applyRules()});return}this.dispatchImmediately("ruleschanged"),this._applyRules()}}},F.prototype._applyRules=function(){var E=this;this._timeout&&this._timeout.dispose(),this._timeout=this.setTimeout(function(){E.applyRules()},10)},F.prototype.applyRules=function(E){var V=this,U=hasValue(E)?E:getValue(this.component),W=!1;if(this.enabled){var Y=!1;each(this.allRules.iterator(),function(G){var X=V.getState(G,U);X&&(W||(indexOf(V._appliedTargets,U.uid)!==-1&&U.setState(V.getDefaultState(U),0),W=!0),V.isApplied(getValue(G.id))&&(X.transitionDuration=0,V.setTargetState(U,X),V.dispatchImmediately("ruleapplied",{rule:G}),Y=!0))}),Y?replace(this._appliedTargets,U.uid):remove$1(this._appliedTargets,U.uid)}U.children&&each(U.children.iterator(),function(G){V.applyRules(G)})},F.prototype.getState=function(E,V){var U="responsive-"+E.id,W=V.uid+"_"+U;if(indexOf(this._noStates,W)===-1){if(V.states.hasKey(U))return V.states.getKey(U);var Y=E.state(V,U);return Y||this._noStates.push(W),Y}},F.prototype.getDefaultState=function(E){return E.states.hasKey("responsive-default")?E.states.getKey("responsive-default"):E.states.create("responsive-default")},F.prototype.setTargetState=function(E,V){var U=this,W=this.getDefaultState(E);each$1(V.properties,function(Y,G){hasValue(W.properties[Y])||(W.properties[Y]=U.getValue(E,Y))}),E.setState(V)},F.prototype.getValue=function(E,V){var U=E.getPropertyValue(V);return!hasValue(U)&&hasValue(E[V])&&(U=E[V]),U},F.prototype.dispose=function(){this.disposeResponsiveHandlers(),R.prototype.dispose.call(this)},F.prototype.disposeResponsiveHandlers=function(){for(var E=this._responsiveDisposers.pop();E;)E.dispose(),E=this._responsiveDisposers.pop()},F}(BaseObjectEvents),defaultRules=new List;defaultRules.events.on("inserted",function(R){R.newValue.id=registry.getUniqueId()});var ResponsiveBreakpoints=function(){function R(){}return R.widthXXS=function(F){return F.pixelWidth<=R.XXS},R.widthXS=function(F){return F.pixelWidth<=R.XS},R.widthS=function(F){return F.pixelWidth<=R.S},R.widthM=function(F){return F.pixelWidth<=R.M},R.widthL=function(F){return F.pixelWidth<=R.L},R.widthXL=function(F){return F.pixelWidth<=R.XL},R.widthXXL=function(F){return F.pixelWidth<=R.XXL},R.heightXXS=function(F){return F.pixelHeight<=R.XXS},R.heightXS=function(F){return F.pixelHeight<=R.XS},R.heightS=function(F){return F.pixelHeight<=R.S},R.heightM=function(F){return F.pixelHeight<=R.M},R.heightL=function(F){return F.pixelHeight<=R.L},R.heightXL=function(F){return F.pixelHeight<=R.XL},R.heightXXL=function(F){return F.pixelHeight<=R.XXL},R.isXXS=function(F){return F.pixelWidth<=R.XXS&&F.pixelHeight<=R.XXS},R.isXS=function(F){return F.pixelWidth<=R.XS&&F.pixelHeight<=R.XS},R.isS=function(F){return F.pixelWidth<=R.S&&F.pixelHeight<=R.S},R.isM=function(F){return F.pixelWidth<=R.M&&F.pixelHeight<=R.M},R.isL=function(F){return F.pixelWidth<=R.L&&F.pixelHeight<=R.L},R.isXL=function(F){return F.pixelWidth<=R.XL&&F.pixelHeight<=R.XL},R.isXXL=function(F){return F.pixelWidth<=R.XXL&&F.pixelHeight<=R.XXL},R.maybeXXS=function(F){return F.pixelWidth<=R.XXS||F.pixelHeight<=R.XXS},R.maybeXS=function(F){return F.pixelWidth<=R.XS||F.pixelHeight<=R.XS},R.maybeS=function(F){return F.pixelWidth<=R.S||F.pixelHeight<=R.S},R.maybeM=function(F){return F.pixelWidth<=R.M||F.pixelHeight<=R.M},R.maybeL=function(F){return F.pixelWidth<=R.L||F.pixelHeight<=R.L},R.maybeXL=function(F){return F.pixelWidth<=R.XL||F.pixelHeight<=R.XL},R.maybeXXL=function(F){return F.pixelWidth<=R.XXL||F.pixelHeight<=R.XXL},R.XXS=100,R.XS=200,R.S=300,R.M=400,R.L=600,R.XL=800,R.XXL=1e3,R}(),DataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._disabled=!1,E.hasProperties=!1,E.values={},E.categories={},E.dates={},E.locations={},E.workingLocations={},E.properties={},E.sprites=[],E.isTemplate=!1,E._index=null,E._visible=!0,E._hidden=!1,E._ignoreMinMax=!1,E.hasChildren={},E.isHiding=!1,E._valueAnimations={},E._locationAnimations={},E.className="DataItem",E.applyTheme(),E}return Object.defineProperty(F.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Adapter(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"index",{get:function(){return this.component&&this._index!=null?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"visible",{get:function(){return this._hidden?!1:this._visible},set:function(E){E&&(this.hidden=!1),this._visible!=E&&this.setVisibility(E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hidden",{get:function(){return this._hidden},set:function(E){this._hidden!=E&&(this._hidden=E,E?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"__disabled",{get:function(){return this._disabled},set:function(E){this._disabled=E,each$2(this.sprites,function(V){V.__disabled=E})},enumerable:!0,configurable:!0}),F.prototype.setVisibility=function(E,V){if(each$2(this.sprites,function(W){E?W.visible=W.defaultState.properties.visible:W.hiddenState?W.visible=W.hiddenState.properties.visible:W.visible=!1}),this._visible=E,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var U={type:"visibilitychanged",target:this,visible:E};this.events.dispatchImmediately("visibilitychanged",U)}},F.prototype.show=function(E,V,U){var W=this;if(!this.hidden){this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer);var Y;return U&&each$2(U,function(G){Y=W.setWorkingValue(G,W.values[G].value,E,V)}),each$2(this.sprites,function(G){var X=G.show(E);X!=null&&!X.isFinished()&&(W._disposers.push(X),V!=null&&V>0&&X.delay(V))}),Y}},F.prototype.dispose=function(){R.prototype.dispose.call(this),each$2(this.sprites,function(E){E.dispose()}),this.sprites=[]},F.prototype.hide=function(E,V,U,W){var Y=this;if(this.isHiding=!0,each$2(this.sprites,function(X){var K=X.hide(E);K!=null&&!K.isFinished()&&(Y._disposers.push(K),V!=null&&V>0&&K.delay(V))}),isNumber(U)&&W){var G;if(each$2(W,function(X){var K=Y.setWorkingValue(X,U,E,V);K&&(G=K)}),G&&!G.isFinished())return this._hideDisposer=G.events.on("animationended",function(){Y.setVisibility(!1,!0),Y.isHiding=!1}),this._disposers.push(this._hideDisposer),G;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},F.prototype.getDuration=function(E){if(!isNumber(E)){var V=this.component;V&&(E=V.interpolationDuration)}if(E!=null)return this._adapterO?this._adapterO.apply("duration",E):E},F.prototype.getValue=function(E,V){if(E&&this.component){V||(V=this.component.dataFields[E+"Show"],V||(V="value"));var U=this.values[E][V];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:U,field:E}).value:U}},F.prototype.getWorkingValue=function(E){if(E&&this.component){var V=this.component.dataFields[E+"Show"];return V||(V="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[E][V],field:E}).workingValue:this.values[E][V]}},F.prototype.getActualWorkingValue=function(E){return this.values[E].workingValue},F.prototype.setValue=function(E,V,U,W){var Y=this.values[E].value,G=this.getDuration(U);if(V=toNumber(V),Y!==V){if(this.values[E].value=V,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var X={type:"valuechanged",target:this,property:E};this.events.dispatchImmediately("valuechanged",X)}this.component&&this.component.handleDataItemValueChange(this,E)}this.setWorkingValue(E,V,G,W)},F.prototype.setCalculatedValue=function(E,V,U){var W=this.values[E][U];if(W!==V&&isNumber(V)){if(this.values[E][U]=V,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var Y={type:"calculatedvaluechanged",target:this,property:E};this.events.dispatchImmediately("calculatedvaluechanged",Y)}this.component&&this.component.handleDataItemCalculatedValueChange(this,E)}},F.prototype.setWorkingValue=function(E,V,U,W){if(isNumber(this.values[E].value)){var Y=this.getDuration(U),G=this.values[E].workingValue;if(Y!=null&&Y>0&&isNumber(G)&&this.component)if(G!=V){var X=this.animate({childObject:this.values[E],property:"workingValue",from:G,to:V,dummyData:E},Y,this.component.interpolationEasing);return W!=null&&X.delay(W),X.events.on("animationstarted",this.handleInterpolationProgress,this),X.events.on("animationprogress",this.handleInterpolationProgress,this),X.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[E]=X,X}else{var K=this._valueAnimations[E];K&&K.stop(),this.values[E].workingValue=V}else{var K=this._valueAnimations[E];if(K&&K.stop(),this.values[E].workingValue=V,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var Z={type:"workingvaluechanged",target:this,property:E};this.events.dispatchImmediately("workingvaluechanged",Z)}this.component&&this.component.handleDataItemWorkingValueChange(this,E)}}},F.prototype.setLocation=function(E,V,U,W){var Y=this.locations[E];if(Y!==V){if(this.locations[E]=V,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var G={type:"locationchanged",target:this,property:E};this.events.dispatchImmediately("locationchanged",G)}this.component&&this.component.handleDataItemValueChange(this,E),this.setWorkingLocation(E,V,U,W)}},F.prototype.setWorkingLocation=function(E,V,U,W){var Y=this.getDuration(U),G=this.workingLocations[E];if(Y!=null&&Y>0&&isNumber(G)&&this.component)if(G!=V){var X=this.animate({childObject:this.workingLocations,property:E,from:G,to:V,dummyData:E},Y,this.component.interpolationEasing);return W!=null&&X.delay(W),X.events.on("animationstarted",this.handleInterpolationProgress,this),X.events.on("animationprogress",this.handleInterpolationProgress,this),X.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[E]=X,X}else{var K=this._locationAnimations[E];K&&K.stop(),this.workingLocations[E]=V}else{var K=this._locationAnimations[E];if(K&&K.stop(),this.workingLocations[E]=V,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var Z={type:"workinglocationchanged",target:this,property:E};this.events.dispatchImmediately("workinglocationchanged",Z)}this.component&&this.component.handleDataItemWorkingLocationChange(this,E)}},F.prototype.setDate=function(E,V,U){!isDate(V)&&this.component&&(V=this.component.dateFormatter.parse(V));var W=this.dates[E];W!==V&&(this.dates[E]=V,this.setValue(E,V.getTime(),U))},F.prototype.getDate=function(E){return this._adapterO?this._adapterO.apply("date",{date:this.dates[E],field:E}).date:this.dates[E]},F.prototype.setProperty=function(E,V){if(this.properties[E]!==V){if(this.hasProperties=!0,this.properties[E]=V,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var U={type:"propertychanged",target:this,property:E,value:V};this.events.dispatchImmediately("propertychanged",U)}this.component&&this.component.handleDataItemPropertyChange(this,E)}},F.prototype.setCategory=function(E,V){isString$1(V)||(V=castString(V)),this.categories[E]!==V&&(this.categories[E]=V)},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),E.dataContext&&(this.dataContext=copy$2(E.dataContext,{})),copyProperties(E.locations,this.locations),E._adapterO&&this.adapter.copyFrom(E._adapterO),this.component=E.component},Object.defineProperty(F.prototype,"opacity",{set:function(E){each$2(this.sprites,function(V){V.opacity=E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(E){if(this._ignoreMinMax=E,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var V={type:"propertychanged",target:this,property:"ignoreMinMax",value:E};this.events.dispatchImmediately("propertychanged",V)}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),F.prototype.animate=function(E,V,U){return new Animation(this,E,V,U).start()},F.prototype.handleInterpolationProgress=function(E){var V=E.target,U=V.animationOptions[0];if(U){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var W={type:"workingvaluechanged",target:this,property:U.dummyData};this.events.dispatchImmediately("workingvaluechanged",W)}this.component&&this.component.handleDataItemWorkingValueChange(this,U.dummyData)}},F.prototype.hasValue=function(E){for(var V=0,U=E.length;V<U;V++){var W=this.values[E[V]];if(!W||!hasValue(W.value))return!1}return!0},Object.defineProperty(F.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dataContext",{get:function(){return this._dataContext},set:function(E){this._dataContext=E},enumerable:!0,configurable:!0}),F.prototype.addSprite=function(E){E.dataItem&&E.dataItem!=this&&remove$1(E.dataItem.sprites,E),this.visible||E.hide(0),this.isHiding&&E.hide(),this.sprites.push(E),E.dataItem=this},F}(BaseObjectEvents),Component$1=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.dataFields={},E._dataSources={},E._parseDataFrom=0,E._dataDisposers=[],E._currentDataSetId="",E._start=0,E._end=1,E.skipRangeEvent=!1,E.rangeChangeDuration=0,E.rangeChangeEasing=cubicOut,E.parsingStepDuration=50,E.dataInvalid=!1,E.rawDataInvalid=!1,E.dataRangeInvalid=!1,E.dataItemsInvalid=!1,E.interpolationDuration=0,E.interpolationEasing=cubicOut,E.sequencedInterpolation=!0,E.sequencedInterpolationDelay=0,E.dataValidationProgress=0,E._addAllDataItems=!0,E._usesData=!0,E.className="Component",E.minZoomCount=1,E.maxZoomCount=0,E._dataItems=new OrderedListTemplate(E.createDataItem()),E._dataItems.events.on("inserted",E.handleDataItemAdded,E,!1),E._dataItems.events.on("removed",E.handleDataItemRemoved,E,!1),E._disposers.push(new ListDisposer(E._dataItems)),E._disposers.push(E._dataItems.template),E.invalidateData(),E.dataUsers.events.on("inserted",E.handleDataUserAdded,E,!1),E._disposers.push(new MultiDisposer(E._dataDisposers)),E._start=0,E._end=1,E.maxZoomDeclination=1,E.applyTheme(),E}return F.prototype.createDataItem=function(){return new DataItem},F.prototype.handleDataUserAdded=function(E){var V=E.newValue;V.dataProvider=this},F.prototype.handleDataItemValueChange=function(E,V){this.dataItemsInvalid||this.invalidateDataItems()},F.prototype.handleDataItemWorkingValueChange=function(E,V){},F.prototype.handleDataItemWorkingLocationChange=function(E,V){},F.prototype.handleDataItemCalculatedValueChange=function(E,V){},F.prototype.handleDataItemPropertyChange=function(E,V){},F.prototype.processDataItem=function(E,V){var U=this;if(E){V||(V={}),E.dataContext=V;var W=!1;each$1(this.dataFields,function(Y,G){var X=Y,K=V[G];if(U._adapterO&&U._adapterO.isEnabled("dataContextValue")&&(K=U._adapterO.apply("dataContextValue",{field:X,value:K,dataItem:E}).value),hasValue(K))if(W=!0,E.hasChildren[X]){var Z=U.createDataItem();Z.copyFrom(U.mainDataSet.template);var J=new OrderedListTemplate(Z);J.events.on("inserted",U.handleDataItemAdded,U,!1),J.events.on("removed",U.handleDataItemRemoved,U,!1),U._dataDisposers.push(new ListDisposer(J));for(var Q=K.length,ee=0;ee<Q;ee++){var te=K[ee],ie=J.create();ie.parent=E,U.processDataItem(ie,te)}var ne=E;ne[X]=J}else E[X]=K}),each$1(this.propertyFields,function(Y,G){var X=Y,K=V[G];hasValue(K)&&(W=!0,E.setProperty(X,K))}),!this._addAllDataItems&&!W&&this.mainDataSet.remove(E)}},F.prototype.updateDataItem=function(E){var V=this;if(E){var U=E.dataContext;each$1(this.dataFields,function(W,Y){var G=W,X=U[Y];if(V._adapterO&&(X=V._adapterO.apply("dataContextValue",{field:G,value:X,dataItem:E}).value),hasValue(X))if(E.hasChildren[G]){var K=E,Z=K[G];Z.each(function(J){V.updateDataItem(J)})}else E[G]=X}),each$1(this.propertyFields,function(W,Y){var G=W,X=U[Y];hasValue(X)&&E.setProperty(G,X)})}},F.prototype.validateDataElements=function(){for(var E=this.endIndex,V=this.startIndex;V<E;V++){var U=this.dataItems.getIndex(V);U&&this.validateDataElement(U)}},F.prototype.validate=function(){this.validateDataElements(),R.prototype.validate.call(this)},F.prototype.validateDataElement=function(E){},F.prototype.addData=function(E,V,U){var W=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),U||(E instanceof Array?each$2(E,function(Y){W.data.push(Y)}):this.data.push(E)),this.inited)this.removeData(V,U);else if(isNumber(V))for(;V>0;)this.data.shift(),V--;this.invalidateData()},F.prototype.removeData=function(E,V){if(isNumber(E)&&E>0){for(;E>0;){var U=this.mainDataSet.getIndex(0);U&&this.mainDataSet.remove(U),this.dataUsers.each(function(W){if(!W.data||W.data.length==0){var Y=W.mainDataSet.getIndex(0);Y&&W.mainDataSet.remove(Y)}}),V||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,E--}this.invalidateDataItems()}},F.prototype.invalidateData=function(){this.disabled||this.isTemplate||(registry.addToInvalidComponents(this),system$1.requestFrame(),this.dataInvalid=!0,each(this.dataUsers.iterator(),function(E){E.invalidateDataItems()}))},F.prototype.invalidateDataUsers=function(){each(this.dataUsers.iterator(),function(E){E.invalidate()})},F.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(move(registry.invalidDataItems,this),system$1.requestFrame(),this.dataItemsInvalid=!0,each(this.dataUsers.iterator(),function(E){E.invalidateDataItems()}))},F.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,move(registry.invalidDataRange,this),system$1.requestFrame())},F.prototype.validateDataRange=function(){remove$1(registry.invalidDataRange,this),this.dataRangeInvalid=!1,(this.startIndex!=this._prevStartIndex||this.endIndex!=this._prevEndIndex)&&(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},F.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},F.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},F.prototype.appendDataItems=function(){for(var E=this.endIndex,V=this.startIndex;V<E;V++){var U=this.dataItems.getIndex(V);U&&(U.__disabled=!1)}for(var V=0;V<this.startIndex;V++){var U=this.dataItems.getIndex(V);U&&(U.__disabled=!0)}for(var V=this.endIndex;V<this.dataItems.length;V++){var U=this.dataItems.getIndex(V);U&&(U.__disabled=!0)}},F.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(move(registry.invalidRawDatas,this),system$1.requestFrame(),this.rawDataInvalid=!0,each(this.dataUsers.iterator(),function(E){E.invalidateRawData()}))},F.prototype.validateRawData=function(){var E=this;remove$1(registry.invalidRawDatas,this),each(this.mainDataSet.iterator(),function(V){V&&E.updateDataItem(V)})},F.prototype.dispose=function(){var E=this;this.mainDataSet.template.clones.clear(),each$1(this._dataSources,function(V,U){E.removeDispose(U)}),this.disposeData(),R.prototype.dispose.call(this)},F.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),each$2(this._dataDisposers,function(E){E.dispose()}),each(this.dataUsers.iterator(),function(E){E.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},F.prototype.getDataItem=function(E){return this.mainDataSet.create()},F.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,registry.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var E=this.dataItem.dataContext;this._data=E[this.dataFields.data]}if(this._parseDataFrom===0&&this.data.length>0&&this.disposeData(),this.data.length>0){var V=this.preloader;each(this.dataUsers.iterator(),function(J){J._startIndex=void 0,J._endIndex=void 0});var U=0,W=Date.now(),Y=this._parseDataFrom,G=this.data.length,X=function(){var J=K.data[Y];if(K._usesData){var Q=K.getDataItem(J);K.processDataItem(Q,J)}if(K.dataUsers.each(function(te){if(te.data.length==0){var ie=te.getDataItem(J);te.processDataItem(ie,J)}}),U++,U==100){U=0;var ee=Date.now()-W;if(ee>K.parsingStepDuration&&Y<K.data.length-10)return K._parseDataFrom=Y+1,V&&(Y/K.data.length>.5&&!V.visible||(V.progress=Y/K.data.length)),K.dataValidationProgress=Y/K.data.length,Y=K.data.length,K.invalidateData(),{value:void 0}}},K=this;for(Y;Y<G;Y++){var Z=X();if(typeof Z=="object")return Z.value}V&&(V.progress=1),this.dataUsers.each(function(J){(J.hidden||J.appeared&&!J.visible&&J.stacked)&&J.hide(0)})}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},F.prototype.validateDataItems=function(){remove$1(registry.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(F.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(E){this.setData(E)},enumerable:!0,configurable:!0}),F.prototype.setData=function(E){this.isDisposed()||(this._parseDataFrom=0,this.disposeData(),this._data=E,E&&E.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated")))},F.prototype.getDataSource=function(E){var V=this;return hasValue(this._dataSources[E])||(this._dataSources[E]=new DataSource,this._dataSources[E].component=this,this.setDataSourceEvents(this._dataSources[E],E),this._dataSources[E].adapter.add("dateFields",function(U){return V.dataSourceDateFields(U)}),this._dataSources[E].adapter.add("numberFields",function(U){return V.dataSourceNumberFields(U)}),this.events.on("inited",function(){V.loadData(E)},this,!1)),this._dataSources[E]},Object.defineProperty(F.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(E){var V=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=E,this._dataSources.data.component=this,this.events.on("inited",function(){V.loadData("data")},this,!1),this.setDataSourceEvents(E,"data")},enumerable:!0,configurable:!0}),F.prototype.loadData=function(E){this._dataSources[E].load()},F.prototype.dataSourceDateFields=function(E){return E},F.prototype.dataSourceNumberFields=function(E){return E},F.prototype.populateDataSourceFields=function(E,V,U){return each$2(U,function(W){V[W]&&indexOf(E,V[W])===-1&&E.push(V[W])}),E},F.prototype.setDataSourceEvents=function(E,V){var U=this;E.events.on("started",function(W){var Y=U.preloader;Y&&(Y.progress=0)},void 0,!1),E.events.on("loadstarted",function(W){var Y=U.preloader;Y&&(Y.progress=.25)},void 0,!1),E.events.on("loadended",function(W){var Y=U.preloader;Y&&(Y.progress=.5)},void 0,!1),E.events.on("parseended",function(W){var Y=U.preloader;Y&&(Y.progress=.75)},void 0,!1),E.events.on("ended",function(W){var Y=U.preloader;Y&&(Y.progress=1)},void 0,!1),E.events.on("error",function(W){var Y=U.preloader;Y&&(Y.progress=1),U.openModal(W.message)},void 0,!1),V&&E.events.on("done",function(W){var Y=U.preloader;Y&&(Y.progress=1),V=="data"&&!isArray$1(W.data)&&(W.data=[W.data]),E.incremental&&V=="data"&&U.data.length?U.addData(W.data,E.keepCount?W.data.length:0):E.updateCurrentData&&V=="data"&&U.data.length?(each$2(U.data,function(G,X){hasValue(W.data[X])&&each$1(G,function(K,Z){hasValue(W.data[X][K])&&(G[K]=W.data[X][K])})}),U.invalidateRawData()):U[V]=W.data})},Object.defineProperty(F.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new Responsive,this._responsive.component=this),this._responsive},set:function(E){this._responsive=E,this._responsive.component=this},enumerable:!0,configurable:!0}),F.prototype.zoom=function(E,V,U,W){var Y=this;V===void 0&&(V=!1),U===void 0&&(U=!1);var G=E.start,X=E.end,K=E.priority;if(E.start==E.end&&(E.start=E.start-.5/this.maxZoomFactor,E.end=E.end+.5/this.maxZoomFactor),K=="end"&&X==1&&G!=0&&G<this.start&&(K="start"),K=="start"&&G==0&&X>this.end&&(K="end"),isNumber(W)||(W=this.maxZoomDeclination),!isNumber(G)||!isNumber(X))return{start:this.start,end:this.end};if(this._finalStart!=G||this._finalEnd!=X){var Z=this.maxZoomFactor/this.minZoomCount,J=this.maxZoomFactor/this.maxZoomCount;if(K=="start"?(this.maxZoomCount>0&&1/(X-G)<J&&(X=G+1/J),1/(X-G)>Z&&(X=G+1/Z),X>1&&X-G<1/Z&&(G=X-1/Z)):(this.maxZoomCount>0&&1/(X-G)<J&&(G=X-1/J),1/(X-G)>Z&&(G<=0?X=G+1/Z:G=X-1/Z),G<0&&X-G<1/Z&&(X=G+1/Z)),G<-W&&(G=-W),1/(X-G)>Z&&(X=G+1/Z),X>1+W&&(X=1+W),1/(X-G)>Z&&(G=X-1/Z),this._finalEnd=X,this._finalStart=G,this.skipRangeEvent=V,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!U){var Q=this.rangeChangeAnimation;if(Q&&Q.progress<1){var ee=Q.animationOptions;if(ee.length>1){if(ee[0].to==G&&ee[1].to==X)return{start:G,end:X};Q.isDisposed()||Q.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),Q=this.animate([{property:"start",to:G},{property:"end",to:X}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=Q,Q&&!Q.isFinished()?Q.events.on("animationended",function(){Y.dispatchImmediately("rangechangeended")}):this.dispatchImmediately("rangechangeended")}else this.start=G,this.end=X,this.dispatch("rangechangeended")}return{start:G,end:X}},F.prototype.zoomToIndexes=function(E,V,U,W){if(!(!isNumber(E)||!isNumber(V))){var Y=E/this.dataItems.length,G=V/this.dataItems.length;this.zoom({start:Y,end:G},U,W)}},Object.defineProperty(F.prototype,"zoomFactor",{get:function(){return fitToRange(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(E){this.setPropertyValue("maxZoomFactor",E)&&(E==1&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(E){this.setPropertyValue("maxZoomDeclination",E)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startIndex",{get:function(){return isNumber(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(E){this._startIndex=fitToRange(Math.round(E),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),F.prototype.indexToPosition=function(E){return E/this.dataItems.length},Object.defineProperty(F.prototype,"endIndex",{get:function(){var E=this.dataItems.length;return(!isNumber(this._endIndex)||this._endIndex>E)&&(this._endIndex=E),this._endIndex},set:function(E){this._endIndex=fitToRange(Math.round(E),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(E){if(this._start!=E){this._start=E;var V=Math.max(0,Math.floor(this.dataItems.length*E)||0);this._startIndex=Math.min(V,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(E){this._end!=E&&(this._end=E,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*E)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),F.prototype.removeFromInvalids=function(){R.prototype.removeFromInvalids.call(this),registry.removeFromInvalidComponents(this),remove$1(registry.invalidDataItems,this),remove$1(registry.invalidDataRange,this),remove$1(registry.invalidRawDatas,this)},Object.defineProperty(F.prototype,"dataItems",{get:function(){if(this._currentDataSetId!=""){var E=this.dataSets.getKey(this._currentDataSetId);if(E)return E}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new Dictionary),this._dataSets},enumerable:!0,configurable:!0}),F.prototype.setDataSet=function(E){if(this._currentDataSetId!=E){var V=this.dataSets.getKey(E);if(V)return this.dataItems.each(function(U){U.__disabled=!0}),this._currentDataSetId=E,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(U){U.__disabled=!1}),!0;if(this._currentDataSetId!="")return this.dataItems.each(function(U){U.__disabled=!0}),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(U){U.__disabled=!1}),!0}return!1},Object.defineProperty(F.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),F.prototype._updateDataItemIndexes=function(E){for(var V=this.mainDataSet.values,U=V.length,W=E;W<U;++W)V[W]._index=W},F.prototype.handleDataItemAdded=function(E){E.newValue.component=this,this._updateDataItemIndexes(E.index),this.dataItemsInvalid||this.invalidateDataItems()},F.prototype.handleDataItemRemoved=function(E){this._updateDataItemIndexes(E.index),this.dataItemsInvalid||this.invalidateDataItems()},F.prototype.bindDataField=function(E,V){this.dataFields[E]=V,this.invalidateDataRange()},F.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},F.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(F.prototype,"dataUsers",{get:function(){var E=this;return this._dataUsers||(this._dataUsers=new List,this._disposers.push(new Disposer(function(){each(E._dataUsers.iterator(),function(V){V.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),F.prototype.clone=function(){var E=R.prototype.clone.call(this);return E.dataFields=copyProperties(this.dataFields,{}),E},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.data=E.data,this.sequencedInterpolation=E.sequencedInterpolation,this.sequencedInterpolationDelay=E.sequencedInterpolationDelay,this.interpolationDuration=E.interpolationDuration,this.interpolationEasing=E.interpolationEasing},F.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},F.prototype.getExporting=function(){var E=R.prototype.getExporting.call(this);return E.adapter.has("data",this._exportData,-1,this)||(E.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",function(V){E.handleDataUpdated()})),E},F.prototype._exportData=function(E){return E.data=this.data,E},F.prototype.setDisabled=function(E){var V=R.prototype.setDisabled.call(this,E);return V&&this.invalidateData(),V},F.prototype.setShowOnInit=function(E){E!=this.getPropertyValue("showOnInit")&&(E&&!this.inited&&!this.hidden?(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2)):this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2)),R.prototype.setShowOnInit.call(this,E)},F.prototype.setBaseId=function(E){E!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,registry.removeFromInvalidComponents(this),this._baseId=E,this.invalidateData()),R.prototype.setBaseId.call(this,E)},Object.defineProperty(F.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(E){this.setPropertyValue("minZoomCount",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(E){this.setPropertyValue("maxZoomCount",E)},enumerable:!0,configurable:!0}),F.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},F.prototype.asFunction=function(E){return E=="interpolationEasing"||E=="rangeChangeEasing"||R.prototype.asIs.call(this,E)},F}(Container);registry.registeredClasses.Component=Component$1;var Label=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.isOversized=!1,E.className="Label",E.fill=new InterfaceColorSet().getFor("text"),E.wrap=!1,E.truncate=!1,E.fullWords=!0,E.ellipsis="\u2026",E.textAlign="start",E.textValign="top",E.layout="absolute",E.baseLineRatio=-.27,E._positionPrecision=1,E.events.on("maxsizechanged",function(){E.inited&&E.handleMaxSize()},E,!1),E.events.once("validated",E.handleValidate,E,!1),E.applyTheme(),E}return F.prototype.afterDraw=function(){R.prototype.afterDraw.call(this),this.validatePosition()},F.prototype.setPaper=function(E){var V=R.prototype.setPaper.call(this,E);return V&&this.hardInvalidate(),V},F.prototype.handleValidate=function(){(this.currentText||this.text)&&(this.bbox.width==0||this.bbox.height==0)&&registry.events.once("exitframe",this.hardInvalidate,this)},F.prototype.handleMaxSize=function(){(this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized)&&this.invalidate()},F.prototype.arrange=function(){},F.prototype.updateCurrentText=function(){var E,V;isNotEmpty(this.html)&&this.paper.supportsForeignObject()?(E="html",V=this.html):(E="svg",V=this.text),isObject$1(V)&&(V=V.toString()),hasValue(V)&&V!==""&&(V=this.populateString(V,this.dataItem)),E=="html"?this._adapterO&&(V=this._adapterO.apply("htmlOutput",V)):this._adapterO&&(V=this._adapterO.apply("textOutput",V));var U=V!=this.currentText||E!=this._currentFormat;return this.currentText=V,this._currentFormat=E,U},F.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},F.prototype.getLineBBox=function(E){var V=E&&E.element,U=V&&V.node;U&&U.parentNode&&(E.bbox=V.getBBox())},F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.bbox.width,V=this.bbox.height,U=this.topParent;if(U&&(!U.maxWidth||!U.maxHeight)){U.events.once("maxsizechanged",this.hardInvalidate,this,!1);return}var W=max$2(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),Y=max$2(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),G=Y+","+W+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(!(!this.updateCurrentText()&&this.inited&&this._prevStatus==G)){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var X=this._currentFormat,K=this.currentText;if(!hasValue(K)||K==""){this.element.attr({display:"none"});return}var Z=K.split(`
`);this._prevStatus=G,this.textAlign=this.textAlign;var J=this.group.getAttr("display");if(J=="none"&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),X==="svg"){this.element.removeAttr("display");var Q=this.element;this.resetBBox();for(var ee=0,te="",ie=0;ie<Z.length;ie++){var ne=Z[ie];if(ne==""){var ae=this.getSVGLineElement("",0);ae.add(this.getSvgElement(".",getTextFormatter().translateStyleShortcuts(te))),Q.add(ae);var se=Math.ceil(ae.getBBox().height);se>0&&(ee+=se),Q.removeElement(ae);var oe=this.getLineInfo(ie);oe&&(oe.text="",oe.element.textContent="");continue}var le=getTextFormatter().chunk(ne,null,this.ignoreFormatting),ue=0,ce=!0,he=!1,de=this.getLineInfo(ie);de?(de.text="",de.element.textContent=""):(de={text:"",element:this.getSVGLineElement("",0),complex:!1},Q.add(de.element)),de.element.removeAttr("display"),de.element.removeChildren(),this.textPathElement&&de.element.add(this.textPathElement);for(var fe=0;fe<le.length;fe++){fe&&(de.complex=!0);var Te=le[fe];if(Te.type==="format")te=Te.text;else{if(he)continue;if(de.text=Te.text,de.style=getTextFormatter().translateStyleShortcuts(te),this.textPathElement?this.getSvgElement(de.text,de.style,this.textPathElement):this.getSvgElement(de.text,de.style,de.element),this.getLineBBox(de),de.bbox.width=Math.ceil(de.bbox.width),ue<de.bbox.height&&(ue=de.bbox.height),(this.wrap||this.truncate)&&de.bbox.width>W){this.isOversized=!0;var xe=de.element.textContent,pe=de.bbox.width/xe.length,_e=min$2(Math.ceil((de.bbox.width-W)/pe),xe.length);if(this.truncate){var Ce=!1,be=de.element.node;if(be&&be.childNodes)for(var ge=de.element.node.childNodes.length-1;ge>=0;ge--){var we=de.element.node.childNodes[ge];if(Ce&&de.bbox.width<=W&&(we.textContent+=" "+this.ellipsis,de.bbox=de.element.getBBox(),de.bbox.width=Math.floor(de.bbox.width),de.bbox.width<=W))break;Ce=!1;var Pe=we.textContent;for(xe=de.element.textContent,_e=min$2(Math.ceil((de.bbox.width-W)/pe),xe.length);de.bbox.width>W&&_e<=xe.length&&_e>0;){var Oe=max$2(xe.length-_e-this.ellipsis.length,1);Oe<=1&&(_e=0,ge>0&&(Ce=!0,de.element.node.removeChild(we))),Pe=truncateWithEllipsis(Pe,Oe,this.ellipsis,this.fullWords,this.rtl),Pe.length>Oe&&this.fullWords&&(Pe=truncateWithEllipsis(Pe,Oe,this.ellipsis,!1,this.rtl)),we.textContent=Pe,de.bbox=de.element.getBBox(),de.bbox.width=Math.floor(de.bbox.width),_e=Math.ceil(_e*1.1)}he=!0}}else{var Ae=de.element.node;if(Ae){for(var Se=de.element.node.lastChild,ye=void 0;de.bbox.width>W&&_e<=xe.length&&_e>0;){var Oe=max$2(Te.text.length-_e,1);if(ce?ye=splitTextByCharCount(Te.text,Oe,!0,this.rtl):(ye=splitTextByCharCount(Te.text,Oe,!0,this.rtl,!1),(ye[0].length>Oe||Oe===1)&&(de.element.node.removeChild(Se),_e=0)),_e>0){var $e=ye.shift();ce&&($e=trim($e)),Se.textContent=getTextFormatter().cleanUp($e)}de.bbox=de.element.getBBox(),de.bbox.width=Math.floor(de.bbox.width),_e++}if(ye.length>0){var ke="";hasValue(ye)&&(this.rtl?ke+=ye.join("")+te:ke+=te+ye.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var Ee=fe+1;Ee<le.length;Ee++)le[Ee].type=="value"?ke+=le[Ee].text.replace(/([\[\]]{1})/g,"$1$1"):ke+=le[Ee].text;Z.splice(ie+1,0,ke)}he=!0}}}this.bbox.width<de.bbox.width&&(this.bbox.width=de.bbox.width),this.bbox.height=ee+ue,this.textPathElement?de.element.attr({dy:-this.paddingBottom.toString()}):de.element.attr({x:"0",y:ee+ue,dy:round$2(this.baseLineRatio*ue,3).toString()}),ce=!1}}var Ie=de.element.node;if(Ie){var Se=Ie.lastChild;Se&&(Se.textContent=this.rtl?ltrim(Se.textContent):rtrim(Se.textContent))}ee+=ue,this.addLineInfo(de,ie)}this.maybeHideOversized(),this.measureFailed=!1,(this.bbox.width==0||this.bbox.height==0)&&(this.measureFailed=!0),this._measuredWidth=round$2(max$2(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=round$2(max$2(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,(V!=this._measuredHeight||E!=this._measuredWidth)&&this.dispatch("transformed"),this.hideUnused(Z.length)}else{this.element.removeAttr("display"),this.resetBBox();var Q=this.element;Q.removeChildren(),this.setCache("lineInfo",[],0);var Le=this.paper.foreignObject();Q.add(Le),this.maxWidth&&Le.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&Le.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var Be=this.getHTMLLineElement(K);Le.node.appendChild(Be),Be.style.display="inline-block";var Fe=Be.clientWidth,Ne=Be.clientHeight;Be.style.display="block",this._bbox={x:0,y:0,width:Fe,height:Ne},Le.attr({width:Fe+1,height:Ne}),this.maybeHideOversized(),this._measuredWidth=max$2(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=max$2(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(Be.style.overflow="hidden"),(Fe>W||Ne>Y)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),J=="none"&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}},F.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},F.prototype.alignSVGText=function(){var E=this.element,V=E.node.children||E.node.childNodes;if(!(!V||V&&V.length==0)){var U=this._measuredWidth,W=this._measuredHeight;this.pixelPaddingLeft,this.pixelPaddingRight,this.pixelPaddingTop,this.pixelPaddingBottom,this.rtl?E.attr({direction:"rtl"}):E.removeAttr("direction");for(var Y=V.length-1;Y>=0;Y--){var G=V[Y];if(G.setAttribute("text-anchor",this.textAlign),this.textPathElement)G.removeAttribute("x"),G.removeAttribute("y");else{switch(this.textAlign){case"middle":G.setAttribute("x",(U/2).toString()+"px");break;case"end":this.rtl||G.setAttribute("x",U.toString());break;default:this.rtl?G.setAttribute("x",U.toString()):G.removeAttribute("text-anchor");break}var X=toNumber(G.getAttribute("y"));switch(this.textValign){case"middle":G.setAttribute("y",((X||0)+(W-this.bbox.height)/2).toString());break;case"bottom":G.setAttribute("y",((X||0)+W-this.bbox.height).toString());break;default:G.setAttribute("y",(X||0).toString());break}}}}},F.prototype.getSVGLineElement=function(E,V){var U=this.paper.addGroup("text");return U.textContent=E,U.attr({x:"0"}),hasValue(V)&&U.attr({y:V.toString()}),(this.truncate||this.wrap)&&U.attr({overflow:"hidden"}),U},Object.defineProperty(F.prototype,"rtl",{get:function(){return hasValue(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(E){E=toBoolean(E),this._rtl=E,this.element&&this.alignSVGText()},enumerable:!0,configurable:!0}),F.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},F.prototype.getHTMLLineElement=function(E){var V=document.createElement("div");switch(V.innerHTML=E,this.textAlign){case"middle":V.style.textAlign="center";break;case"end":V.style.textAlign="right";break}return this.wrap?V.style.wordWrap="break-word":V.style.whiteSpace="nowrap",this.rtl&&(V.style.direction="rtl"),hasValue(this.fill)&&(V.style.color=this.fill.toString()),V},F.prototype.setStyles=function(){var E=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?E.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(E.removeStyle("webkitUserSelect"),E.removeStyle("msUserSelect"))},F.prototype.hideUnused=function(E){this.initLineCache();var V=this.getCache("lineInfo");if(V.length>=E)for(var U=E;U<V.length;U++){var W=V[U];W&&W.element&&W.element.attr({display:"none"})}},Object.defineProperty(F.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(E){this.setPropertyValue("text",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(E){this.setPropertyValue("path",E,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:E}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(XLINK,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:E}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(E){this.setPropertyValue("locationOnPath",E),this.textPathElement&&this.textPathElement.attr({startOffset:E*100+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(E){this.setPropertyValue("baseLineRatio",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(E){this.resetBBox(),this.setPropertyValue("wrap",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(E){this.resetBBox(),this.setPropertyValue("truncate",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(E){this.setPropertyValue("fullWords",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(E){this.setPropertyValue("ellipsis",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(E){this.setPropertyValue("selectable",E,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(E){this.setPropertyValue("textAlign",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(E){this.setPropertyValue("textValign",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(E){if(this.setPropertyValue("html",E,!0),!hasValue(E)){var V=this.element;V.removeChildrenByTag("foreignObject")}},enumerable:!0,configurable:!0}),F.prototype.setFill=function(E){if(R.prototype.setFill.call(this,E),this.html)for(var V=this.element,U=V.node.getElementsByTagName("div"),W=0;W<U.length;W++){var Y=U[W];hasValue(this.fill)&&(Y.style.color=this.fill.toString())}},Object.defineProperty(F.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(E){this.setPropertyValue("hideOversized",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(E){this.setPropertyValue("ignoreFormatting",E,!0)},enumerable:!0,configurable:!0}),F.prototype.measureElement=function(){},F.prototype.getLineInfo=function(E){this.initLineCache();var V=this.getCache("lineInfo");return V.length>E?V[E]:void 0},F.prototype.addLineInfo=function(E,V){this.initLineCache(),this.getCache("lineInfo")[V]=E},F.prototype.initLineCache=function(){hasValue(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},F.prototype.setDataItem=function(E){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),E&&(this._sourceDataItemEvents=new MultiDisposer([E.events.on("valuechanged",this.invalidate,this,!1),E.events.on("workingvaluechanged",this.invalidate,this,!1),E.events.on("calculatedvaluechanged",this.invalidate,this,!1),E.events.on("propertychanged",this.invalidate,this,!1)])),R.prototype.setDataItem.call(this,E)},Object.defineProperty(F.prototype,"availableWidth",{get:function(){return hasValue(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"availableHeight",{get:function(){return hasValue(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),F.prototype.getSvgElement=function(E,V,U){var W=this.paper.add("tspan");return W.textContent=E,V&&W.node.setAttribute("style",V),U&&U.add(W),W},F.prototype.deepInvalidate=function(){R.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(F.prototype,"readerTitle",{get:function(){var E=this.getPropertyValue("readerTitle");return E?this.dataItem&&(E=this.populateString(E)):E=this.populateString(plainText(isNotEmpty(this.html)?this.html:this.text)),E},set:function(E){E=toText(E),this.setPropertyValue("readerTitle",E)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),F}(Container);registry.registeredClasses.Label=Label;defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(R,F){if(R instanceof Label&&R.parent&&R.parent.isBaseSprite){var E=R.states.create(F);return E.properties.disabled=!0,E}return null}});var RoundedRectangle=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="RoundedRectangle",E.element=E.paper.add("path"),E.cornerRadius(3,3,3,3),E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.innerWidth,V=this.innerHeight;if(isNumber(E)&&isNumber(V)){var U=min$2(E,V)/2,W=relativeToValue(this.cornerRadiusTopLeft,U),Y=relativeToValue(this.cornerRadiusTopRight,U),G=relativeToValue(this.cornerRadiusBottomRight,U),X=relativeToValue(this.cornerRadiusBottomLeft,U),K=min$2(Math.abs(E/2),Math.abs(V/2)),Z=fitToRange(W,0,K),J=fitToRange(Y,0,K),Q=fitToRange(G,0,K),ee=fitToRange(X,0,K),te="M"+Z+",0 L"+(E-J)+",0",ie=" L"+ee+","+V,ne=" L0,"+Z,ae=" L"+E+","+(V-Q),se=" a"+J+","+J+" 0 0 1 "+J+","+J,oe=" a"+Q+","+Q+" 0 0 1 -"+Q+","+Q,le=" a"+ee+","+ee+" 0 0 1 -"+ee+",-"+ee,ue=" a"+Z+","+Z+" 0 0 1 "+Z+",-"+Z,ce=te+se+ae+oe+ie+le+ne+ue+" Z";this.path=ce}},F.prototype.cornerRadius=function(E,V,U,W){this.cornerRadiusTopLeft=E,this.cornerRadiusTopRight=V,this.cornerRadiusBottomLeft=U,this.cornerRadiusBottomRight=W},Object.defineProperty(F.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(E){this.setPercentProperty("cornerRadiusTopLeft",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(E){this.setPercentProperty("cornerRadiusTopRight",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(E){this.setPercentProperty("cornerRadiusBottomRight",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(E){this.setPercentProperty("cornerRadiusBottomLeft",E,!0)},enumerable:!0,configurable:!0}),F.prototype.measureElement=function(){},Object.defineProperty(F.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),F}(Sprite);registry.registeredClasses.RoundedRectangle=RoundedRectangle;var Button=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="Button",E.tooltipY=0,E.iconPosition="left",E.layout="horizontal",E.contentAlign="center",E.contentValign="middle",E.padding(8,16,8,16),E.setStateOnChildren=!0;var V=new InterfaceColorSet,U=E.background;U.fill=V.getFor("secondaryButton"),U.stroke=V.getFor("secondaryButtonStroke"),U.fillOpacity=1,U.strokeOpacity=1,U.cornerRadius(3,3,3,3),E.label=new Label,E.label.fill=V.getFor("secondaryButtonText"),E.label.shouldClone=!1;var W=U.states.create("hover");W.properties.fillOpacity=1,W.properties.fill=V.getFor("secondaryButtonHover");var Y=U.states.create("down");return Y.transitionDuration=100,Y.properties.fill=V.getFor("secondaryButtonDown"),Y.properties.fillOpacity=1,E.role="button",E.focusable=!0,E.applyTheme(),E}return Object.defineProperty(F.prototype,"icon",{get:function(){return this._icon},set:function(E){var V=this._icon;V&&(V.parent=void 0),E&&(this._icon=E,E.parent=this,E.interactionsEnabled=!1,E.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(E))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(E){this.setPropertyValue("iconPosition",E),this.icon&&(E=="left"?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"label",{get:function(){return this._label},set:function(E){this._label&&this.removeDispose(this._label),this._label=E,E&&(E.parent=this,E.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),F.prototype.createBackground=function(){return new RoundedRectangle},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),E.label&&this.label.copyFrom(E.label),E.icon&&(this.icon=E.icon.clone())},F}(Container);registry.registeredClasses.Button=Button;var Circle=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Circle",E.element=E.paper.add("circle"),E.setPercentProperty("radius",percent(100)),E.setPropertyValue("horizontalCenter","middle"),E.setPropertyValue("verticalCenter","middle"),E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelRadius",{get:function(){return relativeToValue(this.radius,min$2(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),F.prototype.measureElement=function(){var E=this.pixelRadius;this._bbox={x:-E,y:-E,width:E*2,height:E*2}},F}(Sprite);registry.registeredClasses.Circle=Circle;var Ellipse=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Ellipse",E.element=E.paper.add("ellipse"),E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(F.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(E){this.height=E*2,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(E){this.width=E*2,this.invalidate()},enumerable:!0,configurable:!0}),F}(Circle);registry.registeredClasses.Ellipse=Ellipse;var Image$1=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Image",E.element=E.paper.add("image"),E.applyTheme(),E.width=50,E.height=50,E}return F.prototype.draw=function(){if(R.prototype.draw.call(this),this.href){var E=this.innerWidth,V=this.innerHeight;isNumber(this.widthRatio)&&(E=V*this.widthRatio,this.width=E),isNumber(this.heightRatio)&&(V=E*this.heightRatio,this.height=V),this.element.attr({width:E,height:V}),this.element.attrNS(XLINK,"xlink:href",this.href)}},Object.defineProperty(F.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(E){this.setPropertyValue("href",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(E){this.setPropertyValue("widthRatio",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(E){this.setPropertyValue("heightRatio",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),F}(Sprite);registry.registeredClasses.Image=Image$1;var Line=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Line",E.element=E.paper.add("line"),E.fill=color$1(),E.x1=0,E.y1=0,E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(F.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(E){isNumber(E)||(E=0);var V=0;this.pixelPerfect&&this.stroke instanceof LinearGradient&&(V=1e-5),this.setPropertyValue("x1",E,!0),this.element.attr({x1:E+V})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"x2",{get:function(){var E=this.getPropertyValue("x2");return isNumber(E)||(E=this.pixelWidth),E},set:function(E){isNumber(E)||(E=0),this.setPropertyValue("x2",E,!0),this.element.attr({x2:E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(E){isNumber(E)||(E=0);var V=0;this.pixelPerfect&&this.stroke instanceof LinearGradient&&(V=1e-5),this.setPropertyValue("y1",E,!0),this.element.attr({y1:E+V})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"y2",{get:function(){var E=this.getPropertyValue("y2");return isNumber(E)||(E=this.pixelHeight),E},set:function(E){isNumber(E)||(E=0),this.setPropertyValue("y2",E,!0),this.element.attr({y2:E})},enumerable:!0,configurable:!0}),F.prototype.positionToPoint=function(E){var V={x:this.x1,y:this.y1},U={x:this.x2,y:this.y2},W=getMidPoint(V,U,E),Y=getAngle(V,U);return{x:W.x,y:W.y,angle:Y}},F}(Sprite);registry.registeredClasses.Line=Line;var PointedShape=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PointedShape",E.pointerBaseWidth=15,E.pointerLength=10,E.pointerY=0,E.pointerX=0,E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this),isNumber(this.pointerX)||(this.pointerX=this.pixelWidth/2),isNumber(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(F.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(E){this.setPropertyValue("pointerBaseWidth",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(E){this.setPropertyValue("pointerLength",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(E){this.setPropertyValue("pointerX",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(E){this.setPropertyValue("pointerY",E,!0)},enumerable:!0,configurable:!0}),F}(Sprite),PointedRectangle=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PointedRectangle",E.element=E.paper.add("path"),E.cornerRadius=6,E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.cornerRadius,V=this.innerWidth,U=this.innerHeight;if(V>0&&U>0){var W=this.pointerX,Y=this.pointerY,G=this.pointerBaseWidth/2,X=min$2(V/2,U/2),K=fitToRange(E,0,X),Z=fitToRange(E,0,X),J=fitToRange(E,0,X),Q=fitToRange(E,0,X),ee=0,te=0,ie=V,ne=0,ae=V,se=U,oe=0,le=U,ue=void 0,ce=void 0,he=void 0,de=void 0,fe=(W-ee)*(se-te)-(Y-te)*(ae-ee),Te=(W-oe)*(ne-le)-(Y-le)*(ie-oe);if(fe>0&&Te>0){var xe=fitToRange(W,K+G,V-G-Z);Y=fitToRange(Y,-1/0,0),ue="M"+K+",0 L"+(xe-G)+",0 L"+W+","+Y+" L"+(xe+G)+",0 L"+(V-Z)+",0"}else ue="M"+K+",0 L"+(V-Z)+",0";if(fe<0&&Te<0){var xe=fitToRange(W,Q+G,V-G-J);Y=fitToRange(Y,U,1/0),he=" L"+(V-J)+","+U+" L"+(xe+G)+","+U+" L"+W+","+Y+" L"+(xe-G)+","+U+" L"+Q+","+U}else he=" L"+Q+","+U;if(fe<0&&Te>0){var pe=fitToRange(Y,K+G,U-Q-G);W=fitToRange(W,-1/0,0),de=" L0,"+(U-Q)+" L0,"+(pe+G)+" L"+W+","+Y+" L0,"+(pe-G)+" L0,"+K}else de=" L0,"+K;if(fe>0&&Te<0){var pe=fitToRange(Y,Z+G,U-G-J);W=fitToRange(W,V,1/0),ce=" L"+V+","+Z+" L"+V+","+(pe-G)+" L"+W+","+Y+" L"+V+","+(pe+G)+" L"+V+","+(U-J)}else ce=" L"+V+","+(U-J);var _e=" a"+Z+","+Z+" 0 0 1 "+Z+","+Z,Ce=" a"+J+","+J+" 0 0 1 -"+J+","+J,be=" a"+Q+","+Q+" 0 0 1 -"+Q+",-"+Q,ge=" a"+K+","+K+" 0 0 1 "+K+",-"+K;this.path=ue+_e+ce+Ce+he+be+de+ge}},Object.defineProperty(F.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(E){this.setPropertyValue("cornerRadius",E,!0)},enumerable:!0,configurable:!0}),F}(PointedShape);function polyline(R){var F=lineTo(R[0]),E={x:0,y:0},V=options.minPolylineStep;isNumber(V)||(V=.5);for(var U=0,W=R.length;U<W;U++){var Y=R[U];getDistance(Y,E)>V&&(F+=lineTo(Y),E=Y)}return F}function moveTo(R){return" M"+round$2(R.x,4)+","+round$2(R.y,4)+" "}function lineTo(R){return" L"+round$2(R.x,4)+","+round$2(R.y,4)+" "}function quadraticCurveTo(R,F){return" Q"+round$2(F.x,4)+","+round$2(F.y,4)+" "+round$2(R.x,4)+","+round$2(R.y,4)}function cubicCurveTo(R,F,E){return" C"+round$2(F.x,4)+","+round$2(F.y,4)+" "+round$2(E.x,4)+","+round$2(E.y,4)+" "+round$2(R.x,4)+","+round$2(R.y,4)}function closePath(){return" Z"}function arcTo(R,F,E,V){if(F==0)return"";isNumber(V)||(V=E);var U="",W=",",Y=Math.ceil(Math.abs(F)/180),G=1;F<0&&(G=0);var X=0,K=0,Z=-cos(R)*E,J=-sin(R)*V;if(F<.5&&E>3e3){var Q=R+F,ee=round$2(cos(Q)*E,4),te=round$2(sin(Q)*V,4);return lineTo({x:ee,y:te})}for(var ie=0;ie<Y;ie++){var Q=R+F/Y*(ie+1),ee=round$2(cos(Q)*E+Z-X,4),te=round$2(sin(Q)*V+J-K,4);U+=" a"+E+W+V+W+0+W+0+W+G+W+ee+W+te,X=ee,K=te}return U}function arc(R,F,E,V,U,W,Y){if(F==0||(isNumber(V)||(V=0),E==0&&V<=0))return"";if(E<V){var G=E;E=V,V=G,isNumber(U)&&(U=U/V*E)}F=min$2(F,360),F==360&&(W=0,Y=0);var X=R+F,K=sin(min$2(F,45)/2);U=isNumber(U)?U:E,W=W||0,Y=isNumber(Y)?Y:W;var Z=U/E*V,J=U/E*W,Q=U/E*Y;W=fitToRange(W,0,(E-V)/2),J=fitToRange(J,0,(U-Z)/2),Y=fitToRange(Y,0,(E-V)/2),Q=fitToRange(Q,0,(U-Z)/2),W=round$2(fitToRange(W,0,E*K),4),J=round$2(fitToRange(J,0,U*K),4),Y=round$2(fitToRange(Y,0,V*K),4),Q=round$2(fitToRange(Q,0,Z*K),4);var ee=Math.asin(W/E/2)*DEGREES*2,te=Math.asin(J/U/2)*DEGREES*2;V<Y&&(V=Y),Z<Q&&(Z=Q);var ie=Math.asin(Y/V/2)*DEGREES*2,ne=Math.asin(Q/Z/2)*DEGREES*2;isNumber(ie)||(ie=0),isNumber(ne)||(ne=0);var ae=R+F/2,se={x:round$2(cos(ae)*V,4),y:sin(ae)*Z},oe={x:cos(R)*(V+Y),y:sin(R)*(Z+Q)},le={x:cos(R)*(E-W),y:sin(R)*(U-J)},ue={x:cos(X)*(E-W),y:sin(X)*(U-J)},ce={x:cos(X)*(V+Y),y:sin(X)*(Z+Q)},he={x:cos(R+ee)*E,y:sin(R+te)*U},de={x:cos(X-ie)*V,y:sin(X-ne)*Z};Y+=Y*sin(ie/2),Q+=Q*sin(ne/2),ie>(X-R)/2&&(de=se);var fe="";return F==360?fe=moveTo(le):(fe=moveTo(oe),fe+=lineTo(le),fe+=arcToPoint(he,W,J,!0)),fe+=arcTo(R+ee,F-2*ee,E,U),isNumber(V)&&V!=0?(F==360&&W==0?fe+=moveTo(ce):(fe+=arcToPoint(ue,W,J,!0),fe+=lineTo(ce),fe+=arcToPoint(de,Y,Q,!0)),fe+=arcTo(X-ie,-(F-2*ie),V,Z),(F<360||W>0)&&(fe+=arcToPoint(oe,Y,Q,!0)),fe+=lineTo(oe)):(fe+=arcToPoint(ue,W,J,!0),F<360&&(fe+=lineTo(oe))),fe}function arcToPoint(R,F,E,V,U,W){if(F==0)return"";W=W||0,U=Boolean(U),V=Boolean(V);var Y=",",G=+V,X=+U;return" A"+F+Y+E+Y+W+Y+X+Y+G+Y+round$2(R.x,4)+Y+round$2(R.y,4)}function rectangle(R,F,E,V){return isNumber(E)||(E=0),isNumber(V)||(V=0),moveTo({x:E,y:V})+lineTo({x:E+R,y:V})+lineTo({x:E+R,y:V+F})+lineTo({x:E,y:V+F})+closePath()}function rectToPath(R,F){var E=",",V=" L";return F?"M"+R.x+E+R.y+V+R.x+E+(R.y+R.height)+V+(R.x+R.width)+E+(R.y+R.height)+V+(R.x+R.width)+E+R.y+V+R.x+E+R.y:"M"+R.x+E+R.y+V+(R.x+R.width)+E+R.y+V+(R.x+R.width)+E+(R.y+R.height)+V+R.x+E+(R.y+R.height)+V+R.x+E+R.y}var Polyline=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._distance=0,E.className="Polyline",E.element=E.paper.add("path"),E.shapeRendering="auto",E.fill=color$1(),E.strokeOpacity=1,E.applyTheme(),E}return F.prototype.makePath=function(){this._distance=0;var E=this.segments;if(E&&E.length>0){for(var V="",U=0,W=E.length;U<W;U++){var Y=E[U];if(Y.length>0){V+=moveTo(Y[0]);for(var G=1;G<Y.length;G++){var X=Y[G];V+=lineTo(X),this._distance+=getDistance(Y[G-1],X)}}}this.path=V}this._realSegments=E},Object.defineProperty(F.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(E){this.setPropertyValue("segments",E),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),F.prototype.positionToPoint=function(E){var V=0;E<0&&(E=Math.abs(E),V=180);var U=this._realSegments;if(U){for(var W=this.distance,Y=0,G=void 0,X=0,K=0,Z=void 0,J=void 0,Q=0;Q<U.length;Q++){var ee=U[Q];if(ee.length>1){for(var te=1;te<ee.length;te++)if(Z=ee[te-1],J=ee[te],X=Y/W,G=getDistance(Z,J),Y+=G,K=Y/W,X<=E&&K>E){Q=U.length;break}}else ee.length==1&&(Z=ee[0],J=ee[0],X=0,K=1)}if(Z&&J){var ie=(E-X)/(K-X),ne=getMidPoint(Z,J,ie);return{x:ne.x,y:ne.y,angle:V+getAngle(Z,J)}}}return{x:0,y:0,angle:0}},Object.defineProperty(F.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),F}(Sprite);registry.registeredClasses.Polyline=Polyline;var Polyarc=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Polyarc",E.controlPointDistance=.5,E.controlPointPosition=.5,E.applyTheme(),E}return F.prototype.makePath=function(){this._distance=0;var E=this.segments;if(E&&E.length>0){var V="";this._realSegments=[];for(var U=0,W=E.length;U<W;U++){var Y=E[U],G=[];if(this._realSegments.push(G),Y.length>0){V+=moveTo(Y[0]);for(var X=1;X<Y.length;X++){var K=Y[X-1],Z=Y[X],J=getDistance(Z,K),Q=J*this.controlPointDistance,ee=this.controlPointPosition,te=-getAngle(K,Z),ie=K.x+(Z.x-K.x)*ee*.5-Q*sin(te),ne=K.y+(Z.y-K.y)*ee*.5-Q*cos(te),ae={x:ie,y:ne},se=K.x+(Z.x-K.x)*ee*1.5-Q*sin(te),oe=K.y+(Z.y-K.y)*ee*1.5-Q*cos(te),le={x:se,y:oe};V+=cubicCurveTo(Z,ae,le);var ue=Math.ceil(J),ce=K;if(ue>0)for(var he=0;he<=ue;he++){var de=getPointOnCubicCurve(K,Z,ae,le,he/ue);G.push(de),this._distance+=getDistance(ce,de),ce=de}else G.push(K)}}}this.path=V}},Object.defineProperty(F.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(E){this.setPropertyValue("controlPointPosition",E),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(E){this.setPropertyValue("controlPointDistance",E),this.makePath()},enumerable:!0,configurable:!0}),F}(Polyline);registry.registeredClasses.Polyarc=Polyarc;var Morpher=function(R){__extends(F,R);function F(E){var V=R.call(this)||this;return V._bboxes=[],V.morphDuration=800,V.morphEasing=cubicOut,V.morphToSingle=!0,V.scaleRatio=1,V.className="Morpher",V.morphable=E,V.applyTheme(),V}return F.prototype.morphToPolygon=function(E,V,U){var W=this.morphable.currentPoints;if(W&&E){this.sortPoints(W),this.sortPoints(E),this._morphFromPointsReal=[],this._morphToPointsReal=[],hasValue(V)||(V=this.morphDuration),hasValue(U)||(U=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(E,W),this._morphToPointsReal=this.normalizePoints(W,E),this.morphable.currentPoints=this._morphFromPointsReal;var Y=new Animation(this,{property:"morphProgress",from:0,to:1},V,U);return this._disposers.push(Y),Y.start(),Y}},F.prototype.normalizePoints=function(E,V){for(var U=0,W=E.length;U<W;U++){var Y=E[U][0],G=E[U][1],X=getValue(getBBox(Y)),K=X.x+X.width,Z=X.y+X.height;if(V[U]||(V[U]=[]),Y&&!V[U][0]&&(V[U][0]=[{x:K,y:Z},{x:K,y:Z}]),V[U][0]){V[U][0]=this.addPoints(V[U][0],Y.length);for(var J=1/0,Q=0,ee=0;ee<V[U][0].length;ee++){var te=getDistance(V[U][0][ee],Y[0]);te<J&&(Q=ee,J=te)}var ie=V[U][0].slice(0,Q),ne=V[U][0].slice(Q);V[U][0]=ne.concat(ie)}G&&(V[U][1]||(V[U][1]=[{x:K,y:Z},{x:K,y:Z}]),V[U][1]=this.addPoints(V[U][1],G.length))}return V},F.prototype.sortPoints=function(E){E.sort(function(G,X){var K=getValue(getBBox(G[0])),Z=getValue(getBBox(X[0]));return K.width*K.height>Z.width*Z.height?-1:1});for(var V=[],U=0,W=E.length;U<W;U++){var Y=E[U][0];Y&&V.push(getValue(getBBox(Y)))}return getCommonRectangle(V)},F.prototype.morphToCircle=function(E,V,U){var W=this.morphable.points,Y=this.sortPoints(W);this._morphFromPointsReal=[],this._morphToPointsReal=[],hasValue(V)||(V=this.morphDuration),hasValue(U)||(U=this.morphEasing);for(var G=0,X=W.length;G<X;G++){var K=W[G][0],Z=W[G][1];if(this._morphFromPointsReal[G]=[],this._morphToPointsReal[G]=[],K){var J=K,Q=K,ee=getValue(getBBox(Q));this.morphToSingle&&(ee=getValue(Y));var te=ee.x+ee.width/2,ie=ee.y+ee.height/2,ne=E;isNumber(ne)||(ne=Math.min(ee.width/2,ee.height/2)),J=[];var ae=getAngle({x:te,y:ie},K[0]),se=100;K.length>se&&(se=K.length),Q=this.addPoints(K,se),se=Q.length;for(var oe=360/(se-1),le=0;le<se;le++){var ue=oe*le+ae,ce={x:te+ne*cos(ue),y:ie+ne*sin(ue)};J[le]=ce}if(Z&&Z.length>0)for(var he=0,de=Z.length;he<de;he++)J.push({x:te,y:ie});this._morphFromPointsReal[G][0]=Q,this._morphToPointsReal[G][0]=J}}this.morphable.currentPoints=this._morphFromPointsReal;var fe=new Animation(this,{property:"morphProgress",from:0,to:1},V,U);return this._disposers.push(fe),fe.start(),fe},F.prototype.addPoints=function(E,V){for(var U=Math.round(V/E.length),W=[],Y=0,G=E.length;Y<G;Y++){var X=E[Y],K=void 0;Y==E.length-1?K=E[0]:K=E[Y+1],W.push(X);for(var Z=1;Z<U;Z++){var J=Z/U,Q={x:X.x+(K.x-X.x)*J,y:X.y+(K.y-X.y)*J};W.push(Q)}W.length+E.length-Y==V&&(U=0)}if(W.length<V&&E.length>0)for(var ee=E[E.length-1],Z=W.length;Z<V;Z++)W.push({x:ee.x,y:ee.y});return W},F.prototype.morphToRectangle=function(E,V,U,W){var Y=this.morphable.points;this.sortPoints(Y),this._morphFromPointsReal=[],this._morphToPointsReal=[],hasValue(U)||(U=this.morphDuration),hasValue(W)||(W=this.morphEasing);for(var G=0,X=Y.length;G<X;G++){var K=Y[G][0],Z=Y[G][1];if(this._morphFromPointsReal[G]=[],this._morphToPointsReal[G]=[],K){var J=K,Q=K,ee=this._bboxes[G];this.morphToSingle;var te=ee.x,ie=ee.y,ne=E,ae=V;if(isNumber(ne)||(ne=ee.width),isNumber(ae)||(ae=ee.height),J=[{x:te,y:ie},{x:te+ne,y:ie},{x:te+ne,y:ie+ae},{x:te,y:ie+ae}],J=this.addPoints(J,K.length),K.length<4)for(var se=K.length;se<4;se++)J.push({x:K[se].x,y:K[se].y});if(Z&&Z.length>0)for(var oe=ee.x+ee.width/2,le=ee.y+ee.height/2,ue=0,ce=Z.length;ue<ce;ue++)J.push({x:oe,y:le});this._morphFromPointsReal[G][0]=Q,this._morphToPointsReal[G][0]=J}}this.morphable.currentPoints=this._morphFromPointsReal;var he=new Animation(this,{property:"morphProgress",from:0,to:1},U,W);return this._disposers.push(he),he.start(),he},Object.defineProperty(F.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(E){this._morphProgress=E;var V=[];if(E!=null){var U=this._morphFromPointsReal,W=this._morphToPointsReal;if(U!=null&&W!=null)for(var Y=0,G=U.length;Y<G;Y++){var X=[];V.push(X);var K=U[Y][0],Z=U[Y][1],J=W[Y][0],Q=W[Y][1];if(K&&K.length>0&&J&&J.length>0){for(var ee=[],te=0,ie=K.length;te<ie;te++){var ne=K[te],ae=J[te],se={x:ne.x+(ae.x*this.scaleRatio-ne.x)*E,y:ne.y+(ae.y*this.scaleRatio-ne.y)*E};ee.push(se)}X[0]=ee}if(Z&&Z.length>0&&Q&&Q.length>0){for(var oe=[],le=0,ue=Z.length;le<ue;le++){var ne=Z[le],ae=Q[le],se={x:ne.x+(ae.x*this.scaleRatio-ne.x)*E,y:ne.y+(ae.y*this.scaleRatio-ne.y)*E};oe.push(se)}X[1]=oe}}}this.morphable.currentPoints=V},enumerable:!0,configurable:!0}),F.prototype.morphBack=function(E,V){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,hasValue(E)||(E=this.morphDuration),hasValue(V)||(V=this.morphEasing);var U=new Animation(this,{property:"morphProgress",from:0,to:1},E,V);return this._disposers.push(U),U.start(),U},Object.defineProperty(F.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),F}(BaseObject),Polygon=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Polygon",E.element=E.paper.add("path"),E.shapeRendering="auto",E._currentPoints=[],E.applyTheme(),E}return Object.defineProperty(F.prototype,"points",{get:function(){var E=this.getPropertyValue("points"),V=this.path;if(V&&(!E||E.length==0)){for(var U=V.slice(1,V.length-1),W=U.split("ZM"),Y=0;Y<W.length;Y++){var G=W[Y];if(G.length>0){var X=G.split("M"),K=X[0],Z=X[1];if(K&&K.length>0){var J=K.split("L");if(J.length>0){var Q=[],ee=[Q];E.push(ee);for(var te=0;te<J.length;te++){var ie=J[te].split(",");Q.push({x:+ie[0],y:+ie[1]})}if(Z&&Z.length>0){var ne=Z.split("L");if(ne.length>0){var ae=[];ee.push(ae);for(var te=ne.length-1;te>=0;te--){var ie=ne[te].split(",");ae.push({x:+ie[0],y:+ie[1]})}}}}}}}this.setPropertyValue("points",E),this._currentPoints=E}return E},set:function(E){this.setPropertyValue("points",E,!0),this._currentPoints=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"currentPoints",{get:function(){return(!this._currentPoints||this._currentPoints.length==0)&&this.path&&(this._currentPoints=this.points),this._currentPoints},set:function(E){this._currentPoints!=E&&(this._currentPoints=E,this.draw())},enumerable:!0,configurable:!0}),F.prototype.draw=function(){var E="",V=this._currentPoints,U,W,Y,G;if(V.length>0){for(var X=0,K=V.length;X<K;X++){var Z=V[X][0],J=V[X][1];if(Z&&Z.length>0){var Q=Z[0];E+=moveTo(Q);for(var ee=0;ee<Z.length;ee++)Q=Z[ee],E+=lineTo(Q),(!isNumber(W)||W<Q.x)&&(W=Q.x),(!isNumber(U)||U>Q.x)&&(U=Q.x),(!isNumber(Y)||Y>Q.y)&&(Y=Q.y),(!isNumber(G)||G<Q.y)&&(G=Q.y)}if(J&&J.length>0){var Q=J[0];E+=moveTo(Q);for(var te=0,ie=J.length;te<ie;te++)Q=J[te],E+=lineTo(Q)}}E&&(E+=closePath()),this.bbox.x=U,this.bbox.y=Y,this.bbox.width=W-U,this.bbox.height=G-Y,R.prototype.setPath.call(this,E)}},F.prototype.setPath=function(E){return R.prototype.setPath.call(this,E)?(this.points=[],this._bbox=this.group.getBBox(),!0):!1},F.prototype.measureElement=function(){},Object.defineProperty(F.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new Morpher(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),F}(Sprite);registry.registeredClasses.Polygon=Polygon;var Polyspline=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Polyspline",E.tensionX=.5,E.tensionY=.5,E.applyTheme(),E}return F.prototype.makePath=function(){this._distance=0;var E=this.segments,V=this.tensionX,U=this.tensionY;if(this.allPoints=[],E&&E.length>0){var W="";this._realSegments=[];for(var Y=0,G=E.length;Y<G;Y++){var X=E[Y],K=[];if(this._realSegments.push(K),X.length>0){var Z=X[0],J=X[X.length-1],Q=!1;round$2(Z.x,3)==round$2(J.x)&&round$2(Z.y)==round$2(J.y)&&(Q=!0),W+=moveTo(X[0]);for(var ee=0;ee<X.length-1;ee++){var te=X[ee-1],ie=X[ee],ne=X[ee+1],ae=X[ee+2];ee===0?te=X[ee]:ee==X.length-2&&(ae=X[ee+1]),ae||(ae=ne),ee===0?Q?te=X[X.length-2]:te=X[Y]:ee==X.length-2&&(Q?ae=X[1]:ae=X[ee+1]);var se=getCubicControlPointA(te,ie,ne,ae,V,U),oe=getCubicControlPointB(te,ie,ne,ae,V,U);W+=cubicCurveTo(ne,se,oe);var le=Math.ceil(getCubicCurveDistance(ie,ne,se,oe,20))*1.2,ue=ie;if(le>0)for(var ce=0;ce<=le;ce++){var he=getPointOnCubicCurve(ie,ne,se,oe,ce/le);if(!(he.x==ue.x&&he.y==ue.y)){K.push(he);var de=round$2(getAngle(ue,he),5);this._distance+=getDistance(ue,he),this.allPoints[Math.floor(this._distance)]={x:he.x,y:he.y,angle:de},ue=he}}else K.push(te)}}var fe=this.allPoints;if(fe.length>1){for(var Te=0;Te<fe.length;Te++)if(!fe[Te]){if(Te>1)fe[Te]=fe[Te-1];else for(var xe=1;xe<fe.length;xe++)if(fe[xe]){fe[Te]=fe[xe];break}}}}this.path=W}},F.prototype.getClosestPointIndex=function(E){var V=this.allPoints,U,W=1/0;if(V.length>1)for(var Y=1;Y<V.length;Y++){var G=getDistance(E,V[Y]);G<W&&(U=Y,W=G)}return U},Object.defineProperty(F.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(E){this.setPropertyValue("tensionX",E),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(E){this.setPropertyValue("tensionY",E,!0),this.makePath()},enumerable:!0,configurable:!0}),F.prototype.positionToPoint=function(E,V){var U=0,W=this.allPoints,Y=W.length;if(isNumber(E)||(E=0),Y>1){if(V&&Y>3){if(E<0){E<-.01&&(E=-.01);var G=W[0],X=W[1],K=G.x-(G.x-X.x)*Y*E,Z=G.y-(G.y-X.y)*Y*E;return{x:K,y:Z,angle:getAngle(G,X)}}else if(E>1){E>1.01&&(E=1.01);var G=W[W.length-2],X=W[W.length-3],K=G.x+(G.x-X.x)*Y*(E-1),Z=G.y+(G.y-X.y)*Y*(E-1);return{x:K,y:Z,angle:getAngle(G,{x:K,y:Z})}}else if(E==1){var J=W[W.length-1];return{x:J.x,y:J.y,angle:J.angle}}}else E<0&&(E=Math.abs(E),U=180),E>=1&&(E=.9999999999999);var Q=W[Math.floor(E*Y)];return{x:Q.x,y:Q.y,angle:Q.angle+U}}else if(Y==1){var Q=W[0];return{x:Q.x,y:Q.y,angle:Q.angle}}else return{x:0,y:0,angle:0}},F}(Polyline);registry.registeredClasses.Polyspline=Polyspline;var Slice=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Slice",E.setPropertyValue("cornerRadius",0),E.setPropertyValue("startAngle",0),E.setPercentProperty("innerRadius",0),E.setPercentProperty("radius",0),E.setPropertyValue("arc",0),E.setPropertyValue("shiftRadius",0),E.strokeOpacity=1,E.setPropertyValue("layout","none"),E.slice=E.createChild(Sprite),E.slice.isMeasured=!1,E._disposers.push(E.slice),E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.radiusY;this.radius>0&&E==0&&(E=.01),this.slice.path=arc(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,E,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof RadialGradient&&this.updateGradient(this.realFill),this.realStroke instanceof RadialGradient&&this.updateGradient(this.realStroke)},F.prototype.updateGradient=function(E){E.element.attr({gradientUnits:"userSpaceOnUse"}),E.element.attr({r:this.radius}),E.cx=0,E.cy=0,E.element.attr({radius:this.radius})},Object.defineProperty(F.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;if(this.isMeasured){var E=getArcRect(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),V=getArcRect(this.startAngle,this.startAngle+this.arc,this.radius);return getCommonRectangle([E,V])}else return{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(E){this.setPropertyValue("startAngle",normalizeAngle(E),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(E){isNumber(E)||(E=0),this.setPropertyValue("arc",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){var E=this.getPropertyValue("radius");return isNumber(E)||(E=0),E},set:function(E){this.setPropertyValue("radius",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radiusY",{get:function(){var E=this.getPropertyValue("radiusY");return isNumber(E)||(E=this.radius),E},set:function(E){this.setPropertyValue("radiusY",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelInnerRadius",{get:function(){return relativeToValue(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(E){this.setPropertyValue("cornerRadius",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(E){this.setPropertyValue("innerCornerRadius",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(E){this.setPropertyValue("shiftRadius",E),E=this.getPropertyValue("shiftRadius"),this.dx=E*this.radius*this.ix,this.dy=E*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"ix",{get:function(){return cos(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"iy",{get:function(){return sin(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),F.prototype.getTooltipX=function(){var E=this.getPropertyValue("tooltipX");if(isNumber(E))return E;var V=.5;E instanceof Percent&&(V=E.value);var U=relativeToValue(this.innerRadius,this.radius);return this.ix*(U+(this.radius-U)*V)},F.prototype.getTooltipY=function(){var E=this.getPropertyValue("tooltipY");if(isNumber(E))return E;var V=.5;E instanceof Percent&&(V=E.value);var U=relativeToValue(this.innerRadius,this.radius);return this.iy*(U+(this.radius-U)*V)+this.slice.dy},F}(Container);registry.registeredClasses.Slice=Slice;var Preloader=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="Preloader",E.width=percent(100),E.height=percent(100);var V=new InterfaceColorSet,U=E.createChild(Container);U.shouldClone=!1;var W=U.createChild(Slice);W.shouldClone=!1,W.radius=53,W.arc=360,W.fill=V.getFor("fill"),W.fillOpacity=.8,W.innerRadius=42,W.isMeasured=!1,E.backgroundSlice=W;var Y=U.createChild(Slice);Y.shouldClone=!1,Y.radius=50,Y.innerRadius=45,Y.fill=V.getFor("alternativeBackground"),Y.fillOpacity=.2,Y.isMeasured=!1,E.progressSlice=Y;var G=U.createChild(Label);G.shouldClone=!1,G.horizontalCenter="middle",G.verticalCenter="middle",G.isMeasured=!1,G.fill=V.getFor("text"),G.align="center",G.valign="middle",G.textAlign="middle",G.fillOpacity=.4,E.label=G,E.background.opacity=1,E.background.fill=V.getFor("background"),E.contentAlign="center",E.contentValign="middle",E.delay=300;var X=E.states.create("hidden");return X.properties.opacity=0,E.visible=!1,E.hide(0),E.__disabled=!0,E._disposers.push(E.backgroundSlice),E._disposers.push(E.progressSlice),E._disposers.push(E.label),E._disposers.push(U),E}return Object.defineProperty(F.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(E){var V=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",E),this.progressSlice.arc=360*E,this.label&&(this.label.text=Math.round(E*100)+"%"),E>=1?(this._started&&(this._started=void 0),registry.events.once("enterframe",function(){var U=V.hide();U&&!U.isFinished()?U.events.once("animationended",function(){V.__disabled=!0}):V.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):E>0&&(this.delay?this._started?this._started+this.delay<=new Date().getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=new Date().getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(E){this.setPropertyValue("delay",E)},enumerable:!0,configurable:!0}),F}(Container);registry.registeredClasses.Preloader=Preloader;var ResizeButton=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="ResizeButton",E.orientation="horizontal",E.layout="absolute",E.horizontalCenter="middle",E.verticalCenter="middle",E.draggable=!0,E.padding(8,8,8,8),E.background.cornerRadius(20,20,20,20);var V=new Sprite;V.element=E.paper.add("path");var U=moveTo({x:-2,y:-6});return U+=lineTo({x:-2,y:6}),U+=moveTo({x:2,y:-6}),U+=lineTo({x:2,y:6}),V.path=U,V.pixelPerfect=!0,V.padding(0,4,0,4),V.stroke=new InterfaceColorSet().getFor("alternativeText"),V.strokeOpacity=.7,E.icon=V,E.label.dispose(),E.label=void 0,E.applyTheme(),E}return Object.defineProperty(F.prototype,"orientation",{set:function(E){var V=this.icon;V&&(E=="horizontal"?V.rotation=0:V.rotation=-90)},enumerable:!0,configurable:!0}),F}(Button);registry.registeredClasses.ResizeButton=ResizeButton;var CloseButton=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="CloseButton",E.padding(8,8,8,8),E.showSystemTooltip=!0,E.width=30,E.height=30;var V=new InterfaceColorSet;E.cursorOverStyle=MouseCursorStyle.pointer;var U=E.background;U.cornerRadius(20,20,20,20);var W=V.getFor("background");U.fill=W,U.stroke=V.getFor("primaryButton"),U.strokeOpacity=1,U.strokeWidth=1;var Y=V.getFor("primaryButtonActive"),G=U.states.getKey("hover");G.properties.strokeWidth=3,G.properties.fill=W;var X=U.states.getKey("down");X.properties.stroke=Y,X.properties.fill=W;var K=new Sprite;return K.element=E.paper.add("path"),K.stroke=U.stroke,E.icon=K,E.applyTheme(),E}return F.prototype.validate=function(){R.prototype.validate.call(this);var E=this.pixelWidth/3,V=this.pixelHeight/3,U=moveTo({x:-E/2,y:-V/2});U+=lineTo({x:E/2,y:V/2}),U+=moveTo({x:E/2,y:-V/2}),U+=lineTo({x:-E/2,y:V/2}),this.icon.path=U,this.invalidateLayout()},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},F}(Button);registry.registeredClasses.CloseButton=CloseButton;var SwitchButton=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="SwitchButton",E.tooltipY=0,E.layout="horizontal",E.contentAlign="center",E.contentValign="middle",E.padding(8,16,8,16),E.setStateOnChildren=!0,E.states.create("active");var V=new InterfaceColorSet,U=new Label;U.fillOpacity=.3;var W=U.states.create("active");W.properties.fillOpacity=1,U.isActive=!0,E.leftLabel=U;var Y=new Button,G=new Circle;Y.contentValign="none",Y.padding(0,0,0,0),G.radius=10,Y.icon=G,Y.icon.valign="middle",Y.label=void 0;var X=percent(100);Y.background.cornerRadius(X,X,X,X),Y.width=G.radius*3.5,Y.height=G.radius*2.1,Y.marginLeft=8,Y.marginRight=8,Y.togglable=!0,G.dx=-G.radius*.7,G.fill=V.getFor("primaryButton");var K=G.states.create("hover");K.properties.fill=V.getFor("primaryButtonHover");var Z=G.states.create("active");Z.properties.fill=V.getFor("primaryButtonActive"),Z.properties.dx=G.radius*.7,E.switchButton=Y,E.events.on("toggled",function(){E.leftLabel.isActive=!E.isActive,E.rightLabel.isActive=E.isActive});var J=new Label;J.fillOpacity=.3;var Q=J.states.create("active");return Q.properties.fillOpacity=1,E.rightLabel=J,E.role="button",E.focusable=!0,J.valign="middle",U.valign="middle",Y.valign="middle",E.applyTheme(),E}return Object.defineProperty(F.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(E){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=E,E&&(E.parent=this,E.interactionsEnabled=!1,E.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(E){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=E,E&&(E.parent=this,E.interactionsEnabled=!1,E.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"switchButton",{get:function(){return this._switchButton},set:function(E){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=E,E&&(E.parent=this,E.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),E.leftLabel&&this.leftLabel.copyFrom(E.leftLabel),E.rightLabel&&this.rightLabel.copyFrom(E.rightLabel),E.switchButton&&this.switchButton.copyFrom(E.switchButton)},F}(Container);registry.registeredClasses.SwitchButton=SwitchButton;var Scrollbar=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._previousStart=0,E._previousEnd=1,E._prevStart=0,E._prevEnd=1,E._isBusy=!1,E._skipRangeEvents=!1,E.updateWhileMoving=!0,E.className="Scrollbar",E.minHeight=12,E.minWidth=12,E.animationDuration=0,E.animationEasing=cubicOut,E.margin(10,10,10,10);var V=new InterfaceColorSet,U=E.background;return U.cornerRadius(10,10,10,10),U.fill=V.getFor("fill"),U.fillOpacity=.5,E.showSystemTooltip=!0,E.startGrip=new ResizeButton,E.endGrip=new ResizeButton,E.events.on("transformed",function(){E.updateThumb()},E,!1),E.start=0,E.end=1,E.role="scrollbar",E.thumb.role="slider",E.thumb.readerLive="polite",E.startGrip.role="slider",E.endGrip.role="slider",E.events.once("inited",function(){E._previousStart=void 0,E.dispatchRangeChange()},void 0,!1),E.hideGrips=!1,E.orientation="horizontal",E.setSVGAttribute({"aria-valuemin":"0"}),E.setSVGAttribute({"aria-valuemax":"100"}),E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),this.orientation==="horizontal"?(hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),hasValue(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),hasValue(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),hasValue(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),hasValue(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),hasValue(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),hasValue(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},F.prototype.validateLayout=function(){this.updateSize(),R.prototype.validateLayout.call(this),this.updateExtremes()},F.prototype.processBackground=function(){R.prototype.processBackground.call(this);var E=this.background;E.clickable=!0,E.events.on("hit",this.handleBgHit,this,void 0)},F.prototype.handleBgHit=function(E){this.makeBusy();var V=E.spritePoint;V=spritePointToSprite(V,this.background,this);var U=this.thumb;if(this.orientation=="horizontal"){var W=V.x-U.pixelWidth/2;W=fitToRange(W,0,this.innerWidth-U.pixelWidth),this._thumbAnimation=U.animate({property:"x",to:W},this.animationDuration,this.animationEasing)}else{var Y=V.y-U.pixelHeight/2;Y=fitToRange(Y,0,this.innerHeight-U.pixelHeight),this._thumbAnimation=U.animate({property:"y",to:Y},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},F.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},F.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},F.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),this.animationDuration*1.1)},F.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},F.prototype.dispatchRangeChange=function(){(this._previousEnd!=this.end||this._previousStart!=this.start)&&(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},F.prototype.updateThumb=function(E){if(E===void 0&&(E=!0),!!this.parent){var V=this.thumb,U=this.start,W=this.end,Y=this.startGrip,G=this.endGrip,X=this.adapter.apply("positionValueDirection",{flipped:!1}).flipped,K=X?"To %1":"From %1",Z=X?"From %1":"To %1",J,Q;if(this.orientation=="horizontal"){var ee=this.innerWidth;V.width=ee*(W-U),V.maxX=ee-V.pixelWidth,V.x=U*ee,Y.moveTo({x:V.pixelX,y:0},void 0,void 0,!0),G.moveTo({x:V.pixelX+V.pixelWidth,y:0},void 0,void 0,!0),J=this.adapter.apply("positionValue",{value:Math.round(U*100)+"%",position:U}).value,Q=this.adapter.apply("positionValue",{value:Math.round(W*100)+"%",position:W}).value,Y.readerTitle=this.language.translate(K,void 0,J),Y.readerValueNow=""+Math.round(U*100),Y.readerValueText=Y.readerTitle,G.readerTitle=this.language.translate(Z,void 0,Q),G.readerValueNow=""+Math.round(W*100),G.readerValueText=G.readerTitle}else{var te=this.innerHeight;V.height=te*(W-U),V.maxY=te-V.pixelHeight,V.y=(1-W)*te,Y.moveTo({x:0,y:V.pixelY+V.pixelHeight},void 0,void 0,!0),G.moveTo({x:0,y:V.pixelY},void 0,void 0,!0),J=this.adapter.apply("positionValue",{value:Math.round((1-U)*100)+"%",position:1-U}).value,Q=this.adapter.apply("positionValue",{value:Math.round((1-W)*100)+"%",position:1-W}).value,Y.readerTitle=this.language.translate(Z,void 0,J),Y.readerValueNow=""+Math.round(U*100),Y.readerValueText=Y.readerTitle,G.readerTitle=this.language.translate(K,void 0,Q),G.readerValueNow=""+Math.round(W*100),G.readerValueText=G.readerTitle}V.readerTitle=this.language.translate("From %1 to %2",void 0,J,Q),V.readerValueNow=""+Math.round(U*100),V.readerValueText=V.readerTitle,this.readerValueNow=""+Math.round(U*100),this.readerValueText=V.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&E&&this.dispatchRangeChange()}},F.prototype.updateExtremes=function(){var E=this.orientation,V=0,U=0,W=0,Y=0;E=="horizontal"?(W=this.innerWidth,U=Y=this.innerHeight/2):(Y=this.innerHeight,V=W=this.innerWidth/2);var G=this.startGrip;G.minX=V,G.maxX=W,G.minY=U,G.maxY=Y;var X=this.endGrip;X.minX=V,X.maxX=W,X.minY=U,X.maxY=Y;var K=this.thumb;K.minX=V,K.maxX=W,K.minY=U,K.maxY=Y},F.prototype.updateSize=function(){var E=this.orientation,V=this.startGrip;V&&(V.orientation=E),this.endGrip&&(this.endGrip.orientation=E);var U=this.thumb;U&&(E=="horizontal"?(isNumber(this._pixelWidth)||this.width instanceof Percent||(this.width=percent(100)),hasValue(this.percentHeight)&&(this.height=this.minHeight),U.height=this.innerHeight,U.verticalCenter="middle",U.horizontalCenter="left"):(isNumber(this._pixelHeight)||this.height instanceof Percent||(this.height=percent(100)),hasValue(this.percentWidth)&&(this.width=this.minWidth),U.width=this.innerWidth,U.verticalCenter="top",U.horizontalCenter="middle"))},Object.defineProperty(F.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(E){this._isBusy||(this.__start=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"__start",{get:function(){return this._start},set:function(E){this._start=this.getPosition(E),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(E){this._isBusy||(this.__end=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"__end",{get:function(){return this._end},set:function(E){this._end=this.getPosition(E),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),F.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},F.prototype.fixRange=function(E){(E.start!=round$2(this._start,2)||E.end!=round$2(this._end,2))&&(this._start=E.start,this._end=E.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},F.prototype.getPosition=function(E){return fitToRange(round$2(E,4),0,1)},Object.defineProperty(F.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(E){this.setPropertyValue("orientation",E)&&(E==="horizontal"?(this.startGrip.cursorOverStyle=MouseCursorStyle.horizontalResize,this.endGrip.cursorOverStyle=MouseCursorStyle.horizontalResize):(this.startGrip.cursorOverStyle=MouseCursorStyle.verticalResize,this.endGrip.cursorOverStyle=MouseCursorStyle.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),F.prototype.updateByOrientation=function(){},Object.defineProperty(F.prototype,"startGrip",{get:function(){return this._startGrip},set:function(E){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=E,this.processGrip(E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endGrip",{get:function(){return this._endGrip},set:function(E){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=E,this.processGrip(E)},enumerable:!0,configurable:!0}),F.prototype.processGrip=function(E){E.parent=this,E.isMeasured=!1,E.focusable=!0,E.shouldClone=!1,E.zIndex=100,E.events.on("drag",this.handleGripDrag,this,!1),E.events.on("dragstop",this.makeUnbusy,this,!1),E.events.on("down",this.makeBusy,this,!1),E.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(E)},F.prototype.handleGripDrag=function(E){this.makeBusy(),E.target===this._startGrip?this._usingGrip="start":this._usingGrip="end",this.orientation=="horizontal"?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(F.prototype,"thumb",{get:function(){if(!this._thumb){var E=new Button;E.background.cornerRadius(10,10,10,10),E.padding(0,0,0,0),this.thumb=E}return this._thumb},set:function(E){var V=this;E&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=E,E.parent=this,E.isMeasured=!1,E.inert=!0,E.draggable=!0,E.clickable=!0,E.hoverable=!0,E.focusable=!0,E.shouldClone=!1,E.zIndex=0,E.cursorOverStyle=MouseCursorStyle.grab,E.cursorDownStyle=MouseCursorStyle.grabbing,E.events.on("dragstart",this.makeBusy,this,!1),E.events.on("dragstop",this.makeUnbusy,this,!1),E.events.on("positionchanged",this.handleThumbPosition,this,!1),E.events.on("sizechanged",this.handleThumbPosition,this,!1),E.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(getInteraction().body.events.on("keyup",function(U){keyboard.isKey(U.event,["space","enter"])&&V.thumb.isFocused&&(U.event.preventDefault(),V.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),F.prototype.handleDoubleClick=function(){this.makeBusy();var E=0,V=1;this.start!=0||this.end!=1?(this._prevStart=this.start,this._prevEnd=this.end):(E=this._prevStart,V=this._prevEnd);var U=this.animate([{property:"__start",to:E},{property:"__end",to:V}],this.animationDuration,this.animationEasing);U&&!U.isFinished()?(U.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=U):this.makeUnbusy()},F.prototype.handleThumbPosition=function(){var E=this.thumb;if(this.orientation=="horizontal"){var V=this.innerWidth,U=E.innerWidth,W=E.pixelX;this._start=W/V,this._end=(W+U)/V,this.updateThumb()}else{var Y=this.innerHeight,G=E.innerHeight,X=E.pixelY;X+G>Y&&(X=Y-G,E.y=X),this._start=1-(X+G)/Y,this._end=1-X/Y,this.updateThumb()}},F.prototype.createBackground=function(){return new RoundedRectangle},Object.defineProperty(F.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(E){var V=this;this._hideGrips=E,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),E?(this._overDisposer=this.events.on("over",function(){V.startGrip.show(),V.endGrip.show()},void 0,!1),this._outDisposer=this.events.on("out",function(){V.startGrip.hide(),V.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(E){this.setPropertyValue("animationDuration",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(E){this.setPropertyValue("animationEasing",E)},enumerable:!0,configurable:!0}),F.prototype.asFunction=function(E){return E=="animationEasing"||R.prototype.asIs.call(this,E)},F}(Container);registry.registeredClasses.Scrollbar=Scrollbar;var Slider=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Slider",E.thumb.opacity=0,E.thumb.interactionsEnabled=!1,E.endGrip.opacity=0,E.endGrip.interactionsEnabled=!1,E.startGrip.events.on("drag",function(){E.endGrip.x=E.startGrip.x,E.endGrip.y=E.startGrip.y}),E.applyTheme(),E}return Object.defineProperty(F.prototype,"__end",{get:function(){return this._start},set:function(E){},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"end",{get:function(){return this._start},set:function(E){},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"start",{get:function(){return this._start},set:function(E){this._isBusy||(this.__start=E)},enumerable:!0,configurable:!0}),F}(Scrollbar);registry.registeredClasses.Slider=Slider;var TextLink=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="TextLink",E.selectable=!0;var V=new InterfaceColorSet;E.fill=V.getFor("primaryButton").brighten(.3);var U=E.states.create("hover");U.properties.fill=V.getFor("primaryButtonHover").brighten(.3);var W=E.states.create("down");return W.properties.fill=V.getFor("primaryButtonDown").brighten(.3),E.cursorOverStyle=MouseCursorStyle.pointer,E.applyTheme(),E}return F}(Label);registry.registeredClasses.TextLink=TextLink;var Filter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.properties={},E.isTemplate=!1,E._scale=1,E._nonScaling=!0,E.className="Filter",E.filterPrimitives=new List,E.properties.filterUnits="objectBoundingBox",E.filterPrimitives.events.on("inserted",function(V){E._disposers.push(V.newValue)}),E.width=120,E.height=120,E.applyTheme(),E}return F.prototype.appendPrimitives=function(E){each(this.filterPrimitives.iterator(),function(V){E.add(V)})},F.prototype.animate=function(E,V,U){var W=new Animation(this,E,V,U).start();return W},Object.defineProperty(F.prototype,"width",{get:function(){return this.properties.width},set:function(E){this.properties.width=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"height",{get:function(){return this.properties.height},set:function(E){this.properties.height=E},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){var V=this;R.prototype.copyFrom.call(this,E),each$1(E.properties,function(U,W){V[U]=W})},Object.defineProperty(F.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(E){this._paper!=E&&(this._paper=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"scale",{get:function(){return this._scale},set:function(E){this._scale=E,this.updateScale()},enumerable:!0,configurable:!0}),F.prototype.updateScale=function(){},Object.defineProperty(F.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(E){this.properties.filterUnits=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(E){this._nonScaling=E,E||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"sprite",{set:function(E){this.setSprite(E)},enumerable:!0,configurable:!0}),F.prototype.setSprite=function(E){this._sprite&&this._sprite!=E&&this._sprite.filters.removeValue(this),this._sprite=E},F}(BaseObject),DropShadowFilter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="DropShadowFilter",E.color=color$1("#000"),E.feGaussianBlur=E.paper.add("feGaussianBlur"),E.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),E.filterPrimitives.push(E.feGaussianBlur),E.feOffset=E.paper.add("feOffset"),E.feOffset.attr({result:"offsetBlur"}),E.filterPrimitives.push(E.feOffset),E.feFlood=E.paper.add("feFlood"),E.feFlood.attr({"flood-color":E.color}),E.filterPrimitives.push(E.feFlood),E.feComposite=E.paper.add("feComposite"),E.feComposite.attr({in2:"offsetBlur",operator:"in"}),E.filterPrimitives.push(E.feComposite),E.feMerge=E.paper.addGroup("feMerge"),E.feMerge.add(E.paper.add("feMergeNode")),E.feMerge.add(E.paper.add("feMergeNode").attr({in:"SourceGraphic"})),E.filterPrimitives.push(E.feMerge),E.width=200,E.height=200,E.blur=1.5,E.dx=3,E.dy=3,E.opacity=.5,E.applyTheme(),E}return Object.defineProperty(F.prototype,"color",{get:function(){return this.properties.color},set:function(E){this.properties.color=E,this.feFlood&&this.feFlood.attr({"flood-color":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(E){this.properties.opacity=E,this.feFlood.attr({"flood-opacity":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dx",{get:function(){return this.properties.dx},set:function(E){this.properties.dx=E,this.feOffset.attr({dx:E/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dy",{get:function(){return this.properties.dy},set:function(E){this.properties.dy=E,this.feOffset.attr({dy:E/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"blur",{get:function(){return this.properties.blur},set:function(E){this.properties.blur=E,this.feGaussianBlur.attr({stdDeviation:E/this.scale})},enumerable:!0,configurable:!0}),F.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},F}(Filter);registry.registeredClasses.DropShadowFilter=DropShadowFilter;var Tooltip=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},E._pointTo={x:0,y:0},E.fitPointerToBounds=!1,E._verticalOrientation="up",E.fixDoc=!0,E.className="Tooltip",E.isMeasured=!1,E.getFillFromObject=!0,E.margin(5,5,5,5),E.defaultState.transitionDuration=1,E.hiddenState.transitionDuration=1;var V=E.background;V.interactionsEnabled=!1,V.fillOpacity=.9,V.strokeWidth=1,V.strokeOpacity=1,V.stroke=color$1("#ffffff"),V.cornerRadius=3,V.pointerLength=6,V.pointerBaseWidth=10;var U=new DropShadowFilter;U.dy=1,U.dx=1,U.opacity=.5,V.filters.push(U),E.autoTextColor=!0;var W=E.createChild(Label);return W.shouldClone=!1,E.label=W,W.padding(7,12,4,12),W.interactionsEnabled=!1,W.horizontalCenter="middle",W.fill=color$1("#ffffff"),E._disposers.push(W),E.label.events.on("sizechanged",E.drawBackground,E),E.label.zIndex=1,E.pointerOrientation="vertical",E.animationDuration=0,E.animationEasing=cubicOut,E.setPropertyValue("showInViewport",!1),E.role="tooltip",E.visible=!1,E.opacity=0,E.x=0,E.y=0,E.events.on("visibilitychanged",E.handleVisibility,E),E.applyTheme(),E}return F.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(F.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(E){this.setPropertyValue("getStrokeFromObject",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(E){this.setPropertyValue("autoTextColor",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(E){var V=this;this.setPropertyValue("keepTargetHover",E,!0)&&E&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",function(U){V.targetSprite&&V.targetSprite.hoverable&&(V.targetSprite.isHover=!0)})),this._disposers.push(this.events.on("out",function(U){V.targetSprite&&V.targetSprite.hoverable&&(V.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(E){this.setPropertyValue("showInViewport",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(E){this.setPropertyValue("getFillFromObject",E,!0)},enumerable:!0,configurable:!0}),F.prototype.createBackground=function(){return new PointedRectangle},Object.defineProperty(F.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(E){this.setPropertyValue("pointerOrientation",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(E){this.setPropertyValue("animationDuration",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(E){this.setPropertyValue("animationEasing",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"html",{get:function(){return this.label.html},set:function(E){this.label.html!=E&&(this.label.html=E,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"text",{get:function(){return this.label.text},set:function(E){this.label.text!=E&&(this.label.text=E,this.invalidate())},enumerable:!0,configurable:!0}),F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.label;E.invalid&&E.validate();var V=this._pointTo.x,U=this._pointTo.y,W=this._boundingRect,Y=E.measuredWidth,G=E.measuredHeight,X=this.background.pointerLength,K,Z;if(this.ignoreBounds&&(W=void 0),W&&this.fixDoc&&Y>W.width){spritePointToDocument({x:W.x,y:W.y},this.parent);var J=spritePointToDocument({x:W.x+W.width,y:W.y+W.height},this.parent),Q=document.body.offsetWidth;document.body.offsetHeight,J.x>Q/2?W.x=W.width-Y:W.width=W.x+Y}var ee=this.pointerOrientation;ee=="horizontal"||ee=="left"||ee=="right"?(Z=-G/2,ee=="horizontal"?W&&V>W.x+W.width/2?K=-Y/2-X:K=Y/2+X:ee=="left"?K=Y/2+X:K=-Y/2-X):(W&&(K=fitToRange(0,W.x-V+Y/2,W.x-V+W.width-Y/2)),ee=="vertical"?W&&U>W.y+G+X?(Z=-G-X,this._verticalOrientation="up"):(Z=X,this._verticalOrientation="down"):ee=="down"?(Z=-G-X,this._verticalOrientation="up"):(Z=X,this._verticalOrientation="down")),W&&(Z=fitToRange(Z,W.y-U,W.y+W.height-G-U)),E.x=K,E.y=Z,this.drawBackground()},F.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},F.prototype.drawBackground=function(){var E=this.label,V=this.background,U=E.measuredWidth,W=E.measuredHeight,Y=this._boundingRect,G=U,X=E.pixelX-U/2,K=W,Z=E.pixelY,J=this._pointTo.x,Q=this._pointTo.y,ee=Y.x-J,te=ee+Y.width,ie=Y.y-Q,ne=ie+Y.height;V.x=X,V.y=Z,V.width=G,V.height=K,this.fitPointerToBounds?(V.pointerX=fitToRange(-V.x,ee-V.x,te-V.x),V.pointerY=fitToRange(-V.y,ie-V.y,ne-V.y)):(V.pointerX=-V.x,V.pointerY=-V.y),V.validate()},F.prototype.delayedPointTo=function(E,V){var U=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=registry.events.once("exitframe",function(){U.pointTo(E,V)}),this.addDisposer(this._pointToDisposer)},F.prototype.pointTo=function(E,V){(this._pointTo.x!=E.x||this._pointTo.y!=E.y)&&(this._pointTo=E,this.invalidate(),!this.visible||V?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):this.pixelX==0&&this.pixelY==0?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new Animation(this,[{property:"x",to:E.x,from:this.pixelX},{property:"y",to:E.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},F.prototype.setBounds=function(E){var V=this._boundingRect;(V.x!=E.x||V.y!=E.y||V.width!=E.width||V.height!=E.height)&&(this._boundingRect=E,this.invalidate())},Object.defineProperty(F.prototype,"boundingContainer",{set:function(E){this._boundingContainer=E,E.events.on("sizechanged",this.updateBounds,this),E.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),F.prototype.updateBounds=function(){var E=this._boundingContainer,V=spriteRectToSvg({x:E.pixelX,y:E.pixelY,width:E.maxWidth,height:E.maxHeight},E);this.setBounds(V)},Object.defineProperty(F.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(E){this.setPropertyValue("ignoreBounds",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.label.copyFrom(E.label),E._boundingRect&&(this._boundingRect=E._boundingRect)},F.prototype.asFunction=function(E){return E=="animationEasing"||R.prototype.asIs.call(this,E)},F}(Container);registry.registeredClasses.Tooltip=Tooltip;var Trapezoid=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Trapezoid",E.element=E.paper.add("path"),E.topSide=percent(100),E.bottomSide=percent(100),E.leftSide=percent(100),E.rightSide=percent(100),E.isMeasured=!1,E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.pixelWidth,V=this.pixelHeight,U=relativeToValue(this.topSide,E),W=relativeToValue(this.bottomSide,E),Y=relativeToValue(this.leftSide,V),G=relativeToValue(this.rightSide,V),X=(E-U)/2,K=(V-Y)/2,Z=E-(E-U)/2,J=(V-G)/2,Q=E-(E-W)/2,ee=V-(V-G)/2,te=(E-W)/2,ie=V-(V-Y)/2,ne="",ae="",se="",oe="";if(hasValue(this.horizontalNeck)){var le=this.horizontalNeck.value;ne=lineTo({x:E*le,y:Math.max(K,J)}),se=lineTo({x:E*le,y:Math.min(ee,ie)})}if(hasValue(this.verticalNeck)){var ue=this.verticalNeck.value;ae=lineTo({x:Math.min(Z,Q),y:V*ue}),oe=lineTo({x:Math.max(X,te),y:V*ue})}var ce=moveTo({x:X,y:K})+ne+lineTo({x:Z,y:J})+ae+lineTo({x:Q,y:ee})+se+lineTo({x:te,y:ie})+oe;this.path=ce},Object.defineProperty(F.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(E){this.setPercentProperty("topSide",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(E){this.setPercentProperty("bottomSide",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(E){this.setPercentProperty("leftSide",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(E){this.setPercentProperty("rightSide",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(E){this.setPropertyValue("horizontalNeck",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(E){this.setPropertyValue("verticalNeck",E,!0)},enumerable:!0,configurable:!0}),F}(Sprite);registry.registeredClasses.Trapezoid=Trapezoid;var Triangle=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Triangle",E.element=E.paper.add("path"),E.direction="top",E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.pixelWidth,V=this.pixelHeight,U;switch(this.direction){case"right":U=moveTo({x:0,y:0})+lineTo({x:E,y:V/2})+lineTo({x:0,y:V})+closePath();break;case"left":U=moveTo({x:E,y:0})+lineTo({x:0,y:V/2})+lineTo({x:E,y:V})+closePath();break;case"bottom":U=moveTo({x:0,y:0})+lineTo({x:E,y:0})+lineTo({x:E/2,y:V})+closePath();break;case"top":U=moveTo({x:E/2,y:0})+lineTo({x:E,y:V})+lineTo({x:0,y:V})+closePath();break}this.path=U},Object.defineProperty(F.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(E){this.setPropertyValue("direction",E,!0)},enumerable:!0,configurable:!0}),F}(Sprite);registry.registeredClasses.Triangle=Triangle;var Tension=function(){function R(F,E){this._tensionX=F,this._tensionY=E}return R.prototype.smooth=function(F){for(var E=F.length-1;E>0;E--){var V=F[E],U=F[E-1];Math.abs(V.x-U.x)<.1&&Math.abs(V.y-U.y)<.1&&F.splice(E-1,1)}var W=this._tensionX,Y=this._tensionY;if(F.length<3||W>=1&&Y>=1)return polyline(F);var G=F[0],X=F[F.length-1],K=!1;round$2(G.x,3)==round$2(X.x)&&round$2(G.y)==round$2(X.y)&&(K=!0);for(var Z="",E=0,J=F.length-1;E<J;E++){var V=F[E-1],U=F[E],Q=F[E+1],ee=F[E+2];E===0?K?V=F[F.length-2]:V=F[E]:E==F.length-2&&(K?ee=F[1]:ee=F[E+1]);var te=getCubicControlPointA(V,U,Q,ee,W,Y),ie=getCubicControlPointB(V,U,Q,ee,W,Y);Z+=cubicCurveTo(Q,te,ie)}return Z},R}();function wavedLine(R,F,E,V,U,W){var Y=R.x,G=R.y,X=F.x,K=F.y,Z=getDistance(R,F);W&&(E=Z/Math.round(Z/E));var J=registry.getCache(stringify(["wavedLine",R.x,F.x,R.y,F.y,E,V]));if(!J){if(Z>0){var Q=Math.atan2(K-G,X-Y),ee=Math.cos(Q),te=Math.sin(Q),ie=E*ee,ne=E*te;if(E<=1||V<=1)J=lineTo(F);else{var ae=Math.round(2*Z/E),se=[],oe=1;X<Y&&(oe*=-1),K<G&&(oe*=-1);for(var le=0;le<=ae;le++){oe*=-1;var ue=Y+le*ie/2+oe*V/2*te,ce=G+le*ne/2-oe*V/2*ee;se.push({x:ue,y:ce})}J=new Tension(U,U).smooth(se)}}else J="";registry.setCache(stringify(["wavedLine",R.x,F.x,R.y,F.y,E,V]),J)}return J}var Monotone=function(){function R(F,E){this._reversed=F,this._closed=E.closed}return R.prototype._curve=function(F,E,V,U,W,Y){var G=(E-F)/3;return this._reversed?cubicCurveTo({x:U,y:E},{x:V+G*W,y:F+G},{x:U-G*Y,y:E-G}):cubicCurveTo({x:E,y:U},{x:F+G,y:V+G*W},{x:E-G,y:U-G*Y})},R.prototype.smooth=function(F){var E=this,V=NaN,U=NaN,W=NaN,Y=NaN,G=NaN,X=0,K="";switch(each$2(F,function(Z){var J=Z.x,Q=Z.y;if(E._reversed){var ee=J;J=Q,Q=ee}var te=NaN;if(!(J===U&&Q===Y)){switch(X){case 0:X=1,E._reversed?K+=lineTo({x:Q,y:J}):K+=lineTo({x:J,y:Q});break;case 1:X=2;break;case 2:X=3,K+=E._curve(V,U,W,Y,slope2(V,U,W,Y,te=slope3(V,U,W,Y,J,Q)),te);break;default:K+=E._curve(V,U,W,Y,G,te=slope3(V,U,W,Y,J,Q));break}V=U,U=J,W=Y,Y=Q,G=te}}),X){case 2:this._reversed?K+=lineTo({x:Y,y:U}):K+=lineTo({x:U,y:Y});break;case 3:K+=this._curve(V,U,W,Y,G,slope2(V,U,W,Y,G));break}return this._closed&&(K+=closePath()),K},R}();function sign(R){return R<0?-1:1}function slope2(R,F,E,V,U){var W=F-R;return W?(3*(V-E)/W-U)/2:U}function slope3(R,F,E,V,U,W){var Y=F-R,G=U-F,X=(V-E)/(Y||G<0&&-0),K=(W-V)/(G||Y<0&&-0),Z=(X*G+K*Y)/(Y+G);return(sign(X)+sign(K))*Math.min(Math.abs(X),Math.abs(K),.5*Math.abs(Z))||0}var MonotoneX=function(R){__extends(F,R);function F(E){return R.call(this,!1,E)||this}return F}(Monotone),MonotoneY=function(R){__extends(F,R);function F(E){return R.call(this,!0,E)||this}return F}(Monotone),WavedCircle=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="WavedCircle",E.element=E.paper.add("path"),E.waveLength=16,E.waveHeight=4,E.fill=void 0,E.fillOpacity=0,E.tension=.8,E.applyTheme(),E}return F.prototype.draw=function(){var E="",V=this.pixelRadius;if(V>0){var U=this.getPoints(V);E=moveTo(U[0])+new Tension(this.tension,this.tension).smooth(U)}var W=this.pixelInnerRadius;if(W>0){var U=this.getPoints(W);U.reverse(),E+=moveTo(U[0])+new Tension(this.tension,this.tension).smooth(U)}this.path=E},F.prototype.getPoints=function(E){for(var V=E*Math.PI*2,U=this.waveHeight/2,W=V/Math.round(V/this.waveLength),Y=W/2,G=[],X=V/W,K=0;K<=X;K++){var Z=K*W/V*360,J=(K*W+Y)/V*360;G.push({x:(E-U)*cos(Z),y:(E-U)*sin(Z)}),G.push({x:(E+U)*cos(J),y:(E+U)*sin(J)})}return G.pop(),G},Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelInnerRadius",{get:function(){return relativeToValue(this.innerRadius,min$2(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(E){this.setPropertyValue("waveLength",E),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(E){this.setPropertyValue("waveHeight",E),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(E){this.setPropertyValue("tension",E),this.invalidate()},enumerable:!0,configurable:!0}),F}(Circle);registry.registeredClasses.WavedCircle=WavedCircle;var WavedLine=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="WavedLine",E.element=E.paper.add("path"),E.waveLength=16,E.waveHeight=4,E.tension=.8,E.pixelPerfect=!1,E.fill=color$1(),E.applyTheme(),E}return F.prototype.draw=function(){var E={x:this.x1,y:this.y1},V={x:this.x2,y:this.y2};this.path=moveTo(E)+wavedLine(E,V,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(F.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(E){this.setPropertyValue("waveLength",E),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(E){this.setPropertyValue("waveHeight",E),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(E){this.setPropertyValue("tension",E),this.invalidate()},enumerable:!0,configurable:!0}),F}(Line),WavedRectangle=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="WavedRectangle",E.element=E.paper.add("path"),E.waveLength=16,E.waveHeight=4,E.tension=.8,E.setPropertyValue("wavedLeft",!0),E.setPropertyValue("wavedRight",!0),E.setPropertyValue("wavedTop",!0),E.setPropertyValue("wavedBottom",!0),E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.pixelWidth,V=this.pixelHeight;if(E>0&&V>0){var U={x:0,y:0},W={x:E,y:0},Y={x:E,y:V},G={x:0,y:V},X=Math.min(E,this.waveLength),K=Math.min(V,this.waveHeight),Z=Math.min(V,this.waveLength),J=Math.min(E,this.waveHeight),Q="",ee="",te="",ie="";this.wavedTop&&(Q=wavedLine(U,W,X,K,this.tension,!0)),this.wavedRight&&(ee=wavedLine(W,Y,Z,J,this.tension,!0)),this.wavedBottom&&(te=wavedLine(Y,G,X,K,this.tension,!0)),this.wavedLeft&&(ie=wavedLine(G,U,Z,J,this.tension,!0)),this.path=moveTo(U)+Q+lineTo(W)+ee+lineTo(Y)+te+lineTo(G)+ie+"z"}},Object.defineProperty(F.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(E){this.setPropertyValue("waveLength",E),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(E){this.setPropertyValue("waveHeight",E),this.invalidate()},enumerable:!0,configurable:!0}),F.prototype.setWavedSides=function(E,V,U,W){this.wavedTop=E,this.wavedRight=V,this.wavedBottom=U,this.wavedLeft=W},Object.defineProperty(F.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(E){this.setPropertyValue("tension",E),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(E){this.setPropertyValue("wavedRight",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(E){this.setPropertyValue("wavedLeft",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(E){this.setPropertyValue("wavedTop",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(E){this.setPropertyValue("wavedBottom",E,!0)},enumerable:!0,configurable:!0}),F}(Rectangle),ZoomOutButton=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="ZoomOutButton",E.padding(9,9,9,9),E.showSystemTooltip=!0;var V=new InterfaceColorSet,U=E.background;U.cornerRadius(20,20,20,20),U.fill=V.getFor("primaryButton"),U.stroke=V.getFor("primaryButtonStroke"),U.strokeOpacity=0,U.states.getKey("hover").properties.fill=V.getFor("primaryButtonHover"),U.states.getKey("down").properties.fill=V.getFor("primaryButtonActive");var W=new Sprite;W.element=E.paper.add("path");var Y=moveTo({x:0,y:0});return Y+=lineTo({x:11,y:0}),W.path=Y,W.pixelPerfect=!0,W.padding(8,3,8,3),W.stroke=V.getFor("primaryButtonText"),E.icon=W,E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},F}(Button);registry.registeredClasses.ZoomOutButton=ZoomOutButton;var PlayButton=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="PlayButton",E.padding(12,12,12,12),E.showSystemTooltip=!0;var V=new InterfaceColorSet,U=E.background;U.cornerRadius(25,25,25,25),U.fill=V.getFor("primaryButton"),U.stroke=V.getFor("primaryButtonStroke"),U.strokeOpacity=0,U.states.getKey("hover").properties.fill=V.getFor("primaryButtonHover"),U.states.getKey("down").properties.fill=V.getFor("primaryButtonActive");var W=new Triangle;W.direction="right",W.width=9,W.height=11,W.marginLeft=1,W.marginRight=1,W.horizontalCenter="middle",W.verticalCenter="middle",W.stroke=V.getFor("primaryButtonText"),W.fill=W.stroke,E.icon=W;var Y=new RoundedRectangle;Y.width=11,Y.height=11,Y.horizontalCenter="middle",Y.verticalCenter="middle",Y.cornerRadius(0,0,0,0),Y.stroke=V.getFor("primaryButtonText"),Y.fill=W.stroke,E.togglable=!0;var G=E.states.create("active");return G.transitionDuration=0,G.properties.icon=Y,E.defaultState.transitionDuration=0,E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},F}(Button);registry.registeredClasses.PlayButton=PlayButton;var ColorModifier=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ColorModifier",E.applyTheme(),E}return F.prototype.modify=function(E){return E},F}(BaseObject);registry.registeredClasses.ColorModifier=ColorModifier;var GradientModifier=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.lightnesses=[],E.brightnesses=[],E.opacities=[],E.offsets=[],E.className="GradientModifier",E.applyTheme(),E}return Object.defineProperty(F.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(E){this._lightnesses=E,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(E){this._brightnesses=E,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"opacities",{get:function(){return this._opacities},set:function(E){this._opacities=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"offsets",{get:function(){return this._offsets},set:function(E){this._offsets=E},enumerable:!0,configurable:!0}),F.prototype.modify=function(E){this.gradient.clear();var V=0;this.opacities&&(V=max$2(V,this.opacities.length)),this.lightnesses&&(V=max$2(V,this.lightnesses.length)),this.brightnesses&&(V=max$2(V,this.brightnesses.length));for(var U=1,W,Y,G=0;G<V;G++){var X=E;this.opacities&&isNumber(this.opacities[G])&&(U=this.opacities[G]),this.lightnesses&&isNumber(this.lightnesses[G])&&(W=this.lightnesses[G],Y=void 0),this.brightnesses&&isNumber(this.brightnesses[G])&&(Y=this.brightnesses[G],W=void 0),isNumber(Y)?X=E.brighten(this.brightnesses[G]):isNumber(W)&&(X=E.lighten(this.lightnesses[G]));var K=this.offsets[G];this.gradient.addColor(X,U,K)}return this.gradient},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this._offsets=E.offsets,this._brightnesses=E.brightnesses,this._lightnesses=E.lightnesses,this._opacities=E.opacities},F}(ColorModifier);registry.registeredClasses.GradientModifier=GradientModifier;var LinearGradientModifier=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="LinearGradientModifier",E.gradient=new LinearGradient,E.applyTheme(),E}return F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.gradient=E.gradient.clone()},F}(GradientModifier);registry.registeredClasses.LinearGradientModifier=LinearGradientModifier;var Cone=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Cone",E.angle=30,E.radius=percent(100),E.topRadius=percent(100),E.top=E.createChild(Ellipse),E.top.shouldClone=!1,E.bottom=E.createChild(Ellipse),E.bottom.shouldClone=!1,E.body=E.createChild(Sprite),E.body.shouldClone=!1,E.body.setElement(E.paper.add("path")),E.layout="none",E.bodyFillModifier=new LinearGradientModifier,E.bodyFillModifier.lightnesses=[0,-.25,0],E.body.fillModifier=E.bodyFillModifier,E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this),copyProperties$1(this,this.top,visualProperties),copyProperties$1(this,this.bottom,visualProperties),copyProperties$1(this,this.body,visualProperties);var E=this.innerWidth,V=this.innerHeight,U=this.bottom,W=this.top,Y=this.angle,G,X,K;this.orientation=="horizontal"?(G=V/2,U.y=V/2,U.x=0,W.y=V/2,W.x=E,X=(90-Y)/90,K=0,this.bodyFillModifier.gradient.rotation=90):(X=0,K=(90-Y)/90,G=E/2,U.y=V,U.x=E/2,W.x=E/2,this.bodyFillModifier.gradient.rotation=0);var Z=this.radius.value*G,J=this.topRadius.value*G;U.radius=Z-Z*X,U.radiusY=Z-Z*K,W.radius=J-J*X,W.radiusY=J-J*K;var Q;this.orientation=="horizontal"?Q=moveTo({x:0,y:V/2-U.radiusY})+arcTo(-90,-180,U.radius,U.radiusY)+lineTo({x:E,y:V/2+W.radiusY})+arcTo(90,180,W.radius,W.radiusY)+closePath():Q=moveTo({x:E/2-W.radius,y:0})+arcTo(180,-180,W.radius,W.radiusY)+lineTo({x:E/2+U.radius,y:V})+arcTo(0,180,U.radius,U.radiusY)+closePath(),this.body.path=Q},Object.defineProperty(F.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(E){this.setPropertyValue("angle",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPropertyValue("radius",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(E){this.setPropertyValue("topRadius",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(E){this.setPropertyValue("orientation",E,!0)},enumerable:!0,configurable:!0}),F}(Container),LightenFilter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="LightenFilter",E.feColorMatrix=E.paper.add("feColorMatrix"),E.feColorMatrix.attr({type:"matrix"}),E.filterPrimitives.push(E.feColorMatrix),E.lightness=0,E.applyTheme(),E}return Object.defineProperty(F.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(E){this.properties.lightness=E;var V=E+1;this.feColorMatrix.attr({values:V+" 0 0 0 0 0 "+V+" 0 0 0 0 0 "+V+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),F}(Filter);registry.registeredClasses.LightenFilter=LightenFilter;var Rectangle3D=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.angle=30,E.depth=30,E.className="Rectangle3D",E.layout="none";var V=E.createChild(Sprite);V.shouldClone=!1,V.setElement(E.paper.add("path")),V.isMeasured=!1,E.sideBack=V,E._disposers.push(E.sideBack);var U=E.createChild(Sprite);U.shouldClone=!1,U.setElement(E.paper.add("path")),U.isMeasured=!1,E.sideBottom=U,E._disposers.push(E.sideBottom);var W=E.createChild(Sprite);W.shouldClone=!1,W.setElement(E.paper.add("path")),W.isMeasured=!1,E.sideLeft=W,E._disposers.push(E.sideLeft);var Y=E.createChild(Sprite);Y.shouldClone=!1,Y.setElement(E.paper.add("path")),Y.isMeasured=!1,E.sideRight=Y,E._disposers.push(E.sideRight);var G=E.createChild(Sprite);G.shouldClone=!1,G.setElement(E.paper.add("path")),G.isMeasured=!1,E.sideTop=G,E._disposers.push(E.sideTop);var X=E.createChild(Sprite);return X.shouldClone=!1,X.setElement(E.paper.add("path")),X.isMeasured=!1,E.sideFront=X,E._disposers.push(E.sideFront),E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.innerWidth,V=this.innerHeight,U=this.depth,W=this.angle,Y=sin(W),G=cos(W),X={x:0,y:0},K={x:E,y:0},Z={x:E,y:V},J={x:0,y:V},Q={x:U*G,y:-U*Y},ee={x:U*G+E,y:-U*Y},te={x:U*G+E,y:-U*Y+V},ie={x:U*G,y:-U*Y+V};this.sideFront.path=moveTo(X)+lineTo(K)+lineTo(Z)+lineTo(J)+closePath(),this.sideBack.path=moveTo(Q)+lineTo(ee)+lineTo(te)+lineTo(ie)+closePath(),this.sideLeft.path=moveTo(X)+lineTo(Q)+lineTo(ie)+lineTo(J)+closePath(),this.sideRight.path=moveTo(K)+lineTo(ee)+lineTo(te)+lineTo(Z)+closePath(),this.sideBottom.path=moveTo(J)+lineTo(ie)+lineTo(te)+lineTo(Z)+closePath(),this.sideTop.path=moveTo(X)+lineTo(Q)+lineTo(ee)+lineTo(K)+closePath()},Object.defineProperty(F.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(E){this.setPropertyValue("depth",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(E){this.setPropertyValue("angle",E,!0)},enumerable:!0,configurable:!0}),F.prototype.setFill=function(E){R.prototype.setFill.call(this,E),(!isObject$1(E)||"r"in E)&&(E=toColor(E));var V;if(E instanceof Color$1)V=E.hex;else if(E instanceof LinearGradient||E instanceof RadialGradient)V=E.stops.getIndex(0).color.hex;else{var U=new LightenFilter;U.lightness=-.2,this.sideBack.filters.push(U);var W=U.clone();W.lightness=-.4,this.sideLeft.filters.push(W);var Y=U.clone();Y.lightness=-.2,this.sideRight.filters.push(Y);var G=U.clone();G.lightness=-.1,this.sideTop.filters.push(G);var X=U.clone();X.lightness=-.5,this.sideBottom.filters.push(X)}V&&(this.sideBack.fill=color$1(V).lighten(-.2),this.sideLeft.fill=color$1(V).lighten(-.4),this.sideRight.fill=color$1(V).lighten(-.2),this.sideTop.fill=color$1(V).lighten(-.1),this.sideBottom.fill=color$1(V).lighten(-.5))},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.sideBack.copyFrom(E.sideBack),this.sideLeft.copyFrom(E.sideLeft),this.sideRight.copyFrom(E.sideRight),this.sideTop.copyFrom(E.sideTop),this.sideBottom.copyFrom(E.sideBottom)},F}(Container),Slice3D=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="Slice3D",E.layout="none";var V=E.createChild(Sprite);E.edge=V,V.shouldClone=!1,V.isMeasured=!1,V.toBack(),E.angle=30,E.depth=20;var U=E.createChild(Sprite);E.sideA=U,U.shouldClone=!1,U.isMeasured=!1;var W=E.createChild(Sprite);return E.sideB=W,W.shouldClone=!1,W.isMeasured=!1,E.applyTheme(),E}return F.prototype.setFill=function(E){R.prototype.setFill.call(this,E);var V;if(E instanceof Color$1)V=E.hex;else if(E instanceof LinearGradient||E instanceof RadialGradient)V=E.stops.getIndex(0).color.hex;else{var U=new LightenFilter;U.lightness=-.25,this.edge.filters.push(U),this.sideA.filters.push(U.clone()),this.sideB.filters.push(U.clone())}if(V){var W=color$1(V).lighten(-.25);this.edge.fill=W,this.sideA.fill=W,this.sideB.fill=W,this.edge.stroke=W,this.sideA.stroke=W,this.sideB.stroke=W}},F.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,R.prototype.draw.call(this),this.arc!==0&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var E=this.startAngle,V=this.arc,U=this.pixelInnerRadius||0,W=this.radiusY||0,Y=this.radius,G=E+V,X=W/Y*U,K={x:cos(E)*U,y:sin(E)*X},Z={x:cos(E)*Y,y:sin(E)*W},J={x:cos(G)*Y,y:sin(G)*W},Q={x:cos(G)*U,y:sin(G)*X},ee=this.depth,te={x:K.x,y:K.y-ee},ie={x:Z.x,y:Z.y-ee},ne={x:J.x,y:J.y-ee},ae={x:Q.x,y:Q.y-ee},se="",oe=Math.ceil(V/5),le=V/oe,ue=E,ce=ie,he=0;he<oe;he++)if(ue+=le,ue>0&&ue<180){se+=moveTo(ce);var de={x:cos(ue)*Y,y:sin(ue)*W-ee};se+=lineTo({x:ce.x,y:ce.y+ee}),se+=arcToPoint({x:de.x,y:de.y+ee},Y,W,!0),se+=lineTo(de),se+=arcToPoint(ce,Y,W),se+="z",ce=de}else{se+=moveTo(ce);var de={x:cos(ue)*Y,y:sin(ue)*W-ee};se+=arcToPoint(de,Y,W,!0),se+=lineTo({x:de.x,y:de.y+ee}),se+=arcToPoint({x:ce.x,y:ce.y+ee},Y,W),se+=lineTo(ce),se+="z",ce=de}ce=te,ue=E;for(var he=0;he<oe;he++)if(ue+=le,ue>0&&ue<180){se+=moveTo(ce);var de={x:cos(ue)*U,y:sin(ue)*X-ee};se+=lineTo({x:ce.x,y:ce.y+ee}),se+=arcToPoint({x:de.x,y:de.y+ee},U,X,!0),se+=lineTo(de),se+=arcToPoint(ce,U,X),se+="z",ce=de}else{se+=moveTo(ce);var de={x:cos(ue)*U,y:sin(ue)*X-ee};se+=arcToPoint(de,U,X,!0),se+=lineTo({x:de.x,y:de.y+ee}),se+=arcToPoint({x:ce.x,y:ce.y+ee},U,X),se+=lineTo(ce),se+="z",ce=de}this.edge.path=se,this.sideA.path=moveTo(K)+lineTo(Z)+lineTo(ie)+lineTo(te)+closePath(),this.sideB.path=moveTo(J)+lineTo(Q)+lineTo(ae)+lineTo(ne)+closePath(),this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-ee}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(F.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(E){this.setPropertyValue("depth",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"angle",{get:function(){var E=this.getPropertyValue("angle");return isNumber(E)||(E=0),E},set:function(E){this.setPropertyValue("angle",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radiusY",{get:function(){var E=this.getPropertyValue("radiusY");return isNumber(E)||(E=this.radius-this.radius*this.angle/90),E},set:function(E){this.setPropertyValue("radiusY",E,!0)},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.edge.copyFrom(E.edge),this.sideA.copyFrom(E.sideA),this.sideB.copyFrom(E.sideB)},F}(Slice),RadialGradientModifier=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="RadialGradientModifier",E.gradient=new RadialGradient,E.applyTheme(),E}return F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.gradient=E.gradient.clone()},F}(GradientModifier);registry.registeredClasses.RadialGradientModifier=RadialGradientModifier;var LinePattern=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.properties.gap=0,E._line=E.paper.add("path"),E.addElement(E._line),E}return F.prototype.draw=function(){if(R.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var E=this.width,V=this.height,U="";if(!this.gap)Math.round(this.rotation/90)!=this.rotation/90?(U=moveTo({x:-E,y:V/2})+lineTo({x:E*2,y:V/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):U=moveTo({x:0,y:0})+lineTo({x:E,y:0});else for(var W=this.gap+this.strokeWidth,Y=this.height/W,G=-Y/2;G<Y*1.5;G++)Math.round(this.rotation/90)!=this.rotation/90?(U+=moveTo({x:-E,y:(G+.5)*W})+lineTo({x:E*2,y:(G+.5)*W}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):U+=moveTo({x:-E,y:G*W})+lineTo({x:E*2,y:G*W});this._line.attr({d:U})}},Object.defineProperty(F.prototype,"gap",{get:function(){return this.properties.gap},set:function(E){this.properties.gap=E,this.draw()},enumerable:!0,configurable:!0}),F}(Pattern);registry.registeredClasses.LinePattern=LinePattern;var CirclePattern=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.properties.radius=2,E._circle=E.paper.add("circle"),E.addElement(E._circle),E.shapeRendering="auto",E}return F.prototype.draw=function(){R.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(F.prototype,"radius",{get:function(){return this.properties.radius},set:function(E){this.properties.radius=E,this.draw()},enumerable:!0,configurable:!0}),F}(Pattern);registry.registeredClasses.CirclePattern=CirclePattern;var RectPattern=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.rectHeight=1,E.rectWidth=1,E._rect=E.paper.add("rect"),E.addElement(E._rect),E}return F.prototype.draw=function(){R.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(F.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(E){this.properties.rectWidth=E,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(E){this.properties.rectHeight=E,this.draw()},enumerable:!0,configurable:!0}),F}(Pattern);registry.registeredClasses.RectPattern=RectPattern;var ColorizeFilter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ColorizeFilter",E.feColorMatrix=E.paper.add("feColorMatrix"),E.feColorMatrix.attr({type:"matrix"}),E.filterPrimitives.push(E.feColorMatrix),E.intensity=1,E.applyTheme(),E}return F.prototype.applyFilter=function(){var E=this.intensity,V=1-E,U,W,Y,G=this.color;G&&G.rgb?(U=G.rgb.r/255*E,W=G.rgb.g/255*E,Y=G.rgb.b/255*E):(U=0,W=0,Y=0),this.feColorMatrix.attr({values:V+" 0 0 0 "+U+" 0 "+V+" 0 0 "+W+" 0 0 "+V+" 0 "+Y+" 0 0 0 1 0"})},Object.defineProperty(F.prototype,"color",{get:function(){return this.properties.color},set:function(E){this.properties.color=E,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(E){this.properties.intensity=E,this.applyFilter()},enumerable:!0,configurable:!0}),F}(Filter);registry.registeredClasses.ColorizeFilter=ColorizeFilter;var DesaturateFilter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="DesaturateFilter",E.feColorMatrix=E.paper.add("feColorMatrix"),E.feColorMatrix.attr({type:"saturate"}),E.filterPrimitives.push(E.feColorMatrix),E.width=120,E.height=120,E.saturation=0,E.applyTheme(),E}return Object.defineProperty(F.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(E){this.properties.saturation=E,this.feColorMatrix.attr({values:E.toString()})},enumerable:!0,configurable:!0}),F}(Filter);registry.registeredClasses.DesaturateFilter=DesaturateFilter;var BlurFilter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="BlurFilter",E.feGaussianBlur=E.paper.add("feGaussianBlur"),E.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),E.filterPrimitives.push(E.feGaussianBlur),E.width=200,E.height=200,E.blur=1.5,E.applyTheme(),E}return Object.defineProperty(F.prototype,"blur",{get:function(){return this.properties.blur},set:function(E){this.properties.blur=E,this.feGaussianBlur.attr({stdDeviation:E/this.scale})},enumerable:!0,configurable:!0}),F}(Filter);registry.registeredClasses.BlurFilter=BlurFilter;var FocusFilter=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="FocusFilter",E.feFlood=E.paper.add("feFlood"),E.feFlood.attr({"flood-color":new InterfaceColorSet().getFor("primaryButtonHover"),result:"base"}),E.filterPrimitives.push(E.feFlood),E.feMorphology=E.paper.add("feMorphology"),E.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),E.filterPrimitives.push(E.feMorphology),E.feColorMatrix=E.paper.add("feColorMatrix"),E.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),E.filterPrimitives.push(E.feColorMatrix),E.feComposite=E.paper.add("feComposite"),E.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),E.filterPrimitives.push(E.feComposite),E.feBlend=E.paper.add("feBlend"),E.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),E.filterPrimitives.push(E.feBlend),E.width=130,E.height=130,E.applyTheme(),E}return Object.defineProperty(F.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(E){this.properties.stroke=E,this.feFlood.attr({"flood-color":E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(E){this.properties.strokeWidth=E,this.feMorphology.attr({radius:E})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(E){this.properties.opacity=E,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+E+" 0"})},enumerable:!0,configurable:!0}),F.prototype.setSprite=function(E){this._sprite&&this._sprite!=E&&this._sprite.group.removeStyle("outline"),E.group.addStyle({outline:"none"}),R.prototype.setSprite.call(this,E)},F}(Filter),ColorSet=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._list=[],E._currentStep=0,E._startIndex=0,E._currentPass=0,E.baseColor=new Color$1({r:103,g:183,b:220}),E.stepOptions={},E.passOptions={brighten:-.2},E.step=1,E.minColors=20,E.minLightness=.2,E.maxLightness=.9,E.shuffle=!1,E.wrap=!0,E.reuse=!1,E.saturation=1,E.className="ColorSet",E.applyTheme(),E}return Object.defineProperty(F.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(E){this._list=E,this.reset()},enumerable:!0,configurable:!0}),F.prototype.getReusableColor=function(E){if(this._list.length==0)return this.generate(1),this.list[0];var V=E-Math.floor(E/this._list.length)*this.list.length;return this.list[V]},F.prototype.next=function(){var E;return this.list.length<=this._currentStep?this.reuse?E=this.getReusableColor(this._currentStep):(this.generate(max$2(this.minColors,this._currentStep+1)),E=this.list[this._currentStep]):E=this.list[this._currentStep],this._currentStep+=this.step,E.saturate(this.saturation)},F.prototype.getIndex=function(E){var V;return this.list.length<=E?this.reuse?V=this.getReusableColor(E):(this.generate(this.minColors),V=this.getIndex(E)):V=this.list[E],V.saturate(this.saturation)},F.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(F.prototype,"currentStep",{get:function(){return this._currentStep},set:function(E){this._currentStep=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startIndex",{get:function(){return this._startIndex},set:function(E){this._startIndex=E,this.reset()},enumerable:!0,configurable:!0}),F.prototype.generate=function(E){var V=this.currentColor,U=rgbToHsl(getValue(V.rgb)),W=hasValue(this.stepOptions.hue)?this.stepOptions.hue:1/E,Y={brighten:0,lighten:0,hue:U.h,lightness:U.l,saturation:U.s},G=[],X=this.list.length==0?0:1;if(this.reuse)for(var K=X;K<=E;K++)G.push(rgbToHsl(getValue(this._list[K].rgb)).h);else for(var K=X;K<=E;K++){var Z=U.h+W*K;this.wrap&&Z>1&&(Z-=1),G.push(Z)}this.shuffle&&G.sort(function(te,ie){return Math.random()-.5});for(var K=0;K<E;K++){this.reuse?U=rgbToHsl(getValue(this._list[K].rgb)):U.h=G.shift(),this.applyStepOptions(U,Y,K,this._currentPass);var J=color$1(hslToRgb(U)),Q=(this.stepOptions.brighten||0)*K+(this.passOptions.brighten||0)*this._currentPass;Q!=0&&(this.wrap?Q=fitNumberRelative(Q,this.minLightness,this.maxLightness):Q=fitNumber(Q,this.minLightness,this.maxLightness),J=J.brighten(Q));var ee=(this.stepOptions.lighten||0)*K+(this.passOptions.lighten||0)*this._currentPass;ee!=0&&(this.wrap?ee=fitNumberRelative(ee,this.minLightness,this.maxLightness):ee=fitNumber(ee,this.minLightness,this.maxLightness),J=J.lighten(ee)),this._list.push(J)}this._currentPass++},Object.defineProperty(F.prototype,"currentColor",{get:function(){return this._list.length==0?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),F.prototype.applyStepOptions=function(E,V,U,W){E.l=V.lightness+(this.stepOptions.lightness||0)*U+(this.passOptions.lightness||0)*W,this.wrap?(E.l>1?E.l=E.l-Math.floor(E.l):E.l<0&&(E.l=-(E.l-Math.floor(E.l))),E.l=fitNumberRelative(E.l,this.minLightness,this.maxLightness)):(E.l>1?E.l=1:E.l<0&&(E.l=0),E.l=fitNumber(E.l,this.minLightness,this.maxLightness))},F.prototype.processConfig=function(E){if(E){if(hasValue(E.list)&&isArray$1(E.list))for(var V=0,U=E.list.length;V<U;V++)E.list[V]instanceof Color$1||(E.list[V]=color$1(E.list[V]));hasValue(E.baseColor)&&!(E.baseColor instanceof Color$1)&&(E.baseColor=color$1(E.baseColor))}R.prototype.processConfig.call(this,E)},F}(BaseObject);registry.registeredClasses.ColorSet=ColorSet;var PatternSet=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._list=[],E._currentStep=0,E._startIndex=0,E._currentPass=0,E.baseColor=new Color$1({r:103,g:183,b:220}),E.className="PatternSet";var V=new InterfaceColorSet;return E.list=[E.getLinePattern(1e3,45,1,6),E.getRectPattern(10,0,4),E.getLinePattern(1e3,-45,1,6),E.getCirclePattern(11,2,!0),E.getLinePattern(6,90,1),E.getRectPattern(12,45,6,!0),E.getLinePattern(6,0,1),E.getRectPattern(7,0,4),E.getLinePattern(1e3,45,2,3,"4,2"),E.getCirclePattern(9,3,!1),E.getLinePattern(1e3,-45,2,3,"4,2"),E.getRectPattern(10,45,Math.sqrt(50)),E.getLinePattern(1e3,-45,2,1),E.getRectPattern(10,0,9),E.getLinePattern(1e3,45,2,1),E.getLinePattern(1e3,0,3,1),E.getRectPattern(10,45,10),E.getLinePattern(1e3,90,3,1)],E.baseColor=V.getFor("stroke"),E.applyTheme(),E}return F.prototype.getLinePattern=function(E,V,U,W,Y){var G=new LinePattern;return G.width=E,G.height=E,G.stroke=this.baseColor,G.gap=W,G.strokeDasharray=Y,G.strokeWidth=U,G.rotation=V,G},F.prototype.getRectPattern=function(E,V,U,W){var Y=new RectPattern;return Y.width=E,Y.height=E,Y.rectWidth=U,Y.rectHeight=U,W?(Y.stroke=this.baseColor,Y.strokeWidth=1,Y.fillOpacity=0):(Y.fill=this.baseColor,Y.strokeWidth=0),V!=0&&(Y.shapeRendering="auto"),Y.rotation=V,Y},F.prototype.getCirclePattern=function(E,V,U){var W=new CirclePattern;return W.width=E,W.height=E,W.shapeRendering="auto",W.radius=V,U?(W.stroke=this.baseColor,W.strokeWidth=1,W.fillOpacity=0):(W.fill=this.baseColor,W.strokeWidth=0),W},Object.defineProperty(F.prototype,"list",{get:function(){return this._list},set:function(E){this._list=E,this.reset()},enumerable:!0,configurable:!0}),F.prototype.next=function(){var E=this.getIndex(this.currentStep);return this._currentStep++,E},F.prototype.getIndex=function(E){for(var V;this.list.length<=E;)this.generatePatterns();return V=this.list[E],V.clone()},F.prototype.generatePatterns=function(){var E=this.list.length/(this._currentPass+1);this._currentPass++;for(var V=0;V<E;V++)this.list.push(this.list[V].clone())},F.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(F.prototype,"currentStep",{get:function(){return this._currentStep},set:function(E){this._currentStep=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startIndex",{get:function(){return this._startIndex},set:function(E){this._startIndex=E,this.reset()},enumerable:!0,configurable:!0}),F.prototype.processConfig=function(E){R.prototype.processConfig.call(this,E)},F}(BaseObject);registry.registeredClasses.PatternSet=PatternSet;var AmChartsLogo=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="AmChartsLogo",E.valign="bottom";var V=.3;E.opacity=.3,E.defaultState.properties.opacity=.4,E.url="https://www.amcharts.com/",E.urlTarget="_blank",E.showSystemTooltip=!0,E.readerTitle="Chart created using amCharts library",E.width=220*V,E.height=70*V,E.background.opacity=0;var U=color$1("#474758");new InterfaceColorSet().getFor("background").alternative.hex=="#ffffff"&&(U=color$1("#ffffff"));var W=new LinearGradient;W.addColor(U),W.addColor(U,1,.75),W.addColor(color$1("#3cabff"),1,.755),W.rotation=-10;var Y=W,G=E.createChild(Polyspline);G.shouldClone=!1,G.isMeasured=!1,G.segments=[[{x:50*V,y:50*V},{x:90*V,y:50*V},{x:120*V,y:20*V},{x:135*V,y:35*V},{x:150*V,y:20*V},{x:180*V,y:50*V},{x:200*V,y:50*V}]],G.strokeWidth=6*V,G.tensionX=.8,G.tensionY=1,G.stroke=color$1("#3cabff");var X=E.createChild(Polyspline);X.shouldClone=!1,X.isMeasured=!1,X.segments=[[{x:20*V,y:50*V},{x:50*V,y:50*V},{x:90*V,y:12*V},{x:133*V,y:50*V},{x:170*V,y:50*V},{x:200*V,y:50*V}]],X.strokeWidth=6*V,X.tensionX=.75,X.tensionY=1,X.stroke=Y,E._disposers.push(X);var K=new DesaturateFilter;E.filters.push(K);var Z=new DesaturateFilter;Z.saturation=1;var J=E.states.create("hover");return J.properties.opacity=1,J.filters.push(Z),E.applyTheme(),E}return F}(Container);function createChild(R,F){var E=getElement(R),V=!1;if(E||(E=document.createElement("div"),E.style.width="200px",E.style.height="200px",E.style.top="0",E.style.left="0",E.style.visibility="hidden",E.style.position="absolute",document.body.appendChild(E),V=!0),E){E.innerHTML="";var U=new SVGContainer(E),W=new Paper(U.SVGContainer,"svg-"+(svgContainers.length-1)),Y=new Container;Y.htmlContainer=E,Y.svgContainer=U,Y.width=percent(100),Y.height=percent(100),Y.background.fillOpacity=0,Y.paper=W,W.append(Y.group),V&&ready(function(){Y.moveHtmlContainer(R)}),Y.relativeWidth=1,Y.relativeHeight=1,U.container=Y;var G=Y.createChild(F);G.topParent=Y;var X=G.uid;registry.invalidSprites[X]=[],registry.invalidDatas[X]=[],registry.invalidPositions[X]=[],registry.invalidLayouts[X]=[],Y.baseId=X,G.isBaseSprite=!0,G.focusFilter=new FocusFilter,registry.baseSprites.push(G),registry.baseSpritesByUid[X]=G,G.maskRectangle={x:0,y:0,width:Math.max(U.width||0,0),height:Math.max(U.height||0,0)},Y.events.on("maxsizechanged",function(te){(te.previousWidth==0||te.previousHeight==0)&&Y.deepInvalidate(),G.maskRectangle&&(G.maskRectangle={x:0,y:0,width:Math.max(U.width||0,0),height:Math.max(U.height||0,0)})});var K=null,Z=function(){G.isDisposed()?K=null:getRoot(G.dom)==null?(warn$1("Chart was not disposed",G.uid),K=null):K=window.setTimeout(Z,1e3)};Z(),G.addDisposer(new Disposer(function(){K!==null&&clearTimeout(K),remove$1(registry.baseSprites,G),registry.baseSpritesByUid[G.uid]=void 0})),G.addDisposer(Y);var J=Y.createChild(Container);J.topParent=Y,J.width=percent(100),J.height=percent(100),J.isMeasured=!1,Y.tooltipContainer=J,G.tooltip=new Tooltip,G.tooltip.hide(0),G.tooltip.setBounds({x:0,y:0,width:J.maxWidth,height:J.maxHeight}),J.events.on("maxsizechanged",function(){getValue(G.tooltip).setBounds({x:0,y:0,width:J.maxWidth,height:J.maxHeight})},void 0,!1);var Q=new Preloader;if(Q.events.on("inited",function(){Q.__disabled=!0},void 0,!1),Y.preloader=Q,G instanceof Container&&!G.hasLicense()){var ee=J.createChild(AmChartsLogo);J.events.on("maxsizechanged",function(te){J.maxWidth<=100||J.maxHeight<=50?ee.hide():(ee.isHidden||ee.isHiding)&&ee.show()},void 0,!1),G.logo=ee,ee.align="left",ee.valign="bottom"}return G.numberFormatter,Y.isStandaloneInstance=!0,G}else throw system$1.log("html container not found"),new Error("html container not found")}function create$1(R,F){var E;isString$1(F)&&(hasValue(registry.registeredClasses[F])?F=registry.registeredClasses[F]:(F=registry.registeredClasses.Container,E=new Error("Class ["+F+"] is not loaded.")));var V=createChild(R,F);return E&&V.raiseCriticalError(E),V}function useTheme(R){registry.themes.indexOf(R)===-1&&registry.themes.push(R)}function unuseAllThemes(){registry.themes=[]}function addLicense(R){options.licenses.push(R)}var Grip=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="Grip";var V=new InterfaceColorSet;E.layout="absolute",E.padding(10,10,10,10),E.margin(3,3,3,3),E.background.fillOpacity=.3,E.background.cornerRadius(10,10,10,10);var U=new Sprite;U.element=E.paper.add("path");var W=moveTo({x:-6,y:0});return W+=lineTo({x:6,y:0}),W+=moveTo({x:-8,y:-6}),W+=lineTo({x:0,y:-12}),W+=lineTo({x:8,y:-6}),W+=moveTo({x:-8,y:6}),W+=lineTo({x:0,y:12}),W+=lineTo({x:8,y:6}),U.path=W,U.strokeWidth=2,U.fillOpacity=0,U.pixelPerfect=!0,U.padding(0,4,0,4),U.stroke=V.getFor("text"),U.strokeOpacity=.7,U.align="center",U.valign="middle",E.icon=U,E.label.dispose(),E.label=void 0,E.position="right",E.autoHideDelay=3e3,E.events.on("shown",function(Y){E._autoHideTimeout&&E._autoHideTimeout.dispose(),E.autoHideDelay&&(E._autoHideTimeout=E.setTimeout(function(){E.hide()},E.autoHideDelay))}),E.events.on("down",function(Y){E._autoHideTimeout&&E._autoHideTimeout.dispose()}),E.events.on("out",function(Y){E.autoHideDelay&&(E._autoHideTimeout=E.setTimeout(function(){E.hide()},E.autoHideDelay))}),E.applyTheme(),E}return Object.defineProperty(F.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(E){if(this.setPropertyValue("position",E))switch(E){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=percent(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=percent(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=percent(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=percent(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=percent(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(E){this.setPropertyValue("autoHideDelay",E)},enumerable:!0,configurable:!0}),F}(Button);registry.registeredClasses.Grip=Grip;var ChartDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ChartDataItem",E.applyTheme(),E}return F}(DataItem),Chart=function(R){__extends(F,R);function F(){var E=R.call(this)||this;if(E._legend=new MutableValueDisposer,E.constructor===F)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");E.className="Chart";var V=new Label;E.titles=new ListTemplate(V),E._disposers.push(new ListDisposer(E.titles)),E._disposers.push(V),E.width=percent(100),E.height=percent(100),E.layout="vertical";var U=E.createChild(Container);U.shouldClone=!1,U.layout="vertical",U.width=percent(100),U.height=percent(100),E.chartAndLegendContainer=U;var W=U.createChild(Container);return W.shouldClone=!1,W.width=percent(100),W.height=percent(100),E.chartContainer=W,E.showOnInit=!0,E._disposers.push(E._legend),E.titles.events.on("inserted",function(Y){E.processTitle(Y),E.updateReaderTitleReferences()},E,!1),E.titles.events.on("removed",function(Y){E.updateReaderTitleReferences()},E,!1),E.role="region",E.defaultState.transitionDuration=1,E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},F.prototype.draw=function(){this.fixLayout(),R.prototype.draw.call(this)},F.prototype.fixLayout=function(){var E=this.legend;if(E){var V=this.chartAndLegendContainer,U=this.chartContainer;switch(U.x=void 0,U.y=void 0,E.position!="absolute"&&(E.x=void 0,E.y=void 0),E.position){case"left":V.layout="horizontal",E.toBack();break;case"right":V.layout="horizontal",E.toFront();break;case"top":V.layout="vertical",E.toBack();break;case"bottom":V.layout="vertical",E.toFront();break;case"absolute":E.isMeasured=!1;break}}},F.prototype.feedLegend=function(){},F.prototype.processTitle=function(E){var V=E.newValue;return V.parent=this,V.toBack(),V.shouldClone=!1,V.align="center",V.uidAttr(),V},F.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var E=[];each(this.titles.iterator(),function(V){E.push(V.uid)}),this.setSVGAttribute({"aria-labelledby":E.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(F.prototype,"legend",{get:function(){return this._legend.get()},set:function(E){this.setLegend(E)},enumerable:!0,configurable:!0}),F.prototype.setLegend=function(E){var V=this;this._legend.get()!==E&&(E?(E.parent=this.chartAndLegendContainer,this._legend.set(E,E.events.on("propertychanged",function(U){U.property=="position"&&V.fixLayout()},void 0,!1)),E.addDisposer(new Disposer(function(){V.legend=void 0}))):this._legend.reset(),this.feedLegend())},F.prototype.dispose=function(){this.legend&&this.legend.dispose(),R.prototype.dispose.call(this)},F.prototype.processConfig=function(E){E&&hasValue(E.legend)&&!hasValue(E.legend.type)&&(E.legend.type="Legend"),R.prototype.processConfig.call(this,E)},F.prototype.copyFrom=function(E){this.titles.copyFrom(E.titles),this.chartContainer.copyFrom(E.chartContainer),E.legend&&(this.legend=E.legend.clone(),this.legend.removeChildren()),R.prototype.copyFrom.call(this,E)},Object.defineProperty(F.prototype,"dragGrip",{get:function(){var E=this;if(!this._dragGrip){var V=this.tooltipContainer.createChild(Grip);V.align="right",V.valign="middle",V.hide(0),V.events.on("down",function(U){U.touch&&(E.interactionsEnabled=!1)}),V.events.on("up",function(U){E.interactionsEnabled=!0}),this.events.on("down",function(U){U.touch&&V.show()}),this._dragGrip=V}return this._dragGrip},set:function(E){this._dragGrip=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(E){this.parent.focusable=E},enumerable:!0,configurable:!0}),F}(Component$1);registry.registeredClasses.Chart=Chart;defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(R,F){if(R instanceof Chart){var E=R.states.create(F);return R.pixelPaddingLeft>10&&(E.properties.paddingLeft=10),R.pixelPaddingRight>10&&(E.properties.paddingRight=10),E}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(R,F){if(R instanceof Chart){var E=R.states.create(F);return R.pixelPaddingTop>10&&(E.properties.paddingTop=10),R.pixelPaddingBottom>10&&(E.properties.paddingBottom=10),E}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.widthXXS,state:function(R,F){if(R instanceof Chart){var E=R.states.create(F);return E.properties.paddingLeft=0,E.properties.paddingRight=0,E}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.heightXXS,state:function(R,F){if(R instanceof Chart){var E=R.states.create(F);return E.properties.paddingTop=0,E.properties.paddingBottom=0,E}return null}});var Bullet=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Bullet",E.isMeasured=!1,E.tooltipX=0,E.tooltipY=0,E.layout="none",E.applyOnClones=!0,E.copyToLegendMarker=!0,E.applyTheme(),E}return Object.defineProperty(F.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(E){if(this.setPropertyValue("locationX",E)){var V=this.dataItem;V&&V.component&&V.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(E){if(this.setPropertyValue("locationY",E)){var V=this.dataItem;V&&V.component&&V.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(E){this.setPropertyValue("xField",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(E){this.setPropertyValue("yField",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(E){this.setPropertyValue("isDynamic",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(E){this.setPropertyValue("copyToLegendMarker",E)},enumerable:!0,configurable:!0}),F}(Container);registry.registeredClasses.Bullet=Bullet;defaultRules.push({relevant:ResponsiveBreakpoints.isXS,state:function(R,F){if(R instanceof Bullet){var E=R.states.create(F);return E.properties.disabled=!0,E}return null}});var LegendDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.childrenCreated=!1,E.className="LegendDataItem",E.applyTheme(),E}return Object.defineProperty(F.prototype,"label",{get:function(){var E=this;if(!this._label){var V=this.component.labels.create();this._label=V,this.addSprite(V),this._disposers.push(V),V.parent=this.itemContainer,this._disposers.push(new Disposer(function(){hasValue(E.component)&&E.component.labels.removeValue(V)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"color",{get:function(){return this.properties.color},set:function(E){this.setProperty("color",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"valueLabel",{get:function(){var E=this;if(!this._valueLabel){var V=this.component.valueLabels.create();this._valueLabel=V,this.addSprite(V),this._disposers.push(V),V.parent=this.itemContainer,this._disposers.push(new Disposer(function(){hasValue(E.component)&&E.component.valueLabels.removeValue(V)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"itemContainer",{get:function(){var E=this;if(!this._itemContainer){var V=this.component,U=V.itemContainers.create();U.parent=V,this._itemContainer=U,this.addSprite(U),this._disposers.push(U),U.togglable&&U.events.on("toggled",function(G){V.toggleDataItem(G.target.dataItem)},void 0,!1),U.focusable&&(U.events.on("hit",function(G){V.focusedItem=void 0},void 0,!1),U.events.on("focus",function(G){V.focusedItem=G.target.dataItem},void 0,!1),U.events.on("blur",function(G){V.focusedItem=void 0},void 0,!1)),this._disposers.push(new Disposer(function(){hasValue(E.component)&&E.component.itemContainers.removeValue(U)})),this.dataContext.uidAttr&&(U.readerControls=this.dataContext.uidAttr(),U.readerLabelledBy=this.dataContext.uidAttr());var W=this.dataContext;if((W instanceof DataItem||W instanceof Sprite)&&!W.isDisposed()){var Y=function(G){U.readerChecked=G.visible,U.events.disableType("toggled"),U.isActive=!G.visible,U.events.enableType("toggled")};W.addDisposer(new Disposer(function(){E.component&&E.component.dataItems.remove(E)})),W instanceof Sprite?(U.addDisposer(W.events.on("visibilitychanged",Y,void 0,!1)),U.addDisposer(W.events.on("hidden",function(G){U.readerChecked=!1,U.events.disableType("toggled"),U.isActive=!0,U.events.enableType("toggled")},void 0,!1)),U.addDisposer(W.events.on("shown",function(G){U.readerChecked=!0,U.events.disableType("toggled"),U.isActive=!1,U.events.enableType("toggled")},void 0,!1))):U.addDisposer(W.events.on("visibilitychanged",Y,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"marker",{get:function(){var E=this;if(!this._marker){var V=this.component.markers.create();this._marker=V,V.parent=this.itemContainer,this.addSprite(V),this._disposers.push(V),this._disposers.push(new Disposer(function(){hasValue(E.component)&&E.component.markers.removeValue(V)}))}return this._marker},enumerable:!0,configurable:!0}),F}(DataItem),LegendSettings=function(){function R(){this.createMarker=!0}return R}(),Legend=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="Legend",E.layout="grid",E.setPropertyValue("useDefaultMarker",!1),E.setPropertyValue("scrollable",!1),E.setPropertyValue("contentAlign","center");var V=new Container;V.applyOnClones=!0,V.padding(8,0,8,0),V.margin(0,10,0,10),V.layout="horizontal",V.clickable=!0,V.focusable=!0,V.role="switch",V.togglable=!0,V.cursorOverStyle=MouseCursorStyle.pointer,V.background.fillOpacity=0,E.itemContainers=new ListTemplate(V),E._disposers.push(new ListDisposer(E.itemContainers)),E._disposers.push(E.itemContainers.template),E._disposers.push(getInteraction().body.events.on("keyup",function(Z){if(keyboard.isKey(Z.event,"enter")&&E.focusedItem){var J=E.focusedItem,Q=J.itemContainer;Q.togglable?E.toggleDataItem(J):Q.clickable&&Q.events.isEnabled("hit")&&(Q.dispatchImmediately("hit",{event:Z}),E.focusedItem=J)}},E));var U=new InterfaceColorSet,W=new Container;W.width=23,W.height=23,W.interactionsEnabled=!1,W.applyOnClones=!0,W.setStateOnChildren=!0,W.background.fillOpacity=0,W.background.strokeOpacity=0,W.propertyFields.fill="fill",W.valign="middle";var Y=U.getFor("disabledBackground");W.events.on("childadded",function(Z){var J=Z.newValue,Q=J.states.create("active");Q.properties.stroke=Y,Q.properties.fill=Y}),E.markers=new ListTemplate(W),E._disposers.push(new ListDisposer(E.markers)),E._disposers.push(E.markers.template);var G=W.createChild(RoundedRectangle);G.width=percent(100),G.height=percent(100),G.applyOnClones=!0,G.propertyFields.fill="fill",G.strokeOpacity=0;var X=new Label;X.text="{name}",X.margin(0,5,0,5),X.valign="middle",X.applyOnClones=!0,X.states.create("active").properties.fill=U.getFor("disabledBackground"),E.labels=new ListTemplate(X),E._disposers.push(new ListDisposer(E.labels)),E._disposers.push(E.labels.template),X.interactionsEnabled=!1,X.truncate=!0,X.fullWords=!1;var K=new Label;return K.margin(0,5,0,0),K.valign="middle",K.width=50,K.align="right",K.textAlign="end",K.applyOnClones=!0,K.states.create("active").properties.fill=U.getFor("disabledBackground"),K.interactionsEnabled=!1,E.valueLabels=new ListTemplate(K),E._disposers.push(new ListDisposer(E.valueLabels)),E._disposers.push(E.valueLabels.template),E.position="bottom",V.states.create("active"),V.setStateOnChildren=!0,E.role="group",E.events.on("layoutvalidated",E.handleScrollbar,E,!1),E.events.on("parentset",function(){var Z=E.parent;Z&&E._disposers.push(Z.events.on("maxsizechanged",function(){E.scrollable&&E.setTimeout(function(){E.updateMasks(),E.handleScrollbar(),E._handleWheelReal(1)},100)}))}),E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},F.prototype.createDataItem=function(){return new LegendDataItem},F.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),R.prototype.validateDataElements.call(this)},F.prototype.validateDataElement=function(E){R.prototype.validateDataElement.call(this,E);var V=E.itemContainer,U=E.marker;E.label;var W=E.valueLabel;V.readerChecked=E.dataContext.visible,E.dataContext.legendDataItem=E;var Y=E.label.maxWidth;E.label.width instanceof Percent||(E.label.width=void 0),Y>0&&(E.label.maxWidth=Y),W.align=="right"&&(W.width=void 0);var G=E.dataContext.legendSettings,X=E.dataContext;X.createLegendMarker&&(!this.useDefaultMarker||!(X instanceof Sprite))?E.childrenCreated||(X.createLegendMarker(U),E.childrenCreated=!0):this.markers.template.propertyFields.fill=void 0,X.updateLegendValue&&X.updateLegendValue(),X.component&&X.component.updateLegendValue&&X.component.updateLegendValue(X),W.invalid&&W.validate(),W.text==""||W.text==null?W.__disabled=!0:W.__disabled=!1,G&&(G.itemValueText!=null||G.valueText!=null)&&(W.__disabled=!1);var K=E.dataContext.visible;K===void 0&&(K=!0),K=toBoolean(K),E.dataContext.visible=K,V.events.disableType("toggled"),V.isActive=!K,V.isActive?V.setState("active",0):V.setState("default",0),V.events.enableType("toggled")},F.prototype.afterDraw=function(){var E=this,V=this.getPropertyValue("maxWidth"),U=0;this.labels.each(function(J){J.invalid&&(J.maxWidth=void 0,J.validate()),J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight>U&&(U=J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight)});var W=0;this.valueLabels.each(function(J){J.invalid&&J.validate(),J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight>W&&(W=J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight)});var Y=0;this.markers.each(function(J){J.invalid&&J.validate(),J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight>Y&&(Y=J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight)});var G=this.itemContainers.template,X=G.pixelMarginRight+G.pixelMarginLeft,K,Z=U+W+Y;isNumber(V)?(V=V-X,V>Z&&(V=Z),K=V-Y-W):K=U,this.labels.each(function(J){(E.valueLabels.template.align=="right"||J.measuredWidth>K)&&(J.width instanceof Percent||(J.width=Math.min(J.maxWidth,K-J.pixelMarginLeft-J.pixelMarginRight),J.maxWidth=J.width))}),this.valueLabels.template.align=="right"&&this.valueLabels.each(function(J){J.width=W-J.pixelMarginRight-J.pixelMarginLeft}),R.prototype.afterDraw.call(this)},F.prototype.handleScrollbar=function(){var E=this.scrollbar;if(this.scrollable&&E){var V=this.maxHeight;E.height=V,E.x=this.measuredWidth-E.pixelWidth-E.pixelMarginLeft,this.contentHeight>V?(E.visible=!0,E.thumb.height=E.height*V/this.contentHeight,this.paddingRight=E.pixelWidth+E.pixelMarginLeft+E.pixelMarginRight):(E.thumb.height=E.height*V/this.contentHeight,this.paddingRight=E.pixelWidth+E.pixelMarginLeft+E.pixelMarginRight,E.visible=!1,E.start=0,E.end=1),E.handleThumbPosition(),this.updateMasks()}},Object.defineProperty(F.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(E){this.setPropertyValue("position",E)&&(E=="left"||E=="right"?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",isNumber(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=percent(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(E){this.setPropertyValue("useDefaultMarker",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(E){if(this.setPropertyValue("scrollable",E,!0))if(E){var V=this.createChild(Scrollbar);this.scrollbar=V,V.isMeasured=!1,V.orientation="vertical",V.endGrip.__disabled=!0,V.startGrip.__disabled=!0,V.visible=!1,V.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(V.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),F.prototype.handleWheel=function(E){this._handleWheelReal(E.shift.y)},F.prototype._handleWheelReal=function(E){var V=this.scrollbar;if(V){var U=E/1e3*this.measuredHeight/this.contentHeight,W=V.end-V.start;E>0?(V.start=max$2(0,V.start-U),V.end=V.start+W):(V.end=min$2(1,V.end-U),V.start=V.end-W)}},F.prototype.updateMasks=function(){var E=this;this.scrollbar&&this.itemContainers.each(function(V){V.dy=-E.scrollbar.thumb.pixelY*E.contentHeight/E.maxHeight,V.maskRectangle={x:0,y:-V.dy,width:E.measuredWidth,height:E.maxHeight}}),this.invalidatePosition()},F.prototype.toggleDataItem=function(E){var V=E.dataContext;!V.visible||V.isHiding||V instanceof Sprite&&V.isHidden?(E.color=E.colorOrig,V.appeared=!0,E.itemContainer.isActive=!1,V.hidden===!0&&(V.hidden=!1),V.show?V.show():V.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,E.label.readerTitle))):(E.itemContainer.isActive=!0,V.appeared=!0,V.hide?V.hide():V.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,E.label.readerTitle)),E.color=new InterfaceColorSet().getFor("disabledBackground"))},Object.defineProperty(F.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),F.prototype.handleDataItemPropertyChange=function(E,V){E.valueLabel.invalidate(),E.label.invalidate()},F}(Component$1);registry.registeredClasses.Legend=Legend;defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(R,F){if(R instanceof Legend&&(R.position=="left"||R.position=="right")){var E=R.states.create(F);return E.properties.position="bottom",E}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(R,F){if(R instanceof Legend&&(R.position=="top"||R.position=="bottom")){var E=R.states.create(F);return E.properties.position="right",E}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.isXS,state:function(R,F){if(R instanceof Legend){var E=R.states.create(F);return E.properties.disabled=!0,E}return null}});var SeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="SeriesDataItem",E.values.value={},E.values.value={},E.applyTheme(),E}return Object.defineProperty(F.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Dictionary,this._disposers.push(new DictionaryDisposer(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),F.prototype.dispose=function(){this.bullets.clear(),R.prototype.dispose.call(this)},Object.defineProperty(F.prototype,"value",{get:function(){return this.values.value.value},set:function(E){this.setValue("value",E)},enumerable:!0,configurable:!0}),F}(DataItem),Series=function(R){__extends(F,R);function F(){var E=R.call(this)||this;if(E._ignoreMinMax=!1,E._showBullets=!0,E.legendSettings=new LegendSettings,E._tmin=new Dictionary,E._tmax=new Dictionary,E._smin=new Dictionary,E._smax=new Dictionary,E.dataItemsByAxis=new Dictionary,E.skipFocusThreshold=20,E._itemReaderTextChanged=!1,E.calculatePercent=!1,E.usePercentHack=!0,E.autoDispose=!0,E.simplifiedProcessing=!1,E.constructor===F)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");E.className="Series",E.isMeasured=!1,E.layout="none",E.shouldClone=!1,E.setPropertyValue("hidden",!1),E.axisRanges=new List,E.axisRanges.events.on("inserted",E.processAxisRange,E,!1),E.minBulletDistance=0,E.mainContainer=E.createChild(Container),E.mainContainer.shouldClone=!1,E.mainContainer.mask=E.createChild(Sprite),E._disposers.push(E.mainContainer);var V=E.mainContainer.createChild(Container);return E._shouldBeReady.push(V),V.shouldClone=!1,V.layout="none",V.virtualParent=E,E._disposers.push(V),E.bulletsContainer=V,E.tooltip=new Tooltip,E.tooltip.virtualParent=E,E._disposers.push(E.tooltip),E.hiddenState.transitionEasing=cubicIn,E.dataItem=E.createDataItem(),E._disposers.push(E.dataItem),E.dataItem.component=E,E.role="group",E.applyTheme(),E}return F.prototype.applyTheme=function(){R.prototype.applyTheme.call(this)},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},F.prototype.createDataItem=function(){return new SeriesDataItem},Object.defineProperty(F.prototype,"chart",{get:function(){return this._chart},set:function(E){this._chart=E},enumerable:!0,configurable:!0}),F.prototype.positionBullet=function(E){},F.prototype.processBullet=function(E){var V=this,U=E.newValue;U.isTemplate=!0,this.events.once("datavalidated",function(W){V.itemsFocusable()&&(U.focusable=!0)}),this.invalidate()},F.prototype.removeBullet=function(E){var V=E.oldValue;this.dataItems.each(function(U){var W=U.bullets.getKey(V.uid);W&&W.dispose()}),this.invalidate()},F.prototype.validateDataItems=function(){R.prototype.validateDataItems.call(this),this.processValues(!1)},F.prototype.getFirstValue=function(E,V){for(var U=V;U>=0;U--){var W=this.dataItems.getIndex(U),Y=W.getActualWorkingValue(E);if(isNumber(Y))return Y}return null},F.prototype.getAbsoluteFirstValue=function(E){for(var V=0;V<this.dataItems.length;V++){var U=this.dataItems.getIndex(V),W=U.values[E].value;if(isNumber(W))return W}return null},F.prototype.rangeChangeUpdate=function(){R.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},F.prototype.processValues=function(E){var V=this;if(!this.simplifiedProcessing){var U=this.dataItems,W={},Y={},G={},X={},K={},Z={},J={},Q={},ee={},te={},ie=max$2(0,this.startIndex);ie=min$2(ie,this.dataItems.length);var ne=min$2(this.endIndex,this.dataItems.length);if(isNumber(ie)||(ie=0),isNumber(ne)||(ne=this.dataItems.length),ie>0){var ae=U.getIndex(ie-1);each$1(ae.values,function(he,de){var fe=ae.getActualWorkingValue(he);isNumber(fe)&&(Q[he]=fe)})}for(var se=function(he){var de=U.getIndex(he);each$1(de.values,function(fe,Te){var xe=de.getActualWorkingValue(fe);if(isNumber(xe)){isNumber(W[fe])||(W[fe]=0),W[fe]++,isNumber(Y[fe])||(Y[fe]=0),Y[fe]+=xe,isNumber(G[fe])||(G[fe]=0),G[fe]+=Math.abs(xe),isNumber(Z[fe])||(Z[fe]=xe),J[fe]=xe,isNumber(X[fe])?X[fe]>xe&&(X[fe]=xe):X[fe]=xe,isNumber(K[fe])?K[fe]<xe&&(K[fe]=xe):K[fe]=xe,isNumber(ee[fe])||(ee[fe]=V.getFirstValue(fe,ie)),isNumber(te[fe])||(te[fe]=V.getAbsoluteFirstValue(fe)),de.setCalculatedValue(fe,xe-ee[fe],"change"),de.setCalculatedValue(fe,(xe-ee[fe])/ee[fe]*100,"changePercent"),de.setCalculatedValue(fe,xe-te[fe],"startChange"),de.setCalculatedValue(fe,(xe-te[fe])/te[fe]*100,"startChangePercent");var pe=Q[fe];isNumber(pe)||(pe=xe),de.setCalculatedValue(fe,xe-pe,"previousChange"),de.setCalculatedValue(fe,(xe-pe)/pe*100,"previousChangePercent"),Q[fe]=xe}})},oe=ie;oe<ne;oe++)se(oe);if(this.calculatePercent)for(var le=function(he){var de=U.getIndex(he);each$1(de.values,function(fe){var Te=G[fe],xe=de.getActualWorkingValue(fe);if(isNumber(xe))if(Te>0){V.usePercentHack&&xe==Te&&(Te=de.values[fe].value);var pe=xe/Te*100;de.setCalculatedValue(fe,pe,"percent")}else de.setCalculatedValue(fe,0,"percent")})},oe=ie;oe<ne;oe++)le(oe);if(ie>0){var ue=U.getIndex(ie-1);each$1(ue.values,function(he){var de=ue.values[he].value;ue.setCalculatedValue(he,de-Z[he],"change"),ue.setCalculatedValue(he,(de-Z[he])/Z[he]*100,"changePercent")})}var ce=this.dataItem;each$1(ce.values,function(he){ce.setCalculatedValue(he,Y[he],"sum"),ce.setCalculatedValue(he,G[he],"absoluteSum"),ce.setCalculatedValue(he,Y[he]/W[he],"average"),ce.setCalculatedValue(he,Z[he],"open"),ce.setCalculatedValue(he,J[he],"close"),ce.setCalculatedValue(he,X[he],"low"),ce.setCalculatedValue(he,K[he],"high"),ce.setCalculatedValue(he,W[he],"count")})}},F.prototype.validate=function(){isIE()&&this.filters.clear(),each(this.axisRanges.iterator(),function(W){W.validate()}),R.prototype.validate.call(this);var E=this.bulletsContainer;if(E.fill=this.fill,E.stroke=this.stroke,E.x=this.pixelX,E.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var V=0;V<this.startIndex;V++){var U=this.dataItems.getIndex(V);U&&U.bullets.each(function(W,Y){Y.__disabled=!0})}for(var V=this.dataItems.length-1;V>this.endIndex;V--){var U=this.dataItems.getIndex(V);U&&U.bullets.each(function(G,X){X.__disabled=!0})}}else this.bulletsContainer.children.each(function(W){W.__disabled=!0});this.updateTooltipBounds()},F.prototype.updateTooltipBounds=function(){if(this.topParent){var E=0,V=0,U=this.topParent.maxWidth,W=this.topParent.maxHeight,Y={x:E,y:V,width:U,height:W};this.tooltip.setBounds(Y)}},F.prototype.shouldCreateBullet=function(E,V){return!0},F.prototype.validateDataElement=function(E){var V=this;R.prototype.validateDataElement.call(this,E),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(U){var W=E.bullets.getKey(U.uid);if(V.shouldCreateBullet(E,U)){if(!W){var Y=U.propertyFields.disabled,G=E.dataContext;Y&&G&&G[Y]===!1?(U.applyOnClones=!1,U.disabled=!1,W=U.clone(),U.disabled=!0,U.applyOnClones=!0):W=U.clone(),W.shouldClone=!1,E.addSprite(W),(!V.visible||V.isHiding)&&W.hide(0)}var X=W.dataItem;if(X!=E){X&&X.bullets.setKey(U.uid,void 0);var K=V.itemReaderText;W instanceof Bullet&&(K||(K="{"+W.xField+"}: {"+W.yField+"}"),W.isDynamic&&(E.events.on("workingvaluechanged",W.deepInvalidate,W,!1),V.dataItem.events.on("workingvaluechanged",W.deepInvalidate,W,!1)),W.deepInvalidate()),W.focusable&&(W.events.on("focus",function(Z){W.readerTitle=V.populateString(K,W.dataItem)},void 0,!1),W.events.on("blur",function(Z){W.readerTitle=""},void 0,!1)),W.hoverable&&(W.events.on("over",function(Z){W.readerTitle=V.populateString(K,W.dataItem)},void 0,!1),W.events.on("out",function(Z){W.readerTitle=""},void 0,!1))}W.parent=V.bulletsContainer,E.bullets.setKey(U.uid,W),W.maxWidth=E.itemWidth,W.maxHeight=E.itemHeight,W.__disabled=!1,V.positionBullet(W)}else W&&(W.__disabled=!0)})):this.bulletsContainer.visible=!1},F.prototype.handleDataItemWorkingValueChange=function(E,V){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(F.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(E){this._ignoreMinMax=E,this.invalidateDataItems()},enumerable:!0,configurable:!0}),F.prototype.createMask=function(){},F.prototype.processAxisRange=function(E){this.rangesContainer||(this.rangesContainer=this.createChild(Container),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var V=E.newValue;V&&(V.contents.parent=this.rangesContainer,V.isRange=!0,V.events.on("valuechanged",this.invalidateDataItems,this,!1))},F.prototype.getAxisField=function(E){},F.prototype.showTooltipAtPosition=function(E,V){},Object.defineProperty(F.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(E){this.setPropertyValue("minBulletDistance",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new ListTemplate(new Bullet),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new ListDisposer(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),F.prototype.createLegendMarker=function(E){},Object.defineProperty(F.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(E){this.setPropertyValue("hiddenInLegend",E)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(E){this.setPropertyValue("name",E);var V=this.legendDataItem;V&&(V.component.invalidate(),V.component.invalidateRawData()),this.readerTitle=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"itemReaderText",{get:function(){var E=this._itemReaderText;return E||(this.tooltipText?E=plainText(this.tooltipText):this.tooltipHTML&&(E=plainText(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",E):E},set:function(E){this._itemReaderText=E,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),F.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(F.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(E){this._legendDataItem=E,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),F.prototype.updateLegendValue=function(E,V){if(this.legendDataItem){var U=this.legendSettings,W=this.legendDataItem,Y=W.label,G=W.valueLabel;E&&!E.isDisposed()||V?(G&&(U.itemValueText&&(G.text=U.itemValueText),G.dataItem=E),Y&&(U.itemLabelText&&(Y.text=U.itemLabelText),Y.dataItem=E)):(Y&&((U.labelText||U.itemLabelText!=null)&&(Y.text=U.labelText),Y.dataItem=this.dataItem),G&&((U.valueText||U.itemValueText!=null)&&(G.text=U.valueText),G.dataItem=this.dataItem))}},F.prototype.copyFrom=function(E){this.bullets.copyFrom(E.bullets),this.bulletsContainer.copyFrom(E.bulletsContainer),this.calculatePercent=E.calculatePercent,this.usePercentHack=E.usePercentHack,this.simplifiedProcessing=E.simplifiedProcessing,R.prototype.copyFrom.call(this,E)},F.prototype.raiseCriticalError=function(E){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",E).message,this._chart.modal.closable=!1,this._chart.modal.open(),this._chart.disabled=!0),console.log(E)},F.prototype.applyFilters=function(){var E=this;R.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),each(this.filters.iterator(),function(V){E.bulletsContainer.filters.push(V.clone())})},Object.defineProperty(F.prototype,"heatRules",{get:function(){var E=this;return this._heatRules||(this._heatRules=new List,this._heatRules.events.on("inserted",function(V){var U=V.newValue,W=U.target;if(W){var Y=U.dataField;hasValue(Y)||(Y="value");var G=E.dataItem,X=U.property,K=toNumber(U.minValue),Z=toNumber(U.maxValue);!isNumber(K)&&!isNumber(Z)&&E.dataItem.events.on("calculatedvaluechanged",function(J){J.property==Y&&each(E.dataItems.iterator(),function(Q){var ee=!1;each$2(Q.sprites,function(te){if(te.clonedFrom==W){var ie=te;ie[X]=ie[X],ee=!0}}),ee||each$2(Q.sprites,function(te){te instanceof Container&&each(te.children.iterator(),function(ie){if(ie.className==W.className){var ne=ie;ne[X]=ne[X]}else ie instanceof Container&&ie.deepInvalidate()})})})}),E.dataItems.template.events.on("workingvaluechanged",function(J){if(J.property==Y){var Q=J.target,ee=!1;each$2(Q.sprites,function(te){if(te.clonedFrom==W){var ie=te;ie[X]=ie[X],ee=!0}}),ee||each$2(Q.sprites,function(te){te instanceof Container&&each(te.children.iterator(),function(ie){if(ie.className==W.className){var ne=ie;ne[X]=ne[X]}else ie instanceof Container&&ie.deepInvalidate()})})}}),W.adapter.add(X,function(J,Q,ee){var te=toNumber(U.minValue),ie=toNumber(U.maxValue),ne=U.min,ae=U.max;if(Q instanceof Sprite){var se=Q,oe=se.propertyFields[ee];if(oe&&Q.dataItem){var le=Q.dataItem.dataContext;if(le&&hasValue(le[oe]))return J}}var ue=Q.dataItem;if(isNumber(te)||(te=G.values[Y].low),isNumber(ie)||(ie=G.values[Y].high),ue){var ce=ue.values[Y];if(ce){var he=ue.getActualWorkingValue(Y);if(hasValue(ne)&&hasValue(ae)&&isNumber(te)&&isNumber(ie)&&isNumber(he)){var de=void 0;if(U.logarithmic?de=(Math.log(he)*Math.LOG10E-Math.log(te)*Math.LOG10E)/(Math.log(ie)*Math.LOG10E-Math.log(te)*Math.LOG10E):de=(he-te)/(ie-te),isNumber(he)&&(!isNumber(de)||Math.abs(de)==1/0)&&(de=.5),isNumber(ne))return ne+(ae-ne)*de;if(ne instanceof Color$1)return new Color$1(interpolate$2(ne.rgb,ae.rgb,de))}}}return J})}})),this._heatRules},enumerable:!0,configurable:!0}),F.prototype.processConfig=function(E){var V;if(E){if(hasValue(E.bullets)&&isArray$1(E.bullets))for(var U=0,W=E.bullets.length;U<W;U++){var Y=E.bullets[U];hasValue(Y.type)||(Y.type="Bullet")}hasValue(E.heatRules)&&isArray$1(E.heatRules)&&(V=E.heatRules,delete E.heatRules)}if(R.prototype.processConfig.call(this,E),V){for(var U=0,W=V.length;U<W;U++){var G=V[U],X=this;if(hasValue(G.target)&&isString$1(G.target))if(this.map.hasKey(G.target))X=this.map.getKey(G.target);else for(var K=G.target.split("."),Z=0;Z<K.length;Z++)if(X instanceof List){var J=X.getIndex(toNumber(K[Z]));J?X=J:X=X[K[Z]]}else{var Q=K[Z].match(/^(.*)\[([0-9]+)\]/);Q?X[Q[1]]instanceof List?X=X[Q[1]].getIndex(toNumber(Q[2])):X=X[Q[1]][toNumber(Q[2])]:X=X[K[Z]]}G.target=X,hasValue(G.min)&&(G.min=this.maybeColorOrPercent(G.min)),hasValue(G.max)&&(G.max=this.maybeColorOrPercent(G.max))}R.prototype.processConfig.call(this,{heatRules:V})}},F.prototype.configOrder=function(E,V){return E==V?0:E=="heatRules"?1:V=="heatRules"?-1:R.prototype.configOrder.call(this,E,V)},F.prototype.setVisibility=function(E){R.prototype.setVisibility.call(this,E),this.bulletsContainer.visible=E},F}(Component$1);registry.registeredClasses.Series=Series;registry.registeredClasses.SeriesDataItem=SeriesDataItem;var SerialChartDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="SerialChartDataItem",E.applyTheme(),E}return F}(ChartDataItem),SerialChart=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._exitDP={},E.className="SerialChart",E.colors=new ColorSet,E._usesData=!1;var V=E.chartContainer.createChild(Container);V.shouldClone=!1,V.width=percent(100),V.height=percent(100),V.isMeasured=!1,V.layout="none",V.zIndex=2,E.seriesContainer=V;var U=E.chartContainer.createChild(Container);return U.shouldClone=!1,U.width=percent(100),U.height=percent(100),U.isMeasured=!1,U.zIndex=3,U.layout="none",E.bulletsContainer=U,E.applyTheme(),E}return F.prototype.dispose=function(){R.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(F.prototype,"series",{get:function(){return this._series||(this._series=new ListTemplate(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new ListDisposer(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),F.prototype.handleSeriesRemoved=function(E){var V=E.oldValue;this.dataUsers.removeValue(V),this.dataUsers.each(function(K){K.invalidateDataItems()}),this._exitDP[V.uid]&&(this._exitDP[V.uid].dispose(),delete this._exitDP[V.uid]),V.autoDispose?V.dispose():(V.parent=void 0,V.bulletsContainer.parent=void 0);var U=this.legend;if(U){for(var W=this.legend.dataItems,Y=W.length-1;Y>=0;Y--){var G=W.getIndex(Y);G&&G.dataContext==V&&U.dataItems.remove(G)}for(var Y=U.data.length-1;Y>=0;Y--){var X=U.data[Y];X&&X==V&&remove$1(U.data,X)}}},F.prototype.handleSeriesAdded=function(E){var V=this,U=E.newValue;U.isDisposed()||(U.chart=this,U.parent=this.seriesContainer,U.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(U),U.addDisposer(new Disposer(function(){V.dataUsers.removeValue(U)})),this.handleSeriesAdded2(U),this.handleLegendSeriesAdded(U))},F.prototype.handleLegendSeriesAdded=function(E){E.hiddenInLegend||this.legend&&this.legend.addData(E)},F.prototype.handleSeriesAdded2=function(E){var V=this;this.dataInvalid||(this._exitDP[E.uid]=registry.events.once("exitframe",function(){(!E.data||E.data.length==0)&&(E.data=V.data,E.showOnInit&&(E.reinit(),E.setPropertyValue("showOnInit",!1),E.showOnInit=!0),E.isDisposed()||E.events.once("datavalidated",function(){E.data==V.data&&(E._data=[])}))}),this._disposers.push(this._exitDP[E.uid]))},F.prototype.feedLegend=function(){var E=this.legend;if(E){var V=[];each(this.series.iterator(),function(U){U.hiddenInLegend||V.push(U)}),E.dataFields.name="name",E.data=V}},F.prototype.createSeries=function(){return new Series},Object.defineProperty(F.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(E){this.setPropertyValue("colors",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(E){this.setPropertyValue("patterns",E,!0)},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.series.copyFrom(E.series)},F.prototype.appear=function(){R.prototype.appear.call(this),this.series.each(function(E){E.showOnInit&&E.inited&&E.appear()})},F}(Chart);registry.registeredClasses.SerialChart=SerialChart;var AxisBreak=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._axis=new MutableValueDisposer,E.dataItems=new List,E.className="AxisBreak",E.breakSize=.01,E.marginLeft=-5,E.marginRight=-5,E.marginTop=-5,E.marginBottom=-5;var V=new InterfaceColorSet,U=new WavedLine;U.fill=V.getFor("background"),U.stroke=color$1(),U.fillOpacity=.9,U.zIndex=0,E._fillShape=U;var W=new WavedLine;W.fill=color$1(),W.stroke=V.getFor("grid"),W.strokeOpacity=.3,W.zIndex=1,E._startLine=W;var Y=new WavedLine;return Y.fill=color$1(),Y.stroke=color$1("#000000"),Y.strokeOpacity=.3,Y.zIndex=2,E._endLine=Y,E._disposers.push(E._axis),E.applyTheme(),E}return F.prototype.dispose=function(){R.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(F.prototype,"startLine",{get:function(){return this._startLine},set:function(E){this._startLine&&this._startLine.dispose(),this._startLine=E,this.addBreakSprite(E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endLine",{get:function(){return this._endLine},set:function(E){this._endLine&&this._endLine.dispose(),this._endLine=E,this.addBreakSprite(E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fillShape",{get:function(){return this._fillShape},set:function(E){this._fillShape&&this._fillShape.dispose(),this._fillShape=E,this.addBreakSprite(E)},enumerable:!0,configurable:!0}),F.prototype.addBreakSprite=function(E){E.parent=this,E.isMeasured=!1,this._disposers.push(E)},Object.defineProperty(F.prototype,"axis",{get:function(){return this._axis.get()},set:function(E){if(this._axis.get()!==E){this._axis.set(E,E.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),E.renderer.createBreakSprites(this);var V=E.axisBreaks.template;this.startLine.copyFrom(V.startLine),this.endLine.copyFrom(V.endLine),this.fillShape.copyFrom(V.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(E){this.setPropertyValue("breakSize",E)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startPoint",{get:function(){var E=this.axis.renderer;if(E)return E.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endPoint",{get:function(){var E=this.axis.renderer;if(E)return E.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),F.prototype.draw=function(){if(R.prototype.draw.call(this),this.axis){var E=this.axis.renderer;E.updateBreakElement(this)}},Object.defineProperty(F.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(E){this.setPropertyValue("startValue",E)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(E){this.setPropertyValue("endValue",E)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),F}(Container);registry.registeredClasses.AxisBreak=AxisBreak;var AxisDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="AxisDataItem",E.applyTheme(),E}return Object.defineProperty(F.prototype,"grid",{get:function(){if(!this._grid){var E=this.component;if(E){var V=void 0,U;if(this.isRange){if(V=E.axisRanges.template.grid,V.disabled)return;U=V.clone()}else{if(V=E.renderer.grid.template,V.disabled)return;U=E.renderer.grid.create(),this._disposers.push(new Disposer(function(){E.renderer.grid.removeValue(U)}))}this.grid=U,U.shouldClone=!1,this._disposers.push(U),U.axis=this.component}}return this._grid},set:function(E){this._grid&&this._grid!=E&&(remove$1(this.sprites,this._grid),this._grid.dataItem=void 0),E&&(E.dataItem&&E.dataItem!=this&&(remove$1(E.dataItem.sprites,E),E.dataItem.grid=void 0),this.addSprite(E)),this._grid=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tick",{get:function(){if(!this._tick){var E=this.component;if(E){var V=void 0,U;if(this.isRange){if(V=E.axisRanges.template.tick,V.disabled)return;U=V.clone()}else{if(V=E.renderer.ticks.template,V.disabled)return;U=E.renderer.ticks.create(),this._disposers.push(new Disposer(function(){E.renderer.ticks.removeValue(U)}))}this.tick=U,U.axis=this.component,U.shouldClone=!1,this._disposers.push(U)}}return this._tick},set:function(E){this._tick&&this._tick!=E&&(remove$1(this.sprites,this._tick),this._tick.dataItem=void 0),E&&(E.dataItem&&E.dataItem!=this&&(remove$1(E.dataItem.sprites,E),E.dataItem.tick=void 0),this.addSprite(E)),this._tick=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"label",{get:function(){if(!this._label){var E=this.component;if(E){var V=void 0,U;if(this.isRange){if(V=E.axisRanges.template.label,V.disabled)return;U=V.clone()}else{if(V=E.renderer.labels.template,V.disabled)return;U=E.renderer.labels.create(),this._disposers.push(new Disposer(function(){E.renderer.labels.removeValue(U)}))}this._disposers.push(U),this.label=U,U.shouldClone=!1,U.axis=this.component,U.virtualParent=E}}return this._label},set:function(E){this._label&&this._label!=E&&(remove$1(this.sprites,this._label),this._label.dataItem=void 0),E&&(E.dataItem&&E.dataItem!=this&&(remove$1(E.dataItem.sprites,E),E.dataItem.label=void 0),this.addSprite(E)),this._label=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"axisFill",{get:function(){if(!this._axisFill){var E=this.component;if(E){var V=void 0,U;if(this.isRange){if(V=E.axisRanges.template.axisFill,!this.isTemplate&&V.disabled)return;U=V.clone()}else{if(V=E.renderer.axisFills.template,V.disabled)return;U=E.renderer.axisFills.create(),this._disposers.push(new Disposer(function(){E.renderer.axisFills.removeValue(U)}))}this.axisFill=U,U.shouldClone=!1,this._disposers.push(U)}}return this._axisFill},set:function(E){this._axisFill&&this._axisFill!=E&&(remove$1(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),E&&(E.dataItem&&E.dataItem!=this&&(remove$1(E.dataItem.sprites,E),E.dataItem.axisFill=void 0),E.axis=this.component,this.addSprite(E)),this._axisFill=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"text",{get:function(){return this._text},set:function(E){this._text=E,this._label&&(this._label.text=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"contents",{get:function(){if(!this._contents){var E=new Container;this.addSprite(E),E.isMeasured=!1,this._contents=E;var V=this.component;if(V){var U=V.renderer.createFill(this.component);U.disabled=!1,U.axis=V,this.addSprite(U),this._mask=U,E.mask=U}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(E){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),E&&E.dataItems.push(this),this._axisBreak=E},enumerable:!0,configurable:!0}),F.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},F.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},F.prototype.hasProperty=function(E){return E=="component"?!0:R.prototype.hasProperty.call(this,E)},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.text=E.text,E.bullet&&(this.bullet=E.bullet.clone()),this.minPosition=E.minPosition,this.maxPosition=E.maxPosition},F.prototype.setVisibility=function(E,V){R.prototype.setVisibility.call(this,E,V),this._contents&&(this._contents.visible=E)},Object.defineProperty(F.prototype,"bullet",{get:function(){return this._bullet},set:function(E){this._bullet&&this._bullet!=E&&(remove$1(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=E,E&&this.addSprite(E)},enumerable:!0,configurable:!0}),F}(DataItem),AxisItemLocation;(function(R){R[R.Start=0]="Start",R[R.Middle=.5]="Middle",R[R.End=1]="End"})(AxisItemLocation||(AxisItemLocation={}));var Axis=function(R){__extends(F,R);function F(){var E=R.call(this)||this;if(E._gridCount=10,E._series=new List,E.autoDispose=!0,E._axisItemCount=0,E.constructor===F)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");E.hideTooltipWhileZooming=!0,E.minWidth=1e-4,E.minHeight=1e-4,E.className="Axis",E.shouldClone=!1,E.setPropertyValue("cursorTooltipEnabled",!0),E.toggleZoomOutButton=!0,E.zoomable=!0;var V=new InterfaceColorSet;E.title=new Label,E.title.shouldClone=!1,E._disposers.push(E.title),E.setPropertyValue("startLocation",0),E.setPropertyValue("endLocation",1),E._dataItemsIterator=new ListIterator(E.dataItems,function(){return E.dataItems.create()}),E._dataItemsIterator.createNewItems=!0;var U=new Tooltip;E._disposers.push(U),U.label.padding(5,10,5,10),U.background.pointerLength=5,U.fitPointerToBounds=!0,U.background.filters.clear(),U.virtualParent=E;var W=U.background;return W.cornerRadius=0,W.fill=V.getFor("alternativeBackground"),W.stroke=W.fill,W.strokeWidth=1,W.fillOpacity=1,U.label.fill=V.getFor("alternativeText"),E.tooltip=U,E.readerHidden=!0,E.events.on("rangechangestarted",function(){E.series.each(function(Y){Y.hideTooltipWhileZooming&&(Y.tooltip.hide(),Y.tooltip.preventShow=!0)}),E.hideTooltipWhileZooming&&(E.tooltip.hide(),E.tooltip.preventShow=!0)},void 0,!1),E.events.on("rangechangeended",function(){E.series.each(function(Y){Y.hideTooltipWhileZooming&&(Y.tooltip.hide(),Y.tooltip.preventShow=!1)}),E.hideTooltipWhileZooming&&(E.tooltip.hide(),E.tooltip.preventShow=!1)},void 0,!1),E.applyTheme(),E}return F.prototype.fillRule=function(E,V){isNumber(V)||(V=E.index),V/2==Math.round(V/2)?(E.axisFill.__disabled=!0,E.axisFill.opacity=0):(E.axisFill.opacity=1,E.axisFill.__disabled=!1)},F.prototype.createDataItem=function(){return new AxisDataItem},F.prototype.invalidateLayout=function(){R.prototype.invalidateLayout.call(this),each(this.series.iterator(),function(E){E.invalidateLayout()})},F.prototype.invalidateSeries=function(){each(this.series.iterator(),function(E){E.invalidate()})},F.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},F.prototype.updateGridCount=function(){if(this.renderer){var E=this.axisLength/this.renderer.minGridDistance;E!=this._gridCount&&(this._gridCount=E,this.clearCache())}},F.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),R.prototype.validateLayout.call(this),this.updateGridCount();var E=this.renderer;E&&(E.updateAxisLine(),E.updateTooltip(),E.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},F.prototype.initRenderer=function(){},F.prototype.appendDataItem=function(E){var V=this.renderer,U=E.tick;U&&(U.above?U.parent=V.bulletsContainer:U.parent=V.gridContainer),E.label&&(E.label.parent=V);var W=E.axisFill;W&&(W.above?W.parent=V.bulletsContainer:W.parent=V.gridContainer);var Y=E.grid;Y&&(Y.above?Y.parent=V.bulletsContainer:Y.parent=V.gridContainer),E.bullet&&(E.bullet.parent=V.bulletsContainer)},F.prototype.validate=function(){R.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},F.prototype.validateAxisRanges=function(){var E=this;each(this.axisRanges.iterator(),function(V){E.appendDataItem(V),E.validateDataElement(V),V.grid&&V.grid.validate(),V.tick&&V.tick.validate(),V.axisFill&&V.axisFill.validate(),V.label&&V.label.validate()})},F.prototype.validateBreaks=function(){this._axisBreaks&&each(this._axisBreaks.iterator(),function(E){E.invalidate()})},F.prototype.processBreak=function(E){var V=E.newValue;V.parent=this.renderer.breakContainer,V.axis=this},F.prototype.registerSeries=function(E){var V=this;return this.series.moveValue(E),new MultiDisposer([new Disposer(function(){V.series.removeValue(E)}),this.events.on("lengthchanged",E.invalidate,E,!1),this.events.on("lengthchanged",E.createMask,E,!1),this.events.on("startchanged",E.invalidate,E,!1),this.events.on("endchanged",E.invalidate,E,!1)])},Object.defineProperty(F.prototype,"renderer",{get:function(){return this._renderer},set:function(E){if(E!=this._renderer){this._renderer=E,E.chart=this.chart,E.axis=this,E.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(E.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var V=this.renderer.labels.create();this._disposers.push(V),V.dataItem=this.dataItems.template.clone(),V.text="L",V.parent=this.renderer,V.shouldClone=!1,V.fillOpacity=0,V.opacity=0,V.strokeOpacity=0,V.interactionsEnabled=!1,V.validate(),this.ghostLabel=V,this.events.on("beforedatavalidated",function(){V.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),F.prototype.positionToAngle=function(E){return this.renderer.positionToAngle(E)},F.prototype.pointToPosition=function(E){return this.renderer.pointToPosition(E)},F.prototype.positionToCoordinate=function(E){return this.renderer.positionToCoordinate(E)},F.prototype.getAnyRangePath=function(E,V){return this.renderer.getPositionRangePath(E,V)},F.prototype.anyToPosition=function(E){return 0},F.prototype.anyToPoint=function(E){return{x:0,y:0,angle:0}},F.prototype.getPositionRangePath=function(E,V){return this.renderer?this.renderer.getPositionRangePath(E,V):""},Object.defineProperty(F.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(E){this.setPropertyValue("cursorTooltipEnabled",E)&&(E&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(E){this.setPropertyValue("toggleZoomOutButton",E)},enumerable:!0,configurable:!0}),F.prototype.hideTooltip=function(E){R.prototype.hideTooltip.call(this,E),this._tooltipPosition=void 0},F.prototype.showTooltipAtPosition=function(E,V){var U=this._tooltip;if(!U||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(V||(E=this.toAxisPosition(E)),!isNumber(E)||E<this.start||E>this.end){U.hide(0),this._tooltipPosition=void 0;return}var W=this.renderer;U.parent||(U.parent=this.tooltipContainer);var Y=W.tooltipLocation,G=this.getCellStartPosition(E),X=this.getCellEndPosition(E);if(this.tooltipPosition=="fixed"&&(E=G+(X-G)*Y),E=fitToRange(E,this.start,this.end),this._tooltipPosition!=E){this._tooltipPosition=E;var K=W.tooltipLocation2,Z=W.positionToPoint(G,K),J=W.positionToPoint(X,K);this.currentItemStartPoint=Z,this.currentItemEndPoint=J,W.fullWidthTooltip&&(U.width=J.x-Z.x,U.height=J.y-Z.y);var Q=W.positionToPoint(E,K),ee=spritePointToSvg(Q,this.renderer.line);U.text=this.getTooltipText(E),U.text&&(U.delayedPointTo(ee),U.show())}(!this.cursorTooltipEnabled||this.tooltip.disabled)&&U.hide(0)}},F.prototype.toAxisPosition=function(E){if(E=this.renderer.toAxisPosition(E),E!=null)return E=E*(this.end-this.start),this.renderer.inversed?E=this.end-E:E=this.start+E,E},F.prototype.toGlobalPosition=function(E){return this.renderer.inversed?E=this.end-E:E=E-this.start,E/(this.end-this.start)},F.prototype.getTooltipText=function(E){},F.prototype.updateTooltip=function(E,V){var U=this._tooltip;U&&(U.fixDoc=!1,U.pointerOrientation=E,U.setBounds(spriteRectToSvg(V,this.renderer.line)))},F.prototype.roundPosition=function(E,V,U){return E},F.prototype.getCellStartPosition=function(E){return E},F.prototype.getCellEndPosition=function(E){return E},Object.defineProperty(F.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var E=this.createDataItem();E.isRange=!0,E.axisFill=this.renderer.axisFills.template.clone(),E.grid=this.renderer.grid.template.clone(),E.tick=this.renderer.ticks.template.clone(),E.label=this.renderer.labels.template.clone(),E.isTemplate=!0,E.component=this,E.axisFill.disabled=!1,E.tick.disabled=!1,E.grid.disabled=!1,E.label.disabled=!1,this._axisRanges=new ListTemplate(E),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new ListDisposer(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),F.prototype.processAxisRange=function(E){var V=E.newValue;V.component=this,V.isRange=!0},Object.defineProperty(F.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new SortedListTemplate(this.createAxisBreak(),function(E,V){return order(E.adjustedStartValue,V.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new ListDisposer(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),F.prototype.createAxisBreak=function(){return new AxisBreak},Object.defineProperty(F.prototype,"series",{get:function(){return this._series||(this._series=new List),this._series},enumerable:!0,configurable:!0}),F.prototype.processSeriesDataItems=function(){},F.prototype.processSeriesDataItem=function(E,V){},F.prototype.postProcessSeriesDataItems=function(E){},F.prototype.postProcessSeriesDataItem=function(E){},F.prototype.updateAxisBySeries=function(){},F.prototype.hideUnusedDataItems=function(){var E=this,V=this._dataItemsIterator;V.createNewItems=!1,each(V.iterator(),function(U){E.validateDataElement(U),U.__disabled=!0}),V.clear(),V.createNewItems=!0},F.prototype.getSeriesDataItem=function(E,V,U){},F.prototype.getAngle=function(E,V,U,W,Y){},F.prototype.getX=function(E,V,U,W,Y){},F.prototype.getPositionX=function(E,V,U,W,Y){},F.prototype.getY=function(E,V,U,W,Y){},F.prototype.getPositionY=function(E,V,U,W,Y){},Object.defineProperty(F.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),F.prototype.dataChangeUpdate=function(){},F.prototype.seriesDataChangeUpdate=function(E){},F.prototype.adjustDifference=function(E,V){var U=V-E;if(isNumber(U))return this._axisBreaks&&eachContinue(this._axisBreaks.iterator(),function(W){var Y=W.adjustedStartValue,G=W.adjustedEndValue;if(isNumber(Y)&&isNumber(G)){if(Y>V)return!1;if(G>=E&&isNumber(Y)&&isNumber(G)){var X=W.breakSize,K=intersection({start:Y,end:G},{start:E,end:V});K&&(U-=(K.end-K.start)*(1-X))}return!0}}),U},F.prototype.isInBreak=function(E){if(this._axisBreaks)return find$2(this._axisBreaks.iterator(),function(V){return E>=V.adjustedStartValue&&E<=V.adjustedEndValue})},F.prototype.fixAxisBreaks=function(){var E=this;if(this._axisBreaks){var V=this._axisBreaks;if(V.length>0){each$2(toArray$1(V.iterator()),function(Y){var G=min$2(Y.startValue,Y.endValue),X=max$2(Y.startValue,Y.endValue);Y.adjustedStartValue=G,Y.adjustedEndValue=X,E._axisBreaks.update(Y)});var U=V.first,W=Math.min(U.startValue,U.endValue);each(V.iterator(),function(Y){var G=Y.adjustedStartValue,X=Y.adjustedEndValue;G<W&&(G=W,X<W&&(X=W)),Y.adjustedStartValue=G,Y.adjustedEndValue=X})}}},Object.defineProperty(F.prototype,"startIndex",{get:function(){return 0},set:function(E){},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(E){},enumerable:!0,configurable:!0}),F.prototype.getPositionLabel=function(E){return Math.round(E*100)+"%x"},Object.defineProperty(F.prototype,"chart",{get:function(){return this._chart},set:function(E){this._chart=E},enumerable:!0,configurable:!0}),F.prototype.createSeriesRange=function(E){var V=this.axisRanges.create();return V.component=this,V.axisFill=this.renderer.axisFills.template.clone(),V.axisFill.disabled=!1,V.axisFill.fillOpacity=0,V.grid=this.renderer.grid.template.clone(),V.grid.disabled=!0,V.tick=this.renderer.ticks.template.clone(),V.tick.disabled=!0,V.label=this.renderer.labels.template.clone(),V.label.disabled=!0,V.addDisposer(new Disposer(function(){E.axisRanges.removeValue(V)})),E.axisRanges.push(V),V},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.renderer?this.renderer.copyFrom(E.renderer):E.renderer&&(this.renderer=E.renderer.clone(),this._disposers.push(this.renderer)),E.title&&(this.title?this.title.copyFrom(E.title):(this.title=E.title.clone(),this.title.parent=this),this._disposers.push(this.title))},F.prototype.resetIterators=function(){this._dataItemsIterator.reset()},F.prototype.processConfig=function(E){if(E&&hasValue(E.axisRanges)&&isArray$1(E.axisRanges))for(var V=0,U=E.axisRanges.length;V<U;V++){var W=E.axisRanges[V];hasValue(W.series)&&isString$1(W.series)&&this.map.hasKey(W.series)&&(E.axisRanges[V]=this.createSeriesRange(this.map.getKey(W.series)),delete W.series,E.axisRanges[V].config=W)}R.prototype.processConfig.call(this,E)},F.prototype.configOrder=function(E,V){return E==V?0:E=="title"?1:V=="title"||E=="component"?-1:V=="component"?1:R.prototype.configOrder.call(this,E,V)},Object.defineProperty(F.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(E){this.setPropertyValue("startLocation",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(E){this.setPropertyValue("endLocation",E,!0)},enumerable:!0,configurable:!0}),F.prototype.setDisabled=function(E){var V=R.prototype.setDisabled.call(this,E);return this.renderer&&(this.renderer.gridContainer.disabled=E),V},Object.defineProperty(F.prototype,"title",{get:function(){return this._title},set:function(E){this._title&&this._title!=E&&this._title.dispose(),E&&(this._title=E,E.parent=this,E.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(E){this.setPropertyValue("hideTooltipWhileZooming",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(E){this.setPropertyValue("zoomable",E)},enumerable:!0,configurable:!0}),F}(Component$1);registry.registeredClasses.Axis=Axis;registry.registeredClasses.AxisDataItem=AxisDataItem;defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(R,F){if(R instanceof Axis&&R.tooltip){var E=R.states.create(F);return E.properties.cursorTooltipEnabled=!1,E}return null}});var AxisLine=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="AxisLine",E.element=E.paper.add("path");var V=new InterfaceColorSet;return E.stroke=V.getFor("grid"),E.strokeOpacity=.15,E.pixelPerfect=!0,E.fill=color$1(),E.applyTheme(),E.interactionsEnabled=!1,E}return F}(Sprite);registry.registeredClasses.AxisLine=AxisLine;var AxisFill=function(R){__extends(F,R);function F(E){var V=R.call(this)||this;V.axis=E,V.element=V.paper.add("path"),V.className="AxisFill",V.isMeasured=!1,V.location=0,V.above=!1;var U=new InterfaceColorSet;return V.fill=U.getFor("alternativeBackground"),V.fillOpacity=0,V.applyTheme(),V}return F.prototype.setDisabled=function(E){var V=R.prototype.setDisabled.call(this,E);return this.axis&&this.axis.invalidateDataItems(),V},F.prototype.draw=function(){R.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis&&isNumber(this.startPosition)&&isNumber(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(F.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(E){this.setPropertyValue("startPosition",E),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(E){this.setPropertyValue("endPosition",E),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(E){this.setPropertyValue("location",E,!0)},enumerable:!0,configurable:!0}),F.prototype.setPath=function(E){return this.setPropertyValue("path",E)?(this.element.attr({d:E}),!0):!1},Object.defineProperty(F.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(E){this.setPropertyValue("above",E,!0)},enumerable:!0,configurable:!0}),F}(Sprite);registry.registeredClasses.AxisFill=AxisFill;var Grid=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="Grid",E.element=E.paper.add("path"),E.location=.5,E.isMeasured=!1,E.above=!1;var V=new InterfaceColorSet;return E.stroke=V.getFor("grid"),E.pixelPerfect=!0,E.strokeOpacity=.15,E.fill=color$1(),E.applyTheme(),E}return Object.defineProperty(F.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(E){this.setPropertyValue("location",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(E){this.setPropertyValue("above",E,!0)},enumerable:!0,configurable:!0}),F.prototype.setDisabled=function(E){var V=R.prototype.setDisabled.call(this,E);return this.axis&&this.axis.invalidateDataItems(),V},F}(Sprite);registry.registeredClasses.Grid=Grid;defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(R,F){if(R instanceof Grid){var E=R.states.create(F);return E.properties.disabled=!0,E}return null}});var AxisLabel=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="AxisLabel",E.isMeasured=!1,E.padding(10,10,10,10),E.location=.5,E.applyTheme(),E}return Object.defineProperty(F.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(E){this.setPropertyValue("location",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(E){this.setPropertyValue("inside",E,!0)},enumerable:!0,configurable:!0}),F.prototype.setDisabled=function(E){var V=R.prototype.setDisabled.call(this,E);return this.axis&&this.axis.invalidateDataItems(),V},F}(Label);registry.registeredClasses.AxisLabel=AxisLabel;var Tick=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="Tick";var V=new InterfaceColorSet;return E.fillOpacity=0,E.length=6,E.strokeOpacity=.2,E.stroke=V.getFor("grid"),E.isMeasured=!1,E.nonScalingStroke=!0,E.applyTheme(),E}return Object.defineProperty(F.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(E){this.setPropertyValue("length",E,!0)},enumerable:!0,configurable:!0}),F}(Sprite);registry.registeredClasses.Tick=Tick;var AxisTick=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="AxisTick",E.element=E.paper.add("path"),E.location=.5,E.above=!1,E.isMeasured=!1,E.pixelPerfect=!0,E.strokeOpacity=0,E.length=5,E.applyTheme(),E}return Object.defineProperty(F.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(E){this.setPropertyValue("location",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(E){this.setPropertyValue("inside",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(E){this.setPropertyValue("above",E,!0)},enumerable:!0,configurable:!0}),F.prototype.setDisabled=function(E){var V=R.prototype.setDisabled.call(this,E);return this.axis&&this.axis.invalidateDataItems(),V},F}(Tick);registry.registeredClasses.AxisTick=AxisTick;var AxisRenderer=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._chart=new MutableValueDisposer,E.className="AxisRenderer",E.minGridDistance=50,E.inside=!1,E.inversed=!1,E.tooltipLocation=.5,E.fullWidthTooltip=!1,E.cellStartLocation=0,E.cellEndLocation=1,E.minLabelPosition=0,E.maxLabelPosition=1,E.shouldClone=!1;var V=E.createChild(Container);V.shouldClone=!1,V.layout="none",V.virtualParent=E,V.width=percent(100),V.height=percent(100),E.gridContainer=V,V.events.on("maxsizechanged",function(){E.inited&&E.invalidateAxisItems()},E,!1);var U=E.createChild(Container);U.shouldClone=!1,U.isMeasured=!1,U.layout="none",U.width=percent(100),U.height=percent(100),E.breakContainer=U;var W=E.createChild(Container);W.shouldClone=!1,W.isMeasured=!1,W.layout="none",W.width=percent(100),W.height=percent(100),E.bulletsContainer=W,E.line=E.createChild(AxisLine),E.line.shouldClone=!1,E.line.strokeOpacity=0;var Y=E.createChild(Grid);Y.shouldClone=!1,E.baseGrid=Y;var G=E._disposers;return G.push(Y),G.push(E.line),G.push(V),G.push(U),G.push(W),G.push(E._chart),E.ticks.template.disabled=!0,E.axisFills.template.disabled=!0,E.axisFills.template.interactionsEnabled=!1,E.applyTheme(),E}return Object.defineProperty(F.prototype,"axis",{get:function(){return this._axis},set:function(E){this.setAxis(E)},enumerable:!0,configurable:!0}),F.prototype.setAxis=function(E){this._axis=E,this.baseGrid.parent=E,this.line.parent=E,this.gridContainer.bind("opacity",E)},F.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},F.prototype.updateTooltip=function(){},Object.defineProperty(F.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),F.prototype.positionItem=function(E,V){E&&E.moveTo(V)},F.prototype.positionToPoint=function(E,V){return{x:0,y:0}},F.prototype.positionToAngle=function(E){return 0},F.prototype.positionToCoordinate=function(E){var V,U=this.axis,W=U.axisFullLength;return U.renderer.inversed?V=(U.end-E)*W:V=(E-U.start)*W,V},F.prototype.updateGridContainer=function(){},F.prototype.getHeight=function(){var E=this.gridContainer;return E.parent?E.parent.pixelHeight:this.gridContainer.pixelHeight||0},F.prototype.getWidth=function(){var E=this.gridContainer;return E.parent?E.parent.pixelWidth:this.gridContainer.pixelWidth||0},F.prototype.coordinateToPosition=function(E,V){var U,W=this.axis,Y=W.axisFullLength;return W.renderer.inversed?U=W.end-E/Y:U=E/Y+W.start,round$2(U,5)},F.prototype.pointToPosition=function(E){return 0},F.prototype.getPositionRangePath=function(E,V){return""},F.prototype.invalidateAxisItems=function(){var E=this.axis;E&&E.invalidateDataItems()},F.prototype.updateGridElement=function(E,V,U){},F.prototype.updateTickElement=function(E,V,U){},F.prototype.updateBullet=function(E,V,U){},F.prototype.updateLabelElement=function(E,V,U,W){},F.prototype.updateFillElement=function(E,V,U){E.startPosition=V,E.endPosition=U},F.prototype.updateAxisLine=function(){},F.prototype.updateBaseGridElement=function(){},F.prototype.updateBreakElement=function(E){this.positionItem(E.startLine,E.startPoint),this.toggleVisibility(E.startLine,E.startPosition,0,1),this.positionItem(E.endLine,E.endPoint),this.toggleVisibility(E.endLine,E.endPosition,0,1)},Object.defineProperty(F.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(E){this.setPropertyValue("minGridDistance",E)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"chart",{get:function(){return this._chart.get()},set:function(E){this._chart.set(E,null)},enumerable:!0,configurable:!0}),F.prototype.toggleVisibility=function(E,V,U,W){var Y=this.axis,G=E.dataItem;G&&G instanceof AxisDataItem&&(isNumber(G.minPosition)&&(U=G.minPosition),isNumber(G.maxPosition)&&(W=G.maxPosition));var X=Y.start+(Y.end-Y.start)*(U-1e-4),K=Y.start+(Y.end-Y.start)*(W+1e-4);E.disabled||(V<X||V>K?E.__disabled=!0:E.__disabled=!1)},F.prototype.createBreakSprites=function(E){},Object.defineProperty(F.prototype,"axisFills",{get:function(){if(!this._axisFills){var E=this.createFill(this.axis);this._axisFills=new ListTemplate(E),E.applyOnClones=!0,E.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ListDisposer(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),F.prototype.createFill=function(E){return new AxisFill(E)},Object.defineProperty(F.prototype,"grid",{get:function(){if(!this._grid){var E=this.createGrid();this._grid=new ListTemplate(E),E.applyOnClones=!0,E.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ListDisposer(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),F.prototype.createGrid=function(){return new Grid},Object.defineProperty(F.prototype,"ticks",{get:function(){if(!this._ticks){var E=this.createTick();E.applyOnClones=!0,E.isMeasured=!1,E.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new ListTemplate(E),this._disposers.push(new ListDisposer(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),F.prototype.createTick=function(){return new AxisTick},Object.defineProperty(F.prototype,"labels",{get:function(){if(!this._labels){var E=this.createLabel();this._labels=new ListTemplate(E),E.applyOnClones=!0,E.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ListDisposer(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),F.prototype.createLabel=function(){return new AxisLabel},Object.defineProperty(F.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(E){this.setPropertyValue("inside",E)&&this.axis&&this.axis.invalidate(),E?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(E){this.setPropertyValue("opposite",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(E){this.setPropertyValue("fullWidthTooltip",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(E){this.setPropertyValue("tooltipLocation",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(E){this.setPropertyValue("tooltipLocation2",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(E){this.setPropertyValue("cellStartLocation",E)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(E){this.setPropertyValue("cellEndLocation",E)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(E){this.setPropertyValue("inversed",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(E){this.setPropertyValue("minLabelPosition",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(E){this.setPropertyValue("maxLabelPosition",E,!0)},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.grid.template.copyFrom(E.grid.template),this.ticks.template.copyFrom(E.ticks.template),this.labels.template.copyFrom(E.labels.template),this.axisFills.template.copyFrom(E.axisFills.template),this.line.copyFrom(E.line),this.baseGrid.copyFrom(E.baseGrid)},F.prototype.toAxisPosition=function(E){return E},F.prototype.setVisibility=function(E){R.prototype.setVisibility.call(this,E),this.bulletsContainer.visible=E},F}(Container);registry.registeredClasses.AxisRenderer=AxisRenderer;var AxisBullet=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="AxisBullet",E.location=.5,E.isMeasured=!1,E.applyTheme(),E}return Object.defineProperty(F.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(E){this.setPropertyValue("location",E,!0)},enumerable:!0,configurable:!0}),F.prototype.setDisabled=function(E){var V=R.prototype.setDisabled.call(this,E);return this.axis&&this.axis.invalidateDataItems(),V},F}(Container);registry.registeredClasses.AxisBullet=AxisBullet;var AxisRendererY=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="AxisRendererY",E.minGridDistance=40,E.opposite=!1,E.height=percent(100),E.labels.template.verticalCenter="middle",E.applyTheme(),E}return F.prototype.setAxis=function(E){R.prototype.setAxis.call(this,E),E.layout="horizontal"},F.prototype.updateGridContainer=function(){var E=this.axis;if(E){var V=this.gridContainer;V.y=E.pixelY,V.height=E.axisLength}},F.prototype.toAxisPosition=function(E){var V=this.axis;if(V){var U=1-E,W=V.relativePositionSprite,Y=V.pixelY;if(W?Y=spritePointToSprite({x:0,y:this.pixelY},this.parent,W).y:W=V.parent,W){var G=Y/W.innerHeight,X=V.axisLength/W.innerHeight;return 1-(U-G)/X}}return E},F.prototype.processRenderer=function(){R.prototype.processRenderer.call(this);var E=this.axis;if(E){var V=E.title;V.valign="middle",E.height instanceof Percent||(E.height=percent(100)),this.opposite?(V.rotation=90,this.line.toBack(),V.toFront()):(V.rotation=-90,V.toBack(),this.line.toFront())}},F.prototype.updateTooltip=function(){var E=this.axis;if(E){var V=2e3,U=0,W=0,Y=V,G=this.axisLength;this.opposite?this.inside&&(U=-V,Y=V):this.inside||(U=-V,Y=V),this.axis.updateTooltip("horizontal",{x:U,y:W,width:Y,height:G})}},Object.defineProperty(F.prototype,"axisLength",{get:function(){var E=this.axis;return E.measuredHeight-E.pixelPaddingTop-E.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),F.prototype.positionToPoint=function(E,V){return{x:0,y:this.positionToCoordinate(E)}},F.prototype.pointToPosition=function(E){return this.coordinateToPosition(E.y,E.x)},F.prototype.coordinateToPosition=function(E,V){var U,W=this.axis,Y=W.axisFullLength;return W.renderer.inversed?U=1-W.start-E/Y:U=E/Y+(1-W.end),round$2(U,5)},F.prototype.getPositionRangePath=function(E,V){var U=fitToRange(this.positionToCoordinate(E),0,this.axisLength),W=fitToRange(this.positionToCoordinate(V),0,this.axisLength),Y=Math.abs(W-U),G=this.getWidth(),X=Math.min(U,W),K=0;return rectToPath({x:K,y:X,width:G,height:Y},!0)},F.prototype.updateGridElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V);E.path=moveTo({x:0,y:0})+lineTo({x:this.getWidth(),y:0}),this.positionItem(E,W),this.toggleVisibility(E,V,0,1)},F.prototype.updateTickElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V),Y=E.length;try{this.axis.title.measuredWidth}catch{}W.x=spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?Y*=E.inside?-1:1:Y*=E.inside?1:-1,E.path=moveTo({x:0,y:0})+lineTo({x:Y,y:0}),this.positionItem(E,W),this.toggleVisibility(E,V,0,1)},F.prototype.updateAxisLine=function(){this.line.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.axisLength})},F.prototype.updateBaseGridElement=function(){R.prototype.updateBaseGridElement.call(this);var E=this.axis,V=this.getWidth(),U=this.axisLength,W=E.basePoint.y,Y=this.baseGrid;if(W<-.2||W>U+.2)Y.hide(0);else{var G=spritePointToSprite({x:0,y:0},this.gridContainer,Y.parent).x;Y.path=moveTo({x:0,y:0})+lineTo({x:V,y:0}),Y.moveTo({x:G,y:W}),Y.show(0)}},F.prototype.updateLabelElement=function(E,V,U,W){hasValue(W)||(W=E.location),V=V+(U-V)*W,E.isMeasured=!E.inside;var Y=this.positionToPoint(V),G,X=0,K=this.gridContainer.maxWidth;this.opposite?(E.inside?(G="right",E.align=="left"&&(X=-K,G="left"),E.align=="center"&&(X=-K/2,G="middle")):G="left",Y.x=0+X):(E.inside?(G="left",E.align=="right"&&(X=K,G="right"),E.align=="center"&&(X=K/2,G="middle")):G="right",Y.x=this.measuredWidth+X),E.rotation==0&&(E.horizontalCenter=G),this.positionItem(E,Y),this.toggleVisibility(E,V,this.minLabelPosition,this.maxLabelPosition)},F.prototype.updateBreakElement=function(E){R.prototype.updateBreakElement.call(this,E);var V=E.startLine,U=E.endLine,W=E.fillShape,Y=E.startPoint,G=E.endPoint,X=E.pixelMarginLeft,K=this.getWidth()-E.pixelMarginLeft-E.pixelMarginRight;Y.y=fitToRange(Y.y,-1,this.axisLength+1),G.y=fitToRange(G.y,-1,this.axisLength+1),Y.y==G.y&&(Y.y<0||Y.y>this.axisLength)?E.fillShape.__disabled=!0:E.fillShape.__disabled=!1;var Z=Math.abs(K-X);V.x=X,V.height=0,V.width=Z,U.x=X,U.height=0,U.width=Z,W.width=Z,W.height=Math.abs(G.y-Y.y),W.x=X,W.y=G.y},F.prototype.createBreakSprites=function(E){E.startLine=new WavedLine,E.endLine=new WavedLine;var V=new WavedRectangle;V.setWavedSides(!0,!1,!0,!1),E.fillShape=V},F.prototype.positionToCoordinate=function(E){var V,U=this.axis,W=U.axisFullLength;return U.renderer.inversed?V=(E-U.start)*W:V=(U.end-E)*W,V},F.prototype.updateBullet=function(E,V,U){var W=.5;E instanceof AxisBullet&&(W=E.location),V=V+(U-V)*W;var Y=this.positionToPoint(V);Y.x=spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(E,Y),this.toggleVisibility(E,V,0,1)},F}(AxisRenderer);registry.registeredClasses.AxisRendererY=AxisRendererY;defaultRules.push({relevant:ResponsiveBreakpoints.widthS,state:function(R,F){if(R instanceof AxisRendererY){var E=R.states.create(F);return E.properties.inside=!0,E.properties.maxLabelPosition=.9,E.properties.minLabelPosition=.1,E}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(R,F){if(R instanceof AxisRendererY){var E=R.states.create(F);return E.properties.disabled=!0,E}return null}});var ValueAxisBreak=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ValueAxisBreak",E.applyTheme(),E}return Object.defineProperty(F.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),F}(AxisBreak);registry.registeredClasses.ValueAxisBreak=ValueAxisBreak;var ValueAxisDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ValueAxisDataItem",E.values.value={},E.values.endValue={},E.applyTheme(),E}return Object.defineProperty(F.prototype,"value",{get:function(){return this.values.value.value},set:function(E){this.setValue("value",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(E){this.setValue("endValue",E)},enumerable:!0,configurable:!0}),F}(AxisDataItem),ValueAxis=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._stepDecimalPlaces=0,E._prevStepDecimalPlaces=0,E._adjustLabelPrecision=!0,E._baseValue=0,E._adjustedStart=0,E._adjustedEnd=1,E._extremesChanged=!1,E._deltaMinMax=1,E._dsc=!1,E.calculateTotals=!1,E.className="ValueAxis",E.axisFieldName="value",E.setPropertyValue("maxZoomFactor",1e3),E.setPropertyValue("extraMin",0),E.setPropertyValue("extraMax",0),E.setPropertyValue("strictMinMax",!1),E.setPropertyValue("maxPrecision",Number.MAX_VALUE),E.setPropertyValue("adjustLabelPrecision",!0),E.setPropertyValue("extraTooltipPrecision",0),E.keepSelection=!1,E.includeRangesInMinMax=!1,E.applyTheme(),E}return F.prototype.fillRule=function(E){var V=E.value,U=E.component;E.axisFill.disabled||(round$2(V/U.step/2,5)==Math.round(V/U.step/2)?E.axisFill.__disabled=!0:E.axisFill.__disabled=!1)},F.prototype.createDataItem=function(){return new ValueAxisDataItem},F.prototype.createAxisBreak=function(){return new ValueAxisBreak},F.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(this._start!=0&&this.dispatchImmediately("startchanged"),this._end!=1&&this.dispatchImmediately("endchanged"),(this._start!=0||this._end!=1)&&this.dispatchImmediately("startendchanged")):(this._start!=0||this._end!=1)&&(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},F.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var E=this.series.getIndex(0),V=E.startIndex;if(E.dataItems.length>0){V>0&&V--;var U=E.endIndex;U<E.dataItems.length&&U++;for(var W=function(X){var K={},Z={};Y.series.each(function(J){if(!J.excludeFromTotal){var Q=J.dataItems.getIndex(X);Q&&each$1(Q.values,function(ee){var te=Q.values[ee].workingValue;isNumber(te)&&(isNumber(K[ee])?K[ee]+=Math.abs(te):K[ee]=Math.abs(te),isNumber(Z[ee])?Z[ee]+=te:Z[ee]=te)})}}),Y.series.each(function(J){if(!J.excludeFromTotal){var Q=J.dataItems.getIndex(X);Q&&each$1(Q.values,function(ee){var te=Q.values[ee].workingValue;isNumber(te)&&(Q.setCalculatedValue(ee,K[ee],"total"),Q.setCalculatedValue(ee,100*te/K[ee],"totalPercent"),Q.setCalculatedValue(ee,Z[ee],"sum"))})}})},Y=this,G=V;G<U;++G)W(G)}}},F.prototype.validate=function(){this.axisLength<=0||(R.prototype.validate.call(this),this.getMinMax(),isNumber(this._minAdjusted)||this.dataItems.each(function(E){E.value=null}),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},F.prototype.calculateZoom=function(){if(isNumber(this.min)&&isNumber(this.max)){var E=this.positionToValue(this.start),V=this.positionToValue(this.end),U=this.adjustDifference(E,V),W=this.adjustMinMax(E,V,U,this._gridCount,!0),Y=decimalPlaces(W.step);this._stepDecimalPlaces=Y,E=round$2(E,Y),V=round$2(V,Y),W=this.adjustMinMax(E,V,U,this._gridCount,!0);var G=W.step;if(this.syncWithAxis){var X=this.getCache(E+"-"+V);isNumber(X)&&(G=X)}else E=W.min,V=W.max;(this._minZoomed!=E||this._maxZoomed!=V||this._step!=G||this._dsc)&&(this._dsc=!1,this._minZoomed=E,this._maxZoomed=V,this._step=G,this.dispatchImmediately("selectionextremeschanged"))}},F.prototype.fixSmallStep=function(E){return 1+E==1?(E*=2,this.fixSmallStep(E)):E},F.prototype.validateAxisElements=function(){var E=this;if(isNumber(this.max)&&isNumber(this.min)){var V=this.minZoomed-this._step*2;if(!this.logarithmic)V=Math.floor(V/this._step)*this._step;else{var U=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;U>1?V=Math.pow(10,Math.log(this.min)*Math.LOG10E):(V=Math.floor(this.minZoomed/this._step)*this._step,V==0&&(V=this.minZoomed))}var W=this._maxZoomed+this._step;this.resetIterators();var Y=this._dataItemsIterator;if(this._step==0)return;this._step=this.fixSmallStep(this._step);var G=0,X=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;V<=W;){var K=this.isInBreak(V);if(!K){var Z=Y.find(function(ne){return ne.value===V});Z.__disabled&&(Z.__disabled=!1),this.appendDataItem(Z),Z.axisBreak=void 0,(Z.value!=V||X)&&(Z.value=V,Z.text=this.formatLabel(V),Z.label&&Z.label.invalid&&Z.label.validate(),Z.value>=this.min&&Z.value<=this.max&&Z.label&&(this.axisLetter=="Y"&&Z.label.measuredWidth>this.ghostLabel.measuredWidth||this.axisLetter=="X"&&Z.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=Z.label.currentText,this.ghostLabel.validate())),this.validateDataElement(Z)}G++;var J=V;if(!this.logarithmic)V+=this._step;else{var U=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;U>1?V=Math.pow(10,Math.log(this.min)*Math.LOG10E+G):V+=this._step}var Q=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(Q<1){var ee=Math.round(Math.abs(Math.log(Math.abs(Q))*Math.LOG10E))+2;if(ee=Math.min(13,ee),V=round$2(V,ee),J==V){V=W;break}}}var te=this._axisBreaks;if(te){var ie=this.renderer;each(te.iterator(),function(ne){if(ne.breakSize>0&&getDistance(ne.startPoint,ne.endPoint)>ie.minGridDistance)for(var ae=ne.adjustedMin;ae<=ne.adjustedMax;){if(ae>=ne.adjustedStartValue&&ae<=ne.adjustedEndValue){var se=Y.find(function(oe){return oe.value===ae});se.__disabled&&(se.__disabled=!1),E.appendDataItem(se),se.axisBreak=ne,se.value!=ae&&(se.value=ae,se.text=E.formatLabel(ae),se.label&&se.label.invalid&&se.label.validate()),E.validateDataElement(se)}ae+=ne.adjustedStep}})}}},F.prototype.validateDataElement=function(E){R.prototype.validateDataElement.call(this,E),E.itemIndex=this._axisItemCount,this._axisItemCount++;var V=this.renderer,U=E.value,W=E.endValue,Y=this.valueToPosition(U);E.position=Y;var G=Y,X=this.valueToPosition(U+this._step);isNumber(W)&&(G=this.valueToPosition(W),X=G),E.point=V.positionToPoint(Y);var K=E.tick;K&&!K.disabled&&V.updateTickElement(K,Y,G);var Z=E.grid;Z&&!Z.disabled&&V.updateGridElement(Z,Y,G);var J=E.label;J&&!J.disabled&&V.updateLabelElement(J,Y,G);var Q=E.axisFill;Q&&!Q.disabled&&(V.updateFillElement(Q,Y,X),E.isRange||this.fillRule(E)),E.bullet&&V.updateBullet(E.bullet,Y,G);var ee=E.mask;ee&&V.updateFillElement(ee,Y,X)},F.prototype.formatLabel=function(E){return this.adjustLabelPrecision&&E!=0?this.numberFormatter.format(E,void 0,this._stepDecimalPlaces):this.numberFormatter.format(E)},Object.defineProperty(F.prototype,"basePoint",{get:function(){var E=this.baseValue,V=this.valueToPosition(E),U=this.renderer.positionToPoint(V);return U},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"baseValue",{get:function(){var E=this._baseValue;return this.logarithmic&&(E=this.min),this._adapterO?this._adapterO.apply("baseValue",E):E},set:function(E){this._baseValue=E,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),F.prototype.anyToPosition=function(E){return this.valueToPosition(E)},F.prototype.valueToPoint=function(E){var V=this.valueToPosition(E),U=this.renderer.positionToPoint(V),W=this.renderer.positionToAngle(V);return{x:U.x,y:U.y,angle:W}},F.prototype.anyToPoint=function(E){return this.valueToPoint(E)},F.prototype.valueToPosition=function(E){if(isNumber(E)){var V=this.min,U=this.max;if(isNumber(V)&&isNumber(U)){var W=this._difference,Y=this._axisBreaks;Y&&Y.length>0&&eachContinue(Y.iterator(),function(K){var Z=K.adjustedStartValue,J=K.adjustedEndValue;if(isNumber(Z)&&isNumber(J)){if(E<Z)return!1;if(intersect({start:Z,end:J},{start:V,end:U})){Z=Math.max(Z,V),J=Math.min(J,U);var Q=K.breakSize;E>J?V+=(J-Z)*(1-Q):E<Z||(E=Z+(E-Z)*Q)}}return!0});var G=void 0;if(!this.logarithmic)G=(E-V)/W;else{var X=this.treatZeroAs;isNumber(X)&&E<=X&&(E=X),G=(Math.log(E)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}return G}}return 0},F.prototype.invalidateLabels=function(){R.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(E){E.value=void 0}),this.invalidate())},F.prototype.positionToValue=function(E){var V=this.min,U=this.max;if(isNumber(V)&&isNumber(U)){var W=U-V,Y=null,G=this._axisBreaks;return G&&G.length>0&&eachContinue(G.iterator(),function(X){var K=X.startPosition,Z=X.endPosition,J=X.adjustedStartValue,Q=X.adjustedEndValue;if(isNumber(J)&&isNumber(Q)){if(J>U)return!1;if(intersect({start:J,end:Q},{start:V,end:U})){J=max$2(J,V),Q=min$2(Q,U);var ee=X.breakSize;if(W-=(Q-J)*(1-ee),E>Z)V+=(Q-J)*(1-ee);else if(!(E<K)){var te=(E-K)/(Z-K);return Y=J+te*(Q-J),!1}}return!0}}),isNumber(Y)||(this.logarithmic?Y=Math.pow(Math.E,(E*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):Y=E*W+V),Y}},F.prototype.xToValue=function(E){return this.positionToValue(this.pointToPosition({x:E,y:0}))},F.prototype.yToValue=function(E){return this.positionToValue(this.pointToPosition({x:0,y:E}))},F.prototype.pointToPosition=function(E){return this.renderer instanceof AxisRendererY?1-this.renderer.pointToPosition(E):this.renderer.pointToPosition(E)},F.prototype.animateMinMax=function(E,V){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:E},{property:"_maxAdjusted",from:this._maxAdjusted,to:V}],this.rangeChangeDuration,this.rangeChangeEasing)},F.prototype.getMinMax=function(){var E=this;this.updateGridCount();var V=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY;if((!isNumber(this._minDefined)||!isNumber(this._maxDefined))&&(this.series.each(function(Q){if(!Q.ignoreMinMax){var ee=Q.min(E);isNumber(ee)&&ee<V&&(V=ee);var te=Q.max(E);isNumber(te)&&te>U&&(U=te)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(Q){if(!Q.ignoreMinMax){var ee=min$2(Q.value,Q.endValue),te=max$2(Q.value,Q.endValue);(ee<V||!isNumber(V))&&(V=ee),(te>U||!isNumber(U))&&(U=te)}})),this.logarithmic){var W=this.treatZeroAs;isNumber(W)&&V<=0&&(V=W),V<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(V==0&&U==0&&(U=.9,V=-.9),isNumber(this._minDefined)&&(V=this._minDefined),isNumber(this._maxDefined)&&(U=this._maxDefined),this._adapterO&&(V=this._adapterO.apply("min",V)),this._adapterO&&(U=this._adapterO.apply("max",U)),!(!isNumber(V)||!isNumber(U))){this._minReal=V,this._maxReal=U,V==Number.POSITIVE_INFINITY&&(V=void 0),U==Number.NEGATIVE_INFINITY&&(U=void 0);var Y=this.adjustDifference(V,U);if(V=this.fixMin(V),U=this.fixMax(U),U-V<=1/Math.pow(10,15)){if(U-V!=0)this._deltaMinMax=(U-V)/2;else{var G=Math.log(Math.abs(U))*Math.LOG10E,X=Math.pow(10,Math.floor(G));X=X/10,this._deltaMinMax=X}V-=this._deltaMinMax,U+=this._deltaMinMax}V-=(U-V)*this.extraMin,U+=(U-V)*this.extraMax;var K=this.strictMinMax;isNumber(this._maxDefined)&&(K=!0);var Z=this.adjustMinMax(V,U,Y,this._gridCount,K);if(V=Z.min,U=Z.max,Y=U-V,Z=this.adjustMinMax(V,U,U-V,this._gridCount,!0),V=Z.min,U=Z.max,this.strictMinMax&&(isNumber(this._minDefined)?V=this._minDefined:V=this._minReal,isNumber(this._maxDefined)?U=this._maxDefined:U=this._maxReal,U-V<=1e-8&&(V-=this._deltaMinMax,U+=this._deltaMinMax),V-=(U-V)*this.extraMin,U+=(U-V)*this.extraMax),this._adapterO&&(V=this._adapterO.apply("min",V)),this._adapterO&&(U=this._adapterO.apply("max",U)),this._step=Z.step,!isNumber(V)&&!isNumber(U)&&(this.start=0,this.end=1,this.renderer.labels.each(function(Q){Q.dataItem.text=""})),(this._minAdjusted!=V||this._maxAdjusted!=U)&&isNumber(V)&&isNumber(U)){var J=this._minMaxAnimation;if(this._extremesChanged&&isNumber(this._minAdjusted)&&isNumber(this._maxAdjusted)&&this.inited){if(J&&!J.isFinished()&&this._finalMax==U&&this._finalMin==V)return;this._finalMin=V,this._finalMax=U,J=this.animateMinMax(V,U),J&&!J.isFinished()?(J.events.on("animationprogress",this.validateDataItems,this),J.events.on("animationended",function(){E.series.each(function(Q){Q.validate()}),E.validateDataItems(),E.handleSelectionExtremesChange()}),this._minMaxAnimation=J):this.series.each(function(Q){Q.invalidate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(J&&!J.isFinished()&&this._finalMax==U&&this._finalMin==V)return;this._minAdjusted=V,this._maxAdjusted=U,this._finalMin=V,this._finalMax=U,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged"),this._saveMinMax(V,U)}}this._extremesChanged=!1,this._difference=this.adjustDifference(V,U)}},F.prototype.fixMin=function(E){return E},F.prototype.fixMax=function(E){return E},F.prototype.adjustMinMax=function(E,V,U,W,Y){W<=1&&(W=1),W=Math.round(W);var G=E,X=V;U===0&&(U=Math.abs(V));var K=Math.log(Math.abs(U))*Math.LOG10E,Z=Math.pow(10,Math.floor(K));Z=Z/10;var J=Z;Y&&(J=0),this.logarithmic?(E<=0&&(E=this.baseValue),E==1/0&&(E=1),V==-1/0&&(V=10),this.strictMinMax?(this._minDefined>0?E=this._minDefined:E=E,this._maxDefined>0&&(V=V)):(E=Math.pow(10,Math.floor(Math.log(Math.abs(E))*Math.LOG10E)),V=Math.pow(10,Math.ceil(Math.log(Math.abs(V))*Math.LOG10E)))):(Y?(E=Math.floor(E/Z)*Z,V=Math.ceil(V/Z)*Z):(E=Math.ceil(E/Z)*Z-J,V=Math.floor(V/Z)*Z+J),E<0&&G>=0&&(E=0),V>0&&X<=0&&(V=0)),K=Math.log(Math.abs(U))*Math.LOG10E,Z=Math.pow(10,Math.floor(K)),Z=Z/10;var Q=Math.ceil(U/W/Z)*Z,ee=Math.pow(10,Math.floor(Math.log(Math.abs(Q))*Math.LOG10E)),te=Math.ceil(Q/ee);te>5?te=10:te<=5&&te>2&&(te=5),Q=Math.ceil(Q/(ee*te))*ee*te,this.maxPrecision<Number.MAX_VALUE&&Q!=ceil(Q,this.maxPrecision)&&(Q=ceil(Q,this.maxPrecision));var ie=0;if(ee<1&&(ie=Math.round(Math.abs(Math.log(Math.abs(ee))*Math.LOG10E))+1,Q=round$2(Q,ie)),!this.logarithmic){var ne=Math.floor(E/Q);E=round$2(Q*ne,ie);var ae=void 0;Y?ae=Math.floor(V/Q):ae=Math.ceil(V/Q),ae==ne&&ae++,V=round$2(Q*ae,ie),V<X&&(V=V+Q),E>G&&(E=E-Q)}return{min:E,max:V,step:Q}},Object.defineProperty(F.prototype,"min",{get:function(){var E=this._minAdjusted;return isNumber(E)||(E=this._minDefined),E},set:function(E){this._minDefined!=E&&(this._minDefined=E,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(E){this.setPropertyValue("extraMin",E)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(E){this.setPropertyValue("extraMax",E)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"max",{get:function(){var E=this._maxAdjusted;return isNumber(E)||(E=this._maxDefined),E},set:function(E){this._maxDefined!=E&&(this._maxDefined=E,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(E){this.setPropertyValue("adjustLabelPrecision",E)&&this.invalidate()},enumerable:!0,configurable:!0}),F.prototype.registerSeries=function(E){return new MultiDisposer([R.prototype.registerSeries.call(this,E),E.events.on("extremeschanged",this.handleExtremesChange,this,!1),E.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",E.invalidate,E,!1)])},F.prototype.handleSelectionExtremesChange=function(){var E=this,V,U,W=!0;if(each(this.series.iterator(),function(ee){if(!ee.ignoreMinMax&&!ee.isHidden&&!ee.outOfRange){ee.visible&&!ee.isHiding&&(W=!1);var te=ee.selectionMin(E),ie=ee.selectionMax(E);isNumber(te)&&(!isNumber(V)||te<V)&&(V=te),isNumber(ie)&&(!isNumber(U)||ie>U)&&(U=ie)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(ee){if(!ee.ignoreMinMax){var te=min$2(ee.value,ee.endValue),ie=max$2(ee.value,ee.endValue);te<V&&(V=te),ie>U&&(U=ie)}}),isNumber(this._minDefined)?this.strictMinMax?V=this._minDefined:V=this.min:this.strictMinMax&&(V=this._minReal),isNumber(this._maxDefined)?this.strictMinMax?U=this._maxDefined:U=this.max:this.strictMinMax&&(U=this._maxReal),V==U){V-=this._deltaMinMax,U+=this._deltaMinMax;var Y=this.adjustMinMax(V,U,0,this._gridCount,this.strictMinMax);V=Y.min,U=Y.max}var G=this.adjustDifference(V,U),X=this.adjustMinMax(V,U,G,this._gridCount);V=X.min,U=X.max,V-=(U-V)*this.extraMin,U+=(U-V)*this.extraMax,V=fitToRange(V,this.min,this.max),U=fitToRange(U,this.min,this.max),G=this.adjustDifference(V,U),X=this.adjustMinMax(V,U,G,this._gridCount,!0),V=X.min,U=X.max,this.strictMinMax&&(V=max$2(V,this._minDefined),U=min$2(U,this._maxDefined));var K=X.step;this.syncWithAxis&&(X=this.syncAxes(V,U,K),V=X.min,U=X.max,this.invalidate()),K=X.step,this._difference=this.adjustDifference(this.min,this.max);var Z=this.valueToPosition(V),J=this.valueToPosition(U);W&&!this.syncWithAxis&&(Z=0,J=1);var Q=0;this.syncWithAxis?(Q=5,this.setCache(V+"-"+U,K)):((this._step!=K||this._minZoomed!=V||this._maxZoomed!=U)&&(this._dsc=!0),this._step=K,this._minZoomed=V,this._maxZoomed=U),this.keepSelection||this.zoom({start:Z,end:J},!1,!1,Q)},Object.defineProperty(F.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(E){this.setPropertyValue("strictMinMax",E)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(E){this.setPropertyValue("logarithmic",E)&&(this.invalidate(),this.series.each(function(V){V.invalidateDataItems()}))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(E){this.setPropertyValue("keepSelection",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(E){this.setPropertyValue("includeRangesInMinMax",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(E){this.setPropertyValue("maxPrecision",E)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(E){this.setPropertyValue("extraTooltipPrecision",E)&&this.invalidate()},enumerable:!0,configurable:!0}),F.prototype.handleExtremesChange=function(){var E=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){var V=0;this.dataItems.each(function(U){U.label&&U.label.pixelWidth>V&&(E.ghostLabel.text=U.label.currentText)})}},F.prototype.getX=function(E,V,U,W,Y){return this.renderer.positionToPoint(this.getPositionX(E,V,U,W,Y)).x},F.prototype.getPositionX=function(E,V,U,W,Y){var G=E.getWorkingValue(V);hasValue(W)||(W="valueX");var X=E.getValue(W,"stack");isNumber(G)||(G=this.baseValue,this.logarithmic&&X>0&&(G=0));var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),K},F.prototype.getY=function(E,V,U,W,Y){return this.renderer.positionToPoint(this.getPositionY(E,V,U,W,Y)).y},F.prototype.getPositionY=function(E,V,U,W,Y){var G=E.getWorkingValue(V);hasValue(W)||(W="valueY");var X=E.getValue(W,"stack");isNumber(G)||(G=this.baseValue,this.logarithmic&&X>0&&(G=0));var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),K},F.prototype.getAngle=function(E,V,U,W,Y){var G=E.getWorkingValue(V),X=E.getValue(W,"stack");isNumber(G)||(G=this.baseValue);var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),this.positionToAngle(K)},F.prototype.getAnyRangePath=function(E,V,U){var W=this.valueToPosition(E),Y=this.valueToPosition(V);return this.getPositionRangePath(W,Y)},F.prototype.getTooltipText=function(E){var V=round$2(this.positionToValue(E),this._stepDecimalPlaces+this.extraTooltipPrecision),U=this.tooltip.numberFormatter.format(V);return this._adapterO?this._adapterO.apply("getTooltipText",U):U},F.prototype.zoomToValues=function(E,V,U,W){var Y=(E-this.min)/(this.max-this.min),G=(V-this.min)/(this.max-this.min);this.zoom({start:Y,end:G},U,W)},Object.defineProperty(F.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:max$2(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:min$2(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),F.prototype.fixAxisBreaks=function(){var E=this;R.prototype.fixAxisBreaks.call(this);var V=this._axisBreaks;V&&V.length>0&&V.each(function(U){var W=U.adjustedStartValue,Y=U.adjustedEndValue,G=Y-W,X=Math.ceil(G*U.breakSize)*E._gridCount/(E.max-E.min),K=E.adjustMinMax(W,Y,G,X,!0);U.adjustedStep=K.step,U.adjustedMin=K.min,U.adjustedMax=K.max}),this._difference=this.adjustDifference(this.min,this.max)},F.prototype.getPositionLabel=function(E){var V=this.positionToValue(E);return this.numberFormatter.format(V)},F.prototype.showTooltipAt=function(E){this.showTooltipAtPosition(this.valueToPosition(E))},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.min=E.min,this.max=E.max,this.calculateTotals=E.calculateTotals,this._baseValue=E.baseValue},Object.defineProperty(F.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(E){var V=this;this.setPropertyValue("syncWithAxis",E,!0)&&E&&(this._disposers.push(E.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(E.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(E.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){V.clearCache(),V._disposers.push(registry.events.once("exitframe",function(){V.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(E){this.setPropertyValue("treatZeroAs",E,!0)},enumerable:!0,configurable:!0}),F.prototype.syncAxes=function(E,V,U){var W=this.syncWithAxis;if(W){isNumber(E)||(E=this.min),isNumber(V)||(V=this.max),isNumber(U)||(U=this._step);var Y=Math.round((W.maxZoomed-W.minZoomed)/W.step),G=Math.round((V-E)/U);if(isNumber(Y)&&isNumber(G))for(var X=!1,K=0,Z=(V-E)*.01,J=E,Q=V,ee=U;X!=!0;)if(X=this.checkSync(J,Q,ee,Y),K++,K>1e3&&(X=!0),X)E=J,V=Q,U=ee;else{K/3==Math.round(K/3)?(J=E-Z*K,E>=0&&J<0&&(J=0)):(Q=V+Z*K,Q<=0&&Q>0&&(Q=0));var te=this.adjustMinMax(J,Q,Q-J,this._gridCount,!0);J=te.min,Q=te.max,ee=te.step}}return{min:E,max:V,step:U}},F.prototype.checkSync=function(E,V,U,W){for(var Y=(V-E)/U,G=1;G<W;G++)if(round$2(Y/G,1)==W||Y*G==W)return!0;return!1},F.prototype.processConfig=function(E){E&&hasValue(E.syncWithAxis)&&isString$1(E.syncWithAxis)&&(this.map.hasKey(E.syncWithAxis)?E.syncWithAxis=this.map.getKey(E.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+E.syncWithAxis+'" found for `syncWithAxis`'),delete E.xAxis)),R.prototype.processConfig.call(this,E)},F.prototype._saveMinMax=function(E,V){},F}(Axis);registry.registeredClasses.ValueAxis=ValueAxis;registry.registeredClasses.ValueAxisDataItem=ValueAxisDataItem;var DateAxisBreak=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="DateAxisBreak",E.applyTheme(),E}return Object.defineProperty(F.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(E){this.setPropertyValue("startDate",E)&&(this.startValue=E.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(E){this.setPropertyValue("endDate",E)&&(this.endValue=E.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),F}(ValueAxisBreak);registry.registeredClasses.DateAxisBreak=DateAxisBreak;var DateAxisDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="DateAxisDataItem",E.applyTheme(),E.values.date={},E.values.endDate={},E}return Object.defineProperty(F.prototype,"date",{get:function(){return this.dates.date},set:function(E){this.setDate("date",E),this.value=E.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(E){this.setDate("endDate",E),this.endValue=E.getTime()},enumerable:!0,configurable:!0}),F}(ValueAxisDataItem),DateAxis=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._gapBreaks=!1,E.gridIntervals=new List,E.groupIntervals=new List,E.dateFormats=new Dictionary,E.periodChangeDateFormats=new Dictionary,E._baseIntervalReal={timeUnit:"day",count:1},E._prevSeriesTime={},E._minDifference={},E._firstWeekDay=1,E.groupMin={},E.groupMax={},E._intervalMax={},E._intervalMin={},E.className="DateAxis",E.setPropertyValue("markUnitChange",!0),E.snapTooltip=!0,E.tooltipPosition="pointer",E.setPropertyValue("groupData",!1),E.groupCount=200,E.events.on("parentset",E.getDFFormatter,E,!1),E.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),E.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),E.axisFieldName="date",E.applyTheme(),E}return F.prototype.fillRule=function(E){var V=E.value,U=E.component,W=U._gridInterval,Y=getDuration(W.timeUnit,W.count);Math.round((V-U.min)/Y)/2==Math.round(Math.round((V-U.min)/Y)/2)?E.axisFill.__disabled=!0:E.axisFill.__disabled=!1},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},F.prototype.createDataItem=function(){return new DateAxisDataItem},F.prototype.createAxisBreak=function(){return new DateAxisBreak},F.prototype.validateDataItems=function(){var E=this.start,V=this.end,U=this.baseDuration,W=(this.max-this.min)/U;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),R.prototype.validateDataItems.call(this);var Y=getDuration(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/Y),this._deltaMinMax=this.baseDuration/2;var G=(this.max-this.min)/U;E=E+(V-E)*(1-W/G),this.zoom({start:E,end:V},!1,!0)},F.prototype.handleSelectionExtremesChange=function(){},F.prototype.getIntervalMax=function(E){return this._intervalMax[E.timeUnit+E.count]},F.prototype.getIntervalMin=function(E){return this._intervalMin[E.timeUnit+E.count]},F.prototype.calculateZoom=function(){var E=this;R.prototype.calculateZoom.call(this);var V=this.adjustDifference(this._minZoomed,this._maxZoomed),U=!1;if(this.groupData&&hasValue(V)){var W=this.mainBaseInterval,Y=this.getIntervalMin(W),G=this.getIntervalMax(W),X=Y+(G-Y)*this.start,K=Y+(G-Y)*this.end,Z=this.adjustDifference(X,K),J=Z+(this.startLocation+(1-this.endLocation))*this.baseDuration,Q=void 0;this.groupInterval?Q=__assign$1({},this.groupInterval):(Q=this.chooseInterval(0,J,this.groupCount,this.groupIntervals),getDuration(Q.timeUnit,Q.count)<getDuration(W.timeUnit,W.count)&&(Q=__assign$1({},W))),this._groupInterval=Q;var ee=Q.timeUnit+Q.count;this._currentDataSetId!=ee&&(this._currentDataSetId=ee,this.dispatch("groupperiodchanged")),this.series.each(function(ie){ie.baseAxis==E&&ie.setDataSet(E._currentDataSetId)&&(U=!0)})}var te=this.chooseInterval(0,V,this._gridCount);getDuration(te.timeUnit,te.count)<this.baseDuration&&(te=__assign$1({},this.baseInterval)),this._gridInterval=te,this._nextGridUnit=getNextUnit(te.timeUnit),this._intervalDuration=getDuration(te.timeUnit,te.count),this._gridDate=round$1(new Date(this.minZoomed-getDuration(te.timeUnit,te.count)),te.timeUnit,te.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),each(this.series.iterator(),function(ie){if(ie.baseAxis==E){var ne=ie.getAxisField(E),ae=round$1(new Date(E._minZoomed+E.baseDuration*.05),E.baseInterval.timeUnit,E.baseInterval.count,E._firstWeekDay,E._df.utc,void 0,E._df.timezoneMinutes,E._df.timezone).getTime(),se=ae.toString(),oe=ie.dataItemsByAxis.getKey(E.uid).getKey(se+ie.currentDataSetId),le=0;E.start!=0&&(oe?(oe=E.findFirst(oe,ae,ne),le=oe.index):le=ie.dataItems.findClosestIndex(E._minZoomed,function(Te){return Te[ne]},"left"));var ue=E.baseInterval,ce=add(round$1(new Date(E._maxZoomed),ue.timeUnit,ue.count,E._firstWeekDay,E._df.utc,void 0,E._df.timezoneMinutes,E._df.timezone),ue.timeUnit,ue.count,E._df.utc).getTime(),he=ce.toString(),de=ie.dataItemsByAxis.getKey(E.uid).getKey(he+ie.currentDataSetId),fe=ie.dataItems.length;E.end!=1&&(de?fe=de.index:(ce-=1,fe=ie.dataItems.findClosestIndex(ce,function(Te){return Te[ne]},"right"),fe++)),ie.max(E)<ae?(ie.startIndex=ie.dataItems.length,ie.endIndex=ie.dataItems.length,ie.outOfRange=!0):ie.min(E)>ce?(ie.startIndex=0,ie.endIndex=0,ie.outOfRange=!0):(ie.outOfRange=!1,ie.startIndex=le,ie.endIndex=fe),!U&&ie.dataRangeInvalid&&ie.validateDataRange()}})},F.prototype.findFirst=function(E,V,U){var W=E.index;if(W>0){var Y=E.component,G=Y.dataItems.getIndex(W-1),X=G[U];return!X||X.getTime()<V?E:this.findFirst(G,V,U)}else return E},F.prototype.validateData=function(){R.prototype.validateData.call(this),isNumber(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(F.prototype,"minDifference",{get:function(){var E=this,V=Number.MAX_VALUE;return this.series.each(function(U){V>E._minDifference[U.uid]&&(V=E._minDifference[U.uid])}),(V==Number.MAX_VALUE||V==0)&&(V=getDuration("day")),V},enumerable:!0,configurable:!0}),F.prototype.seriesDataChangeUpdate=function(E){this._minDifference[E.uid]=Number.MAX_VALUE},F.prototype.postProcessSeriesDataItems=function(E){var V=this;this._firstWeekDay=this.getFirstWeekDay(),E?this.seriesGroupUpdate(E):this.series.each(function(U){V.seriesGroupUpdate(U)}),this.addEmptyUnitsBreaks()},F.prototype.seriesGroupUpdate=function(E){var V=this;JSON.stringify(E._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(E._baseInterval[this.uid]=this.mainBaseInterval,E.mainDataSet.each(function(U){V.postProcessSeriesDataItem(U)}),this.groupData&&this.groupSeriesData(E))},F.prototype.groupSeriesData=function(E){var V=this;if(E.baseAxis==this&&E.dataItems.length>0&&!E.dataGrouped){E.bulletsContainer.removeChildren();var U=[],W=this.mainBaseInterval,Y=getDuration(W.timeUnit,W.count);this.groupIntervals.each(function(G){var X=getDuration(G.timeUnit,G.count);(X>Y&&X<V.max-V.min||V.groupInterval)&&U.push(G)}),E._dataSets&&(E._dataSets.each(function(G,X){X.each(function(K){K.dispose()}),X.clear()}),E._dataSets.clear()),E.dataGrouped=!0,each$2(U,function(G){var X="date"+V.axisLetter,K=G.timeUnit+G.count,Z=new OrderedListTemplate(E.mainDataSet.template.clone());E.dataSets.setKey(K,Z);var J=E.mainDataSet,Q=Number.NEGATIVE_INFINITY,ee=0,te,ie=[];each$1(E.dataFields,function(ae,se){var oe=ae;oe!=X&&oe.indexOf("Show")==-1&&ie.push(oe)});var ne;J.each(function(ae){var se=ae.getDate(X);if(se){var oe=se.getTime();ne=round$1(new Date(oe),G.timeUnit,G.count,V._df.firstDayOfWeek,V._df.utc,void 0,V._df.timezoneMinutes,V._df.timezone);var le=ne.getTime();Q<le?(te&&E._adapterO&&each$2(ie,function(ue){te.values[ue].value=E._adapterO.apply("groupDataItem",{dataItem:te,interval:G,dataField:ue,date:ne,value:te.values[ue].value}).value,te.values[ue].workingValue=te.values[ue].value}),te=Z.create(),te.dataContext={},te.setWorkingLocation("dateX",E.dataItems.template.locations.dateX,0),te.setWorkingLocation("openDateX",E.dataItems.template.locations.openDateX,0),te.setWorkingLocation("dateY",E.dataItems.template.locations.dateY,0),te.setWorkingLocation("openDateY",E.dataItems.template.locations.openDateY,0),te.component=E,te.setDate(X,ne),te._index=ee,ee++,each$2(ie,function(ue){var ce=ae.values[ue];if(ce){var he=ce.value;E._adapterO&&(he=E._adapterO.apply("groupValue",{dataItem:ae,interval:G,dataField:ue,date:ne,value:he}).value);var de=te.values[ue];isNumber(he)?(de.value=he,de.workingValue=he,de.open=he,de.close=he,de.low=he,de.high=he,de.sum=he,de.average=he,de.count=1):de.count=0}}),V.postProcessSeriesDataItem(te,G),each$1(E.propertyFields,function(ue,ce){var he=ue,de=ae.properties[ue];hasValue(de)&&(te.hasProperties=!0,te.setProperty(he,de))}),te.groupDataItems=[ae],Q=le):te&&(each$2(ie,function(ue){var ce=E.groupFields[ue],he=ae.values[ue];if(he){var de=he.value;if(E._adapterO&&(de=E._adapterO.apply("groupValue",{dataItem:ae,interval:G,dataField:ue,date:ne,value:de}).value),isNumber(de)){var fe=te.values[ue];isNumber(fe.open)||(fe.open=de),fe.close=de,(fe.low>de||!isNumber(fe.low))&&(fe.low=de),(fe.high<de||!isNumber(fe.high))&&(fe.high=de),isNumber(fe.sum)?fe.sum+=de:fe.sum=de,fe.count++,fe.average=fe.sum/fe.count,isNumber(fe[ce])&&(fe.value=fe[ce],fe.workingValue=fe.value)}}}),copyProperties(ae.properties,te.properties),each$1(E.propertyFields,function(ue,ce){var he=ue,de=ae.properties[ue];hasValue(de)&&(te.hasProperties=!0,te.setProperty(he,de))}),te.groupDataItems.push(ae))}te&&copyProperties(ae.dataContext,te.dataContext)}),te&&E._adapterO&&each$2(ie,function(ae){te.values[ae].value=E._adapterO.apply("groupDataItem",{dataItem:te,interval:G,dataField:ae,date:ne,value:te.values[ae].value}).value,te.values[ae].workingValue=te.values[ae].value})}),this.calculateZoom()}},F.prototype.getDFFormatter=function(){this._df=this.dateFormatter},F.prototype.postProcessSeriesDataItem=function(E,V){var U=this,W="";V?W=V.timeUnit+V.count:V=this.mainBaseInterval;var Y=E.component,G=Y.dataItemsByAxis.getKey(this.uid);each$1(E.dates,function(X){var K=E.getDate(X),Z=K.getTime(),J=round$1(new Date(Z),V.timeUnit,V.count,U._firstWeekDay,U._df.utc,void 0,U._df.timezoneMinutes,U._df.timezone),Q=J.getTime(),ee=add(new Date(Q),V.timeUnit,V.count,U._df.utc);E.setCalculatedValue(X,Q,"open"),E.setCalculatedValue(X,ee.getTime(),"close"),G.setKey(Q+W,E)})},F.prototype.addEmptyUnitsBreaks=function(){var E=this;if(this.skipEmptyPeriods&&isNumber(this.min)&&isNumber(this.max)){var V=this.baseInterval.timeUnit,U=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var W=round$1(new Date(this.min),V,U,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),Y=void 0,G=function(){add(W,V,U,X._df.utc);var K=W.getTime(),Z=K.toString(),J=contains$1(X.series.iterator(),function(Q){return!!Q.dataItemsByAxis.getKey(E.uid).getKey(Z+Q.currentDataSetId)});J?Y&&(Y.endDate=new Date(K-1),Y=void 0):Y||(Y=X.axisBreaks.create(),Y.startDate=new Date(K),X._gapBreaks=!0)},X=this;W.getTime()<this.max-this.baseDuration;)G()}},F.prototype.fixAxisBreaks=function(){var E=this;R.prototype.fixAxisBreaks.call(this);var V=this._axisBreaks;V&&V.length>0&&V.each(function(U){var W=Math.ceil(E._gridCount*(Math.min(E.end,U.endPosition)-Math.max(E.start,U.startPosition))/(E.end-E.start));U.gridInterval=E.chooseInterval(0,U.adjustedEndValue-U.adjustedStartValue,W);var Y=round$1(new Date(U.adjustedStartValue),U.gridInterval.timeUnit,U.gridInterval.count,E._firstWeekDay,E._df.utc,void 0,E._df.timezoneMinutes,E._df.timezone);Y.getTime()>U.startDate.getTime()&&add(Y,U.gridInterval.timeUnit,U.gridInterval.count,E._df.utc),U.gridDate=Y})},F.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},F.prototype.getGridDate=function(E,V){var U=this._gridInterval.timeUnit,W=this._gridInterval.count;round$1(E,U,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var Y=E.getTime(),G=copy$1(E),X=add(G,U,V,this._df.utc).getTime(),K=this.isInBreak(X);K&&K.endDate&&(G=new Date(K.endDate.getTime()),round$1(G,U,W,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),G.getTime()<K.endDate.getTime()&&add(G,U,W,this._df.utc),X=G.getTime());var Z=this.adjustDifference(Y,X),J=Math.round(Z/getDuration(U));return J<W?this.getGridDate(E,V+W):G},F.prototype.getBreaklessDate=function(E,V,U){var W=new Date(E.endValue);round$1(W,V,U,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),add(W,V,U,this._df.utc);var Y=W.getTime();return E=this.isInBreak(Y),E?this.getBreaklessDate(E,V,U):W},F.prototype.validateAxisElements=function(){var E=this;if(isNumber(this.max)&&isNumber(this.min)){this.calculateZoom();var V=this._gridDate.getTime(),U=this._gridInterval.timeUnit,W=this._gridInterval.count,Y=copy$1(this._gridDate),G=this._dataItemsIterator;this.resetIterators();for(var X=function(){var J=K.getGridDate(copy$1(Y),W);V=J.getTime();var Q=copy$1(J);Q=add(Q,U,W,K._df.utc);var ee=K.dateFormats.getKey(U);K.markUnitChange&&Y&&checkChange(J,Y,K._nextGridUnit,K._df.utc)&&U!=="year"&&(ee=K.periodChangeDateFormats.getKey(U));var te=K._df.format(J,ee),ie=G.find(function(ne){return ne.text===te});ie.__disabled&&(ie.__disabled=!1),K.appendDataItem(ie),ie.axisBreak=void 0,ie.date=J,ie.endDate=Q,ie.text=te,K.validateDataElement(ie),Y=J},K=this;V<=this._maxZoomed;)X();var Z=this.renderer;this._axisBreaks&&each(this._axisBreaks.iterator(),function(J){if(J.breakSize>0){var Q=J.gridInterval.timeUnit,ee=J.gridInterval.count;if(getDistance(J.startPoint,J.endPoint)>Z.minGridDistance*4)for(var te=J.gridDate.getTime(),ie,ne=0,ae=function(){var se=copy$1(J.gridDate);if(te=add(se,Q,ee*ne,E._df.utc).getTime(),ne++,te>J.adjustedStartValue&&te<J.adjustedEndValue){var oe=copy$1(se);oe=add(oe,Q,ee,E._df.utc);var le=E.dateFormats.getKey(Q);E.markUnitChange&&ie&&checkChange(se,ie,E._nextGridUnit,E._df.utc)&&Q!=="year"&&(le=E.periodChangeDateFormats.getKey(Q));var ue=E._df.format(se,le),ce=G.find(function(he){return he.text===ue});ce.__disabled&&(ce.__disabled=!1),E.appendDataItem(ce),ce.axisBreak=J,J.dataItems.moveValue(ce),ce.date=se,ce.endDate=oe,ce.text=ue,ie=se,E.validateDataElement(ce)}};te<=J.adjustedMax;)ae()}})}},F.prototype.validateDataElement=function(E){if(E.itemIndex=this._axisItemCount,this._axisItemCount++,isNumber(this.max)&&isNumber(this.min)){var V=this.renderer,U=E.value,W=E.endValue;isNumber(W)||(W=U);var Y=this.valueToPosition(U),G=this.valueToPosition(W),X=G;!E.isRange&&this._gridInterval.count>this.baseInterval.count&&(G=Y+(G-Y)/(this._gridInterval.count/this.baseInterval.count)),E.position=Y;var K=E.tick;K&&!K.disabled&&V.updateTickElement(K,Y,G);var Z=E.grid;Z&&!Z.disabled&&V.updateGridElement(Z,Y,G);var J=E.axisFill;J&&!J.disabled&&(V.updateFillElement(J,Y,X),E.isRange||this.fillRule(E));var Q=E.mask;Q&&V.updateFillElement(Q,Y,G),E.bullet&&V.updateBullet(E.bullet,Y,G);var ee=E.label;if(ee&&!ee.disabled){var te=ee.location;te==0&&(this._gridInterval.count==1&&this._gridInterval.timeUnit!="week"&&!E.isRange?te=.5:te=0),V.updateLabelElement(ee,Y,G,te)}}},Object.defineProperty(F.prototype,"baseDuration",{get:function(){return getDuration(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),F.prototype.adjustMinMax=function(E,V){return{min:E,max:V,step:this.baseDuration}},F.prototype.fixMin=function(E){var V=this.baseInterval,U=round$1(new Date(E),V.timeUnit,V.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),W=add(new Date(U),V.timeUnit,V.count,this._df.utc).getTime();return U+(W-U)*this.startLocation},F.prototype.fixMax=function(E){var V=this.baseInterval,U=round$1(new Date(E),V.timeUnit,V.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),W=add(new Date(U),V.timeUnit,V.count,this._df.utc).getTime();return U+(W-U)*this.endLocation},F.prototype.chooseInterval=function(E,V,U,W){W||(W=this.gridIntervals);var Y=W.getIndex(E),G=getDuration(Y.timeUnit,Y.count),X=W.length-1;if(E>=X)return __assign$1({},W.getIndex(X));var K=Math.ceil(V/G);return V<G&&E>0?__assign$1({},W.getIndex(E-1)):K<=U?__assign$1({},W.getIndex(E)):E+1<W.length?this.chooseInterval(E+1,V,U,W):__assign$1({},W.getIndex(E))},F.prototype.formatLabel=function(E){return this._df.format(E)},F.prototype.dateToPosition=function(E){return this.valueToPosition(E.getTime())},F.prototype.anyToPosition=function(E){return E instanceof Date?this.dateToPosition(E):this.valueToPosition(E)},F.prototype.dateToPoint=function(E){var V=this.dateToPosition(E),U=this.renderer.positionToPoint(V),W=this.renderer.positionToAngle(V);return{x:U.x,y:U.y,angle:W}},F.prototype.anyToPoint=function(E){return E instanceof Date?this.dateToPoint(E):this.valueToPoint(E)},F.prototype.positionToDate=function(E){return new Date(this.positionToValue(E))},F.prototype.getPositionX=function(E,V,U,W,Y){var G=this.getTimeByLocation(E,V,U);isNumber(G)||(G=this.baseValue);var X=this.valueToPosition(G);return Y&&(X=fitToRange(X,Y.start,Y.end)),X},F.prototype.getPositionY=function(E,V,U,W,Y){var G=this.getTimeByLocation(E,V,U),X=E.getValue("valueX","stack");isNumber(G)||(G=this.baseValue);var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),K},F.prototype.getAngle=function(E,V,U,W,Y){var G=this.getTimeByLocation(E,V,U),X=E.getValue(W,"stack");isNumber(G)||(G=this.baseValue);var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),this.positionToAngle(K)},F.prototype.getTimeByLocation=function(E,V,U){if(!!hasValue(V)){isNumber(U)||(U=E.workingLocations[V],isNumber(U)||(U=0));var W=E.values[V].open,Y=E.values[V].close,G=E.values[V].workingValue,X=E.values[V].value,K=X-G;if(W-=K,Y-=K,isNumber(W)&&isNumber(Y))return W+(Y-W)*U}},F.prototype.processSeriesDataItem=function(E,V){var U=E.component,W,Y=E["date"+V];if(isNumber(this.timezoneOffset)?(Y.setTime(Y.getTime()+(Y.getTimezoneOffset()-this.timezoneOffset)*6e4),E.setValue("date"+V,Y.getTime(),0)):hasValue(this.timezone)&&(Y=setTimezone(Y,this.timezone),E.setValue("date"+V,Y.getTime(),0),E["date"+V]=Y),Y)W=Y.getTime();else return;var G=E["openDate"+V],X=this._prevSeriesTime[U.uid],K;if(G&&(K=G.getTime()),isNumber(K)){var Z=Math.abs(W-K);this._minDifference[U.uid]>Z&&(this._minDifference[U.uid]=Z)}var J=W-X;J>0&&this._minDifference[U.uid]>J&&(this._minDifference[U.uid]=J),this._prevSeriesTime[U.uid]=W,U._baseInterval[this.uid]&&this.postProcessSeriesDataItem(E)},F.prototype.updateAxisBySeries=function(){R.prototype.updateAxisBySeries.call(this);var E=this.chooseInterval(0,this.minDifference,1);this.minDifference>=getDuration("day",27)&&E.timeUnit=="week"&&(E.timeUnit="month",E.count=1),E.timeUnit=="month"&&(this.minDifference>=getDuration("day",29*2)&&E.count==1&&(E.count=2),this.minDifference>=getDuration("day",29*3)&&E.count==2&&(E.count=3),this.minDifference>=getDuration("day",29*6)&&E.count==5&&(E.count=6)),this.minDifference>=getDuration("hour",23)&&E.timeUnit=="hour"&&(E.timeUnit="day",E.count=1),this.minDifference>=getDuration("week",1)-getDuration("hour",1)&&E.timeUnit=="day"&&(E.timeUnit="week",E.count=1),this.minDifference>=getDuration("year",1)-getDuration("day",1.01)&&E.timeUnit=="month"&&(E.timeUnit="year",E.count=1),this._baseIntervalReal=E,this._mainBaseInterval=E},Object.defineProperty(F.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(E){JSON.stringify(this._baseInterval)!=JSON.stringify(E)&&(this._baseInterval=E,this._mainBaseInterval=E,isNumber(E.count)||(E.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(E){if(E){var V=this.axisBreaks.template;V.startLine.disabled=!0,V.endLine.disabled=!0,V.fillShape.disabled=!0,V.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",E)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(E){this.setPropertyValue("tooltipDateFormat",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(E){this.setPropertyValue("markUnitChange",E)&&this.invalidateData()},enumerable:!0,configurable:!0}),F.prototype.getTooltipText=function(E){var V,U=this.positionToDate(E);if(U=round$1(U,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=U,hasValue(this.tooltipDateFormat))V=this._df.format(U,this.tooltipDateFormat,["day","month","week","year"].indexOf(this.baseInterval.timeUnit)==-1);else{var W=this.dateFormats.getKey(this.baseInterval.timeUnit);W?V=this._df.format(U,W):V=this.getPositionLabel(E)}return this._adapterO?this._adapterO.apply("getTooltipText",V):V},F.prototype.roundPosition=function(E,V,U){var W=this.baseInterval,Y=W.timeUnit,G=W.count,X=this.positionToDate(E);if(round$1(X,Y,G,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),V>0&&add(X,Y,V*G,this._df.utc),U>0&&U<1&&X.setTime(X.getTime()+this.baseDuration*U),this.isInBreak(X.getTime()))for(;X.getTime()<this.max&&(add(X,Y,G,this._df.utc),!!this.isInBreak(X.getTime())););return this.dateToPosition(X)},F.prototype.getCellStartPosition=function(E){return this.roundPosition(E,0)},F.prototype.getCellEndPosition=function(E){return this.roundPosition(E,1)},F.prototype.getSeriesDataItem=function(E,V,U){var W=this.positionToValue(V),Y=.5;this.axisLetter=="Y"?Y=E.dataItems.template.locations.dateY:Y=E.dataItems.template.locations.dateX;var G=W-Y*this.baseDuration,X=round$1(new Date(W),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),K=round$1(new Date(W+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);K.getTime()>X.getTime()&&Math.abs(K.getTime()-G)<Math.abs(G-X.getTime())&&(X=K);var Z=E.dataItemsByAxis.getKey(this.uid),J=Z.getKey(X.getTime()+E.currentDataSetId);if(!J&&U){var Q;this.axisLetter=="Y"?Q="dateY":Q="dateX",J=E.dataItems.getIndex(E.dataItems.findClosestIndex(X.getTime(),function(ee){return ee[Q]?ee[Q].getTime():-1/0},"any"))}return J},F.prototype.getPositionLabel=function(E){var V=this.positionToDate(E);return this._df.format(V,this.getCurrentLabelFormat())},F.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},F.prototype.initRenderer=function(){R.prototype.initRenderer.call(this);var E=this.renderer;E&&(E.ticks.template.location=0,E.grid.template.location=0,E.labels.template.location=0,E.baseGrid.disabled=!0)},Object.defineProperty(F.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),F.prototype.animateMinMax=function(E,V){var U=this,W=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:E},{property:"_maxAdjusted",from:this._maxAdjusted,to:V}],this.rangeChangeDuration,this.rangeChangeEasing);return W.events.on("animationprogress",function(){U.dispatch("extremeschanged")}),W},F.prototype.handleExtremesChange=function(){if(R.prototype.handleExtremesChange.call(this),this.groupData){var E=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[E]=this._finalMin,this.groupMax[E]=this._finalMax}},F.prototype.zoomToDates=function(E,V,U,W,Y){E=this._df.parse(E),V=this._df.parse(V),this.zoomToValues(E.getTime(),V.getTime(),U,W,Y)},F.prototype.zoomToValues=function(E,V,U,W,Y){var G=this;if(this.groupData){var Z=this.adjustDifference(E,V),J=!1;V==this.max&&(J=!0);var Q=!1;if(E==this.min&&(Q=!0),hasValue(Z)){var ee=this.mainBaseInterval,te=this.chooseInterval(0,Z,this.groupCount,this.groupIntervals);(te.timeUnit==ee.timeUnit&&te.count<ee.count||getDuration(te.timeUnit,1)<getDuration(ee.timeUnit,1))&&(te=__assign$1({},ee));var ie=te.timeUnit+te.count,ne=this.groupMin[ie],ae=this.groupMax[ie];(!isNumber(ne)||!isNumber(ae))&&(ne=Number.POSITIVE_INFINITY,ae=Number.NEGATIVE_INFINITY,this.series.each(function(le){var ue=le.min(G),ce=le.max(G);if(le._dataSets){var he=le._dataSets.getKey(te.timeUnit+te.count);if(he){var de=he.getIndex(0),fe=he.getIndex(he.length-1);de&&(le.xAxis==G?ue=de.dateX.getTime():le.yAxis==G&&(ue=de.dateY.getTime())),fe&&(le.xAxis==G?ce=fe.dateX.getTime():le.yAxis==G&&(ce=fe.dateY.getTime()))}}ce=round$1(add(new Date(ce),te.timeUnit,1,G._df.utc),te.timeUnit,1,G._df.firstDayOfWeek,G._df.utc,void 0,G._df.timezoneMinutes,G._df.timezone).getTime(),ue<ne&&(ne=ue),ce>ae&&(ae=ce)}),this.groupMin[ie]=ne,this.groupMax[ie]=ae),E=fitToRange(E,ne,ae),V=fitToRange(V,ne,ae),Y&&(J&&(E=V-Z,E=fitToRange(E,ne,ae)),Q&&(V=E+Z,V=fitToRange(V,ne,ae)));var X=(E-ne)/(ae-ne),K=(V-ne)/(ae-ne);this.zoom({start:X,end:K},U,W)}}else{var X=this.valueToPosition(E),K=this.valueToPosition(V);this.zoom({start:X,end:K},U,W)}},F.prototype.asIs=function(E){return E=="baseInterval"||R.prototype.asIs.call(this,E)},F.prototype.copyFrom=function(E){var V=this;R.prototype.copyFrom.call(this,E),this.dateFormats=E.dateFormats,this.periodChangeDateFormats=E.periodChangeDateFormats,this.groupIntervals.clear(),E.groupIntervals.each(function(U){V.groupIntervals.push(__assign$1({},U))}),this.gridIntervals.clear(),E.gridIntervals.each(function(U){V.gridIntervals.push(__assign$1({},U))}),E._baseInterval&&(this.baseInterval=E._baseInterval)},F.prototype.showTooltipAtPosition=function(E,V){var U=this;if(V||(E=this.toAxisPosition(E)),this.snapTooltip){var W=this.positionToDate(E),Y=W.getTime(),G;if(this.series.each(function(Z){if(Z.baseAxis==U){var J=U.getSeriesDataItem(Z,E,!0);if(J){var Q=void 0;Z.xAxis==U&&(Q=J.dateX),Z.yAxis==U&&(Q=J.dateY),G?Math.abs(G.getTime()-Y)>Math.abs(Q.getTime()-Y)&&(G=Q):G=Q}}}),G){var X=G.getTime();G=round$1(new Date(X),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),X=G.getTime();var K=this.renderer.tooltipLocation;K==0&&(K=1e-4),G=new Date(G.getTime()+this.baseDuration*K),E=this.dateToPosition(G),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(Z){var J=Z.dataItemsByAxis.getKey(U.uid).getKey(X+Z.currentDataSetId),Q=Z.showTooltipAtDataItem(J);Q?U.chart._seriesPoints.push({series:Z,point:Q}):(Z.tooltipText||Z.tooltipHTML)&&Z.hideTooltip()})}}R.prototype.showTooltipAtPosition.call(this,E,!0)},Object.defineProperty(F.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(E){this.setPropertyValue("snapTooltip",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(E){var V=this;this.setPropertyValue("groupData",E)&&(this.series.each(function(U){U.setDataSet(""),E&&!U.dataGrouped&&U.inited&&(U._baseInterval[V.uid]=V.mainBaseInterval,V.groupSeriesData(U))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(E){this.setPropertyValue("groupInterval",E)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(E){this.setPropertyValue("groupCount",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(E){this.setPropertyValue("timezoneOffset",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(E){this.setPropertyValue("timezone",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),F.prototype.makeGap=function(E,V){var U=E.component;if(E&&V&&!U.connect&&isNumber(U.autoGapCount)&&U.baseAxis==this){var W=E.dates["date"+this.axisLetter],Y=V.dates["date"+this.axisLetter];if(W&&Y){var G=W.getTime(),X=Y.getTime();if(G-X>U.autoGapCount*this.baseDuration)return!0}}return!1},Object.defineProperty(F.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),F.prototype._saveMinMax=function(E,V){var U=this.groupInterval;U||(U=this.mainBaseInterval);var W=U.timeUnit+U.count;this._intervalMin[W]=E,this._intervalMax[W]=V},F}(ValueAxis);registry.registeredClasses.DateAxis=DateAxis;registry.registeredClasses.DateAxisDataItem=DateAxisDataItem;var AxisRendererX=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="AxisRendererX",E.minGridDistance=120,E.opposite=!1,E.rotation=0,E.width=percent(100),E.labels.template.horizontalCenter="middle",E.applyTheme(),E}return F.prototype.setAxis=function(E){R.prototype.setAxis.call(this,E),E.layout="vertical"},F.prototype.updateGridContainer=function(){var E=this.axis;if(E){var V=this.gridContainer;V.x=E.pixelX,V.width=E.axisLength}},F.prototype.processRenderer=function(){R.prototype.processRenderer.call(this);var E=this.axis;if(E){E.width instanceof Percent||(E.width=percent(100)),this.line;var V=E.title;V.rotation=0,V.align="center",this.opposite?(this.line.toFront(),V.toBack()):(V.toFront(),this.toBack(),this.line.toBack())}},F.prototype.updateTooltip=function(){var E=this.axis;if(E){var V=1e3,U=this.line.pixelX,W=this.line.pixelY,Y=this.axisLength,G=V;this.opposite?this.inside||(W=-V,G=V):this.inside&&(W=-V,G=V),this.axis.updateTooltip("vertical",{x:U,y:W,width:Y,height:G})}},F.prototype.updateLabelElement=function(E,V,U,W){hasValue(W)||(W=E.location),V=V+(U-V)*W;var Y=this.positionToPoint(V);E.isMeasured=!E.inside;var G=0,X,K=this.gridContainer.maxHeight;this.opposite?(E.inside?(X="top",E.valign=="bottom"&&(G=K,X="bottom"),E.valign=="middle"&&(G=K/2,X="middle")):X="bottom",Y.y=G):(E.inside?(X="bottom",E.valign=="top"&&(G=-K,X="top"),E.valign=="middle"&&(G=-K/2,X="middle")):X="top",Y.y+=G),E.rotation==0&&(E.verticalCenter=X),this.positionItem(E,Y),this.toggleVisibility(E,V,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(F.prototype,"axisLength",{get:function(){var E=this.axis;return E.measuredWidth-E.pixelPaddingRight-E.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),F.prototype.positionToPoint=function(E,V){return{x:this.positionToCoordinate(E),y:0}},F.prototype.pointToPosition=function(E){return this.coordinateToPosition(E.x,E.y)},F.prototype.getPositionRangePath=function(E,V){var U=fitToRange(this.positionToCoordinate(E),0,this.axisLength),W=fitToRange(this.positionToCoordinate(V),0,this.axisLength),Y=Math.abs(W-U),G=this.getHeight(),X=Math.min(U,W),K=0;return rectToPath({x:X,y:K,width:Y,height:G},!0)},F.prototype.updateBreakElement=function(E){R.prototype.updateBreakElement.call(this,E);var V=E.startLine,U=E.endLine,W=E.fillShape,Y=E.startPoint,G=E.endPoint,X=E.pixelMarginLeft,K=this.getHeight()-E.pixelMarginTop-E.pixelMarginBottom;Y.x=fitToRange(Y.x,-1,this.axisLength+1),G.x=fitToRange(G.x,-1,this.axisLength+1),Y.x==G.x&&(Y.x<0||Y.x>this.axisLength)?E.fillShape.__disabled=!0:E.fillShape.__disabled=!1,V.y=X,V.width=0,V.height=K,U.y=X,U.width=0,U.height=K,W.height=K,W.width=Math.abs(G.x-Y.x),W.y=X,W.x=Y.x},F.prototype.updateGridElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V);E.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.getHeight()}),this.positionItem(E,W),this.toggleVisibility(E,V,0,1)},F.prototype.updateTickElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V),Y=E.length;W.y=spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?Y*=E.inside?1:-1:Y*=E.inside?-1:1,E.path=moveTo({x:0,y:0})+lineTo({x:0,y:Y}),this.positionItem(E,W),this.toggleVisibility(E,V,0,1)},F.prototype.updateAxisLine=function(){this.line.path=moveTo({x:0,y:0})+lineTo({x:this.axisLength,y:0})},F.prototype.updateBaseGridElement=function(){R.prototype.updateBaseGridElement.call(this);var E=this.axis,V=this.getHeight(),U=this.axisLength,W=this.baseGrid,Y=E.basePoint.x;if(Y<-.2||Y>U+.2)W.hide(0);else{var G=spritePointToSprite({x:0,y:0},this.gridContainer,W.parent).y;W.path=moveTo({x:0,y:0})+lineTo({x:0,y:V}),W.moveTo({x:Y,y:G}),W.show(0)}},F.prototype.createBreakSprites=function(E){E.startLine=new WavedLine,E.endLine=new WavedLine;var V=new WavedRectangle;V.setWavedSides(!1,!0,!1,!0),E.fillShape=V},F.prototype.toAxisPosition=function(E){var V=E,U=this.axis;if(U){var W=U.relativePositionSprite,Y=U.pixelX;if(W?Y=spritePointToSprite({x:this.pixelX,y:0},this.parent,W).x:W=U.parent,W){var G=Y/W.innerWidth,X=U.axisLength/W.innerWidth;return(V-G)/X}}return E},F.prototype.updateBullet=function(E,V,U){var W=.5;E instanceof AxisBullet&&(W=E.location),V=V+(U-V)*W;var Y=this.positionToPoint(V);Y.y=spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(E,Y),this.toggleVisibility(E,V,0,1)},F}(AxisRenderer);registry.registeredClasses.AxisRendererX=AxisRendererX;defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(R,F){if(R instanceof AxisRendererX){var E=R.states.create(F);return E.properties.inside=!0,E.properties.maxLabelPosition=.9,E.properties.minLabelPosition=.1,E}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.heightXXS,state:function(R,F){if(R instanceof AxisRendererX){var E=R.states.create(F);return E.properties.disabled=!0,E}return null}});var CategoryAxisBreak=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="CategoryAxisBreak",E.properties.startLocation=.5,E.properties.endLocation=.5,E.applyTheme(),E}return Object.defineProperty(F.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(E){this.setPropertyValue("startCategory",E)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(E){this.setPropertyValue("endCategory",E)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startValue",{get:function(){var E=this.getPropertyValue("startCategory");return E?this.axis.categoryToIndex(E):this.getPropertyValue("startValue")},set:function(E){this.setPropertyValue("startValue",E)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endValue",{get:function(){var E=this.getPropertyValue("endCategory");return E?this.axis.categoryToIndex(E):this.getPropertyValue("endValue")},set:function(E){this.setPropertyValue("endValue",E)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(E){this.setPropertyValue("startLocation",E)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(E){this.setPropertyValue("endLocation",E)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),F}(AxisBreak);registry.registeredClasses.CategoryAxisBreak=CategoryAxisBreak;var CategoryAxisDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.seriesDataItems={},E.className="CategoryAxisDataItem",E.text="{category}",E.locations.category=0,E.locations.endCategory=1,E.deltaPosition=0,E.applyTheme(),E}return Object.defineProperty(F.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(E){var V=this.properties.category;this.setProperty("category",E),hasValue(V)&&V!=E&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(E){this.setProperty("endCategory",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(E){E!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",E),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),F}(AxisDataItem),CategoryAxis=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.dataItemsByCategory=new Dictionary,E.className="CategoryAxis",E.axisFieldName="category",E._lastDataItem=E.createDataItem(),E._lastDataItem.component=E,E._disposers.push(E._lastDataItem),E.applyTheme();var V=E.dataItemsByCategory;return E.addDisposer(E.mainDataSet.events.on("removed",function(U){V.removeKey(U.oldValue.category)})),E}return F.prototype.createDataItem=function(){return new CategoryAxisDataItem},F.prototype.createAxisBreak=function(){return new CategoryAxisBreak},F.prototype.processSeriesDataItem=function(E,V){R.prototype.processSeriesDataItem.call(this,E,V);var U=E["category"+this.axisLetter];if(hasValue(U)){var W=this.dataItemsByCategory.getKey(U);if(W){var Y=E.component.uid,G=W.seriesDataItems[Y];G||(G=[],W.seriesDataItems[Y]=G),G.push(E)}}else E.component.dataItems.remove(E)},F.prototype.validateDataRange=function(){var E=this;R.prototype.validateDataRange.call(this),each(this._series.iterator(),function(V){if(V.xAxis instanceof F&&V.yAxis instanceof F)V.invalidateDataRange();else{var U=E.positionToIndex(E.start),W=E.positionToIndex(E.end);W>=E.dataItems.length&&W--;for(var Y=V.uid,G=void 0,X=void 0,K=U;K<=W;K++){var Z=E.dataItems.getIndex(K);if(Z){var J=Z.seriesDataItems[Y];if(J)for(var Q=0;Q<J.length;Q++){var ee=J[Q];if(ee){var te=ee.index;(!isNumber(G)||te<G)&&(G=te),(!isNumber(X)||te>X)&&(X=te)}}}}isNumber(G)?V.startIndex=G:V.start=E.start,isNumber(X)?V.endIndex=X+1:V.end=E.end,E._axisBreaks&&E._axisBreaks.length>0&&V.invalidateDataRange()}})},F.prototype.validate=function(){var E=this;R.prototype.validate.call(this);var V=this.dataItems.length,U=fitToRange(Math.floor(this.start*V-1),0,V),W=fitToRange(Math.ceil(this.end*V),0,V);this.renderer.invalid&&this.renderer.validate();var Y=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),G=Math.min(this.dataItems.length,Math.ceil((W-U)/Y));if(this._startIndex=Math.floor(U/G)*G,this._endIndex=Math.ceil(this.end*V),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=G,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),U=max$2(0,this._startIndex-this._frequency),W=min$2(this.dataItems.length,this._endIndex+this._frequency);for(var X=0,K=0;K<U;K++){var Z=this.dataItems.getIndex(K);Z.__disabled=!0}for(var K=W,J=this.dataItems.length;K<J;K++){var Z=this.dataItems.getIndex(K);Z.__disabled=!0}for(var K=U;K<W;K++)if(K<this.dataItems.length){var Z=this.dataItems.getIndex(K);if(K/this._frequency==Math.round(K/this._frequency)){var Q=this.isInBreak(K);Q||(this.appendDataItem(Z),this.validateDataElement(Z,X)),X++}else Z.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,X+1,this.dataItems.length),this._axisBreaks){var ee=this._axisBreaks;ee.each(function(te){var ie=te.adjustedStartValue,ne=te.adjustedEndValue;if(intersect({start:ie,end:ne},{start:E._startIndex,end:E._endIndex})){for(var ae=ie;ae<=ne;ae++){var se=E.dataItems.getIndex(ae);se.__disabled=!0}var oe=fitToRange(Math.ceil(E._frequency/te.breakSize),1,ne-ie),le=0;if(te.breakSize>0)for(var ae=ie;ae<=ne;ae=ae+oe){var se=E.dataItems.getIndex(ae);se.__disabled=!1,E.appendDataItem(se),E.validateDataElement(se,le),le++}}})}this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},F.prototype.validateDataElement=function(E,V,U){R.prototype.validateDataElement.call(this,E),E.itemIndex=this._axisItemCount,this._axisItemCount++;var W=this.renderer;isNumber(U)||(U=this.categoryToIndex(E.category));var Y=this.categoryToIndex(E.endCategory);isNumber(Y)||(Y=U);var G=this.indexToPosition(U,E.locations.category),X=this.indexToPosition(Y,E.locations.endCategory);E.position=G;var K,Z,J;E.isRange&&(K=Y,Z=this.indexToPosition(U,E.locations.category),J=this.indexToPosition(K,E.locations.endCategory)),E.point=W.positionToPoint(G);var Q=E.tick;Q&&!Q.disabled&&W.updateTickElement(Q,G,X);var ee=E.grid;ee&&!ee.disabled&&W.updateGridElement(ee,G,X);var te=E.label;te&&!te.disabled&&((!E.isRange||te.text==null)&&(E.text=E.text),W.updateLabelElement(te,G,X),(W instanceof AxisRendererY&&E.label.measuredWidth>this.ghostLabel.measuredWidth||W instanceof AxisRendererX&&E.label.measuredHeight>this.ghostLabel.measuredHeight)&&(E.label.html?this.ghostLabel.html=E.label.currentText:this.ghostLabel.text=E.label.currentText));var ie=E.axisFill;ie&&!ie.disabled&&(E.isRange||(K=U+this._frequency,Z=this.indexToPosition(U,ie.location),J=this.indexToPosition(K,ie.location)),W.updateFillElement(ie,Z,J),E.isRange||this.fillRule(E,V)),E.bullet&&W.updateBullet(E.bullet,G,X);var ne=E.mask;ne&&W.updateFillElement(ne,Z,J)},F.prototype.disposeData=function(){this.dataItemsByCategory.clear(),R.prototype.disposeData.call(this)},F.prototype.processDataItem=function(E,V){E&&(R.prototype.processDataItem.call(this,E,V),hasValue(E.category)&&this.dataItemsByCategory.setKey(E.category,E))},F.prototype.getDataItem=function(E){var V=E[this.dataFields.category];if(hasValue(V)){var U=this.dataItemsByCategory.getKey(V);return U||this.dataItems.create()}},F.prototype.indexToPosition=function(E,V){isNumber(V)||(V=.5);var U=this.startIndex,W=this.endIndex,Y=this.adjustDifference(U,W),G=this.startLocation,X=this.endLocation;if(Y-=G,Y-=1-X,this._axisBreaks){var K=this._axisBreaks;eachContinue(K.iterator(),function(Q){var ee=Q.adjustedStartValue,te=Q.adjustedEndValue;if(E<U||!isNumber(ee)||!isNumber(te))return!1;if(intersect({start:ee,end:te},{start:U,end:W})){ee=Math.max(U,ee),te=Math.min(W,te);var ie=Q.breakSize;E>te?U+=(te-ee)*(1-ie):E<ee||(E=ee+(E-ee)*ie)}return!0})}var Z=0,J=this.dataItems.getIndex(E);return J&&(Z=J.deltaPosition),round$2(Z+(E+V-G-U)/Y,5)},F.prototype.categoryToPosition=function(E,V){var U=this.categoryToIndex(E);return this.indexToPosition(U,V)},F.prototype.categoryToPoint=function(E,V){var U=this.categoryToPosition(E,V),W=this.renderer.positionToPoint(U),Y=this.renderer.positionToAngle(U);return{x:W.x,y:W.y,angle:Y}},F.prototype.anyToPoint=function(E,V){return this.categoryToPoint(E,V)},F.prototype.anyToPosition=function(E,V){return this.categoryToPosition(E,V)},F.prototype.categoryToIndex=function(E){if(hasValue(E)){var V=this.dataItemsByCategory.getKey(E);if(V)return V.index}},F.prototype.zoomToCategories=function(E,V){this.zoomToIndexes(this.categoryToIndex(E),this.categoryToIndex(V)+1)},F.prototype.getAnyRangePath=function(E,V,U,W){var Y=this.categoryToPosition(E,U),G=this.categoryToPosition(V,W);return this.getPositionRangePath(Y,G)},F.prototype.roundPosition=function(E,V){var U=this.positionToIndex(E);return this.indexToPosition(U,V)},F.prototype.getFirstSeriesDataItem=function(E,V){for(var U=0;U<E.dataItems.length;U++){var W=E.dataItems.getIndex(U);if(E.xAxis==this&&W.categoryX==V||E.yAxis==this&&W.categoryY==V)return W}},F.prototype.getLastSeriesDataItem=function(E,V){for(var U=E.dataItems.length-1;U>=0;U--){var W=E.dataItems.getIndex(U);if(E.xAxis==this&&W.categoryX==V||E.yAxis==this&&W.categoryY==V)return W}},F.prototype.getSeriesDataItemByCategory=function(E,V){var U=this,W;return V.dataItems.each(function(Y){V.xAxis==U?Y.categoryX==E&&(W=Y):V.yAxis==U&&Y.categoryY==E&&(W=Y)}),W},F.prototype.getSeriesDataItem=function(E,V,U){var W=this;if(isNumber(V)){var Y=this.positionToIndex(V);Y>=this.dataItems.length&&Y--;var G=this.dataItems.getIndex(Y);if(G){var X=G.category,K,Z=E.dataItems.getIndex(Y);return Z&&(E.xAxis==this&&Z.categoryX==X||E.yAxis==this&&Z.categoryY==X)?Z:(E.dataItems.each(function(J){E.xAxis==W&&J.categoryX==X&&(K||(K=J),Math.abs(Y-K.index)>Math.abs(Y-J.index)&&(K=J)),E.yAxis==W&&J.categoryY==X&&(K||(K=J),Math.abs(Y-K.index)>Math.abs(Y-J.index)&&(K=J))}),K)}}},F.prototype.getX=function(E,V,U,W,Y){var G=this.getPositionX(E,V,U,W,Y);return isNaN$1(G)?this.basePoint.x:this.renderer.positionToPoint(G).x},F.prototype.getPositionX=function(E,V,U,W,Y){var G;return hasValue(V)&&(G=this.categoryToPosition(E.categories[V],U)),Y&&(G=fitToRange(G,Y.start,Y.end)),G},F.prototype.getY=function(E,V,U,W,Y){var G=this.getPositionY(E,V,U,W,Y);return isNaN$1(G)?this.basePoint.y:this.renderer.positionToPoint(G).y},F.prototype.getPositionY=function(E,V,U,W,Y){var G;return hasValue(V)&&(G=this.categoryToPosition(E.categories[V],U)),Y&&(G=fitToRange(G,Y.start,Y.end)),G},F.prototype.getAngle=function(E,V,U,W,Y){var G=this.categoryToPosition(E.categories[V],U);return Y&&(G=fitToRange(G,Y.start,Y.end)),this.positionToAngle(G)},F.prototype.getCellStartPosition=function(E){return this.roundPosition(E,0)},F.prototype.getCellEndPosition=function(E){return this.roundPosition(E,1)},F.prototype.getTooltipText=function(E){var V=this.dataItems.getIndex(this.positionToIndex(E));if(V)return this.tooltipDataItem=V,this.tooltip.dataItem=V,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",V.category):V.category},F.prototype.positionToIndex=function(E){E=round$2(E,10),E<0&&(E=0),E>1&&(E=1);var V=this.startIndex,U=this.endIndex,W=U-V-this.startLocation-(1-this.endLocation);E+=1/W*this.startLocation;var Y=null;if(this._axisBreaks){var G=this._axisBreaks;eachContinue(G.iterator(),function(X){var K=X.startPosition,Z=X.endPosition,J=X.adjustedStartValue,Q=X.adjustedEndValue;J=max$2(J,V),Q=min$2(Q,U);var ee=X.breakSize;if(W-=(Q-J)*(1-ee),E>Z)V+=(Q-J)*(1-ee);else if(!(E<K)){var te=(E-K)/(Z-K);return Y=J+Math.round(te*(Q-J)),!1}return!0})}return isNumber(Y)||(Y=Math.floor(E*W+V)),Y>=this.dataItems.length&&(Y=this.dataItems.length-1),Y},F.prototype.positionToCategory=function(E){return this.getPositionLabel(E)},F.prototype.getPositionLabel=function(E){var V=this.dataItems.getIndex(this.positionToIndex(E));if(V)return V.category},Object.defineProperty(F.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),F.prototype.initRenderer=function(){R.prototype.initRenderer.call(this);var E=this.renderer;E.baseGrid.disabled=!0},Object.defineProperty(F.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(E){this.setPropertyValue("sortBySeries",E,!0)},enumerable:!0,configurable:!0}),F.prototype.processConfig=function(E){E&&hasValue(E.sortBySeries)&&isString$1(E.sortBySeries)&&(this.map.hasKey(E.sortBySeries)?E.sortBySeries=this.map.getKey(E.sortBySeries):(this.addDelayedMap("sortBySeries",E.sortBySeries),delete E.sortBySeries)),R.prototype.processConfig.call(this,E)},F}(Axis);registry.registeredClasses.CategoryAxis=CategoryAxis;registry.registeredClasses.CategoryAxisDataItem=CategoryAxisDataItem;var XYSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="XYSeriesDataItem",E.values.customValue={},E.values.valueX={stack:0},E.values.valueY={stack:0},E.values.openValueX={},E.values.openValueY={},E.values.dateX={},E.values.dateY={},E.values.openDateX={},E.values.openDateY={},E.setLocation("dateX",.5,0),E.setLocation("dateY",.5,0),E.setLocation("categoryX",.5,0),E.setLocation("categoryY",.5,0),E.applyTheme(),E}return Object.defineProperty(F.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(E){this.setValue("valueX",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(E){this.setValue("customValue",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(E){this.setValue("valueY",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(E){this.setDate("dateX",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(E){this.setDate("dateY",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(E){this.setCategory("categoryX",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(E){this.setCategory("categoryY",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(E){this.setValue("openValueX",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(E){this.setValue("openValueY",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(E){this.setDate("openDateX",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(E){this.setDate("openDateY",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(E){this.setCategory("openCategoryX",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(E){this.setCategory("openCategoryY",E)},enumerable:!0,configurable:!0}),F.prototype.getMin=function(E,V,U){var W=this,Y;return isNumber(U)||(U=0),each$2(E,function(G){var X;V?X=W.getWorkingValue(G):X=W.getValue(G),X+=U,(X<Y||!isNumber(Y))&&(Y=X)}),Y},F.prototype.getMax=function(E,V,U){var W=this,Y;return isNumber(U)||(U=0),each$2(E,function(G){var X;V?X=W.getWorkingValue(G):X=W.getValue(G),X+=U,(X>Y||!isNumber(Y))&&(Y=X)}),Y},F}(SeriesDataItem),XYSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.groupFields={},E._xAxis=new MutableValueDisposer,E._yAxis=new MutableValueDisposer,E._xValueFields=[],E._yValueFields=[],E._baseInterval={},E.dataGrouped=!1,E.usesShowFields=!1,E._dataSetChanged=!1,E._maxxX=1e5,E._maxxY=1e5,E._propertiesChanged=!1,E.outOfRange=!1,E.className="XYSeries",E.isMeasured=!1,E.groupFields.valueX="close",E.groupFields.valueY="close",E.groupFields.customValue="close",E.groupFields.openValueX="open",E.groupFields.openValueY="open",E.cursorTooltipEnabled=!0,E.cursorHoverEnabled=!0,E.excludeFromTotal=!1,E.mainContainer.mask=new Sprite,E.mainContainer.mask.setElement(E.paper.add("path")),E.stacked=!1,E.snapTooltip=!1,E._showBullets=!1,E.tooltip.pointerOrientation="horizontal",E.properties.stackToNegative=!0,E.hideTooltipWhileZooming=!0,E.setPropertyValue("maskBullets",!0),E.tooltip.events.on("hidden",function(){E.returnBulletDefaultState()},void 0,!1),E._disposers.push(E._xAxis),E._disposers.push(E._yAxis),E.observe(visualProperties,function(){E.inited&&(E._propertiesChanged=!0,E.legendDataItem&&(E.legendDataItem.childrenCreated=!1),E.chart&&E.chart.legend&&E.chart.legend.invalidateDataItems(),E.invalidate())},void 0,!1),E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},F.prototype.createDataItem=function(){return new XYSeriesDataItem},F.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},F.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},F.prototype.validateData=function(){this._baseInterval={};var E=this.dataFields;if(E.valueYShow||E.openValueXShow||E.openValueXShow||E.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),R.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!hasValue(this.dataFields[this._xField])||!hasValue(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},F.prototype.processDataItem=function(E,V){try{R.prototype.processDataItem.call(this,E,V),this.xAxis.processSeriesDataItem(E,"X"),this.yAxis.processSeriesDataItem(E,"Y"),this.setInitialWorkingValues(E)}catch(U){this._chart&&this._chart.raiseCriticalError(U)}},F.prototype.updateDataItem=function(E){R.prototype.updateDataItem.call(this,E),this.xAxis.processSeriesDataItem(E,"X"),this.yAxis.processSeriesDataItem(E,"Y")},F.prototype.setInitialWorkingValues=function(E){},F.prototype.disposeData=function(){R.prototype.disposeData.call(this);var E=this.xAxis,V=this.yAxis;if(E){var U=this.dataItemsByAxis.getKey(E.uid);U&&U.clear(),E instanceof CategoryAxis&&this.clearCatAxis(E)}if(V){var W=this.dataItemsByAxis.getKey(V.uid);W&&W.clear(),V instanceof CategoryAxis&&this.clearCatAxis(V)}},F.prototype.clearCatAxis=function(E){var V=this.uid;E.dataItems.each(function(U){U.seriesDataItems[V]&&(U.seriesDataItems[V]=[])})},F.prototype.defineFields=function(){var E=this.xAxis,V=this.yAxis;if(E&&V){var U=E.axisFieldName,W=U+"X",Y="open"+capitalize(U)+"X",G=V.axisFieldName,X=G+"Y",K="open"+capitalize(G)+"Y";this._xField=W,this._yField=X,this.dataFields[Y]&&(this._xOpenField=Y),this.dataFields[K]&&(this._yOpenField=K),!this.dataFields[K]&&this.baseAxis==V&&(this._yOpenField=X),!this.dataFields[Y]&&this.baseAxis==E&&(this._xOpenField=W),this.stacked&&this.baseAxis==E&&(this._xOpenField=W),this.stacked&&this.baseAxis==V&&(this._yOpenField=X),E instanceof CategoryAxis&&V instanceof CategoryAxis&&(this._yOpenField||(this._yOpenField=X)),this._xValueFields=[],this._yValueFields=[],this.addValueField(E,this._xValueFields,this._xField),this.addValueField(E,this._xValueFields,this._xOpenField),this.addValueField(V,this._yValueFields,this._yField),this.addValueField(V,this._yValueFields,this._yOpenField)}},F.prototype.addValueField=function(E,V,U){E instanceof ValueAxis&&hasValue(this.dataFields[U])&&V.indexOf(U)==-1&&V.push(U)},F.prototype.setCategoryAxisField=function(E,V){hasValue(this.dataFields[E])||(this.dataFields[E]=V.dataFields.category)},F.prototype.setDateAxisField=function(E,V){hasValue(this.dataFields[E])||(this.dataFields[E]=V.dataFields.date)},F.prototype.afterDraw=function(){R.prototype.afterDraw.call(this),this.createMask()},F.prototype.createMask=function(){if(this.mainContainer.mask){var E=this.getMaskPath();each(this.axisRanges.iterator(),function(V){V.axisFill.fillPath&&(V.axisFill.validate(),E+=V.axisFill.fillPath)}),this.mainContainer.mask.path=E}},F.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?rectToPath({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},F.prototype.getAxisField=function(E){if(E==this.xAxis)return this.xField;if(E==this.yAxis)return this.yField},F.prototype.validateDataItems=function(){var E=this.chart;E&&(this._maxxX=max$2(1e5,E.plotContainer.maxWidth*2),this._maxxY=max$2(1e5,E.plotContainer.maxHeight*2));var V=this.xAxis,U=this.yAxis;V&&U&&(V.updateAxisBySeries(),U.updateAxisBySeries()),R.prototype.validateDataItems.call(this),V&&U&&(V.postProcessSeriesDataItems(this),U.postProcessSeriesDataItems(this))},F.prototype.validateDataRange=function(){var E=this.xAxis,V=this.yAxis;E&&V&&(E.dataRangeInvalid&&E.validateDataRange(),V.dataRangeInvalid&&V.validateDataRange()),R.prototype.validateDataRange.call(this)},F.prototype.validate=function(){var E=this.xAxis,V=this.yAxis;if(E&&V){E.invalid&&E.validate(),V.invalid&&V.validate(),this.y=V.pixelY,this.x=E.pixelX,this._showBullets=!0;var U=this.minBulletDistance;isNumber(U)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<U&&(this._showBullets=!1)}if(this.updateTooltip(),!(E instanceof DateAxis&&E.groupData&&!this.dataGrouped||V instanceof DateAxis&&V.groupData&&!this.dataGrouped)){R.prototype.validate.call(this);var W=this.chart,Y=this.maskBullets;W&&Y&&W.className=="XYChart"&&((W.leftAxesContainer.layout=="vertical"||W.rightAxesContainer.layout=="vertical")&&(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),(W.topAxesContainer.layout=="horizontal"||W.bottomAxesContainer.layout=="horizontal")&&(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))}},Object.defineProperty(F.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var E=this.chart.xAxes.getIndex(0);if(!E)throw Error("There are no X axes on chart.");this.xAxis=E}return this._xAxis.get()}},set:function(E){this.setXAxis(E)},enumerable:!0,configurable:!0}),F.prototype.setXAxis=function(E){var V=this._xAxis.get();V!=E&&(V&&(this.dataItemsByAxis.removeKey(V.uid),this._xAxis.dispose(),V.series.removeValue(this)),this._xAxis.set(E,E.registerSeries(this)),this.dataItemsByAxis.setKey(E.uid,new Dictionary),this.invalidateData())},Object.defineProperty(F.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var E=this.chart.yAxes.getIndex(0);if(!E)throw Error("There are no Y axes on chart.");this.yAxis=E}return this._yAxis.get()}},set:function(E){this.setYAxis(E)},enumerable:!0,configurable:!0}),F.prototype.setYAxis=function(E){var V=this._yAxis.get();V!=E&&(V&&(this.dataItemsByAxis.removeKey(V.uid),this._yAxis.dispose(),V.series.removeValue(this)),this._yAxis.set(E,E.registerSeries(this)),E.chart instanceof XYChart&&E.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(E.uid,new Dictionary),this.invalidateData())},Object.defineProperty(F.prototype,"baseAxis",{get:function(){var E=this.xAxis,V=this.yAxis;return!this._baseAxis&&E&&V&&(V instanceof DateAxis&&(this._baseAxis=V),E instanceof DateAxis&&(this._baseAxis=E),V instanceof CategoryAxis&&(this._baseAxis=V),E instanceof CategoryAxis&&(this._baseAxis=E),this._baseAxis||(this._baseAxis=E)),this._baseAxis},set:function(E){this._baseAxis!=E&&(this._baseAxis=E,this.invalidate())},enumerable:!0,configurable:!0}),F.prototype.addData=function(E,V,U){R.prototype.addData.call(this,E,V,U);var W=this.scrollbarSeries;W&&(this.scrollbarSeries.addData(E,V,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom)},F.prototype.setData=function(E){R.prototype.setData.call(this,E),this.scrollbarSeries&&this.scrollbarSeries.setData(E)},F.prototype.setDataSet=function(E){var V=R.prototype.setDataSet.call(this,E);if(V){this._dataSetChanged=!0;var U=this.dataItems;if(this.resetExtremes(),U&&U.length>0){var W=this.xAxis,Y=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),W instanceof DateAxis&&W==this.baseAxis&&(this._tmin.setKey(W.uid,U.getIndex(0).dateX.getTime()),this._tmax.setKey(W.uid,U.getIndex(U.length-1).dateX.getTime()),this.dispatch("extremeschanged")),Y instanceof DateAxis&&Y==this.baseAxis&&(this._tmin.setKey(Y.uid,U.getIndex(0).dateY.getTime()),this._tmax.setKey(Y.uid,U.getIndex(U.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return V},F.prototype.processValues=function(E){R.prototype.processValues.call(this,E);var V=this.xAxis,U=this.yAxis;if(!(!V||!U)){var W=this.dataItems,Y=1/0,G=-1/0,X=1/0,K=-1/0,Z=this.startIndex,J=this.endIndex,Q=Z,ee=J;E||(Z=0,J=this.dataItems.length);for(var te=Z;te<J;te++){var ie=W.getIndex(te);this.getStackValue(ie,E);var ne=ie.getValue("valueX","stack"),ae=ie.getValue("valueY","stack");E||(ne=ie.getValue("valueX","stackTrue"),ae=ie.getValue("valueY","stackTrue")),Y=min$2(ie.getMin(this._xValueFields,E,ne),Y),X=min$2(ie.getMin(this._yValueFields,E,ae),X),G=max$2(ie.getMax(this._xValueFields,E,ne),G),K=max$2(ie.getMax(this._yValueFields,E,ae),K),this.stacked&&(this.baseAxis==V&&(ae<X&&(X=ae),ae>K&&(K=ae)),this.baseAxis==U&&(ne<Y&&(Y=ne),ne>G&&(G=ne)))}V.processSeriesDataItems(),U.processSeriesDataItems();var se=V.uid,oe=U.uid;if(this.xAxis instanceof ValueAxis&&(Y==1/0||G==-1/0)){this._smin.setKey(se,void 0),this._smax.setKey(se,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof ValueAxis&&(X==1/0||K==-1/0)){this._smin.setKey(oe,void 0),this._smax.setKey(oe,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(!E&&(this._tmin.getKey(se)!=Y||this._tmax.getKey(se)!=G||this._tmin.getKey(oe)!=X||this._tmax.getKey(oe)!=K)){this._tmin.setKey(se,Y),this._tmax.setKey(se,G),this._tmin.setKey(oe,X),this._tmax.setKey(oe,K);var le=this.stackedSeries;le&&(le.isDisposed()?this.stackedSeries=void 0:le.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(Z!=Q||J!=ee){Y=1/0,G=-1/0,X=1/0,K=-1/0;for(var te=Q;te<ee;te++){var ie=W.getIndex(te);this.getStackValue(ie,E);var ne=ie.getValue("valueX","stack"),ae=ie.getValue("valueY","stack");E||(ne=ie.getValue("valueX","stackTrue"),ae=ie.getValue("valueY","stackTrue")),Y=min$2(ie.getMin(this._xValueFields,E,ne),Y),X=min$2(ie.getMin(this._yValueFields,E,ae),X),G=max$2(ie.getMax(this._xValueFields,E,ne),G),K=max$2(ie.getMax(this._yValueFields,E,ae),K),this.stacked&&(this.baseAxis==V&&(ae<X&&(X=ae),ae>K&&(K=ae)),this.baseAxis==U&&(ne<Y&&(Y=ne),ne>G&&(G=ne)))}}if(this.xAxis instanceof ValueAxis&&(Y==1/0||G==-1/0)){this._smin.setKey(se,void 0),this._smax.setKey(se,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof ValueAxis&&(X==1/0||K==-1/0)){this._smin.setKey(oe,void 0),this._smax.setKey(oe,void 0),this.dispatchImmediately("selectionextremeschanged");return}if((this._smin.getKey(se)!=Y||this._smax.getKey(se)!=G||this._smin.getKey(oe)!=X||this._smax.getKey(oe)!=K)&&(this._smin.setKey(se,Y),this._smax.setKey(se,G),this._smin.setKey(oe,X),this._smax.setKey(oe,K),this.appeared||this.start!=0||this.end!=1||this.dataItems!=this.mainDataSet)){var ue=!1;if(U instanceof ValueAxis&&!(U instanceof DateAxis)){var ce=this._tmin.getKey(oe);(!isNumber(ce)||(this.usesShowFields||this._dataSetChanged||V instanceof DateAxis&&V.groupData&&this.isShowing)&&X<ce||this.stackedSeries&&!this.isHidden&&!E)&&(this._tmin.setKey(oe,X),ue=!0);var he=this._tmax.getKey(oe);(!isNumber(he)||(this.usesShowFields||this._dataSetChanged||V instanceof DateAxis&&V.groupData&&this.isShowing)&&K>he||this.stackedSeries&&!this.isHidden&&!E)&&(this._tmax.setKey(oe,K),ue=!0)}if(V instanceof ValueAxis&&!(V instanceof DateAxis)){var ce=this._tmin.getKey(se);(!isNumber(ce)||(this.usesShowFields||this._dataSetChanged||U instanceof DateAxis&&U.groupData&&this.isShowing)&&Y<ce||this.stackedSeries&&!this.isHidden&&!E)&&(this._tmin.setKey(se,Y),ue=!0);var he=this._tmax.getKey(se);(!isNumber(he)||(this.usesShowFields||this._dataSetChanged||U instanceof DateAxis&&U.groupData&&this.isShowing)&&G>he||this.stackedSeries&&!this.isHidden&&!E)&&(this._tmax.setKey(se,G),ue=!0)}ue&&this.dispatchImmediately("extremeschanged"),this.start==0&&this.end==1&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!E&&this.stacked&&this.processValues(!0)}},F.prototype.hideTooltip=function(E){R.prototype.hideTooltip.call(this,E),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},F.prototype.showTooltipAtPosition=function(E,V){var U;if(this.visible&&!this.isHiding&&!this.isShowing){var W=this._xAxis.get(),Y=this._yAxis.get();W==this.baseAxis&&(U=W.getSeriesDataItem(this,W.toAxisPosition(E),this.snapTooltip)),Y==this.baseAxis&&(U=Y.getSeriesDataItem(this,Y.toAxisPosition(V),this.snapTooltip));var G=this.showTooltipAtDataItem(U);if(G)return G;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},F.prototype.getAdjustedXLocation=function(E,V,U){return E.locations[V]},F.prototype.getAdjustedYLocation=function(E,V,U){return E.locations[V]},F.prototype.showTooltipAtDataItem=function(E){var V,U,W=this.chart.cursor;if(W&&W.hideSeriesTooltipsOnSelection&&W.selection.visible&&W.downPoint){this.hideTooltip();return}if(this.returnBulletDefaultState(E),E&&E.visible){if(this.updateLegendValue(E),this.cursorTooltipEnabled){this.tooltipDataItem=E;var Y=this.tooltipXField,G=this.tooltipYField;if(hasValue(E[Y])&&hasValue(E[G])){var X=this.getPoint(E,Y,G,this.getAdjustedXLocation(E,Y),this.getAdjustedYLocation(E,G));if(X&&!(this.chart.className=="XYChart"&&(X.y<-1||X.y>this.yAxis.pixelHeight+1||X.x<-1||X.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=X.x,this.tooltipY=X.y,this._prevTooltipDataItem!=E&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:E}),this._prevTooltipDataItem=E),this.cursorHoverEnabled)try{for(var K=__values(E.sprites),Z=K.next();!Z.done;Z=K.next()){var J=Z.value;!J.parent.visible||J.isHidden||J.__disabled||J.disabled||J.isHiding||(J.interactions.isRealHover||(J.dispatchImmediately("over"),J.interactions.isRealHover=!0),J.isHover=!0)}}catch(Q){V={error:Q}}finally{try{Z&&!Z.done&&(U=K.return)&&U.call(K)}finally{if(V)throw V.error}}return this.showTooltip()?spritePointToSvg({x:X.x,y:X.y},this):void 0}}}}else this.updateLegendValue(E,!0)},F.prototype.returnBulletDefaultState=function(E){var V,U;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=E)try{for(var W=__values(this._prevTooltipDataItem.sprites),Y=W.next();!Y.done;Y=W.next()){var G=Y.value;if(G.isDisposed())this._prevTooltipDataItem=void 0;else{var X=G.interactions.isRealHover;G.isHover=!1,X&&G.dispatchImmediately("out")}}}catch(K){V={error:K}}finally{try{Y&&!Y.done&&(U=W.return)&&U.call(W)}finally{if(V)throw V.error}}},F.prototype.shouldCreateBullet=function(E,V){var U=V.xField;hasValue(U)||(U=this.xField);var W=V.yField;if(hasValue(W)||(W=this.yField),this.xAxis instanceof ValueAxis&&!E.hasValue([U])||this.yAxis instanceof ValueAxis&&!E.hasValue([W]))return!1;if(V.disabled){var Y=V.propertyFields.disabled,G=E.dataContext;return!!(G&&G[Y]===!1)}return!0},F.prototype.updateTooltip=function(){!this.hideTooltipWhileZooming&&this.tooltip&&!this.tooltip.isHidden&&!this.isHiding&&!this.isHidden&&this.tooltipDataItem&&this.showTooltipAtDataItem(this.tooltipDataItem)},F.prototype.positionBullet=function(E){R.prototype.positionBullet.call(this,E);var V=E.dataItem,U=E.xField;hasValue(U)||(U=this.xField);var W=E.yField;hasValue(W)||(W=this.yField);var Y=this.xAxis,G=this.yAxis;if(Y instanceof ValueAxis&&!V.hasValue([U])||G instanceof ValueAxis&&!V.hasValue([W]))E.visible=!1;else{var X=this.getBulletLocationX(E,U),K=this.getBulletLocationY(E,W),Z=this.getPoint(V,U,W,X,K);if(Z){var J=this.xOpenField,Q=this.yOpenField,ee=void 0,te=void 0;if(Y instanceof DateAxis){isNumber(X)||(X=0);var ie=void 0,ne=V.getWorkingValue(U);J?ie=V.getWorkingValue(J):Y==this.baseAxis&&(ie=Y.baseValue),isNumber(ie)||(ie=ne);var ae=V.getValue("valueX","stack");if(ie+=ae,ne+=ae,ie==ne){var se=Y.baseInterval,oe=Y.dateFormatter;ie=round$1(new Date(ie),se.timeUnit,se.count,oe.firstDayOfWeek,oe.utc,void 0,oe.timezoneMinutes,oe.timezone).getTime(),ne=add(new Date(ie),se.timeUnit,se.count,oe.utc).getTime()}var le=void 0;Y==this.baseAxis?le=ie+(ne-ie)*X:le=ie+(ne-ie)*(1-X),ee=Y.valueToPosition(le)}else if(Y instanceof ValueAxis){isNumber(X)||(X=0);var ie=void 0,ne=V.getWorkingValue(U);J?ie=V.getWorkingValue(J):ie=Y.baseValue;var ae=V.getValue("valueX","stack");ie+=ae,ne+=ae;var le=ie+(ne-ie)*(1-X);ee=Y.valueToPosition(le)}else if(Y instanceof CategoryAxis){var ue=this.getAdjustedXLocation(V,U,E.locationX),ce=this.getAdjustedXLocation(V,J,E.locationX);ee=Y.categoryToPosition(V[U],ue);var he=void 0;J&&(he=Y.categoryToPosition(V[J],ce)),isNumber(he)||(he=1),ee=he+(ee-he)*X}if(G instanceof DateAxis){isNumber(K)||(K=0);var ie=void 0,ne=V.getWorkingValue(W);Q?ie=V.getWorkingValue(Q):G==this.baseAxis&&(ie=G.baseValue),isNumber(ie)||(ie=ne);var ae=V.getValue("valueY","stack");if(ie+=ae,ne+=ae,ie==ne){var se=G.baseInterval,oe=G.dateFormatter;ie=round$1(new Date(ie),se.timeUnit,se.count,oe.firstDayOfWeek,oe.utc,void 0,oe.timezoneMinutes,oe.timezone).getTime(),ne=add(new Date(ie),se.timeUnit,se.count,oe.utc).getTime()}var le=void 0;G==this.baseAxis?le=ie+(ne-ie)*K:le=ie+(ne-ie)*(1-K),te=G.valueToPosition(le)}else if(G instanceof ValueAxis){isNumber(K)||(K=0);var ie=void 0,ne=V.getWorkingValue(W);Q?ie=V.getWorkingValue(Q):ie=G.baseValue;var ae=V.getValue("valueY","stack");ie+=ae,ne+=ae;var le=ie+(ne-ie)*(1-K);te=G.valueToPosition(le)}else if(G instanceof CategoryAxis){te=G.categoryToPosition(V[W],K);var de=this.getAdjustedYLocation(V,W,E.locationY),fe=this.getAdjustedYLocation(V,Q,E.locationY);te=G.categoryToPosition(V[W],de);var Te=void 0;Q&&(Te=G.categoryToPosition(V[Q],fe)),isNumber(Te)||(Te=1),te=Te+(te-Te)*K}E.visible=!0,this.positionBulletReal(E,ee,te)}else E.visible=!1}},F.prototype.positionBulletReal=function(E,V,U){E.x=this.xAxis.renderer.positionToPoint(V,U).x,E.y=this.yAxis.renderer.positionToPoint(U,V).y},F.prototype.getBulletLocationX=function(E,V){var U=E.locationX,W=E.dataItem;return isNumber(U)||(U=W.workingLocations[V]),U},F.prototype.getBulletLocationY=function(E,V){var U=E.locationY,W=E.dataItem;return isNumber(U)||(U=W.workingLocations[V]),U},F.prototype.updateStacking=function(){var E=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(V){V.baseAxis==E.baseAxis&&(V.stackedSeries=void 0,V.invalidateDataItems(),V.invalidateProcessedData())})},Object.defineProperty(F.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(E){if(this.setPropertyValue("stacked",E,!0)){this.updateStacking();var V=this.xAxis,U=this.yAxis;if(!E){var W;V!=this.baseAxis&&V instanceof ValueAxis&&(W=this.xField),U!=this.baseAxis&&U instanceof ValueAxis&&(W=this.yField),W&&this.dataItems.each(function(Y){Y.setCalculatedValue(W,0,"stack"),Y.setCalculatedValue(W,0,"stackTrue")})}}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(E){this.setPropertyValue("snapTooltip",E)},enumerable:!0,configurable:!0}),F.prototype.show=function(E){var V=this;this.isHidden&&(this.appeared&&this.xAxis instanceof DateAxis&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof DateAxis&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0)));var U;this.xAxis instanceof ValueAxis&&this.xAxis!=this.baseAxis&&(U=this._xValueFields),this.yAxis instanceof ValueAxis&&this.yAxis!=this.baseAxis&&(U=this._yValueFields);var W=this.startIndex,Y=this.endIndex,G=0,X=this.defaultState.transitionDuration;isNumber(E)&&(X=E);var K;each(indexed(this.dataItems.iterator()),function(J){var Q=J[0],ee=J[1],te=X;(Q<V.startIndex-10||Q>V.endIndex+10)&&(te=0,G=0),V.sequencedInterpolation&&te>0&&(G=V.sequencedInterpolationDelay*Q+X*(Q-W)/(Y-W)),K=ee.show(te,G,U)}),this.dataSets.each(function(J,Q){Q!=V.dataItems&&Q.each(function(ee){ee.events.disable(),ee.show(0,0,U),ee.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(J){J.events.disable(),J.show(0,0,U),J.events.enable()});var Z=R.prototype.show.call(this,E);return K&&!K.isFinished()&&(Z=K),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),Z},F.prototype.hide=function(E){var V=this,U,W,Y=this.xAxis;Y instanceof ValueAxis&&Y!=this.baseAxis&&(U=this._xValueFields,this.stacked||Y.minZoomed<Y.baseValue&&Y.maxZoomed>Y.baseValue||this.stackedSeries?W=Y.baseValue:W=Y.min);var G=this.yAxis;G instanceof ValueAxis&&G!=this.baseAxis&&(U=this._yValueFields,this.stacked||G.minZoomed<G.baseValue&&G.maxZoomed>G.baseValue||this.stackedSeries?W=G.baseValue:W=G.min);var X=this.startIndex,K=this.endIndex,Z=this.hiddenState.transitionDuration;isNumber(E)&&(Z=E);var J=0,Q;each(indexed(this.dataItems.iterator()),function(te){var ie=te[0],ne=te[1],ae=Z;(ie<V.startIndex-10||ie>V.endIndex+10)&&(ae=0),ae==0?ne.hide(0,0,W,U):(V.sequencedInterpolation&&ae>0&&(J=V.sequencedInterpolationDelay*ie+Z*(ie-X)/(K-X)),Q=ne.hide(ae,J,W,U))}),this.dataSets.each(function(te,ie){ie!=V.dataItems&&ie.each(function(ne){ne.events.disable(),ne.hide(0,0,W,U),ne.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(te){te.events.disable(),te.hide(0,0,W,U),te.events.enable()});var ee=R.prototype.hide.call(this,Z);return ee&&!ee.isFinished()&&ee.delay(J),Q&&!Q.isFinished()&&(ee=Q),this.appeared&&this.dispatch("selectionextremeschanged"),this.validateDataElements(),ee},F.prototype.handleDataItemWorkingValueChange=function(E,V){R.prototype.handleDataItemWorkingValueChange.call(this,E,V);var U=this.baseAxis.series;each(U.iterator(),function(W){(W.stacked||W.stackedSeries)&&W.invalidateProcessedData()})},F.prototype.getStackValue=function(E,V){var U=this,W=this.xAxis,Y=this.yAxis;if(!(!this.stacked||!W||!Y)){var G=this.chart,X=G.series.indexOf(this),K;if(W!=this.baseAxis&&W instanceof ValueAxis&&(K=this.xField),Y!=this.baseAxis&&Y instanceof ValueAxis&&(K=this.yField),!K)return;E.setCalculatedValue(K,0,"stack"),E.setCalculatedValue(K,0,"stackTrue"),eachContinue(G.series.range(0,X).backwards().iterator(),function(Z){if(Z.xAxis==W&&Z.yAxis==Y&&Z.className==U.className){Z.stackedSeries=U;var J=Z.dataItems.getIndex(E.index);if(J&&J.hasValue(U._xValueFields)&&J.hasValue(U._yValueFields)){var Q=E.getValue(K),ee=void 0,te=J.getValue(K,"stackTrue");te==null&&(te=0);var ie=J.getValue(K)+te;if(ee=J.getWorkingValue(K)+J.getValue(K,"stack"),U.stackToNegative){if(Q>=0&&ie>=0||Q<0&&ie<0)return E.setCalculatedValue(K,ee,"stack"),E.setCalculatedValue(K,ie,"stackTrue"),!1;if(!Z.stacked)return!1}else return E.setCalculatedValue(K,ee,"stack"),E.setCalculatedValue(K,ie,"stackTrue"),!1}else if(!Z.stacked)return!1}return!0})}},Object.defineProperty(F.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(E){this.setPropertyValue("stackToNegative",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(E){this._tooltipXField=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(E){this._tooltipYField=E},enumerable:!0,configurable:!0}),F.prototype.min=function(E){return this._tmin.getKey(E.uid)},F.prototype.max=function(E){return this._tmax.getKey(E.uid)},F.prototype.selectionMin=function(E){var V=this._smin.getKey(E.uid);return V},F.prototype.selectionMax=function(E){var V=this._smax.getKey(E.uid);return V},F.prototype.processConfig=function(E){if(E){if(hasValue(E.baseAxis)&&isString$1(E.baseAxis)&&(this.map.hasKey(E.baseAxis)?E.baseAxis=this.map.getKey(E.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+E.baseAxis+'" found for `baseAxis`.'),delete E.baseAxis)),hasValue(E.xAxis)&&isString$1(E.xAxis)&&(this.map.hasKey(E.xAxis)?E.xAxis=this.map.getKey(E.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+E.xAxis+'" found for `xAxis`.'),delete E.xAxis)),hasValue(E.yAxis)&&isString$1(E.yAxis)&&(this.map.hasKey(E.yAxis)?E.yAxis=this.map.getKey(E.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+E.yAxis+'" found for `yAxis`.'),delete E.yAxis)),hasValue(E.axisRanges)&&isArray$1(E.axisRanges))for(var V=0,U=E.axisRanges.length;V<U;V++){var W=E.axisRanges[V];hasValue(W.type)||(W.type="AxisDataItem"),hasValue(W.axis)&&isString$1(W.axis)&&this.map.hasKey(W.axis)?W.component=this.map.getKey(W.axis):hasValue(W.component)&&isString$1(W.component)&&this.map.hasKey(W.component)&&(W.component=this.map.getKey(W.component))}(!hasValue(E.dataFields)||!isObject$1(E.dataFields))&&this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}R.prototype.processConfig.call(this,E)},F.prototype.getPoint=function(E,V,U,W,Y,G,X){if(this.xAxis&&this.yAxis){var K=this.xAxis.getX(E,V,W),Z=this.yAxis.getY(E,U,Y);return K=fitToRange(K,-this._maxxX,this._maxxX),Z=fitToRange(Z,-this._maxxY,this._maxxY),{x:K,y:Z}}},F.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var E="";each$1(this.dataFields,function(V,U){E+="{"+V+"} "}),this.itemReaderText=E,this._itemReaderTextChanged=!1}},Object.defineProperty(F.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(E){this.setPropertyValue("cursorTooltipEnabled",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(E){this.setPropertyValue("cursorHoverEnabled",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(E){this.setPropertyValue("excludeFromTotal",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(E){this.setPropertyValue("hideTooltipWhileZooming",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(E){this.setPropertyValue("maskBullets",E);var V=this.chart;V&&(E?this.bulletsContainer.parent=V.bulletsContainer:this.bulletsContainer.parent=V.axisBulletsContainer)},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){this.groupFields=copyProperties(E.groupFields,{}),R.prototype.copyFrom.call(this,E)},F.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),R.prototype.dispose.call(this)},F}(Series);registry.registeredClasses.XYSeries=XYSeries;registry.registeredClasses.XYSeriesDataItem=XYSeriesDataItem;var XYChartScrollbar=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._chart=new MutableValueDisposer,E.className="XYChartScrollbar";var V=new InterfaceColorSet;E.padding(0,0,0,0);var U=E.createChild(XYChart);if(U.shouldClone=!1,U.margin(0,0,0,0),U.padding(0,0,0,0),U.interactionsEnabled=!1,E._scrollbarChart=U,!isIE()){var W=new DesaturateFilter;W.filterUnits="userSpaceOnUse",U.plotContainer.filters.push(W)}E._disposers.push(E._scrollbarChart),E.minHeight=60,E.minWidth=60;var Y=E.createChild(Sprite);Y.shouldClone=!1,Y.setElement(E.paper.add("path")),Y.fill=V.getFor("background"),Y.fillOpacity=.8,Y.interactionsEnabled=!1,Y.isMeasured=!1,Y.toBack(),E._unselectedOverlay=Y,E._disposers.push(E._unselectedOverlay),U.toBack(),E.background.cornerRadius(0,0,0,0);var G=E.thumb.background;G.cornerRadius(0,0,0,0),G.fillOpacity=0,G.fill=V.getFor("background");var X=G.states.getKey("hover");X&&(X.properties.fillOpacity=.2);var K=G.states.getKey("down");return K&&(K.properties.fillOpacity=.4),E._disposers.push(E._chart),E.applyTheme(),E}return Object.defineProperty(F.prototype,"series",{get:function(){return this._series||(this._series=new List,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),F.prototype.handleSeriesAdded=function(E){var V=this,U=E.newValue;if(!(!U.xAxis||!U.yAxis)){var W=this.scrollbarChart;W.zoomOutButton.disabled=!0,this.chart=U.chart,W.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,W.language.locale=this.chart.language.locale;var Y=!0,G=!0;each(this.series.iterator(),function(oe){oe!=U&&(oe.xAxis==U.xAxis&&V.scrollbarChart.xAxes.length>0&&(Y=!1),oe.yAxis==U.yAxis&&V.scrollbarChart.yAxes.length>0&&(G=!1))}),U.events.on("beforedisposed",function(){V.series.removeValue(U)});var X=new InterfaceColorSet,K=U.clone();if(isIE()&&(K.stroke=color$1("#aaaaaa"),K.fill=K.stroke,K.propertyFields.fill=void 0,K.propertyFields.stroke=void 0),U.scrollbarSeries=K,Y){var Z=U.xAxis.clone();W.xAxes.moveValue(Z),Z.title.disabled=!0,Z.rangeChangeDuration=0;var J=Z.renderer;J.ticks.template.disabled=!0,J.inside=!0,J.labels.template.inside=!0,J.line.strokeOpacity=0,J.minLabelPosition=.02,J.maxLabelPosition=.98,J.line.disabled=!0,J.axisFills.template.disabled=!0,J.baseGrid.disabled=!0,J.grid.template.strokeOpacity=.05,J.minWidth=void 0,J.minHeight=void 0,J.padding(0,0,0,0),J.chart=W,J.margin(0,0,0,0),Z.width=percent(100);var Q=J.labels.template;if(Q.fillOpacity=.5,Z.maxZoomCount=void 0,Z.minZoomCount=void 0,Z instanceof DateAxis){var ee=Z,te=U.xAxis;ee.groupCount=te.groupCount*5,ee.min=void 0,ee.max=void 0,this._disposers.push(ee.clonedFrom.events.on("extremeschanged",function(){isNumber(ee.clonedFrom.minDefined)&&(ee.min=ee.clonedFrom.minDefined),isNumber(ee.clonedFrom.maxDefined)&&(ee.max=ee.clonedFrom.maxDefined)},void 0,!1))}else if(Z instanceof ValueAxis){var ie=Z;ie.min=void 0,ie.max=void 0,isNumber(ie.clonedFrom.minDefined)||(ie.min=void 0),isNumber(ie.clonedFrom.maxDefined)||(ie.max=void 0),this._disposers.push(ie.clonedFrom.events.on("extremeschanged",function(){isNumber(ie.clonedFrom.minDefined)&&(ie.min=ie.clonedFrom.min),isNumber(ie.clonedFrom.maxDefined)&&(ie.max=ie.clonedFrom.max)},void 0,!1))}K.xAxis=Z}else this.scrollbarChart.xAxes.each(function(oe){oe.clonedFrom==U.xAxis&&(K.xAxis=oe)});if(G){var ne=U.yAxis.clone();W.yAxes.moveValue(ne),ne.title.disabled=!0,ne.rangeChangeDuration=0;var J=ne.renderer;J.ticks.template.disabled=!0,J.inside=!0,J.labels.template.inside=!0,J.line.strokeOpacity=0,J.minLabelPosition=.02,J.maxLabelPosition=.98,J.line.disabled=!0,J.axisFills.template.disabled=!0,J.grid.template.stroke=X.getFor("background"),J.baseGrid.disabled=!0,J.grid.template.strokeOpacity=.05,J.minWidth=void 0,J.minHeight=void 0,J.chart=W,J.padding(0,0,0,0),J.margin(0,0,0,0),ne.height=percent(100);var Q=J.labels.template;if(Q.fillOpacity=.5,K.yAxis=ne,ne.maxZoomCount=void 0,ne.minZoomCount=void 0,ne instanceof DateAxis){var ae=ne;ae.min=void 0,ae.max=void 0;var te=U.yAxis;ne.groupCount=te.groupCount*5,this._disposers.push(ae.clonedFrom.events.on("extremeschanged",function(){isNumber(ae.clonedFrom.minDefined)&&(ae.min=ae.clonedFrom.minDefined),isNumber(ae.clonedFrom.maxDefined)&&(ae.max=ae.clonedFrom.maxDefined)}))}else if(ne instanceof ValueAxis){var se=ne;se.min=void 0,se.max=void 0,isNumber(se.clonedFrom.minDefined)||(se.min=void 0),isNumber(se.clonedFrom.maxDefined)||(se.max=void 0),this._disposers.push(se.clonedFrom.events.on("extremeschanged",function(){isNumber(se.clonedFrom.minDefined)&&(se.min=se.clonedFrom.minDefined),isNumber(se.clonedFrom.maxDefined)&&(se.max=se.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(oe){oe.clonedFrom==U.yAxis&&(K.yAxis=oe)});K.rangeChangeDuration=0,K.interpolationDuration=0,K.defaultState.transitionDuration=0,K.showOnInit=!1,this._disposers.push(K.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(U.events.on("datavalidated",function(){K.data!=U.data&&(K.data=U.data)},void 0,!1)),K.defaultState.properties.visible=!0,W.series.push(K),this.updateByOrientation()}},F.prototype.updateByOrientation=function(){var E=this;this._scrollbarChart&&(each(this._scrollbarChart.xAxes.iterator(),function(V){var U=V.renderer;E.orientation=="vertical"?(U.grid.template.disabled=!0,U.labels.template.disabled=!0,U.minGridDistance=10):(U.grid.template.disabled=!1,U.labels.template.disabled=!1,U.minGridDistance=V.clonedFrom.renderer.minGridDistance)}),each(this._scrollbarChart.yAxes.iterator(),function(V){var U=V.renderer;E.orientation=="horizontal"?(U.grid.template.disabled=!0,U.labels.template.disabled=!0,U.minGridDistance=10):(U.grid.template.disabled=!1,U.labels.template.disabled=!1,U.minGridDistance=V.clonedFrom.renderer.minGridDistance)}))},F.prototype.handleSeriesRemoved=function(E){var V=E.oldValue,U=this.scrollbarChart;U.series.each(function(W){W&&W.clonedFrom==V&&U.series.removeValue(W)}),U.series.length==0&&(U.xAxes.clear(),U.yAxes.clear());try{V.events.off("validated",this.zoomOutAxes,this)}catch{}},Object.defineProperty(F.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"chart",{get:function(){return this._chart.get()},set:function(E){this._chart.get()!==E&&(this._chart.set(E,E.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),F.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},F.prototype.zoomOutAxes=function(){var E=this.scrollbarChart;each(E.xAxes.iterator(),function(V){V.zoom({start:0,end:1},!0,!0)}),each(E.yAxes.iterator(),function(V){V.zoom({start:0,end:1},!0,!0)})},F.prototype.updateThumb=function(E){if(E===void 0&&(E=!0),R.prototype.updateThumb.call(this,E),this._unselectedOverlay){var V=this.thumb,U=V.pixelX||0,W=V.pixelY||0,Y=V.pixelWidth||0,G=V.pixelHeight||0,X="";this.orientation=="horizontal"?(X=rectToPath({x:-1,y:0,width:U,height:G}),X+=rectToPath({x:U+Y,y:0,width:(this.pixelWidth||0)-U-Y,height:G})):(X=rectToPath({x:0,y:0,width:Y,height:W}),X+=rectToPath({x:0,y:W+G,width:Y,height:(this.pixelHeight||0)-W-G})),this._unselectedOverlay.path=X}},F.prototype.processConfig=function(E){if(E&&hasValue(E.series)&&isArray$1(E.series))for(var V=0,U=E.series.length;V<U;V++){var W=E.series[V];if(hasValue(W)&&isString$1(W))if(this.map.hasKey(W))E.series[V]=this.map.getKey(W);else throw Error("XYChartScrollbar error: Series with id `"+W+"` does not exist.")}R.prototype.processConfig.call(this,E)},F}(Scrollbar);registry.registeredClasses.XYChartScrollbar=XYChartScrollbar;var XYChartDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="XYChartDataItem",E.applyTheme(),E}return F}(SerialChartDataItem),XYChart=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._axisRendererX=AxisRendererX,E._axisRendererY=AxisRendererY,E._seriesPoints=[],E.className="XYChart",E.maskBullets=!0,E.arrangeTooltips=!0;var V=E.chartContainer;V.layout="vertical",E.padding(15,15,15,15);var U=V.createChild(Container);U.shouldClone=!1,U.layout="vertical",U.width=percent(100),U.zIndex=1,E.topAxesContainer=U;var W=V.createChild(Container);W.shouldClone=!1,W.layout="horizontal",W.width=percent(100),W.height=percent(100),W.zIndex=0,E.yAxesAndPlotContainer=W;var Y=V.createChild(Container);Y.shouldClone=!1,Y.width=percent(100),Y.layout="vertical",Y.zIndex=1,E.bottomAxesContainer=Y;var G=W.createChild(Container);G.shouldClone=!1,G.layout="horizontal",G.height=percent(100),G.contentAlign="right",G.events.on("transformed",E.updateXAxesMargins,E,!1),G.zIndex=1,E.leftAxesContainer=G;var X=W.createChild(Container);X.shouldClone=!1,X.height=percent(100),X.width=percent(100),X.background.fillOpacity=0,E.plotContainer=X,E.mouseWheelBehavior="none",E._cursorContainer=X;var K=W.createChild(Container);K.shouldClone=!1,K.layout="horizontal",K.height=percent(100),K.zIndex=1,K.events.on("transformed",E.updateXAxesMargins,E,!1),E.rightAxesContainer=K,E.seriesContainer.parent=X,E.bulletsContainer.parent=X;var Z=X.createChild(ZoomOutButton);Z.shouldClone=!1,Z.align="right",Z.valign="top",Z.zIndex=Number.MAX_SAFE_INTEGER,Z.marginTop=5,Z.marginRight=5,Z.hide(0),E.zoomOutButton=Z;var J=E.plotContainer.createChild(Container);return J.shouldClone=!1,J.width=percent(100),J.height=percent(100),J.isMeasured=!1,J.zIndex=4,J.layout="none",E.axisBulletsContainer=J,E._bulletMask=E.plotContainer,E.events.on("beforedatavalidated",function(){E.series.each(function(Q){Q.dataGrouped=!1,Q._baseInterval={}})},E,!1),E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},F.prototype.draw=function(){R.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},F.prototype.updatePlotElements=function(){each(this.series.iterator(),function(E){E.invalidate()})},F.prototype.validateData=function(){this._parseDataFrom==0&&(each(this.xAxes.iterator(),function(E){E.dataChangeUpdate()}),each(this.yAxes.iterator(),function(E){E.dataChangeUpdate()}),each(this.series.iterator(),function(E){E.dataChangeUpdate()})),R.prototype.validateData.call(this)},F.prototype.updateXAxesMargins=function(){var E=this.leftAxesContainer.measuredWidth,V=this.rightAxesContainer.measuredWidth,U=this.bottomAxesContainer;(U.paddingLeft!=E||U.paddingRight!=V)&&(U.paddingLeft=E,U.paddingRight=V);var W=this.topAxesContainer;(W.paddingLeft!=E||W.paddingRight!=V)&&(W.paddingLeft=E,W.paddingRight=V)},F.prototype.reinit=function(){R.prototype.reinit.call(this),this.series.each(function(E){E.appeared=!1})},F.prototype.handleXAxisChange=function(E){this.updateXAxis(E.target)},F.prototype.handleYAxisChange=function(E){this.updateYAxis(E.target)},F.prototype.processXAxis=function(E){var V=E.newValue;V.chart=this,V.renderer||(V.renderer=new this._axisRendererX,V.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),V.axisLetter="X",V.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),V.dataProvider=this,this.updateXAxis(V.renderer),this.processAxis(V)},F.prototype.processYAxis=function(E){var V=E.newValue;V.chart=this,V.renderer||(V.renderer=new this._axisRendererY,V.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),V.axisLetter="Y",V.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),V.dataProvider=this,this.updateYAxis(V.renderer),this.processAxis(V)},F.prototype.handleXAxisRangeChange=function(){var E=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,E,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,E)},F.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var E=!1;eachContinue(this.xAxes.iterator(),function(V){if(V.toggleZoomOutButton){if(V.maxZoomCount>0){var U=V.maxZoomFactor/V.maxZoomCount;if(round$2(V.end-V.start,3)<1/U)return E=!0,!1}else if(round$2(V.start,3)>0||round$2(V.end,3)<1)return E=!0,!1}return!0}),eachContinue(this.yAxes.iterator(),function(V){if(V.toggleZoomOutButton){if(V.maxZoomCount>0){var U=V.maxZoomFactor/V.maxZoomCount;if(round$2(V.end-V.start,3)<1/U)return E=!0,!1}else if(round$2(V.start,3)>0||round$2(V.end,3)<1)return E=!0,!1;return!0}}),this.seriesAppeared||(E=!1),E?this.zoomOutButton.show():this.zoomOutButton.hide()}},F.prototype.seriesAppeared=function(){var E=!1;return each(this.series.iterator(),function(V){if(!V.appeared)return E=!1,!1}),E},F.prototype.handleYAxisRangeChange=function(){var E=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,E,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,E)},F.prototype.updateScrollbar=function(E,V){E&&(E.skipRangeEvents(),E.start=V.start,E.end=V.end)},F.prototype.getCommonAxisRange=function(E){var V,U;return E.each(function(W){if(!(!W.zoomable||W instanceof ValueAxis&&W.syncWithAxis)){var Y=W.start,G=W.end;W.renderer.inversed&&(Y=1-W.end,G=1-W.start),(!isNumber(V)||Y<V)&&(V=Y),(!isNumber(U)||G>U)&&(U=G)}}),{start:V,end:U}},F.prototype.updateXAxis=function(E){var V=E.axis;E.opposite?(V.parent=this.topAxesContainer,V.toFront()):(V.parent=this.bottomAxesContainer,V.toBack()),V.renderer&&V.renderer.processRenderer()},F.prototype.updateYAxis=function(E){var V=E.axis;E.opposite?(V.parent=this.rightAxesContainer,V.toBack()):(V.parent=this.leftAxesContainer,V.toFront()),V.renderer&&V.renderer.processRenderer()},F.prototype.processAxis=function(E){var V=this;E instanceof CategoryAxis&&this._dataUsers.moveValue(E);var U=E.renderer;U.gridContainer.parent=this.plotContainer,U.gridContainer.toBack(),U.breakContainer.parent=this.plotContainer,U.breakContainer.toFront(),U.breakContainer.zIndex=10,E.addDisposer(new Disposer(function(){V.dataUsers.removeValue(E)})),U.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(E.events.on("positionchanged",function(){var W=spritePointToSprite({x:0,y:0},E,V.axisBulletsContainer);E.renderer instanceof AxisRendererY&&(U.bulletsContainer.y=W.y),E.renderer instanceof AxisRendererX&&(U.bulletsContainer.x=W.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){V.inited&&(E.invalidateDataItems(),V.updateSeriesMasks())},E,!1)},F.prototype.updateSeriesMasks=function(){isIE()&&this.series.each(function(E){var V=E.mainContainer.mask;E.mainContainer.mask=void 0,E.mainContainer.mask=V})},F.prototype.handleSeriesRemoved=function(E){var V=E.oldValue;V&&(V.xAxis&&(V.xAxis.series.removeValue(V),V.xAxis.invalidateProcessedData()),V.yAxis&&(V.yAxis.series.removeValue(V),V.yAxis.invalidateProcessedData()),this.series.each(function(U){U.resetExtremes()})),R.prototype.handleSeriesRemoved.call(this,E)},Object.defineProperty(F.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new List,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new ListDisposer(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),F.prototype.handleAxisRemoval=function(E){var V=E.oldValue;this.dataUsers.removeValue(V),V.autoDispose&&V.dispose()},Object.defineProperty(F.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new List,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new ListDisposer(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),F.prototype.handleSeriesAdded=function(E){try{R.prototype.handleSeriesAdded.call(this,E);var V=E.newValue;(this.xAxes.length==0||this.yAxes.length==0)&&(registry.removeFromInvalidComponents(V),V.dataInvalid=!1),V.xAxis,V.yAxis,V.maskBullets=V.maskBullets,V.fill==null&&(this.patterns?(hasValue(V.stroke)||(V.stroke=this.colors.next()),V.fill=this.patterns.next(),hasValue(V.fillOpacity)&&(V.fill.backgroundOpacity=V.fillOpacity),V.stroke instanceof Color$1&&(V.fill.stroke=V.stroke,V.fill.fill=V.stroke)):V.fill=this.colors.next()),hasValue(V.stroke)||(V.stroke=V.fill)}catch(U){this.raiseCriticalError(U)}},Object.defineProperty(F.prototype,"cursor",{get:function(){return this._cursor},set:function(E){this._cursor!=E&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=E,E&&(this._disposers.push(E),E.chart=this,E.shouldClone=!1,E.parent=this._cursorContainer,E.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),E.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),E.events.on("zoomended",this.handleCursorZoomEnd,this,!1),E.events.on("panstarted",this.handleCursorPanStart,this,!1),E.events.on("panning",this.handleCursorPanning,this,!1),E.events.on("panended",this.handleCursorPanEnd,this,!1),E.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),E.events.on("hidden",this.handleHideCursor,this,!1),E.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),F.prototype.handleCursorPositionChange=function(){var E=this.cursor;if(E.visible&&!E.isHiding){var V=this.cursor.xPosition,U=this.cursor.yPosition;this.showSeriesTooltip({x:V,y:U});var W=[],Y=E.snapToSeries;if(Y&&!E.downPoint){Y instanceof XYSeries&&(Y=[Y]);var G=[];each$2(Y,function(K){if(!K.isHidden&&!K.isHiding){var Z=K.xAxis,J=K.yAxis;Z instanceof ValueAxis&&!(Z instanceof DateAxis)&&J instanceof ValueAxis&&!(J instanceof DateAxis)?(K.dataItems.each(function(Q){G.push(Q)}),move(W,K.yAxis),move(W,K.xAxis)):(K.baseAxis==K.xAxis&&(move(W,K.yAxis),G.push(Z.getSeriesDataItem(K,Z.toAxisPosition(V),!0))),K.baseAxis==K.yAxis&&(move(W,K.xAxis),G.push(J.getSeriesDataItem(K,J.toAxisPosition(U),!0))))}});var X=this.getClosest(G,V,U);X&&(this.series.each(function(K){var Z=X.component;K!=Z&&(K.hideTooltip(),K.xAxis!=Z.xAxis&&(K.xAxis.hideTooltip(),W.push(K.xAxis)),K.yAxis!=Z.yAxis&&(K.yAxis.hideTooltip(),W.push(K.yAxis)))}),X.component.showTooltipAtDataItem(X),E.handleSnap(X.component))}this._seriesPoints=[],this._cursorXPosition!=V&&this.showAxisTooltip(this.xAxes,V,W),this._cursorYPosition!=U&&this.showAxisTooltip(this.yAxes,U,W),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},F.prototype.getClosest=function(E,V,U){var W=1/0,Y;return eachContinue$2(E,function(G){if(G){var X=G.component.xAxis,K=G.component.yAxis,Z=X.positionToCoordinate(X.toGlobalPosition(X.toAxisPosition(V))),J=K.positionToCoordinate(K.toGlobalPosition(K.toAxisPosition(U))),Q=G.component.xField,ee=G.component.yField;if(X instanceof ValueAxis&&!isNumber(G.getValue(Q))||K instanceof ValueAxis&&!isNumber(G.getValue(ee)))return!0;var te=X.positionToCoordinate(X.toGlobalPosition(X.getPositionX(G,Q,G.locations[Q],"valueX"))),ie=K.positionToCoordinate(K.toGlobalPosition(K.getPositionY(G,ee,G.locations[ee],"valueY"))),ne=Math.sqrt(Math.pow(Z-te,2)+Math.pow(J-ie,2));return ne<W&&(W=ne,Y=G),!0}}),Y},F.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},F.prototype.updateSeriesLegend=function(){each(this.series.iterator(),function(E){E.updateLegendValue()})},F.prototype.hideObjectTooltip=function(E){each(E.iterator(),function(V){V.cursorTooltipEnabled&&V.hideTooltip(0)})},F.prototype.showSeriesTooltip=function(E){var V=this;if(!E){this.series.each(function(W){W.hideTooltip()});return}var U=[];this.series.each(function(W){if(!(W.xAxis instanceof DateAxis&&W.xAxis.snapTooltip||W.yAxis instanceof DateAxis&&W.yAxis.snapTooltip)){var Y=W.showTooltipAtPosition(E.x,E.y);Y&&(W.tooltip.setBounds(spriteRectToSvg({x:0,y:0,width:V.pixelWidth,height:V.pixelHeight},V)),U.push({series:W,point:Y}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(U)},F.prototype.sortSeriesTooltips=function(E){if(E.length>0){var V=this.cursor;if(V&&isNumber(V.maxTooltipDistance)){var U=spritePointToSvg({x:V.point.x,y:V.point.y},V),W,Y,G=1/0;each$2(E,function(xe){var pe=xe.series,_e=xe.point;if(_e){var Ce={x:_e.x,y:_e.y},be=Math.abs(getDistance(Ce,U));be<G&&(Y=Ce,G=be,W=pe)}});var X=[];W&&(each$2(E,function(xe){if(Math.abs(getDistance(xe.point,Y))<=Math.abs(V.maxTooltipDistance))X.push({series:xe.series,point:xe.point});else{var pe=xe.series.tooltipDataItem;pe&&each$2(pe.sprites,function(_e){_e.isHover=!1,_e.handleOutReal()}),xe.series.hideTooltip(0)}}),V.maxTooltipDistance<0&&(X.length>0&&each$2(X,function(xe){W!=xe.series&&xe.series.hideTooltip(0)}),X=[{series:W,point:Y}])),E=X}var K=spritePointToSvg({x:-.5,y:-.5},this.plotContainer),Z=spritePointToSvg({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),J=0,Q=[];each$2(E,function(xe){var pe=xe.point;pe&&isInRectangle(pe,{x:K.x,y:K.y,width:Z.x-K.x,height:Z.y-K.y})&&(Q.push({point:pe,series:xe.series}),J+=pe.y)}),E=Q;var ee=this.series.getIndex(0),te=!1;ee&&ee.yAxis&&ee.yAxis.renderer.inversed&&(te=!0),te?E.sort(function(xe,pe){return order(xe.point.y,pe.point.y)}):(E.sort(function(xe,pe){return order(pe.point.y,xe.point.y)}),E.reverse());var ie=J/E.length,ne=svgPointToDocument({x:0,y:0},this.svgContainer.SVGContainer).y;if(E.length>0){var ae=K.y,se=Z.y;spritePointToDocument({x:0,y:ae},this);var oe=!1;if(ie>ae+(se-ae)/2)for(var le=se,ue=E.length-1;ue>=0;ue--){var ce=E[ue].series,he=ce.tooltip,de=E[ue].point.y;if(he.setBounds({x:0,y:-ne,width:this.pixelWidth,height:le+ne}),he.invalid&&he.validate(),he.toBack(),le=spritePointToSvg({x:0,y:he.label.pixelY-he.pixelY+de-he.pixelMarginTop},he).y,le<-ne){oe=!0;break}}if(ie<=ae+(se-ae)/2||oe)for(var fe=ae,ue=0,Te=E.length;ue<Te;ue++){var ce=E[ue].series,de=E[ue].point.y,he=ce.tooltip;he.setBounds({x:0,y:fe,width:this.pixelWidth,height:se}),he.invalid&&he.validate(),he.toBack(),fe=spritePointToSvg({x:0,y:he.label.pixelY+he.label.measuredHeight-he.pixelY+de+he.pixelMarginBottom},he).y}}}},F.prototype.showAxisTooltip=function(E,V,U){var W=this;each(E.iterator(),function(Y){(!U||U.indexOf(Y)==-1)&&(W.dataItems.length>0||Y.dataItems.length>0)&&Y.showTooltipAtPosition(V)})},F.prototype.getUpdatedRange=function(E,V){if(!!E){var U,W,Y=E.renderer.inversed;Y?(invertRange(V),U=1-E.end,W=1-E.start):(U=E.start,W=E.end);var G=W-U;return{start:U+V.start*G,end:U+V.end*G}}},F.prototype.handleCursorZoomEnd=function(E){var V=this.cursor,U=V.behavior;if(U=="zoomX"||U=="zoomXY"){var W=V.xRange;W&&this.xAxes.length>0&&(W=this.getUpdatedRange(this.xAxes.getIndex(0),W),W.priority="start",this.zoomAxes(this.xAxes,W))}if(U=="zoomY"||U=="zoomXY"){var Y=V.yRange;Y&&this.yAxes.length>0&&(Y=this.getUpdatedRange(this.yAxes.getIndex(0),Y),Y.priority="start",this.zoomAxes(this.yAxes,Y))}this.handleHideCursor()},F.prototype.handleCursorPanStart=function(E){var V=this.xAxes.getIndex(0);V&&(this._panStartXRange={start:V.start,end:V.end},V.renderer.inversed&&(this._panStartXRange=invertRange(this._panStartXRange)));var U=this.yAxes.getIndex(0);U&&(this._panStartYRange={start:U.start,end:U.end},U.renderer.inversed&&(this._panStartYRange=invertRange(this._panStartYRange)))},F.prototype.handleCursorPanEnd=function(E){var V=this.cursor,U=V.behavior;if(this._panEndXRange&&(U=="panX"||U=="panXY")){var W=this._panEndXRange,Y=this._panStartXRange,G=0;W.start<0&&(G=W.start),Y.end>1?W.end>Y.end&&(G=W.end-Y.end):W.end>1&&(G=W.end-1),this.zoomAxes(this.xAxes,{start:W.start-G,end:W.end-G},!1,V.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&(U=="panY"||U=="panXY")){var W=this._panEndYRange,G=0;W.start<0&&(G=W.start),W.end>1&&(G=W.end-1),this.zoomAxes(this.yAxes,{start:W.start-G,end:W.end-G},!1,V.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0}},F.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},F.prototype.handleCursorPanning=function(E){var V=this.cursor,U=V.behavior,W=V.maxPanOut;if(this._panStartXRange&&(U=="panX"||U=="panXY")){var Y=this._panStartXRange,G=V.xRange,X=this.getCommonAxisRange(this.xAxes),K=Y.end-Y.start,Z=G.start*(X.end-X.start),J=Math.max(-W,Z+Y.start),Q=Math.min(Z+Y.end,1+W);J<=0&&(Q=J+K),Q>=1&&(J=Q-K);var ee={start:J,end:Q};this._panEndXRange=ee,this.zoomAxes(this.xAxes,ee,!1,!1,V.maxPanOut)}if(this._panStartYRange&&(U=="panY"||U=="panXY")){var Y=this._panStartYRange,G=V.yRange,X=this.getCommonAxisRange(this.yAxes),K=Y.end-Y.start,Z=G.start*(X.end-X.start),J=Math.max(-W,Z+Y.start),Q=Math.min(Z+Y.end,1+W);J<=0&&(Q=J+K),Q>=1&&(J=Q-K);var ee={start:J,end:Q};this._panEndYRange=ee,this.zoomAxes(this.yAxes,ee,!1,!1,V.maxPanOut)}this.handleHideCursor()},F.prototype.handleYAxisSet=function(E){},F.prototype.handleCursorZoomStart=function(E){},Object.defineProperty(F.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(E){var V=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=E,E&&(this._disposers.push(E),E.parent=this.topAxesContainer,E.shouldClone=!1,E.startGrip.exportable=!1,E.endGrip.exportable=!1,E.toBack(),E.orientation="horizontal",E.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",function(){return E.updateThumb(!1)},this,!1),E.adapter.add("positionValue",function(U){var W=V.xAxes.getIndex(0);return W&&(U.value=W.getPositionLabel(W.renderer.inversed?1-U.position:U.position)),U}),E.adapter.add("positionValueDirection",function(U){var W=V.xAxes.getIndex(0);return W&&(U.flipped=W.renderer.inversed),U}))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(E){var V=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=E,E&&(this._disposers.push(E),E.parent=this.rightAxesContainer,E.startGrip.exportable=!1,E.shouldClone=!1,E.endGrip.exportable=!1,E.toFront(),E.orientation="vertical",E.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",function(){return E.updateThumb(!1)},this,!1),E.adapter.add("positionValue",function(U){var W=V.yAxes.getIndex(0);return W&&(U.value=W.getPositionLabel(W.renderer.inversed?U.position:1-U.position)),U}),E.adapter.add("positionValueDirection",function(U){var W=V.yAxes.getIndex(0);return W&&(U.flipped=!W.renderer.inversed),U}))},enumerable:!0,configurable:!0}),F.prototype.handleXScrollbarChange=function(E){if(this.inited){var V=E.target,U=V.range;U.start==0&&(U.priority="start"),U.end==1&&(U.priority="end"),U=this.zoomAxes(this.xAxes,U),V.fixRange(U)}},F.prototype.handleYScrollbarChange=function(E){if(this.inited){var V=E.target,U=V.range;U.end==1&&(U.priority="end"),U.start==0&&(U.priority="start"),U=this.zoomAxes(this.yAxes,U),V.fixRange(U)}},F.prototype.zoomAxes=function(E,V,U,W,Y,G){var X={start:0,end:1};this.showSeriesTooltip();var K=V;return this.dataInvalid||each(E.iterator(),function(Z){var J=Z.maxZoomFactor;if(isNumber(Z.minZoomCount)&&(J=J/Z.minZoomCount),!(G&&1/(V.end-V.start)>=J)){if(Z.zoomable){if(Z.renderer.inversed?V=invertRange(K):V=K,Z.hideTooltip(0),W)if(Z instanceof CategoryAxis){var Q=Z.getCellEndPosition(0)-Z.getCellStartPosition(0);V.start=Z.roundPosition(V.start+Q/2-Z.startLocation*Q,Z.startLocation),V.end=Z.roundPosition(V.end-Q/2+(1-Z.endLocation)*Q,Z.endLocation)}else{var ee=1e-4;V.start=Z.roundPosition(V.start+ee,0,Z.startLocation),V.end=Z.roundPosition(V.end+ee,0,Z.endLocation)}var te=Z.zoom(V,U,U,Y);Z.renderer.inversed&&(te=invertRange(te)),X=te}}}),X},Object.defineProperty(F.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(E){this.setPropertyValue("maskBullets",E,!0)&&this.bulletsContainer&&(E?this.bulletsContainer.mask=this._bulletMask:this.bulletsContainer.mask=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(E){this.setPropertyValue("arrangeTooltips",E,!0)},enumerable:!0,configurable:!0}),F.prototype.handleWheel=function(E){var V=this.plotContainer,U=documentPointToSvg(E.point,this.htmlContainer,this.svgContainer.cssScale),W=svgPointToSprite(U,V),Y=E.shift.y;this.handleWheelReal(Y,this.mouseWheelBehavior,W)},F.prototype.handleHorizontalWheel=function(E){var V=this.plotContainer,U=documentPointToSvg(E.point,this.htmlContainer,this.svgContainer.cssScale),W=svgPointToSprite(U,V);this.handleWheelReal(E.shift.x,this.horizontalMouseWheelBehavior,W)},F.prototype.handleWheelReal=function(E,V,U){if(E!=0){var W=this.plotContainer,Y=this.getCommonAxisRange(this.xAxes),G=this.getCommonAxisRange(this.yAxes),X=.1,K=0;if(V=="panX"||V=="panXY"){var Z=this.xAxes.getIndex(0),J=!1,Q=X;Z instanceof CategoryAxis&&(Q=.5/((Y.end-Y.start)*Z.dataItems.length),J=!0),X=Math.max(.2,Q);var ee=Y.end-Y.start,te=Math.max(-K,Y.start+X*E/100*(Y.end-Y.start)),ie=Math.min(Y.end+X*E/100*(Y.end-Y.start),1+K);te<=0&&(ie=te+ee),ie>=1&&(te=ie-ee),this.zoomAxes(this.xAxes,{start:te,end:ie},void 0,J)}if(V=="panY"||V=="panXY"){var ne=this.yAxes.getIndex(0),Q=X,J=!1;ne instanceof CategoryAxis&&(Q=.5/((Y.end-Y.start)*ne.dataItems.length),J=!0),X=Math.max(.2,Q),E*=-1;var ae=G.end-G.start,se=Math.max(-K,G.start+X*E/100*(G.end-G.start)),oe=Math.min(G.end+X*E/100*(G.end-G.start),1+K);se<=0&&(oe=se+ae),oe>=1&&(se=oe-ae),this.zoomAxes(this.yAxes,{start:se,end:oe},void 0,J)}if(V=="zoomX"||V=="zoomXY"){var le=U.x/W.maxWidth,ue=this.xAxes.getIndex(0).toAxisPosition(le),te=Math.max(-K,Y.start-X*(Y.end-Y.start)*E/100*le);te=Math.min(te,ue);var ie=Math.min(Y.end+X*(Y.end-Y.start)*E/100*(1-le),1+K);ie=Math.max(ie,ue),this.zoomAxes(this.xAxes,{start:te,end:ie},void 0)}if(V=="zoomY"||V=="zoomXY"){var ce=U.y/W.maxHeight,he=this.yAxes.getIndex(0).toAxisPosition(ce),se=Math.max(-K,G.start-X*(G.end-G.start)*E/100*(1-ce));se=Math.min(se,he);var oe=Math.min(G.end+X*E/100*ce*(G.end-G.start),1+K);oe=Math.max(oe,he),this.zoomAxes(this.yAxes,{start:se,end:oe},void 0)}}},Object.defineProperty(F.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(E){this.setPropertyValue("mouseWheelBehavior",E)&&(E!="none"?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(E){this.setPropertyValue("horizontalMouseWheelBehavior",E)&&(E!="none"?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),F.prototype.dataSourceDateFields=function(E){var V=this;return E=R.prototype.dataSourceDateFields.call(this,E),each(this.series.iterator(),function(U){E=V.populateDataSourceFields(E,U.dataFields,["dateX","dateY","openDateX","openDateY"])}),E},F.prototype.dataSourceNumberFields=function(E){var V=this;return E=R.prototype.dataSourceDateFields.call(this,E),each(this.series.iterator(),function(U){E=V.populateDataSourceFields(E,U.dataFields,["valueX","valueY","openValueX","openValueY"])}),E},F.prototype.processConfig=function(E){if(E){var V=[],U=[];if(hasValue(E.xAxes)&&isArray$1(E.xAxes))for(var W=0,Y=E.xAxes.length;W<Y;W++)if(E.xAxes[W].type){if(hasValue(E.xAxes[W].axisRanges)){for(var G=0,X=E.xAxes[W].axisRanges.length;G<X;G++){var K=E.xAxes[W].axisRanges[G];hasValue(K.date)&&isString$1(K.date)&&(K.date=this.dateFormatter.parse(K.date)),hasValue(K.endDate)&&isString$1(K.endDate)&&(K.endDate=this.dateFormatter.parse(K.endDate))}V.push({axisRanges:E.xAxes[W].axisRanges,index:W}),delete E.xAxes[W].axisRanges}}else throw Error("[XYChart error] No type set for xAxes["+W+"].");if(hasValue(E.yAxes)&&isArray$1(E.yAxes))for(var W=0,Y=E.yAxes.length;W<Y;W++)if(E.yAxes[W].type){if(hasValue(E.yAxes[W].axisRanges)){for(var G=0,Z=E.yAxes[W].axisRanges.length;G<Z;G++){var K=E.yAxes[W].axisRanges[G];hasValue(K.date)&&isString$1(K.date)&&(K.date=this.dateFormatter.parse(K.date)),hasValue(K.endDate)&&isString$1(K.endDate)&&(K.endDate=this.dateFormatter.parse(K.endDate))}U.push({axisRanges:E.yAxes[W].axisRanges,index:W}),delete E.yAxes[W].axisRanges}}else throw Error("[XYChart error] No type set for yAxes["+W+"].");if(hasValue(E.series)&&isArray$1(E.series))for(var W=0,Y=E.series.length;W<Y;W++)E.series[W].type=E.series[W].type||"LineSeries";if(hasValue(E.cursor)&&!hasValue(E.cursor.type)&&(E.cursor.type="XYCursor"),hasValue(E.scrollbarX)&&!hasValue(E.scrollbarX.type)&&(E.scrollbarX.type="Scrollbar"),hasValue(E.scrollbarY)&&!hasValue(E.scrollbarY.type)&&(E.scrollbarY.type="Scrollbar"),R.prototype.processConfig.call(this,E),U.length)for(var W=0,Y=U.length;W<Y;W++)this.yAxes.getIndex(U[W].index).config={axisRanges:U[W].axisRanges};if(V.length)for(var W=0,Y=V.length;W<Y;W++)this.xAxes.getIndex(V[W].index).config={axisRanges:V[W].axisRanges}}},F.prototype.configOrder=function(E,V){return E==V?0:E=="scrollbarX"?1:V=="scrollbarX"?-1:E=="scrollbarY"?1:V=="scrollbarY"?-1:E=="cursor"?1:V=="cursor"?-1:E=="series"?1:V=="series"?-1:R.prototype.configOrder.call(this,E,V)},F.prototype.createSeries=function(){return new XYSeries},Object.defineProperty(F.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(E){var V=this;this._zoomOutButton=E,E&&E.events.on("hit",function(){V.zoomAxes(V.xAxes,{start:0,end:1}),V.zoomAxes(V.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){var V=this;E.xAxes.each(function(U){var W=V.xAxes.push(U.clone());W.chart=V,W.renderer.chart=V}),E.yAxes.each(function(U){var W=V.yAxes.push(U.clone());W.renderer.chart=V,W.chart=V}),R.prototype.copyFrom.call(this,E),E.cursor&&(this.cursor=E.cursor.clone()),E.scrollbarX&&(this.scrollbarX=E.scrollbarX.clone()),E.scrollbarY&&(this.scrollbarY=E.scrollbarY.clone())},F.prototype.disposeData=function(){R.prototype.disposeData.call(this);var E=this.scrollbarX;E&&E instanceof XYChartScrollbar&&E.scrollbarChart.disposeData();var V=this.scrollbarY;V&&V instanceof XYChartScrollbar&&V.scrollbarChart.disposeData(),this.xAxes.each(function(U){U instanceof CategoryAxis&&U.disposeData()}),this.yAxes.each(function(U){U instanceof CategoryAxis&&U.disposeData()})},F.prototype.addData=function(E,V){this.scrollbarX instanceof XYChartScrollbar&&this.addScrollbarData(this.scrollbarX,V),this.scrollbarY instanceof XYChartScrollbar&&this.addScrollbarData(this.scrollbarY,V),R.prototype.addData.call(this,E,V)},F.prototype.addScrollbarData=function(E,V){var U=E.scrollbarChart;U._parseDataFrom=U.data.length,U.invalidateData()},F.prototype.removeScrollbarData=function(E,V){var U=E.scrollbarChart;if(isNumber(V)){for(;V>0;){var W=this.dataItems.getIndex(0);W&&U.dataItems.remove(W),U.dataUsers.each(function(Y){var G=Y.dataItems.getIndex(0);G&&Y.dataItems.remove(G)}),U._parseDataFrom--,V--}U.invalidateData()}},F.prototype.removeData=function(E){this.scrollbarX instanceof XYChartScrollbar&&this.removeScrollbarData(this.scrollbarX,E),this.scrollbarY instanceof XYChartScrollbar&&this.removeScrollbarData(this.scrollbarY,E),R.prototype.removeData.call(this,E)},F.prototype.setTapToActivate=function(E){R.prototype.setTapToActivate.call(this,E),this.cursor&&(this.cursor.interactions.isTouchProtected=E,this.plotContainer.interactions.isTouchProtected=E)},F.prototype.handleTapToActivate=function(){R.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},F.prototype.handleTapToActivateDeactivation=function(){R.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},F}(SerialChart);registry.registeredClasses.XYChart=XYChart;defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(R,F){if(R instanceof XYChart&&R.scrollbarX){var E=R.states.create(F),V=R.scrollbarX.states.create(F);return V.properties.disabled=!0,E}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(R,F){if(R instanceof XYChart&&R.scrollbarY){var E=R.states.create(F),V=R.scrollbarY.states.create(F);return V.properties.disabled=!0,E}return null}});var LineSeriesSegment=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="LineSeriesSegment",E.isMeasured=!1,E.interactionsEnabled=!1,E.layout="none";var V=E.createChild(Sprite);E.fillSprite=V,V.shouldClone=!1,V.setElement(E.paper.add("path")),V.isMeasured=!1,E._disposers.push(V);var U=E.createChild(Sprite);return E.strokeSprite=U,U.shouldClone=!1,U.fill=color$1(),U.setElement(E.paper.add("path")),U.isMeasured=!1,E._disposers.push(U),E}return F.prototype.drawSegment=function(E,V,U,W){if(!this.disabled)if(E.length>0&&V.length>0&&isNumber(E[0].x)&&isNumber(E[0].y)){var Y=moveTo({x:E[0].x-.2,y:E[0].y-.2})+moveTo(E[0]),G=this.series;G.smoothing=="bezier"?Y+=new Tension(U,W).smooth(E):G.smoothing=="monotoneX"?Y+=new MonotoneX({closed:!1}).smooth(E):G.smoothing=="monotoneY"&&(Y+=new MonotoneY({closed:!1}).smooth(E)),this.strokeOpacity==0||this.strokeSprite.strokeOpacity==0||(this.strokeSprite.path=Y),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&isNumber(V[0].x)&&isNumber(V[0].y)&&(Y+=lineTo(V[0]),G.smoothing=="bezier"?Y+=new Tension(U,W).smooth(V):G.smoothing=="monotoneX"?Y+=new MonotoneX({closed:!1}).smooth(V):G.smoothing=="monotoneY"&&(Y+=new MonotoneY({closed:!1}).smooth(V)),Y+=lineTo(E[0]),Y+=closePath(),this.fillSprite.path=Y)}else this.fillSprite.path="",this.strokeSprite.path=""},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E);var V=this.strokeSprite;copyProperties$1(E,V.properties,visualProperties),V.events.copyFrom(E.strokeSprite.events),V.fillOpacity=0;var U=this.fillSprite;copyProperties$1(E,U.properties,visualProperties),U.events.copyFrom(E.fillSprite.events),U.strokeOpacity=0},F}(Container);registry.registeredClasses.LineSeriesSegment=LineSeriesSegment;var DurationAxisDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="DurationAxisDataItem",E.applyTheme(),E}return F}(ValueAxisDataItem),DurationAxis=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._baseUnit="second",E.className="DurationAxis",E.setPropertyValue("maxZoomFactor",1e6),E.applyTheme(),E}return F.prototype.formatLabel=function(E,V){return this.durationFormatter.format(E,V||this.axisDurationFormat)},F.prototype.adjustMinMax=function(E,V,U,W,Y){var G,X,K,Z=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),Z=="millisecond"||Z=="second"||Z=="minute"||Z=="hour"){W<=1&&(W=1),W=Math.round(W);var J=E,Q=V;U===0&&(U=Math.abs(V));var ee=U/W,te=[60,30,20,15,10,2,1],ie=1;Z=="hour"&&(te=[24,12,6,4,2,1]);try{for(var ne=__values(te),ae=ne.next();!ae.done;ae=ne.next()){var se=ae.value;if(U/se>W){ie=se;break}}}catch(de){G={error:de}}finally{try{ae&&!ae.done&&(X=ne.return)&&X.call(ne)}finally{if(G)throw G.error}}var oe=Math.ceil((V-E)/ie/W),le=Math.log(Math.abs(oe))*Math.LOG10E,ue=Math.pow(10,Math.floor(le))/10,ce=oe/ue,he=closest(te,ce);oe=he*ue,ee=ie*oe,this.durationFormatter.getValueUnit(ee,this.baseUnit),E=Math.floor(E/ee)*ee,V=Math.ceil(V/ee)*ee,Y&&(E-=ee,E<0&&J>=0&&(E=0),V+=ee,V>0&&Q<=0&&(V=0)),K={min:E,max:V,step:ee}}else K=R.prototype.adjustMinMax.call(this,E,V,U,W,Y);return this.axisDurationFormat=this.durationFormatter.getFormat(K.step,K.max,this.baseUnit),K},Object.defineProperty(F.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(E){this._tooltipDurationFormat=E},enumerable:!0,configurable:!0}),F.prototype.getTooltipText=function(E){var V=round$2(this.positionToValue(E),this._stepDecimalPlaces),U=this.formatLabel(V,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",U):U},Object.defineProperty(F.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(E){this._baseUnit!=E&&(this._baseUnit=E,this.durationFormatter.baseUnit=E,this.invalidate())},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.baseUnit=E.baseUnit},F}(ValueAxis);registry.registeredClasses.DurationAxis=DurationAxis;registry.registeredClasses.DurationAxisDataItem=DurationAxisDataItem;var LineSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="LineSeriesDataItem",E}return F}(XYSeriesDataItem),LineSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.minDistance=.5,E.segments=new ListTemplate(E.createSegment()),E.segments.template.applyOnClones=!0,E._disposers.push(new ListDisposer(E.segments)),E._disposers.push(E.segments.template),E._segmentsIterator=new ListIterator(E.segments,function(){return E.segments.create()}),E._segmentsIterator.createNewItems=!0,E.className="LineSeries",E.strokeOpacity=1,E.fillOpacity=0,E.connect=!0,E.tensionX=1,E.tensionY=1,E.autoGapCount=1.1,E.smoothing="bezier",E.segmentsContainer=E.mainContainer.createChild(Container),E.segmentsContainer.isMeasured=!1,E.bulletsContainer.toFront(),E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},F.prototype.createSegment=function(){return new LineSeriesSegment},F.prototype.createDataItem=function(){return new LineSeriesDataItem},F.prototype.setInitialWorkingValues=function(E){var V=this._yAxis.get(),U=this._xAxis.get();if(this.appeared&&this.visible){var W=this.dataItems.getIndex(E.index-1);if(E.component=this,this.baseAxis==U&&V instanceof ValueAxis){var Y=V.minZoomed;if(W&&(Y=W.values.valueY.workingValue),E.setWorkingValue("valueY",Y,0),E.setWorkingValue("valueY",E.values.valueY.value),U instanceof DateAxis)E.setWorkingLocation("dateX",E.locations.dateX-1,0),E.setWorkingLocation("dateX",E.locations.dateX);else if(U instanceof DurationAxis&&W){var G=E.valueX;E.setWorkingValue("valueX",W.valueX,0),E.setWorkingValue("valueX",G)}}if(this.baseAxis==V&&U instanceof ValueAxis){var X=U.minZoomed;if(W&&(X=W.values.valueX.workingValue),E.setWorkingValue("valueX",X,0),E.setWorkingValue("valueX",E.values.valueX.value),V instanceof DateAxis)E.setWorkingLocation("dateY",E.locations.dateX-1,0),E.setWorkingLocation("dateY",E.locations.dateY);else if(V instanceof DurationAxis&&W){var G=E.valueY;E.setWorkingValue("valueY",W.valueY,0),E.setWorkingValue("valueY",G)}}}else this.baseAxis==U&&V instanceof ValueAxis&&(U instanceof DateAxis&&E.setWorkingLocation("dateX",E.locations.dateX),U instanceof CategoryAxis&&E.setWorkingLocation("categoryX",E.locations.categoryX)),this.baseAxis==V&&U instanceof ValueAxis&&(V instanceof DateAxis&&E.setWorkingLocation("dateY",E.locations.dateY),V instanceof CategoryAxis&&E.setWorkingLocation("categoryY",E.locations.categoryY))},F.prototype.updateLegendValue=function(E,V){R.prototype.updateLegendValue.call(this,E,V),E&&E.segment&&(this.tooltipColorSource=E.segment)},F.prototype.validate=function(){var E=this;R.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),each(this.axisRanges.iterator(),function(V){E.openSegmentWrapper(E._adjustedStartIndex,V)}),each(this._segmentsIterator.iterator(),function(V){V.__disabled=!0}))},F.prototype.sliceData=function(){for(var E=this.startIndex,V=this.endIndex,U=this.startIndex-1;U>=0;U--){var W=this.dataItems.getIndex(U);if(W&&W.hasValue(this._xValueFields)&&W.hasValue(this._yValueFields)){E=U;break}}this._adjustedStartIndex=this.findAdjustedIndex(E,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);for(var U=this.endIndex,Y=this.dataItems.length;U<Y;U++){var W=this.dataItems.getIndex(U);if(W&&W.hasValue(this._xValueFields)&&W.hasValue(this._yValueFields)){V=U+1;break}}this._workingStartIndex=E,this._workingEndIndex=V},F.prototype.findAdjustedIndex=function(E,V){var U=this,W=this.propertyFields,Y=E;return each$2(V,function(G){if(hasValue(W[G]))for(var X=Y;X>=0;X--){var K=U.dataItems.getIndex(X);if(K&&hasValue(K.properties[G])){E>X&&(E=X);break}}}),E},F.prototype.openSegmentWrapper=function(E,V){var U={index:E,axisRange:V};do U=this.openSegment(U.index,U.axisRange);while(U)},F.prototype.getSegment=function(){var E=this._segmentsIterator.getFirst();return E.series=this,E.isDisposed()?(this.segments.removeValue(E),this.getSegment()):E},F.prototype.openSegment=function(E,V){var U=!1,W=[];E=Math.min(E,this.dataItems.length);var Y=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var G,X=!1,K=this.getSegment();K.strokeDasharray=void 0,K.__disabled=!1,V?(K.parent=V.contents,copyProperties$1(V.contents,K,visualProperties)):(copyProperties$1(this,K,visualProperties),K.filters.clear(),K.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var Z=this.connect,J=!1,Q=E;Q<Y;Q++){var ee=this.dataItems.getIndex(Q);if(ee.segment=K,ee.hasProperties&&(Q==E?this.updateSegmentProperties(ee.properties,K):X=this.updateSegmentProperties(ee.properties,K,!0)),ee.hasValue(this._xValueFields)&&ee.hasValue(this._yValueFields))this.addPoints(W,ee,this.xField,this.yField),J=!0;else{if(Q==E)continue;if(!Z&&J){G=Q;break}}if(G=Q,this.baseAxis instanceof DateAxis){var te=this.dataItems.getIndex(Q+1);if(te&&this.baseAxis.makeGap(te,ee)){U=!0;break}}if(X)break}return this.closeSegment(K,W,E,G,V,U)},F.prototype.addPoints=function(E,V,U,W,Y){var G=this.getPoint(V,U,W,V.workingLocations[U],V.workingLocations[W]);Y||(V.point=G),E.push(G)},F.prototype.closeSegment=function(E,V,U,W,Y,G){var X=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var K=W;K>=U;K--){var Z=this.dataItems.getIndex(K);Z.hasValue(this._xValueFields)&&Z.hasValue(this._yValueFields)&&this.addPoints(X,Z,this.xOpenField,this.yOpenField,!0)}else{var J=this.baseAxis,Q=V.length,ee=this.xAxis,te=this.yAxis;Q>0&&(J==ee?(X.push({x:V[Q-1].x,y:te.basePoint.y}),X.push({x:V[0].x,y:te.basePoint.y})):(X.push({x:ee.basePoint.x,y:V[Q-1].y}),X.push({x:ee.basePoint.x,y:V[0].y})))}return this.drawSegment(E,V,X),G&&W++,W<this._workingEndIndex-1?{index:W,axisRange:Y}:null},F.prototype.drawSegment=function(E,V,U){E.drawSegment(V,U,this.tensionX,this.tensionY)},F.prototype.updateSegmentProperties=function(E,V,U){var W=!1;return each$1(E,function(Y,G){if(hasValue(G)){var X=V[Y],K=void 0;X&&(X.toString?K=X.toString():K=X);var Z=void 0;G&&(G.toString?Z=G.toString():Z=G),X==G||K!=null&&Z!=null&&K==Z||(U||(V[Y]=G),W=!0)}}),W},Object.defineProperty(F.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(E){this.setPropertyValue("connect",E)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(E){this.setPropertyValue("tensionX",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(E){this.setPropertyValue("tensionY",E,!0)},enumerable:!0,configurable:!0}),F.prototype.createLegendMarker=function(E){var V=this,U=E.pixelWidth,W=E.pixelHeight;E.disposeChildren();var Y=E.createChild(Line);if(Y.shouldClone=!1,copyProperties$1(this,Y,visualProperties),Y.x2=U,Y.y=W/2,Y.y2=1e-5,Y.visible=!0,this.fillOpacity>0){var G=E.createChild(Rectangle);copyProperties$1(this,G,visualProperties),G.width=U,G.height=W,G.y=0,G.strokeOpacity=0,G.visible=!0,Y.y=0}var X=E.dataItem;X.color=this.stroke,X.colorOrig=this.fill,eachContinue(this.bullets.iterator(),function(K){if(K instanceof Bullet&&!K.copyToLegendMarker)return!1;var Z=!1;if(K instanceof Container&&each(K.children.iterator(),function(Q){if(Q instanceof Label)return Z=!0,!0}),!Z){var J=K.clone();return J.parent=E,J.isMeasured=!0,J.tooltipText=void 0,J.x=U/2,V.fillOpacity>0?J.y=0:J.y=W/2,J.visible=!0,hasValue(J.fill)||(J.fill=V.fill),hasValue(J.stroke)||(J.stroke=V.stroke),!1}})},F.prototype.disposeData=function(){R.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(F.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(E){this.setPropertyValue("autoGapCount",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(E){this.setPropertyValue("smoothing",E,!0)},enumerable:!0,configurable:!0}),F}(XYSeries);registry.registeredClasses.LineSeries=LineSeries;registry.registeredClasses.LineSeriesDataItem=LineSeriesDataItem;var RadarSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="RadarSeriesDataItem",E.setLocation("dateX",0,0),E.setLocation("dateY",0,0),E.setLocation("categoryX",0,0),E.setLocation("categoryY",0,0),E.applyTheme(),E}return F}(LineSeriesDataItem),RadarSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="RadarSeries",E.connectEnds=!0,E.applyTheme(),E}return F.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),R.prototype.validate.call(this)},F.prototype.createDataItem=function(){return new RadarSeriesDataItem},F.prototype.getPoint=function(E,V,U,W,Y,G,X){G||(G="valueX"),X||(X="valueY");var K=this.yAxis.getX(E,U,Y,X),Z=this.yAxis.getY(E,U,Y,X),J=getDistance({x:K,y:Z});J==0&&(J=1e-5);var Q=this.xAxis.getAngle(E,V,W,G),ee=this.chart.startAngle,te=this.chart.endAngle;if(!(Q<ee||Q>te))return{x:J*cos(Q),y:J*sin(Q)}},F.prototype.addPoints=function(E,V,U,W,Y){var G=this.getPoint(V,U,W,V.locations[U],V.locations[W]);G&&E.push(G)},F.prototype.getMaskPath=function(){var E=this.yAxis.renderer;return arc(E.startAngle,E.endAngle-E.startAngle,E.pixelRadius,E.pixelInnerRadius)},F.prototype.drawSegment=function(E,V,U){var W=this.yAxis,Y=W.renderer;this.connectEnds&&Math.abs(Y.endAngle-Y.startAngle)==360&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(V.push(V[0]),U.length>0&&U.unshift(U[U.length-1])),R.prototype.drawSegment.call(this,E,V,U)},Object.defineProperty(F.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(E){this.setPropertyValue("connectEnds",E,!0)},enumerable:!0,configurable:!0}),F.prototype.positionBulletReal=function(E,V,U){var W=this.xAxis,Y=this.yAxis;(V<W.start||V>W.end||U<Y.start||U>Y.end)&&(E.visible=!1),E.moveTo(this.xAxis.renderer.positionToPoint(V,U))},F.prototype.setXAxis=function(E){R.prototype.setXAxis.call(this,E),this.updateRendererRefs()},F.prototype.setYAxis=function(E){R.prototype.setYAxis.call(this,E),this.updateRendererRefs()},F.prototype.updateRendererRefs=function(){var E=this.xAxis.renderer,V=this.yAxis.renderer;E.axisRendererY=V},F}(LineSeries);registry.registeredClasses.RadarSeries=RadarSeries;registry.registeredClasses.RadarSeriesDataItem=RadarSeriesDataItem;var AxisFillCircular=function(R){__extends(F,R);function F(E){var V=R.call(this,E)||this;return V.className="AxisFillCircular",V.element=V.paper.add("path"),V.radius=percent(100),V.applyTheme(),V}return F.prototype.draw=function(){if(R.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis){var E=this.axis.renderer;this.fillPath=E.getPositionRangePath(this.startPosition,this.endPosition,this.radius,hasValue(this.innerRadius)?this.innerRadius:E.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(E){this.setPropertyValue("cornerRadius",E,!0)},enumerable:!0,configurable:!0}),F}(AxisFill);registry.registeredClasses.AxisFillCircular=AxisFillCircular;var GridCircular=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="GridCircular",E.pixelPerfect=!1,E.applyTheme(),E}return Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),F}(Grid);registry.registeredClasses.GridCircular=GridCircular;var AxisLabelCircular=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.fdx=0,E.fdy=0,E.className="AxisLabelCircular",E.padding(0,0,0,0),E.location=.5,E.locationOnPath=.5,E.radius=0,E.isMeasured=!1,E.applyTheme(),E}return Object.defineProperty(F.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(E){if(this.setPropertyValue("relativeRotation",E,!0),!hasValue(E)){this.rotation=void 0;var V=this.dataItem;V&&V.component&&V.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(E){this.setPropertyValue("bent",E,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),E?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),F.prototype.pixelRadius=function(E){var V=1;return this.inside&&(V=-1),relativeToValue(this.radius,E)*V},F.prototype.pixelRadiusY=function(E,V){var U=1;this.inside&&(U=-1);var W=this.radius;return isNumber(W)?(W*=V/E,relativeToValue(W,E)*U):relativeToValue(W,V)*U},F.prototype.fixPosition=function(E,V,U,W,Y){isNumber(U)||(U=V),isNumber(W)||(W=0),isNumber(Y)||(Y=0);var G={x:V*cos(E),y:U*sin(E)};this.invalid&&this.validate();var X=!1,K=this.radius;(K instanceof Percent&&K.value<0||K<0)&&(X=!0);var Z=this.relativeRotation,J=this.pixelRadius(V);if(this.bent){var Q={x:(V+J)*cos(E+180),y:(U+J*U/V)*sin(E+180)};this.path=moveTo(Q)+arcTo(E+180,360,V+J,U+J*U/V),this.textPathElement&&this.textPathElement.attr({startOffset:this.locationOnPath*100+"%"});return}if(isNumber(Z)){this.horizontalCenter="none",this.verticalCenter="none",E=fitAngleToRange(E,-180,180);var ee=this.bbox.width,te=this.bbox.height,ie=this.pixelPaddingBottom,ne=this.pixelPaddingTop,ae=this.pixelPaddingLeft,se=this.pixelPaddingRight;E>90||E<-90?Z==-90&&(Z=90,ee=0):(Z==-90&&(te=-te),Z==90&&(Z=-90,ee=-ae-se,te=-te-ne-ie)),this.rotation=Z+E+90;var oe=sin(Z)/2,le=cos(Z)/2,ue=this.rotation;this.dx=te*oe*sin(ue)-ee*le*cos(ue),this.dy=-te*oe*cos(ue)-ee*le*sin(ue),this.inside?E>90||E<-90?J-=(ie+ne)*cos(Z)+(ae+se)*sin(Z):J+=(ie+this.bbox.height+ne)*cos(Z)+(ae+se+this.bbox.width)*sin(Z):J+=(te+ie+ne)*cos(Z)+(ee+ae+se)*sin(Z),G.x+=cos(E)*J,G.y+=sin(E)*J*U/V}else this.horizontalCenter="middle",this.verticalCenter="middle",X?(this.dx=0,this.dy=0,G.x=(V+J)*cos(E),G.y=(U+J*U/V)*sin(E)):(this.dy=this._measuredHeight/2*sin(E),this.dx=this._measuredWidth/2*cos(E),G.x+=cos(E)*J,G.y+=sin(E)*J*U/V);G.x+=W,G.y+=Y,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(G)},F}(AxisLabel);registry.registeredClasses.AxisLabelCircular=AxisLabelCircular;var AxisRendererCircular=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.pixelRadiusReal=0,E.layout="none",E.className="AxisRendererCircular",E.isMeasured=!1,E.startAngle=-90,E.endAngle=270,E.useChartAngles=!0,E.radius=percent(100),E.isMeasured=!1,E.grid.template.location=0,E.labels.template.location=0,E.labels.template.radius=15,E.ticks.template.location=0,E.ticks.template.pixelPerfect=!1,E.tooltipLocation=0,E.line.strokeOpacity=0,E.applyTheme(),E}return F.prototype.setAxis=function(E){var V=this;R.prototype.setAxis.call(this,E),E.isMeasured=!1;var U=E.tooltip;U.adapter.add("dx",function(W,Y){var G=svgPointToSprite({x:Y.pixelX,y:Y.pixelY},V);return V.pixelRadius*Math.cos(Math.atan2(G.y,G.x))-G.x}),U.adapter.add("dy",function(W,Y){var G=svgPointToSprite({x:Y.pixelX,y:Y.pixelY},V);return V.pixelRadius*Math.sin(Math.atan2(G.y,G.x))-G.y})},F.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),R.prototype.validate.call(this)},Object.defineProperty(F.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelRadius",{get:function(){return relativeRadiusToValue(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerRadius",{get:function(){var E=this.chart,V=this.getPropertyValue("innerRadius");if(E){if(!hasValue(V))V=E.innerRadius,V instanceof Percent&&E&&(V=percent(V.value*E.innerRadiusModifyer*100));else if(V instanceof Percent&&E){var U=E.mr,W=V.value;W=Math.max(U*W,U-Math.min(E.plotContainer.innerHeight,E.plotContainer.innerWidth))/U,V=percent(W*100)}return V}},set:function(E){this.setPercentProperty("innerRadius",E,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(E){this.setPropertyValue("useChartAngles",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelInnerRadius",{get:function(){return relativeRadiusToValue(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),F.prototype.positionToPoint=function(E,V){isNumber(V)||(V=1);var U=this.positionToCoordinate(E),W=this.startAngle+(this.endAngle-this.startAngle)*U/this.axisLength,Y=this.pixelRadius,G=this.pixelInnerRadius;if(this.axisRendererY){var X=fitToRange(this.axisRendererY.positionToCoordinate(V),0,1/0);X==0&&(X=1e-6);var K={x:X*cos(W),y:X*sin(W)};return K}return{x:cos(W)*G+(Y-G)*cos(W)*V,y:sin(W)*G+(Y-G)*sin(W)*V}},F.prototype.positionToAngle=function(E){var V=this.axis,U=(this.endAngle-this.startAngle)/(V.end-V.start),W;return V.renderer.inversed?W=this.startAngle+(V.end-E)*U:W=this.startAngle+(E-V.start)*U,round$2(W,3)},F.prototype.angleToPosition=function(E){var V=this.axis,U=(this.endAngle-this.startAngle)/(V.end-V.start),W;return V.renderer.inversed?W=V.end-(E-this.startAngle)/U:W=(E-this.startAngle)/U+V.start,round$2(W,5)},F.prototype.updateAxisLine=function(){var E=this.pixelRadius,V=this.startAngle,U=this.endAngle,W=min$2(360,U-V);this.line.path=moveTo({x:E*cos(V),y:E*sin(V)})+arcTo(V,W,E,E)},F.prototype.updateGridElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V);if(isNumber(W.x)&&isNumber(W.y)&&E.element){var Y=DEGREES*Math.atan2(W.y,W.x),G=relativeRadiusToValue(hasValue(E.radius)?E.radius:percent(100),this.pixelRadius),X=relativeRadiusToValue(E.innerRadius,this.pixelRadius);E.zIndex=0;var K=relativeRadiusToValue(isNumber(X)?X:this.innerRadius,this.pixelRadiusReal,!0);isNumber(K)||(K=0),E.path=moveTo({x:K*cos(Y),y:K*sin(Y)})+lineTo({x:G*cos(Y),y:G*sin(Y)})}this.toggleVisibility(E,V,0,1)},F.prototype.updateTickElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V);if(E.element){var Y=this.pixelRadius,G=DEGREES*Math.atan2(W.y,W.x),X=E.length;E.inside&&(X=-X),E.zIndex=1,E.path=moveTo({x:Y*cos(G),y:Y*sin(G)})+lineTo({x:(Y+X)*cos(G),y:(Y+X)*sin(G)})}this.toggleVisibility(E,V,0,1)},F.prototype.updateBullet=function(E,V,U){var W=.5;E instanceof AxisBullet&&(W=E.location),V=V+(U-V)*W;var Y=this.positionToPoint(V),G=this.pixelRadius,X=DEGREES*Math.atan2(Y.y,Y.x);Y={x:G*cos(X),y:G*sin(X)},this.positionItem(E,Y),this.toggleVisibility(E,V,0,1)},F.prototype.updateLabelElement=function(E,V,U,W){hasValue(W)||(W=E.location),V=V+(U-V)*W,E.fixPosition(this.positionToAngle(V),this.pixelRadius),E.zIndex=2,this.toggleVisibility(E,V,this.minLabelPosition,this.maxLabelPosition)},F.prototype.fitsToBounds=function(E){return!0},Object.defineProperty(F.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(E){this.setPropertyValue("startAngle",E)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(E){this.setPropertyValue("endAngle",E)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),F.prototype.getPositionRangePath=function(E,V,U,W,Y){var G="";if(isNumber(E)&&isNumber(V)){hasValue(U)||(U=this.radius),E=max$2(E,this.axis.start),V=min$2(V,this.axis.end),V<E&&(V=E);var X=relativeRadiusToValue(U,this.pixelRadius),K=relativeRadiusToValue(W,this.pixelRadius,!0),Z=this.positionToAngle(E),J=this.positionToAngle(V),Q=J-Z;G=arc(Z,Q,X,K,X,Y)}return G},F.prototype.createGrid=function(){return new GridCircular},F.prototype.createFill=function(E){return new AxisFillCircular(E)},F.prototype.createLabel=function(){return new AxisLabelCircular},F.prototype.pointToPosition=function(E){var V=fitAngleToRange(getAngle(E),this.startAngle,this.endAngle);return this.coordinateToPosition((V-this.startAngle)/360*this.axisLength)},F}(AxisRenderer);registry.registeredClasses.AxisRendererCircular=AxisRendererCircular;var AxisRendererRadial=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._chart=new MutableValueDisposer,E.pixelRadiusReal=0,E.className="AxisRendererRadial",E.isMeasured=!1,E.startAngle=-90,E.endAngle=270,E.minGridDistance=30,E.gridType="circles",E.axisAngle=-90,E.isMeasured=!1,E.layout="none",E.radius=percent(100),E.line.strokeOpacity=0,E.labels.template.horizontalCenter="middle",E._disposers.push(E._chart),E.applyTheme(),E}return F.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),R.prototype.validate.call(this)},Object.defineProperty(F.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelRadius",{get:function(){return relativeRadiusToValue(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerRadius",{get:function(){var E=this.chart,V=this.getPropertyValue("innerRadius");if(E){if(!hasValue(V))V=E.innerRadius,V instanceof Percent&&E&&(V=percent(V.value*E.innerRadiusModifyer*100));else if(V instanceof Percent&&E){var U=E.mr,W=V.value;W=Math.max(U*W,U-Math.min(E.plotContainer.innerHeight,E.plotContainer.innerWidth))/U,V=percent(W*100)}}return V},set:function(E){this.setPercentProperty("innerRadius",E,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelInnerRadius",{get:function(){return relativeRadiusToValue(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),F.prototype.positionToPoint=function(E,V){var U=fitToRange(this.positionToCoordinate(E),0,1/0);return{x:U*cos(this.axisAngle),y:U*sin(this.axisAngle)}},F.prototype.updateAxisLine=function(){this.line.path=moveTo({x:this.pixelInnerRadius*cos(this.axisAngle),y:this.pixelInnerRadius*sin(this.axisAngle)})+lineTo({x:this.pixelRadius*cos(this.axisAngle),y:this.pixelRadius*sin(this.axisAngle)});var E=this.axis.title;E.valign="none",E.horizontalCenter="middle",E.verticalCenter="bottom",E.y=-this.axisLength/2;var V=90;this.opposite?this.inside||(V=-90):this.inside&&(V=-90),E.rotation=V},F.prototype.updateGridElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V),Y,G=getDistance(W),X=this.startAngle,K=this.endAngle,Z=this.chart;if(isNumber(G)&&E.element&&Z){var J=Z.xAxes.getIndex(0),Q=0,ee=Z.series.getIndex(0);if(ee&&(Q=ee.dataItems.length),this.gridType=="polygons"&&Q>0&&ee&&J&&J instanceof CategoryAxis){var te=J.renderer.grid.template.location,ie=J.getAngle(ee.dataItems.getIndex(0),"categoryX",te);Y=moveTo({x:G*cos(ie),y:G*sin(ie)});for(var ne=1;ne<Q;ne++)ie=J.getAngle(ee.dataItems.getIndex(ne),"categoryX",te),Y+=lineTo({x:G*cos(ie),y:G*sin(ie)});ie=J.getAngle(ee.dataItems.getIndex(Q-1),"categoryX",J.renderer.cellEndLocation),Y+=lineTo({x:G*cos(ie),y:G*sin(ie)})}else Y=moveTo({x:G*cos(X),y:G*sin(X)})+arcTo(X,K-X,G,G);E.path=Y}this.toggleVisibility(E,V,0,1)},F.prototype.updateLabelElement=function(E,V,U,W){hasValue(W)||(W=E.location),V=V+(U-V)*W;var Y=this.positionToPoint(V);this.positionItem(E,Y),this.toggleVisibility(E,V,this.minLabelPosition,this.maxLabelPosition)},F.prototype.updateBaseGridElement=function(){},F.prototype.fitsToBounds=function(E){return!0},Object.defineProperty(F.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(E){this.setPropertyValue("startAngle",E)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(E){this.setPropertyValue("endAngle",E)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(E){this.setPropertyValue("axisAngle",normalizeAngle(E)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"gridType",{get:function(){var E=this.chart.xAxes.getIndex(0);return E instanceof CategoryAxis?this.getPropertyValue("gridType"):"circles"},set:function(E){this.setPropertyValue("gridType",E,!0)},enumerable:!0,configurable:!0}),F.prototype.getPositionRangePath=function(E,V){var U=this.pixelInnerRadius,W=this.axisLength+U,Y=fitToRange(this.positionToCoordinate(E),U,W),G=fitToRange(this.positionToCoordinate(V),U,W),X=this.startAngle,K=this.endAngle,Z=K-X,J,Q=this.chart,ee=Q.xAxes.getIndex(0),te=Q.series.getIndex(0),ie=0;if(te&&(ie=te.dataItems.length),this.gridType=="polygons"&&ie>0&&te&&ee&&ee instanceof CategoryAxis){var ne=ee.renderer.grid.template.location,ae=ee.getAngle(te.dataItems.getIndex(0),"categoryX",ne);J=moveTo({x:G*cos(ae),y:G*sin(ae)});for(var se=1;se<ie;se++)ae=ee.getAngle(te.dataItems.getIndex(se),"categoryX",ne),J+=lineTo({x:G*cos(ae),y:G*sin(ae)});ae=ee.getAngle(te.dataItems.getIndex(ie-1),"categoryX",ee.renderer.cellEndLocation),J+=lineTo({x:G*cos(ae),y:G*sin(ae)}),J+=moveTo({x:Y*cos(ae),y:Y*sin(ae)});for(var se=ie-1;se>=0;se--)ae=ee.getAngle(te.dataItems.getIndex(se),"categoryX",ne),J+=lineTo({x:Y*cos(ae),y:Y*sin(ae)})}else J=arc(X,Z,G,Y);return J},F.prototype.updateBreakElement=function(E){var V=E.startLine,U=E.endLine,W=E.fillShape,Y=E.startPoint,G=E.endPoint;V.radius=Math.abs(Y.y),U.radius=Math.abs(G.y),W.radius=Math.abs(G.y),W.innerRadius=Math.abs(Y.y)},F.prototype.createBreakSprites=function(E){E.startLine=new WavedCircle,E.endLine=new WavedCircle,E.fillShape=new WavedCircle},F.prototype.updateTooltip=function(){var E=this.axis;if(E){var V=4e3,U=-4e3,W=-4e3,Y=V*2,G=V*2,X=this.axisAngle;X<0&&(X+=360);var K="vertical";(X>45&&X<135||X>225&&X<315)&&(K="horizontal"),this.axis.updateTooltip(K,{x:U,y:W,width:Y,height:G})}},F.prototype.updateTickElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V);if(E.element){var Y=normalizeAngle(this.axisAngle+90);Y/90!=Math.round(Y/90)?E.pixelPerfect=!1:E.pixelPerfect=!0;var G=-E.length;E.inside&&(G*=-1),E.path=moveTo({x:0,y:0})+lineTo({x:G*cos(Y),y:G*sin(Y)})}this.positionItem(E,W),this.toggleVisibility(E,V,0,1)},F.prototype.updateBullet=function(E,V,U){var W=.5;E instanceof AxisBullet&&(W=E.location),V=V+(U-V)*W;var Y=this.positionToPoint(V);this.positionItem(E,Y),this.toggleVisibility(E,V,0,1)},F.prototype.positionToCoordinate=function(E){var V,U=this.axis,W=U.axisFullLength,Y=this.pixelInnerRadius;return U.renderer.inversed?V=(U.end-E)*W+Y:V=(E-U.start)*W+Y,round$2(V,1)},F.prototype.pointToPosition=function(E){var V=getDistance(E)-this.pixelInnerRadius;return this.coordinateToPosition(V)},Object.defineProperty(F.prototype,"chart",{get:function(){return this._chart.get()},set:function(E){this._chart.set(E,null)},enumerable:!0,configurable:!0}),F}(AxisRendererY);registry.registeredClasses.AxisRendererRadial=AxisRendererRadial;var RadarChartDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="RadarChartDataItem",E.applyTheme(),E}return F}(XYChartDataItem),RadarChart=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._axisRendererX=AxisRendererCircular,E._axisRendererY=AxisRendererRadial,E.innerRadiusModifyer=1,E.mr=1,E.className="RadarChart",E.startAngle=-90,E.endAngle=270,E.radius=percent(80),E.innerRadius=0;var V=E.plotContainer.createChild(Container);return V.shouldClone=!1,V.layout="absolute",V.align="center",V.valign="middle",E.seriesContainer.parent=V,E.radarContainer=V,E.bulletsContainer.parent=V,E.axisBulletsContainer=V,E._cursorContainer=V,E.chartContainer.events.on("maxsizechanged",E.invalidate,E,!1),E._bulletMask=V.createChild(Circle),E._bulletMask.shouldClone=!1,E._bulletMask.element=E.paper.add("path"),E._bulletMask.opacity=0,E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},F.prototype.processAxis=function(E){R.prototype.processAxis.call(this,E);var V=E.renderer;V.gridContainer.parent=V,V.breakContainer.parent=V,E.parent=this.radarContainer,V.toBack()},F.prototype.handleXAxisRangeChange=function(){R.prototype.handleXAxisRangeChange.call(this),each(this.yAxes.iterator(),function(E){E.invalidate()})},F.prototype.handleYAxisRangeChange=function(){R.prototype.handleYAxisRangeChange.call(this),each(this.xAxes.iterator(),function(E){E.invalidate()})},F.prototype.processConfig=function(E){if(E&&(hasValue(E.cursor)&&!hasValue(E.cursor.type)&&(E.cursor.type="RadarCursor"),hasValue(E.series)&&isArray$1(E.series)))for(var V=0,U=E.series.length;V<U;V++)E.series[V].type=E.series[V].type||"RadarSeries";R.prototype.processConfig.call(this,E)},F.prototype.beforeDraw=function(){R.prototype.beforeDraw.call(this);var E=this.plotContainer,V=getArcRect(this.startAngle,this.endAngle,1),U={x:0,y:0,width:0,height:0},W=E.innerWidth/V.width,Y=E.innerHeight/V.height,G=this.innerRadius;if(G instanceof Percent){var X=G.value,K=Math.min(W,Y);this.mr=K,X=Math.max(K*X,K-Math.min(E.innerHeight,E.innerWidth))/K,U=getArcRect(this.startAngle,this.endAngle,X),this.innerRadiusModifyer=X/G.value,G=percent(X*100)}V=getCommonRectangle([V,U]);var Z=Math.min(E.innerWidth/V.width,E.innerHeight/V.height),J=relativeRadiusToValue(this.radius,Z)*2||0,Q=J/2,ee=this.startAngle,te=this.endAngle;this._pixelInnerRadius=relativeRadiusToValue(G,Q),this._bulletMask.path=arc(ee,te-ee,Q,this._pixelInnerRadius),each(this.xAxes.iterator(),function(ne){ne.renderer.useChartAngles&&(ne.renderer.startAngle=ee,ne.renderer.endAngle=te),ne.width=J,ne.height=J,ne.renderer.pixelRadiusReal=Q}),each(this.yAxes.iterator(),function(ne){ne.renderer.startAngle=ee,ne.renderer.endAngle=te,ne.width=J,ne.height=J,ne.renderer.pixelRadiusReal=Q});var ie=this.cursor;ie&&(ie.width=J,ie.height=J,ie.startAngle=ee,ie.endAngle=te),this.radarContainer.definedBBox={x:Q*V.x,y:Q*V.y,width:Q*V.width,height:Q*V.height},this.radarContainer.validatePosition()},F.prototype.createSeries=function(){return new RadarSeries},Object.defineProperty(F.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(E){this.setPropertyValue("startAngle",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(E){this.setPropertyValue("endAngle",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),F.prototype.updateXAxis=function(E){E&&E.processRenderer()},F.prototype.updateYAxis=function(E){E&&E.processRenderer()},F}(XYChart);registry.registeredClasses.RadarChart=RadarChart;var ClockHand=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._axis=new MutableValueDisposer,E.className="ClockHand";var V=new InterfaceColorSet;E.fill=V.getFor("alternativeBackground"),E.stroke=E.fill;var U=new Circle;U.radius=5,E.pin=U,E.isMeasured=!1,E.startWidth=5,E.endWidth=1,E.width=percent(100),E.height=percent(100),E.radius=percent(100),E.innerRadius=percent(0);var W=new Trapezoid;return E.hand=W,E._disposers.push(E._axis),E.applyTheme(),E}return F.prototype.validate=function(){R.prototype.validate.call(this);var E=this.hand;E.width=this.pixelWidth;var V=Math.max(this.startWidth,this.endWidth);if(E.height=V,E.leftSide=percent(this.startWidth/V*100),E.rightSide=percent(this.endWidth/V*100),this.axis){var U=this.axis.renderer,W=relativeRadiusToValue(this.innerRadius,U.pixelRadius),Y=relativeRadiusToValue(this.radius,U.pixelRadius);E.x=W,E.y=-V/2,E.width=Y-W}},Object.defineProperty(F.prototype,"pin",{get:function(){return this._pin},set:function(E){this._pin&&this.removeDispose(this._pin),E&&(this._pin=E,E.parent=this,this._disposers.push(E))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hand",{get:function(){return this._hand},set:function(E){this._hand&&this.removeDispose(this._hand),E&&(this._hand=E,E.parent=this,this._disposers.push(E))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(E){this.setPropertyValue("startWidth",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(E){this.setPropertyValue("endWidth",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(E){this.setPropertyValue("rotationDirection",E)},enumerable:!0,configurable:!0}),F.prototype.showValue=function(E,V,U){if(this._value=E,E!=null&&(isNumber(V)||(V=0),this.axis)){var W=this.axis.renderer,Y=W.positionToAngle(this.axis.anyToPosition(E)),G=this.rotation;this.rotationDirection=="clockWise"&&Y<G&&(this.rotation=G-360),this.rotationDirection=="counterClockWise"&&Y>G&&(this.rotation=G+360),this.animate({property:"rotation",to:Y},V,U)}},Object.defineProperty(F.prototype,"currentPosition",{get:function(){if(this.axis){var E=this.axis.renderer;return E.angleToPosition(this.rotation)}},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"value",{get:function(){return this._value},set:function(E){this.showValue(E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"axis",{get:function(){return this._axis.get()},set:function(E){if(this.axis!=E&&this._axis.set(E,new MultiDisposer([E.events.on("datavalidated",this.updateValue,this,!1),E.events.on("datarangechanged",this.updateValue,this,!1),E.events.on("dataitemsvalidated",this.updateValue,this,!1),E.events.on("propertychanged",this.invalidate,this,!1)])),E){var V=E.chart;V&&(this.rotation=V.startAngle)}this.parent=E.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),F.prototype.updateValue=function(){this.value=this.value},F.prototype.processConfig=function(E){E&&hasValue(E.axis)&&isString$1(E.axis)&&this.map.hasKey(E.axis)&&(E.axis=this.map.getKey(E.axis)),R.prototype.processConfig.call(this,E)},F}(Container);registry.registeredClasses.ClockHand=ClockHand;(function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="GaugeChartDataItem",E.applyTheme(),E}return F})(RadarChartDataItem);var GaugeChart=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="GaugeChart",E.startAngle=180,E.endAngle=360,E.hands=new ListTemplate(new ClockHand),E.hands.events.on("inserted",E.processHand,E,!1),E._disposers.push(new ListDisposer(E.hands)),E._disposers.push(E.hands.template),E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},F.prototype.processHand=function(E){var V=E.newValue;V.axis||(V.axis=this.xAxes.getIndex(0))},F.prototype.configOrder=function(E,V){return E==V?0:E=="hands"?1:V=="hands"?-1:R.prototype.configOrder.call(this,E,V)},F}(RadarChart);registry.registeredClasses.GaugeChart=GaugeChart;var PercentSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PercentSeriesDataItem",E.applyTheme(),E}return F.prototype.uidAttr=function(){return this.slice.uidAttr()},F.prototype.hide=function(E,V,U,W){return W||(W=["value"]),R.prototype.hide.call(this,E,V,0,W)},F.prototype.setVisibility=function(E,V){V||(E?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),R.prototype.setVisibility.call(this,E,V)},F.prototype.show=function(E,V,U){return U||(U=["value"]),R.prototype.show.call(this,E,V,U)},Object.defineProperty(F.prototype,"category",{get:function(){return this.properties.category},set:function(E){this.setProperty("category",E)},enumerable:!0,configurable:!0}),F.prototype.createLegendMarker=function(E){this.component.createLegendMarker(E,this)},Object.defineProperty(F.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(E){this._legendDataItem=E,E.label&&(E.label.dataItem=this),E.valueLabel&&(E.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tick",{get:function(){var E=this;if(!this._tick){var V=this.component.ticks.create();this._tick=V,this.addSprite(V),this._disposers.push(V),V.parent=this.component.ticksContainer,this._disposers.push(new Disposer(function(){E.component&&E.component.ticks.removeValue(V)})),V.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"label",{get:function(){var E=this;if(!this._label){var V=this.component.labels.create();this.addSprite(V),this._label=V,this._disposers.push(V),V.parent=this.component.labelsContainer,this._disposers.push(new Disposer(function(){E.component&&E.component.labels.removeValue(V)})),V.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"slice",{get:function(){var E=this;if(!this._slice){var V=this.component,U=V.slices.create();this.addSprite(U),this._slice=U,this._disposers.push(U),U.parent=V.slicesContainer,this._disposers.push(new Disposer(function(){V.slices.removeValue(U)})),U.visible=this.visible,V.itemsFocusable()?(hasValue(this.component.role)||(this.component.role="menu"),hasValue(U.role)||(U.role="menuitem"),U.focusable=!0):(hasValue(this.component.role)||(this.component.role="list"),hasValue(U.role)||(U.role="listitem"),U.focusable=!1),U.focusable&&(U.events.on("focus",function(W){U.readerTitle=V.populateString(V.itemReaderText,E)},void 0,!1),U.events.on("blur",function(W){U.readerTitle=""},void 0,!1)),U.hoverable&&(U.events.on("over",function(W){U.readerTitle=V.populateString(V.itemReaderText,E)},void 0,!1),U.events.on("out",function(W){U.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(E){this.setProperty("hiddenInLegend",E)},enumerable:!0,configurable:!0}),F}(SeriesDataItem),PercentSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="PercentSeries",E._addAllDataItems=!1,E.colors=new ColorSet,E.colors.step=1,E.isMeasured=!0,E.calculatePercent=!0;var V=E.createChild(Container);V.shouldClone=!1,V.isMeasured=!1,E.slicesContainer=V;var U=E.createChild(Container);U.shouldClone=!1,U.isMeasured=!1,U.layout="none",E.ticksContainer=U;var W=E.createChild(Container);W.shouldClone=!1,W.isMeasured=!1,W.layout="none",E.labelsContainer=W,E.alignLabels=!1,E.bulletsContainer.toFront(),E.skipFocusThreshold=50;var Y=E.defaultState;return Y.transitionEasing=sinOut,E.itemReaderText="{category}: {value.percent.formatNumber('#.#p')}",E.applyTheme(),E}return F.prototype.createSlice=function(){return new Sprite},F.prototype.createTick=function(){return new Tick},F.prototype.createLabel=function(){return new Label},Object.defineProperty(F.prototype,"slices",{get:function(){if(!this._slices){var E=this.createSlice();E.applyOnClones=!0,this._disposers.push(E),this.initSlice(E),this._slices=new ListTemplate(E),this._disposers.push(new ListDisposer(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"ticks",{get:function(){if(!this._ticks){var E=this.createTick();E.applyOnClones=!0,this._disposers.push(E),this.initTick(E),this._ticks=new ListTemplate(E),this._disposers.push(new ListDisposer(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"labels",{get:function(){if(!this._labels){var E=this.createLabel();E.applyOnClones=!0,this._disposers.push(E),this.initLabel(E),this._labels=new ListTemplate(E),this._disposers.push(new ListDisposer(this._labels))}return this._labels},enumerable:!0,configurable:!0}),F.prototype.createDataItem=function(){return new PercentSeriesDataItem},F.prototype.initSlice=function(E){},F.prototype.initLabel=function(E){E.text="{category}: {value.percent.formatNumber('#.0p')}",E.isMeasured=!1,E.padding(5,5,5,5)},F.prototype.initTick=function(E){},F.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),R.prototype.validateDataItems.call(this)},F.prototype.validateDataElement=function(E){var V=E.slice;V&&(V.fill==null?this.patterns?(hasValue(V.stroke)||(V.stroke=this.colors.next()),V.fill=this.patterns.next(),hasValue(V.fillOpacity)&&(V.fill.backgroundOpacity=V.fillOpacity),V.stroke instanceof Color$1&&(V.fill.stroke=V.stroke,V.fill.fill=V.stroke)):V.fill=this.colors.next():this.colors.currentStep+=this.colors.step,V.stroke==null&&(V.stroke=V.fill)),R.prototype.validateDataElement.call(this,E),V&&E.bullets.each(function(U,W){W.fill==null&&(W.fill=V.fill),W.stroke==null&&(W.stroke=V.stroke)}),this.updateLegendValue(E)},F.prototype.validateData=function(){R.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},F.prototype.arrangeLabels=function(E){for(var V=0,U=E.length;V<U;V++){var W=E[V],Y=W.label;if(Y){Y.invalid&&Y.validate();var G=Y.measuredHeight;Y.visible||(G=0),Y.pixelY-G/2<-this.maxHeight/2&&(Y.y=-this.maxHeight/2+G/2);var X=this.getNextLabel(V+1,E),K=Y.pixelY+G/2;if(X){X.invalid&&X.validate();var Z=X.measuredHeight;X.visible||(Z=0);var J=X.pixelY;J==null&&(J=0),J-Z/2<K&&(X.y=K+Z/2)}}}},F.prototype.arrangeLabels2=function(E){for(var V=this.maxHeight/2,U=E.length-1;U>=0;U--){var W=E[U],Y=W.label;if(Y){Y.invalid&&Y.validate();var G=Y.measuredHeight;Y.visible||(G=0),Y.pixelY+G/2>V&&(Y.y=V-G/2,V=Y.y-G/2)}}},F.prototype.getNextLabel=function(E,V){if(V.length>=E){var U=V[E];if(U)return U.label?U.visible?U.label:this.getNextLabel(E+1,V):this.getNextLabel(E+1,V)}},Object.defineProperty(F.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(E){this.setPropertyValue("colors",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(E){this.setPropertyValue("patterns",E,!0)},enumerable:!0,configurable:!0}),F.prototype.createLegendMarker=function(E,V){each(E.children.iterator(),function(U){var W=V.slice;U.defaultState.properties.fill=W.fill,U.defaultState.properties.stroke=W.stroke,U.defaultState.properties.fillOpacity=W.fillOpacity,U.defaultState.properties.strokeOpacity=W.strokeOpacity,U.fill=W.fill,U.stroke=W.stroke,U.fillOpacity=W.fillOpacity,U.strokeOpacity=W.strokeOpacity,U.fill==null&&(U.__disabled=!0);var Y=E.dataItem;Y.color=W.fill,Y.colorOrig=W.fill,U.addDisposer(W.events.on("propertychanged",function(G){G.property=="fill"&&(U.__disabled=!1,U.isActive||(U.fill=W.fill),U.defaultState.properties.fill=W.fill,Y.color=W.fill,Y.colorOrig=W.fill),G.property=="stroke"&&(U.isActive||(U.stroke=W.stroke),U.defaultState.properties.stroke=W.stroke),G.property=="strokeOpacity"&&(U.isActive||(U.strokeOpacity=W.strokeOpacity),U.defaultState.properties.strokeOpacity=W.strokeOpacity)},void 0,!1))})},F.prototype.handleSliceScale=function(E){var V=this,U=E.target,W=U.dataItem;W&&W.bullets&&each(W.bullets.iterator(),function(Y){var G=Y[1];V.positionBullet(G)})},F.prototype.handleSliceMove=function(E){},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.slices.template.copyFrom(E.slices.template),this.labels.template.copyFrom(E.labels.template),this.ticks.template.copyFrom(E.ticks.template),this.colors=E.colors.clone()},Object.defineProperty(F.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(E){this.setAlignLabels(E)},enumerable:!0,configurable:!0}),F.prototype.setAlignLabels=function(E){this.setPropertyValue("alignLabels",E,!0)},Object.defineProperty(F.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(E){this.setPropertyValue("ignoreZeroValues",E,!0)},enumerable:!0,configurable:!0}),F.prototype.updateLegendValue=function(E){if(E){var V=E.legendDataItem,U=E.legendSettings;V&&U&&U&&(U.labelText&&(V.label.text=U.labelText),U.itemLabelText&&(V.label.text=U.itemLabelText),U.valueText&&(V.valueLabel.text=U.valueText),U.itemValueText&&(V.valueLabel.text=U.itemValueText))}},F}(Series);registry.registeredClasses.PercentSeries=PercentSeries;registry.registeredClasses.PercentSeriesDataItem=PercentSeriesDataItem;defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(R,F){if(R instanceof PercentSeries){var E=R.states.create(F),V=R.labels.template.states.create(F);V.properties.disabled=!0;var U=R.ticks.template.states.create(F);return U.properties.disabled=!0,E}return null}});var PercentChartDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PercentChartDataItem",E.applyTheme(),E}return F}(SerialChartDataItem),PercentChart=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PercentChart",E.align="none",E.valign="none",E.chartContainer.minHeight=50,E.chartContainer.minWidth=50,E.applyTheme(),E}return F.prototype.validateData=function(){R.prototype.validateData.call(this),this.feedLegend()},F.prototype.feedLegend=function(){var E=this.legend;if(E){var V=[];each(this.series.iterator(),function(U){U.hiddenInLegend||each(U.dataItems.iterator(),function(W){W.hiddenInLegend||(V.push(W),W.legendSettings||(W.legendSettings=U.legendSettings))})}),E.data=V,E.dataFields.name="category"}},F.prototype.createSeries=function(){return new PercentSeries},F.prototype.setLegend=function(E){R.prototype.setLegend.call(this,E),E&&(E.labels.template.text="{category}",E.valueLabels.template.text="{value.percent.formatNumber('#.0p')}",E.itemContainers.template.events.on("over",function(V){var U=V.target.dataItem.dataContext;if(U.visible&&!U.isHiding){var W=U.slice;W.dispatchImmediately("over"),W.isHover=!0,W.interactions.isRealHover=!0}}),E.itemContainers.template.events.on("out",function(V){var U=V.target.dataItem.dataContext,W=U.slice;W.dispatchImmediately("out"),W.isHover=!1}))},F}(SerialChart);registry.registeredClasses.PercentChart=PercentChart;registry.registeredClasses.PercentChartDataItem=PercentChartDataItem;var PieTick=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._label=new MutableValueDisposer,E._slice=new MutableValueDisposer,E.className="PieTick",E.element=E.paper.add("polyline"),E._disposers.push(E._label),E._disposers.push(E._slice),E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.slice,V=this.label,U=E.dataItem.component;if(E&&E.radius>0&&V&&V.text){var W=E.dx+E.slice.dx+E.pixelX+E.ix*E.radius*E.scale,Y=E.dy+E.slice.dy+E.pixelY+E.iy*E.radiusY*E.scale,G=void 0,X=void 0,K=void 0,Z=void 0;if(U.alignLabels)G=V.pixelX-this.length,X=V.pixelY,K=V.pixelX,Z=X,V.horizontalCenter=="right"&&(G+=2*this.length,K=G-this.length);else{var J=V.pixelRadius(E.radius);G=W+J*E.ix,X=Y+J*E.iy,K=G,Z=X}this.element.attr({points:[W,Y,G,X,K,Z]})}},Object.defineProperty(F.prototype,"slice",{get:function(){return this._slice.get()},set:function(E){this._slice.set(E,new MultiDisposer([E.events.on("transformed",this.invalidate,this),E.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"label",{get:function(){return this._label.get()},set:function(E){this._label.set(E,E.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),F}(Tick);registry.registeredClasses.PieTick=PieTick;var PieSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PieSeriesDataItem",E.values.radiusValue={},E.applyTheme(),E}return Object.defineProperty(F.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(E){this.setValue("radiusValue",E)},enumerable:!0,configurable:!0}),F.prototype.hide=function(E,V,U,W){return R.prototype.hide.call(this,E,V,0,["value","radiusValue"])},F.prototype.show=function(E,V,U){return R.prototype.show.call(this,E,V,["value","radiusValue"])},F}(PercentSeriesDataItem),PieSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PieSeries",E.alignLabels=!0,E.layout="none",E.labels.template.radius=percent(5),E.addDisposer(E.labels.template.events.on("enabled",E.invalidate,E,!1)),E.applyTheme(),E}return F.prototype.createSlice=function(){return new Slice},F.prototype.createTick=function(){return new PieTick},F.prototype.createLabel=function(){return new AxisLabelCircular},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},F.prototype.createDataItem=function(){return new PieSeriesDataItem},F.prototype.initSlice=function(E){E.isMeasured=!1,E.defaultState.properties.scale=1,E.observe("scale",this.handleSliceScale,this),E.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),E.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var V=E.states.create("hover");V.properties.scale=1.05;var U=E.defaultState;U.properties.shiftRadius=0,E.togglable=!0,E.events.on("toggled",function(Y){Y.target.hideTooltip(),Y.target.interactions.lastHitPointer&&Y.target.interactions.lastHitPointer.touch&&!Y.target.isActive&&(Y.target.isHover=!1)});var W=E.states.create("active");W.properties.shiftRadius=.1},F.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=getArcRect(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var E=this.startIndex;E<this.endIndex;E++){var V=this.dataItems.getIndex(E),U=V.values.radiusValue.percent;U>this._maxRadiusPercent&&(this._maxRadiusPercent=U)}R.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(W,Y){var G=(W.slice.middleAngle+360)%360,X=(Y.slice.middleAngle+360)%360;return G>270&&(G-=360),X>270&&(X-=360),G<X?-1:G>X?1:0}),this._leftItems.sort(function(W,Y){var G=(W.slice.middleAngle+360)%360,X=(Y.slice.middleAngle+360)%360;return G<X?1:G>X?-1:0}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},F.prototype.validateDataElement=function(E){if(this.pixelRadius>0){this.ignoreZeroValues&&(E.value==0||E.value==null)?E.__disabled=!0:E.__disabled=!1;var V=E.slice;if(V.radius=this.pixelRadius,isNumber(E.radiusValue)&&(V.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*E.values.radiusValue.percent/this._maxRadiusPercent),V.innerRadius instanceof Percent||(V.innerRadius=this.pixelInnerRadius),V.startAngle=this._currentStartAngle,V.arc=Math.abs(E.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var U=E.label,W=E.tick;W.slice=V,W.label=U;var Y=(V.middleAngle+360)%360,G=void 0;if(this.alignLabels){var X=U.pixelRadius(V.radius),K=W.length+X;U.dx=0,U.dy=0,U.verticalCenter="middle";var Z=this._arcRect;Y>270||Y<=90?(K+=(Z.width+Z.x)*this.pixelRadius,U.horizontalCenter="left",this._rightItems.push(E)):(K-=Z.x*this.pixelRadius,U.horizontalCenter="right",this._leftItems.push(E),K*=-1);var J=V.radius+W.length+X;G={x:K,y:V.iy*J},U.moveTo(G)}else{var Q=V.depth;isNumber(Q)||(Q=0),U.fixPosition(V.middleAngle,V.radius,V.radiusY,0,-Q)}}this._currentStartAngle+=V.arc,R.prototype.validateDataElement.call(this,E)}},Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(E){this._pixelRadius!=E&&(this._pixelRadius=E,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(E){this._pixelInnerRadius!=E&&(this._pixelInnerRadius=E,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startAngle",{get:function(){var E=this.getPropertyValue("startAngle");return isNumber(E)?E:this._startAngleInternal},set:function(E){this.setPropertyValue("startAngle",normalizeAngle(E),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endAngle",{get:function(){var E=this.getPropertyValue("endAngle");return isNumber(E)?E:this._endAngleInternal},set:function(E){this.setPropertyValue("endAngle",E,!0)},enumerable:!0,configurable:!0}),F.prototype.positionBullet=function(E){R.prototype.positionBullet.call(this,E);var V=E.dataItem,U=V.slice,W=E.locationX;isNumber(W)||(W=.5);var Y=E.locationY;isNumber(Y)||(Y=1);var G=U.startAngle+U.arc*W;E.x=Y*U.radius*cos(G),E.y=Y*U.radiusY*sin(G)},F.prototype.handleSliceMove=function(E){if(!this.alignLabels){var V=E.target,U=V.dataItem;if(U){var W=U.label;W&&(W.dx=W.fdx+V.dx+V.pixelX,W.dy=W.fdy+V.dy+V.pixelY)}}},Object.defineProperty(F.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var E=this.chart;return E?getArcRect(E.startAngle,E.endAngle,this.pixelRadius):getArcRect(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),F}(PercentSeries);registry.registeredClasses.PieSeries=PieSeries;registry.registeredClasses.PieSeriesDataItem=PieSeriesDataItem;var PieChartDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PieChartDataItem",E.applyTheme(),E}return F}(PercentChartDataItem),PieChart=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="PieChart",E.innerRadius=0,E.radius=percent(80),E.align="none",E.valign="none",E.startAngle=-90,E.endAngle=270;var V=E.seriesContainer;return V.isMeasured=!0,V.valign="middle",V.align="center",V.layout="absolute",V.width=void 0,V.height=void 0,E.chartContainer.minHeight=50,E.chartContainer.minWidth=50,E.chartContainer.events.on("maxsizechanged",E.updateRadius,E,!1),E._disposers.push(E.seriesContainer.events.on("positionchanged",function(){E.bulletsContainer.x=E.seriesContainer.x,E.bulletsContainer.y=E.seriesContainer.y})),E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},F.prototype.validateLayout=function(){R.prototype.validateLayout.call(this),this.updateRadius()},F.prototype.handleSeriesAdded=function(E){R.prototype.handleSeriesAdded.call(this,E),this._chartPixelRadius=void 0,this.updateSeriesAngles()},F.prototype.updateSeriesAngles=function(){var E=this;this.series.each(function(V){V._startAngleInternal=E.startAngle,V._endAngleInternal=E.endAngle})},F.prototype.updateRadius=function(){var E=this.chartContainer,V=getArcRect(this.startAngle,this.endAngle,1),U={x:0,y:0,width:0,height:0},W=this.innerRadius;W instanceof Percent&&(U=getArcRect(this.startAngle,this.endAngle,W.value)),V=getCommonRectangle([V,U]);var Y=Math.min(E.innerWidth/V.width,E.innerHeight/V.height);isNumber(Y)||(Y=0);var G=relativeRadiusToValue(this.radius,Y),X=relativeRadiusToValue(this.innerRadius,Y),K=(G-X)/this.series.length;(G!=this._chartPixelRadius||X!=this._chartPixelInnerRadius)&&(this._chartPixelRadius=G,this._chartPixelInnerRadius=X,each(indexed(this.series.iterator()),function(Z){var J=Z[0],Q=Z[1],ee=X+relativeRadiusToValue(Q.radius,G-X),te=X+relativeRadiusToValue(Q.innerRadius,G-X);isNumber(ee)||(ee=X+K*(J+1)),isNumber(te)||(te=X+K*J),Q.pixelRadius=ee,Q.pixelInnerRadius=te}),this.seriesContainer.definedBBox={x:G*V.x,y:G*V.y,width:G*V.width,height:G*V.height},this.seriesContainer.invalidateLayout())},Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),F.prototype.createSeries=function(){return new PieSeries},Object.defineProperty(F.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(E){this.setPropertyValue("startAngle",E)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(E){this.setPropertyValue("endAngle",E)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),F}(PercentChart);registry.registeredClasses.PieChart=PieChart;registry.registeredClasses.PieChartDataItem=PieChartDataItem;var PieSeries3DDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PieSeries3DDataItem",E.values.depthValue={},E.applyTheme(),E}return Object.defineProperty(F.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(E){this.setValue("depthValue",E)},enumerable:!0,configurable:!0}),F}(PieSeriesDataItem),PieSeries3D=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PieSeries3D",E.applyTheme(),E}return F.prototype.createDataItem=function(){return new PieSeries3DDataItem},F.prototype.createSlice=function(){return new Slice3D},F.prototype.validateDataElement=function(E){var V=E.slice,U=this.depth;isNumber(U)||(U=this.chart.depth);var W=E.values.depthValue.percent;isNumber(W)||(W=100),V.depth=W*U/100;var Y=this.angle;isNumber(Y)||(Y=this.chart.angle),V.angle=Y,R.prototype.validateDataElement.call(this,E)},F.prototype.validate=function(){R.prototype.validate.call(this);for(var E=this._workingStartIndex;E<this._workingEndIndex;E++){var V=this.dataItems.getIndex(E),U=V.slice,W=U.startAngle;W>=-90&&W<90?U.toFront():W>=90&&U.toBack()}},Object.defineProperty(F.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(E){this.setPropertyValue("depth",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(E){this.setPropertyValue("angle",E)},enumerable:!0,configurable:!0}),F.prototype.positionBullet=function(E){R.prototype.positionBullet.call(this,E);var V=E.dataItem,U=V.slice;E.y=E.pixelY-U.depth},F}(PieSeries);registry.registeredClasses.PieSeries3D=PieSeries3D;registry.registeredClasses.PieSeries3DDataItem=PieSeries3DDataItem;(function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PieChart3DDataItem",E.applyTheme(),E}return F})(PieChartDataItem);var PieChart3D=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PieChart3D",E.depth=20,E.angle=10,E.applyTheme(),E}return Object.defineProperty(F.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(E){this.setPropertyValue("depth",E)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(E){E=fitToRange(E,0,90),this.setPropertyValue("angle",E)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),F.prototype.createSeries=function(){return new PieSeries3D},F}(PieChart);registry.registeredClasses.PieChart3D=PieChart3D;var SlicedChartDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="SlicedChartDataItem",E.applyTheme(),E}return F}(PercentChartDataItem),SlicedChart=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="SlicedChart",E.seriesContainer.layout="horizontal",E.padding(15,15,15,15),E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},F.prototype.validate=function(){R.prototype.validate.call(this)},F}(PercentChart);registry.registeredClasses.SlicedChart=SlicedChart;registry.registeredClasses.SlicedChartDataItem=SlicedChartDataItem;var FlowDiagramNode=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.legendSettings=new LegendSettings,E.className="FlowDiagramNode",E.isMeasured=!1,new InterfaceColorSet,E.draggable=!0,E.inert=!0,E.setStateOnChildren=!0,E.events.on("positionchanged",E.invalidateLinks,E,!1),E.events.on("sizechanged",E.invalidateLinks,E,!1),E}return F.prototype.handleHit=function(E){this.isHidden||this.isHiding?this.show():this.hide()},F.prototype.show=function(E){var V=R.prototype.show.call(this,E);return this.outgoingDataItems.each(function(U){(!U.toNode||U.toNode&&!U.toNode.isHidden)&&(U.setWorkingValue("value",U.getValue("value"),E),U.link.show())}),this.incomingDataItems.each(function(U){(!U.fromNode||U.fromNode&&!U.fromNode.isHidden)&&(U.setWorkingValue("value",U.getValue("value"),E),U.link.show())}),V},F.prototype.hide=function(E){var V=R.prototype.hide.call(this,E);return this.outgoingDataItems.each(function(U){U.setWorkingValue("value",0,E),U.link.hide()}),this.incomingDataItems.each(function(U){U.setWorkingValue("value",0,E),U.link.hide()}),V},F.prototype.validate=function(){this.isDisposed()||(R.prototype.validate.call(this),this.invalidateLinks())},F.prototype.invalidateLinks=function(){var E=this;this.outgoingDataItems.each(function(V){var U=V.link;if(U.colorMode=="fromNode"&&(U.fill=U.dataItem.fromNode.color),U.colorMode=="gradient"){U.fill=U.gradient,U.stroke=U.gradient;var W=U.gradient.stops.getIndex(0);W&&(W.color=E.color,U.gradient.validate())}}),this.incomingDataItems.each(function(V){var U=V.link;if(U.colorMode=="toNode"&&(U.fill=U.dataItem.toNode.color),U.colorMode=="gradient"){U.fill=U.gradient,U.stroke=U.gradient;var W=U.gradient.stops.getIndex(1);W&&(W.color=E.color,U.gradient.validate())}})},Object.defineProperty(F.prototype,"incomingDataItems",{get:function(){var E=this;if(!this._incomingDataItems){var V=new List;V.events.on("inserted",function(){E.chart.sortBy=="name"?E._incomingSorted=sort(E._incomingDataItems.iterator(),function(U,W){return order$1(U.fromName,W.fromName)}):E.chart.sortBy=="value"?E._incomingSorted=sort(E._incomingDataItems.iterator(),function(U,W){return reverse(order(U.value,W.value))}):E._incomingSorted=E._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=V}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"outgoingDataItems",{get:function(){var E=this;if(!this._outgoingDataItems){var V=new List;V.events.on("inserted",function(){E.chart.sortBy=="name"?E._outgoingSorted=sort(E._outgoingDataItems.iterator(),function(U,W){return order$1(U.fromName,W.fromName)}):E.chart.sortBy=="value"?E._outgoingSorted=sort(E._outgoingDataItems.iterator(),function(U,W){return reverse(order(U.value,W.value))}):E._outgoingSorted=E._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=V}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(E){this.setPropertyValue("name",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(E){this.setPropertyValue("total",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(E){this.setPropertyValue("totalIncoming",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(E){this.setPropertyValue("totalOutgoing",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(E){this.setColorProperty("color",E),this._background&&(this._background.fill=E),this.fill=E},enumerable:!0,configurable:!0}),F.prototype.createLegendMarker=function(E){var V=E.pixelWidth,U=E.pixelHeight;E.removeChildren();var W=E.createChild(RoundedRectangle);W.shouldClone=!1,copyProperties$1(this,W,visualProperties),W.stroke=this.fill,W.copyFrom(this),W.padding(0,0,0,0),W.width=V,W.height=U;var Y=E.dataItem;Y.color=W.fill,Y.colorOrig=W.fill},Object.defineProperty(F.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(E){this._legendDataItem=E,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),F}(Container);registry.registeredClasses.FlowDiagramNode=FlowDiagramNode;var FlowDiagramLink=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="FlowDiagramLink";var V=new InterfaceColorSet;return E.maskBullets=!1,E.colorMode="fromNode",E.layout="none",E.isMeasured=!1,E.startAngle=0,E.endAngle=0,E.strokeOpacity=0,E.verticalCenter="none",E.horizontalCenter="none",E.tooltipText="{fromName}\u2192{toName}:{value.value}",E.tooltipLocation=.5,E.link=E.createChild(Sprite),E.link.shouldClone=!1,E.link.setElement(E.paper.add("path")),E.link.isMeasured=!1,E.fillOpacity=.2,E.fill=V.getFor("alternativeBackground"),E.applyTheme(),E}return F.prototype.positionBullets=function(){var E=this;each(this.bullets.iterator(),function(V){V.parent=E.bulletsContainer,V.maxWidth=E.maxWidth,V.maxHeight=E.maxHeight,E.positionBullet(V)})},Object.defineProperty(F.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var E=this.createChild(Container);E.shouldClone=!1,E.layout="none",this._bulletsContainer=E}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var E=this.createChild(Sprite);E.shouldClone=!1,E.setElement(this.paper.add("path")),E.isMeasured=!1,this._bulletsMask=E}return this._bulletsMask},enumerable:!0,configurable:!0}),F.prototype.positionBullet=function(E){var V=E.locationX;isNumber(V)||(V=E.locationY),isNumber(V)||(V=.5);var U=this.middleLine.positionToPoint(V);E.moveTo(U);var W=E.propertyFields.rotation,Y;if(E.dataItem){var G=E.dataItem.dataContext;Y=G[W]}isNumber(Y)||(Y=U.angle),E.rotation=Y},Object.defineProperty(F.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(E){this.setPropertyValue("startAngle",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(E){this.setPropertyValue("endAngle",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(E){if(E=="gradient"){var V=this.fill;this.gradient.stops.clear(),V instanceof Color$1&&(this.gradient.addColor(V),this.gradient.addColor(V)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(E){this.setPropertyValue("maskBullets",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(E){this.setPropertyValue("tooltipLocation",E,!0)},enumerable:!0,configurable:!0}),F.prototype.setFill=function(E){R.prototype.setFill.call(this,E);var V=this._gradient;V&&E instanceof Color$1&&(V.stops.clear(),V.addColor(E),V.addColor(E))},F.prototype.measureElement=function(){},Object.defineProperty(F.prototype,"bullets",{get:function(){var E=this;return this._bullets||(this._bullets=new ListTemplate(new Bullet),this._disposers.push(new ListDisposer(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(V){V.newValue.events.on("propertychanged",function(U){(U.property=="locationX"||U.property=="locationY")&&E.positionBullet(U.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.bullets.copyFrom(E.bullets);var V=this.middleLine;V&&(V instanceof Line&&E.middleLine instanceof Line&&V.copyFrom(E.middleLine),V instanceof Polyline&&E.middleLine instanceof Polyline&&V.copyFrom(E.middleLine)),this.link.copyFrom(E.link)},F.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},F.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(F.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new LinearGradient),this._gradient},enumerable:!0,configurable:!0}),F}(Container);registry.registeredClasses.FlowDiagramLink=FlowDiagramLink;var FlowDiagramDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="FlowDiagramDataItem",E.values.value={},E.applyTheme(),E}return Object.defineProperty(F.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(E){this.setProperty("fromName",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"toName",{get:function(){return this.properties.toName},set:function(E){this.setProperty("toName",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"color",{get:function(){return this.properties.color},set:function(E){this.setProperty("color",toColor(E))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"value",{get:function(){return this.values.value.value},set:function(E){this.setValue("value",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"link",{get:function(){var E=this;if(!this._link){var V=this.component.links.create();this._link=V,this.addSprite(V),this._disposers.push(new Disposer(function(){E.component&&E.component.links.removeValue(V)}))}return this._link},enumerable:!0,configurable:!0}),F}(ChartDataItem),FlowDiagram=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.colors=new ColorSet,E.className="FlowDiagram",E.nodePadding=20,E.sortBy="none",E.sequencedInterpolation=!0,E.colors.step=2,E.minNodeSize=.02;var V=E.chartContainer.createChild(Container);V.shouldClone=!1,V.layout="none",V.isMeasured=!1,E.linksContainer=V;var U=E.chartContainer.createChild(Container);return U.shouldClone=!1,U.layout="none",U.isMeasured=!1,E.nodesContainer=U,E.dataItem=E.createDataItem(),E.dataItem.component=E,E.applyTheme(),E}return F.prototype.dispose=function(){R.prototype.dispose.call(this),this.dataItem.dispose()},F.prototype.validateData=function(){var E=this;this._parseDataFrom==0&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),R.prototype.validateData.call(this);var V=0,U=0,W,Y;each(this.dataItems.iterator(),function(X){var K=X.fromName;if(K){var Z=E.nodes.getKey(K);Z||(Z=E.nodes.create(K),Z.name=K,Z.chart=E,Z.dataItem=X),X.fromNode=Z,X.fromNode.outgoingDataItems.push(X)}var J=X.toName;if(J){var Z=E.nodes.getKey(J);Z||(Z=E.nodes.create(J),Z.name=J,Z.chart=E,Z.dataItem=X),X.toNode=Z,X.toNode.incomingDataItems.push(X)}if(!X.fromNode){var Q=new LinearGradientModifier;Q.opacities=[0,1],X.link.strokeModifier=Q}if(!X.toNode){var ee=new LinearGradientModifier;ee.opacities=[1,0],X.link.strokeModifier=ee}var te=X.value;isNumber(te)&&(V+=te,U++,(W>te||!isNumber(W))&&(W=te),(Y<te||!isNumber(Y))&&(Y=te))});var G="value";this.dataItem.setCalculatedValue(G,Y,"high"),this.dataItem.setCalculatedValue(G,W,"low"),this.dataItem.setCalculatedValue(G,V,"sum"),this.dataItem.setCalculatedValue(G,V/U,"average"),this.dataItem.setCalculatedValue(G,U,"count"),each(this.nodes.iterator(),function(X){var K=X[1];K.fill instanceof Color$1&&(K.color=K.fill),K.color==null&&(K.color=E.colors.next()),K.dataItem.color!=null&&(K.color=K.dataItem.color),K.dataItem.visible||K.hide(0),E.getNodeValue(K)}),this.sortNodes(),this.feedLegend()},F.prototype.handleDataItemWorkingValueChange=function(E,V){this.invalidate()},F.prototype.sortNodes=function(){this.sortBy=="name"?this._sorted=this.nodes.sortedIterator():this.sortBy=="value"?this._sorted=sort(this.nodes.iterator(),function(E,V){return reverse(order(E[1].total,V[1].total))}):this._sorted=this.nodes.iterator()},F.prototype.getNodeValue=function(E){var V=0,U=0;each(E.incomingDataItems.iterator(),function(W){var Y=W.getWorkingValue("value");isNumber(Y)&&(V+=Y)}),each(E.outgoingDataItems.iterator(),function(W){var Y=W.getWorkingValue("value");isNumber(Y)&&(U+=Y)}),E.total=V+U,E.totalIncoming=V,E.totalOutgoing=U},F.prototype.changeSorting=function(){this.sortNodes()},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},F.prototype.createDataItem=function(){return new FlowDiagramDataItem},Object.defineProperty(F.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(E){this.setPropertyValue("nodePadding",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(E){this.setPropertyValue("sortBy",E),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(E){this.setPropertyValue("minNodeSize",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"nodes",{get:function(){if(!this._nodes){var E=this.createNode();E.events.on("hit",function(V){V.target.handleHit(V)}),this._nodes=new DictionaryTemplate(E),this._disposers.push(new DictionaryDisposer(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),F.prototype.createNode=function(){var E=new FlowDiagramNode;return this._disposers.push(E),E},Object.defineProperty(F.prototype,"links",{get:function(){return this._links||(this._links=new ListTemplate(this.createLink()),this._disposers.push(new ListDisposer(this._links))),this._links},enumerable:!0,configurable:!0}),F.prototype.createLink=function(){var E=new FlowDiagramLink;return this._disposers.push(E),E},F.prototype.feedLegend=function(){var E=this.legend;if(E){var V=[];this.nodes.each(function(U,W){V.push(W)}),E.data=V,E.dataFields.name="name"}},F.prototype.disposeData=function(){R.prototype.disposeData.call(this),this.nodes.clear()},F}(Chart);registry.registeredClasses.FlowDiagram=FlowDiagram;var LabelBullet=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="LabelBullet";var V=E.createChild(Label);return V.shouldClone=!1,V.verticalCenter="middle",V.horizontalCenter="middle",V.truncate=!0,V.hideOversized=!1,V.maxWidth=500,V.maxHeight=500,V.stroke=color$1(),V.strokeOpacity=0,V.fill=new InterfaceColorSet().getFor("text"),E.events.on("maxsizechanged",E.handleMaxSize,E,!1),E.label=V,E.applyTheme(),E}return F.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.label.copyFrom(E.label)},F}(Bullet);registry.registeredClasses.LabelBullet=LabelBullet;var SankeyNode=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.nextInCoord=0,E.nextOutCoord=0,E.className="SankeyNode",E.width=10,E.height=10;var V=E.createChild(LabelBullet);V.shouldClone=!1,V.locationX=1,V.locationY=.5,V.label.text="{name}",V.width=150,V.height=150,V.label.horizontalCenter="left",V.label.padding(0,5,0,5),E.nameLabel=V;var U=E.createChild(LabelBullet);U.shouldClone=!1,U.label.hideOversized=!1,U.locationX=.5,U.locationY=.5,U.width=150,U.height=150,U.label.horizontalCenter="middle",E.valueLabel=U;var W=E.hiddenState;return W.properties.fill=new InterfaceColorSet().getFor("disabledBackground"),W.properties.opacity=.5,W.properties.visible=!0,E.background.hiddenState.copyFrom(W),E}return F.prototype.invalidateLinks=function(){var E=this;R.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var V=this.chart;if(V){var U=V.orientation;this._incomingSorted&&each(this._incomingSorted,function(W){var Y=W.link,G=W.getWorkingValue("value");if(isNumber(G)){Y.parent=E.chart.linksContainer;var X=void 0,K=void 0,Z=void 0;if(U=="horizontal"?(X=E.pixelX+E.dx,K=E.nextInCoord+E.pixelY+E.dy,Z=0):(K=E.pixelY+E.dy,X=E.nextInCoord+E.pixelX+E.dx,Z=90),Y.endX=X,Y.endY=K,Y.startAngle=Z,Y.endAngle=Z,Y.gradient.rotation=Z,Y.linkWidth=G*V.valueHeight,!W.fromNode){U=="horizontal"?(Y.maxWidth=200,Y.startX=E.pixelX+E.dx-Y.maxWidth,Y.startY=Y.endY):(Y.maxHeight=200,Y.startX=Y.endX,Y.startY=E.pixelY+E.dy-Y.maxHeight),Y.gradient,Y.fill=W.toNode.color;var J=Y.gradient.stops.getIndex(0);J&&(Y.colorMode=="gradient"&&(J.color=E.color),J.opacity=0,Y.fill=Y.gradient,Y.stroke=Y.gradient,Y.gradient.validate())}E.nextInCoord+=Y.linkWidth}}),this._outgoingSorted&&each(this._outgoingSorted,function(W){var Y=W.link;Y.parent=E.chart.linksContainer;var G=W.getWorkingValue("value");if(isNumber(G)){var X=void 0,K=void 0,Z=void 0;if(U=="horizontal"?(Z=0,X=E.pixelX+E.pixelWidth+E.dx-1,K=E.nextOutCoord+E.pixelY+E.dy):(Z=90,X=E.nextOutCoord+E.pixelX+E.dx,K=E.pixelY+E.pixelHeight+E.dy-1),Y.startX=X,Y.startY=K,Y.startAngle=Z,Y.endAngle=Z,Y.gradient.rotation=Z,Y.linkWidth=G*E.chart.valueHeight,!W.toNode){U=="horizontal"?(Y.maxWidth=200,Y.endX=E.pixelX+Y.maxWidth+E.dx,Y.endY=Y.startY):(Y.maxHeight=200,Y.endX=Y.startX,Y.endY=E.pixelY+Y.maxHeight+E.dy),Y.opacity=E.opacity;var J=Y.gradient.stops.getIndex(1);J&&(Y.colorMode=="gradient"&&(J.color=E.color),J.opacity=0,Y.fill=Y.gradient,Y.stroke=Y.gradient,Y.gradient.validate())}E.nextOutCoord+=Y.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},F.prototype.positionBullet=function(E){E&&(E.x=this.measuredWidth*E.locationX,E.y=this.measuredHeight*E.locationY)},Object.defineProperty(F.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(E){this.setPropertyValue("level",E,!0)},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.nameLabel.copyFrom(E.nameLabel),this.valueLabel.copyFrom(E.valueLabel)},F}(FlowDiagramNode);registry.registeredClasses.SankeyNode=SankeyNode;var SankeyLink=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="SankeyLink",new InterfaceColorSet,E.tension=.8,E.controlPointDistance=.2,E.startAngle=0,E.endAngle=0,E.linkWidth=0,E.startX=0,E.endX=0,E.startY=0,E.endY=0,E.middleLine=E.createChild(Polyspline),E.middleLine.shouldClone=!1,E.middleLine.strokeOpacity=0,E.applyTheme(),E}return F.prototype.makeBackwards=function(){this.states.getKey("backwards")!=null&&this.setState("backwards")},F.prototype.validate=function(){var E,V,U,W;if(R.prototype.validate.call(this),!this.isTemplate){var Y=this.startX,G=this.startY,X=this.endX,K=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var Z=this.dataItem.component;Z&&(Z.orientation=="horizontal"?X<Y&&(E=__read([X,Y],2),Y=E[0],X=E[1],V=__read([K,G],2),G=V[0],K=V[1],this.makeBackwards()):K<G&&(U=__read([K,G],2),G=U[0],K=U[1],W=__read([X,Y],2),Y=W[0],X=W[1],this.makeBackwards()))}isNumber(X)||(X=Y),isNumber(K)||(K=G);var J=this.startAngle,Q=this.endAngle,ee=this.linkWidth,te="",ie=Y,ne=G,ae=X,se=K,oe=Y+ee*sin(J),le=X+ee*sin(Q),ue=G+ee*cos(J),ce=K+ee*cos(Q),he=Y+ee/2*sin(J),de=X+ee/2*sin(Q),fe=G+ee/2*cos(J),Te=K+ee/2*cos(Q);this.zIndex=this.zIndex||this.dataItem.index;var xe=this.tension+(1-this.tension)*sin(J),pe=this.tension+(1-this.tension)*cos(J);if(this.middleLine.tensionX=xe,this.middleLine.tensionY=pe,isNumber(ee)&&isNumber(Y)&&isNumber(X)&&isNumber(G)&&isNumber(K)){round$2(ie,3)==round$2(ae,3)&&(ae+=.01),round$2(ne,3)==round$2(se,3)&&(se+=.01),round$2(oe,3)==round$2(le,3)&&(le+=.01),round$2(ue,3)==round$2(ce,3)&&(ce+=.01);var _e=Math.min(oe,le,ie,ae),Ce=Math.min(ue,ce,ne,se),be=Math.max(oe,le,ie,ae),ge=Math.max(ue,ce,ne,se);this._bbox={x:_e,y:Ce,width:be-_e,height:ge-Ce};var we=this.controlPointDistance,Pe=ie+(ae-ie)*we*cos(J),Oe=ne+(se-ne)*we*sin(J),Ae=ae-(ae-ie)*we*cos(Q),Se=se-(se-ne)*we*sin(Q),ye=he+(de-he)*we*cos(J),$e=fe+(Te-fe)*we*sin(J),ke=de-(de-he)*we*cos(Q),Ee=Te-(Te-fe)*we*sin(Q),Ie=getAngle({x:Pe,y:Oe},{x:Ae,y:Se}),Le=(ee/cos(Ie)-ee)/tan(Ie)*cos(J),Be=(ee/sin(Ie)-ee)*tan(Ie)*sin(J),Fe=-Le/2+oe+(le-oe)*we*cos(J),Ne=-Be/2+ue+(ce-ue)*we*sin(J),He=-Le/2+le-(le-oe)*we*cos(Q),Re=-Be/2+ce-(ce-ue)*we*sin(Q);Te==fe&&(Te+=.01),this.middleLine.segments=[[{x:he,y:fe},{x:ye,y:$e},{x:ke,y:Ee},{x:de,y:Te}]],Pe+=Le/2,Oe+=Be/2,Ae+=Le/2,Se+=Be/2,te+=moveTo({x:ie,y:ne}),te+=new Tension(xe,pe).smooth([{x:ie,y:ne},{x:Pe,y:Oe},{x:Ae,y:Se},{x:ae,y:se}]),te+=lineTo({x:le,y:ce}),te+=new Tension(xe,pe).smooth([{x:le,y:ce},{x:He,y:Re},{x:Fe,y:Ne},{x:oe,y:ue}]),te+=closePath()}this.link.path=te,this.maskBullets&&(this.bulletsMask.path=te,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(F.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(E){this.setPropertyValue("startX",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(E){this.setPropertyValue("endX",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(E){this.setPropertyValue("startY",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(E){this.setPropertyValue("endY",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(E){this.setPropertyValue("linkWidth",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(E){this.setPropertyValue("controlPointDistance",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(E){this.setPropertyValue("tension",E,!0)},enumerable:!0,configurable:!0}),F}(FlowDiagramLink);registry.registeredClasses.SankeyLink=SankeyLink;var SankeyDiagramDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="SankeyDiagramDataItem",E.applyTheme(),E}return F}(FlowDiagramDataItem),SankeyDiagram=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="SankeyDiagram",E.orientation="horizontal",E.nodeAlign="middle",E.nodesContainer.width=percent(100),E.nodesContainer.height=percent(100),E.linksContainer.width=percent(100),E.linksContainer.height=percent(100),E.applyTheme(),E}return F.prototype.validateData=function(){var E=this;this._valueHeight=void 0,R.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(V,U){U.level=void 0}),this.nodes.each(function(V,U){U.level=E.getNodeLevel(U,0),E._levelCount=max$2(E._levelCount,U.level)})},F.prototype.getNodeLevel=function(E,V){var U=this,W=[V];return each(E.incomingDataItems.iterator(),function(Y){Y.fromNode&&(isNumber(Y.fromNode.level)?W.push(Y.fromNode.level+1):(U._counter=0,U.checkLoop(Y.fromNode),U._counter<U.dataItems.length&&W.push(U.getNodeLevel(Y.fromNode,V+1))))}),Math.max.apply(Math,__spread(W))},F.prototype.checkLoop=function(E){var V=this;this._counter++,!(this._counter>this.dataItems.length)&&each(E.incomingDataItems.iterator(),function(U){V.checkLoop(U.fromNode)})},F.prototype.calculateValueHeight=function(){var E=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var V=this.dataItem.values.value.sum;each(this._sorted,function(J){var Q=J[1];E.getNodeValue(Q)}),this.nodes.each(function(J,Q){var ee=Q.level,te=Math.max(Q.totalIncoming,Q.totalOutgoing);te/V<E.minNodeSize&&(te=V*E.minNodeSize),isNumber(E._levelSum[ee])?E._levelSum[ee]+=te:E._levelSum[ee]=te,isNumber(E._levelNodesCount[ee])?E._levelNodesCount[ee]++:E._levelNodesCount[ee]=1});var U;this.orientation=="horizontal"?U=this.chartContainer.maxHeight-1:U=this.chartContainer.maxWidth-1;var W,Y;each$1(this._levelSum,function(J,Q){var ee=Q,te=E._levelNodesCount[J],ie=(U-(te-1)*E.nodePadding)/ee;ie==1/0&&(ie=0),(Y>ie||!isNumber(Y))&&(Y=ie,E.maxSum=ee,W=toNumber(J))}),this._maxSumLevel=W;var G=this._levelNodesCount[this._maxSumLevel],X=(U-(G-1)*this.nodePadding)/this.maxSum;if(X==1/0&&(X=0),!isNumber(this.valueHeight))this.valueHeight=X;else{var K=void 0;try{K=this._heightAnimation.animationOptions[0].to}catch{}if(K!=X){var Z=this.interpolationDuration;try{Z=this.nodes.template.states.getKey("active").transitionDuration}catch{}this._heightAnimation=new Animation(this,{property:"valueHeight",from:this.valueHeight,to:X},Z,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}},F.prototype.validate=function(){var E=this;R.prototype.validate.call(this),this.calculateValueHeight();var V=this.nodesContainer,U={},W=this._levelNodesCount[this._maxSumLevel],Y=this.dataItem.values.value.sum,G;this.orientation=="horizontal"?G=this.chartContainer.maxHeight-1:G=this.chartContainer.maxWidth-1,each(this._sorted,function(X){var K=X[1],Z=K.level,J=0,Q=E._levelNodesCount[Z];switch(E.nodeAlign){case"bottom":J=(E.maxSum-E._levelSum[Z])*E.valueHeight-(Q-W)*E.nodePadding;break;case"middle":J=(E.maxSum-E._levelSum[Z])*E.valueHeight/2-(Q-W)*E.nodePadding/2;break}if(E.maxSum==0)switch(E.nodeAlign){case"bottom":J=G-Q*(E.minNodeSize*G+E.nodePadding);break;case"middle":J=G/2-Q/2*(E.minNodeSize*G+E.nodePadding);break}K.parent=V;var ee,te,ie,ne=Math.max(K.totalIncoming,K.totalOutgoing);if(ne/Y<E.minNodeSize&&(ne=Y*E.minNodeSize),E.orientation=="horizontal"){ee=(E.innerWidth-K.pixelWidth)/E._levelCount,te=ee*K.level,ie=U[Z]||J;var ae=ne*E.valueHeight;Y==0&&ae==0&&(ae=E.minNodeSize*G),K.height=ae,K.minX=te,K.maxX=te,U[Z]=ie+ae+E.nodePadding}else{ee=(E.innerHeight-K.pixelHeight)/E._levelCount,te=U[Z]||J,ie=ee*K.level;var se=ne*E.valueHeight;Y==0&&se==0&&(se=E.minNodeSize*G),K.width=se,K.minY=ie,K.maxY=ie,U[Z]=te+se+E.nodePadding}K.x=te,K.y=ie})},F.prototype.showReal=function(E){var V=this;if(!this.preventShow){if(this.interpolationDuration>0){var U=this.nodesContainer,W=0;each(this.links.iterator(),function(Y){Y.hide(0)}),each(this._sorted,function(Y){var G=Y[1],X;V.orientation=="horizontal"?(G.dx=-(U.pixelWidth-G.pixelWidth)/Math.max(V._levelCount,1),X="dx"):(G.dy=-(U.pixelHeight-G.pixelHeight)/Math.max(V._levelCount,1),X="dy");var K=0,Z=V.interpolationDuration;V.sequencedInterpolation&&(K=V.sequencedInterpolationDelay*W+Z*W/length(V.nodes.iterator())),G.opacity=0,G.invalidateLinks(),G.animate([{property:"opacity",from:0,to:1},{property:X,to:0}],V.interpolationDuration,V.interpolationEasing).delay(K),each(G.outgoingDataItems.iterator(),function(J){var Q=J.link.show(V.interpolationDuration);Q&&!Q.isFinished()&&Q.delay(K)}),each(G.incomingDataItems.iterator(),function(J){if(!J.fromNode){var Q=J.link.show(V.interpolationDuration);Q&&!Q.isFinished()&&Q.delay(K)}}),W++})}return R.prototype.showReal.call(this)}},F.prototype.changeSorting=function(){var E=this;this.sortNodes();var V={};each(this._sorted,function(U){var W=U[1],Y=W.level,G=(E.maxSum-E._levelSum[Y])*E.valueHeight/2,X,K;E.orientation=="horizontal"?(X="y",K=W.pixelHeight):(X="x",K=W.pixelWidth),W.animate({property:X,to:V[Y]||G},E.interpolationDuration,E.interpolationEasing),V[Y]=(V[Y]||G)+K+E.nodePadding,W.invalidateLinks()})},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},F.prototype.createDataItem=function(){return new SankeyDiagramDataItem},Object.defineProperty(F.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(E){this.setPropertyValue("nodeAlign",E),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(E){this.setPropertyValue("orientation",E,!0);var V=this.nodes.template.nameLabel;E=="vertical"?(this.nodes.template.width=void 0,V.label.horizontalCenter="middle",V.locationX=.5):(this.nodes.template.height=void 0,V.label.horizontalCenter="left",V.locationX=1)},enumerable:!0,configurable:!0}),F.prototype.createNode=function(){var E=new SankeyNode;return this._disposers.push(E),E},F.prototype.createLink=function(){var E=new SankeyLink;return this._disposers.push(E),E},Object.defineProperty(F.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(E){E!=this._valueHeight&&(this._valueHeight=E,this.invalidate())},enumerable:!0,configurable:!0}),F.prototype.disposeData=function(){R.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},F}(FlowDiagram);registry.registeredClasses.SankeyDiagram=SankeyDiagram;var ChordNode=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="ChordNode";var V=E.createChild(AxisLabelCircular);V.location=.5,V.radius=5,V.text="{name}",V.zIndex=1,V.shouldClone=!1,E.label=V,E.layout="none",E.events.on("positionchanged",E.updateRotation,E,!1),E.isMeasured=!1,E.slice=E.createChild(Slice),E.slice.isMeasured=!1;var U=E.hiddenState;return U.properties.fill=new InterfaceColorSet().getFor("disabledBackground"),U.properties.opacity=.5,U.properties.visible=!0,E.setStateOnChildren=!1,E.slice.hiddenState.properties.visible=!0,E.adapter.add("tooltipX",function(W,Y){return Y.slice.ix*(Y.slice.radius-(Y.slice.radius-Y.slice.pixelInnerRadius)/2)}),E.adapter.add("tooltipY",function(W,Y){return Y.slice.iy*(Y.slice.radius-(Y.slice.radius-Y.slice.pixelInnerRadius)/2)}),E}return F.prototype.invalidateLinks=function(){var E=this;R.prototype.invalidateLinks.call(this);var V=this.label,U=this.slice,W=this.chart;if(W&&U){var Y=this.total,G=U.arc,X=U.startAngle;this.children.each(function(J){if(J instanceof Bullet){var Q=J.locationX;isNumber(Q)||(Q=.5);var ee=J.locationY;isNumber(ee)||(ee=1);var te=X+G*Q,ie=ee*U.radius;J.x=ie*cos(te),J.y=ie*sin(te)}});var K=X+G*V.location,Z=X+(1-Y/this.adjustedTotal)*G*.5;isNaN$1(Z)&&(Z=X),V.fixPosition(K,U.radius),this.nextAngle=Z,this._outgoingSorted&&each(this._outgoingSorted,function(J){var Q=J.link;Q.parent=E.chart.linksContainer;var ee=J.getWorkingValue("value");if(isNumber(ee)){if(W.nonRibbon){var te=Q.percentWidth;isNumber(te)||(te=5),te=te/100,Q.startAngle=X+G/2-G/2*te,Q.arc=G*te}else Q.arc=ee*W.valueAngle,Q.startAngle=E.nextAngle,E.nextAngle+=Q.arc;J.toNode||(Q.endAngle=Q.startAngle),Q.radius=U.pixelInnerRadius}}),this._incomingSorted&&each(this._incomingSorted,function(J){var Q=J.link;if(Q.radius=U.pixelInnerRadius,W.nonRibbon){var ee=Q.percentWidth;isNumber(ee)||(ee=5),ee=ee/100,Q.endAngle=X+G/2-G/2*ee,Q.arc=G*ee}else{Q.endAngle=E.nextAngle;var te=J.getWorkingValue("value");isNumber(te)&&(Q.arc=te*W.valueAngle,E.nextAngle+=Q.arc)}J.fromNode||(Q.startAngle=Q.endAngle)})}},F.prototype.updateRotation=function(){var E=this.slice,V=this.trueStartAngle+E.arc/2,U=E.radius,W=U*cos(V),Y=U*sin(V),G=getAngle({x:W+this.pixelX,y:Y+this.pixelY});E.startAngle=this.trueStartAngle+(G-V),this.dx=-this.pixelX,this.dy=-this.pixelY},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.label.copyFrom(E.label),this.slice.copyFrom(E.slice)},F}(FlowDiagramNode);registry.registeredClasses.ChordNode=ChordNode;var QuadraticCurve=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="QuadraticCurve",E.element=E.paper.add("path"),E.pixelPerfect=!1,E.fill=color$1(),E.applyTheme(),E}return F.prototype.draw=function(){if(isNumber(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var E={x:this.x1,y:this.y1},V={x:this.x2,y:this.y2},U={x:this.cpx,y:this.cpy},W=moveTo(E)+quadraticCurveTo(V,U);this.path=W}},Object.defineProperty(F.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(E){this.setPropertyValue("cpx",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(E){this.setPropertyValue("cpy",E,!0)},enumerable:!0,configurable:!0}),F.prototype.positionToPoint=function(E){var V={x:this.x1,y:this.y1},U={x:this.cpx,y:this.cpy},W={x:this.x2,y:this.y2},Y=getPointOnQuadraticCurve(V,W,U,E),G=getPointOnQuadraticCurve(V,W,U,E+.001);return{x:Y.x,y:Y.y,angle:getAngle(Y,G)}},F}(Line),ChordLink=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ChordLink",E.middleLine=E.createChild(QuadraticCurve),E.middleLine.shouldClone=!1,E.middleLine.strokeOpacity=0,E.applyTheme(),E}return F.prototype.validate=function(){if(R.prototype.validate.call(this),!this.isTemplate){var E=this.startAngle,V=this.endAngle,U=this.arc,W=this.radius,Y=this.dataItem.fromNode,G=this.dataItem.toNode,X=0,K=0;Y&&(X=Y.pixelX+Y.dx,K=Y.pixelY+Y.dy);var Z=0,J=0;if(G&&(Z=G.pixelX+G.dx,J=G.pixelY+G.dy),W>0){var Q=W*cos(E)+X,ee=W*sin(E)+K,te=W*cos(V)+Z,ie=W*sin(V)+J,ne={x:0,y:0},ae=moveTo({x:Q,y:ee});ae+=arcTo(E,U,W),ae+=quadraticCurveTo({x:te,y:ie},ne),ae+=arcTo(V,U,W),ae+=quadraticCurveTo({x:Q,y:ee},ne),U>0?this.link.path=ae:this.link.path="",this.maskBullets&&(this.bulletsMask.path=ae,this.bulletsContainer.mask=this.bulletsMask);var se=E+U/2,oe=V+U/2,le=this.middleLine;le.x1=W*cos(se)+X,le.y1=W*sin(se)+K,le.x2=W*cos(oe)+Z,le.y2=W*sin(oe)+J,le.cpx=0,le.cpy=0,le.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPropertyValue("radius",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(E){this.setPropertyValue("arc",E,!0)},enumerable:!0,configurable:!0}),F}(FlowDiagramLink);registry.registeredClasses.ChordLink=ChordLink;var ChordDiagramDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ChordDiagramDataItem",E.applyTheme(),E}return F}(FlowDiagramDataItem),ChordDiagram=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.valueAngle=0,E.className="ChordDiagram",E.startAngle=-90,E.endAngle=270,E.radius=percent(80),E.innerRadius=-15,E.nodePadding=5;var V=E.chartContainer.createChild(Container);return V.align="center",V.valign="middle",V.shouldClone=!1,V.layout="absolute",E.chordContainer=V,E.nodesContainer.parent=V,E.linksContainer.parent=V,E.chartContainer.events.on("maxsizechanged",E.invalidate,E,!1),E.applyTheme(),E}return F.prototype.validate=function(){var E=this,V=this.chartContainer,U=this.endAngle,W=this.startAngle+this.nodePadding/2,Y=getArcRect(this.startAngle,this.endAngle,1),G={x:0,y:0,width:0,height:0};Y=getCommonRectangle([Y,G]);var X=Math.min(V.innerWidth/Y.width,V.innerHeight/Y.height);isNumber(X)||(X=0);var K=relativeRadiusToValue(this.radius,X),Z=relativeRadiusToValue(this.innerRadius,K,!0),J=this.dataItem.values.value.sum,Q=0,ee=0;each(this._sorted,function(te){var ie=te[1];E.getNodeValue(ie),Q++;var ne=ie.total;ie.total/J<E.minNodeSize&&(ne=J*E.minNodeSize),ee+=ne}),this.valueAngle=(U-this.startAngle-this.nodePadding*Q)/ee,each(this._sorted,function(te){var ie=te[1],ne=ie.slice;ne.radius=K,ne.innerRadius=Z;var ae=ie.total;ie.total/J<E.minNodeSize&&(ae=J*E.minNodeSize),ie.adjustedTotal=ae;var se;E.nonRibbon?se=(U-E.startAngle)/Q-E.nodePadding:se=E.valueAngle*ae,ne.arc=se,ne.startAngle=W,ie.trueStartAngle=W,ie.parent=E.nodesContainer,ie.validate(),W+=se+E.nodePadding}),this.chordContainer.definedBBox={x:K*Y.x,y:K*Y.y,width:K*Y.width,height:K*Y.height},this.chordContainer.invalidateLayout(),R.prototype.validate.call(this)},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},F.prototype.createDataItem=function(){return new ChordDiagramDataItem},Object.defineProperty(F.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(E){this.setPropertyValue("startAngle",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(E){this.setPropertyValue("endAngle",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(E){this.setPropertyValue("nonRibbon",E,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),F.prototype.createNode=function(){var E=new ChordNode;return this._disposers.push(E),E},F.prototype.createLink=function(){var E=new ChordLink;return this._disposers.push(E),E},F}(FlowDiagram);registry.registeredClasses.ChordDiagram=ChordDiagram;var Column=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Column",E.width=percent(80),E.height=percent(80),E.events.disableType("transformed"),E.applyOnClones=!0,E.strokeOpacity=1,E.layout="none",E.createAssets(),E.events.on("childadded",E.handleKidAdded,E,!1),E}return F.prototype.handleKidAdded=function(){this.layout=="none"&&(this.layout="absolute")},F.prototype.createAssets=function(){this.column=this.createChild(RoundedRectangle),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},F.prototype.validate=function(){R.prototype.validate.call(this);var E=this.column;E&&(E.width=min$2(this.pixelWidth,this.maxWidth),E.height=min$2(this.pixelHeight,this.maxHeight),E.invalid&&E.validate())},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.column&&this.column.copyFrom(E.column)},Object.defineProperty(F.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:min$2(this.pixelWidth,this.maxWidth),height:min$2(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),F}(Container);registry.registeredClasses.Column=Column;var ColumnSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ColumnSeriesDataItem",E.locations.dateX=.5,E.locations.dateY=.5,E.locations.categoryX=.5,E.locations.categoryY=.5,E.applyTheme(),E}return Object.defineProperty(F.prototype,"column",{get:function(){return this._column},set:function(E){this.setColumn(E)},enumerable:!0,configurable:!0}),F.prototype.setColumn=function(E){var V=this;if(this._column&&E!=this._column&&remove$1(this.sprites,this._column),this._column=E,E){var U=E.dataItem;U&&U!=this&&(U.column=void 0),this.addSprite(E),this._disposers.push(new Disposer(function(){V.component&&V.component.columns.removeValue(E)}))}},Object.defineProperty(F.prototype,"width",{get:function(){var E=this.properties.width;return this._adapterO&&(E=this._adapterO.apply("width",E)),E},set:function(E){this.properties.width!=E&&(this.properties.width=E,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"height",{get:function(){var E=this.properties.height;return this._adapterO&&(E=this._adapterO.apply("height",E)),E},set:function(E){this.properties.height!=E&&(this.properties.height=E,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new Dictionary),this._rangesColumns},enumerable:!0,configurable:!0}),F}(XYSeriesDataItem),ColumnSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._startLocation=0,E._endLocation=1,E.className="ColumnSeries",E.width=percent(100),E.height=percent(100),E.strokeOpacity=0,E.fillOpacity=1,E.clustered=!0;var V=E.mainContainer.createChild(Container);return V.shouldClone=!1,V.isMeasured=!1,V.layout="none",E._columnsContainer=V,E.columns.template.pixelPerfect=!1,E.tooltipColorSource=E.columns.template,E.applyTheme(),E}return Object.defineProperty(F.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},F.prototype.createDataItem=function(){return new ColumnSeriesDataItem},F.prototype.validate=function(){var E=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var V=this.chart.series,U=0,W=0,Y=[];each(V.iterator(),function(ie){if(ie instanceof F&&E.baseAxis==ie.baseAxis){var ne;E.baseAxis==E.xAxis?ne=E.chart.yAxes.indexOf(ie.yAxis):ne=E.chart.xAxes.indexOf(ie.xAxis),Y.push({series:ie,axis:ne})}}),Y.sort(function(ie,ne){return ie.axis-ne.axis});var G;each$2(Y,function(ie){var ne=ie.series;ne instanceof F&&((!ne.stacked&&ne.clustered||G!=ie.axis&&ne.clustered)&&U++,ne==E&&(W=U-1)),G=ie.axis}),this.clustered||(W=0,U=1);var X=this.baseAxis.renderer,K=X.cellStartLocation,Z=X.cellEndLocation;this._startLocation=K+W/U*(Z-K),this._endLocation=K+(W+1)/U*(Z-K);var J=this.xAxis,Q=this.yAxis;J instanceof CategoryAxis&&Q instanceof ValueAxis&&J.sortBySeries==this&&this.sortCategoryAxis(J,"valueY"),Q instanceof CategoryAxis&&J instanceof ValueAxis&&Q.sortBySeries==this&&this.sortCategoryAxis(Q,"valueX")}R.prototype.validate.call(this);for(var ee=0;ee<this.startIndex;ee++){var te=this.dataItems.getIndex(ee);this.disableUnusedColumns(te)}for(var ee=this.dataItems.length-1;ee>this.endIndex;ee--){var te=this.dataItems.getIndex(ee);this.disableUnusedColumns(te)}this._propertiesChanged=!1},F.prototype.sortCategoryAxis=function(E,V){var U=this;this.dataItems.values.sort(function(Y,G){return G.values[V].workingValue-Y.values[V].workingValue});var W=0;this.dataItems.each(function(Y){Y._index=W,W++}),E.dataItems.each(function(Y){var G=Y.component,X=G.categoryToPosition(Y.category)-Y.deltaPosition,K=G.getSeriesDataItemByCategory(Y.category,U);if(K){var Z=U.dataItems.indexOf(K);Y._index=Z;var J=round$2((Z+.5)/U.dataItems.length-X,3);Y.deltaAnimation&&!Y.deltaAnimation.isDisposed()&&Y.deltaAnimation.animationOptions[0].to==J||J!=round$2(Y.deltaPosition,3)&&(Y.deltaAnimation&&Y.deltaAnimation.stop(),Y.deltaAnimation=Y.animate({property:"deltaPosition",from:-J,to:0},G.interpolationDuration,G.interpolationEasing),U._disposers.push(Y.deltaAnimation))}}),E.dataItems.values.sort(function(Y,G){return Y.index-G.index})},F.prototype.validateDataElement=function(E){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(E),R.prototype.validateDataElement.call(this,E))},F.prototype.getStartLocation=function(E){var V=this._startLocation;return this.baseAxis==this.xAxis?V+=E.locations[this.xOpenField]-.5:V+=E.locations[this.yOpenField]-.5,V},F.prototype.getEndLocation=function(E){var V=this._endLocation;return this.baseAxis==this.xAxis?V+=E.locations[this.xField]-.5:V+=E.locations[this.yField]-.5,V},F.prototype.validateDataElementReal=function(E){var V=this,U,W,Y,G,X=this.getStartLocation(E),K=this.getEndLocation(E),Z=this.xField,J=this.xOpenField,Q=this.yField,ee=this.yOpenField,te=this.columns.template,ie=te.percentWidth,ne=te.percentHeight,ae=te.pixelWidth,se=te.pixelHeight,oe=te.maxWidth,le=te.maxHeight,ue=te.pixelPaddingLeft,ce=te.pixelPaddingRight,he=te.pixelPaddingTop,de=te.pixelPaddingBottom,fe=!1,Te=E.width;hasValue(Te)&&(isNumber(Te)&&(ae=Te),Te instanceof Percent&&(ie=Te.value*100));var xe=E.height;if(hasValue(xe)&&(isNumber(xe)&&(se=xe),xe instanceof Percent&&(ne=xe.value*100)),this.xAxis instanceof CategoryAxis&&this.yAxis instanceof CategoryAxis){if(!E.hasValue(this._xValueFields)||!E.hasValue(this._yValueFields))return;if(X=0,K=1,!isNaN$1(ie)){var pe=round$2((K-X)*(1-ie/100)/2,5);X+=pe,K-=pe}if(U=this.xAxis.getX(E,J,X),W=this.xAxis.getX(E,Z,K),isNaN$1(ie)){var pe=(W-U-ae)/2;U+=pe,W-=pe}if(!isNaN$1(oe)&&oe<Math.abs(W-U)){var pe=(W-U-oe)/2;U+=pe,W-=pe}if(X=0,K=1,!isNaN$1(ne)){var pe=round$2((1-ne/100)/2,5);X+=pe,K-=pe}if(Y=this.yAxis.getY(E,ee,X),G=this.yAxis.getY(E,Q,K),isNaN$1(ne)){var pe=(G-Y-se)/2;G+=pe,Y-=pe}if(!isNaN$1(le)&&le<Math.abs(G-Y)){var pe=(G-Y-le)/2;G+=pe,Y-=pe}W=this.fixHorizontalCoordinate(W),U=this.fixHorizontalCoordinate(U),Y=this.fixVerticalCoordinate(Y),G=this.fixVerticalCoordinate(G)}else if(this.baseAxis==this.xAxis){if(!E.hasValue(this._yValueFields))return;if(!isNaN$1(ie)){var pe=round$2((K-X)*(1-ie/100)/2,5);X+=pe,K-=pe}if(U=this.xAxis.getX(E,J,X),W=this.xAxis.getX(E,Z,K),isNaN$1(ie)){var pe=(W-U-ae)/2;U+=pe,W-=pe}if(!isNaN$1(oe)&&oe<Math.abs(W-U)){var pe=(W-U-oe)/2;U+=pe,W-=pe}var _e=E.locations[ee],Ce=E.locations[Q];this.yAxis instanceof ValueAxis&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(_e=0,Ce=0),G=this.yAxis.getY(E,ee,_e),Y=this.yAxis.getY(E,Q,Ce);var be=Math.ceil(this.yAxis.axisLength);(Y<0&&G<0||Y>be&&G>be)&&(fe=!0),Y=this.fixVerticalCoordinate(Y),G=this.fixVerticalCoordinate(G),Math.abs(W-U)-ue-ce==0&&(fe=!0)}else{if(!E.hasValue(this._xValueFields))return;if(!isNaN$1(ne)){var pe=round$2((K-X)*(1-ne/100)/2,5);X+=pe,K-=pe}if(Y=this.yAxis.getY(E,ee,X),G=this.yAxis.getY(E,Q,K),isNaN$1(ne)){var pe=(G-Y-se)/2;G-=pe,Y+=pe}if(!isNaN$1(le)&&le<Math.abs(G-Y)){var pe=(G-Y-le)/2;G-=pe,Y+=pe}var ge=E.locations[Z],we=E.locations[J];this.xAxis instanceof ValueAxis&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(ge=0,we=0),W=this.xAxis.getX(E,Z,ge),U=this.xAxis.getX(E,J,we);var be=Math.ceil(this.xAxis.axisLength);(W<0&&U<0||W>be&&U>be)&&(fe=!0),W=this.fixHorizontalCoordinate(W),U=this.fixHorizontalCoordinate(U),Math.abs(Y-G)-he-de==0&&(fe=!0)}var Pe=Math.abs(W-U),Oe=Math.abs(G-Y),Ae=Math.min(U,W),Se=Math.min(Y,G);if(fe)this.disableUnusedColumns(E);else{var ye;E.column?(ye=E.column,this._propertiesChanged&&(copyProperties$1(this,ye,visualProperties),copyProperties$1(this.columns.template,ye,visualProperties),each$2(visualProperties,function($e){ye[$e]=ye[$e]}))):(ye=this.columns.create(),copyProperties$1(this,ye,visualProperties),copyProperties$1(this.columns.template,ye,visualProperties),E.addSprite(ye),E.column=ye,ye.paper=this.paper,this.itemsFocusable()?(hasValue(this.role)||(this.role="menu"),hasValue(ye.role)||(ye.role="menuitem"),ye.focusable=!0):(hasValue(this.role)||(this.role="list"),hasValue(ye.role)||(ye.role="listitem"),ye.focusable=!1),ye.focusable&&(ye.events.on("focus",function($e){ye.readerTitle=V.populateString(V.itemReaderText,E)},void 0,!1),ye.events.on("blur",function($e){ye.readerTitle=""},void 0,!1)),ye.hoverable&&(ye.events.on("over",function($e){ye.readerTitle=V.populateString(V.itemReaderText,E)},void 0,!1),ye.events.on("out",function($e){ye.readerTitle=""},void 0,!1)),ye.parent=this.columnsContainer,ye.virtualParent=this),ye.width=Pe,ye.height=Oe,ye.x=Ae,ye.y=Se,ye.realX=U,ye.realY=Y,ye.realWidth=W-U,ye.realHeight=G-Y,this.setColumnStates(ye),ye.invalid&&ye.validate(),ye.__disabled=!1,each(this.axisRanges.iterator(),function($e){var ke=E.rangesColumns.getKey($e.uid);ke||(ke=V.columns.create(),copyProperties$1($e.contents,ke,visualProperties),E.addSprite(ke),E.rangesColumns.setKey($e.uid,ke),ke.paper=V.paper),ke.parent=$e.contents,ke.width=Pe,ke.height=Oe,ke.x=Ae,ke.y=Se,V.setColumnStates(ke),ke.invalid&&ke.validate(),ke.__disabled=!1})}E.itemWidth=Pe,E.itemHeight=Oe},F.prototype.disableUnusedColumns=function(E){E&&(E.column&&(E.column.width=0,E.column.height=0,E.column.__disabled=!0),each(this.axisRanges.iterator(),function(V){var U=E.rangesColumns.getKey(V.uid);U&&(U.width=0,U.height=0,U.__disabled=!0)}))},F.prototype.setColumnStates=function(E){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var V=E.dataItem;if(this.xAxis instanceof ValueAxis||this.yAxis instanceof ValueAxis){var U,W=void 0,Y=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof ValueAxis&&(U=V.getValue(this.xOpenField),W=V.getValue(this.xField)),Y=V.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof ValueAxis&&(U=V.getValue(this.yOpenField),W=V.getValue(this.yField)),Y=V.getValue(this.yAxis.axisFieldName+"Y","previousChange")),W<U?(V.droppedFromOpen=!0,E.defaultState.copyFrom(this._dropFromOpenState),E.setState(this._dropFromOpenState,0)):(V.droppedFromOpen=!1,E.defaultState.copyFrom(this._riseFromOpenState),E.setState(this._riseFromOpenState,0)),Y<0?(V.droppedFromPrevious=!0,E.defaultState.copyFrom(this._dropFromPreviousState),E.setState(this._dropFromPreviousState,0)):(V.droppedFromPrevious=!1,E.defaultState.copyFrom(this._riseFromPreviousState),E.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(F.prototype,"columns",{get:function(){return this._columns||(this._columns=new ListTemplate(this.createColumnTemplate()),this._disposers.push(new ListDisposer(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),F.prototype.createColumnTemplate=function(){return new Column},Object.defineProperty(F.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(E){this.setPropertyValue("clustered",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(E){this._dropFromOpenState=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(E){this._dropFromPreviousState=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(E){this._riseFromOpenState=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(E){this._riseFromPreviousState=E},enumerable:!0,configurable:!0}),F.prototype.updateLegendValue=function(E,V){var U=this;if(R.prototype.updateLegendValue.call(this,E,V),this.legendDataItem){var W=this.legendDataItem.marker,Y,G;E&&(E.droppedFromOpen?Y=this._dropFromOpenState:Y=this._riseFromOpenState,E.droppedFromPrevious?G=this._dropFromPreviousState:G=this._riseFromPreviousState),each(W.children.iterator(),function(X){E?(X.setState(G),X.setState(Y)):(X.setState(U._riseFromPreviousState),X.setState(U._riseFromOpenState))})}},F.prototype.createLegendMarker=function(E){var V=E.pixelWidth,U=E.pixelHeight;E.removeChildren();var W=E.createChild(RoundedRectangle);W.shouldClone=!1,copyProperties$1(this,W,visualProperties),W.copyFrom(this.columns.template),W.padding(0,0,0,0),W.width=V,W.height=U;var Y=E.dataItem;Y.color=this.fill,Y.colorOrig=this.fill},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.columns.template.copyFrom(E.columns.template)},F.prototype.getBulletLocationX=function(E,V){if(this.baseAxis==this.xAxis){var U=E.locationX;isNumber(U)||(U=.5);var W=this.getEndLocation(E.dataItem),Y=this.getStartLocation(E.dataItem);return W-(W-Y)*U}else return R.prototype.getBulletLocationX.call(this,E,V)},F.prototype.getBulletLocationY=function(E,V){if(this.baseAxis==this.yAxis){var U=E.locationY;isNumber(U)||(U=.5);var W=this.getEndLocation(E.dataItem),Y=this.getStartLocation(E.dataItem);return W-(W-Y)*U}else return R.prototype.getBulletLocationY.call(this,E,V)},F.prototype.getAdjustedXLocation=function(E,V,U){return isNumber(U)||(E?U=E.locations[V]:U=.5),this._endLocation-(this._endLocation-this._startLocation)*(1-U)},F.prototype.getAdjustedYLocation=function(E,V,U){return isNumber(U)||(E?U=E.locations[V]:U=.5),this._endLocation-(this._endLocation-this._startLocation)*U},F.prototype.fixVerticalCoordinate=function(E){var V=this.columns.template.pixelPaddingBottom,U=this.columns.template.pixelPaddingTop,W=-U,Y=this.yAxis.axisLength+V;return fitToRange(E,W,Y)},F.prototype.fixHorizontalCoordinate=function(E){var V=this.columns.template.pixelPaddingLeft,U=this.columns.template.pixelPaddingRight,W=-V,Y=this.xAxis.axisLength+U;return fitToRange(E,W,Y)},F.prototype.disposeData=function(){R.prototype.disposeData.call(this),this.columns.clear()},F}(XYSeries);registry.registeredClasses.ColumnSeries=ColumnSeries;registry.registeredClasses.ColumnSeriesDataItem=ColumnSeriesDataItem;var TreeMapSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="TreeMapSeriesDataItem",E.applyTheme(),E}return Object.defineProperty(F.prototype,"parentName",{get:function(){var E=this.treeMapDataItem;if(E&&E.parent)return E.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"value",{get:function(){var E=this.treeMapDataItem;if(E)return E.value},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),F.prototype.hide=function(E,V,U,W){var Y=this.treeMapDataItem;return Y&&Y.hide(E),R.prototype.hide.call(this,E,V,U,W)},F.prototype.show=function(E,V,U){var W=this.treeMapDataItem;return W&&W.show(E,V,U),R.prototype.show.call(this,E,V,U)},F}(ColumnSeriesDataItem),TreeMapSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="TreeMapSeries",E.applyTheme(),E.fillOpacity=1,E.strokeOpacity=1,E.minBulletDistance=0,E.columns.template.tooltipText="{parentName} {name}: {value}",E.columns.template.configField="config";var V=new InterfaceColorSet;return E.stroke=V.getFor("background"),E.dataFields.openValueX="x0",E.dataFields.valueX="x1",E.dataFields.openValueY="y0",E.dataFields.valueY="y1",E.sequencedInterpolation=!1,E.showOnInit=!1,E.columns.template.pixelPerfect=!1,E}return F.prototype.processDataItem=function(E,V){V.seriesDataItem=E,R.prototype.processDataItem.call(this,E,V)},F.prototype.createDataItem=function(){return new TreeMapSeriesDataItem},F.prototype.show=function(E){if(!this.preventShow){var V=this.defaultState.transitionDuration;return isNumber(E)&&(V=E),this.dataItems.each(function(U){U.show(E)}),R.prototype.showReal.call(this,V)}},F.prototype.hide=function(E){var V=this.defaultState.transitionDuration;isNumber(E)&&(V=E);var U=R.prototype.hideReal.call(this,V);return this.dataItems.each(function(W){W.hide(E)}),U},F.prototype.processValues=function(){},F.prototype.getStartLocation=function(E){return 0},F.prototype.getEndLocation=function(E){return 1},F.prototype.dataChangeUpdate=function(){},F.prototype.processConfig=function(E){E&&(!hasValue(E.dataFields)||!isObject$1(E.dataFields))&&(E.dataFields={}),R.prototype.processConfig.call(this,E)},F.prototype.createLegendMarker=function(E){var V=E.pixelWidth,U=E.pixelHeight;E.removeChildren();var W=E.createChild(RoundedRectangle);W.shouldClone=!1,copyProperties$1(this,W,visualProperties),W.padding(0,0,0,0),W.width=V,W.height=U;var Y=E.dataItem;Y.color=W.fill,Y.colorOrig=W.fill},F.prototype.disableUnusedColumns=function(E){R.prototype.disableUnusedColumns.call(this,E),E.column&&(E.column.__disabled=!1)},F}(ColumnSeries);registry.registeredClasses.TreeMapSeries=TreeMapSeries;registry.registeredClasses.TreeMapSeriesDataItem=TreeMapSeriesDataItem;var TreeMapDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.rows=[],E.className="TreeMapDataItem",E.values.value={workingValue:0},E.values.x0={},E.values.y0={},E.values.x1={},E.values.y1={},E.hasChildren.children=!0,E.applyTheme(),E}return Object.defineProperty(F.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(E){this._legendDataItem=E,E.label&&(E.label.dataItem=this),E.valueLabel&&(E.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),F.prototype.getDuration=function(){return 0},Object.defineProperty(F.prototype,"value",{get:function(){var E=0;return!this.children||this.children.length==0?E=this.values.value.workingValue:each(this.children.iterator(),function(V){var U=V.value;isNumber(U)&&(E+=U)}),E},set:function(E){this.setValue("value",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"x0",{get:function(){return this.values.x0.value},set:function(E){this.setValue("x0",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"x1",{get:function(){return this.values.x1.value},set:function(E){this.setValue("x1",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"y0",{get:function(){return this.values.y0.value},set:function(E){this.setValue("y0",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"y1",{get:function(){return this.values.y1.value},set:function(E){this.setValue("y1",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"name",{get:function(){return this.properties.name},set:function(E){this.setProperty("name",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"children",{get:function(){return this.properties.children},set:function(E){this.setProperty("children",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"color",{get:function(){var E=this.properties.color;return E==null&&this.parent&&(E=this.parent.color),E==null&&this.component&&(E=this.component.colors.getIndex(this.component.colors.step*this.index)),E},set:function(E){this.setProperty("color",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"series",{get:function(){return this._series},set:function(E){E!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=E,this._disposers.push(E))},enumerable:!0,configurable:!0}),F.prototype.hide=function(E,V,U,W){this.setWorkingValue("value",0),this.children&&this.children.each(function(G){G.hide(E,V,U,W)});var Y=this.seriesDataItem;return Y&&Y.bullets.each(function(G,X){X.hide(),X.preventShow=!0}),R.prototype.hide.call(this,E,V,U,W)},F.prototype.show=function(E,V,U){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(Y){Y.show(E,V,U)});var W=this.seriesDataItem;return W&&W.bullets.each(function(Y,G){G.preventShow=!1}),R.prototype.show.call(this,E,V,U)},F}(XYChartDataItem),TreeMap=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.layoutAlgorithm=E.squarify,E.zoomable=!0,E.className="TreeMap",E._usesData=!0,E.maxLevels=2,E.currentLevel=0,E.hideParentColumns=!1,E.colors=new ColorSet,E.sorting="descending";var V=E.xAxes.push(new ValueAxis);V.title.disabled=!0,V.strictMinMax=!0;var U=V.renderer;U.inside=!0,U.labels.template.disabled=!0,U.ticks.template.disabled=!0,U.grid.template.disabled=!0,U.axisFills.template.disabled=!0,U.minGridDistance=100,U.line.disabled=!0,U.baseGrid.disabled=!0;var W=E.yAxes.push(new ValueAxis);W.title.disabled=!0,W.strictMinMax=!0;var Y=W.renderer;Y.inside=!0,Y.labels.template.disabled=!0,Y.ticks.template.disabled=!0,Y.grid.template.disabled=!0,Y.axisFills.template.disabled=!0,Y.minGridDistance=100,Y.line.disabled=!0,Y.baseGrid.disabled=!0,Y.inversed=!0,E.xAxis=V,E.yAxis=W;var G=new TreeMapSeries;return E.seriesTemplates=new DictionaryTemplate(G),G.virtualParent=E,E._disposers.push(new DictionaryDisposer(E.seriesTemplates)),E._disposers.push(G),E.zoomOutButton.events.on("hit",function(){E.zoomToChartDataItem(E._homeDataItem)},void 0,!1),E.seriesTemplates.events.on("insertKey",function(X){X.newValue.isTemplate=!0},void 0,!1),E.applyTheme(),E}return Object.defineProperty(F.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(E){var V=this;this._navigationBar!=E&&(this._navigationBar=E,E.parent=this,E.toBack(),E.links.template.events.on("hit",function(U){var W=U.target.dataItem.dataContext;W.isDisposed()||(V.zoomToChartDataItem(W),V.createTreeSeries(W))},void 0,!0),this._disposers.push(E))},enumerable:!0,configurable:!0}),F.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],R.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var E=this.dataItems.template.clone();this._homeDataItem=E,each(this.dataItems.iterator(),function(W){W.parent=E}),E.children=this.dataItems,E.x0=0,E.y0=0,E.name=this._homeText;var V=1e3,U=Math.round(V*this.pixelHeight/this.pixelWidth/10)*10||1e3;E.x1=V,E.y1=U,this.xAxis.min=0,this.xAxis.max=V,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=U,this.yAxis.getMinMax(),this.layoutItems(E),this.createTreeSeries(E),this.feedLegend()},F.prototype.layoutItems=function(E,V){if(E){var U=E.children;V||(V=this.sorting),V=="ascending"&&U.values.sort(function(X,K){return X.value-K.value}),V=="descending"&&U.values.sort(function(X,K){return K.value-X.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(E);for(var W=0,Y=U.length;W<Y;W++){var G=U.getIndex(W);G.children&&this.layoutItems(G)}}},F.prototype.createTreeSeries=function(E){var V=this;this._tempSeries=[];for(var U=[E],W=E.parent;W!=null;)this.initSeries(W),U.push(W),W=W.parent;U.reverse(),this.navigationBar&&(this.navigationBar.data=U),this.createTreeSeriesReal(E),each$2(this._tempSeries,function(Y){V.series.indexOf(Y)==-1&&V.series.push(Y),Y.zIndex=Y.level})},F.prototype.createTreeSeriesReal=function(E){if(E.children){var V=E.level;if(V<this.currentLevel+this.maxLevels){this.initSeries(E);for(var U=0;U<E.children.length;U++){var W=E.children.getIndex(U);W.children&&this.createTreeSeriesReal(W)}}}},F.prototype.setData=function(E){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,R.prototype.setData.call(this,E)},F.prototype.seriesAppeared=function(){return!0},F.prototype.initSeries=function(E){var V=this;if(!E.series){var U=void 0,W=this.seriesTemplates.getKey(E.level.toString());W?U=W.clone():U=this.series.create(),U.dataItem.dataContext=E,U.name=E.name,U.parentDataItem=E,E.series=U;var Y=E.level;U.level=Y;var G=E.dataContext;G&&(U.config=G.config),this.dataUsers.removeValue(U),U.data=E.children.values,U.fill=E.color,U.columnsContainer.hide(0),U.bulletsContainer.hide(0),U.columns.template.adapter.add("fill",function(X,K){var Z=K.dataItem;if(Z){var J=Z.treeMapDataItem;if(J)return K.fill=J.color,K.adapter.remove("fill"),J.color}}),this.zoomable&&(E.level>this.currentLevel||E.children&&E.children.length>0)&&(U.columns.template.cursorOverStyle=MouseCursorStyle.pointer,this.zoomable&&U.columns.template.events.on("hit",function(X){var K=X.target.dataItem;E.level>V.currentLevel?V.zoomToChartDataItem(K.treeMapDataItem.parent):V.zoomToSeriesDataItem(K)},this,void 0))}this._tempSeries.push(E.series)},F.prototype.toggleBullets=function(E){var V=this;each(this.series.iterator(),function(U){V._tempSeries.indexOf(U)==-1?(U.columnsContainer.hide(),U.bulletsContainer.hide(E)):(U.columnsContainer.show(),U.bulletsContainer.show(E),U.dataItems.each(function(W){W.bullets.each(function(Y,G){G.show()})}),U.level<V.currentLevel?(V.hideParentColumns&&U.columnsContainer.hide(),U.bulletsContainer.hide(E)):U.level==V.currentLevel&&V.maxLevels>1&&U.dataItems.each(function(W){W.treeMapDataItem.children&&W.bullets.each(function(Y,G){G.hide()})}))})},F.prototype.zoomToSeriesDataItem=function(E){this.zoomToChartDataItem(E.treeMapDataItem)},F.prototype.zoomToChartDataItem=function(E){var V=this;E||(E=this._homeDataItem);var U=this.zoomOutButton;if(U&&(E!=this._homeDataItem?U.show():U.hide()),E&&E.children){this.xAxis.zoomToValues(E.x0,E.x1),this.yAxis.zoomToValues(E.y0,E.y1),this.currentLevel=E.level,this.currentlyZoomed=E,this.createTreeSeries(E);var W=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;W&&!W.isDisposed()&&!W.isFinished()?(this._dataDisposers.push(W),W.events.once("animationended",function(){V.toggleBullets()})):this.toggleBullets()}},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},F.prototype.createDataItem=function(){return new TreeMapDataItem},Object.defineProperty(F.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(E){this.setPropertyValue("maxLevels",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(E){this.setPropertyValue("currentLevel",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(E){this.setPropertyValue("hideParentColumns",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(E){this.setPropertyValue("sorting",E,!0)},enumerable:!0,configurable:!0}),F.prototype.createSeries=function(){return new TreeMapSeries},Object.defineProperty(F.prototype,"homeText",{get:function(){return this._homeText},set:function(E){this._homeText=E,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),F.prototype.processConfig=function(E){if(E){if(hasValue(E.layoutAlgorithm)&&isString$1(E.layoutAlgorithm))switch(E.layoutAlgorithm){case"squarify":E.layoutAlgorithm=this.squarify;break;case"binaryTree":E.layoutAlgorithm=this.binaryTree;break;case"slice":E.layoutAlgorithm=this.slice;break;case"dice":E.layoutAlgorithm=this.dice;break;case"sliceDice":E.layoutAlgorithm=this.sliceDice;break;default:delete E.layoutAlgorithm;break}hasValue(E.navigationBar)&&!hasValue(E.navigationBar.type)&&(E.navigationBar.type="NavigationBar"),R.prototype.processConfig.call(this,E)}},F.prototype.validateLayout=function(){R.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},F.prototype.validateDataItems=function(){R.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),each(this.series.iterator(),function(E){E.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},F.prototype.binaryTree=function(E){var V=E.children,U,W=V.length,Y,G=new Array(W+1);for(G[0]=Y=U=0;U<W;++U)G[U+1]=Y+=V.getIndex(U).value;W>0&&X(0,W,E.value,E.x0,E.y0,E.x1,E.y1);function X(K,Z,J,Q,ee,te,ie){if(K>=Z-1){var ne=V.getIndex(K);ne.x0=Q,ne.y0=ee,ne.x1=te,ne.y1=ie;return}for(var ae=G[K],se=J/2+ae,oe=K+1,le=Z-1;oe<le;){var ue=oe+le>>>1;G[ue]<se?oe=ue+1:le=ue}se-G[oe-1]<G[oe]-se&&K+1<oe&&--oe;var ce=G[oe]-ae,he=J-ce;if(J==0){var ne=V.getIndex(K);ne.x0=Q,ne.y0=ee,ne.x1=te,ne.y1=ie;return}if(te-Q>ie-ee){var de=(Q*he+te*ce)/J;X(K,oe,ce,Q,ee,de,ie),X(oe,Z,he,de,ee,te,ie)}else{var fe=(ee*he+ie*ce)/J;X(K,oe,ce,Q,ee,te,fe),X(oe,Z,he,Q,fe,te,ie)}}},F.prototype.slice=function(E){for(var V=E.x0,U=E.x1,W=E.y0,Y=E.y1,G=E.children,X,K=-1,Z=G.length,J=E.value&&(Y-W)/E.value;++K<Z;)X=G.getIndex(K),X.x0=V,X.x1=U,X.y0=W,W+=X.value*J,X.y1=W},F.prototype.dice=function(E){for(var V=E.x0,U=E.x1,W=E.y0,Y=E.y1,G=E.children,X,K=-1,Z=G.length,J=E.value&&(U-V)/E.value;++K<Z;)X=G.getIndex(K),X.y0=W,X.y1=Y,X.x0=V,V+=X.value*J,X.x1=V},F.prototype.sliceDice=function(E){E.level&1?this.slice(E):this.dice(E)},F.prototype.squarify=function(E){for(var V=(1+Math.sqrt(5))/2,U=E.x0,W=E.x1,Y=E.y0,G=E.y1,X=E.children,K,Z=0,J=0,Q=X.length,ee,te,ie=E.value,ne,ae,se,oe,le,ue,ce;Z<Q;){ee=W-U,te=G-Y;do ne=X.getIndex(J++).value;while(!ne&&J<Q);for(ae=se=ne,ue=Math.max(te/ee,ee/te)/(ie*V),ce=ne*ne*ue,le=Math.max(se/ce,ce/ae);J<Q;++J){if(ne+=K=X.getIndex(J).value,K<ae&&(ae=K),K>se&&(se=K),ce=ne*ne*ue,oe=Math.max(se/ce,ce/ae),oe>le){ne-=K;break}le=oe}var he=this.dataItems.template.clone();he.value=ne,he.dice=ee<te,he.children=X.slice(Z,J),he.x0=U,he.y0=Y,he.x1=W,he.y1=G,he.dice?(he.y1=ie?Y+=te*ne/ie:G,this.dice(he)):(he.x1=ie?U+=ee*ne/ie:W,this.slice(he)),ie-=ne,Z=J}},F.prototype.handleSeriesAdded2=function(){},F.prototype.handleDataItemValueChange=function(E,V){V=="value"&&this.invalidateDataItems()},F.prototype.handleDataItemWorkingValueChange=function(E,V){V=="value"&&this.invalidateDataItems()},F.prototype.getLegendLevel=function(E){if(!!E&&!!E.children){if(E.children.length>1)return E;if(E.children.length==1){var V=E.children.getIndex(0);return V.children?this.getLegendLevel(V):E}else return E}},F.prototype.handleLegendSeriesAdded=function(E){},Object.defineProperty(F.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),F.prototype.feedLegend=function(){var E=this.legend;if(E){E.dataFields.name="name";var V=this.getLegendLevel(this._homeDataItem);if(V){var U=[];V.children.each(function(W){U.push(W)}),E.data=U}}},F.prototype.disposeData=function(){R.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},F.prototype.getExporting=function(){var E=this,V=R.prototype.getExporting.call(this);return V.adapter.add("formatDataFields",function(U){return(U.format=="csv"||U.format=="xlsx")&&hasValue(E.dataFields.children)&&delete U.dataFields[E.dataFields.children],U}),V},F}(XYChart);registry.registeredClasses.TreeMap=TreeMap;var AxisRendererX3D=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._chart=new MutableValueDisposer,E.className="AxisRendererX3D",E._disposers.push(E._chart),E.applyTheme(),E}return F.prototype.updateGridElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V);if(E.element){var Y=this.chart.dx3D||0,G=this.chart.dy3D||0,X=this.getHeight();E.path=moveTo({x:Y,y:G})+lineTo({x:Y,y:X+G})+lineTo({x:0,y:X})}this.positionItem(E,W),this.toggleVisibility(E,V,0,1)},F.prototype.updateBaseGridElement=function(){R.prototype.updateBaseGridElement.call(this);var E=this.getHeight(),V=this.chart.dx3D||0,U=this.chart.dy3D||0;this.baseGrid.path=moveTo({x:V,y:U})+lineTo({x:0,y:0})+lineTo({x:0,y:E})},Object.defineProperty(F.prototype,"chart",{get:function(){return this._chart.get()},set:function(E){E&&this._chart.set(E,E.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),F.prototype.handle3DChanged=function(E){(E.property=="depth"||E.property=="angle")&&this.invalidate()},F}(AxisRendererX);registry.registeredClasses.AxisRendererX3D=AxisRendererX3D;var AxisRendererY3D=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._chart=new MutableValueDisposer,E.className="AxisRendererY3D",E._disposers.push(E._chart),E.applyTheme(),E}return F.prototype.updateGridElement=function(E,V,U){V=V+(U-V)*E.location;var W=this.positionToPoint(V);if(E.element){var Y=this.chart.dx3D||0,G=this.chart.dy3D||0,X=this.getWidth();E.path=moveTo({x:0,y:0})+lineTo({x:Y,y:G})+lineTo({x:X+Y,y:G})}this.positionItem(E,W),this.toggleVisibility(E,V,0,1)},F.prototype.updateBaseGridElement=function(){R.prototype.updateBaseGridElement.call(this);var E=this.chart.dx3D||0,V=this.chart.dy3D||0,U=this.getWidth();this.baseGrid.path=moveTo({x:0,y:0})+lineTo({x:U,y:0})+lineTo({x:U+E,y:V})},Object.defineProperty(F.prototype,"chart",{get:function(){return this._chart.get()},set:function(E){E&&this._chart.set(E,E.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),F.prototype.handle3DChanged=function(E){(E.property=="depth"||E.property=="angle")&&this.invalidate()},F}(AxisRendererY),Column3D=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Column3D",E}return F.prototype.createAssets=function(){this.column3D=this.createChild(Rectangle3D),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},F.prototype.validate=function(){R.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.column3D&&this.column3D.copyFrom(E.column3D)},F.prototype.setFill=function(E){R.prototype.setFill.call(this,E),this.column.fill=E},F}(Column);registry.registeredClasses.Column3D=Column3D;var ColumnSeries3DDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ColumnSeries3DDataItem",E.applyTheme(),E}return F}(ColumnSeriesDataItem),ColumnSeries3D=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ColumnSeries3D",E.columns.template.column3D.applyOnClones=!0,E.columns.template.hiddenState.properties.visible=!0,E.applyTheme(),E}return Object.defineProperty(F.prototype,"columnsContainer",{get:function(){var E=this.chart;return E&&E.columnsContainer&&E.leftAxesContainer.layout!="vertical"&&E.rightAxesContainer.layout!="vertical"&&E.bottomAxesContainer.layout!="horizontal"&&E.topAxesContainer.layout!="horizontal"?E.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),F.prototype.validateDataElementReal=function(E){R.prototype.validateDataElementReal.call(this,E),E.column&&(E.column.dx=this.dx,E.column.dy=this.dy,E.column.visible=this.visible)},F.prototype.validateDataElements=function(){R.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},F.prototype.createColumnTemplate=function(){return new Column3D},Object.defineProperty(F.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(E){this.setPropertyValue("depth",E,!0);var V=this.columns.template;V.column3D.depth=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(E){this.setPropertyValue("angle",E);var V=this.columns.template;V.column3D.angle=E},enumerable:!0,configurable:!0}),F}(ColumnSeries);registry.registeredClasses.ColumnSeries3D=ColumnSeries3D;registry.registeredClasses.ColumnSeries3DDataItem=ColumnSeries3DDataItem;(function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="XYChart3DDataItem",E.applyTheme(),E}return F})(XYChartDataItem);var XYChart3D=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._axisRendererX=AxisRendererX3D,E._axisRendererY=AxisRendererY3D,E.className="XYChart3D",E.depth=30,E.angle=30;var V=E.seriesContainer.createChild(Container);return V.shouldClone=!1,V.isMeasured=!1,V.layout="none",E.columnsContainer=V,E.columnsContainer.mask=E.createChild(Sprite),E.applyTheme(),E}return F.prototype.updateSeriesMasks=function(){if(R.prototype.updateSeriesMasks.call(this),isIE()){var E=this.columnsContainer,V=E.mask;E.mask=void 0,E.mask=V}},Object.defineProperty(F.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(E){this.setPropertyValue("depth",E),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(E){this.setPropertyValue("angle",E),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dx3D",{get:function(){return cos(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"dy3D",{get:function(){return-sin(this.angle)*this.depth},enumerable:!0,configurable:!0}),F.prototype.validateLayout=function(){R.prototype.validateLayout.call(this),this.fixColumns()},F.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),R.prototype.fixLayout.call(this)},F.prototype.fixColumns=function(){var E=this,V=1,U=0;each(this.series.iterator(),function(Y){Y instanceof ColumnSeries3D&&(!Y.clustered&&U>0&&V++,Y.depthIndex=V-1,U++)});var W=0;each(this.series.iterator(),function(Y){if(Y instanceof ColumnSeries3D){Y.depth=E.depth/V,Y.angle=E.angle,Y.columnsContainer==E.columnsContainer&&(Y.dx=E.depth/V*cos(E.angle)*Y.depthIndex,Y.dy=-E.depth/V*sin(E.angle)*Y.depthIndex);var G=!1;(Y.baseAxis==Y.xAxis&&Y.xAxis.renderer.inversed||Y.baseAxis==Y.yAxis&&Y.yAxis.renderer.inversed)&&(G=!0);var X=1;Y.dataItems.each(function(K){var Z=K.column;Z&&(G?Z.zIndex=1e3*(1e3-X)+W-Y.depthIndex*100:Z.zIndex=1e3*X+W-Y.depthIndex*100),X++}),G?W--:W++}}),this.maskColumns()},F.prototype.processConfig=function(E){if(E&&hasValue(E.series)&&isArray$1(E.series))for(var V=0,U=E.series.length;V<U;V++)E.series[V].type=E.series[V].type||"ColumnSeries3D";R.prototype.processConfig.call(this,E)},F.prototype.maskColumns=function(){var E=this.plotContainer.pixelWidth,V=this.plotContainer.pixelHeight,U=this.dx3D,W=this.dy3D,Y=moveTo({x:0,y:0})+lineTo({x:U,y:W})+lineTo({x:E+U,y:W})+lineTo({x:E+U,y:V+W})+lineTo({x:E,y:V})+lineTo({x:E,y:V})+lineTo({x:0,y:V})+closePath(),G=this.columnsContainer;G&&G.mask&&(G.mask.path=Y)},F}(XYChart);registry.registeredClasses.XYChart3D=XYChart3D;var HeatLegend=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="HeatLegend",E.markerContainer=E.createChild(Container),E.markerContainer.shouldClone=!1,E.markerCount=1;var V=new RoundedRectangle;return V.minHeight=20,V.minWidth=20,V.interactionsEnabled=!1,V.fillOpacity=1,V.cornerRadius(0,0,0,0),E.markerContainer.minHeight=20,E.markerContainer.minWidth=20,E.orientation="horizontal",E.markers=new ListTemplate(V),E._disposers.push(new ListDisposer(E.markers)),E._disposers.push(E.markers.template),E.applyTheme(),E}return F.prototype.getMinFromRules=function(E){var V=this.series;if(V){var U;return eachContinue(V.heatRules.iterator(),function(W){return W.property==E?(U=W.min,!1):!0}),U}},F.prototype.getMaxFromRules=function(E){var V=this.series;if(V){var U;return each(V.heatRules.iterator(),function(W){return W.property==E?(U=W.max,!1):!0}),U}},F.prototype.validate=function(){R.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var E=this.series,V=this.minColor,U=this.maxColor;if(hasValue(V)||(V=toColor(this.getMinFromRules("fill"))),hasValue(U)||(U=toColor(this.getMaxFromRules("fill"))),E){var W=E.fill;!hasValue(V)&&W instanceof Color$1&&(V=W),!hasValue(U)&&W instanceof Color$1&&(U=W)}hasValue(U)||(U=toColor(this.getMaxFromRules("fill")));var Y=toNumber(this.getMinFromRules("fillOpacity"));isNumber(Y)||(Y=1);var G=toNumber(this.getMaxFromRules("fillOpacity"));isNumber(G)||(G=1);var X=toNumber(this.getMinFromRules("strokeOpacity"));isNumber(X)||(X=1);var K=toNumber(this.getMaxFromRules("strokeOpacity"));isNumber(K)||(K=1);for(var Z=toColor(this.getMinFromRules("stroke")),J=toColor(this.getMaxFromRules("stroke")),Q=0;Q<this.markerCount;Q++){var ee=this.markers.getIndex(Q);if(ee||(ee=this.markers.create(),ee.parent=this.markerContainer,ee.height=percent(100),ee.width=percent(100)),this.markerCount==1){var te=new LinearGradient;if(this.reverseOrder?(te.addColor(U,G),te.addColor(V,Y)):(te.addColor(V,Y),te.addColor(U,G)),this.orientation=="vertical"&&(te.rotation=-90),ee.fill=te,hasValue(Z)&&hasValue(J)){var ie=new LinearGradient;this.reverseOrder?(ie.addColor(J,K),ie.addColor(Z,X)):(ie.addColor(Z,X),ie.addColor(J,K)),this.orientation=="vertical"&&(ie.rotation=-90),ee.stroke=ie}}else{var ne=Q;this.reverseOrder&&(ne=this.markerCount-Q-1);var ae=new Color$1(interpolate$2(V.rgb,U.rgb,ne/this.markerCount));ee.fill=ae;var se=Y+(G-Y)*ne/this.markerCount;if(ee.fillOpacity=se,hasValue(Z)&&hasValue(J)){var oe=new Color$1(interpolate$2(Z.rgb,J.rgb,ne/this.markerCount));ee.stroke=oe;var le=X+(K-X)*ne/this.markerCount;ee.strokeOpacity=le}}}var ue=this.valueAxis.renderer;this.markerCount>1&&(this.orientation=="horizontal"?ue.minGridDistance=this.measuredWidth/this.markerCount:ue.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();for(var Q=this.markerCount,ce=this.markers.length;Q<ce;Q++)this.markers.getIndex(Q).parent=void 0},Object.defineProperty(F.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(E){E instanceof Color$1||(E=toColor(E)),this.setColorProperty("minColor",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(E){E instanceof Color$1||(E=toColor(E)),this.setColorProperty("maxColor",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(E){this.setPropertyValue("markerCount",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(E){this.setPropertyValue("minValue",E),this.valueAxis.min=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(E){this.setPropertyValue("maxValue",E),this.valueAxis.max=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(E){this.setPropertyValue("orientation",E,!0);var V=this.markerContainer,U=this.valueAxis;E=="horizontal"?(hasValue(this.width)||(this.width=200),this.height=void 0,U.width=percent(100),U.height=void 0,U.tooltip.pointerOrientation="vertical",this.layout="vertical",V.width=percent(100),V.height=void 0,U.renderer instanceof AxisRendererX||(U.renderer=new AxisRendererX)):(hasValue(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",V.width=void 0,V.height=percent(100),U.height=percent(100),U.width=void 0,U.tooltip.pointerOrientation="horizontal",U.renderer instanceof AxisRendererY||(U.renderer=new AxisRendererY),U.renderer.inside=!0,U.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var W=U.renderer;W.grid.template.disabled=!0,W.axisFills.template.disabled=!0,W.baseGrid.disabled=!0,W.labels.template.padding(2,3,2,3),W.minHeight=void 0,W.minWidth=void 0,this.markerContainer.layout=E},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(ValueAxis),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(E){this._valueAxis=E,E.parent=this,E.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"series",{get:function(){return this._series},set:function(E){var V=this;this._series=E;var U="value";try{var W=E.heatRules.getIndex(0).dataField;W&&(U=W)}catch{}this.updateMinMax(E.dataItem.values[U].low,E.dataItem.values[U].high),E.dataItem.events.on("calculatedvaluechanged",function(Y){V.updateMinMax(E.dataItem.values[U].low,E.dataItem.values[U].high)},void 0,!1),E.heatRules.events.on("inserted",this.invalidate,this,!1),E.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),F.prototype.updateMinMax=function(E,V){var U=this.valueAxis;isNumber(this.minValue)||(U.min=E,U.invalidate()),isNumber(this.maxValue)||(U.max=V,U.invalidate())},F.prototype.processConfig=function(E){if(E&&hasValue(E.series)&&isString$1(E.series)&&isString$1(E.series))if(this.map.hasKey(E.series))E.series=this.map.getKey(E.series);else{var V=E.series,U=this.map.events.on("insertKey",function(W){W.key==V&&(this.series=W.newValue,U.dispose())},this);this._disposers.push(U),delete E.series}R.prototype.processConfig.call(this,E)},F}(Container);registry.registeredClasses.HeatLegend=HeatLegend;var Candlestick=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="Candlestick",E.layout="none",E}return F.prototype.createAssets=function(){R.prototype.createAssets.call(this),this.lowLine=this.createChild(Line),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Line),this.highLine.shouldClone=!1},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.lowLine&&this.lowLine.copyFrom(E.lowLine),this.highLine&&this.highLine.copyFrom(E.highLine)},F}(Column);registry.registeredClasses.Candlestick=Candlestick;var CandlestickSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.values.lowValueX={},E.values.lowValueY={},E.values.highValueX={},E.values.highValueY={},E.className="CandlestickSeriesDataItem",E.applyTheme(),E}return Object.defineProperty(F.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(E){this.setValue("lowValueX",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(E){this.setValue("lowValueY",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(E){this.setValue("highValueX",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(E){this.setValue("highValueY",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(E){this.setValue("valueX",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(E){this.setValue("valueY",E)},enumerable:!0,configurable:!0}),F}(ColumnSeriesDataItem),CandlestickSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="CandlestickSeries",E.groupFields.lowValueX="low",E.groupFields.lowValueY="low",E.groupFields.highValueX="high",E.groupFields.highValueY="high",E.strokeOpacity=1;var V=new InterfaceColorSet,U=V.getFor("positive"),W=V.getFor("negative");return E.dropFromOpenState.properties.fill=W,E.dropFromOpenState.properties.stroke=W,E.riseFromOpenState.properties.fill=U,E.riseFromOpenState.properties.stroke=U,E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},F.prototype.createDataItem=function(){return new CandlestickSeriesDataItem},F.prototype.validateDataElementReal=function(E){R.prototype.validateDataElementReal.call(this,E),this.validateCandlestick(E)},F.prototype.validateCandlestick=function(E){var V=E.column;if(V){var U=V.lowLine,W=V.highLine;if(this.baseAxis==this.xAxis){var Y=V.pixelWidth/2;U.x=Y,W.x=Y;var G=E.getWorkingValue(this.yOpenField),X=E.getWorkingValue(this.yField),K=this.yAxis.getY(E,this.yOpenField),Z=this.yAxis.getY(E,this.yField),J=this.yAxis.getY(E,this.yLowField),Q=this.yAxis.getY(E,this.yHighField),ee=V.pixelY;U.y1=J-ee,W.y1=Q-ee,G<X?(U.y2=K-ee,W.y2=Z-ee):(U.y2=Z-ee,W.y2=K-ee)}if(this.baseAxis==this.yAxis){var te=V.pixelHeight/2;U.y=te,W.y=te;var ie=E.getWorkingValue(this.xOpenField),ne=E.getWorkingValue(this.xField),ae=this.xAxis.getX(E,this.xOpenField),se=this.xAxis.getX(E,this.xField),oe=this.xAxis.getX(E,this.xLowField),le=this.xAxis.getX(E,this.xHighField),ue=V.pixelX;U.x1=oe-ue,W.x1=le-ue,ie<ne?(U.x2=ae-ue,W.x2=se-ue):(U.x2=se-ue,W.x2=ae-ue)}each(this.axisRanges.iterator(),function(ce){var he=E.rangesColumns.getKey(ce.uid);if(he){var de=he.lowLine;de.x=U.x,de.y=U.y,de.x1=U.x1,de.x2=U.x2,de.y1=U.y1,de.y2=U.y2;var fe=he.highLine;fe.x=W.x,fe.y=W.y,fe.x1=W.x1,fe.x2=W.x2,fe.y1=W.y1,fe.y2=W.y2}})}},Object.defineProperty(F.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),F.prototype.defineFields=function(){R.prototype.defineFields.call(this);var E=this.xAxis,V=this.yAxis;if(E&&V){if(this.baseAxis==E){var U=capitalize(V.axisFieldName);this._yLowField="low"+U+"Y",this._yHighField="high"+U+"Y"}if(this.baseAxis==V){var W=capitalize(E.axisFieldName);this._xLowField="low"+W+"X",this._xHighField="high"+W+"X"}this.addValueField(E,this._xValueFields,this._xLowField),this.addValueField(E,this._xValueFields,this._xHighField),this.addValueField(V,this._yValueFields,this._yLowField),this.addValueField(V,this._yValueFields,this._yHighField)}},F.prototype.createLegendMarker=function(E){var V=E.pixelWidth,U=E.pixelHeight;E.removeChildren();var W=E.createChild(Candlestick);W.shouldClone=!1,W.copyFrom(this.columns.template);var Y,G,X=W.lowLine,K=W.highLine;this.baseAxis==this.yAxis?(Y=V/3,G=U,X.y=U/2,K.y=U/2,X.x2=V/3,K.x2=V/3,K.x=V/3*2,W.column.x=V/3):(Y=V,G=U/3,X.x=V/2,K.x=V/2,X.y2=U/3,K.y2=U/3,K.y=U/3*2,W.column.y=U/3),W.width=Y,W.height=G,copyProperties$1(this,E,visualProperties),copyProperties$1(this.columns.template,W,visualProperties),W.stroke=this.riseFromOpenState.properties.stroke,W.fill=W.stroke;var Z=E.dataItem;Z.color=W.fill,Z.colorOrig=W.fill},F.prototype.createColumnTemplate=function(){return new Candlestick},F}(ColumnSeries);registry.registeredClasses.CandlestickSeries=CandlestickSeries;registry.registeredClasses.CandlestickSeriesDataItem=CandlestickSeriesDataItem;var OHLC=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="OHLC",E.layout="none",E}return F.prototype.createAssets=function(){this.openLine=this.createChild(Line),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Line),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Line),this.closeLine.shouldClone=!1},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.openLine&&this.openLine.copyFrom(E.openLine),this.highLowLine&&this.highLowLine.copyFrom(E.highLowLine),this.closeLine&&this.closeLine.copyFrom(E.closeLine)},F}(Candlestick);registry.registeredClasses.OHLC=OHLC;var OHLCSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="OHLCSeriesDataItem",E.applyTheme(),E}return F}(CandlestickSeriesDataItem),OHLCSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="OHLCSeries",E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},F.prototype.createDataItem=function(){return new OHLCSeriesDataItem},F.prototype.validateCandlestick=function(E){var V=E.column;if(V){var U=V.openLine,W=V.highLowLine,Y=V.closeLine;if(this.baseAxis==this.xAxis){var G=V.pixelWidth/2;W.x=G,E.getWorkingValue(this.yOpenField),E.getWorkingValue(this.yField);var X=this.yAxis.getY(E,this.yOpenField),K=this.yAxis.getY(E,this.yField),Z=this.yAxis.getY(E,this.yLowField),J=this.yAxis.getY(E,this.yHighField),Q=V.pixelY;U.y1=X-Q,U.y2=X-Q,U.x1=0,U.x2=G,Y.y1=K-Q,Y.y2=K-Q,Y.x1=G,Y.x2=2*G,W.y1=J-Q,W.y2=Z-Q}if(this.baseAxis==this.yAxis){var ee=V.pixelHeight/2;W.y=ee,E.getWorkingValue(this.xOpenField),E.getWorkingValue(this.xField);var te=this.xAxis.getX(E,this.xOpenField),ie=this.xAxis.getX(E,this.xField),ne=this.xAxis.getX(E,this.xLowField),ae=this.xAxis.getX(E,this.xHighField),se=V.pixelX;U.x1=te-se,U.x2=te-se,U.y1=ee,U.y2=2*ee,Y.x1=ie-se,Y.x2=ie-se,Y.y1=0,Y.y2=ee,W.x1=ae-se,W.x2=ne-se}each(this.axisRanges.iterator(),function(oe){var le=E.rangesColumns.getKey(oe.uid);if(le){var ue=le.openLine;ue.x=U.x,ue.y=U.y,ue.x1=U.x1,ue.x2=U.x2,ue.y1=U.y1,ue.y2=U.y2;var ce=le.closeLine;ce.x=Y.x,ce.y=Y.y,ce.x1=Y.x1,ce.x2=Y.x2,ce.y1=Y.y1,ce.y2=Y.y2;var he=le.highLowLine;he.x=W.x,he.y=W.y,he.x1=W.x1,he.x2=W.x2,he.y1=W.y1,he.y2=W.y2}})}},F.prototype.createLegendMarker=function(E){var V=E.pixelWidth,U=E.pixelHeight;E.removeChildren();var W=E.createChild(OHLC);W.shouldClone=!1,W.copyFrom(this.columns.template);var Y,G,X=W.openLine,K=W.closeLine,Z=W.highLowLine;this.baseAxis==this.yAxis?(Y=V/3,G=U,Z.y=U/2,Z.x2=V,X.x=V/3*2,X.y2=U/2,K.x=V/3,K.y2=U,K.y1=U/2):(Y=V,G=U/3,Z.x=V/2,Z.y2=U,X.y=U/3*2,X.x2=V/2,K.y=U/3,K.x2=V,K.x1=V/2),W.width=Y,W.height=G,copyProperties$1(this,E,visualProperties),copyProperties$1(this.columns.template,W,visualProperties),W.stroke=this.riseFromOpenState.properties.stroke;var J=E.dataItem;J.color=W.stroke,J.colorOrig=W.stroke},F.prototype.createColumnTemplate=function(){return new OHLC},F}(CandlestickSeries);registry.registeredClasses.OHLCSeries=OHLCSeries;registry.registeredClasses.OHLCSeriesDataItem=OHLCSeriesDataItem;var StepLineSeriesSegment=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="StepLineSeriesSegment",E}return F.prototype.drawSegment=function(E,V,U,W,Y,G){if(E.length>0&&V.length>0)if(Y){var X=moveTo(E[0]);if(E.length>0)for(var K=1;K<E.length;K++){var Z=E[K];K/2==Math.round(K/2)?X+=moveTo(Z):X+=lineTo(Z)}this.strokeSprite.path=X,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(X=moveTo(E[0])+polyline(E),X+=lineTo(V[0])+polyline(V),X+=lineTo(E[0]),X+=closePath(),this.fillSprite.path=X)}else{var X=moveTo(E[0])+polyline(E);this.strokeSprite.path=X,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(X+=lineTo(V[0])+polyline(V),X+=lineTo(E[0]),X+=closePath(),this.fillSprite.path=X)}else this.strokeSprite.path="",this.fillSprite.path=""},F}(LineSeriesSegment);registry.registeredClasses.StepLineSeriesSegment=StepLineSeriesSegment;var StepLineSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="StepLineSeriesDataItem",E.applyTheme(),E}return F}(LineSeriesDataItem),StepLineSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="StepLineSeries",E.applyTheme(),E.startLocation=0,E.endLocation=1,E}return F.prototype.createDataItem=function(){return new StepLineSeriesDataItem},F.prototype.addPoints=function(E,V,U,W,Y){var G,X,K,Z;this.baseAxis==this.xAxis&&(G=this.startLocation,X=this.endLocation,K=this.getAdjustedXLocation(V,this.yOpenField),Z=this.getAdjustedXLocation(V,this.yField)),this.baseAxis==this.yAxis&&(K=this.startLocation,Z=this.endLocation,G=this.getAdjustedXLocation(V,this.xOpenField),X=this.getAdjustedXLocation(V,this.xField));var J=this.xAxis.getX(V,U,G),Q=this.yAxis.getY(V,W,K),ee=this.xAxis.getX(V,U,X),te=this.yAxis.getY(V,W,Z);if(J=fitToRange(J,-1e5,1e5),Q=fitToRange(Q,-1e5,1e5),ee=fitToRange(ee,-1e5,1e5),te=fitToRange(te,-1e5,1e5),!this.noRisers&&E.length>1){var ie=E[E.length-1];this.baseAxis==this.xAxis&&(Y?E.push({x:ie.x,y:te}):E.push({x:J,y:ie.y})),this.baseAxis==this.yAxis&&(Y?E.push({x:ee,y:ie.y}):E.push({x:ie.x,y:Q}))}var ne={x:J,y:Q},ae={x:ee,y:te};Y?E.push(ae,ne):E.push(ne,ae)},F.prototype.drawSegment=function(E,V,U){var W=!1;this.yAxis==this.baseAxis&&(W=!0),E.drawSegment(V,U,this.tensionX,this.tensionY,this.noRisers,W)},F.prototype.createSegment=function(){return new StepLineSeriesSegment},Object.defineProperty(F.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(E){this.setPropertyValue("noRisers",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(E){this.setPropertyValue("startLocation",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(E){this.setPropertyValue("endLocation",E,!0)},enumerable:!0,configurable:!0}),F}(LineSeries);registry.registeredClasses.StepLineSeries=StepLineSeries;registry.registeredClasses.StepLineSeriesDataItem=StepLineSeriesDataItem;var RadarColumn=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="RadarColumn",E}return F.prototype.createAssets=function(){this.radarColumn=this.createChild(Slice),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.radarColumn&&this.radarColumn.copyFrom(E.radarColumn)},F.prototype.getTooltipX=function(){var E=this.getPropertyValue("tooltipX");return isNumber(E)?E:this.radarColumn.getTooltipX()},F.prototype.getTooltipY=function(){var E=this.getPropertyValue("tooltipX");return isNumber(E)?E:this.radarColumn.getTooltipY()},F}(Column);registry.registeredClasses.RadarColumn=RadarColumn;var RadarColumnSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ColumnSeriesDataItem",E.applyTheme(),E}return F}(ColumnSeriesDataItem),RadarColumnSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="RadarColumnSeries",E.applyTheme(),E}return F.prototype.createColumnTemplate=function(){return new RadarColumn},F.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),R.prototype.validate.call(this)},F.prototype.disableUnusedColumns=function(E){E&&(E.column&&(E.column.__disabled=!0),each(this.axisRanges.iterator(),function(V){var U=E.rangesColumns.getKey(V.uid);U&&(U.__disabled=!0)}))},F.prototype.validateDataElementReal=function(E){var V=this,U=this.chart.startAngle,W=this.chart.endAngle,Y=this.yField,G=this.yOpenField,X=this.xField,K=this.xOpenField,Z,J,Q,ee,te=this.getStartLocation(E),ie=this.getEndLocation(E),ne=(W-U)/(this.dataItems.length*(this.end-this.start)),ae=E.column;ae||(ae=this.columns.create(),E.column=ae,copyProperties$1(this,ae,visualProperties),copyProperties$1(this.columns.template,ae,visualProperties),E.addSprite(ae),ae.paper=this.paper,this.setColumnStates(ae));var se=ae.width,oe=100;se instanceof Percent&&(oe=se.percent);var le=round$2((ie-te)*(1-oe/100)/2,5);if(te+=le,ie-=le,this.xAxis instanceof CategoryAxis&&this.yAxis instanceof CategoryAxis)Q=getDistance({x:this.yAxis.getX(E,Y,0,"valueY"),y:this.yAxis.getY(E,Y,0,"valueY")}),ee=getDistance({x:this.yAxis.getX(E,G,1,"valueY"),y:this.yAxis.getY(E,G,1,"valueY")}),Z=this.xAxis.getAngle(E,K,0,"valueX"),J=this.xAxis.getAngle(E,X,1,"valueX"),U=U+te*ne,W=W-(1-ie)*ne;else if(this.baseAxis==this.xAxis)Q=getDistance({x:this.yAxis.getX(E,Y,E.locations[Y],"valueY"),y:this.yAxis.getY(E,Y,E.locations[Y],"valueY")}),ee=getDistance({x:this.yAxis.getX(E,G,E.locations[G],"valueY"),y:this.yAxis.getY(E,G,E.locations[G],"valueY")}),Z=this.xAxis.getAngle(E,K,te,"valueX"),J=this.xAxis.getAngle(E,X,ie,"valueX"),U=U+te*ne,W=W-(1-ie)*ne;else{if(Q=getDistance({x:this.yAxis.getX(E,Y,te,"valueY"),y:this.yAxis.getY(E,Y,te,"valueY")}),ee=getDistance({x:this.yAxis.getX(E,G,ie,"valueY"),y:this.yAxis.getY(E,G,ie,"valueY")}),isNumber(se)){var ue=Math.abs(Q-ee);if(ue>se){var ce=(ue-se)/2;Q+=ce,ee-=ce}}Z=this.xAxis.getAngle(E,X,E.locations[X],"valueX"),J=this.xAxis.getAngle(E,K,E.locations[K],"valueX")}if(J<Z){var he=J;J=Z,Z=he}Z=fitToRange(Z,U,W),J=fitToRange(J,U,W);var de=ae.radarColumn;de.startAngle=Z;var fe=J-Z;fe>0?(de.arc=fe,de.radius=Q,de.innerRadius=ee,ae.__disabled=!1,ae.parent=this.columnsContainer,each(this.axisRanges.iterator(),function(Te){var xe=E.rangesColumns.getKey(Te.uid);xe||(xe=V.columns.create(),forceCopyProperties(V.columns.template,xe,visualProperties),copyProperties$1(Te.contents,xe,visualProperties),xe.dataItem&&remove$1(xe.dataItem.sprites,xe),E.addSprite(xe),xe.paper=V.paper,V.setColumnStates(xe),E.rangesColumns.setKey(Te.uid,xe));var pe=xe.radarColumn;pe.startAngle=Z,pe.arc=fe,pe.radius=Q,pe.innerRadius=ee,pe.invalid&&(pe.paper=V.paper,pe.validate()),xe.__disabled=!1,xe.parent=Te.contents})):this.disableUnusedColumns(E)},F.prototype.getPoint=function(E,V,U,W,Y,G,X){G||(G="valueX"),X||(X="valueY");var K=this.yAxis.getX(E,U,Y,X),Z=this.yAxis.getY(E,U,Y,X),J=getDistance({x:K,y:Z});J==0&&(J=1e-5);var Q=this.xAxis.getAngle(E,V,W,G);return{x:J*cos(Q),y:J*sin(Q)}},F.prototype.getMaskPath=function(){var E=this.yAxis.renderer;return arc(E.startAngle,E.endAngle-E.startAngle,E.pixelRadius,E.pixelInnerRadius)},F.prototype.positionBulletReal=function(E,V,U){var W=this.xAxis,Y=this.yAxis;(V<W.start||V>W.end||U<Y.start||U>Y.end)&&(E.visible=!1),E.moveTo(this.xAxis.renderer.positionToPoint(V,U))},F.prototype.setXAxis=function(E){R.prototype.setXAxis.call(this,E),this.updateRendererRefs()},F.prototype.setYAxis=function(E){R.prototype.setYAxis.call(this,E),this.updateRendererRefs()},F.prototype.updateRendererRefs=function(){var E=this.xAxis.renderer,V=this.yAxis.renderer;E.axisRendererY=V},F}(ColumnSeries);registry.registeredClasses.RadarColumnSeries=RadarColumnSeries;registry.registeredClasses.RadarColumnSeriesDataItem=RadarColumnSeriesDataItem;var FunnelSlice=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.slice=E.createChild(Sprite),E.slice.shouldClone=!1,E.slice.setElement(E.paper.add("path")),E.slice.isMeasured=!1,E.orientation="vertical",E.bottomWidth=percent(100),E.topWidth=percent(100),E.isMeasured=!1,E.width=10,E.height=10,E.expandDistance=0,E.className="FunnelSlice",E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.pixelPaddingTop,V=this.pixelPaddingBottom,U=this.pixelPaddingRight,W=this.pixelPaddingLeft,Y=this.pixelWidth-U-W,G=this.pixelHeight-E-V,X=this.expandDistance,K="";if(this.orientation=="vertical"){var Z=relativeToValue(this.topWidth,Y),J=relativeToValue(this.bottomWidth,Y),Q={x:(Y-Z)/2+W,y:E},ee={x:(Y+Z)/2+W,y:E},te={x:(Y+J)/2+W,y:E+G},ie={x:(Y-J)/2+W,y:E+G},ne={x:ee.x+(te.x-ee.x)/2+X*G,y:ee.y+.5*G},ae={x:Q.x+(ie.x-Q.x)/2-X*G,y:Q.y+.5*G},se=lineTo(te),oe=lineTo(Q);X!=0&&(se=quadraticCurveTo(te,ne),oe=quadraticCurveTo(Q,ae)),K=moveTo(Q)+lineTo(ee)+se+lineTo(ie)+oe,this.tickPoint={x:ee.x+(te.x-ee.x)/2,y:ee.y+(te.y-ee.y)/2}}else{var Z=relativeToValue(this.topWidth,G),J=relativeToValue(this.bottomWidth,G),le={x:W,y:(G-Z)/2+E},ue={x:W,y:(G+Z)/2+E},ce={x:W+Y,y:(G-J)/2+E},he={x:W+Y,y:(G+J)/2+E},ne={y:le.y+(ce.y-le.y)/2-X*Y,x:le.x+.5*Y},ae={y:ue.y+(he.y-ue.y)/2+X*Y,x:ue.x+.5*Y},se=lineTo(ce),oe=lineTo(ue);X!=0&&(se=quadraticCurveTo(ce,ne),oe=quadraticCurveTo(ue,ae)),K=moveTo(ue)+lineTo(le)+se+lineTo(he)+oe,this.tickPoint={y:ue.y+(he.y-ue.y)/2,x:ue.x+(he.x-ue.x)/2}}this.slice.path=K,this.invalidateLayout()},F.prototype.getPoint=function(E,V){var U=this.pixelPaddingTop,W=this.pixelPaddingBottom,Y=this.pixelPaddingRight,G=this.pixelPaddingLeft,X=this.pixelWidth-Y-G,K=this.pixelHeight-U-W;if(this.orientation=="vertical"){var Z=relativeToValue(this.topWidth,X),J=relativeToValue(this.bottomWidth,X),Q={x:(X-Z)/2+G,y:U},ee={x:(X+Z)/2+G,y:U},te={x:(X+J)/2+G,y:U+K},ie={x:(X-J)/2+G,y:U+K},ne=Q.x+(ie.x-Q.x)*V,ae=ee.x+(te.x-ee.x)*V;return{x:ne+(ae-ne)*E,y:ee.y+(te.y-ee.y)*V}}else{var Z=relativeToValue(this.topWidth,K),J=relativeToValue(this.bottomWidth,K),se={x:G,y:(K-Z)/2+U},oe={x:G,y:(K+Z)/2+U},le={x:G+X,y:(K-J)/2+U},ue={x:G+X,y:(K+J)/2+U},ce=se.y+(le.y-se.y)*E,he=oe.y+(ue.y-oe.y)*E;return{y:ce+(he-ce)*V,x:se.x+(le.x-se.x)*E}}},Object.defineProperty(F.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(E){this.setPercentProperty("bottomWidth",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(E){this.setPercentProperty("topWidth",E,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(E){this.setPropertyValue("orientation",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(E){this.setPropertyValue("expandDistance",E,!0)},enumerable:!0,configurable:!0}),F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.slice&&this.slice.copyFrom(E.slice)},F}(Container);registry.registeredClasses.FunnelSlice=FunnelSlice;var FunnelTick=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._label=new MutableValueDisposer,E._slice=new MutableValueDisposer,E.className="FunnelTick",E.element=E.paper.add("path"),E._disposers.push(E._label),E._disposers.push(E._slice),E.setPropertyValue("locationX",0),E.setPropertyValue("locationY",0),E.applyTheme(),E}return F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.slice,V=E.getPoint(this.locationX,this.locationY);if(V){var U=this.label,W=E.dataItem.component,Y=void 0,G=void 0,X=void 0;if(W.orientation=="vertical"){var K=U.pixelX,Z=U.pixelY;W.labelsOpposite||(K+=U.maxRight),Y=spritePointToSprite(V,E,this.parent),X=spritePointToSprite({x:K,y:Z},U.parent,this.parent),G={x:U.parent.pixelX-this.length,y:X.y},W.labelsOpposite||(G.x=U.parent.measuredWidth+this.length)}else{var K=U.pixelX,Z=U.pixelY;W.labelsOpposite||(Z+=U.maxBottom),Y=spritePointToSprite(V,E,this.parent),X=spritePointToSprite({x:K,y:Z},U.parent,this.parent),G={x:X.x,y:U.parent.pixelY-this.length},W.labelsOpposite||(G.y=U.parent.measuredHeight+this.length)}this.path=moveTo(Y)+lineTo(G)+lineTo(X)}},Object.defineProperty(F.prototype,"slice",{get:function(){return this._slice.get()},set:function(E){this._slice.set(E,new MultiDisposer([E.events.on("transformed",this.invalidate,this,!1),E.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"label",{get:function(){return this._label.get()},set:function(E){this._label.set(E,E.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(E){this.setPropertyValue("locationX",E,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(E){this.setPropertyValue("locationY",E,!1,!0)},enumerable:!0,configurable:!0}),F}(Tick);registry.registeredClasses.FunnelTick=FunnelTick;var FunnelSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="FunnelSeriesDataItem",E.events.on("visibilitychanged",function(){E.component&&E.component.invalidateDataItems()},E,!1),E.applyTheme(),E}return Object.defineProperty(F.prototype,"sliceLink",{get:function(){var E=this;if(!this._sliceLink){var V=this.component.sliceLinks.create();this._sliceLink=V,this._disposers.push(V),V.parent=this.component.slicesContainer,this._disposers.push(new Disposer(function(){E.component&&E.component.sliceLinks.removeValue(V)})),this.addSprite(V),V.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),F}(PercentSeriesDataItem),FunnelSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E._nextY=0,E.className="FunnelSeries",E.orientation="vertical",E.width=percent(100),E.height=percent(100),E.slicesContainer.width=percent(100),E.slicesContainer.height=percent(100),E._disposers.push(E.slicesContainer.events.on("maxsizechanged",E.invalidateDataItems,E,!1)),E.labelsOpposite=!0,E.labelsContainer.layout="absolute",E.bottomRatio=0,E.applyTheme(),E}return F.prototype.createSlice=function(){return new FunnelSlice},F.prototype.createTick=function(){return new FunnelTick},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},F.prototype.createDataItem=function(){return new FunnelSeriesDataItem},F.prototype.initSlice=function(E){E.isMeasured=!1,E.defaultState.properties.scale=1,E.observe("scale",this.handleSliceScale,this),E.observe(["dx","dy","x","y"],this.handleSliceMove,this),E.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var V=E.states.create("hover");V.properties.expandDistance=.2},F.prototype.initLabel=function(E){R.prototype.initLabel.call(this,E),E.verticalCenter="middle",E.horizontalCenter="middle",E.isMeasured=!0,E.padding(5,5,5,5)},F.prototype.validate=function(){R.prototype.validate.call(this),this._nextY=0},F.prototype.validateDataElements=function(){var E=this,V=this.slicesContainer,U=this.labelsContainer,W=this.labels.template;this.alignLabels?(W.interactionsEnabled=!0,V.isMeasured=!0,U.isMeasured=!0):(W.interactionsEnabled=!1,V.isMeasured=!1,U.isMeasured=!1);var Y=0,G=0;this.dataItems.each(function(X){hasValue(X.value)&&(G++,X.value>0?Y+=Math.abs(X.getWorkingValue("value")/X.value):E.ignoreZeroValues||!X.visible||X.__disabled||X.isHiding?G--:Y+=1)}),this._total=1/G*Y,this._count=G,R.prototype.validateDataElements.call(this),this.arrangeLabels()},F.prototype.getNextValue=function(E){var V=E.index,U=E.getWorkingValue("value");if(V<this.dataItems.length-1){var W=this.dataItems.getIndex(V+1);if(U=W.getWorkingValue("value"),!W.visible||W.isHiding||W.__disabled||W.value==0&&this.ignoreZeroValues)return this.getNextValue(W)}return U},F.prototype.formDataElement=function(){},F.prototype.validateDataElement=function(E){var V=this,U=E.slice;U.orientation=this.orientation;var W=E.sliceLink;W.orientation=this.orientation;var Y=E.tick,G=E.label;Y.slice=U,Y.label=G,hasValue(E.value)?(this.decorateSlice(E),each$2(E.sprites,function(X){E.value==0&&V.ignoreZeroValues?X.__disabled=!0:X.__disabled=!1})):each$2(E.sprites,function(X){X.__disabled=!0}),E.index==this.dataItems.length-1&&(W.disabled=!0),R.prototype.validateDataElement.call(this,E),W.fill=U.fill},F.prototype.decorateSlice=function(E){var V=E.slice,U=E.sliceLink,W=E.label,Y=E.tick,G=this.slicesContainer.innerWidth,X=this.slicesContainer.innerHeight,K=this.getNextValue(E),Z=Math.abs(E.getWorkingValue("value")),J=this.bottomRatio,Q=1;if(E.value!=0?Q=Z/Math.abs(E.value):(E.__disabled||E.isHiding||!E.visible)&&(Q=1e-6),this.ignoreZeroValues&&E.value==0){E.__disabled=!0;return}else E.__disabled=!1;if(this._nextY==1/0&&(this._nextY=0),this.orientation=="vertical"){var ee=U.pixelHeight*Q;X=X+ee,V.topWidth=Z/this.dataItem.values.value.high*G,V.bottomWidth=(Z-(Z-K)*J)/this.dataItem.values.value.high*G,U.topWidth=V.bottomWidth,U.bottomWidth=(Z-(Z-K))/this.dataItem.values.value.high*G,V.y=this._nextY,V.height=Math.min(1e5,max$2(0,X/this._count*Q/this._total-ee)),V.x=G/2,this.alignLabels?W.x=void 0:W.x=V.x,W.y=V.pixelY+V.pixelHeight*Y.locationY,this._nextY+=V.pixelHeight+ee,U.y=this._nextY-ee,U.x=V.x}else{var te=U.pixelWidth*Q;G=G+te,V.topWidth=Z/this.dataItem.values.value.high*X,V.bottomWidth=(Z-(Z-K)*J)/this.dataItem.values.value.high*X,U.topWidth=V.bottomWidth,U.bottomWidth=(Z-(Z-K))/this.dataItem.values.value.high*X,V.x=this._nextY,V.width=Math.min(1e5,G/this._count*Q*1/this._total-te),V.y=X/2,this.alignLabels?W.y=this.labelsContainer.measuredHeight:W.y=V.y,W.x=V.pixelX+V.pixelWidth*Y.locationX,this._nextY+=V.pixelWidth+te,U.x=this._nextY-te,U.y=V.y}},F.prototype.getLastLabel=function(E){if(E>0){var V=this.labels.getIndex(E);return V.__disabled||!V.visible?this.getLastLabel(E-1):V}},F.prototype.arrangeLabels=function(){if(this.alignLabels){var E=this.labels.length;if(E>1){var V=this.getLastLabel(E-1);if(V){var U=V.pixelY,W=V.pixelX;if(E>1){for(var Y=E-2;Y>=0;Y--){var G=this.labels.getIndex(Y);G.visible&&!G.__disabled&&(G.invalid&&G.validate(),this.orientation=="vertical"?G.pixelY+G.measuredHeight>U&&(G.y=Math.min(1e6,U-G.measuredHeight)):G.pixelX+G.measuredWidth>W&&(G.x=Math.min(1e6,W-G.measuredWidth)),U=G.pixelY,W=G.pixelX)}U=0,W=0;for(var Y=0;Y<E;Y++){var G=this.labels.getIndex(Y);G.visible&&!G.__disabled&&(G.invalid&&G.validate(),this.orientation=="vertical"?G.pixelY<U&&(G.y=Math.min(1e6,U)):G.pixelX<W&&(G.x=Math.min(1e6,W)),U+=G.measuredHeight,W+=G.measuredWidth)}}}}}},F.prototype.positionBullet=function(E){R.prototype.positionBullet.call(this,E);var V=E.dataItem,U=V.slice,W=E.locationX;isNumber(W)||(W=.5);var Y=E.locationY;isNumber(Y)||(Y=1),E.x=U.pixelX+U.measuredWidth*W,E.y=U.pixelY+U.measuredHeight*Y},Object.defineProperty(F.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(E){this.setPropertyValue("orientation",E)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),E=="vertical"?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(E){this.setPropertyValue("bottomRatio",E)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var E=new FunnelSlice;E.applyOnClones=!0,E.fillOpacity=.5,E.expandDistance=-.3,E.hiddenState.properties.opacity=0,this._disposers.push(E),this._sliceLinks=new ListTemplate(E),this._disposers.push(new ListDisposer(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),F.prototype.show=function(E){var V=this,U=this.startIndex,W=this.endIndex,Y=this.defaultState.transitionDuration;isNumber(E)&&(Y=E);var G=0;each(indexed(this.dataItems.iterator()),function(K){var Z=K[0],J=K[1];V.sequencedInterpolation&&(G=V.sequencedInterpolationDelay*Z+Y*(Z-U)/(W-U)),J.show(Y,G,["value"])});var X=R.prototype.show.call(this,E);return X},F.prototype.hide=function(E){var V=this,U=["value"],W=0,Y=this.startIndex,G=this.endIndex,X=0,K=this.hiddenState.transitionDuration;isNumber(E)&&(K=E),each(indexed(this.dataItems.iterator()),function(J){var Q=J[0],ee=J[1];V.sequencedInterpolation&&(X=V.sequencedInterpolationDelay*Q+K*(Q-Y)/(G-Y)),ee.hide(K,X,W,U)});var Z=R.prototype.hide.call(this,E);return Z&&!Z.isFinished()&&Z.delay(X),Z},F.prototype.setAlignLabels=function(E){R.prototype.setAlignLabels.call(this,E),this.ticks.template.disabled=!E;var V=this.labelsContainer;V&&(E?(V.height=void 0,V.width=void 0,V.margin(10,10,10,10)):(V.width=percent(100),V.height=percent(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(F.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(E){this.setPropertyValue("labelsOpposite",E);var V=this.labels.template,U="none",W="none";this.alignLabels?E?(this.labelsContainer.toFront(),this.orientation=="vertical"?(this.ticks.template.locationX=1,V.horizontalCenter="left",U="right"):(this.ticks.template.locationY=1,V.horizontalCenter="right",W="bottom")):(this.labelsContainer.toBack(),this.orientation=="vertical"?(this.ticks.template.locationX=0,U="left"):(W="top",this.ticks.template.locationY=0)):this.orientation=="vertical"?U="center":W="middle",V.align=U,V.valign=W,this.validateLayout(),this.ticks.each(function(Y){Y.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),F}(PercentSeries);registry.registeredClasses.FunnelSeries=FunnelSeries;registry.registeredClasses.FunnelSeriesDataItem=FunnelSeriesDataItem;var PyramidSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PyramidSeriesDataItem",E.applyTheme(),E}return F}(FunnelSeriesDataItem),PyramidSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PyramidSeries",E.topWidth=percent(0),E.bottomWidth=percent(100),E.pyramidHeight=percent(100),E.valueIs="area",E.sliceLinks.template.width=0,E.sliceLinks.template.height=0,E.applyTheme(),E}return F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},F.prototype.createDataItem=function(){return new PyramidSeriesDataItem},F.prototype.validate=function(){R.prototype.validate.call(this),this._nextWidth=void 0},F.prototype.getNextValue=function(E){var V=E.index,U=E.getWorkingValue("value");if(V<this.dataItems.length-1){var W=this.dataItems.getIndex(V+1);U=W.getWorkingValue("value")}return U==0&&(U=1e-6),U},F.prototype.validateDataElements=function(){var E=this,V=this.slicesContainer.innerWidth,U=this.slicesContainer.innerHeight;if(this.dataItems.each(function(G){if(G.value>0){var X=G.getWorkingValue("value")/G.value,K=G.sliceLink;E.orientation=="vertical"?U-=K.pixelHeight*X:V-=K.pixelWidth*X}}),this._pyramidHeight=relativeToValue(this.pyramidHeight,U),this._pyramidWidth=relativeToValue(this.pyramidHeight,V),this.orientation=="vertical"){var W=(U-this._pyramidHeight)/2;this.slicesContainer.y=W,this.labelsContainer.y=W,this.ticksContainer.y=W}else{var Y=(V-this._pyramidWidth)/2;this.slicesContainer.x=Y,this.labelsContainer.x=Y,this.ticksContainer.x=Y}R.prototype.validateDataElements.call(this)},F.prototype.decorateSlice=function(E){var V=this.dataItem.values.value.absoluteSum;if(V!=0){var U=E.slice,W=E.sliceLink,Y=E.label,G=E.tick;this.getNextValue(E);var X=Math.abs(E.getWorkingValue("value")),K=this._pyramidWidth,Z=this._pyramidHeight,J=this.slicesContainer.innerWidth,Q=this.slicesContainer.innerHeight,ee=W.pixelWidth,te=W.pixelHeight;if((E.value==0||E.value==null)&&this.ignoreZeroValues?E.__disabled=!0:E.__disabled=!1,this.orientation=="vertical"){var ie=relativeToValue(this.topWidth,J);isNumber(this._nextWidth)||(this._nextWidth=ie);var ne=relativeToValue(this.bottomWidth,J),ae=this._nextWidth,se=Math.atan2(Z,ie-ne),oe=Math.tan(Math.PI/2-se);oe==0&&(oe=1e-8);var le=void 0,ue=void 0;if(this.valueIs=="area"){var ce=(ie+ne)/2*Z,he=ce*X/V,de=Math.abs(ae*ae-2*he*oe);le=(ae-Math.sqrt(de))/oe,le>0?ue=(2*he-le*ae)/le:ue=ae}else le=Z*X/V,ue=ae-le*oe;U.height=le,U.width=J,U.bottomWidth=ue,U.topWidth=ae,W.topWidth=U.bottomWidth,W.bottomWidth=U.bottomWidth,U.y=this._nextY,this.alignLabels?Y.x=0:Y.x=J/2,Y.y=U.pixelY+U.pixelHeight*G.locationY+U.dy,this._nextY+=U.pixelHeight+te*X/Math.max(Math.abs(E.value),1e-8),W.y=this._nextY-te,W.x=J/2}else{var ie=relativeToValue(this.topWidth,Q);isNumber(this._nextWidth)||(this._nextWidth=ie);var ne=relativeToValue(this.bottomWidth,Q),ae=this._nextWidth,se=Math.atan2(K,ie-ne),oe=Math.tan(Math.PI/2-se);oe==0&&(oe=1e-8);var fe=void 0,ue=void 0;if(this.valueIs=="area"){var ce=(ie+ne)/2*K,he=ce*X/V;fe=(ae-Math.sqrt(ae*ae-2*he*oe))/oe,ue=(2*he-fe*ae)/fe}else fe=K*X/V,ue=ae-fe*oe;U.width=fe,U.height=Q,U.bottomWidth=ue,U.topWidth=ae,W.topWidth=U.bottomWidth,W.bottomWidth=U.bottomWidth,U.x=this._nextY,this.alignLabels?Y.y=this.labelsContainer.measuredHeight:Y.y=Q/2,Y.x=U.pixelX+U.pixelWidth*G.locationX+U.dx,this._nextY+=U.pixelWidth+ee*X/Math.max(Math.abs(E.value),1e-8),W.x=this._nextY-ee,W.y=Q/2}this._nextWidth=U.bottomWidth}},Object.defineProperty(F.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(E){this.setPercentProperty("topWidth",E,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(E){this.setPercentProperty("pyramidHeight",E,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(E){this.setPercentProperty("bottomWidth",E,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(E){this.setPropertyValue("valueIs",E)&&this.invalidate()},enumerable:!0,configurable:!0}),F}(FunnelSeries);registry.registeredClasses.PyramidSeries=PyramidSeries;registry.registeredClasses.PyramidSeriesDataItem=PyramidSeriesDataItem;var PictorialStackedSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PictorialStackedSeriesDataItem",E.applyTheme(),E}return F}(PyramidSeriesDataItem),PictorialStackedSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="PictorialStackedSeries",E.topWidth=percent(100),E.bottomWidth=percent(100),E.valueIs="height",E.applyTheme(),E.startLocation=0,E.endLocation=1,E.align="center",E.valign="middle",E._maskSprite=E.slicesContainer.createChild(Sprite),E._maskSprite.visible=!1,E._maskSprite.zIndex=100,E._maskSprite.shouldClone=!1,E}return F.prototype.validateDataElements=function(){var E=this.slicesContainer.maxWidth,V=this.slicesContainer.maxHeight,U=this._maskSprite,W=U.measuredWidth/U.scale,Y=U.measuredHeight/U.scale,G=min$2(V/Y,E/W);G==1/0&&(G=1),G=max$2(.001,G);var X=this.startLocation,K=this.endLocation,Z=min$2(E,W*G),J=min$2(V,Y*G);U.scale=G,this.orientation=="vertical"?(this.topWidth=Z+4,this.bottomWidth=Z+4,this.pyramidHeight=J*(K-X),U.x=E/2,U.y=J/2):(this.topWidth=J+4,this.bottomWidth=J+4,this.pyramidHeight=Z*(K-X),U.valign="middle",U.x=Z/2,U.y=V/2),U.verticalCenter="middle",U.horizontalCenter="middle",R.prototype.validateDataElements.call(this);var Q,ee;this.orientation=="vertical"?(this.valign=="bottom"&&(Q=V-J),this.valign=="middle"&&(Q=(V-J)/2),this.valign=="top"&&(Q=0),this.align=="left"&&(ee=-(E-Z)/2),this.align=="center"&&(ee=0),this.align=="right"&&(ee=(E-Z)/2),this.slices.template.dy=X*J,this.alignLabels&&(this.slicesContainer.dx=ee)):(this.valign=="bottom"&&(Q=(V-J)/2),this.valign=="middle"&&(Q=0),this.valign=="top"&&(Q=-(V-J)/2),this.align=="left"&&(ee=0),this.align=="center"&&(ee=(E-Z)/2),this.align=="right"&&(ee=E-Z),this.slices.template.dx=X*Z,this.alignLabels&&(this.slicesContainer.dy=Q)),this.slicesContainer.x=ee,this.labelsContainer.x=ee,this.ticksContainer.x=ee,this.slicesContainer.y=Q,this.labelsContainer.y=Q,this.ticksContainer.y=Q,Z>0&&J>0&&(this.slicesContainer.mask=U)},F.prototype.applyInternalDefaults=function(){R.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},F.prototype.createDataItem=function(){return new PictorialStackedSeriesDataItem},Object.defineProperty(F.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),F.prototype.initSlice=function(E){R.prototype.initSlice.call(this,E);var V=E.states.getKey("hover");V&&(V.properties.expandDistance=0)},Object.defineProperty(F.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(E){this.setPropertyValue("startLocation",E)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(E){this.setPropertyValue("endLocation",E)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),F}(PyramidSeries);registry.registeredClasses.PictorialStackedSeries=PictorialStackedSeries;registry.registeredClasses.PictorialStackedSeriesDataItem=PictorialStackedSeriesDataItem;var ConeColumn=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ConeColumn",E}return F.prototype.createAssets=function(){this.coneColumn=this.createChild(Cone),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.coneColumn&&this.coneColumn.copyFrom(E.coneColumn)},F}(Column);registry.registeredClasses.ConeColumn=ConeColumn;var ConeSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ConeSeriesDataItem",E.applyTheme(),E}return F}(ColumnSeriesDataItem),ConeSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ConeSeries",E.applyTheme(),E}return F.prototype.createColumnTemplate=function(){return new ConeColumn},F.prototype.getMaskPath=function(){var E=0,V=0,U=this.columns.getIndex(0);if(U)return this.baseAxis==this.xAxis?V=U.coneColumn.innerWidth/2+1:E=U.coneColumn.innerHeight/2+1,rectToPath({x:-E,y:0,width:this.xAxis.axisLength+E,height:this.yAxis.axisLength+V})},F.prototype.validateDataElementReal=function(E){R.prototype.validateDataElementReal.call(this,E);var V=E.column;if(V){var U=E.column.coneColumn;U.fill=E.column.fill,this.baseAxis==this.yAxis?U.orientation="horizontal":U.orientation="vertical"}},F}(ColumnSeries);registry.registeredClasses.ConeSeries=ConeSeries;registry.registeredClasses.ConeSeriesDataItem=ConeSeriesDataItem;var CurvedColumn=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="CurvedColumn",E}return F.prototype.createAssets=function(){this.curvedColumn=this.createChild(Sprite),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=percent(120),this.height=percent(120),this.column=this.curvedColumn},F.prototype.draw=function(){R.prototype.draw.call(this);var E=this.realWidth,V=this.realHeight,U=this.realX-this.pixelX,W=this.realY-this.pixelY,Y;this.width;var G=1,X=1;this.orientation=="vertical"?(G=this.tension,Y=[{x:0,y:V+W},{x:E/2,y:W},{x:E,y:V+W}]):(X=this.tension,V=Math.abs(V),Y=[{x:U,y:V},{x:U+E,y:V/2},{x:U,y:0}]);var K=moveTo(Y[0])+new Tension(G,X).smooth(Y);this.column.path=K},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.curvedColumn&&this.curvedColumn.copyFrom(E.curvedColumn)},Object.defineProperty(F.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(E){this.setPropertyValue("tension",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(E){this.setPropertyValue("orientation",E,!0)},enumerable:!0,configurable:!0}),F}(Column);registry.registeredClasses.CurvedColumn=CurvedColumn;var CurvedColumnSeriesDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="CurvedColumnSeriesDataItem",E.applyTheme(),E}return F}(ColumnSeriesDataItem),CurvedColumnSeries=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="CurvedColumnSeries",E.applyTheme(),E}return F.prototype.createColumnTemplate=function(){return new CurvedColumn},F.prototype.validateDataElementReal=function(E){R.prototype.validateDataElementReal.call(this,E);var V=E.column;if(V=E.column,V){var U=E.column.curvedColumn;U.fill=E.column.fill,this.baseAxis==this.yAxis?V.orientation="horizontal":V.orientation="vertical"}},F}(ColumnSeries);registry.registeredClasses.CurvedColumnSeries=CurvedColumnSeries;registry.registeredClasses.CurvedColumnSeriesDataItem=CurvedColumnSeriesDataItem;var CircleBullet=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="CircleBullet";var V=E.createChild(Circle);return V.shouldClone=!1,V.radius=5,V.isMeasured=!1,E.circle=V,E.applyTheme(),E}return F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.circle.copyFrom(E.circle)},F}(Bullet);registry.registeredClasses.CircleBullet=CircleBullet;var ErrorBullet=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="ErrorBullet",E.errorLine=E.createChild(Sprite),E.errorLine.shouldClone=!1,E.width=20,E.height=20,E.strokeOpacity=1,E.isDynamic=!0,E}return F.prototype.validatePosition=function(){R.prototype.validatePosition.call(this);var E=this.pixelWidth/2,V=this.pixelHeight/2;this.errorLine.path=moveTo({x:-E,y:-V})+lineTo({x:E,y:-V})+moveTo({x:0,y:-V})+lineTo({x:0,y:V})+moveTo({x:-E,y:V})+lineTo({x:E,y:V})},F.prototype.copyFrom=function(E){R.prototype.copyFrom.call(this,E),this.errorLine.copyFrom(E.errorLine)},F}(Bullet);registry.registeredClasses.ErrorBullet=ErrorBullet;var NavigationBarDataItem=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="NavigationBarDataItem",E.applyTheme(),E}return Object.defineProperty(F.prototype,"name",{get:function(){return this.properties.name},set:function(E){this.setProperty("name",E)},enumerable:!0,configurable:!0}),F}(DataItem),NavigationBar=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.className="NavigationBar";var V=new InterfaceColorSet,U=new TextLink;U.valign="middle",U.paddingTop=8,U.paddingBottom=8,E.paddingBottom=2,E.links=new ListTemplate(U),E._disposers.push(new ListDisposer(E.links)),E._disposers.push(U),E._linksIterator=new ListIterator(E.links,function(){return E.links.create()}),E._linksIterator.createNewItems=!0;var W=new Triangle;W.direction="right",W.width=8,W.height=12,W.fill=V.getFor("alternativeBackground"),W.fillOpacity=.5,W.valign="middle",W.marginLeft=10,W.marginRight=10,E.separators=new ListTemplate(W),E._disposers.push(new ListDisposer(E.separators)),E._disposers.push(W);var Y=new TextLink;return E.activeLink=Y,Y.copyFrom(U),Y.valign="middle",Y.fontWeight="bold",E.width=percent(100),E.layout="grid",E.dataFields.name="name",E.applyTheme(),E}return F.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),R.prototype.validateDataElements.call(this)},F.prototype.validateDataElement=function(E){R.prototype.validateDataElement.call(this,E);var V;if(E.index<this.dataItems.length-1){V=this._linksIterator.getLast(),V.parent=this;var U=this.separators.create();U.parent=this,U.valign="middle"}else V=this.activeLink,V.events.copyFrom(this.links.template.events),V.hide(0),V.show(),V.parent=this;V.dataItem=E,V.text=E.name,V.validate()},F}(Component$1);registry.registeredClasses.NavigationBar=NavigationBar;registry.registeredClasses.NavigationBarDataItem=NavigationBarDataItem;var Cursor=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E.point={x:0,y:0},E._stick="none",E.className="Cursor",E.width=percent(100),E.height=percent(100),E.shouldClone=!1,E.hide(0),E.trackable=!0,E.clickable=!0,E.isMeasured=!1;var V=getInteraction();return E._disposers.push(V.body.events.on("down",E.handleCursorDown,E)),E._disposers.push(V.body.events.on("up",E.handleCursorUp,E)),E._disposers.push(V.body.events.on("track",E.handleCursorMove,E)),E.applyTheme(),E}return F.prototype.handleCursorMove=function(E){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&E.touch)){if((this._generalBehavior!="zoom"&&this._generalBehavior!="pan"||!this.downPoint)&&!getInteraction().isLocalElement(E.pointer,this.paper.svg,this.uid)){(!this.isHidden||!this.isHiding)&&this.hide();return}var V=documentPointToSprite(E.pointer.point,this);return this._stick=="hard"&&this._stickPoint&&(V=this._stickPoint),this._stick=="soft"&&this._stickPoint&&(this.fitsToBounds(V)||(V=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",V),this.triggerMove(V),V}},F.prototype.hideReal=function(E){if(!((this._stick=="hard"||this._stick=="soft")&&this._stickPoint))return R.prototype.hideReal.call(this,E)},F.prototype.triggerMove=function(E,V,U){E.x=round$2(E.x,1),E.y=round$2(E.y,1),V&&(this._stick=V),(V=="hard"||V=="soft")&&(this._stickPoint=E),this.triggerMoveReal(E,U)},F.prototype.triggerMoveReal=function(E,V){(this.point.x!=E.x||this.point.y!=E.y||V)&&(this.point=E,this.invalidatePosition(),this.fitsToBounds(E)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},F.prototype.triggerDown=function(E){this.triggerDownReal(E)},F.prototype.triggerDownReal=function(E){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),getInteraction().setGlobalStyle(MouseCursorStyle.grabbing);break}},F.prototype.triggerUp=function(E){this.triggerUpReal(E)},F.prototype.triggerUpReal=function(E){system$1.requestFrame(),this.updatePoint(this.upPoint);var V=getInteraction();if(getDistance(this._upPointOrig,this._downPointOrig)>V.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),V.setGlobalStyle(MouseCursorStyle.default);break}this.downPoint=void 0,this.updateSelection()}},F.prototype.updateSelection=function(){},F.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},F.prototype.handleCursorDown=function(E){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&E.touch||!getInteraction().isLocalElement(E.pointer,this.paper.svg,this.uid))){blur();var V=documentPointToSprite(E.pointer.point,this);this._stick=="hard"&&this._stickPoint&&(V=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",V),this.fitsToBounds(V)&&(this._downPointOrig={x:V.x,y:V.y},E.event.cancelable&&this.shouldPreventGestures(E.touch)&&this.fitsToBounds(V)&&E.event.preventDefault(),this.triggerMove(V),this.triggerDown(V))}},F.prototype.shouldPreventGestures=function(E){return!0},F.prototype.updatePoint=function(E){},F.prototype.handleCursorUp=function(E){if(!!this.interactionsEnabled&&!(!this.downPoint&&!getInteraction().isLocalElement(E.pointer,this.paper.svg,this.uid))){var V=documentPointToSprite(E.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",V),!(!this.downPoint||!this.fitsToBounds(this.downPoint))&&(this._stick=="hard"&&this._stickPoint&&(V=this._stickPoint),this._upPointOrig={x:V.x,y:V.y},this.triggerMove(V),this.triggerUp(V))}},Object.defineProperty(F.prototype,"chart",{get:function(){return this._chart},set:function(E){this._chart=E,hasValue(this._chart.plotContainer)&&getInteraction().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),F}(Container);registry.registeredClasses.Cursor=Cursor;var XYCursor=function(R){__extends(F,R);function F(){var E=R.call(this)||this;E._lineX=new MutableValueDisposer,E._lineY=new MutableValueDisposer,E._xAxis=new MutableValueDisposer,E._yAxis=new MutableValueDisposer,E._snapToDisposers=[],E.className="XYCursor",E.behavior="zoomX",E.maxPanOut=.1;var V=new InterfaceColorSet;E.snapOnPan=!0;var U=E.createChild(Sprite);U.shouldClone=!1,U.fillOpacity=.2,U.fill=V.getFor("alternativeBackground"),U.isMeasured=!1,U.visible=!1,U.interactionsEnabled=!1,E.selection=U,E._disposers.push(E.selection);var W=E.createChild(Sprite);W.shouldClone=!1,W.stroke=V.getFor("grid"),W.fill=color$1(),W.strokeDasharray="3,3",W.isMeasured=!1,W.strokeOpacity=.4,W.interactionsEnabled=!1,W.y=0,E.lineX=W,E._disposers.push(E.lineX);var Y=E.createChild(Sprite);return Y.shouldClone=!1,Y.stroke=V.getFor("grid"),Y.fill=color$1(),Y.strokeDasharray="3,3",Y.isMeasured=!1,Y.strokeOpacity=.4,Y.interactionsEnabled=!1,Y.x=0,E.lineY=Y,E._disposers.push(E.lineY),E.events.on("sizechanged",E.updateSize,E,!1),E._disposers.push(E._lineX),E._disposers.push(E._lineY),E._disposers.push(E._xAxis),E._disposers.push(E._yAxis),E.mask=E,E.hideSeriesTooltipsOnSelection=!0,E.applyTheme(),E}return F.prototype.updateSize=function(){this.lineX&&(this.lineX.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=moveTo({x:0,y:0})+lineTo({x:this.innerWidth,y:0}))},F.prototype.updateSelection=function(){if(this._usesSelection){var E=this.downPoint,V=this.behavior;if(E){var U=this.point;this.lineX&&(U.x=this.lineX.pixelX),this.lineY&&(U.y=this.lineY.pixelY);var W=this.selection,Y=Math.min(U.x,E.x),G=Math.min(U.y,E.y),X=round$2(Math.abs(E.x-U.x),this._positionPrecision),K=round$2(Math.abs(E.y-U.y),this._positionPrecision);switch(V){case"zoomX":G=0,K=this.pixelHeight;break;case"zoomY":Y=0,X=this.pixelWidth;break;case"selectX":G=0,K=this.pixelHeight;break;case"selectY":Y=0,X=this.pixelWidth;break}W.x=Y,W.y=G,W.path=rectangle(X,K),W.validatePosition()}else this._generalBehavior!="select"&&this.selection.hide()}},F.prototype.fixPoint=function(E){return E.x=Math.max(0,E.x),E.y=Math.max(0,E.y),E.x=Math.min(this.pixelWidth,E.x),E.y=Math.min(this.pixelHeight,E.y),E},F.prototype.triggerMoveReal=function(E,V){R.prototype.triggerMoveReal.call(this,E,V);var U=this.snapToSeries;if(U&&!this.downPoint)if(U instanceof XYSeries)U.isHidden&&this.updateLinePositions(E);else{var W=!0;each$2(U,function(Y){Y.isHidden||(W=!1)}),W&&this.updateLinePositions(E)}else this.updateLinePositions(E);this.downPoint&&getDistance(this.downPoint,E)>3&&this._generalBehavior=="pan"&&(this.getPanningRanges(),this.dispatch("panning"))},F.prototype.updateLinePositions=function(E){E=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=E.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=E.y),this.updateSelection()},F.prototype.triggerDownReal=function(E){if(this.visible&&!this.isHiding)if(this._generalBehavior=="select"&&(this.selection.parent=this.parent),this.fitsToBounds(E)){this.downPoint={x:E.x,y:E.y},this.updatePoint(E),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var V=this.selection,U=this.downPoint.x,W=this.downPoint.y;this._usesSelection&&(V.x=U,V.y=W,V.path="",V.show()),R.prototype.triggerDownReal.call(this,E)}else this.downPoint=void 0;else this.downPoint=void 0},F.prototype.updatePoint=function(E){this.lineX&&(E.x=this.lineX.pixelX),this.lineY&&(E.y=this.lineY.pixelY)},F.prototype.triggerUpReal=function(E){if(this.hasMoved())this.downPoint&&(this.upPoint=E,this.updatePoint(this.upPoint),this._generalBehavior!="pan"&&this.getRanges(),this._generalBehavior!="select"&&this.selection.hide(),R.prototype.triggerUpReal.call(this,E));else{if(this._generalBehavior!="select"?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),this._generalBehavior=="pan"){var V=getInteraction();V.setGlobalStyle(MouseCursorStyle.default)}this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},F.prototype.hasMoved=function(){var E;return this.behavior=="zoomX"||this.behavior=="panX"?E=getHorizontalDistance(this._upPointOrig,this._downPointOrig):this.behavior=="zoomY"||this.behavior=="panY"?E=getVerticalDistance(this._upPointOrig,this._downPointOrig):E=getDistance(this._upPointOrig,this._downPointOrig),E>getInteraction().getHitOption(this.interactions,"hitTolerance")},F.prototype.getPanningRanges=function(){var E=round$2(this.downPoint.x/this.innerWidth,5),V=1-round$2(this.downPoint.y/this.innerHeight,5),U=round$2(this.point.x/this.innerWidth,5),W=1-round$2(this.point.y/this.innerHeight,5),Y=E-U,G=V-W;this.xRange={start:Y,end:1+Y},this.yRange={start:G,end:1+G},this.behavior=="panX"&&(this.yRange.start=0,this.yRange.end=1),this.behavior=="panY"&&(this.xRange.start=0,this.xRange.end=1)},F.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),this.selection;var E=round$2(this.downPoint.x/this.innerWidth,5),V=round$2(this.upPoint.x/this.innerWidth,5),U=1-round$2(this.downPoint.y/this.innerHeight,5),W=1-round$2(this.upPoint.y/this.innerHeight,5);this.xRange={start:min$2(E,V),end:max$2(E,V)},this.yRange={start:min$2(U,W),end:max$2(U,W)}},Object.defineProperty(F.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(E){this.setPropertyValue("behavior",E,!0),this._usesSelection=!1,E.indexOf("zoom")!=-1&&(this._generalBehavior="zoom",this._usesSelection=!0),E.indexOf("select")!=-1&&(this._generalBehavior="select",this._usesSelection=!0),E.indexOf("pan")!=-1&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),F.prototype.shouldPreventGestures=function(E){return(!this.interactions.isTouchProtected||!E)&&this.behavior!="none"},Object.defineProperty(F.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(E){this.setPropertyValue("fullWidthLineX",E),E||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(E){this.setPropertyValue("fullWidthLineY",E),E||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(E){this.setPropertyValue("hideSeriesTooltipsOnSelection",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(E){this.setPropertyValue("maxTooltipDistance",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(E){this.setPropertyValue("maxPanOut",E)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(E){var V=this;this._xAxis.get()!=E&&this._xAxis.set(E,new MultiDisposer([E.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),E.events.on("rangechangestarted",function(U){V.hide(0),V.preventShow=!0},void 0,!1),E.events.on("rangechangeended",function(U){V.preventShow=!1,V.hide(0),V.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(E){var V=this;this._yAxis.get()!=E&&this._yAxis.set(E,new MultiDisposer([E.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),E.events.on("rangechangestarted",function(U){V.hide(0),V.__disabled=!0},void 0,!1),E.events.on("rangechangeended",function(U){V.__disabled=!1,V.hide(0),V.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),F.prototype.handleXTooltipPosition=function(E){var V=this.xAxis.tooltip,U=svgPointToSprite({x:V.pixelX,y:V.pixelY},this),W=U.x;if(U.y=1,this.lineX&&(this.lineX.x=W,this.fitsToBounds(U)||this.hide()),this.xAxis&&this.fullWidthLineX){var Y=this.xAxis.currentItemStartPoint,G=this.xAxis.currentItemEndPoint;if(Y&&G){this.lineX.x=W;var X=G.x-Y.x;this.lineX.path=rectangle(X,this.innerHeight,-X/2)}}},F.prototype.handleYTooltipPosition=function(E){var V=this.yAxis.tooltip,U=svgPointToSprite({x:V.pixelX,y:V.pixelY},this),W=U.y;if(U.x=1,this.lineY&&(this.lineY.y=W,this.fitsToBounds(U)||this.hide()),this.yAxis&&this.fullWidthLineY){var Y=this.yAxis.currentItemStartPoint,G=this.yAxis.currentItemEndPoint;if(Y&&G){this.lineY.y=W;var X=G.y-Y.y;this.lineY.path=rectangle(this.innerWidth,X,0,-X/2)}}},Object.defineProperty(F.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(E){E?(E.setElement(this.paper.add("path")),this._lineX.set(E,E.events.on("positionchanged",this.updateSelection,this,!1)),E.interactionsEnabled=!1,E.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(E){E?(E.setElement(this.paper.add("path")),this._lineY.set(E,E.events.on("positionchanged",this.updateSelection,this,!1)),E.parent=this,E.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"selection",{get:function(){return this._selection},set:function(E){this._selection=E,E&&(E.element=this.paper.add("path"),E.parent=this)},enumerable:!0,configurable:!0}),F.prototype.processConfig=function(E){var V=this;if(E&&(hasValue(E.xAxis)&&isString$1(E.xAxis)&&(this.map.hasKey(E.xAxis)?E.xAxis=this.map.getKey(E.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+E.xAxis+'" found for `xAxis`'),delete E.xAxis)),hasValue(E.yAxis)&&isString$1(E.yAxis)&&(this.map.hasKey(E.yAxis)?E.yAxis=this.map.getKey(E.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+E.yAxis+'" found for `yAxis`'),delete E.yAxis)),hasValue(E.snapToSeries))){var U=isArray$1(E.snapToSeries)?E.snapToSeries:[E.snapToSeries],W=!1;each$2(U,function(Y,G){isString$1(Y)&&(V.map.hasKey(Y)?U[G]=V.map.getKey(Y):(V.processingErrors.push('[XYCursor] No series with id "'+Y+'" found for `series`'),W=!0))}),W?delete E.snapToSeries:E.snapToSeries=U}R.prototype.processConfig.call(this,E)},Object.defineProperty(F.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(E){var V=this;this.setPropertyValue("snapToSeries",E)&&(E instanceof XYSeries&&(E=[E]),this._snapToDisposers&&each$2(this._snapToDisposers,function(U){U.dispose()}),this._snapToDisposers=[],E&&each$2(E,function(U){V._snapToDisposers.push(U.events.on("tooltipshownat",function(){V.handleSnap(U)},void 0,!1))}))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(E){this.setPropertyValue("snapOnPan",E)},enumerable:!0,configurable:!0}),F.prototype.handleSnap=function(E){if(!this.downPoint){var V=E.getTooltipX()+E.xAxis.pixelX,U=E.getTooltipY()+E.yAxis.pixelY,W=E.xAxis,Y=E.yAxis;W&&W.renderer.opposite&&(U-=this.pixelHeight),this.point={x:V,y:U},this.getPositions();var G=V,X=U;V-=this.pixelWidth,Y&&Y.renderer.opposite&&(V+=this.pixelWidth);var K=E.tooltip,Z=K.animationDuration,J=K.animationEasing;W instanceof ValueAxis&&!(W instanceof DateAxis)&&Y instanceof ValueAxis&&!(Y instanceof DateAxis)?(E.yAxis.showTooltipAtPosition(this.yPosition),E.xAxis.showTooltipAtPosition(this.xPosition)):(E.baseAxis==E.xAxis&&E.yAxis.showTooltipAtPosition(this.yPosition),E.baseAxis==E.yAxis&&E.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=V,this.lineX.y=U,this.xAxis||this.lineX.animate([{property:"x",to:G}],Z,J),this.yAxis||this.lineY.animate([{property:"y",to:X}],Z,J)}},F.prototype.dispose=function(){this.hide(0),R.prototype.dispose.call(this)},F}(Cursor);registry.registeredClasses.XYCursor=XYCursor;var RadarCursor=function(R){__extends(F,R);function F(){var E=R.call(this)||this;return E.className="RadarCursor",E.radius=percent(100),E.innerRadius=percent(0),E.applyTheme(),E.mask=void 0,E}return F.prototype.fitsToBounds=function(E){var V=getDistance(E);return V<this.truePixelRadius+1&&V>this.pixelInnerRadius-1},Object.defineProperty(F.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(E){this.setPropertyValue("startAngle",E,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(E){this.setPropertyValue("endAngle",E,!0)},enumerable:!0,configurable:!0}),F.prototype.triggerMoveReal=function(E,V){(!this.xAxis||this.xAxis&&(!this.xAxis.cursorTooltipEnabled||this.xAxis.tooltip.disabled))&&this.updateLineX(this.point),(!this.yAxis||this.yAxis&&(!this.yAxis.cursorTooltipEnabled||this.yAxis.tooltip.disabled))&&this.updateLineY(this.point),this.updateSelection(),R.prototype.triggerMoveReal.call(this,E,V)},F.prototype.updateLineX=function(E){var V=this.pixelRadius,U=this.startAngle,W=this.endAngle,Y=this.pixelInnerRadius;if(V>0&&isNumber(U)&&isNumber(W)&&isNumber(Y)){var G=fitAngleToRange(getAngle(E),U,W),X=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var K=this.xAxis.currentItemStartPoint,Z=this.xAxis.currentItemEndPoint;if(K&&Z){var J=fitAngleToRange(getAngle(K),U,W),Q=fitAngleToRange(getAngle(Z),U,W),ee=Q-J;U<W?ee<0&&(ee+=360):ee>0&&(ee-=360),G-=ee/2,X=moveTo({x:Y*cos(G),y:Y*sin(G)})+lineTo({x:V*cos(G),y:V*sin(G)})+arcTo(G,ee,V)+lineTo({x:Y*cos(G+ee),y:Y*sin(G+ee)})+arcTo(G+ee,-ee,Y)}}X||(X=moveTo({x:Y*cos(G),y:Y*sin(G)})+lineTo({x:V*cos(G),y:V*sin(G)})),this.lineX.path=X}}},F.prototype.updateLineY=function(E){if(this.lineY&&this.lineY.visible){var V=this.startAngle,U=this.endAngle,W=this.truePixelRadius,Y=fitToRange(getDistance(E),0,this.truePixelRadius);if(isNumber(Y)&&isNumber(V)){this.lineY.moveTo({x:0,y:0});var G=void 0,X=U-V;if(this.yAxis&&this.fullWidthLineY){var K=this.yAxis.currentItemStartPoint,Z=this.yAxis.currentItemEndPoint;if(K&&Z){var J=fitToRange(getDistance(K),0,W);Y=fitToRange(getDistance(Z),0,W),G=moveTo({x:Y*cos(V),y:Y*sin(V)})+arcTo(V,X,Y),G+=moveTo({x:J*cos(U),y:J*sin(U)})+arcTo(U,-X,J)}}G||(G=moveTo({x:Y*cos(V),y:Y*sin(V)})+arcTo(V,U-V,Y)),this.lineY.path=G}}},F.prototype.updateSelection=function(){if(this._usesSelection){var E=this.downPoint;if(E){var V=this.point,U=this.pixelRadius,W=this.truePixelRadius,Y=this.pixelInnerRadius,G=Math.min(this.startAngle,this.endAngle),X=Math.max(this.startAngle,this.endAngle),K=fitAngleToRange(getAngle(E),G,X),Z=fitAngleToRange(getAngle(V),G,X),J=getDistance(E);if(J<W){var Q=fitToRange(getDistance(V),0,W);this._prevAngle=Z;var ee=moveTo({x:0,y:0}),te=sin(K),ie=cos(K),ne=sin(Z),ae=cos(Z),se=this.behavior;se=="zoomX"||se=="selectX"?ee+=lineTo({x:U*ie,y:U*te})+arcTo(K,Z-K,U)+lineTo({x:Y*ae,y:Y*ne})+arcTo(Z,K-Z,Y):se=="zoomY"||se=="selectY"?ee=moveTo({x:Q*cos(G),y:Q*sin(G)})+arcTo(G,X-G,Q)+lineTo({x:J*cos(X),y:J*sin(X)})+arcTo(X,G-X,J)+closePath():se=="zoomXY"&&(ee=moveTo({x:Q*cos(K),y:Q*sin(K)})+arcTo(K,Z-K,Q)+lineTo({x:J*cos(Z),y:J*sin(Z)})+arcTo(Z,K-Z,J)+closePath()),this.selection.path=ee}this.selection.moveTo({x:0,y:0})}}},F.prototype.getPositions=function(){var E=this.chart;if(E){var V=this.pixelInnerRadius,U=this.truePixelRadius-V,W=this.startAngle,Y=this.endAngle,G=fitAngleToRange(getAngle(this.point),W,Y),X=(G-W)/(Y-W);this.xPosition=X,this.yPosition=fitToRange((getDistance(this.point)-V)/U,0,1)}},F.prototype.updatePoint=function(E){},F.prototype.handleXTooltipPosition=function(E){if(this.xAxis.cursorTooltipEnabled){var V=this.xAxis.tooltip;this.updateLineX(svgPointToSprite({x:V.pixelX,y:V.pixelY},this))}},F.prototype.handleYTooltipPosition=function(E){if(this.yAxis.cursorTooltipEnabled){var V=this.yAxis.tooltip;this.updateLineY(svgPointToSprite({x:V.pixelX,y:V.pixelY},this))}},F.prototype.updateLinePositions=function(E){},F.prototype.getRanges=function(){var E=this.downPoint;if(E){var V=this.upPoint,U=this.chart;if(U){var W=this.pixelRadius,Y=this.startAngle,G=this.endAngle,X=fitAngleToRange(getAngle(E),this.startAngle,this.endAngle),K=fitAngleToRange(getAngle(V),this.startAngle,this.endAngle),Z=fitToRange(getDistance(E),0,W),J=fitToRange(getDistance(V),0,W),Q=0,ee=1,te=0,ie=1,ne=this.behavior;if(ne=="zoomX"||ne=="selectX"||ne=="zoomXY"||ne=="selectXY"){var ae=G-Y;Q=round$2((X-Y)/ae,5),ee=round$2((K-Y)/ae,5)}(ne=="zoomY"||ne=="selectY"||ne=="zoomXY"||ne=="selectXY")&&(te=round$2(Z/W,5),ie=round$2(J/W,5)),this.xRange={start:Math.min(Q,ee),end:Math.max(Q,ee)},this.yRange={start:Math.min(te,ie),end:Math.max(te,ie)},this.behavior=="selectX"||this.behavior=="selectY"||this.behavior=="selectXY"||this.selection.hide()}}},F.prototype.updateSize=function(){},Object.defineProperty(F.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(E){this.setPercentProperty("radius",E,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelRadius",{get:function(){return relativeRadiusToValue(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"truePixelRadius",{get:function(){return relativeToValue(percent(100),min$2(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(E){this.setPercentProperty("innerRadius",E,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"pixelInnerRadius",{get:function(){var E=this.innerRadius;return E instanceof Percent&&(E=percent(100*E.value*this.chart.innerRadiusModifyer)),relativeRadiusToValue(E,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),F.prototype.fixPoint=function(E){return E},F}(XYCursor);registry.registeredClasses.RadarCursor=RadarCursor;var theme=function(R){is(R,"InterfaceColorSet")&&(R.setFor("stroke",color$1("#000000")),R.setFor("fill",color$1("#ffffff")),R.setFor("primaryButton",color$1("#0975da").lighten(-.2)),R.setFor("primaryButtonHover",color$1("#0975da").lighten(-.2)),R.setFor("primaryButtonDown",color$1("#0975da").lighten(-.2)),R.setFor("primaryButtonActive",color$1("#0975da").lighten(-.2)),R.setFor("primaryButtonText",color$1("#FFFFFF")),R.setFor("primaryButtonStroke",color$1("#0975da")),R.setFor("secondaryButton",color$1("#41baff")),R.setFor("secondaryButtonHover",color$1("#41baff").lighten(.1)),R.setFor("secondaryButtonDown",color$1("#41baff").lighten(.15)),R.setFor("secondaryButtonActive",color$1("#41baff").lighten(.15)),R.setFor("secondaryButtonText",color$1("#ffffff")),R.setFor("secondaryButtonStroke",color$1("#41baff").lighten(-.2)),R.setFor("grid",color$1("#ffffff")),R.setFor("background",color$1("#000000")),R.setFor("alternativeBackground",color$1("#000000")),R.setFor("text",color$1("#ffffff")),R.setFor("alternativeText",color$1("#ffffff")),R.setFor("disabledBackground",color$1("#bbbbbb"))),is(R,"Grid")&&(R.strokeOpacity=.07),is(R,"Scrollbar")&&(R.background.fillOpacity=.2,R.thumb.background.fillOpacity=.5),is(R,"ColorSet")&&(R.list=[color$1("#eeeab5"),color$1("#0975da"),color$1("#0996f2"),color$1("#1fb0ff"),color$1("#41baff"),color$1("#5ec5ff"),color$1("#3db7ff")],R.reuse=!1,R.stepOptions={lightness:.1,hue:0},R.passOptions={}),is(R,"Button")&&(R.background.fillOpacity=1,R.background.strokeOpacity=.5,R.background.fill=color$1("#303950"))};const am4langRU={_decimalSeparator:",",_thousandSeparator:" ",_percentPrefix:null,_percentSuffix:"%",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"dd MMM",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_second:"ss",_duration_minute:"mm",_duration_hour:"hh",_duration_day:"dd",_duration_week:"ww",_duration_month:"MM",_duration_year:"yyyy",_era_ad:"\u043D.\u044D.",_era_bc:"\u0434\u043E \u043D.\u044D.",A:"\u0423",P:"\u0412",AM:"\u0443\u0442\u0440\u0430",PM:"\u0432\u0435\u0447\u0435\u0440\u0430","A.M.":"\u0434\u043E \u043F\u043E\u043B\u0443\u0434\u043D\u044F","P.M.":"\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F",January:"\u044F\u043D\u0432\u0430\u0440\u044F",February:"\u0444\u0435\u0432\u0440\u0430\u043B\u044F",March:"\u043C\u0430\u0440\u0442\u0430",April:"\u0430\u043F\u0440\u0435\u043B\u044F",May:"\u043C\u0430\u044F",June:"\u0438\u044E\u043D\u044F",July:"\u0438\u044E\u043B\u044F",August:"\u0430\u0432\u0433\u0443\u0441\u0442\u0430",September:"\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F",October:"\u043E\u043A\u0442\u044F\u0431\u0440\u044F",November:"\u043D\u043E\u044F\u0431\u0440\u044F",December:"\u0434\u0435\u043A\u0430\u0431\u0440\u044F",Jan:"\u044F\u043D\u0432.",Feb:"\u0444\u0435\u0432\u0440.",Mar:"\u043C\u0430\u0440\u0442",Apr:"\u0430\u043F\u0440.","May(short)":"\u043C\u0430\u0439",Jun:"\u0438\u044E\u043D\u044C",Jul:"\u0438\u044E\u043B\u044C",Aug:"\u0430\u0432\u0433.",Sep:"\u0441\u0435\u043D\u0442.",Oct:"\u043E\u043A\u0442.",Nov:"\u043D\u043E\u044F\u0431.",Dec:"\u0434\u0435\u043A.",Sunday:"\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435",Monday:"\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A",Tuesday:"\u0432\u0442\u043E\u0440\u043D\u0438\u043A",Wednesday:"\u0441\u0440\u0435\u0434\u0430",Thursday:"\u0447\u0435\u0442\u0432\u0435\u0440\u0433",Friday:"\u043F\u044F\u0442\u043D\u0438\u0446\u0430",Saturday:"\u0441\u0443\u0431\u0431\u043E\u0442\u0430",Sun:"\u0432\u0441.",Mon:"\u043F\u043D.",Tue:"\u0432\u0442.",Wed:"\u0441\u0440.",Thu:"\u0447\u0442.",Fri:"\u043F\u0442.",Sat:"\u0441\u0431.",_dateOrd:function(R){return"-\u043E\u0435"},"Zoom Out":"\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C",Play:"\u0421\u0442\u0430\u0440\u0442",Stop:"\u0421\u0442\u043E\u043F",Legend:"\u041B\u0435\u0433\u0435\u043D\u0434\u0430","Click, tap or press ENTER to toggle":"\u0429\u0435\u043B\u043A\u043D\u0438\u0442\u0435, \u043A\u043E\u0441\u043D\u0438\u0442\u0435\u0441\u044C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0438\u0442\u044C",Loading:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430",Home:"\u041D\u0430\u0447\u0430\u043B\u043E",Chart:"\u0413\u0440\u0430\u0444\u0438\u043A","Serial chart":"\u0421\u0435\u0440\u0438\u0439\u043D\u0430\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430","X/Y chart":"\u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430 X/Y","Pie chart":"\u041A\u0440\u0443\u0433\u043E\u0432\u0430\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430","Gauge chart":"\u0414\u0430\u0442\u0447\u0438\u043A-\u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430","Radar chart":"\u041B\u0435\u043F\u0435\u0441\u0442\u043A\u043E\u0432\u0430\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430","Sankey diagram":"\u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430 \u0421\u044D\u043D\u043A\u0438","Chord diagram":"\u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430 Chord","Flow diagram":"\u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430 \u0444\u043B\u043E\u0443","TreeMap chart":"\u0418\u0435\u0440\u0430\u0440\u0445\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430",Series:"\u0421\u0435\u0440\u0438\u044F","Candlestick Series":"\u0421\u0435\u0440\u0438\u044F-\u043F\u043E\u0434\u0441\u0432\u0435\u0447\u043D\u0438\u043A","Column Series":"\u0421\u0442\u043E\u043B\u0431\u0447\u0430\u0442\u0430\u044F \u0441\u0435\u0440\u0438\u044F","Line Series":"\u041B\u0438\u043D\u0435\u0439\u043D\u0430\u044F \u0441\u0435\u0440\u0438\u044F","Pie Slice Series":"\u041A\u0440\u0443\u0433\u043E\u0432\u0430\u044F \u0441\u0435\u0440\u0438\u044F","X/Y Series":"X/Y \u0441\u0435\u0440\u0438\u044F",Map:"\u041A\u0430\u0440\u0442\u0430","Press ENTER to zoom in":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u0443 \u0443\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C","Press ENTER to zoom out":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u044B \u0443\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C","Use arrow keys to zoom in and out":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438-\u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0447\u0442\u043E\u0431\u044B \u0443\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u0438 \u0443\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C","Use plus and minus keys on your keyboard to zoom in and out":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u043F\u043B\u044E\u0441 \u0438 \u043C\u0438\u043D\u0443\u0441 \u043D\u0430 \u043A\u043B\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0435 \u0447\u0442\u043E\u0431\u044B \u0443\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u0438 \u0443\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C",Export:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",Image:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",Data:"\u0414\u0430\u043D\u043D\u044B\u0435",Print:"\u041F\u0435\u0447\u0430\u0442\u0430\u0442\u044C","Click, tap or press ENTER to open":"\u0429\u0435\u043B\u043A\u043D\u0438\u0442\u0435, \u043A\u043E\u0441\u043D\u0438\u0442\u0435\u0441\u044C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u044B \u043E\u0442\u043A\u0440\u044B\u0442\u044C","Click, tap or press ENTER to print.":"\u0429\u0435\u043B\u043A\u043D\u0438\u0442\u0435, \u043A\u043E\u0441\u043D\u0438\u0442\u0435\u0441\u044C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u044B \u0440\u0430\u0441\u043F\u0435\u0447\u0430\u0442\u0430\u0442\u044C","Click, tap or press ENTER to export as %1.":"\u0429\u0435\u043B\u043A\u043D\u0438\u0442\u0435, \u043A\u043E\u0441\u043D\u0438\u0442\u0435\u0441\u044C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u044B \u044D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A %1",'To save the image, right-click this link and choose "Save picture as..."':'\u0427\u0442\u043E\u0431\u044B \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435, \u0449\u0435\u043B\u043A\u043D\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u043E\u0439 \u043A\u043D\u043E\u043F\u043A\u043E\u0439 \u043D\u0430 \u0441\u0441\u044B\u043B\u043A\u0435 \u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 "\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043A\u0430\u043A..."','To save the image, right-click thumbnail on the left and choose "Save picture as..."':'\u0427\u0442\u043E\u0431\u044B \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435, \u0449\u0435\u043B\u043A\u043D\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u043E\u0439 \u043A\u043D\u043E\u043F\u043A\u043E\u0439 \u043D\u0430 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0435 \u0441\u043B\u0435\u0432\u0430 \u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 "\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043A\u0430\u043A..."',"(Press ESC to close this message)":"(\u041D\u0430\u0436\u043C\u0438\u0442\u0435 ESC \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u0440\u044B\u0442\u044C \u044D\u0442\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435)","Image Export Complete":"\u042D\u043A\u0441\u043F\u043E\u0440\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D","Export operation took longer than expected. Something might have gone wrong.":"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u043D\u044F\u043B\u043E \u0434\u043E\u043B\u044C\u0448\u0435, \u0447\u0435\u043C \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043B\u043E\u0441\u044C. \u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0447\u0442\u043E-\u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A.","Saved from":"\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E \u0438\u0437",PNG:"PNG",JPG:"JPG",GIF:"GIF",SVG:"SVG",PDF:"PDF",JSON:"JSON",CSV:"CSV",XLSX:"XLSX","Use TAB to select grip buttons or left and right arrows to change selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0443 TAB, \u0447\u0442\u043E\u0431\u044B \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0440\u0443\u043A\u043E\u044F\u0442\u043A\u0438 \u0438\u043B\u0438 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u0441\u0442\u0440\u0435\u043B\u043E\u043A \u0432\u043B\u0435\u0432\u043E \u0438 \u0432\u043F\u0440\u0430\u0432\u043E, \u0447\u0442\u043E\u0431\u044B \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use left and right arrows to move selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u043B\u0435\u0432\u043E-\u0432\u043F\u0440\u0430\u0432\u043E, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use left and right arrows to move left selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u043B\u0435\u0432\u043E-\u0432\u043F\u0440\u0430\u0432\u043E, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u043B\u0435\u0432\u043E\u0435 \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use left and right arrows to move right selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u043B\u0435\u0432\u043E-\u0432\u043F\u0440\u0430\u0432\u043E, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u043F\u0440\u0430\u0432\u043E\u0435 \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use TAB select grip buttons or up and down arrows to change selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 TAB, \u0447\u0442\u043E\u0431\u044B \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0440\u0443\u043A\u043E\u044F\u0442\u043A\u0438 \u0438\u043B\u0438 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u0432\u0432\u0435\u0440\u0445-\u0432\u043D\u0438\u0437, \u0447\u0442\u043E\u0431\u044B \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use up and down arrows to move selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u0432\u0435\u0440\u0445-\u0432\u043D\u0438\u0437, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use up and down arrows to move lower selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u0432\u0435\u0440\u0445-\u0432\u043D\u0438\u0437, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u043D\u0438\u0436\u043D\u0435\u0435 \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use up and down arrows to move upper selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u0432\u0435\u0440\u0445-\u0432\u043D\u0438\u0437, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0445\u043D\u0435\u0435 \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","From %1 to %2":"\u041E\u0442 %1 \u0434\u043E %2","From %1":"\u041E\u0442 %1","To %1":"\u0414\u043E %1","No parser available for file: %1":"\u041D\u0435\u0442 \u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0442\u043E\u0440\u0430 \u0434\u043B\u044F \u0444\u0430\u0439\u043B\u0430: %1","Error parsing file: %1":"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0430\u0437\u0431\u043E\u0440\u0435 \u0444\u0430\u0439\u043B\u0430: %1","Unable to load file: %1":"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B: %1","Invalid date":"\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0430\u044F \u0434\u0430\u0442\u0430"},AmChart_vue_vue_type_style_index_0_lang="";let prefersColorSchemeDark=initialDarkMode;const chartColors={green:color$1("#3ec55e"),red:color$1("#fc3d38"),blue:color$1("#1a9afe"),white:color$1("#FFFFFF"),black:color$1("#000000"),gray:color$1("#888888"),graydark:color$1("#333333"),graylight:color$1("#f3f3f3")};addLicense("CH269543621");prefersColorSchemeDark&&useTheme(theme);const _sfc_main$$={computed:{...mapState("transaction",["chartInterval","detailsInterval","chartData","chartDataCurrencyIndex","loadingChart"]),activeChartData(){return this.chartData[this.chartDataCurrencyIndex]},currencySign(){var R;return this.$helper.currencySignByCode((R=this.activeChartData)==null?void 0:R.currency)}},watch:{detailsInterval(R){R.from?(this.dateAxis.zoomToDates(new Date(R.from),new Date(R.to)),this.dateAxis2.disabled||this.dateAxis2.zoomToDates(new Date(R.from),new Date(R.to))):(this.dateAxis.zoom({start:0,end:1}),this.dateAxis2.disabled||this.dateAxis2.zoom({start:0,end:1}))},"$darkModeObserver.darkMode"(R){R===!0?(prefersColorSchemeDark=!0,useTheme(theme),this.createChart()):(prefersColorSchemeDark=!1,unuseAllThemes(),this.createChart())},loadingChart(R){this.chart&&(this.chart.interactionsEnabled=!R)}},mounted(){this.createChart()},beforeDestroy(){this.chart&&this.chart.dispose(),this.$store.commit("transaction/setChartData",[])},methods:{...mapActions("transaction",["updateDetailsInterval"]),createChart(){this.chart&&this.chart.dispose();const R=create$1(this.$refs.chartdiv,XYChart);locale$6==="ru_RU"&&(R.language.locale=am4langRU),R.leftAxesContainer.layout="vertical";const F=R.xAxes.push(new DateAxis);F.baseInterval={timeUnit:"day",count:1},F.renderer.grid.template.location=.5,F.renderer.grid.template.strokeOpacity=prefersColorSchemeDark?.16:.06,F.renderer.grid.template.disabled=!0,F.renderer.labels.template.disabled=!0,F.cursorTooltipEnabled=!1,this.dateAxis2=F;const E=R.xAxes.push(new DateAxis);E.groupData=!0,E.groupCount=this.$isSpaMobileMode?90:180,E.groupIntervals.setAll([{timeUnit:"day",count:1},{timeUnit:"month",count:1}]),E.renderer.grid.template.location=.5,E.renderer.grid.template.disabled=!0,E.renderer.labels.template.fill=chartColors.gray,E.renderer.ticks.template.disabled=!0,E.renderer.ticks.template.strokeOpacity=1,E.renderer.ticks.template.strokeWidth=1,E.renderer.ticks.template.length=8,E.renderer.ticks.template.location=.5,E.renderer.labels.template.location=.5,E.renderer.cellStartLocation=.15,E.renderer.cellEndLocation=.85,this.dateAxis=E,this.dateAxis.events.on("groupperiodchanged",({target:Z})=>{Z.startLocation=Z.currentDataSetId.includes("month")?this.$moment(this.chartInterval.from).add(-1,"d").date()/this.$moment(this.chartInterval.from).add(-1,"d").daysInMonth():0,Z.endLocation=Z.currentDataSetId.includes("month")?this.$moment(this.chartInterval.to).date()/this.$moment(this.chartInterval.to).daysInMonth():1});const V=R.yAxes.push(new ValueAxis);V.height=120,V.align="right",V.cursorTooltipEnabled=!1,V.numberFormatter=new NumberFormatter,V.numberFormatter.numberFormat="# a",V.renderer.grid.template.strokeOpacity=prefersColorSchemeDark?.16:.06,V.renderer.labels.template.fill=chartColors.gray,this.balanceAxis=V;const U=R.yAxes.push(new ValueAxis);U.align="right",U.cursorTooltipEnabled=!1,U.numberFormatter=new NumberFormatter,U.min=0,U.numberFormatter.numberFormat="# a",U.renderer.grid.template.strokeOpacity=prefersColorSchemeDark?.16:.06,U.renderer.labels.template.fill=chartColors.gray,U.renderer.maxLabelPosition=.99,prefersColorSchemeDark||(U.renderer.gridContainer.background.fill=chartColors.graylight,U.renderer.gridContainer.background.fillOpacity=.3),this.colsAxis=U;const W=new XYCursor;W.xAxis=this.dateAxis,W.lineY.disabled=!0,W.events.on("zoomended",Z=>{if(Z.target.behavior==="none")return;const J=Z.target.xRange,Q=this.$moment(this.dateAxis.positionToDate(this.dateAxis.toAxisPosition(J.start))).format("YYYY-MM-DD"),ee=this.$moment(this.dateAxis.positionToDate(this.dateAxis.toAxisPosition(J.end))).format("YYYY-MM-DD");this.updateDetailsInterval({from:Q,to:ee})}),R.cursor=W;const Y=this.dateAxis.axisRanges.create();Y.date=this.$moment().set("hour",12).toDate(),Y.endDate=new Date(864e13),Y.grid.disabled=!0,Y.axisFill.fillOpacity=.5,Y.axisFill.fill=prefersColorSchemeDark?chartColors.black:chartColors.white,R.seriesContainer.zIndex=-1;const G=this.dateAxis.axisRanges.create();G.date=this.$moment().set("hour",12).toDate(),G.grid.stroke=prefersColorSchemeDark?chartColors.white:chartColors.black,G.grid.strokeWidth=1,G.grid.strokeOpacity=1,G.label.valign="bottom",G.label.text=this.$t("today"),G.label.fill=G.grid.stroke,G.label.dy=16,R.scrollbarX=new Scrollbar,R.scrollbarX.parent=R.bottomAxesContainer,R.scrollbarX.background.fillOpacity=0,R.scrollbarX.thumb.background.strokeWidth=0,R.scrollbarX.thumb.background.fill=color$1(prefersColorSchemeDark?"rgba(128, 128, 128, 0.2)":"rgba(0, 0, 0, 0.06)"),R.scrollbarX.thumb.background.fillOpacity=1,R.scrollbarX.thumb.background.states.getKey("hover").properties.fill=color$1(prefersColorSchemeDark?"rgba(128, 128, 128, 0.3)":"rgba(0, 0, 0, 0.1)"),R.scrollbarX.thumb.background.states.getKey("down").properties.fill=color$1(prefersColorSchemeDark?"rgba(128, 128, 128, 0.3)":"rgba(0, 0, 0, 0.1)");function X(Z,J){Z.icon.disabled=!0,Z.background.disabled=!0;const Q=Z.createChild(Image$1);Q.href=`data:image/svg+xml,%3Csvg width='29' height='30' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7.008 2.672A6 6 0 0112 0h10.789a6 6 0 016 6v18a6 6 0 01-6 6H12a6 6 0 01-4.992-2.672l-6-9a6 6 0 010-6.656l6-9z' fill='%23${prefersColorSchemeDark?"151e29":"fff"}'/%3E%3Cpath d='M7.424 2.95A5.5 5.5 0 0112 .5h10.789a5.5 5.5 0 015.5 5.5v18a5.5 5.5 0 01-5.5 5.5H12a5.5 5.5 0 01-4.576-2.45l-6-9a5.5 5.5 0 010-6.1l6-9z' stroke='%23${prefersColorSchemeDark?"eee":"000"}' stroke-opacity='.15'/%3E%3C/svg%3E`,Q.width=30,Q.height=30,Q.rotation=J,Q.align="center",Q.valign="middle"}X(R.scrollbarX.startGrip,180),X(R.scrollbarX.endGrip,0);const K=()=>{const Z=this.$moment(this.dateAxis.minZoomed).format("YYYY-MM-DD");let J=this.$moment(this.dateAxis.maxZoomed);J=J>this.$moment(this.chartInterval.to)?this.chartInterval.to:J.format("YYYY-MM-DD"),this.updateDetailsInterval({from:Z,to:J})};R.scrollbarX.thumb.events.on("dragstop",K),R.scrollbarX.startGrip.events.on("dragstop",K),R.scrollbarX.endGrip.events.on("dragstop",K),R.zoomOutButton.events.on("hit",()=>{this.updateDetailsInterval({from:"",to:""})}),R.responsive.rules.push({relevant:Z=>Z.pixelWidth<=768?(Z.cursor.behavior!=="none"&&(Z.cursor.behavior="none"),!0):(Z.cursor.behavior==="none"&&(Z.cursor.behavior="zoomX"),!1),state:(Z,J)=>{if(Z instanceof ValueAxis){const Q=Z.states.create(J);return Q.properties.cursorTooltipEnabled=!1,Z.marginBottom===60&&(Q.properties.marginBottom=40),Q}if(Z instanceof Scrollbar){const Q=Z.states.create(J);return Q.properties.paddingLeft=14,Q.properties.paddingRight=14,Q}if(Z instanceof AxisLabel&&Z.parent instanceof AxisRendererY){const Q=Z.states.create(J);return Q.properties.inside=!0,Q.properties.dx=-8,Q.properties.dy=-8,Q.properties.fillOpacity=.6,Q.properties.fontSize=9,Q}return null}}),this.chart=R,this.$watch("activeChartData",Z=>{this.updateChartData(Z)},{immediate:!0})},updateChartData(R){const F=this.$moment(this.chartInterval.from),V=this.$moment(this.chartInterval.to).diff(F,"days")+1,U=new Array(V).fill(null).map((W,Y)=>({period:F.clone().add(Y,"d").format("YYYY-MM-DD"),amountIncome:null,amountExpense:null,balance:null}));if(R){this.balanceAxis.disabled=this.dateAxis2.disabled=R.data[0].balance===null,this.chart.scrollbarX.disabled=!1,this.chart.cursor.disabled=!1,["amountIncome","amountExpense","amountProfit","balance"].forEach(Y=>{const G=this.chart.series.values.findIndex(X=>X.dataFields.valueY===Y);R.data[0][Y]===null&&G>-1&&this.chart.series.removeIndex(G).dispose(),R.data[0][Y]!==null&&G===-1&&(Y==="balance"?this.addBalanceSeries():this.addColumnSeries(Y))}),R.data.forEach(Y=>{const G=U.findIndex(X=>X.period===Y.period);G>-1&&U.splice(G,1,{...Y,bulletDisabled:!0})});let W=null;U.forEach(Y=>{Y.balance!==null&&(W=Y.balance),Y.balance===null&&(Y.balance=W),Y.period===this.$helper.currentDate&&(Y.bulletDisabled=!1)})}else this.balanceAxis.disabled=this.dateAxis2.disabled=!0,this.chart.scrollbarX.disabled=!0,this.chart.cursor.disabled=!0,["amountIncome","amountExpense","amountProfit","balance"].forEach(W=>{const Y=this.chart.series.values.findIndex(G=>G.dataFields.valueY===W);Y>-1&&this.chart.series.removeIndex(Y).dispose()}),this.addColumnSeries("amountIncome"),U.forEach(W=>{W.amountIncome=0});this.chart.data=U},addColumnSeries(R){let F={dataField:R};R==="amountIncome"&&(F={name:this.$t("income"),color:chartColors.green,...F}),R==="amountExpense"&&(F={name:this.$t("expense"),color:chartColors.red,...F}),R==="amountProfit"&&(F={name:this.$t("profit"),color:chartColors.blue,...F});const E=this.chart.series.push(new ColumnSeries);E.name=F.name,E.tooltip.background.filters.clear(),E.tooltip.background.strokeWidth=0,E.tooltip.getFillFromObject=!1,E.tooltip.background.fill=F.color,E.tooltip.animationDuration=500,E.yAxis=this.colsAxis,E.xAxis=this.dateAxis,E.dataFields.valueY=F.dataField,E.dataFields.dateX="period",E.groupFields.valueY="sum",E.stroke=F.color,E.columns.template.strokeWidth=0,E.columns.template.fill=F.color,E.columns.template.column.cornerRadiusTopLeft=4,E.columns.template.column.cornerRadiusTopRight=4,E.adapter.add("tooltipText",(V,U)=>`{dateX.formatDate('${!!U.tooltipDataItem.groupDataItems?"MMM yyyy":"d MMMM yyyy"}')}, {name}: {valueY.value} ${this.currencySign}`)},addBalanceSeries(){const R=this.chart.series.push(new LineSeries);R.name=this.$t("balance"),R.tooltip.pointerOrientation="top",R.tooltip.background.filters.clear(),R.tooltip.background.strokeWidth=0,R.tooltip.getFillFromObject=!1,R.tooltip.background.fill=chartColors.graydark,R.tooltip.label.fill=chartColors.white,R.tooltip.animationDuration=500,R.tooltip.zIndex=50,R.tooltipText=`{dateX.formatDate('d MMMM yyyy')}
{name}: {valueY.value} ${this.currencySign}`,R.yAxis=this.balanceAxis,R.xAxis=this.dateAxis2,R.dataFields.valueY="balance",R.dataFields.dateX="period",R.groupFields.valueY="sum",R.stroke=color$1("rgba(255, 0, 0, 0)"),R.strokeWidth=3,this.balanceSeries=R,this.chart.events.on("datavalidated",E=>{if(this.dateAxis2.axisRanges.clear(),this.balanceAxis.axisRanges.clear(),this.balanceSeries.isDisposed())return;let V=[],U=null;E.target.data.forEach((J,Q,ee)=>{J.balance<0?(V.push({balance:J.balance,date:J.period,isStart:U===null,isEnd:!1}),Q===ee.length-1&&V.length&&(V[V.length-1].isEnd=!0,this.addNegativeBalanceRange(this.balanceSeries,V))):(V.length&&this.addNegativeBalanceRange(this.balanceSeries,V),V=[]),U=J.balance});let W=this.balanceAxis.valueToPosition(0);W<0&&(W=0),W>1&&(W=1);const Y=this.balanceAxis.createSeriesRange(this.balanceSeries);Y.value=0,Y.name="positive",Y.endValue=Number.MAX_SAFE_INTEGER,Y.contents.stroke=chartColors.green;const G=new LinearGradient;G.stops.push({color:chartColors.green,opacity:1}),G.stops.push({color:chartColors.green,offset:1-W-(1-W)*.2,opacity:0}),G.rotation=90,Y.contents.fill=G,Y.contents.fillOpacity=.4;const X=this.balanceAxis.createSeriesRange(this.balanceSeries);X.value=-1,X.name="negative",X.endValue=Number.MIN_SAFE_INTEGER,X.contents.stroke=chartColors.red;const K=new LinearGradient;K.stops.push({color:chartColors.red,offset:1-W+(1-W)*.2,opacity:0}),K.stops.push({color:chartColors.red,opacity:1}),K.rotation=90,X.contents.fill=K,X.contents.fillOpacity=.4;const Z=this.dateAxis2.createSeriesRange(this.balanceSeries);Z.name="dashedLine",Z.date=this.$moment().set("hour",12).toDate(),Z.endDate=new Date(864e13),Z.contents.stroke=prefersColorSchemeDark?chartColors.black:chartColors.graylight,Z.contents.strokeDasharray="3 5",Z.contents.strokeWidth=3});const F=this.balanceSeries.bullets.push(new CircleBullet);F.disabled=!0,F.propertyFields.disabled="bulletDisabled",F.events.on("inited",({target:E})=>{E.circle.fill=E.dataItem.valueY>=0?chartColors.green:chartColors.red})},addNegativeBalanceRange(R,F){const E=F.reduce((te,ie)=>ie.balance<te?ie.balance:te,F[0].balance),V=F.find(te=>te.balance===E).date,U=F[0].date,W=F[F.length-1].date,Y=this.$moment(U).diff(this.$moment(),"days")+1,G=this.$moment(W).diff(this.$moment(),"days")+1,X=Y>0?` ${this.$t("inDays",{days:Y})}`:"",K=G>0&&!F[F.length-1].isEnd?` ${this.$t("inDays",{days:G})}`:"",Z=this.dateAxis2.createSeriesRange(R);Z.name="CashGap",Z.date=new Date(F[0].date),Z.endDate=new Date(F[F.length-1].date),Z.contents.strokeWidth=0,Z.axisFill.interactionsEnabled=!0,Z.axisFill.isMeasured=!0,Z.axisFill.tooltip=new Tooltip,Z.axisFill.tooltip.background.filters.clear(),Z.axisFill.tooltip.background.strokeWidth=0,Z.axisFill.tooltip.getFillFromObject=!1,Z.axisFill.tooltip.background.fill=chartColors.red,Z.axisFill.tooltip.label.fill=chartColors.black;const J=(1-this.balanceAxis.valueToPosition(0))*100,Q=220/353*100,ee=J/100*Q;Z.axisFill.tooltipY=percent(ee),Z.axisFill.tooltipText=this.$t("cashGapTooltip",{start:`${F[0].isStart?" <=":""} ${this.$moment(U).format("L")}${X}`,end:`${F[F.length-1].isEnd?" >=":""} ${this.$moment(W).format("L")}${K}`,decline:this.$helper.toCurrency({value:E,currencyCode:this.activeChartData.currency}),declineDate:this.$moment(V).format("L")})}}};var _sfc_render$$=function(){var F=this,E=F._self._c;return E("div",{ref:"chartdiv",staticClass:"c-chart-main smaller",style:F.loadingChart&&"opacity:.2"})},_sfc_staticRenderFns$$=[],__component__$$=normalizeComponent(_sfc_main$$,_sfc_render$$,_sfc_staticRenderFns$$,!1,null,null,null,null);const AmChart=__component__$$.exports,_sfc_main$_={components:{AmChart},created(){this.unsubscribeFromMutations=this.$store.subscribe(({type:R})=>{switch(R){case"transaction/updateChartInterval":case"transaction/updateTransactions":case"transaction/deleteTransaction":case"transaction/createTransactions":this.$store.dispatch("transaction/getChartData")}}),this.unsubscribeFromActions=this.$store.subscribeAction({after:({type:R})=>{switch(R){case"updateCurrentEntity":case"transactionBulk/bulkMove":this.$store.dispatch("transaction/getChartData")}}})},beforeDestroy(){this.unsubscribeFromMutations(),this.unsubscribeFromActions()}};var _sfc_render$_=function(){var F=this,E=F._self._c;return E("AmChart")},_sfc_staticRenderFns$_=[],__component__$_=normalizeComponent(_sfc_main$_,_sfc_render$_,_sfc_staticRenderFns$_,!1,null,null,null,null);const AmChartContainer=__component__$_.exports,AmChartBar_vue_vue_type_style_index_0_lang="";addLicense("CH269543621");const _sfc_main$Z={props:{data:{type:Array,default(){return[]}},width:{type:Number,required:!0}},data(){return{width\u0421orrection:2}},created(){this.mediaQueryList=window.matchMedia("(max-width: 760px)"),this.width\u0421orrection=this.mediaQueryList.matches?1:2,this.mediaListener=this.mediaQueryList.addListener(this.screenTest)},mounted(){const R=create$1(this.$refs.chart,XYChart);locale$6==="ru_RU"&&(R.language.locale=am4langRU),R.padding(0,0,0,0);const F=R.yAxes.push(new CategoryAxis);F.dataFields.category="category",F.renderer.grid.template.disabled=!0,F.renderer.labels.template.disabled=!0,F.cursorTooltipEnabled=!1,F.data=[{category:"category"}];const E=R.xAxes.push(new ValueAxis);E.min=0,E.strictMinMax=!0,E.renderer.grid.template.disabled=!0,E.renderer.baseGrid.disabled=!0,E.renderer.labels.template.disabled=!0,E.cursorTooltipEnabled=!1,this.chart=R,this.$watch("data",()=>{this.renderChart()},{deep:!0,immediate:!0})},beforeDestroy(){this.mediaQueryList.removeListener(this.screenTest),this.chart&&this.chart.dispose()},methods:{createSeries(R){const F=this.chart.series.push(new ColumnSeries);F.dataFields.valueX="amount",F.dataFields.categoryY="category",F.columns.template.propertyFields.fill="category_color",F.columns.template.strokeWidth=0,F.columns.template.width=percent(100),F.stacked=!0,F.name=R.category_name,F.data=[R]},renderChart(){this.chart.series.clear(),this.data.forEach(R=>{this.createSeries({...R,category:"category"})})},screenTest(R){this.width\u0421orrection=R.matches?1:2}}};var _sfc_render$Z=function(){var F=this,E=F._self._c;return E("div",{ref:"chart",staticClass:"c-breakdown-bar-chart",style:{width:`${F.width/F.width\u0421orrection}%`}})},_sfc_staticRenderFns$Z=[],__component__$Z=normalizeComponent(_sfc_main$Z,_sfc_render$Z,_sfc_staticRenderFns$Z,!1,null,null,null,null);const ChartBar=__component__$Z.exports,AmChartLegend_vue_vue_type_style_index_0_lang="",_sfc_main$Y={props:{legendItems:{type:Array},currencyCode:{type:String},isReverse:{type:Boolean,default:!1},isColumnStyle:{type:Boolean,default:!0}}};var _sfc_render$Y=function(){var F=this,E=F._self._c;return E("div",{staticClass:"c-legend",class:{"c-legend--column":F.isColumnStyle}},F._l(F.legendItems,function(V){return E("div",{key:V.id,staticClass:"c-legend__item",class:{"c-legend__item--column":F.isColumnStyle}},[E("div",{staticClass:"c-legend__item__square",style:`background-color:${V.category_color}`}),E("div",{staticClass:"c-legend__item__label smaller"},[E("div",{staticClass:"c-legend__item__label__title"},[F._v(" "+F._s(V.category_name)+" ")]),E("div",{staticClass:"c-legend__item__label__value"},[F._v(" "+F._s(F.$helper.toCurrency({value:V.amount,isDynamics:!0,isReverse:F.isReverse,currencyCode:F.currencyCode}))+" ")])])])}),0)},_sfc_staticRenderFns$Y=[],__component__$Y=normalizeComponent(_sfc_main$Y,_sfc_render$Y,_sfc_staticRenderFns$Y,!1,null,null,null,null);const AmChartLegend=__component__$Y.exports,_sfc_main$X={components:{ChartBar,AmChartLegend},props:["itemData"],computed:{currentEntityType(){return this.$store.getters.getCurrentType.type},showIncome(){return this.currentEntityType?this.currentEntityType&&this.currentEntityType==="income":!0},showExpense(){return this.currentEntityType?this.currentEntityType&&this.currentEntityType==="expense"&&!this.$store.getters.getCurrentType.is_profit:!0},showProfit(){return this.currentEntityType?this.currentEntityType&&this.currentEntityType==="expense"&&this.$store.getters.getCurrentType.is_profit:!0},maxAmount(){return Math.max(this.itemData.income.totalAmount,this.itemData.expense.totalAmount,this.itemData.profit.totalAmount)||1}}};var _sfc_render$X=function(){var F=this,E=F._self._c;return E("div",{staticClass:"custom-mb-16"},[F.showIncome?E("div",{staticClass:"custom-mb-16"},[E("div",{staticClass:"flexbox wrap middle full-width"},[E("div",{staticClass:"large bold"},[F._v(" "+F._s(F.$t("income"))+" ")]),E("div",{staticClass:"large bold text-green mobile-only nowrap"},[F._v(" "+F._s(F.$helper.toCurrency({value:F.itemData.income.totalAmount,currencyCode:F.itemData.currency,isDynamics:!0}))+" ")])]),E("div",{staticClass:"flexbox middle"},[E("ChartBar",{attrs:{data:F.itemData.income.data,width:F.itemData.income.totalAmount/F.maxAmount*100}}),E("div",{staticClass:"desktop-and-tablet-only custom-ml-12 align-center larger text-green bold nowrap"},[F._v(" "+F._s(F.$helper.toCurrency({value:F.itemData.income.totalAmount,currencyCode:F.itemData.currency,isDynamics:!0}))+" ")])],1),E("AmChartLegend",{attrs:{"legend-items":F.itemData.income.data,"currency-code":F.itemData.currency,"is-column-style":!1}})],1):F._e(),F.showExpense?E("div",{staticClass:"custom-mb-16"},[E("div",{staticClass:"flexbox wrap middle full-width"},[E("div",{staticClass:"large bold"},[F._v(" "+F._s(F.$t("expense"))+" ")]),E("div",{staticClass:"large bold text-red mobile-only nowrap"},[F._v(" "+F._s(F.$helper.toCurrency({value:F.itemData.expense.totalAmount,currencyCode:F.itemData.currency,isDynamics:!0,isReverse:!0}))+" ")])]),E("div",{staticClass:"flexbox middle"},[E("ChartBar",{attrs:{data:F.itemData.expense.data,width:F.itemData.expense.totalAmount/F.maxAmount*100}}),E("div",{staticClass:"desktop-and-tablet-only custom-ml-12 align-center larger text-red bold nowrap"},[F._v(" "+F._s(F.$helper.toCurrency({value:F.itemData.expense.totalAmount,currencyCode:F.itemData.currency,isDynamics:!0,isReverse:!0}))+" ")])],1),E("AmChartLegend",{attrs:{"legend-items":F.itemData.expense.data,"currency-code":F.itemData.currency,"is-reverse":!0,"is-column-style":!1}})],1):F._e(),F.showProfit?E("div",[E("div",{staticClass:"flexbox wrap middle full-width"},[E("div",{staticClass:"large bold"},[F._v(" "+F._s(F.$t("profit"))+" ")]),E("div",{staticClass:"large bold text-blue mobile-only nowrap"},[F._v(" "+F._s(F.$helper.toCurrency({value:F.itemData.profit.totalAmount,currencyCode:F.itemData.currency}))+" ")])]),E("div",{staticClass:"flexbox middle"},[E("ChartBar",{attrs:{data:F.itemData.profit.data,width:F.itemData.profit.totalAmount/F.maxAmount*100}}),E("div",{staticClass:"desktop-and-tablet-only custom-ml-12 align-center larger text-blue bold nowrap"},[F._v(" "+F._s(F.$helper.toCurrency({value:F.itemData.profit.totalAmount,currencyCode:F.itemData.currency}))+" ")])],1),E("AmChartLegend",{attrs:{"legend-items":F.itemData.profit.data,"currency-code":F.itemData.currency,"is-column-style":!1}})],1):F._e()])},_sfc_staticRenderFns$X=[],__component__$X=normalizeComponent(_sfc_main$X,_sfc_render$X,_sfc_staticRenderFns$X,!1,null,null,null,null);const DetailsDashboardItem=__component__$X.exports;var HOOKS=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],defaults={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(R){return typeof console<"u"&&console.warn(R)},getWeek:function(R){var F=new Date(R.getTime());F.setHours(0,0,0,0),F.setDate(F.getDate()+3-(F.getDay()+6)%7);var E=new Date(F.getFullYear(),0,4);return 1+Math.round(((F.getTime()-E.getTime())/864e5-3+(E.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},english={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(R){var F=R%100;if(F>3&&F<21)return"th";switch(F%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},pad$1=function(R,F){return F===void 0&&(F=2),("000"+R).slice(F*-1)},int=function(R){return R===!0?1:0};function debounce$1(R,F){var E;return function(){var V=this,U=arguments;clearTimeout(E),E=setTimeout(function(){return R.apply(V,U)},F)}}var arrayify=function(R){return R instanceof Array?R:[R]};function toggleClass(R,F,E){if(E===!0)return R.classList.add(F);R.classList.remove(F)}function createElement(R,F,E){var V=window.document.createElement(R);return F=F||"",E=E||"",V.className=F,E!==void 0&&(V.textContent=E),V}function clearNode(R){for(;R.firstChild;)R.removeChild(R.firstChild)}function findParent(R,F){if(F(R))return R;if(R.parentNode)return findParent(R.parentNode,F)}function createNumberInput(R,F){var E=createElement("div","numInputWrapper"),V=createElement("input","numInput "+R),U=createElement("span","arrowUp"),W=createElement("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?V.type="number":(V.type="text",V.pattern="\\d*"),F!==void 0)for(var Y in F)V.setAttribute(Y,F[Y]);return E.appendChild(V),E.appendChild(U),E.appendChild(W),E}function getEventTarget(R){try{if(typeof R.composedPath=="function"){var F=R.composedPath();return F[0]}return R.target}catch{return R.target}}var doNothing=function(){},monthToStr=function(R,F,E){return E.months[F?"shorthand":"longhand"][R]},revFormat={D:doNothing,F:function(R,F,E){R.setMonth(E.months.longhand.indexOf(F))},G:function(R,F){R.setHours((R.getHours()>=12?12:0)+parseFloat(F))},H:function(R,F){R.setHours(parseFloat(F))},J:function(R,F){R.setDate(parseFloat(F))},K:function(R,F,E){R.setHours(R.getHours()%12+12*int(new RegExp(E.amPM[1],"i").test(F)))},M:function(R,F,E){R.setMonth(E.months.shorthand.indexOf(F))},S:function(R,F){R.setSeconds(parseFloat(F))},U:function(R,F){return new Date(parseFloat(F)*1e3)},W:function(R,F,E){var V=parseInt(F),U=new Date(R.getFullYear(),0,2+(V-1)*7,0,0,0,0);return U.setDate(U.getDate()-U.getDay()+E.firstDayOfWeek),U},Y:function(R,F){R.setFullYear(parseFloat(F))},Z:function(R,F){return new Date(F)},d:function(R,F){R.setDate(parseFloat(F))},h:function(R,F){R.setHours((R.getHours()>=12?12:0)+parseFloat(F))},i:function(R,F){R.setMinutes(parseFloat(F))},j:function(R,F){R.setDate(parseFloat(F))},l:doNothing,m:function(R,F){R.setMonth(parseFloat(F)-1)},n:function(R,F){R.setMonth(parseFloat(F)-1)},s:function(R,F){R.setSeconds(parseFloat(F))},u:function(R,F){return new Date(parseFloat(F))},w:doNothing,y:function(R,F){R.setFullYear(2e3+parseFloat(F))}},tokenRegex={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},formats={Z:function(R){return R.toISOString()},D:function(R,F,E){return F.weekdays.shorthand[formats.w(R,F,E)]},F:function(R,F,E){return monthToStr(formats.n(R,F,E)-1,!1,F)},G:function(R,F,E){return pad$1(formats.h(R,F,E))},H:function(R){return pad$1(R.getHours())},J:function(R,F){return F.ordinal!==void 0?R.getDate()+F.ordinal(R.getDate()):R.getDate()},K:function(R,F){return F.amPM[int(R.getHours()>11)]},M:function(R,F){return monthToStr(R.getMonth(),!0,F)},S:function(R){return pad$1(R.getSeconds())},U:function(R){return R.getTime()/1e3},W:function(R,F,E){return E.getWeek(R)},Y:function(R){return pad$1(R.getFullYear(),4)},d:function(R){return pad$1(R.getDate())},h:function(R){return R.getHours()%12?R.getHours()%12:12},i:function(R){return pad$1(R.getMinutes())},j:function(R){return R.getDate()},l:function(R,F){return F.weekdays.longhand[R.getDay()]},m:function(R){return pad$1(R.getMonth()+1)},n:function(R){return R.getMonth()+1},s:function(R){return R.getSeconds()},u:function(R){return R.getTime()},w:function(R){return R.getDay()},y:function(R){return String(R.getFullYear()).substring(2)}},createDateFormatter=function(R){var F=R.config,E=F===void 0?defaults:F,V=R.l10n,U=V===void 0?english:V,W=R.isMobile,Y=W===void 0?!1:W;return function(G,X,K){var Z=K||U;return E.formatDate!==void 0&&!Y?E.formatDate(G,X,Z):X.split("").map(function(J,Q,ee){return formats[J]&&ee[Q-1]!=="\\"?formats[J](G,Z,E):J!=="\\"?J:""}).join("")}},createDateParser=function(R){var F=R.config,E=F===void 0?defaults:F,V=R.l10n,U=V===void 0?english:V;return function(W,Y,G,X){if(!(W!==0&&!W)){var K=X||U,Z,J=W;if(W instanceof Date)Z=new Date(W.getTime());else if(typeof W!="string"&&W.toFixed!==void 0)Z=new Date(W);else if(typeof W=="string"){var Q=Y||(E||defaults).dateFormat,ee=String(W).trim();if(ee==="today")Z=new Date,G=!0;else if(E&&E.parseDate)Z=E.parseDate(W,Q);else if(/Z$/.test(ee)||/GMT$/.test(ee))Z=new Date(W);else{for(var te=void 0,ie=[],ne=0,ae=0,se="";ne<Q.length;ne++){var oe=Q[ne],le=oe==="\\",ue=Q[ne-1]==="\\"||le;if(tokenRegex[oe]&&!ue){se+=tokenRegex[oe];var ce=new RegExp(se).exec(W);ce&&(te=!0)&&ie[oe!=="Y"?"push":"unshift"]({fn:revFormat[oe],val:ce[++ae]})}else le||(se+=".")}Z=!E||!E.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),ie.forEach(function(he){var de=he.fn,fe=he.val;return Z=de(Z,fe,K)||Z}),Z=te?Z:void 0}}if(!(Z instanceof Date&&!isNaN(Z.getTime()))){E.errorHandler(new Error("Invalid date provided: "+J));return}return G===!0&&Z.setHours(0,0,0,0),Z}}};function compareDates(R,F,E){return E===void 0&&(E=!0),E!==!1?new Date(R.getTime()).setHours(0,0,0,0)-new Date(F.getTime()).setHours(0,0,0,0):R.getTime()-F.getTime()}var isBetween=function(R,F,E){return R>Math.min(F,E)&&R<Math.max(F,E)},calculateSecondsSinceMidnight=function(R,F,E){return R*3600+F*60+E},parseSeconds$1=function(R){var F=Math.floor(R/3600),E=(R-F*3600)/60;return[F,E,R-F*3600-E*60]},duration={DAY:864e5};function getDefaultHours(R){var F=R.defaultHour,E=R.defaultMinute,V=R.defaultSeconds;if(R.minDate!==void 0){var U=R.minDate.getHours(),W=R.minDate.getMinutes(),Y=R.minDate.getSeconds();F<U&&(F=U),F===U&&E<W&&(E=W),F===U&&E===W&&V<Y&&(V=R.minDate.getSeconds())}if(R.maxDate!==void 0){var G=R.maxDate.getHours(),X=R.maxDate.getMinutes();F=Math.min(F,G),F===G&&(E=Math.min(X,E)),F===G&&E===X&&(V=R.maxDate.getSeconds())}return{hours:F,minutes:E,seconds:V}}typeof Object.assign!="function"&&(Object.assign=function(R){for(var F=[],E=1;E<arguments.length;E++)F[E-1]=arguments[E];if(!R)throw TypeError("Cannot convert undefined or null to object");for(var V=function(G){G&&Object.keys(G).forEach(function(X){return R[X]=G[X]})},U=0,W=F;U<W.length;U++){var Y=W[U];V(Y)}return R});var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(R){for(var F,E=1,V=arguments.length;E<V;E++){F=arguments[E];for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(R[U]=F[U])}return R},__assign.apply(this,arguments)},__spreadArrays=globalThis&&globalThis.__spreadArrays||function(){for(var R=0,F=0,E=arguments.length;F<E;F++)R+=arguments[F].length;for(var V=Array(R),U=0,F=0;F<E;F++)for(var W=arguments[F],Y=0,G=W.length;Y<G;Y++,U++)V[U]=W[Y];return V},DEBOUNCED_CHANGE_MS=300;function FlatpickrInstance(R,F){var E={config:__assign(__assign({},defaults),flatpickr.defaultConfig),l10n:english};E.parseDate=createDateParser({config:E.config,l10n:E.l10n}),E._handlers=[],E.pluginElements=[],E.loadedPlugins=[],E._bind=ie,E._setHoursFromDate=Q,E._positionCalendar=st,E.changeMonth=Se,E.changeYear=Le,E.clear=ye,E.close=$e,E.onMouseOver=Re,E._createElement=createElement,E.createDay=ce,E.destroy=ke,E.isEnabled=Be,E.jumpToDate=se,E.updateValue=lt,E.open=Xe,E.redraw=ht,E.set=_t,E.setDate=Ze,E.toggle=Rt;function V(){E.utils={getDaysInMonth:function(me,ve){return me===void 0&&(me=E.currentMonth),ve===void 0&&(ve=E.currentYear),me===1&&(ve%4===0&&ve%100!==0||ve%400===0)?29:E.l10n.daysInMonth[me]}}}function U(){E.element=E.input=R,E.isOpen=!1,et(),nt(),It(),tt(),V(),E.isMobile||ue(),ae(),(E.selectedDates.length||E.config.noCalendar)&&(E.config.enableTime&&Q(E.config.noCalendar?E.latestSelectedDateObj:void 0),lt(!1)),G();var me=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!E.isMobile&&me&&st(),Qe("onReady")}function W(){var me;return((me=E.calendarContainer)===null||me===void 0?void 0:me.getRootNode()).activeElement||document.activeElement}function Y(me){return me.bind(E)}function G(){var me=E.config;me.weekNumbers===!1&&me.showMonths===1||me.noCalendar!==!0&&window.requestAnimationFrame(function(){if(E.calendarContainer!==void 0&&(E.calendarContainer.style.visibility="hidden",E.calendarContainer.style.display="block"),E.daysContainer!==void 0){var ve=(E.days.offsetWidth+1)*me.showMonths;E.daysContainer.style.width=ve+"px",E.calendarContainer.style.width=ve+(E.weekWrapper!==void 0?E.weekWrapper.offsetWidth:0)+"px",E.calendarContainer.style.removeProperty("visibility"),E.calendarContainer.style.removeProperty("display")}})}function X(me){if(E.selectedDates.length===0){var ve=E.config.minDate===void 0||compareDates(new Date,E.config.minDate)>=0?new Date:new Date(E.config.minDate.getTime()),De=getDefaultHours(E.config);ve.setHours(De.hours,De.minutes,De.seconds,ve.getMilliseconds()),E.selectedDates=[ve],E.latestSelectedDateObj=ve}me!==void 0&&me.type!=="blur"&&Vt(me);var Me=E._input.value;J(),lt(),E._input.value!==Me&&E._debouncedChange()}function K(me,ve){return me%12+12*int(ve===E.l10n.amPM[1])}function Z(me){switch(me%24){case 0:case 12:return 12;default:return me%12}}function J(){if(!(E.hourElement===void 0||E.minuteElement===void 0)){var me=(parseInt(E.hourElement.value.slice(-2),10)||0)%24,ve=(parseInt(E.minuteElement.value,10)||0)%60,De=E.secondElement!==void 0?(parseInt(E.secondElement.value,10)||0)%60:0;E.amPM!==void 0&&(me=K(me,E.amPM.textContent));var Me=E.config.minTime!==void 0||E.config.minDate&&E.minDateHasTime&&E.latestSelectedDateObj&&compareDates(E.latestSelectedDateObj,E.config.minDate,!0)===0,Ve=E.config.maxTime!==void 0||E.config.maxDate&&E.maxDateHasTime&&E.latestSelectedDateObj&&compareDates(E.latestSelectedDateObj,E.config.maxDate,!0)===0;if(E.config.maxTime!==void 0&&E.config.minTime!==void 0&&E.config.minTime>E.config.maxTime){var je=calculateSecondsSinceMidnight(E.config.minTime.getHours(),E.config.minTime.getMinutes(),E.config.minTime.getSeconds()),ze=calculateSecondsSinceMidnight(E.config.maxTime.getHours(),E.config.maxTime.getMinutes(),E.config.maxTime.getSeconds()),We=calculateSecondsSinceMidnight(me,ve,De);if(We>ze&&We<je){var Ge=parseSeconds$1(je);me=Ge[0],ve=Ge[1],De=Ge[2]}}else{if(Ve){var Ue=E.config.maxTime!==void 0?E.config.maxTime:E.config.maxDate;me=Math.min(me,Ue.getHours()),me===Ue.getHours()&&(ve=Math.min(ve,Ue.getMinutes())),ve===Ue.getMinutes()&&(De=Math.min(De,Ue.getSeconds()))}if(Me){var Ye=E.config.minTime!==void 0?E.config.minTime:E.config.minDate;me=Math.max(me,Ye.getHours()),me===Ye.getHours()&&ve<Ye.getMinutes()&&(ve=Ye.getMinutes()),ve===Ye.getMinutes()&&(De=Math.max(De,Ye.getSeconds()))}}ee(me,ve,De)}}function Q(me){var ve=me||E.latestSelectedDateObj;ve&&ve instanceof Date&&ee(ve.getHours(),ve.getMinutes(),ve.getSeconds())}function ee(me,ve,De){E.latestSelectedDateObj!==void 0&&E.latestSelectedDateObj.setHours(me%24,ve,De||0,0),!(!E.hourElement||!E.minuteElement||E.isMobile)&&(E.hourElement.value=pad$1(E.config.time_24hr?me:(12+me)%12+12*int(me%12===0)),E.minuteElement.value=pad$1(ve),E.amPM!==void 0&&(E.amPM.textContent=E.l10n.amPM[int(me>=12)]),E.secondElement!==void 0&&(E.secondElement.value=pad$1(De)))}function te(me){var ve=getEventTarget(me),De=parseInt(ve.value)+(me.delta||0);(De/1e3>1||me.key==="Enter"&&!/[^\d]/.test(De.toString()))&&Le(De)}function ie(me,ve,De,Me){if(ve instanceof Array)return ve.forEach(function(Ve){return ie(me,Ve,De,Me)});if(me instanceof Array)return me.forEach(function(Ve){return ie(Ve,ve,De,Me)});me.addEventListener(ve,De,Me),E._handlers.push({remove:function(){return me.removeEventListener(ve,De,Me)}})}function ne(){Qe("onChange")}function ae(){if(E.config.wrap&&["open","close","toggle","clear"].forEach(function(De){Array.prototype.forEach.call(E.element.querySelectorAll("[data-"+De+"]"),function(Me){return ie(Me,"click",E[De])})}),E.isMobile){Ft();return}var me=debounce$1(qe,50);if(E._debouncedChange=debounce$1(ne,DEBOUNCED_CHANGE_MS),E.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&ie(E.daysContainer,"mouseover",function(De){E.config.mode==="range"&&Re(getEventTarget(De))}),ie(E._input,"keydown",He),E.calendarContainer!==void 0&&ie(E.calendarContainer,"keydown",He),!E.config.inline&&!E.config.static&&ie(window,"resize",me),window.ontouchstart!==void 0?ie(window.document,"touchstart",Ie):ie(window.document,"mousedown",Ie),ie(window.document,"focus",Ie,{capture:!0}),E.config.clickOpens===!0&&(ie(E._input,"focus",E.open),ie(E._input,"click",E.open)),E.daysContainer!==void 0&&(ie(E.monthNav,"click",Nt),ie(E.monthNav,["keyup","increment"],te),ie(E.daysContainer,"click",vt)),E.timeContainer!==void 0&&E.minuteElement!==void 0&&E.hourElement!==void 0){var ve=function(De){return getEventTarget(De).select()};ie(E.timeContainer,["increment"],X),ie(E.timeContainer,"blur",X,{capture:!0}),ie(E.timeContainer,"click",oe),ie([E.hourElement,E.minuteElement],["focus","click"],ve),E.secondElement!==void 0&&ie(E.secondElement,"focus",function(){return E.secondElement&&E.secondElement.select()}),E.amPM!==void 0&&ie(E.amPM,"click",function(De){X(De)})}E.config.allowInput&&ie(E._input,"blur",Ne)}function se(me,ve){var De=me!==void 0?E.parseDate(me):E.latestSelectedDateObj||(E.config.minDate&&E.config.minDate>E.now?E.config.minDate:E.config.maxDate&&E.config.maxDate<E.now?E.config.maxDate:E.now),Me=E.currentYear,Ve=E.currentMonth;try{De!==void 0&&(E.currentYear=De.getFullYear(),E.currentMonth=De.getMonth())}catch(je){je.message="Invalid date supplied: "+De,E.config.errorHandler(je)}ve&&E.currentYear!==Me&&(Qe("onYearChange"),_e()),ve&&(E.currentYear!==Me||E.currentMonth!==Ve)&&Qe("onMonthChange"),E.redraw()}function oe(me){var ve=getEventTarget(me);~ve.className.indexOf("arrow")&&le(me,ve.classList.contains("arrowUp")?1:-1)}function le(me,ve,De){var Me=me&&getEventTarget(me),Ve=De||Me&&Me.parentNode&&Me.parentNode.firstChild,je=bt("increment");je.delta=ve,Ve&&Ve.dispatchEvent(je)}function ue(){var me=window.document.createDocumentFragment();if(E.calendarContainer=createElement("div","flatpickr-calendar"),E.calendarContainer.tabIndex=-1,!E.config.noCalendar){if(me.appendChild(ge()),E.innerContainer=createElement("div","flatpickr-innerContainer"),E.config.weekNumbers){var ve=Ae(),De=ve.weekWrapper,Me=ve.weekNumbers;E.innerContainer.appendChild(De),E.weekNumbers=Me,E.weekWrapper=De}E.rContainer=createElement("div","flatpickr-rContainer"),E.rContainer.appendChild(Pe()),E.daysContainer||(E.daysContainer=createElement("div","flatpickr-days"),E.daysContainer.tabIndex=-1),pe(),E.rContainer.appendChild(E.daysContainer),E.innerContainer.appendChild(E.rContainer),me.appendChild(E.innerContainer)}E.config.enableTime&&me.appendChild(we()),toggleClass(E.calendarContainer,"rangeMode",E.config.mode==="range"),toggleClass(E.calendarContainer,"animate",E.config.animate===!0),toggleClass(E.calendarContainer,"multiMonth",E.config.showMonths>1),E.calendarContainer.appendChild(me);var Ve=E.config.appendTo!==void 0&&E.config.appendTo.nodeType!==void 0;if((E.config.inline||E.config.static)&&(E.calendarContainer.classList.add(E.config.inline?"inline":"static"),E.config.inline&&(!Ve&&E.element.parentNode?E.element.parentNode.insertBefore(E.calendarContainer,E._input.nextSibling):E.config.appendTo!==void 0&&E.config.appendTo.appendChild(E.calendarContainer)),E.config.static)){var je=createElement("div","flatpickr-wrapper");E.element.parentNode&&E.element.parentNode.insertBefore(je,E.element),je.appendChild(E.element),E.altInput&&je.appendChild(E.altInput),je.appendChild(E.calendarContainer)}!E.config.static&&!E.config.inline&&(E.config.appendTo!==void 0?E.config.appendTo:window.document.body).appendChild(E.calendarContainer)}function ce(me,ve,De,Me){var Ve=Be(ve,!0),je=createElement("span",me,ve.getDate().toString());return je.dateObj=ve,je.$i=Me,je.setAttribute("aria-label",E.formatDate(ve,E.config.ariaDateFormat)),me.indexOf("hidden")===-1&&compareDates(ve,E.now)===0&&(E.todayDateElem=je,je.classList.add("today"),je.setAttribute("aria-current","date")),Ve?(je.tabIndex=-1,xt(ve)&&(je.classList.add("selected"),E.selectedDateElem=je,E.config.mode==="range"&&(toggleClass(je,"startRange",E.selectedDates[0]&&compareDates(ve,E.selectedDates[0],!0)===0),toggleClass(je,"endRange",E.selectedDates[1]&&compareDates(ve,E.selectedDates[1],!0)===0),me==="nextMonthDay"&&je.classList.add("inRange")))):je.classList.add("flatpickr-disabled"),E.config.mode==="range"&&Lt(ve)&&!xt(ve)&&je.classList.add("inRange"),E.weekNumbers&&E.config.showMonths===1&&me!=="prevMonthDay"&&Me%7===6&&E.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+E.config.getWeek(ve)+"</span>"),Qe("onDayCreate",je),je}function he(me){me.focus(),E.config.mode==="range"&&Re(me)}function de(me){for(var ve=me>0?0:E.config.showMonths-1,De=me>0?E.config.showMonths:-1,Me=ve;Me!=De;Me+=me)for(var Ve=E.daysContainer.children[Me],je=me>0?0:Ve.children.length-1,ze=me>0?Ve.children.length:-1,We=je;We!=ze;We+=me){var Ge=Ve.children[We];if(Ge.className.indexOf("hidden")===-1&&Be(Ge.dateObj))return Ge}}function fe(me,ve){for(var De=me.className.indexOf("Month")===-1?me.dateObj.getMonth():E.currentMonth,Me=ve>0?E.config.showMonths:-1,Ve=ve>0?1:-1,je=De-E.currentMonth;je!=Me;je+=Ve)for(var ze=E.daysContainer.children[je],We=De-E.currentMonth===je?me.$i+ve:ve<0?ze.children.length-1:0,Ge=ze.children.length,Ue=We;Ue>=0&&Ue<Ge&&Ue!=(ve>0?Ge:-1);Ue+=Ve){var Ye=ze.children[Ue];if(Ye.className.indexOf("hidden")===-1&&Be(Ye.dateObj)&&Math.abs(me.$i-Ue)>=Math.abs(ve))return he(Ye)}E.changeMonth(Ve),Te(de(Ve),0)}function Te(me,ve){var De=W(),Me=Fe(De||document.body),Ve=me!==void 0?me:Me?De:E.selectedDateElem!==void 0&&Fe(E.selectedDateElem)?E.selectedDateElem:E.todayDateElem!==void 0&&Fe(E.todayDateElem)?E.todayDateElem:de(ve>0?1:-1);Ve===void 0?E._input.focus():Me?fe(Ve,ve):he(Ve)}function xe(me,ve){for(var De=(new Date(me,ve,1).getDay()-E.l10n.firstDayOfWeek+7)%7,Me=E.utils.getDaysInMonth((ve-1+12)%12,me),Ve=E.utils.getDaysInMonth(ve,me),je=window.document.createDocumentFragment(),ze=E.config.showMonths>1,We=ze?"prevMonthDay hidden":"prevMonthDay",Ge=ze?"nextMonthDay hidden":"nextMonthDay",Ue=Me+1-De,Ye=0;Ue<=Me;Ue++,Ye++)je.appendChild(ce("flatpickr-day "+We,new Date(me,ve-1,Ue),Ue,Ye));for(Ue=1;Ue<=Ve;Ue++,Ye++)je.appendChild(ce("flatpickr-day",new Date(me,ve,Ue),Ue,Ye));for(var Ke=Ve+1;Ke<=42-De&&(E.config.showMonths===1||Ye%7!==0);Ke++,Ye++)je.appendChild(ce("flatpickr-day "+Ge,new Date(me,ve+1,Ke%Ve),Ke,Ye));var at=createElement("div","dayContainer");return at.appendChild(je),at}function pe(){if(E.daysContainer!==void 0){clearNode(E.daysContainer),E.weekNumbers&&clearNode(E.weekNumbers);for(var me=document.createDocumentFragment(),ve=0;ve<E.config.showMonths;ve++){var De=new Date(E.currentYear,E.currentMonth,1);De.setMonth(E.currentMonth+ve),me.appendChild(xe(De.getFullYear(),De.getMonth()))}E.daysContainer.appendChild(me),E.days=E.daysContainer.firstChild,E.config.mode==="range"&&E.selectedDates.length===1&&Re()}}function _e(){if(!(E.config.showMonths>1||E.config.monthSelectorType!=="dropdown")){var me=function(Me){return E.config.minDate!==void 0&&E.currentYear===E.config.minDate.getFullYear()&&Me<E.config.minDate.getMonth()?!1:!(E.config.maxDate!==void 0&&E.currentYear===E.config.maxDate.getFullYear()&&Me>E.config.maxDate.getMonth())};E.monthsDropdownContainer.tabIndex=-1,E.monthsDropdownContainer.innerHTML="";for(var ve=0;ve<12;ve++)if(!!me(ve)){var De=createElement("option","flatpickr-monthDropdown-month");De.value=new Date(E.currentYear,ve).getMonth().toString(),De.textContent=monthToStr(ve,E.config.shorthandCurrentMonth,E.l10n),De.tabIndex=-1,E.currentMonth===ve&&(De.selected=!0),E.monthsDropdownContainer.appendChild(De)}}}function Ce(){var me=createElement("div","flatpickr-month"),ve=window.document.createDocumentFragment(),De;E.config.showMonths>1||E.config.monthSelectorType==="static"?De=createElement("span","cur-month"):(E.monthsDropdownContainer=createElement("select","flatpickr-monthDropdown-months"),E.monthsDropdownContainer.setAttribute("aria-label",E.l10n.monthAriaLabel),ie(E.monthsDropdownContainer,"change",function(ze){var We=getEventTarget(ze),Ge=parseInt(We.value,10);E.changeMonth(Ge-E.currentMonth),Qe("onMonthChange")}),_e(),De=E.monthsDropdownContainer);var Me=createNumberInput("cur-year",{tabindex:"-1"}),Ve=Me.getElementsByTagName("input")[0];Ve.setAttribute("aria-label",E.l10n.yearAriaLabel),E.config.minDate&&Ve.setAttribute("min",E.config.minDate.getFullYear().toString()),E.config.maxDate&&(Ve.setAttribute("max",E.config.maxDate.getFullYear().toString()),Ve.disabled=!!E.config.minDate&&E.config.minDate.getFullYear()===E.config.maxDate.getFullYear());var je=createElement("div","flatpickr-current-month");return je.appendChild(De),je.appendChild(Me),ve.appendChild(je),me.appendChild(ve),{container:me,yearElement:Ve,monthElement:De}}function be(){clearNode(E.monthNav),E.monthNav.appendChild(E.prevMonthNav),E.config.showMonths&&(E.yearElements=[],E.monthElements=[]);for(var me=E.config.showMonths;me--;){var ve=Ce();E.yearElements.push(ve.yearElement),E.monthElements.push(ve.monthElement),E.monthNav.appendChild(ve.container)}E.monthNav.appendChild(E.nextMonthNav)}function ge(){return E.monthNav=createElement("div","flatpickr-months"),E.yearElements=[],E.monthElements=[],E.prevMonthNav=createElement("span","flatpickr-prev-month"),E.prevMonthNav.innerHTML=E.config.prevArrow,E.nextMonthNav=createElement("span","flatpickr-next-month"),E.nextMonthNav.innerHTML=E.config.nextArrow,be(),Object.defineProperty(E,"_hidePrevMonthArrow",{get:function(){return E.__hidePrevMonthArrow},set:function(me){E.__hidePrevMonthArrow!==me&&(toggleClass(E.prevMonthNav,"flatpickr-disabled",me),E.__hidePrevMonthArrow=me)}}),Object.defineProperty(E,"_hideNextMonthArrow",{get:function(){return E.__hideNextMonthArrow},set:function(me){E.__hideNextMonthArrow!==me&&(toggleClass(E.nextMonthNav,"flatpickr-disabled",me),E.__hideNextMonthArrow=me)}}),E.currentYearElement=E.yearElements[0],yt(),E.monthNav}function we(){E.calendarContainer.classList.add("hasTime"),E.config.noCalendar&&E.calendarContainer.classList.add("noCalendar");var me=getDefaultHours(E.config);E.timeContainer=createElement("div","flatpickr-time"),E.timeContainer.tabIndex=-1;var ve=createElement("span","flatpickr-time-separator",":"),De=createNumberInput("flatpickr-hour",{"aria-label":E.l10n.hourAriaLabel});E.hourElement=De.getElementsByTagName("input")[0];var Me=createNumberInput("flatpickr-minute",{"aria-label":E.l10n.minuteAriaLabel});if(E.minuteElement=Me.getElementsByTagName("input")[0],E.hourElement.tabIndex=E.minuteElement.tabIndex=-1,E.hourElement.value=pad$1(E.latestSelectedDateObj?E.latestSelectedDateObj.getHours():E.config.time_24hr?me.hours:Z(me.hours)),E.minuteElement.value=pad$1(E.latestSelectedDateObj?E.latestSelectedDateObj.getMinutes():me.minutes),E.hourElement.setAttribute("step",E.config.hourIncrement.toString()),E.minuteElement.setAttribute("step",E.config.minuteIncrement.toString()),E.hourElement.setAttribute("min",E.config.time_24hr?"0":"1"),E.hourElement.setAttribute("max",E.config.time_24hr?"23":"12"),E.hourElement.setAttribute("maxlength","2"),E.minuteElement.setAttribute("min","0"),E.minuteElement.setAttribute("max","59"),E.minuteElement.setAttribute("maxlength","2"),E.timeContainer.appendChild(De),E.timeContainer.appendChild(ve),E.timeContainer.appendChild(Me),E.config.time_24hr&&E.timeContainer.classList.add("time24hr"),E.config.enableSeconds){E.timeContainer.classList.add("hasSeconds");var Ve=createNumberInput("flatpickr-second");E.secondElement=Ve.getElementsByTagName("input")[0],E.secondElement.value=pad$1(E.latestSelectedDateObj?E.latestSelectedDateObj.getSeconds():me.seconds),E.secondElement.setAttribute("step",E.minuteElement.getAttribute("step")),E.secondElement.setAttribute("min","0"),E.secondElement.setAttribute("max","59"),E.secondElement.setAttribute("maxlength","2"),E.timeContainer.appendChild(createElement("span","flatpickr-time-separator",":")),E.timeContainer.appendChild(Ve)}return E.config.time_24hr||(E.amPM=createElement("span","flatpickr-am-pm",E.l10n.amPM[int((E.latestSelectedDateObj?E.hourElement.value:E.config.defaultHour)>11)]),E.amPM.title=E.l10n.toggleTitle,E.amPM.tabIndex=-1,E.timeContainer.appendChild(E.amPM)),E.timeContainer}function Pe(){E.weekdayContainer?clearNode(E.weekdayContainer):E.weekdayContainer=createElement("div","flatpickr-weekdays");for(var me=E.config.showMonths;me--;){var ve=createElement("div","flatpickr-weekdaycontainer");E.weekdayContainer.appendChild(ve)}return Oe(),E.weekdayContainer}function Oe(){if(!!E.weekdayContainer){var me=E.l10n.firstDayOfWeek,ve=__spreadArrays(E.l10n.weekdays.shorthand);me>0&&me<ve.length&&(ve=__spreadArrays(ve.splice(me,ve.length),ve.splice(0,me)));for(var De=E.config.showMonths;De--;)E.weekdayContainer.children[De].innerHTML=`
      <span class='flatpickr-weekday'>
        `+ve.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Ae(){E.calendarContainer.classList.add("hasWeeks");var me=createElement("div","flatpickr-weekwrapper");me.appendChild(createElement("span","flatpickr-weekday",E.l10n.weekAbbreviation));var ve=createElement("div","flatpickr-weeks");return me.appendChild(ve),{weekWrapper:me,weekNumbers:ve}}function Se(me,ve){ve===void 0&&(ve=!0);var De=ve?me:me-E.currentMonth;De<0&&E._hidePrevMonthArrow===!0||De>0&&E._hideNextMonthArrow===!0||(E.currentMonth+=De,(E.currentMonth<0||E.currentMonth>11)&&(E.currentYear+=E.currentMonth>11?1:-1,E.currentMonth=(E.currentMonth+12)%12,Qe("onYearChange"),_e()),pe(),Qe("onMonthChange"),yt())}function ye(me,ve){if(me===void 0&&(me=!0),ve===void 0&&(ve=!0),E.input.value="",E.altInput!==void 0&&(E.altInput.value=""),E.mobileInput!==void 0&&(E.mobileInput.value=""),E.selectedDates=[],E.latestSelectedDateObj=void 0,ve===!0&&(E.currentYear=E._initialDate.getFullYear(),E.currentMonth=E._initialDate.getMonth()),E.config.enableTime===!0){var De=getDefaultHours(E.config),Me=De.hours,Ve=De.minutes,je=De.seconds;ee(Me,Ve,je)}E.redraw(),me&&Qe("onChange")}function $e(){E.isOpen=!1,E.isMobile||(E.calendarContainer!==void 0&&E.calendarContainer.classList.remove("open"),E._input!==void 0&&E._input.classList.remove("active")),Qe("onClose")}function ke(){E.config!==void 0&&Qe("onDestroy");for(var me=E._handlers.length;me--;)E._handlers[me].remove();if(E._handlers=[],E.mobileInput)E.mobileInput.parentNode&&E.mobileInput.parentNode.removeChild(E.mobileInput),E.mobileInput=void 0;else if(E.calendarContainer&&E.calendarContainer.parentNode)if(E.config.static&&E.calendarContainer.parentNode){var ve=E.calendarContainer.parentNode;if(ve.lastChild&&ve.removeChild(ve.lastChild),ve.parentNode){for(;ve.firstChild;)ve.parentNode.insertBefore(ve.firstChild,ve);ve.parentNode.removeChild(ve)}}else E.calendarContainer.parentNode.removeChild(E.calendarContainer);E.altInput&&(E.input.type="text",E.altInput.parentNode&&E.altInput.parentNode.removeChild(E.altInput),delete E.altInput),E.input&&(E.input.type=E.input._type,E.input.classList.remove("flatpickr-input"),E.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(De){try{delete E[De]}catch{}})}function Ee(me){return E.calendarContainer.contains(me)}function Ie(me){if(E.isOpen&&!E.config.inline){var ve=getEventTarget(me),De=Ee(ve),Me=ve===E.input||ve===E.altInput||E.element.contains(ve)||me.path&&me.path.indexOf&&(~me.path.indexOf(E.input)||~me.path.indexOf(E.altInput)),Ve=!Me&&!De&&!Ee(me.relatedTarget),je=!E.config.ignoredFocusElements.some(function(ze){return ze.contains(ve)});Ve&&je&&(E.config.allowInput&&E.setDate(E._input.value,!1,E.config.altInput?E.config.altFormat:E.config.dateFormat),E.timeContainer!==void 0&&E.minuteElement!==void 0&&E.hourElement!==void 0&&E.input.value!==""&&E.input.value!==void 0&&X(),E.close(),E.config&&E.config.mode==="range"&&E.selectedDates.length===1&&E.clear(!1))}}function Le(me){if(!(!me||E.config.minDate&&me<E.config.minDate.getFullYear()||E.config.maxDate&&me>E.config.maxDate.getFullYear())){var ve=me,De=E.currentYear!==ve;E.currentYear=ve||E.currentYear,E.config.maxDate&&E.currentYear===E.config.maxDate.getFullYear()?E.currentMonth=Math.min(E.config.maxDate.getMonth(),E.currentMonth):E.config.minDate&&E.currentYear===E.config.minDate.getFullYear()&&(E.currentMonth=Math.max(E.config.minDate.getMonth(),E.currentMonth)),De&&(E.redraw(),Qe("onYearChange"),_e())}}function Be(me,ve){var De;ve===void 0&&(ve=!0);var Me=E.parseDate(me,void 0,ve);if(E.config.minDate&&Me&&compareDates(Me,E.config.minDate,ve!==void 0?ve:!E.minDateHasTime)<0||E.config.maxDate&&Me&&compareDates(Me,E.config.maxDate,ve!==void 0?ve:!E.maxDateHasTime)>0)return!1;if(!E.config.enable&&E.config.disable.length===0)return!0;if(Me===void 0)return!1;for(var Ve=!!E.config.enable,je=(De=E.config.enable)!==null&&De!==void 0?De:E.config.disable,ze=0,We=void 0;ze<je.length;ze++){if(We=je[ze],typeof We=="function"&&We(Me))return Ve;if(We instanceof Date&&Me!==void 0&&We.getTime()===Me.getTime())return Ve;if(typeof We=="string"){var Ge=E.parseDate(We,void 0,!0);return Ge&&Ge.getTime()===Me.getTime()?Ve:!Ve}else if(typeof We=="object"&&Me!==void 0&&We.from&&We.to&&Me.getTime()>=We.from.getTime()&&Me.getTime()<=We.to.getTime())return Ve}return!Ve}function Fe(me){return E.daysContainer!==void 0?me.className.indexOf("hidden")===-1&&me.className.indexOf("flatpickr-disabled")===-1&&E.daysContainer.contains(me):!1}function Ne(me){var ve=me.target===E._input,De=E._input.value.trimEnd()!==Ct();ve&&De&&!(me.relatedTarget&&Ee(me.relatedTarget))&&E.setDate(E._input.value,!0,me.target===E.altInput?E.config.altFormat:E.config.dateFormat)}function He(me){var ve=getEventTarget(me),De=E.config.wrap?R.contains(ve):ve===E._input,Me=E.config.allowInput,Ve=E.isOpen&&(!Me||!De),je=E.config.inline&&De&&!Me;if(me.keyCode===13&&De){if(Me)return E.setDate(E._input.value,!0,ve===E.altInput?E.config.altFormat:E.config.dateFormat),E.close(),ve.blur();E.open()}else if(Ee(ve)||Ve||je){var ze=!!E.timeContainer&&E.timeContainer.contains(ve);switch(me.keyCode){case 13:ze?(me.preventDefault(),X(),pt()):vt(me);break;case 27:me.preventDefault(),pt();break;case 8:case 46:De&&!E.config.allowInput&&(me.preventDefault(),E.clear());break;case 37:case 39:if(!ze&&!De){me.preventDefault();var We=W();if(E.daysContainer!==void 0&&(Me===!1||We&&Fe(We))){var Ge=me.keyCode===39?1:-1;me.ctrlKey?(me.stopPropagation(),Se(Ge),Te(de(1),0)):Te(void 0,Ge)}}else E.hourElement&&E.hourElement.focus();break;case 38:case 40:me.preventDefault();var Ue=me.keyCode===40?1:-1;E.daysContainer&&ve.$i!==void 0||ve===E.input||ve===E.altInput?me.ctrlKey?(me.stopPropagation(),Le(E.currentYear-Ue),Te(de(1),0)):ze||Te(void 0,Ue*7):ve===E.currentYearElement?Le(E.currentYear-Ue):E.config.enableTime&&(!ze&&E.hourElement&&E.hourElement.focus(),X(me),E._debouncedChange());break;case 9:if(ze){var Ye=[E.hourElement,E.minuteElement,E.secondElement,E.amPM].concat(E.pluginElements).filter(function(rt){return rt}),Ke=Ye.indexOf(ve);if(Ke!==-1){var at=Ye[Ke+(me.shiftKey?-1:1)];me.preventDefault(),(at||E._input).focus()}}else!E.config.noCalendar&&E.daysContainer&&E.daysContainer.contains(ve)&&me.shiftKey&&(me.preventDefault(),E._input.focus());break}}if(E.amPM!==void 0&&ve===E.amPM)switch(me.key){case E.l10n.amPM[0].charAt(0):case E.l10n.amPM[0].charAt(0).toLowerCase():E.amPM.textContent=E.l10n.amPM[0],J(),lt();break;case E.l10n.amPM[1].charAt(0):case E.l10n.amPM[1].charAt(0).toLowerCase():E.amPM.textContent=E.l10n.amPM[1],J(),lt();break}(De||Ee(ve))&&Qe("onKeyDown",me)}function Re(me,ve){if(ve===void 0&&(ve="flatpickr-day"),!(E.selectedDates.length!==1||me&&(!me.classList.contains(ve)||me.classList.contains("flatpickr-disabled")))){for(var De=me?me.dateObj.getTime():E.days.firstElementChild.dateObj.getTime(),Me=E.parseDate(E.selectedDates[0],void 0,!0).getTime(),Ve=Math.min(De,E.selectedDates[0].getTime()),je=Math.max(De,E.selectedDates[0].getTime()),ze=!1,We=0,Ge=0,Ue=Ve;Ue<je;Ue+=duration.DAY)Be(new Date(Ue),!0)||(ze=ze||Ue>Ve&&Ue<je,Ue<Me&&(!We||Ue>We)?We=Ue:Ue>Me&&(!Ge||Ue<Ge)&&(Ge=Ue));var Ye=Array.from(E.rContainer.querySelectorAll("*:nth-child(-n+"+E.config.showMonths+") > ."+ve));Ye.forEach(function(Ke){var at=Ke.dateObj,rt=at.getTime(),gt=We>0&&rt<We||Ge>0&&rt>Ge;if(gt){Ke.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ft){Ke.classList.remove(ft)});return}else if(ze&&!gt)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ft){Ke.classList.remove(ft)}),me!==void 0&&(me.classList.add(De<=E.selectedDates[0].getTime()?"startRange":"endRange"),Me<De&&rt===Me?Ke.classList.add("startRange"):Me>De&&rt===Me&&Ke.classList.add("endRange"),rt>=We&&(Ge===0||rt<=Ge)&&isBetween(rt,Me,De)&&Ke.classList.add("inRange"))})}}function qe(){E.isOpen&&!E.config.static&&!E.config.inline&&st()}function Xe(me,ve){if(ve===void 0&&(ve=E._positionElement),E.isMobile===!0){if(me){me.preventDefault();var De=getEventTarget(me);De&&De.blur()}E.mobileInput!==void 0&&(E.mobileInput.focus(),E.mobileInput.click()),Qe("onOpen");return}else if(E._input.disabled||E.config.inline)return;var Me=E.isOpen;E.isOpen=!0,Me||(E.calendarContainer.classList.add("open"),E._input.classList.add("active"),Qe("onOpen"),st(ve)),E.config.enableTime===!0&&E.config.noCalendar===!0&&E.config.allowInput===!1&&(me===void 0||!E.timeContainer.contains(me.relatedTarget))&&setTimeout(function(){return E.hourElement.select()},50)}function Je(me){return function(ve){var De=E.config["_"+me+"Date"]=E.parseDate(ve,E.config.dateFormat),Me=E.config["_"+(me==="min"?"max":"min")+"Date"];De!==void 0&&(E[me==="min"?"minDateHasTime":"maxDateHasTime"]=De.getHours()>0||De.getMinutes()>0||De.getSeconds()>0),E.selectedDates&&(E.selectedDates=E.selectedDates.filter(function(Ve){return Be(Ve)}),!E.selectedDates.length&&me==="min"&&Q(De),lt()),E.daysContainer&&(ht(),De!==void 0?E.currentYearElement[me]=De.getFullYear().toString():E.currentYearElement.removeAttribute(me),E.currentYearElement.disabled=!!Me&&De!==void 0&&Me.getFullYear()===De.getFullYear())}}function et(){var me=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ve=__assign(__assign({},JSON.parse(JSON.stringify(R.dataset||{}))),F),De={};E.config.parseDate=ve.parseDate,E.config.formatDate=ve.formatDate,Object.defineProperty(E.config,"enable",{get:function(){return E.config._enable},set:function(Ye){E.config._enable=ot(Ye)}}),Object.defineProperty(E.config,"disable",{get:function(){return E.config._disable},set:function(Ye){E.config._disable=ot(Ye)}});var Me=ve.mode==="time";if(!ve.dateFormat&&(ve.enableTime||Me)){var Ve=flatpickr.defaultConfig.dateFormat||defaults.dateFormat;De.dateFormat=ve.noCalendar||Me?"H:i"+(ve.enableSeconds?":S":""):Ve+" H:i"+(ve.enableSeconds?":S":"")}if(ve.altInput&&(ve.enableTime||Me)&&!ve.altFormat){var je=flatpickr.defaultConfig.altFormat||defaults.altFormat;De.altFormat=ve.noCalendar||Me?"h:i"+(ve.enableSeconds?":S K":" K"):je+(" h:i"+(ve.enableSeconds?":S":"")+" K")}Object.defineProperty(E.config,"minDate",{get:function(){return E.config._minDate},set:Je("min")}),Object.defineProperty(E.config,"maxDate",{get:function(){return E.config._maxDate},set:Je("max")});var ze=function(Ye){return function(Ke){E.config[Ye==="min"?"_minTime":"_maxTime"]=E.parseDate(Ke,"H:i:S")}};Object.defineProperty(E.config,"minTime",{get:function(){return E.config._minTime},set:ze("min")}),Object.defineProperty(E.config,"maxTime",{get:function(){return E.config._maxTime},set:ze("max")}),ve.mode==="time"&&(E.config.noCalendar=!0,E.config.enableTime=!0),Object.assign(E.config,De,ve);for(var We=0;We<me.length;We++)E.config[me[We]]=E.config[me[We]]===!0||E.config[me[We]]==="true";HOOKS.filter(function(Ye){return E.config[Ye]!==void 0}).forEach(function(Ye){E.config[Ye]=arrayify(E.config[Ye]||[]).map(Y)}),E.isMobile=!E.config.disableMobile&&!E.config.inline&&E.config.mode==="single"&&!E.config.disable.length&&!E.config.enable&&!E.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var We=0;We<E.config.plugins.length;We++){var Ge=E.config.plugins[We](E)||{};for(var Ue in Ge)HOOKS.indexOf(Ue)>-1?E.config[Ue]=arrayify(Ge[Ue]).map(Y).concat(E.config[Ue]):typeof ve[Ue]>"u"&&(E.config[Ue]=Ge[Ue])}ve.altInputClass||(E.config.altInputClass=it().className+" "+E.config.altInputClass),Qe("onParseConfig")}function it(){return E.config.wrap?R.querySelector("[data-input]"):R}function nt(){typeof E.config.locale!="object"&&typeof flatpickr.l10ns[E.config.locale]>"u"&&E.config.errorHandler(new Error("flatpickr: invalid locale "+E.config.locale)),E.l10n=__assign(__assign({},flatpickr.l10ns.default),typeof E.config.locale=="object"?E.config.locale:E.config.locale!=="default"?flatpickr.l10ns[E.config.locale]:void 0),tokenRegex.D="("+E.l10n.weekdays.shorthand.join("|")+")",tokenRegex.l="("+E.l10n.weekdays.longhand.join("|")+")",tokenRegex.M="("+E.l10n.months.shorthand.join("|")+")",tokenRegex.F="("+E.l10n.months.longhand.join("|")+")",tokenRegex.K="("+E.l10n.amPM[0]+"|"+E.l10n.amPM[1]+"|"+E.l10n.amPM[0].toLowerCase()+"|"+E.l10n.amPM[1].toLowerCase()+")";var me=__assign(__assign({},F),JSON.parse(JSON.stringify(R.dataset||{})));me.time_24hr===void 0&&flatpickr.defaultConfig.time_24hr===void 0&&(E.config.time_24hr=E.l10n.time_24hr),E.formatDate=createDateFormatter(E),E.parseDate=createDateParser({config:E.config,l10n:E.l10n})}function st(me){if(typeof E.config.position=="function")return void E.config.position(E,me);if(E.calendarContainer!==void 0){Qe("onPreCalendarPosition");var ve=me||E._positionElement,De=Array.prototype.reduce.call(E.calendarContainer.children,function(Gt,Xt){return Gt+Xt.offsetHeight},0),Me=E.calendarContainer.offsetWidth,Ve=E.config.position.split(" "),je=Ve[0],ze=Ve.length>1?Ve[1]:null,We=ve.getBoundingClientRect(),Ge=window.innerHeight-We.bottom,Ue=je==="above"||je!=="below"&&Ge<De&&We.top>De,Ye=window.pageYOffset+We.top+(Ue?-De-2:ve.offsetHeight+2);if(toggleClass(E.calendarContainer,"arrowTop",!Ue),toggleClass(E.calendarContainer,"arrowBottom",Ue),!E.config.inline){var Ke=window.pageXOffset+We.left,at=!1,rt=!1;ze==="center"?(Ke-=(Me-We.width)/2,at=!0):ze==="right"&&(Ke-=Me-We.width,rt=!0),toggleClass(E.calendarContainer,"arrowLeft",!at&&!rt),toggleClass(E.calendarContainer,"arrowCenter",at),toggleClass(E.calendarContainer,"arrowRight",rt);var gt=window.document.body.offsetWidth-(window.pageXOffset+We.right),ft=Ke+Me>window.document.body.offsetWidth,jt=gt+Me>window.document.body.offsetWidth;if(toggleClass(E.calendarContainer,"rightMost",ft),!E.config.static)if(E.calendarContainer.style.top=Ye+"px",!ft)E.calendarContainer.style.left=Ke+"px",E.calendarContainer.style.right="auto";else if(!jt)E.calendarContainer.style.left="auto",E.calendarContainer.style.right=gt+"px";else{var wt=ut();if(wt===void 0)return;var Bt=window.document.body.offsetWidth,Ht=Math.max(0,Bt/2-Me/2),Ut=".flatpickr-calendar.centerMost:before",Wt=".flatpickr-calendar.centerMost:after",Yt=wt.cssRules.length,zt="{left:"+We.left+"px;right:auto;}";toggleClass(E.calendarContainer,"rightMost",!1),toggleClass(E.calendarContainer,"centerMost",!0),wt.insertRule(Ut+","+Wt+zt,Yt),E.calendarContainer.style.left=Ht+"px",E.calendarContainer.style.right="auto"}}}}function ut(){for(var me=null,ve=0;ve<document.styleSheets.length;ve++){var De=document.styleSheets[ve];if(!!De.cssRules){try{De.cssRules}catch{continue}me=De;break}}return me!=null?me:ct()}function ct(){var me=document.createElement("style");return document.head.appendChild(me),me.sheet}function ht(){E.config.noCalendar||E.isMobile||(_e(),yt(),pe())}function pt(){E._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(E.close,0):E.close()}function vt(me){me.preventDefault(),me.stopPropagation();var ve=function(Ye){return Ye.classList&&Ye.classList.contains("flatpickr-day")&&!Ye.classList.contains("flatpickr-disabled")&&!Ye.classList.contains("notAllowed")},De=findParent(getEventTarget(me),ve);if(De!==void 0){var Me=De,Ve=E.latestSelectedDateObj=new Date(Me.dateObj.getTime()),je=(Ve.getMonth()<E.currentMonth||Ve.getMonth()>E.currentMonth+E.config.showMonths-1)&&E.config.mode!=="range";if(E.selectedDateElem=Me,E.config.mode==="single")E.selectedDates=[Ve];else if(E.config.mode==="multiple"){var ze=xt(Ve);ze?E.selectedDates.splice(parseInt(ze),1):E.selectedDates.push(Ve)}else E.config.mode==="range"&&(E.selectedDates.length===2&&E.clear(!1,!1),E.latestSelectedDateObj=Ve,E.selectedDates.push(Ve),compareDates(Ve,E.selectedDates[0],!0)!==0&&E.selectedDates.sort(function(Ye,Ke){return Ye.getTime()-Ke.getTime()}));if(J(),je){var We=E.currentYear!==Ve.getFullYear();E.currentYear=Ve.getFullYear(),E.currentMonth=Ve.getMonth(),We&&(Qe("onYearChange"),_e()),Qe("onMonthChange")}if(yt(),pe(),lt(),!je&&E.config.mode!=="range"&&E.config.showMonths===1?he(Me):E.selectedDateElem!==void 0&&E.hourElement===void 0&&E.selectedDateElem&&E.selectedDateElem.focus(),E.hourElement!==void 0&&E.hourElement!==void 0&&E.hourElement.focus(),E.config.closeOnSelect){var Ge=E.config.mode==="single"&&!E.config.enableTime,Ue=E.config.mode==="range"&&E.selectedDates.length===2&&!E.config.enableTime;(Ge||Ue)&&pt()}ne()}}var dt={locale:[nt,Oe],showMonths:[be,G,Pe],minDate:[se],maxDate:[se],positionElement:[Pt],clickOpens:[function(){E.config.clickOpens===!0?(ie(E._input,"focus",E.open),ie(E._input,"click",E.open)):(E._input.removeEventListener("focus",E.open),E._input.removeEventListener("click",E.open))}]};function _t(me,ve){if(me!==null&&typeof me=="object"){Object.assign(E.config,me);for(var De in me)dt[De]!==void 0&&dt[De].forEach(function(Me){return Me()})}else E.config[me]=ve,dt[me]!==void 0?dt[me].forEach(function(Me){return Me()}):HOOKS.indexOf(me)>-1&&(E.config[me]=arrayify(ve));E.redraw(),lt(!0)}function mt(me,ve){var De=[];if(me instanceof Array)De=me.map(function(Me){return E.parseDate(Me,ve)});else if(me instanceof Date||typeof me=="number")De=[E.parseDate(me,ve)];else if(typeof me=="string")switch(E.config.mode){case"single":case"time":De=[E.parseDate(me,ve)];break;case"multiple":De=me.split(E.config.conjunction).map(function(Me){return E.parseDate(Me,ve)});break;case"range":De=me.split(E.l10n.rangeSeparator).map(function(Me){return E.parseDate(Me,ve)});break}else E.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(me)));E.selectedDates=E.config.allowInvalidPreload?De:De.filter(function(Me){return Me instanceof Date&&Be(Me,!1)}),E.config.mode==="range"&&E.selectedDates.sort(function(Me,Ve){return Me.getTime()-Ve.getTime()})}function Ze(me,ve,De){if(ve===void 0&&(ve=!1),De===void 0&&(De=E.config.dateFormat),me!==0&&!me||me instanceof Array&&me.length===0)return E.clear(ve);mt(me,De),E.latestSelectedDateObj=E.selectedDates[E.selectedDates.length-1],E.redraw(),se(void 0,ve),Q(),E.selectedDates.length===0&&E.clear(!1),lt(ve),ve&&Qe("onChange")}function ot(me){return me.slice().map(function(ve){return typeof ve=="string"||typeof ve=="number"||ve instanceof Date?E.parseDate(ve,void 0,!0):ve&&typeof ve=="object"&&ve.from&&ve.to?{from:E.parseDate(ve.from,void 0),to:E.parseDate(ve.to,void 0)}:ve}).filter(function(ve){return ve})}function tt(){E.selectedDates=[],E.now=E.parseDate(E.config.now)||new Date;var me=E.config.defaultDate||((E.input.nodeName==="INPUT"||E.input.nodeName==="TEXTAREA")&&E.input.placeholder&&E.input.value===E.input.placeholder?null:E.input.value);me&&mt(me,E.config.dateFormat),E._initialDate=E.selectedDates.length>0?E.selectedDates[0]:E.config.minDate&&E.config.minDate.getTime()>E.now.getTime()?E.config.minDate:E.config.maxDate&&E.config.maxDate.getTime()<E.now.getTime()?E.config.maxDate:E.now,E.currentYear=E._initialDate.getFullYear(),E.currentMonth=E._initialDate.getMonth(),E.selectedDates.length>0&&(E.latestSelectedDateObj=E.selectedDates[0]),E.config.minTime!==void 0&&(E.config.minTime=E.parseDate(E.config.minTime,"H:i")),E.config.maxTime!==void 0&&(E.config.maxTime=E.parseDate(E.config.maxTime,"H:i")),E.minDateHasTime=!!E.config.minDate&&(E.config.minDate.getHours()>0||E.config.minDate.getMinutes()>0||E.config.minDate.getSeconds()>0),E.maxDateHasTime=!!E.config.maxDate&&(E.config.maxDate.getHours()>0||E.config.maxDate.getMinutes()>0||E.config.maxDate.getSeconds()>0)}function It(){if(E.input=it(),!E.input){E.config.errorHandler(new Error("Invalid input element specified"));return}E.input._type=E.input.type,E.input.type="text",E.input.classList.add("flatpickr-input"),E._input=E.input,E.config.altInput&&(E.altInput=createElement(E.input.nodeName,E.config.altInputClass),E._input=E.altInput,E.altInput.placeholder=E.input.placeholder,E.altInput.disabled=E.input.disabled,E.altInput.required=E.input.required,E.altInput.tabIndex=E.input.tabIndex,E.altInput.type="text",E.input.setAttribute("type","hidden"),!E.config.static&&E.input.parentNode&&E.input.parentNode.insertBefore(E.altInput,E.input.nextSibling)),E.config.allowInput||E._input.setAttribute("readonly","readonly"),Pt()}function Pt(){E._positionElement=E.config.positionElement||E._input}function Ft(){var me=E.config.enableTime?E.config.noCalendar?"time":"datetime-local":"date";E.mobileInput=createElement("input",E.input.className+" flatpickr-mobile"),E.mobileInput.tabIndex=1,E.mobileInput.type=me,E.mobileInput.disabled=E.input.disabled,E.mobileInput.required=E.input.required,E.mobileInput.placeholder=E.input.placeholder,E.mobileFormatStr=me==="datetime-local"?"Y-m-d\\TH:i:S":me==="date"?"Y-m-d":"H:i:S",E.selectedDates.length>0&&(E.mobileInput.defaultValue=E.mobileInput.value=E.formatDate(E.selectedDates[0],E.mobileFormatStr)),E.config.minDate&&(E.mobileInput.min=E.formatDate(E.config.minDate,"Y-m-d")),E.config.maxDate&&(E.mobileInput.max=E.formatDate(E.config.maxDate,"Y-m-d")),E.input.getAttribute("step")&&(E.mobileInput.step=String(E.input.getAttribute("step"))),E.input.type="hidden",E.altInput!==void 0&&(E.altInput.type="hidden");try{E.input.parentNode&&E.input.parentNode.insertBefore(E.mobileInput,E.input.nextSibling)}catch{}ie(E.mobileInput,"change",function(ve){E.setDate(getEventTarget(ve).value,!1,E.mobileFormatStr),Qe("onChange"),Qe("onClose")})}function Rt(me){if(E.isOpen===!0)return E.close();E.open(me)}function Qe(me,ve){if(E.config!==void 0){var De=E.config[me];if(De!==void 0&&De.length>0)for(var Me=0;De[Me]&&Me<De.length;Me++)De[Me](E.selectedDates,E.input.value,E,ve);me==="onChange"&&(E.input.dispatchEvent(bt("change")),E.input.dispatchEvent(bt("input")))}}function bt(me){var ve=document.createEvent("Event");return ve.initEvent(me,!0,!0),ve}function xt(me){for(var ve=0;ve<E.selectedDates.length;ve++){var De=E.selectedDates[ve];if(De instanceof Date&&compareDates(De,me)===0)return""+ve}return!1}function Lt(me){return E.config.mode!=="range"||E.selectedDates.length<2?!1:compareDates(me,E.selectedDates[0])>=0&&compareDates(me,E.selectedDates[1])<=0}function yt(){E.config.noCalendar||E.isMobile||!E.monthNav||(E.yearElements.forEach(function(me,ve){var De=new Date(E.currentYear,E.currentMonth,1);De.setMonth(E.currentMonth+ve),E.config.showMonths>1||E.config.monthSelectorType==="static"?E.monthElements[ve].textContent=monthToStr(De.getMonth(),E.config.shorthandCurrentMonth,E.l10n)+" ":E.monthsDropdownContainer.value=De.getMonth().toString(),me.value=De.getFullYear().toString()}),E._hidePrevMonthArrow=E.config.minDate!==void 0&&(E.currentYear===E.config.minDate.getFullYear()?E.currentMonth<=E.config.minDate.getMonth():E.currentYear<E.config.minDate.getFullYear()),E._hideNextMonthArrow=E.config.maxDate!==void 0&&(E.currentYear===E.config.maxDate.getFullYear()?E.currentMonth+1>E.config.maxDate.getMonth():E.currentYear>E.config.maxDate.getFullYear()))}function Ct(me){var ve=me||(E.config.altInput?E.config.altFormat:E.config.dateFormat);return E.selectedDates.map(function(De){return E.formatDate(De,ve)}).filter(function(De,Me,Ve){return E.config.mode!=="range"||E.config.enableTime||Ve.indexOf(De)===Me}).join(E.config.mode!=="range"?E.config.conjunction:E.l10n.rangeSeparator)}function lt(me){me===void 0&&(me=!0),E.mobileInput!==void 0&&E.mobileFormatStr&&(E.mobileInput.value=E.latestSelectedDateObj!==void 0?E.formatDate(E.latestSelectedDateObj,E.mobileFormatStr):""),E.input.value=Ct(E.config.dateFormat),E.altInput!==void 0&&(E.altInput.value=Ct(E.config.altFormat)),me!==!1&&Qe("onValueUpdate")}function Nt(me){var ve=getEventTarget(me),De=E.prevMonthNav.contains(ve),Me=E.nextMonthNav.contains(ve);De||Me?Se(De?-1:1):E.yearElements.indexOf(ve)>=0?ve.select():ve.classList.contains("arrowUp")?E.changeYear(E.currentYear+1):ve.classList.contains("arrowDown")&&E.changeYear(E.currentYear-1)}function Vt(me){me.preventDefault();var ve=me.type==="keydown",De=getEventTarget(me),Me=De;E.amPM!==void 0&&De===E.amPM&&(E.amPM.textContent=E.l10n.amPM[int(E.amPM.textContent===E.l10n.amPM[0])]);var Ve=parseFloat(Me.getAttribute("min")),je=parseFloat(Me.getAttribute("max")),ze=parseFloat(Me.getAttribute("step")),We=parseInt(Me.value,10),Ge=me.delta||(ve?me.which===38?1:-1:0),Ue=We+ze*Ge;if(typeof Me.value<"u"&&Me.value.length===2){var Ye=Me===E.hourElement,Ke=Me===E.minuteElement;Ue<Ve?(Ue=je+Ue+int(!Ye)+(int(Ye)&&int(!E.amPM)),Ke&&le(void 0,-1,E.hourElement)):Ue>je&&(Ue=Me===E.hourElement?Ue-je-int(!E.amPM):Ve,Ke&&le(void 0,1,E.hourElement)),E.amPM&&Ye&&(ze===1?Ue+We===23:Math.abs(Ue-We)>ze)&&(E.amPM.textContent=E.l10n.amPM[int(E.amPM.textContent===E.l10n.amPM[0])]),Me.value=pad$1(Ue)}}return U(),E}function _flatpickr(R,F){for(var E=Array.prototype.slice.call(R).filter(function(Y){return Y instanceof HTMLElement}),V=[],U=0;U<E.length;U++){var W=E[U];try{if(W.getAttribute("data-fp-omit")!==null)continue;W._flatpickr!==void 0&&(W._flatpickr.destroy(),W._flatpickr=void 0),W._flatpickr=FlatpickrInstance(W,F||{}),V.push(W._flatpickr)}catch(Y){console.error(Y)}}return V.length===1?V[0]:V}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(R){return _flatpickr(this,R)},HTMLElement.prototype.flatpickr=function(R){return _flatpickr([this],R)});var flatpickr=function(R,F){return typeof R=="string"?_flatpickr(window.document.querySelectorAll(R),F):R instanceof Node?_flatpickr([R],F):_flatpickr(R,F)};flatpickr.defaultConfig={};flatpickr.l10ns={en:__assign({},english),default:__assign({},english)};flatpickr.localize=function(R){flatpickr.l10ns.default=__assign(__assign({},flatpickr.l10ns.default),R)};flatpickr.setDefaults=function(R){flatpickr.defaultConfig=__assign(__assign({},flatpickr.defaultConfig),R)};flatpickr.parseDate=createDateParser({});flatpickr.formatDate=createDateFormatter({});flatpickr.compareDates=compareDates;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(R){return _flatpickr(this,R)});Date.prototype.fp_incr=function(R){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof R=="string"?parseInt(R,10):R))};typeof window<"u"&&(window.flatpickr=flatpickr);var ru={exports:{}};(function(R,F){(function(E,V){V(F)})(commonjsGlobal,function(E){var V=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},U={weekdays:{shorthand:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],longhand:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"]},months:{shorthand:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],longhand:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" \u2014 ",weekAbbreviation:"\u041D\u0435\u0434.",scrollTitle:"\u041F\u0440\u043E\u043A\u0440\u0443\u0442\u0438\u0442\u0435 \u0434\u043B\u044F \u0443\u0432\u0435\u043B\u0438\u0447\u0435\u043D\u0438\u044F",toggleTitle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0434\u043B\u044F \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F",amPM:["\u0414\u041F","\u041F\u041F"],yearAriaLabel:"\u0413\u043E\u0434",time_24hr:!0};V.l10ns.ru=U;var W=V.l10ns;E.Russian=U,E.default=W,Object.defineProperty(E,"__esModule",{value:!0})})})(ru,ru.exports);const InputDate_vue_vue_type_style_index_0_lang="",_sfc_main$W={props:{value:{type:String},minDate:{type:String},maxDate:{type:String},inline:{type:Boolean,default:!1}},mounted(){this.flatpickr=flatpickr(this.$refs.date,{defaultDate:this.value||"today",dateFormat:locale$6==="ru_RU"?"d.m.Y":"m/d/Y",...locale$6==="ru_RU"&&{locale:ru.exports.Russian},...this.minDate&&{minDate:this.minDate},...this.maxDate&&{maxDate:this.maxDate},inline:this.inline,parseDate:R=>this.$moment(R).toDate(),onReady:R=>{this.inline&&this.$refs.date.setAttribute("type","hidden"),this.emitChanges(R[0])},onChange:R=>{this.emitChanges(R[0])}})},beforeDestroy(){this.flatpickr&&this.flatpickr.destroy()},methods:{emitChanges(R){this.$emit("input",this.$moment(R).format("YYYY-MM-DD"))}}};var _sfc_render$W=function(){var F=this,E=F._self._c;return E("input",{ref:"date",attrs:{type:"hidden"}})},_sfc_staticRenderFns$W=[],__component__$W=normalizeComponent(_sfc_main$W,_sfc_render$W,_sfc_staticRenderFns$W,!1,null,null,null,null);const DateField=__component__$W.exports,_sfc_main$V={components:{DateField},data(){return{interval:{},controlsDisabled:!1}},computed:{...mapState("transaction",["chartInterval","detailsInterval"])},created(){this.interval={...this.detailsInterval}},methods:{submit(){this.controlsDisabled=!0,this.$store.dispatch("transaction/updateDetailsInterval",{from:this.interval.from,to:this.interval.to,outOfChart:!0}).then(()=>{this.$emit("close")}).finally(()=>{this.controlsDisabled=!0})}}};var _sfc_render$V=function(){var F=this,E=F._self._c;return E("div",{staticClass:"dialog-body"},[E("div",{staticClass:"dialog-header"},[E("h2",[F._v(" "+F._s(F.$t("setDates"))+" ")])]),E("div",{staticClass:"dialog-content"},[E("div",{staticClass:"fields"},[E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("from"))+" ")]),E("div",{staticClass:"value"},[E("div",{staticClass:"state-with-inner-icon left"},[E("DateField",{attrs:{"min-date":F.chartInterval.from,"max-date":F.chartInterval.to},model:{value:F.interval.from,callback:function(V){F.$set(F.interval,"from",V)},expression:"interval.from"}}),F._m(0)],1)])]),E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("to"))+" ")]),E("div",{staticClass:"value"},[E("div",{staticClass:"state-with-inner-icon left"},[E("DateField",{attrs:{"min-date":F.chartInterval.from,"max-date":F.chartInterval.to},model:{value:F.interval.to,callback:function(V){F.$set(F.interval,"to",V)},expression:"interval.to"}}),F._m(1)],1)])])])]),E("div",{staticClass:"dialog-footer"},[E("div",{staticClass:"flexbox"},[E("div",{staticClass:"flexbox space-12 wide"},[E("button",{staticClass:"button purple",attrs:{disabled:F.controlsDisabled},on:{click:F.submit}},[F._v(" "+F._s(F.$t("setDates"))+" ")]),E("button",{staticClass:"button light-gray",on:{click:function(V){return F.$emit("close")}}},[F._v(" "+F._s(F.$t("cancel"))+" ")])])])])])},_sfc_staticRenderFns$V=[function(){var R=this,F=R._self._c;return F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-calendar"})])},function(){var R=this,F=R._self._c;return F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-calendar"})])}],__component__$V=normalizeComponent(_sfc_main$V,_sfc_render$V,_sfc_staticRenderFns$V,!1,null,null,null,null);const UpdateDetailsInterval=__component__$V.exports,_sfc_main$U={computed:{entity(){return this.$store.state.transaction.queryParams.filter.split("/")},showComponent(){const R=["account","category","currency"];return this.entity.length===2&&R.includes(this.entity[0])},detailsInterval(){return this.$store.state.transaction.detailsInterval},link(){return encodeURI(`${this.$helper.baseUrl}?module=export&action=csv&settings[start_date]=${this.detailsInterval.from}&settings[end_date]=${this.detailsInterval.to}&settings[entity_type]=${this.entity[0]}&settings[entity_id]=${this.entity[1]}`)}}};var _sfc_render$U=function(){var F=this,E=F._self._c;return F.showComponent?E("a",{staticClass:"button light-gray outlined",attrs:{href:F.link,target:"_blank"}},[E("span",[E("i",{staticClass:"fas fa-file-excel",staticStyle:{color:"#499b5e"}}),F._v(" "+F._s(F.$t("export")))])]):F._e()},_sfc_staticRenderFns$U=[],__component__$U=normalizeComponent(_sfc_main$U,_sfc_render$U,_sfc_staticRenderFns$U,!1,null,null,null,null);const ExportButton=__component__$U.exports,DetailsDashboard_vue_vue_type_style_index_0_lang="",_sfc_main$T={components:{Modal:Modal$1,DetailsDashboardItem,UpdateDetailsInterval,ExportButton},data(){return{data:null,openModal:!1}},computed:{...mapState("transaction",["queryParams","detailsInterval"]),dates(){return this.detailsInterval.from!==this.detailsInterval.to?`<span class="nowrap">${this.$moment(this.detailsInterval.from).format("LL")}</span> \u2013 <span class="nowrap">${this.$moment(this.detailsInterval.to).format("LL")}`:`${this.$moment(this.detailsInterval.from).format("LL")}</span>`},dashboardData(){return this.data.find(R=>R.currency===this.$store.getters["transaction/activeCurrencyCode"])}},watch:{detailsInterval:"fetchBreakDown"},methods:{fetchBreakDown(R){R.from&&R.to?api$1.get("cash.aggregate.getBreakDown",{params:{from:R.from,to:R.to,filter:this.queryParams.filter}}).then(({data:F})=>{this.data=F}):this.data=null},closeDashboard(){this.$store.dispatch("transaction/updateDetailsInterval",{from:"",to:""})}}};var _sfc_render$T=function(){var F=this,E=F._self._c;return F.data?E("div",{staticClass:"c-breakdown-details"},[E("div",{staticClass:"flexbox custom-mb-24"},[E("div",{staticClass:"wide flexbox middle wrap-mobile"},[E("div",{staticClass:"larger black bold custom-mb-0 custom-mb-8-mobile",domProps:{innerHTML:F._s(F.dates)}}),E("button",{staticClass:"button light-gray custom-ml-12 custom-ml-0-mobile",on:{click:function(V){F.openModal=!0}}},[F._v(" "+F._s(F.$t("setDates"))+" ")]),E("ExportButton",{staticClass:"custom-ml-12 custom-ml-8-mobile"})],1),E("div",[E("button",{staticClass:"nobutton largest custom-p-0",on:{click:F.closeDashboard}},[E("i",{staticClass:"fas fa-times gray"})])])]),E("DetailsDashboardItem",{attrs:{"item-data":F.dashboardData}}),E("portal",[F.openModal?E("Modal",[E("UpdateDetailsInterval",{on:{close:function(V){F.openModal=!1}}})],1):F._e()],1)],1):F._e()},_sfc_staticRenderFns$T=[],__component__$T=normalizeComponent(_sfc_main$T,_sfc_render$T,_sfc_staticRenderFns$T,!1,null,null,null,null);const DetailsDashboard=__component__$T.exports;function debounce(R,F){let E=null;return function(){clearTimeout(E);const V=arguments,U=this;E=setTimeout(function(){R.apply(U,V)},F)}}const InputContractor_vue_vue_type_style_index_0_scoped_3675bc11_lang="",_sfc_main$S={props:{defaultContractor:{type:Object,default:null},createNewContractor:{type:Boolean,default:!0},defaultRequest:{type:String,default:""}},data(){var R;return{inputValue:((R=this.defaultContractor)==null?void 0:R.name)||"",activeMenuIndex:null,isNewContractorMode:!1,selectedContractor:this.defaultContractor?{...this.defaultContractor,photo_url_absolute:this.defaultContractor.userpic}:null,response:[]}},watch:{selectedContractor:{handler(R){this.$emit("changeContractor",(R==null?void 0:R.id)||null)},deep:!0},inputValue(R){this.isNewContractorMode&&this.$emit("newContractor",R)},isNewContractorMode(R){this.selectedContractor=null,this.$emit("newContractor",R&&this.inputValue||null)},response(R){const F=R.find(E=>E.name===this.inputValue);F&&this.select(F)}},methods:{onInput:debounce(function(){this.resetSearch(),this.selectedContractor=null;const R=this.inputValue||this.defaultRequest;!R||api$1.get("cash.contact.search",{params:{term:R,limit:10}}).then(({data:F})=>{this.response=F}).catch(F=>{})},400),select(R){this.selectedContractor=R,this.inputValue=R.name,this.resetSearch()},resetSearch(){this.response=[],this.activeMenuIndex=null},up(){this.$refs.menu&&(this.activeMenuIndex===null?this.activeMenuIndex=this.response.length:this.activeMenuIndex>0?this.activeMenuIndex=this.activeMenuIndex-1:this.activeMenuIndex=null)},down(){this.$refs.menu&&(this.activeMenuIndex===null?this.activeMenuIndex=0:this.activeMenuIndex<this.response.length?this.activeMenuIndex=this.activeMenuIndex+1:this.activeMenuIndex=null)}}};var _sfc_render$S=function(){var V;var F=this,E=F._self._c;return E("div",{staticStyle:{position:"relative"}},[F.isNewContractorMode?E("div",{staticClass:"flexbox middle"},[F._m(0),E("input",{directives:[{name:"model",rawName:"v-model.trim",value:F.inputValue,expression:"inputValue",modifiers:{trim:!0}}],staticClass:"width-100 custom-mx-8",attrs:{type:"text"},domProps:{value:F.inputValue},on:{input:function(U){U.target.composing||(F.inputValue=U.target.value.trim())},blur:function(U){return F.$forceUpdate()}}}),E("a",{staticClass:"icon gray",staticStyle:{flex:"none"},on:{click:function(U){return U.preventDefault(),(()=>{F.inputValue="",F.isNewContractorMode=!1}).apply(null,arguments)}}},[E("i",{staticClass:"fas fa-times"})])]):E("div",{staticClass:"flexbox middle space-8"},[E("div",{staticClass:"state-with-inner-icon left width-100"},[E("input",{directives:[{name:"model",rawName:"v-model.trim",value:F.inputValue,expression:"inputValue",modifiers:{trim:!0}}],ref:"inputRef",staticClass:"full-width custom-mr-0",attrs:{type:"text",autocomplete:"off"},domProps:{value:F.inputValue},on:{input:[function(U){U.target.composing||(F.inputValue=U.target.value.trim())},F.onInput],keydown:[function(U){return!U.type.indexOf("key")&&F._k(U.keyCode,"up",38,U.key,["Up","ArrowUp"])?null:(U.preventDefault(),F.up.apply(null,arguments))},function(U){return!U.type.indexOf("key")&&F._k(U.keyCode,"down",40,U.key,["Down","ArrowDown"])?null:(U.preventDefault(),F.down.apply(null,arguments))},function(U){return!U.type.indexOf("key")&&F._k(U.keyCode,"enter",13,U.key,"Enter")?null:(()=>{F.activeMenuIndex===F.response.length?(F.resetSearch(),F.isNewContractorMode=!0):F.select(F.response[F.activeMenuIndex])}).apply(null,arguments)}],blur:[F.resetSearch,function(U){return F.$forceUpdate()}]}}),(V=F.selectedContractor)!=null&&V.photo_url_absolute?E("i",{staticClass:"icon userpic",style:`background-image: url(${F.selectedContractor.photo_url_absolute}); opacity: 1;`}):E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-user-plus"})])]),E("a",{staticClass:"icon gray",on:{click:function(U){U.preventDefault(),F.inputValue="",F.selectedContractor=null}}},[E("i",{staticClass:"fas fa-times"})])]),E("div",{staticClass:"hint custom-mt-8"},[F.isNewContractorMode?E("div",[F._v(" "+F._s(F.$t("newContact"))+" ")]):[F.inputValue===""?E("i18n",{attrs:{path:"linkContact.main"}},[F.$props.createNewContractor?E("a",{on:{click:function(U){U.preventDefault(),F.isNewContractorMode=!0}}},[F._v(F._s(F.$t("linkContact.link")))]):F._e()]):F.selectedContractor?E("div",[F._v(" "+F._s(F.$t("selectedContact"))+" ")]):!F.selectedContractor&&!F.response.length?E("i18n",{attrs:{path:"noContact.main"}},[F.$props.createNewContractor?[E("span",[F._v(". "),E("a",{on:{click:function(U){U.preventDefault(),F.isNewContractorMode=!0}}},[F._v(F._s(F.$t("noContact.link")))])])]:F._e()],2):E("div",[F._v(" \xA0 ")])]],2),F.response.length?E("ul",{ref:"menu",staticClass:"c-autocomplete-menu custom-m-0 custom-p-0 z-20",style:`top:${F.$refs.inputRef.offsetTop+F.$refs.inputRef.offsetHeight+1}px;width:${F.$refs.inputRef.offsetWidth}px;`,attrs:{tabindex:"0"}},[F._l(F.response,function(U,W){return E("li",{key:U.id,staticClass:"c-autocomplete-menu__item",class:{active:W===F.activeMenuIndex},attrs:{tabindex:"-1"},on:{mousedown:function(Y){return F.select(U)}}},[E("div",{staticClass:"small flexbox middle space-8 custom-py-8 custom-px-12"},[E("i",{staticClass:"icon userpic",style:`background-image: url(${U.photo_url_absolute}); opacity: 1;`}),E("span",[F._v(F._s(U.name))])])])}),E("li",{staticClass:"c-autocomplete-menu__item",class:{active:F.activeMenuIndex===F.response.length},on:{mousedown:()=>{F.resetSearch(),F.isNewContractorMode=!0}}},[E("div",{staticClass:"small flexbox middle space-8 custom-py-8 custom-px-12"},[F._v(" "+F._s(F.$t("createNewContact"))+" ")])])],2):F._e()])},_sfc_staticRenderFns$S=[function(){var R=this,F=R._self._c;return F("span",{staticClass:"icon gray"},[F("i",{staticClass:"fas fa-plus"})])}],__component__$S=normalizeComponent(_sfc_main$S,_sfc_render$S,_sfc_staticRenderFns$S,!1,null,"3675bc11",null,null);const InputContractor=__component__$S.exports,TransitionCollapseHeight_vue_vue_type_style_index_0_lang="",_sfc_main$R={methods:{beforeEnter:R=>{R.style.height="0"},enter:R=>{R.style.height=R.scrollHeight+"px"},beforeLeave:R=>{R.style.height=R.scrollHeight+"px"},leave:R=>{R.style.height="0"}}};var _sfc_render$R=function(){var F=this,E=F._self._c;return E("transition",{attrs:{name:"collapse"},on:{"before-enter":F.beforeEnter,enter:F.enter,"before-leave":F.beforeLeave,leave:F.leave}},[F._t("default")],2)},_sfc_staticRenderFns$R=[],__component__$R=normalizeComponent(_sfc_main$R,_sfc_render$R,_sfc_staticRenderFns$R,!1,null,null,null,null);const TransitionCollapseHeight=__component__$R.exports,entityPageMixin={created(){this.$_entityPage_entity&&(this.$route.name==="Order"&&(this.isModeUpdate||(this.model.external={source:this.$_entityPage_entity.app,id:this.$_entityPage_entity.entity_id})),this.$route.name==="Contact"&&(this.isModeUpdate||(this.model.contractor_contact={name:this.$_entityPage_entity.entity_name,userpic:this.$_entityPage_entity.entity_icon},this.model.contractor_contact_id=this.$_entityPage_entity.entity_id)))},computed:{$_entityPage_entity(){return this.$store.state.entity.entity}}},__default__$3={components:{InputCurrency,InputContractor,DateField,DropdownWa,TransitionCollapseHeight},mixins:[rowModificatorMixin,entityPageMixin],props:{transaction:{type:Object},defaultCategoryType:{type:String,default:"income"},defaultDate:{type:String},offOnbadge:{type:Boolean,default:!1}},data(){var R,F;return{transactionType:"",model:{id:null,amount:null,date:null,account_id:null,category_id:null,contractor:null,contractor_contact:null,contractor_contact_id:null,description:"",external:(R=this.transaction)!=null&&R.external_source?{source:this.transaction.external_source,id:(F=this.transaction.external_source_info)==null?void 0:F.id}:appState.shopscriptInstalled?{source:"shop",id:""}:null,is_onbadge:!1,is_repeating:!1,repeating_frequency:1,repeating_interval:"month",repeating_end_type:"never",repeating_end_after:null,repeating_end_ondate:null,transfer_account_id:null,transfer_incoming_amount:null,apply_to_all_in_future:!1,is_self_destruct_when_due:!1},custom_interval:"month",controlsDisabled:!1,showContractorInput:!1}},validations:{model:{amount:{required:validators_min.exports.required},date:{required:validators_min.exports.required},account_id:{required:validators_min.exports.required},category_id:{required:validators_min.exports.required,mustBeTheSameTransactionType:function(){var R;return((R=this.selectedCategory)==null?void 0:R.type)===this.transactionType}},repeating_frequency:{required:validators_min.exports.requiredIf(function(){return this.model.repeating_interval==="custom"}),integer:validators_min.exports.integer},repeating_end_after:{required:validators_min.exports.requiredIf(function(){return this.model.repeating_end_type==="after"}),integer:validators_min.exports.integer},transfer_account_id:{required:validators_min.exports.requiredIf(function(){return this.transactionType==="transfer"&&!this.isModeUpdate})},transfer_incoming_amount:{required:validators_min.exports.requiredIf(function(){return this.showTransferIncomingAmount})}}},computed:{...mapState("account",["accounts"]),...mapGetters({getAccountById:"account/getById",getCategoryById:"category/getById",getCategoryByType:"category/getByType"}),accountsTransfer(){return this.accounts.filter(R=>R.id!==this.model.account_id)},isModeUpdate(){return!!this.transaction},selectedAccount(){return this.getAccountById(this.model.account_id)},selectedAccountTransfer(){return this.getAccountById(this.model.transfer_account_id)},selectedCategory(){return this.getCategoryById(this.model.category_id)},showTransferIncomingAmount(){return this.transactionType==="transfer"&&this.selectedAccount&&this.selectedAccountTransfer&&this.selectedAccount.currency!==this.selectedAccountTransfer.currency},tippyContent(){return this.$t(`createdBy.${this.transaction.update_datetime?"edited":"normal"}`,{username:`${this.transaction.create_contact.firstname} ${this.transaction.create_contact.lastname}`,createDate:this.$moment(this.transaction.create_datetime).format("LLL"),...this.transaction.update_datetime&&{updateDate:this.$moment(this.transaction.update_datetime).format("LLL")}})},repeatingInfo(){return this.$tc(`repeatingInfo.interval.${this.transaction.repeating_data.interval}`,this.transaction.repeating_data.frequency,{frequency:this.transaction.repeating_data.frequency})}},watch:{"model.repeating_interval"(R){R!=="custom"&&(this.model.repeating_frequency=1)},"model.account_id"(){this.model.transfer_account_id=null,this.model.transfer_incoming_amount=null},"model.transfer_account_id"(){this.model.transfer_incoming_amount=null},"model.date"(R){new Date(R).getTime()<=new Date().getTime()&&(this.model.is_self_destruct_when_due=!1)}},created(){var R,F,E;if(!this.isModeUpdate){const V=this.$store.state.currentType;(V==="account"||V==="category")&&(this.model[`${V}_id`]=this.$store.state.currentTypeId)}if(!this.isModeUpdate&&this.accounts.length===1&&(this.model.account_id=this.accounts[0].id),this.isModeUpdate){for(const V in this.model)V in this.transaction&&(this.model[V]=this.transaction[V]);this.model.amount=`${Math.abs(this.model.amount)}`}this.transactionType=((R=this.selectedCategory)==null?void 0:R.type)||this.defaultCategoryType,this.defaultDate&&(this.model.date=this.defaultDate),this.transactionType==="transfer"&&(this.model.category_id=-1312),(((F=this.model.contractor_contact)==null?void 0:F.name)||((E=this.model.external)==null?void 0:E.id))&&(this.showContractorInput=!0),this.isModeUpdate?this.offOnbadge&&(this.model.date=this.$moment().format("YYYY-MM-DD"),this.model.is_onbadge=!1):this.$watch(V=>[V.model.date,V.model.is_repeating],()=>{this.model.is_onbadge=this.$moment(this.model.date).isAfter()||this.model.is_repeating})},methods:{async submit(R){var F;if(this.$v.$touch(),!this.$v.$invalid){this.controlsDisabled=!0;const E={...this.model};if(E.repeating_interval==="custom"&&(E.repeating_interval=this.custom_interval),this.showTransferIncomingAmount||(E.transfer_incoming_amount=this.model.amount),(F=E.external)!=null&&F.id||(E.external=null),E.external)try{const{data:V}=await api$1.get(`cash.system.getExternalEntity?source=shop&id=${E.external.id}`);V.entity_id&&(E.external.id=V.entity_id)}catch{this.$store.commit("errors/error",{title:"error.api",method:"",message:this.$t("orderNotFound")});return}finally{this.controlsDisabled=!1}this.$store.dispatch("transaction/update",E).then(()=>{R.shiftKey?this.$parent.$emit("reOpen"):(this.close(),this.model.id||window.scrollTo({top:0,behavior:"smooth"}))}).catch(V=>{this.$store.commit("errors/error",{title:"error.api",method:"",message:this.$t("orderNotFound")})}).finally(()=>{this.controlsDisabled=!1})}},remove(){confirm(this.$t("transactionDeleteWarning"))&&(this.controlsDisabled=!0,this.$store.dispatch("transaction/delete",{id:this.model.id,all_repeating:this.model.apply_to_all_in_future}).then(()=>{this.close()}).finally(()=>{this.controlsDisabled=!1}))},close(){this.$parent.$emit("close")}}},_sfc_main$Q=Object.assign(__default__$3,{__name:"AddTransaction",setup(R){return{__sfc:!0,mapState,mapGetters,required:validators_min.exports.required,requiredIf:validators_min.exports.requiredIf,integer:validators_min.exports.integer,InputCurrency,InputContractor,DateField,DropdownWa,TransitionCollapseHeight,rowModificatorMixin,entityPageMixin,api:api$1,appState}}});var _sfc_render$Q=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",{staticClass:"dialog-body",staticStyle:{width:"750px"}},[E("div",{staticClass:"dialog-header"},[E("div",{staticClass:"flexbox middle wrap-mobile"},[E("div",{staticClass:"wide flexbox middle"},[F.transactionType==="transfer"&&!F.isModeUpdate?E("h2",{staticClass:"custom-mb-0"},[F._v(" "+F._s(F.$t("newTransfer"))+" ")]):E("h2",{staticClass:"custom-mb-0"},[F._v(" "+F._s(F.isModeUpdate?F.$t("updateTransaction"):F.$t("addTransaction"))+" ")]),F.isModeUpdate&&F.transaction.repeating_id?E("span",{staticClass:"custom-ml-8 larger",attrs:{title:F.$t("repeatingTran")}},[E("i",{staticClass:"fas fa-redo opacity-30"})]):F._e()]),F.isModeUpdate&&F.transaction.create_contact_id?E("div",[E("span",{directives:[{name:"wa-tippy",rawName:"v-wa-tippy",value:F.tippyContent,expression:"tippyContent"}],staticClass:"icon userpic size-32"},[E("img",{attrs:{src:F.transaction.create_contact.userpic,alt:""}})])]):F._e(),F.isModeUpdate?F._e():E("div",{staticClass:"toggle custom-mt-8"},F._l(["income","expense",...F.accounts.length>1?["transfer"]:[]],function(U,W){return E("span",{key:W,class:{selected:F.transactionType===U},on:{click:function(Y){F.transactionType=U}}},[F._v(F._s(F.$t(U)))])}),0)])]),E("div",{staticClass:"dialog-content"},[E("div",{staticClass:"flexbox space-24 wrap-mobile reverse-mobile"},[E("div",{staticClass:"custom-mt-24-mobile",staticStyle:{flex:"0"}},[E("div",{staticClass:"custom-mb-16 c-inline-calendar"},[E(V.DateField,{class:{"state-error":F.$v.model.date.$error},attrs:{inline:!0,disabled:F.model.apply_to_all_in_future},model:{value:F.model.date,callback:function(U){F.$set(F.model,"date",U)},expression:"model.date"}})],1),E("div",{staticClass:"custom-mb-16"},[E("i18n",{attrs:{path:"transactionDate"},scopedSlots:F._u([{key:"date",fn:function(){return[E("strong",[F._v(F._s(F.$moment(F.model.date).format("LL")))])]},proxy:!0}])})],1),E("div",[E("label",{on:{click:function(U){U.preventDefault(),F.model.is_onbadge=!F.model.is_onbadge}}},[E("span",{staticClass:"wa-checkbox"},[E("input",{attrs:{type:"checkbox"},domProps:{checked:F.model.is_onbadge}}),F._m(0)]),F._v(" "+F._s(F.$t("notifyMe"))+" "),F.model.is_onbadge?E("span",[E("span",{staticClass:"badge smaller"},[F._v("1")]),F._v("\xA0")]):F._e(),E("span",{directives:[{name:"wa-tippy",rawName:"v-wa-tippy",value:F.$t("notifyMeAlert"),expression:"$t('notifyMeAlert')"}]},[E("i",{staticClass:"fas fa-info-circle opacity-40"})])])]),new Date(F.model.date).getTime()>new Date().getTime()||F.model.is_repeating?E("div",{staticClass:"custom-mt-16"},[E("label",{on:{click:function(U){U.preventDefault(),F.model.is_self_destruct_when_due=!F.model.is_self_destruct_when_due}}},[E("span",{staticClass:"wa-checkbox"},[E("input",{attrs:{type:"checkbox"},domProps:{checked:F.model.is_self_destruct_when_due}}),F._m(1)]),F._v(" "+F._s(F.$t("selfDestructLabel"))+" "),E("span",{directives:[{name:"wa-tippy",rawName:"v-wa-tippy",value:F.$t("selfDestructText"),expression:"$t('selfDestructText')"}]},[E("i",{staticClass:"fas fa-info-circle opacity-40"})])])]):F._e()]),E("div",{staticClass:"wide"},[E("div",{staticClass:"custom-mb-16"},[E(V.InputCurrency,{staticClass:"larger",attrs:{signed:!1,"category-id":F.model.category_id,"account-id":F.model.account_id,error:F.$v.model.amount.$error,"transaction-type":F.transactionType,focused:!0,placeholder:"0"},on:{keyEnter:F.submit},model:{value:F.model.amount,callback:function(U){F.$set(F.model,"amount",U)},expression:"model.amount"}})],1),E("div",{staticClass:"flexbox middle custom-mb-16"},[F.transactionType!=="transfer"?E("div",{staticClass:"width-50"},[E(V.DropdownWa,{staticClass:"width-100",attrs:{error:F.$v.model.category_id.$error,label:F.$t("category"),items:F.getCategoryByType(F.transactionType),"value-prop-name":"id","row-modificator":F.$_rowModificatorMixin_rowModificator_category,"max-height":200},model:{value:F.model.category_id,callback:function(U){F.$set(F.model,"category_id",U)},expression:"model.category_id"}})],1):F._e(),F.transactionType!=="transfer"?E("div",{staticClass:"custom-px-8 gray",style:F.transactionType==="expense"?"transform: rotate(180deg);":""},[E("i",{staticClass:"fas fa-arrow-right"})]):F._e(),E("div",{class:F.transactionType==="transfer"&&F.isModeUpdate?"width-100":"width-50"},[E(V.DropdownWa,{staticClass:"width-100",attrs:{error:F.$v.model.account_id.$error,label:F.transactionType==="transfer"&&F.isModeUpdate?F.$t("account"):F.transactionType==="transfer"||F.transactionType==="expense"?F.$t("fromAccount"):F.$t("toAccount"),items:F.accounts,"value-prop-name":"id","row-modificator":F.$_rowModificatorMixin_rowModificator_account,"is-right":F.transactionType!=="transfer","max-height":200},model:{value:F.model.account_id,callback:function(U){F.$set(F.model,"account_id",U)},expression:"model.account_id"}})],1),F.transactionType==="transfer"&&!F.isModeUpdate?E("div",{staticClass:"custom-px-8 gray"},[E("i",{staticClass:"fas fa-arrow-right"})]):F._e(),F.transactionType==="transfer"&&!F.isModeUpdate?E("div",{staticClass:"width-50"},[E(V.DropdownWa,{staticClass:"width-100",attrs:{error:F.$v.model.transfer_account_id.$error,label:F.$t("toAccount"),items:F.accountsTransfer,"value-prop-name":"id","row-modificator":F.$_rowModificatorMixin_rowModificator_account,"is-right":!0,"max-height":200},model:{value:F.model.transfer_account_id,callback:function(U){F.$set(F.model,"transfer_account_id",U)},expression:"model.transfer_account_id"}})],1):F._e()]),E(V.TransitionCollapseHeight,[F.showTransferIncomingAmount?E("div",{staticClass:"custom-mb-16"},[E(V.InputCurrency,{attrs:{signed:!1,"currency-code":F.selectedAccountTransfer.currency,error:F.$v.model.transfer_incoming_amount.$error,placeholder:"0"},model:{value:F.model.transfer_incoming_amount,callback:function(U){F.$set(F.model,"transfer_incoming_amount",U)},expression:"model.transfer_incoming_amount"}}),E("div",{staticClass:"state-caution-hint custom-mt-8 custom-mb-0"},[E("i",{staticClass:"fas fa-exclamation-triangle"}),E("strong",[F._v(" "+F._s(F.selectedAccount.currency)+" \u2192 "+F._s(F.selectedAccountTransfer.currency)+". ")]),F._v(" "+F._s(F.$t("transferMessage"))+" ")])],1):F._e()]),F.transactionType!=="transfer"?E("div",{staticClass:"custom-mb-16"},[F.showContractorInput?F._e():E("div",[F._v(" "+F._s(F.$t("specify"))+" "),E("a",{on:{click:function(U){U.preventDefault(),F.showContractorInput=!0}}},[F._v(F._s(F.transactionType==="expense"?F.$t("recipient"):F.$t("payee"))+F._s(V.appState.shopscriptInstalled?` ${F.$t("orOrder")}`:""))])]),F.showContractorInput?E("div",[E(V.InputContractor,{attrs:{"default-request":`category_id/${F.model.category_id}`,"default-contractor":F.model.contractor_contact_id?{id:F.model.contractor_contact_id,...F.model.contractor_contact}:null},on:{newContractor:U=>{F.model.contractor=U},changeContractor:U=>{F.model.contractor_contact_id=U}}}),F.model.external?E("div",{staticClass:"custom-my-16 flexbox middle space-8"},[E("div",{staticClass:"state-with-inner-icon left width-100"},[E("input",{directives:[{name:"model",rawName:"v-model",value:F.model.external.id,expression:"model.external.id"}],staticClass:"width-100",attrs:{type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');",placeholder:F.$t("orderNumber")},domProps:{value:F.model.external.id},on:{input:function(U){U.target.composing||F.$set(F.model.external,"id",U.target.value)}}}),E("span",{staticClass:"icon",staticStyle:{opacity:"1"}},[E("img",{attrs:{src:`${V.appState.baseStaticUrl}img/shop.svg`,alt:""}})])]),E("a",{staticClass:"icon gray",on:{click:function(U){U.preventDefault(),F.model.external.id=""}}},[E("i",{staticClass:"fas fa-times"})])]):F._e()],1):F._e()]):F._e(),E("div",{staticClass:"custom-mb-16"},[E("textarea",{directives:[{name:"model",rawName:"v-model",value:F.model.description,expression:"model.description"}],staticClass:"width-100",staticStyle:{resize:"none",height:"auto"},attrs:{rows:"3",placeholder:F.$t("desc")},domProps:{value:F.model.description},on:{input:function(U){U.target.composing||F.$set(F.model,"description",U.target.value)}}}),F._v(" "),F.isModeUpdate?E("div",{staticClass:"custom-mt-8"},[F.transaction.external_source_info?E("div",{staticClass:"flexbox middle space-8"},[F.transaction.external_source_info.entity_icon?E("span",{staticClass:"icon size-20"},[E("img",{attrs:{src:F.transaction.external_source_info.entity_icon,alt:""}})]):F._e(),F.transaction.external_source!=="shop"?E("a",{staticClass:"small",attrs:{href:F.transaction.external_source_info.entity_url,target:"_blank"}},[F._v(F._s(F.transaction.external_source_info.entity_name))]):E("RouterLink",{attrs:{to:{name:"Order",params:{id:F.transaction.external_source_info.id}}}},[F._v(" "+F._s(F.transaction.external_source_info.entity_name)+" ")])],1):F._e(),F.model.contractor_contact?E("div",{staticClass:"flexbox middle space-8 custom-mt-8"},[E("span",{staticClass:"icon size-20"},[E("img",{staticClass:"userpic",attrs:{src:F.model.contractor_contact.userpic,alt:""}})]),E("RouterLink",{attrs:{to:{name:"Contact",params:{id:F.model.contractor_contact_id}}}},[F._v(" "+F._s(F.model.contractor_contact.name)+" ")])],1):F._e()]):F._e()]),F.isModeUpdate&&F.transaction.repeating_id?E("div",[E("div",{staticClass:"custom-mb-8"},[E("label",[E("span",{staticClass:"wa-radio"},[E("input",{directives:[{name:"model",rawName:"v-model",value:F.model.apply_to_all_in_future,expression:"model.apply_to_all_in_future"}],attrs:{type:"radio"},domProps:{value:!1,checked:F._q(F.model.apply_to_all_in_future,!1)},on:{change:function(U){return F.$set(F.model,"apply_to_all_in_future",!1)}}}),E("span")]),E("span",{staticClass:"small custom-ml-4"},[F._v(F._s(F.$t("applyTo.list[0]")))])])]),E("div",{staticClass:"custom-mb-8"},[E("label",[E("span",{staticClass:"wa-radio"},[E("input",{directives:[{name:"model",rawName:"v-model",value:F.model.apply_to_all_in_future,expression:"model.apply_to_all_in_future"}],attrs:{type:"radio"},domProps:{value:!0,checked:F._q(F.model.apply_to_all_in_future,!0)},on:{change:function(U){return F.$set(F.model,"apply_to_all_in_future",!0)}}}),E("span")]),E("span",{staticClass:"small custom-ml-4"},[F._v(F._s(F.$t("applyTo.list[1]")))])])]),E("span",{staticClass:"badge gray squared small"},[F._v(F._s(F.repeatingInfo))])]):F._e(),F.isModeUpdate&&F.transaction.repeating_id?F._e():E("div",[E("div",{staticClass:"toggle"},[E("span",{class:{selected:!F.model.is_repeating},on:{click:function(U){F.model.is_repeating=!1}}},[F._v(F._s(F.$t("oneTime")))]),E("span",{class:{selected:F.model.is_repeating},on:{click:function(U){F.model.is_repeating=!0}}},[F._v(F._s(F.$t("repeating")))])])]),E(V.TransitionCollapseHeight,[F.model.is_repeating?E("div",{staticClass:"custom-mt-16"},[E("div",{staticClass:"wa-select small solid"},[E("select",{directives:[{name:"model",rawName:"v-model",value:F.model.repeating_interval,expression:"model.repeating_interval"}],on:{change:function(U){var W=Array.prototype.filter.call(U.target.options,function(Y){return Y.selected}).map(function(Y){var G="_value"in Y?Y._value:Y.value;return G});F.$set(F.model,"repeating_interval",U.target.multiple?W:W[0])}}},[E("option",{attrs:{value:"month"}},[F._v(" "+F._s(F.$t("howOften.list[0]"))+" ")]),E("option",{attrs:{value:"day"}},[F._v(" "+F._s(F.$t("howOften.list[1]"))+" ")]),E("option",{attrs:{value:"week"}},[F._v(" "+F._s(F.$t("howOften.list[2]"))+" ")]),E("option",{attrs:{value:"year"}},[F._v(" "+F._s(F.$t("howOften.list[3]"))+" ")]),E("option",{attrs:{value:"custom"}},[F._v(" "+F._s(F.$t("howOften.list[4]"))+" ")])])])]):F._e()]),E(V.TransitionCollapseHeight,[F.model.is_repeating&&F.model.repeating_interval==="custom"?E("div",{staticClass:"custom-mt-16"},[E("span",{staticClass:"small"},[F._v(F._s(F.$t("howOften.every")))]),E("input",{directives:[{name:"model",rawName:"v-model.number",value:F.model.repeating_frequency,expression:"model.repeating_frequency",modifiers:{number:!0}}],staticClass:"shortest small custom-ml-4 number",class:{"state-error":F.$v.model.repeating_frequency.$error},attrs:{type:"text"},domProps:{value:F.model.repeating_frequency},on:{input:function(U){U.target.composing||F.$set(F.model,"repeating_frequency",F._n(U.target.value))},blur:function(U){return F.$forceUpdate()}}}),E("div",{staticClass:"wa-select small solid custom-ml-8"},[E("select",{directives:[{name:"model",rawName:"v-model",value:F.custom_interval,expression:"custom_interval"}],on:{change:function(U){var W=Array.prototype.filter.call(U.target.options,function(Y){return Y.selected}).map(function(Y){var G="_value"in Y?Y._value:Y.value;return G});F.custom_interval=U.target.multiple?W:W[0]}}},[E("option",{attrs:{value:"month"}},[F._v(" "+F._s(F.$t("howOften.list_short[0]"))+" ")]),E("option",{attrs:{value:"day"}},[F._v(" "+F._s(F.$t("howOften.list_short[1]"))+" ")]),E("option",{attrs:{value:"week"}},[F._v(" "+F._s(F.$t("howOften.list_short[2]"))+" ")]),E("option",{attrs:{value:"year"}},[F._v(" "+F._s(F.$t("howOften.list_short[3]"))+" ")])])])]):F._e()]),E(V.TransitionCollapseHeight,[F.model.is_repeating?E("div",{staticClass:"custom-mt-16"},[E("div",{staticClass:"wa-select small solid"},[E("select",{directives:[{name:"model",rawName:"v-model",value:F.model.repeating_end_type,expression:"model.repeating_end_type"}],on:{change:function(U){var W=Array.prototype.filter.call(U.target.options,function(Y){return Y.selected}).map(function(Y){var G="_value"in Y?Y._value:Y.value;return G});F.$set(F.model,"repeating_end_type",U.target.multiple?W:W[0])}}},[E("option",{attrs:{value:"never"}},[F._v(" "+F._s(F.$t("endRepeat.list[0]"))+" ")]),E("option",{attrs:{value:"after"}},[F._v(" "+F._s(F.$t("endRepeat.list[1]"))+" ")]),E("option",{attrs:{value:"ondate"}},[F._v(" "+F._s(F.$t("endRepeat.list[2]"))+" ")])])])]):F._e()]),E(V.TransitionCollapseHeight,[F.model.is_repeating&&F.model.repeating_end_type!=="never"?E("div",{staticClass:"custom-mt-16"},[F.model.repeating_end_type==="ondate"?E("div",{staticClass:"state-with-inner-icon left small"},[E(V.DateField,{model:{value:F.model.repeating_end_ondate,callback:function(U){F.$set(F.model,"repeating_end_ondate",U)},expression:"model.repeating_end_ondate"}}),E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-calendar"})])],1):F._e(),F.model.repeating_end_type==="after"?E("div",[E("input",{directives:[{name:"model",rawName:"v-model.number",value:F.model.repeating_end_after,expression:"model.repeating_end_after",modifiers:{number:!0}}],staticClass:"shortest small number",class:{"state-error":F.$v.model.repeating_end_after.$error},attrs:{type:"text"},domProps:{value:F.model.repeating_end_after},on:{input:function(U){U.target.composing||F.$set(F.model,"repeating_end_after",F._n(U.target.value))},blur:function(U){return F.$forceUpdate()}}}),E("span",{staticClass:"small custom-ml-8"},[F._v(F._s(F.$t("endRepeat.occurrences")))])]):F._e()]):F._e()])],1)])]),E("div",{staticClass:"dialog-footer"},[E("div",{staticClass:"flexbox"},[E("div",{staticClass:"flexbox space-12 wide"},[E("button",{staticClass:"button",class:{"c-button-add-expense":F.transactionType==="expense","c-button-add-income":F.transactionType==="income"},style:F.selectedCategory&&{"background-color":F.selectedCategory.color},attrs:{disabled:F.controlsDisabled},on:{click:F.submit}},[F._v(" "+F._s(F.isModeUpdate?F.model.apply_to_all_in_future?F.$t("updateAll"):F.$t("update"):F.$t("add"))+" ")]),E("button",{staticClass:"button light-gray",on:{click:F.close}},[F._v(" "+F._s(F.$t("cancel"))+" ")])]),F.isModeUpdate?E("button",{staticClass:"button red outlined",attrs:{disabled:F.controlsDisabled},on:{click:F.remove}},[E("span",[F._v(F._s(F.model.apply_to_all_in_future?F.$t("deleteAll"):F.$t("delete")))])]):F._e()])])])},_sfc_staticRenderFns$Q=[function(){var R=this,F=R._self._c;return R._self._setupProxy,F("span",[F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-check"})])])},function(){var R=this,F=R._self._c;return R._self._setupProxy,F("span",[F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-check"})])])}],__component__$Q=normalizeComponent(_sfc_main$Q,_sfc_render$Q,_sfc_staticRenderFns$Q,!1,null,null,null,null);const AddTransaction=__component__$Q.exports,min$1=Math.min,max$1=Math.max,round=Math.round,createCoords=R=>({x:R,y:R});function getSide(R){return R.split("-")[0]}function getAlignment(R){return R.split("-")[1]}function getOppositeAxis(R){return R==="x"?"y":"x"}function getAxisLength(R){return R==="y"?"height":"width"}function getSideAxis(R){return["top","bottom"].includes(getSide(R))?"y":"x"}function getAlignmentAxis(R){return getOppositeAxis(getSideAxis(R))}function rectToClientRect(R){return{...R,top:R.y,left:R.x,right:R.x+R.width,bottom:R.y+R.height}}function computeCoordsFromPlacement(R,F,E){let{reference:V,floating:U}=R;const W=getSideAxis(F),Y=getAlignmentAxis(F),G=getAxisLength(Y),X=getSide(F),K=W==="y",Z=V.x+V.width/2-U.width/2,J=V.y+V.height/2-U.height/2,Q=V[G]/2-U[G]/2;let ee;switch(X){case"top":ee={x:Z,y:V.y-U.height};break;case"bottom":ee={x:Z,y:V.y+V.height};break;case"right":ee={x:V.x+V.width,y:J};break;case"left":ee={x:V.x-U.width,y:J};break;default:ee={x:V.x,y:V.y}}switch(getAlignment(F)){case"start":ee[Y]-=Q*(E&&K?-1:1);break;case"end":ee[Y]+=Q*(E&&K?-1:1);break}return ee}const computePosition$1=async(R,F,E)=>{const{placement:V="bottom",strategy:U="absolute",middleware:W=[],platform:Y}=E,G=W.filter(Boolean),X=await(Y.isRTL==null?void 0:Y.isRTL(F));let K=await Y.getElementRects({reference:R,floating:F,strategy:U}),{x:Z,y:J}=computeCoordsFromPlacement(K,V,X),Q=V,ee={},te=0;for(let ie=0;ie<G.length;ie++){const{name:ne,fn:ae}=G[ie],{x:se,y:oe,data:le,reset:ue}=await ae({x:Z,y:J,initialPlacement:V,placement:Q,strategy:U,middlewareData:ee,rects:K,platform:Y,elements:{reference:R,floating:F}});if(Z=se!=null?se:Z,J=oe!=null?oe:J,ee={...ee,[ne]:{...ee[ne],...le}},ue&&te<=50){te++,typeof ue=="object"&&(ue.placement&&(Q=ue.placement),ue.rects&&(K=ue.rects===!0?await Y.getElementRects({reference:R,floating:F,strategy:U}):ue.rects),{x:Z,y:J}=computeCoordsFromPlacement(K,Q,X)),ie=-1;continue}}return{x:Z,y:J,placement:Q,strategy:U,middlewareData:ee}};function getNodeName(R){return isNode(R)?(R.nodeName||"").toLowerCase():"#document"}function getWindow(R){var F;return(R==null||(F=R.ownerDocument)==null?void 0:F.defaultView)||window}function getDocumentElement(R){var F;return(F=(isNode(R)?R.ownerDocument:R.document)||window.document)==null?void 0:F.documentElement}function isNode(R){return R instanceof Node||R instanceof getWindow(R).Node}function isElement(R){return R instanceof Element||R instanceof getWindow(R).Element}function isHTMLElement(R){return R instanceof HTMLElement||R instanceof getWindow(R).HTMLElement}function isShadowRoot(R){return typeof ShadowRoot>"u"?!1:R instanceof ShadowRoot||R instanceof getWindow(R).ShadowRoot}function isOverflowElement(R){const{overflow:F,overflowX:E,overflowY:V,display:U}=getComputedStyle$1(R);return/auto|scroll|overlay|hidden|clip/.test(F+V+E)&&!["inline","contents"].includes(U)}function isTableElement(R){return["table","td","th"].includes(getNodeName(R))}function isContainingBlock(R){const F=isWebKit(),E=getComputedStyle$1(R);return E.transform!=="none"||E.perspective!=="none"||(E.containerType?E.containerType!=="normal":!1)||!F&&(E.backdropFilter?E.backdropFilter!=="none":!1)||!F&&(E.filter?E.filter!=="none":!1)||["transform","perspective","filter"].some(V=>(E.willChange||"").includes(V))||["paint","layout","strict","content"].some(V=>(E.contain||"").includes(V))}function getContainingBlock(R){let F=getParentNode(R);for(;isHTMLElement(F)&&!isLastTraversableNode(F);){if(isContainingBlock(F))return F;F=getParentNode(F)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(R){return["html","body","#document"].includes(getNodeName(R))}function getComputedStyle$1(R){return getWindow(R).getComputedStyle(R)}function getNodeScroll(R){return isElement(R)?{scrollLeft:R.scrollLeft,scrollTop:R.scrollTop}:{scrollLeft:R.pageXOffset,scrollTop:R.pageYOffset}}function getParentNode(R){if(getNodeName(R)==="html")return R;const F=R.assignedSlot||R.parentNode||isShadowRoot(R)&&R.host||getDocumentElement(R);return isShadowRoot(F)?F.host:F}function getNearestOverflowAncestor(R){const F=getParentNode(R);return isLastTraversableNode(F)?R.ownerDocument?R.ownerDocument.body:R.body:isHTMLElement(F)&&isOverflowElement(F)?F:getNearestOverflowAncestor(F)}function getOverflowAncestors(R,F,E){var V;F===void 0&&(F=[]),E===void 0&&(E=!0);const U=getNearestOverflowAncestor(R),W=U===((V=R.ownerDocument)==null?void 0:V.body),Y=getWindow(U);return W?F.concat(Y,Y.visualViewport||[],isOverflowElement(U)?U:[],Y.frameElement&&E?getOverflowAncestors(Y.frameElement):[]):F.concat(U,getOverflowAncestors(U,[],E))}function getCssDimensions(R){const F=getComputedStyle$1(R);let E=parseFloat(F.width)||0,V=parseFloat(F.height)||0;const U=isHTMLElement(R),W=U?R.offsetWidth:E,Y=U?R.offsetHeight:V,G=round(E)!==W||round(V)!==Y;return G&&(E=W,V=Y),{width:E,height:V,$:G}}function unwrapElement$1(R){return isElement(R)?R:R.contextElement}function getScale(R){const F=unwrapElement$1(R);if(!isHTMLElement(F))return createCoords(1);const E=F.getBoundingClientRect(),{width:V,height:U,$:W}=getCssDimensions(F);let Y=(W?round(E.width):E.width)/V,G=(W?round(E.height):E.height)/U;return(!Y||!Number.isFinite(Y))&&(Y=1),(!G||!Number.isFinite(G))&&(G=1),{x:Y,y:G}}const noOffsets=createCoords(0);function getVisualOffsets(R){const F=getWindow(R);return!isWebKit()||!F.visualViewport?noOffsets:{x:F.visualViewport.offsetLeft,y:F.visualViewport.offsetTop}}function shouldAddVisualOffsets(R,F,E){return F===void 0&&(F=!1),!E||F&&E!==getWindow(R)?!1:F}function getBoundingClientRect(R,F,E,V){F===void 0&&(F=!1),E===void 0&&(E=!1);const U=R.getBoundingClientRect(),W=unwrapElement$1(R);let Y=createCoords(1);F&&(V?isElement(V)&&(Y=getScale(V)):Y=getScale(R));const G=shouldAddVisualOffsets(W,E,V)?getVisualOffsets(W):createCoords(0);let X=(U.left+G.x)/Y.x,K=(U.top+G.y)/Y.y,Z=U.width/Y.x,J=U.height/Y.y;if(W){const Q=getWindow(W),ee=V&&isElement(V)?getWindow(V):V;let te=Q.frameElement;for(;te&&V&&ee!==Q;){const ie=getScale(te),ne=te.getBoundingClientRect(),ae=getComputedStyle$1(te),se=ne.left+(te.clientLeft+parseFloat(ae.paddingLeft))*ie.x,oe=ne.top+(te.clientTop+parseFloat(ae.paddingTop))*ie.y;X*=ie.x,K*=ie.y,Z*=ie.x,J*=ie.y,X+=se,K+=oe,te=getWindow(te).frameElement}}return rectToClientRect({width:Z,height:J,x:X,y:K})}function convertOffsetParentRelativeRectToViewportRelativeRect(R){let{rect:F,offsetParent:E,strategy:V}=R;const U=isHTMLElement(E),W=getDocumentElement(E);if(E===W)return F;let Y={scrollLeft:0,scrollTop:0},G=createCoords(1);const X=createCoords(0);if((U||!U&&V!=="fixed")&&((getNodeName(E)!=="body"||isOverflowElement(W))&&(Y=getNodeScroll(E)),isHTMLElement(E))){const K=getBoundingClientRect(E);G=getScale(E),X.x=K.x+E.clientLeft,X.y=K.y+E.clientTop}return{width:F.width*G.x,height:F.height*G.y,x:F.x*G.x-Y.scrollLeft*G.x+X.x,y:F.y*G.y-Y.scrollTop*G.y+X.y}}function getClientRects(R){return Array.from(R.getClientRects())}function getWindowScrollBarX(R){return getBoundingClientRect(getDocumentElement(R)).left+getNodeScroll(R).scrollLeft}function getDocumentRect(R){const F=getDocumentElement(R),E=getNodeScroll(R),V=R.ownerDocument.body,U=max$1(F.scrollWidth,F.clientWidth,V.scrollWidth,V.clientWidth),W=max$1(F.scrollHeight,F.clientHeight,V.scrollHeight,V.clientHeight);let Y=-E.scrollLeft+getWindowScrollBarX(R);const G=-E.scrollTop;return getComputedStyle$1(V).direction==="rtl"&&(Y+=max$1(F.clientWidth,V.clientWidth)-U),{width:U,height:W,x:Y,y:G}}function getViewportRect(R,F){const E=getWindow(R),V=getDocumentElement(R),U=E.visualViewport;let W=V.clientWidth,Y=V.clientHeight,G=0,X=0;if(U){W=U.width,Y=U.height;const K=isWebKit();(!K||K&&F==="fixed")&&(G=U.offsetLeft,X=U.offsetTop)}return{width:W,height:Y,x:G,y:X}}function getInnerBoundingClientRect(R,F){const E=getBoundingClientRect(R,!0,F==="fixed"),V=E.top+R.clientTop,U=E.left+R.clientLeft,W=isHTMLElement(R)?getScale(R):createCoords(1),Y=R.clientWidth*W.x,G=R.clientHeight*W.y,X=U*W.x,K=V*W.y;return{width:Y,height:G,x:X,y:K}}function getClientRectFromClippingAncestor(R,F,E){let V;if(F==="viewport")V=getViewportRect(R,E);else if(F==="document")V=getDocumentRect(getDocumentElement(R));else if(isElement(F))V=getInnerBoundingClientRect(F,E);else{const U=getVisualOffsets(R);V={...F,x:F.x-U.x,y:F.y-U.y}}return rectToClientRect(V)}function hasFixedPositionAncestor(R,F){const E=getParentNode(R);return E===F||!isElement(E)||isLastTraversableNode(E)?!1:getComputedStyle$1(E).position==="fixed"||hasFixedPositionAncestor(E,F)}function getClippingElementAncestors(R,F){const E=F.get(R);if(E)return E;let V=getOverflowAncestors(R,[],!1).filter(G=>isElement(G)&&getNodeName(G)!=="body"),U=null;const W=getComputedStyle$1(R).position==="fixed";let Y=W?getParentNode(R):R;for(;isElement(Y)&&!isLastTraversableNode(Y);){const G=getComputedStyle$1(Y),X=isContainingBlock(Y);!X&&G.position==="fixed"&&(U=null),(W?!X&&!U:!X&&G.position==="static"&&!!U&&["absolute","fixed"].includes(U.position)||isOverflowElement(Y)&&!X&&hasFixedPositionAncestor(R,Y))?V=V.filter(Z=>Z!==Y):U=G,Y=getParentNode(Y)}return F.set(R,V),V}function getClippingRect(R){let{element:F,boundary:E,rootBoundary:V,strategy:U}=R;const Y=[...E==="clippingAncestors"?getClippingElementAncestors(F,this._c):[].concat(E),V],G=Y[0],X=Y.reduce((K,Z)=>{const J=getClientRectFromClippingAncestor(F,Z,U);return K.top=max$1(J.top,K.top),K.right=min$1(J.right,K.right),K.bottom=min$1(J.bottom,K.bottom),K.left=max$1(J.left,K.left),K},getClientRectFromClippingAncestor(F,G,U));return{width:X.right-X.left,height:X.bottom-X.top,x:X.left,y:X.top}}function getDimensions(R){return getCssDimensions(R)}function getRectRelativeToOffsetParent(R,F,E){const V=isHTMLElement(F),U=getDocumentElement(F),W=E==="fixed",Y=getBoundingClientRect(R,!0,W,F);let G={scrollLeft:0,scrollTop:0};const X=createCoords(0);if(V||!V&&!W)if((getNodeName(F)!=="body"||isOverflowElement(U))&&(G=getNodeScroll(F)),V){const K=getBoundingClientRect(F,!0,W,F);X.x=K.x+F.clientLeft,X.y=K.y+F.clientTop}else U&&(X.x=getWindowScrollBarX(U));return{x:Y.left+G.scrollLeft-X.x,y:Y.top+G.scrollTop-X.y,width:Y.width,height:Y.height}}function getTrueOffsetParent(R,F){return!isHTMLElement(R)||getComputedStyle$1(R).position==="fixed"?null:F?F(R):R.offsetParent}function getOffsetParent(R,F){const E=getWindow(R);if(!isHTMLElement(R))return E;let V=getTrueOffsetParent(R,F);for(;V&&isTableElement(V)&&getComputedStyle$1(V).position==="static";)V=getTrueOffsetParent(V,F);return V&&(getNodeName(V)==="html"||getNodeName(V)==="body"&&getComputedStyle$1(V).position==="static"&&!isContainingBlock(V))?E:V||getContainingBlock(R)||E}const getElementRects=async function(R){let{reference:F,floating:E,strategy:V}=R;const U=this.getOffsetParent||getOffsetParent,W=this.getDimensions;return{reference:getRectRelativeToOffsetParent(F,await U(E),V),floating:{x:0,y:0,...await W(E)}}};function isRTL(R){return getComputedStyle$1(R).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL},computePosition=(R,F,E)=>{const V=new Map,U={platform,...E},W={...U.platform,_c:V};return computePosition$1(R,F,{...U,platform:W})};function unwrapElement(R){var F;return(F=R==null?void 0:R.$el)!=null?F:R}function getDPR(R){return typeof window>"u"?1:(R.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(R,F){const E=getDPR(R);return Math.round(F*E)/E}function useFloating(R,F,E){E===void 0&&(E={});const V=E.whileElementsMounted,U=computed(()=>{var he;return(he=unref(E.open))!=null?he:!0}),W=computed(()=>unref(E.middleware)),Y=computed(()=>{var he;return(he=unref(E.placement))!=null?he:"bottom"}),G=computed(()=>{var he;return(he=unref(E.strategy))!=null?he:"absolute"}),X=computed(()=>{var he;return(he=unref(E.transform))!=null?he:!0}),K=computed(()=>unwrapElement(R.value)),Z=computed(()=>unwrapElement(F.value)),J=ref$1(0),Q=ref$1(0),ee=ref$1(G.value),te=ref$1(Y.value),ie=shallowRef({}),ne=ref$1(!1),ae=computed(()=>{const he={position:ee.value,left:"0",top:"0"};if(!Z.value)return he;const de=roundByDPR(Z.value,J.value),fe=roundByDPR(Z.value,Q.value);return X.value?{...he,transform:"translate("+de+"px, "+fe+"px)",...getDPR(Z.value)>=1.5&&{willChange:"transform"}}:{position:ee.value,left:de+"px",top:fe+"px"}});let se;function oe(){K.value==null||Z.value==null||computePosition(K.value,Z.value,{middleware:W.value,placement:Y.value,strategy:G.value}).then(he=>{J.value=he.x,Q.value=he.y,ee.value=he.strategy,te.value=he.placement,ie.value=he.middlewareData,ne.value=!0})}function le(){typeof se=="function"&&(se(),se=void 0)}function ue(){if(le(),V===void 0){oe();return}if(K.value!=null&&Z.value!=null){se=V(K.value,Z.value,oe);return}}function ce(){U.value||(ne.value=!1)}return watch([W,Y,G],oe,{flush:"sync"}),watch([K,Z],ue,{flush:"sync"}),watch(U,ce,{flush:"sync"}),getCurrentScope()&&onScopeDispose(le),{x:shallowReadonly(J),y:shallowReadonly(Q),strategy:shallowReadonly(ee),placement:shallowReadonly(te),middlewareData:shallowReadonly(ie),isPositioned:shallowReadonly(ne),floatingStyles:ae,update:oe}}const __default__$2={methods:{handleComplete(R){const{id:F,amount:E,account_id:V,category_id:U}=this.transaction;this.$store.dispatch("transaction/update",{id:F,apply_to_all_in_future:!1,amount:E,account_id:V,category_id:U,date:R,is_onbadge:!1})}}},_sfc_main$P=Object.assign(__default__$2,{__name:"TransactionListCompleteButton",props:["transaction","account","isFixed"],setup(R){const F=R,E=ref$1(null),V=ref$1(null),U=ref$1(!1),{floatingStyles:W}=useFloating(E,V,{placement:"bottom-start",strategy:F.isFixed?"fixed":"absolute"});return{__sfc:!0,props:F,reference:E,floating:V,open:U,floatingStyles:W,useFloating,ref:ref$1}}});var _sfc_render$P=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",{on:{mouseover:function(U){U.preventDefault(),U.stopPropagation(),V.open=!0},mouseleave:function(U){U.preventDefault(),U.stopPropagation(),V.open=!1}}},[E("button",{ref:"reference",staticClass:"light-gray small nowrap rounded",style:F.isFixed?"padding: .3125em .5em; margin: .5em 0 0;":"margin: 0;",on:{click:function(U){U.preventDefault(),U.stopPropagation()}}},[E("i",{staticClass:"fas fa-check-circle text-red"}),F.isFixed?F._e():E("span",{staticClass:"desktop-only"},[F._v(" "+F._s(F.$t("Process"))+" "),E("i",{staticClass:"fas fa-chevron-down text-light-gray fa-xs"})])]),V.open?E("div",{ref:"floating",staticClass:"dropdown is-opened",staticStyle:{"z-index":"9999"},style:V.floatingStyles},[E("div",{staticClass:"dropdown-body",staticStyle:{"min-width":"250px"}},[E("ul",{staticClass:"menu"},[E("li",[E("a",{staticClass:"custom-p-8",on:{click:function(U){U.preventDefault(),U.stopPropagation(),F.handleComplete(F.$moment().format("YYYY-MM-DD"))}}},[E("i",{staticClass:"fas fa-check text-red"}),E("span",[E("span",{staticClass:"semibold black"},[F._v(F._s(F.$t("processToday")))]),E("p",{staticClass:"hint custom-mt-4"},[F._v(" "+F._s(F.$t("amountOnDate",{amount:F.$helper.toCurrency({value:F.transaction.amount,currencyCode:F.account.currency}),date:F.$moment().format("LL")}))+" ")])])])]),F.transaction.date!==F.$moment().format("YYYY-MM-DD")?E("li",[E("a",{staticClass:"custom-p-8",on:{click:function(U){U.preventDefault(),U.stopPropagation(),F.handleComplete(F.$moment(F.transaction.date).format("YYYY-MM-DD"))}}},[E("i",{staticClass:"fas fa-check text-red"}),E("span",[E("span",{staticClass:"semibold black"},[F._v(F._s(F.$t("Process"))+" "+F._s(F.$moment(F.transaction.date).format("LL")))]),E("p",{staticClass:"hint custom-mt-4"},[F._v(" "+F._s(F.$t("amountOnDate",{amount:F.$helper.toCurrency({value:F.transaction.amount,currencyCode:F.account.currency}),date:F.$moment(F.transaction.date).format("LL")}))+" ")])])])]):F._e(),E("li",[E("a",{staticClass:"custom-p-8",on:{click:function(U){return U.preventDefault(),U.stopPropagation(),F.$emit("processEdit")}}},[E("i",{staticClass:"fas fa-pencil-alt"}),E("span",{staticClass:"semibold black"},[F._v(F._s(F.$t("processEdits")))])])])])])]):F._e()])},_sfc_staticRenderFns$P=[],__component__$P=normalizeComponent(_sfc_main$P,_sfc_render$P,_sfc_staticRenderFns$P,!1,null,null,null,null);const TransactionListCompleteButton=__component__$P.exports,_sfc_main$O={props:["transaction","collapseHeaderData","isRepeatingGroup","category"],computed:{title(){return this.$tc(`repeatingInfo.interval.${this.transaction.repeating_data.interval}`,this.transaction.repeating_data.frequency,{frequency:this.transaction.repeating_data.frequency})},categoryComputed(){return`${this.category.parent_category_id?`${this.$store.getters["category/getById"](this.category.parent_category_id).name} / `:""}${this.category.name}`}}};var _sfc_render$O=function(){var V,U;var F=this,E=F._self._c;return E("div",{staticClass:"flexbox middle space-4 semibold custom-mb-4",staticStyle:{overflow:"hidden"}},[F.category?E("div",{staticClass:"c-item-category text-ellipsis",style:`color:${F.category.color}`},[F._v(" "+F._s(F.categoryComputed)+" ")]):F._e(),F.collapseHeaderData&&F.transaction.external_source_info?[F.transaction.external_source_info.entity_icon?E("span",{staticClass:"icon",attrs:{title:F.transaction.external_source_info.name}},[E("img",{attrs:{src:F.transaction.external_source_info.entity_icon,alt:""}})]):F.transaction.external_source_info.glyph?E("span",{staticClass:"icon",style:`color:${F.transaction.external_source_info.color}`,attrs:{title:F.transaction.external_source_info.name}},[E("i",{staticClass:"fas",class:F.transaction.external_source_info.glyph})]):F._e()]:F.isRepeatingGroup?[E("div",{staticClass:"black text-ellipsis",staticStyle:{"flex-shrink":"1"},attrs:{title:F.$t("repeatingTransactionDesc",{repeats:F.transaction.affected_transactions})}},[F._m(0)])]:[(V=F.transaction.external_source_info)!=null&&V.entity_icon?E("span",{staticClass:"icon",attrs:{title:F.transaction.external_source_info.name}},[E("img",{attrs:{src:F.transaction.external_source_info.entity_icon,alt:""}})]):(U=F.transaction.external_source_info)!=null&&U.glyph?E("span",{staticClass:"icon",style:`color:${F.transaction.external_source_info.color}`,attrs:{title:F.transaction.external_source_info.name}},[E("i",{staticClass:"fas",class:F.transaction.external_source_info.glyph})]):F._e(),F.transaction.repeating_id?E("span",{attrs:{title:F.title}},[F._m(1)]):F._e()]],2)},_sfc_staticRenderFns$O=[function(){var R=this,F=R._self._c;return F("span",{staticClass:"smaller custom-mr-4"},[F("i",{staticClass:"fas fa-redo opacity-50"})])},function(){var R=this,F=R._self._c;return F("span",{staticClass:"smaller custom-mr-4"},[F("i",{staticClass:"fas fa-redo opacity-50"})])}],__component__$O=normalizeComponent(_sfc_main$O,_sfc_render$O,_sfc_staticRenderFns$O,!1,null,null,null,null);const TransactionListGroupRowDesc=__component__$O.exports,TransactionListGroupRowGlyph_vue_vue_type_style_index_0_lang="",_sfc_main$N={props:["transaction","category","account","isCollapseHeader","isRepeatingGroup","collapseHeaderData"],computed:{mainGlyph(){return this.category.glyph?this.category.glyph:currencyIcons[this.account.currency]?currencyIcons[this.account.currency]:this.transaction.category_id===-1312?"fa-exchange-alt":this.transaction.amount>=0?"fa-arrow-down":this.transaction.amount<0?"fa-arrow-up":""}}};var _sfc_render$N=function(){var F=this,E=F._self._c;return E("div",{staticStyle:{position:"relative",top:"1px"}},[E("span",{staticClass:"userpic userpic48 align-center",style:`background-color:${F.category.color};`},[F.transaction.contractor_contact?E("img",{staticClass:"c-contractor",attrs:{src:F.transaction.contractor_contact.userpic,alt:F.transaction.contractor_contact.name,title:F.transaction.contractor_contact.name}}):E("div",[E("div",{key:F.mainGlyph},[E("i",{staticClass:"c-category-glyph fas",class:F.mainGlyph})])]),F.collapseHeaderData?E("span",{staticClass:"badge smaller",style:F.transaction.external_source_info?`background:${F.transaction.external_source_info.color}`:"",attrs:{title:F.transaction.external_source_info?F.transaction.external_source_info.name:""}},[F._v(" \xD7 "+F._s(F.collapseHeaderData.ids.length)+" ")]):F._e(),F.transaction.$_flagCreated&&F.transaction.affected_transactions>1?E("span",{staticClass:"badge gray smaller"},[F._v(" \xD7 "+F._s(F.transaction.affected_transactions>100?"99+":F.transaction.affected_transactions)+" ")]):F._e()]),F.isCollapseHeader||F.isRepeatingGroup?E("span",{staticClass:"c-userpic-stack-imitation"},[E("span",{staticClass:"c-userpic-stack-imitation__item",style:`background-color:${F.category.color};`}),E("span",{staticClass:"c-userpic-stack-imitation__item",style:`background-color:${F.category.color};`})]):F._e()])},_sfc_staticRenderFns$N=[],__component__$N=normalizeComponent(_sfc_main$N,_sfc_render$N,_sfc_staticRenderFns$N,!1,null,null,null,null);const TransactionListGroupRowGlyph=__component__$N.exports,TransactionListGroupRow_vue_vue_type_style_index_0_lang="",__default__$1={components:{Modal:Modal$1,AddTransaction,TransactionListCompleteButton,TransactionListGroupRowDesc,TransactionListGroupRowGlyph},inject:{archive:{default:!1}},props:{transaction:{type:Object},showChecker:{type:Boolean,default:!1},collapseHeaderData:{type:Object,default:null},isRepeatingGroup:{type:Boolean,default:!1},showDate:{type:Boolean,default:!0},visibleSelectCheckbox:{type:Boolean,default:!1},isCompactMode:{type:Boolean,default:!1}},data(){return{open:!1,isHover:!1,offBadgeInTransactionModal:!1}},computed:{account(){return this.$store.getters["account/getById"](this.transaction.account_id)||{}},category(){return this.$store.getters["category/getById"](this.transaction.category_id)},isCollapseHeader(){return!!this.collapseHeaderData},isChecked(){return this.$store.getters["transactionBulk/isSelected"](this.transaction.id)},isHoverComputed(){return this.$isSpaMobileMode||this.visibleSelectCheckbox||this.showChecker?!0:this.isHover},isOverdue(){return this.transaction.date<this.$helper.currentDate&&this.transaction.is_onbadge},isToday(){return this.transaction.date===this.$helper.currentDate&&this.transaction.is_onbadge},daysBefore(){return this.$moment(this.transaction.date).diff(this.$helper.currentDate,"days")},classes(){return this.archive?{"c-item-archived":!0}:{"custom-pb-8":this.isCompactMode,"c-transaction-group":this.isCollapseHeader||this.isRepeatingGroup,"c-upcoming":this.$moment(this.transaction.date)>this.$moment(),"c-item-overdue":this.isOverdue,"c-item-red-process":this.isOverdue||this.isToday,"c-item-selected":this.isChecked,"c-item--updated":this.transaction.$_flagUpdated||this.transaction.$_flagCreated}}},methods:{handleClick(R){this.isCollapseHeader?this.$emit("toggleCollapseHeader"):this.isRepeatingGroup?R.preventDefault():this.openModal()},openModal(R=!1){if(this.archive){alert(this.$t("restoreInfo"));return}this.offBadgeInTransactionModal=R,this.$isSpaMobileMode?window.emitter.emit("editTransaction",this.transaction):this.open=!0},checkboxSelect(R){const F=this.isChecked?"unselect":"select";let E=[this.transaction.id];this.isCollapseHeader&&(E=[...this.collapseHeaderData.ids]);const V=this.$store.state.transaction.transactions.data,U=this.$store.state.transactionBulk.lastCheckboxIndex,W=V.indexOf(this.transaction);R.shiftKey&&U>-1&&(V.slice(Math.min(W,U)+1,Math.max(W,U)).forEach(Y=>E.push(Y.id)),E.push(V[U].id)),E=E.filter((Y,G,X)=>X.indexOf(Y)===G),this.$store.commit(`transactionBulk/${F}`,E),this.$store.commit("transactionBulk/setLastCheckboxIndex",W)}}},_sfc_main$M=Object.assign(__default__$1,{__name:"TransactionListGroupRow",setup(R){const F=ref$1(null),E=ref$1(null),V=ref$1(!1),{floatingStyles:U}=useFloating(F,E,{placement:"bottom-start",strategy:"fixed"});return{__sfc:!0,reference:F,floating:E,openFloating:V,floatingStyles:U,ref:ref$1,Modal:Modal$1,AddTransaction,TransactionListCompleteButton,TransactionListGroupRowDesc,TransactionListGroupRowGlyph,useFloating}}});var _sfc_render$M=function(){var U;var F=this,E=F._self._c,V=F._self._setupProxy;return E("li",{ref:"reference",staticClass:"item c-item",class:F.classes,style:F.isRepeatingGroup&&"cursor: initial;",on:{mouseover:()=>{F.isCompactMode&&(V.openFloating=!0)},mouseleave:()=>{F.isCompactMode&&(V.openFloating=!1)}}},[F.showDate&&!F.isCompactMode?E("div",{staticClass:"mobile-only custom-py-8"},[E("strong",[F._v(" "+F._s(F.$moment(F.transaction.date).format(F.$moment.locale()==="ru"?"D MMMM":"MMMM D"))+" ")]),E("span",{staticClass:"hint"},[F._v(F._s(F.$moment(F.transaction.date).format("dddd")))])]):F._e(),E("div",{staticClass:"flexbox middle space-12",on:{mouseover:function(W){F.isHover=!0},mouseleave:function(W){F.isHover=!1},click:F.handleClick}},[F.$helper.showMultiSelect()&&!F.isCompactMode?E("div",{staticClass:"custom-my-4",class:{"desktop-only":F.$helper.isDesktopEnv},staticStyle:{width:"1rem",height:"1rem"}},[E("span",{directives:[{name:"show",rawName:"v-show",value:F.isHoverComputed&&!F.isRepeatingGroup,expression:"isHoverComputed && !isRepeatingGroup"}],staticClass:"wa-checkbox",on:{click:function(W){return W.stopPropagation(),F.checkboxSelect.apply(null,arguments)}}},[E("input",{attrs:{type:"checkbox"},domProps:{checked:F.isChecked}}),F._m(0)])]):F._e(),F.isCompactMode?F._e():E("div",{staticClass:"desktop-and-tablet-only",staticStyle:{width:"7rem","flex-shrink":"0"}},[F.showDate?[E("div",{staticClass:"custom-mb-4 bold nowrap c-group-date"},[F._v(" "+F._s(F.$moment(F.transaction.date).format(F.$moment.locale()==="ru"?"D MMMM":"MMMM D"))+" ")]),E("div",{staticClass:"hint"},[F._v(" "+F._s(F.$moment().year()==F.$moment(F.transaction.date).year()?F.daysBefore>0?F.daysBefore===1?F.$t("tomorrow"):F.$moment(F.transaction.date).from(F.$helper.currentDate):F.$moment(F.transaction.date).format("dddd"):F.$moment(F.transaction.date).year())+" ")])]:F._e()],2),E(V.TransactionListGroupRowGlyph,{attrs:{transaction:F.transaction,category:F.category,account:F.account,"is-collapse-header":F.isCollapseHeader,"is-repeating-group":F.isRepeatingGroup,"collapse-header-data":F.collapseHeaderData}}),E("div",{staticClass:"wide flexbox middle space-8 c-item-border"},[F.isCompactMode?F._e():E("div",{staticClass:"wide",staticStyle:{overflow:"hidden"}},[E(V.TransactionListGroupRowDesc,{attrs:{transaction:F.transaction,"collapse-header-data":F.collapseHeaderData,"is-repeating-group":F.isRepeatingGroup,category:F.category}}),F.transaction.description||F.transaction.contractor_contact?E("div",{staticClass:"black small text-ellipsis",staticStyle:{"flex-shrink":"1"}},[F.transaction.description?E("span",[F._v(" "+F._s(F.transaction.description)+" ")]):F._e(),F.transaction.contractor_contact?E("span",{staticClass:"gray"},[F._v(" "+F._s(F.transaction.contractor_contact.name)+" ")]):F._e()]):F._e(),!F.transaction.contractor_contact&&!F.transaction.description?E("span",{staticClass:"gray small"},[F._v(" "+F._s(F.$t("noDesc"))+" ")]):F._e()],1),E("div",{staticClass:"c-item-amount"},[E("div",{staticClass:"bold nowrap custom-mb-4 text-ellipsis",style:`color: ${F.category.color}`},[F._v(" "+F._s(F.isCompactMode&&!F.isCollapseHeader?`${F.transaction.amountShorten} ${F.$helper.currencySignByCode(F.account.currency)}`:F.$helper.toCurrency({value:F.isCollapseHeader?F.collapseHeaderData.totalAmount:F.transaction.amount,currencyCode:F.account.currency,isDynamics:!0}))+" ")]),F.account.name&&!F.isCompactMode?E("div",{staticClass:"text-ellipsis small gray"},[F._v(" "+F._s(F.account.name)+" "),F.transaction.balance?E("span",{staticClass:"nowrap black",attrs:{title:F.$t("accountBalanceTransactionListHint")}},[F._v(" "+F._s(F.$helper.toCurrency({value:F.transaction.balance,currencyCode:F.account.currency}))+" ")]):F._e()]):F._e()]),F.isCompactMode?E("div",{staticClass:"hint align-center"},[E("span",{staticClass:"black"},[F._v(F._s(F.$moment(F.transaction.date).toDate().toLocaleDateString(F.$moment.locale(),{month:"short",day:"numeric"})))]),E("br"),F._v(" "+F._s(F.$moment(F.transaction.date).from(F.$moment().startOf("day")))+" ")]):F._e(),E("transition",{attrs:{name:"fade",duration:300}},[E(V.TransactionListCompleteButton,{directives:[{name:"show",rawName:"v-show",value:F.transaction.is_onbadge&&!F.archive,expression:"transaction.is_onbadge && !archive"}],attrs:{transaction:F.transaction,"is-fixed":F.isCompactMode,account:F.account},on:{processEdit:function(W){return F.openModal(!0)}}})],1)],1)],1),E("portal",[F.open?E(V.Modal,{on:{close:function(W){F.open=!1}}},[E(V.AddTransaction,{attrs:{transaction:F.transaction,"off-onbadge":F.offBadgeInTransactionModal}})],1):F._e()],1),V.openFloating?E("div",{ref:"floating",staticClass:"dropdown is-opened",staticStyle:{"z-index":"999"},style:V.floatingStyles},[E("div",{staticClass:"dropdown-body",staticStyle:{"min-width":"200px"}},[E("div",{staticClass:"custom-p-8",staticStyle:{display:"flex","flex-direction":"column",gap:".2rem"}},[(U=F.transaction.contractor_contact)!=null&&U.name?E("span",[F._v(F._s(F.transaction.contractor_contact.name))]):F._e(),F.category?E("span",{staticClass:"bold nowrap small text-ellipsis",style:`color: ${F.category.color}`},[F._v(F._s(F.category.name))]):F._e(),E("span",{staticClass:"hint"},[F._v(F._s(F.transaction.description||F.$t("noDesc")))])])])]):F._e()],1)},_sfc_staticRenderFns$M=[function(){var R=this,F=R._self._c;return R._self._setupProxy,F("span",[F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-check"})])])}],__component__$M=normalizeComponent(_sfc_main$M,_sfc_render$M,_sfc_staticRenderFns$M,!1,null,null,null,null);const TransactionListGroupRow=__component__$M.exports,_sfc_main$L={components:{TransactionListGroupRow},computed:{transactionsJustCreated(){return this.$store.getters["transaction/getTransactionsJustCreated"]}}};var _sfc_render$L=function(){var F=this,E=F._self._c;return F.transactionsJustCreated.length?E("div",{staticClass:"custom-mb-16 c-transaction-section"},[E("div",{staticClass:"flexbox middle custom-py-8"},[E("div",{staticClass:"flexbox middle space-12 wide"},[F.$helper.showMultiSelect()?E("div",{staticStyle:{"min-width":"1rem"}}):F._e(),E("h4",{staticClass:"c-transaction-section__header custom-ml-8"},[F._v(" "+F._s(F.$t("justCreated"))+" ")])])]),E("ul",{staticClass:"list c-list"},F._l(F.transactionsJustCreated,function(V){return E("TransactionListGroupRow",{key:V.id,attrs:{transaction:V,"is-repeating-group":V.affected_transactions>1}})}),1)]):F._e()},_sfc_staticRenderFns$L=[],__component__$L=normalizeComponent(_sfc_main$L,_sfc_render$L,_sfc_staticRenderFns$L,!1,null,null,null,null);const TransactionListCreated=__component__$L.exports,DropdownWaFloating_vue_vue_type_style_index_0_scoped_05af4760_lang="",_sfc_main$K={__name:"DropdownWaFloating",props:["strategy","hideOnMobile"],setup(R){var Y;const F=R,E=ref$1(!1),V=ref$1(null),U=ref$1(null),{floatingStyles:W}=useFloating(U,V,{placement:"bottom-start",strategy:(Y=F.strategy)!=null?Y:"absolute"});return{__sfc:!0,props:F,open:E,floating:V,reference:U,floatingStyles:W,useFloating,ref:ref$1}}};var _sfc_render$K=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",{ref:"reference",on:{mouseover:function(U){return U.preventDefault(),U.stopPropagation(),(()=>{F.hideOnMobile&&F.$helper.isTabletMediaQuery()||(V.open=!0)}).apply(null,arguments)},mouseleave:function(U){return U.preventDefault(),U.stopPropagation(),(()=>{F.hideOnMobile&&F.$helper.isTabletMediaQuery()||(V.open=!1)}).apply(null,arguments)}}},[F._t("toggler"),V.open?E("div",{ref:"floating",staticClass:"dropdown is-opened",class:{"no-pointer":V.props.strategy==="fixed"},style:V.floatingStyles},[E("div",{staticClass:"dropdown-body",staticStyle:{"min-width":"200px"}},[F._t("default")],2)]):F._e()],2)},_sfc_staticRenderFns$K=[],__component__$K=normalizeComponent(_sfc_main$K,_sfc_render$K,_sfc_staticRenderFns$K,!1,null,"05af4760",null,null);const DropdownWaFloating=__component__$K.exports,__default__={props:{upcomingBlockOpened:{type:Boolean}},computed:{featurePeriod:{get(){return this.$store.state.transaction.featurePeriod},set(R){this.$store.commit("transaction/setFeaturePeriod",R)}}},created(){this.featurePeriod=+localStorage.getItem("upcoming_transactions_days")||this.featurePeriod},methods:{setFeaturePeriod(R){this.featurePeriod=R,localStorage.setItem("upcoming_transactions_days",R),this.$emit("updateUpcomingBlockOpened",!0)}}},_sfc_main$J=Object.assign(__default__,{__name:"TransactionListGroupUpcomingPeriod",setup(R){return{__sfc:!0,listCompactMode:useStorage("list_compact_mode",!0),DropdownWaFloating,useStorage}}});var _sfc_render$J=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E(V.DropdownWaFloating,{scopedSlots:F._u([{key:"toggler",fn:function(){return[E("button",{staticClass:"circle light-gray"},[E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-ellipsis-v"})])])]},proxy:!0}])},[E("ul",{staticClass:"menu"},[E("li",[E("a",{on:{click:function(U){return U.preventDefault(),F.setFeaturePeriod(7)}}},[E("span",[F._v(F._s(F.$t("nextDays",{count:7})))])])]),E("li",[E("a",{on:{click:function(U){return U.preventDefault(),F.setFeaturePeriod(30)}}},[E("span",[F._v(F._s(F.$t("nextDays",{count:30})))])])]),E("li",{staticClass:"bordered-top"},[E("a",{on:{click:function(U){U.preventDefault(),V.listCompactMode=!V.listCompactMode}}},[E("span",{directives:[{name:"show",rawName:"v-show",value:!V.listCompactMode,expression:"!listCompactMode"}],staticClass:"icon"},[E("i",{staticClass:"fas fa-ellipsis-h"})]),E("span",{directives:[{name:"show",rawName:"v-show",value:V.listCompactMode,expression:"listCompactMode"}],staticClass:"icon"},[E("i",{staticClass:"fas fa-list"})]),E("span",[F._v(F._s(V.listCompactMode?F.$t("listView"):F.$t("compactView")))])])])])])},_sfc_staticRenderFns$J=[],__component__$J=normalizeComponent(_sfc_main$J,_sfc_render$J,_sfc_staticRenderFns$J,!1,null,null,null,null);const TransactionListGroupUpcomingPeriod=__component__$J.exports,_sfc_main$I={mixins:[amountMixin],props:{group:{type:Array,required:!0}},computed:{currencies(){return this.group.reduce((R,F)=>{const E=this.$store.getters["account/getById"](F.account_id).currency;return R.includes(E)||R.push(E),R},[])}},methods:{categoriesByType(R){return this.$store.state.category.categories.filter(F=>R==="profit"?F.is_profit===!0:F.type===R&&F.is_profit===!1).map(F=>F.id)},getTotalByCurrency(R,F){return this.group.filter(E=>this.categoriesByType(F).includes(E.category_id)&&this.$store.getters["account/getById"](E.account_id).currency===R).reduce((E,V)=>E+V.amount,0)},amountDelta(R){return Math.abs(this.getTotalByCurrency(R,"income"))-Math.abs(this.getTotalByCurrency(R,"expense"))-Math.abs(this.getTotalByCurrency(R,"profit"))}}};var _sfc_render$I=function(){var F=this,E=F._self._c;return F.currencies.length?E("div",{staticClass:"flexbox justify-end middle wrap space-12"},F._l(F.currencies,function(V){return E("div",{key:V,staticClass:"flexbox middle space-12"},[F._l(F.$_amountMixin_amountTypes,function(U,W){return E("div",{key:W,class:{"text-green":U==="income","text-red":U==="expense","text-blue":U==="profit"},attrs:{title:U==="profit"?F.$t("profit"):U==="income"?F.$t("income"):F.$t("expense")}},[U==="profit"?E("i",{staticClass:"fas fa-coins text-blue small"}):F._e(),E("span",{staticClass:"small semibold"},[F._v(F._s(F.$helper.toCurrency({value:F.getTotalByCurrency(V,U),currencyCode:V,isAbs:!0,prefix:U==="income"?"+ ":U==="expense"?"\u2212 ":" "})))])])}),F.$_amountMixin_amountTypes.includes("profit")?E("div",{attrs:{title:F.$t("delta")}},[E("span",{staticClass:"small semibold gray"},[F._v(" "+F._s(F.$helper.toCurrency({value:F.amountDelta(V),currencyCode:V,isDynamics:!0,prefix:"\u0394\xA0"}))+" ")])]):F._e()],2)}),0):F._e()},_sfc_staticRenderFns$I=[],__component__$I=normalizeComponent(_sfc_main$I,_sfc_render$I,_sfc_staticRenderFns$I,!1,null,null,null,null);const AmountForGroup=__component__$I.exports,TransactionListGroup_vue_vue_type_style_index_0_lang="",listCompactMode=useStorage("list_compact_mode",!0),_sfc_main$H={components:{TransactionListGroupUpcomingPeriod,TransactionListGroupRow,AmountForGroup},props:{group:{type:Array,required:!0},type:{type:String},index:{type:Number},visibleSelectCheckbox:{type:Boolean,default:!1},showFoundedCount:{type:Boolean,default:!1}},data(){return{isHover:!1,\u0441ollapseGroups:{},activeCollapseExternalSourceIDs:[],localStorage:(()=>{try{return JSON.parse(localStorage.getItem("upcoming_transactions_show")||void 0)}catch{return!0}})()}},computed:{compactModeForFutureList(){return this.type==="future"&&listCompactMode.value},isShowChecker(){return this.filteredTransactions.some(R=>this.$store.state.transactionBulk.selectedTransactionsIds.includes(R.id))},isHoverComputed(){return this.$isSpaMobileMode||this.visibleSelectCheckbox||this.isShowChecker?!0:this.isHover},featurePeriod(){return this.$store.state.transaction.featurePeriod},upcomingBlockOpened:{get(){return this.type!=="future"?!0:this.localStorage},set(R){this.localStorage=R,localStorage.setItem("upcoming_transactions_show",R)}},filteredTransactions(){let R=this.group;if(this.type==="future"){const F=this.$moment().add(1,"d").format("YYYY-MM-DD");R=this.group.filter(E=>this.$moment(E.date).diff(F,"days")<this.featurePeriod)}return R}},watch:{filteredTransactions:{handler(R){this.$store.state.transaction.activeGroupTransactions.index===this.index&&this.onStick();const F={};R.filter(E=>E.external_source).forEach(E=>{const V=`${E.category_id}|${E.date}|${E.external_source}`;F[V]?(F[V].ids.push(E.id),F[V].totalAmount+=E.amount):F[V]={ids:[E.id],totalAmount:E.amount}});for(const E in F)F[E].ids.length<2&&delete F[E];this.\u0441ollapseGroups=F},immediate:!0}},mounted(){const R=this,F=ref$1(!0),{top:E}=useElementBounding(this.$refs.el);watch(E,V=>{V<120&&F.value&&(R.onStick(),F.value=!1),V>120&&!F.value&&(R.onStick(),F.value=!0)})},created(){this.index===0&&this.onStick()},methods:{isShown(R){const F=`${R.category_id}|${R.date}|${R.external_source}`;return!this.\u0441ollapseGroups[F]||this.\u0441ollapseGroups[F].ids[0]===R.id?!0:this.activeCollapseExternalSourceIDs.includes(F)},collapseHeaderData(R){const F=`${R.category_id}|${R.date}|${R.external_source}`;return this.isShown(R)&&!this.activeCollapseExternalSourceIDs.includes(F)?this.\u0441ollapseGroups[F]:null},handleCollapseHeaderClick(R){const F=`${R.category_id}|${R.date}|${R.external_source}`,E=this.activeCollapseExternalSourceIDs.indexOf(F);E>-1?this.activeCollapseExternalSourceIDs.splice(E,1):this.activeCollapseExternalSourceIDs.push(F)},checkAll(R){const F=R.map(V=>V.id),E=this.isCheckedAllInGroup(R)?"unselect":"select";this.$store.commit(`transactionBulk/${E}`,F),this.$store.commit("transactionBulk/setLastCheckboxIndex",-1)},isCheckedAllInGroup(R){return R.every(F=>this.$store.state.transactionBulk.selectedTransactionsIds.includes(F.id))},onStick(){this.$store.commit("transaction/setActiveGroupTransactions",{index:this.index,name:this.type,items:this.filteredTransactions})}}};var _sfc_render$H=function(){var F=this,E=F._self._c;return E("div",{staticClass:"c-transaction-section"},[E("div",{ref:"el",on:{mouseover:function(V){F.isHover=!0,F.$refs.pieIcon&&(F.$refs.pieIcon.style.display="block")},mouseleave:function(V){F.isHover=!1,F.$refs.pieIcon&&(F.$refs.pieIcon.style.display="none")}}},[E("div",{staticClass:"c-sticky-header-group",class:{"c-sticky-header-group--offset":F.$store.state.transactionBulk.selectedTransactionsIds.length}},[E("div",{staticClass:"flexbox middle space-12 wrap-mobile justify-between custom-px-8 custom-py-12"},[E("div",{staticClass:"flexbox middle space-12"},[F.$helper.showMultiSelect()?E("div",{class:{"desktop-only":F.$helper.isDesktopEnv},staticStyle:{"min-width":"1rem"}},[E("span",{directives:[{name:"show",rawName:"v-show",value:F.isHoverComputed&&F.filteredTransactions.length,expression:"isHoverComputed && filteredTransactions.length"}],staticClass:"wa-checkbox",on:{click:function(V){return F.checkAll(F.filteredTransactions)}}},[E("input",{attrs:{type:"checkbox"},domProps:{checked:F.isCheckedAllInGroup(F.filteredTransactions)}}),F._m(0)])]):F._e(),F.showFoundedCount?F._e():E("h4",{staticClass:"c-transaction-section__header nowrap"},[F.type==="overdue"?E("div",{staticClass:"black"},[F._v(" "+F._s(F.$t("overdue"))+" ")]):F._e(),F.type==="yesterday"?E("div",{staticClass:"black"},[F._v(" "+F._s(F.$t("yesterday"))+" ")]):F._e(),F.type==="tomorrow"?E("div",{staticClass:"black"},[F._v(" "+F._s(F.$t("tomorrow"))+" ")]):F._e(),F.type==="today"?E("div",{staticClass:"black"},[F._v(" "+F._s(F.$t("today"))+" "),E("span",{staticClass:"hint"},[F._v(" "+F._s(F.$moment.locale()==="ru"?F.$moment().format("D MMMM"):F.$moment().format("MMMM D"))+" ")])]):F._e(),F.type==="future"?E("div",{staticClass:"black flexbox middle space-8",class:{"opacity-50":!F.upcomingBlockOpened},staticStyle:{cursor:"pointer"},on:{click:function(V){F.upcomingBlockOpened=!F.upcomingBlockOpened}}},[E("span",[F._v(F._s(F.$t("nextDays",{count:F.featurePeriod})))])]):F._e(),F.$moment(new Date(F.type)).isValid()?E("div",{staticClass:"black",staticStyle:{"text-transform":"capitalize"}},[F._v(" "+F._s(F.$moment(F.type).format("MMMM YYYY"))+" ")]):F._e()]),F.showFoundedCount?E("div",{staticClass:"gray bold nowrap custom-mr-4"},[F._v(" "+F._s(F.$t("found",{count:F.filteredTransactions.length}))+" ")]):F._e(),F.type==="future"?E("TransactionListGroupUpcomingPeriod",{attrs:{"upcoming-block-opened":F.upcomingBlockOpened},on:{updateUpcomingBlockOpened:V=>F.upcomingBlockOpened=V}}):F._e()],1),E("div",{staticClass:"flexbox middle space-12"},[F.filteredTransactions.length?E("div",{ref:"pieIcon",staticClass:"desktop-only c-pie-icon-helper",staticStyle:{display:"none",cursor:"pointer"},on:{click:F.onStick}},[E("i",{staticClass:"fas fa-chart-pie"})]):F._e(),E("AmountForGroup",{attrs:{group:F.filteredTransactions}})],1)])]),F.upcomingBlockOpened?E("div",[F.filteredTransactions.length?E("ul",{staticClass:"c-list list",class:{"c-list--compact":F.compactModeForFutureList}},F._l(F.compactModeForFutureList?F.filteredTransactions.toReversed():F.filteredTransactions,function(V,U){return E("TransactionListGroupRow",{directives:[{name:"show",rawName:"v-show",value:F.isShown(V),expression:"isShown(transaction)"}],key:V.id,attrs:{transaction:V,"show-checker":F.isShowChecker,"is-compact-mode":F.compactModeForFutureList,"collapse-header-data":F.collapseHeaderData(V),"show-date":U===0?!0:F.filteredTransactions[U].date!==F.filteredTransactions[U-1].date,"visible-select-checkbox":F.visibleSelectCheckbox},on:{toggleCollapseHeader:function(W){return F.handleCollapseHeaderClick(V)}}})}),1):E("div",{staticClass:"align-center small custom-py-24"},[F._v(" "+F._s(F.$t("emptyList"))+" ")])]):F._e()])])},_sfc_staticRenderFns$H=[function(){var R=this,F=R._self._c;return F("span",[F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-check"})])])}],__component__$H=normalizeComponent(_sfc_main$H,_sfc_render$H,_sfc_staticRenderFns$H,!1,null,null,null,null);const TransactionListGroup=__component__$H.exports,_sfc_main$G={props:{lines:{type:Number,default:10}}};var _sfc_render$G=function(){var F=this,E=F._self._c;return E("ul",{staticClass:"c-list list"},F._l(F.lines,function(V){return E("li",{key:V,staticClass:"c-item item"},[E("div",{staticClass:"skeleton custom-px-16-mobile"},[E("div",{staticClass:"flexbox space-12 custom-py-12"},[F.$helper.showMultiSelect()?E("div",{staticStyle:{"min-width":"1rem"}}):F._e(),F._m(0,!0),F._m(1,!0),F._m(2,!0)])])])}),0)},_sfc_staticRenderFns$G=[function(){var R=this,F=R._self._c;return F("div",[F("span",{staticClass:"skeleton-custom-circle size-48"})])},function(){var R=this,F=R._self._c;return F("div",{staticClass:"wide"},[F("span",{staticClass:"skeleton-line custom-mb-4"}),F("span",{staticClass:"skeleton-line custom-mb-4"}),F("span",{staticClass:"skeleton-line custom-mb-0"})])},function(){var R=this,F=R._self._c;return F("div",{staticClass:"width-30"},[F("span",{staticClass:"skeleton-line custom-mb-4"}),F("span",{staticClass:"skeleton-line custom-mb-0"})])}],__component__$G=normalizeComponent(_sfc_main$G,_sfc_render$G,_sfc_staticRenderFns$G,!1,null,null,null,null);const SkeletonTransaction=__component__$G.exports,_sfc_main$F={components:{SkeletonTransaction},mounted(){this.observer=new IntersectionObserver(([R])=>{R&&R.isIntersecting&&this.$emit("callback")}),this.observer.observe(this.$el)},beforeDestroy(){this.observer.disconnect()}};var _sfc_render$F=function(){var F=this,E=F._self._c;return E("SkeletonTransaction",{attrs:{lines:1}})},_sfc_staticRenderFns$F=[],__component__$F=normalizeComponent(_sfc_main$F,_sfc_render$F,_sfc_staticRenderFns$F,!1,null,null,null,null);const Observer=__component__$F.exports,_sfc_main$E={components:{TransactionListCreated,TransactionListGroup,SkeletonTransaction,Observer},props:{grouping:{type:Boolean,default:!0},observer:{type:Boolean,default:!0},upnext:{type:Boolean,default:!1},showOverdueGroup:{type:Boolean,default:!1},showFutureGroup:{type:Boolean,default:!0},showTodayGroup:{type:Boolean,default:!0},showYesterdayGroup:{type:Boolean,default:!1},showTomorrowGroup:{type:Boolean,default:!1},visibleSelectCheckbox:{type:Boolean,default:!1},showFoundedCount:{type:Boolean,default:!1}},computed:{...mapState("transaction",["transactions","detailsInterval"]),transactionsWithoutJustCreated(){return this.$store.getters["transaction/getTransactionsWithoutJustCreated"]},activeCurrencyCode(){return this.$store.getters["transaction/activeCurrencyCode"]},transactionsByCurrency(){return this.activeCurrencyCode?this.transactionsWithoutJustCreated.filter(R=>this.$store.getters["account/accountsByCurrencyCode"](this.activeCurrencyCode).includes(R.account_id)):this.transactionsWithoutJustCreated},groups(){const R=this.$helper.currentDate,F=this.$moment().add(-1,"day").format("YYYY-MM-DD"),E=this.$moment().add(1,"day").format("YYYY-MM-DD"),V=[],U=(W,Y,G=!1)=>{const X=V.find(K=>K.name===W);X?G?X.items.unshift(Y):X.items.push(Y):V.push({name:W,items:[Y]})};return this.showFutureGroupComputed&&V.push({name:"future",items:[]}),this.showTomorrowGroup&&V.push({name:"tomorrow",items:[]}),this.showTodayGroupComputed&&V.push({name:"today",items:[]}),this.showYesterdayGroup&&V.push({name:"yesterday",items:[]}),this.upnext&&V.reverse(),this.showOverdueGroup&&this.transactionsByCurrency.some(W=>W.date<R&&W.is_onbadge)&&V.unshift({name:"overdue",items:[]}),this.transactionsByCurrency.forEach(W=>{if(!this.grouping)return U("ungroup",W);if(W.date<R&&W.is_onbadge&&this.showOverdueGroup)return U("overdue",W);if(W.date===E&&this.showTomorrowGroup)return U("tomorrow",W);if(W.date>R&&this.showFutureGroupComputed)return U("future",W,this.upnext);if(W.date===R&&this.showTodayGroupComputed)return U("today",W);if(W.date===F&&this.showYesterdayGroup)return U("yesterday",W);this.upnext||U(this.$moment(W.date).format("YYYY-MM"),W)}),V},showFutureGroupComputed(){return!this.detailsInterval.from&&!this.detailsInterval.to?this.showFutureGroup:!1},showTodayGroupComputed(){return!this.detailsInterval.from&&!this.detailsInterval.to?this.showTodayGroup:!1}},methods:{observerCallback(){this.$store.dispatch("transaction/fetchTransactions",{offset:this.transactions.data.length})}}};var _sfc_render$E=function(){var F=this,E=F._self._c;return E("div",[F.$store.state.transaction.loading?E("div",[E("SkeletonTransaction")],1):E("div",[E("TransactionListCreated"),F._l(F.groups,function(V,U){return E("div",{key:V.name},[E("TransactionListGroup",{attrs:{group:V.items,type:V.name,index:U,"visible-select-checkbox":F.visibleSelectCheckbox,"show-founded-count":F.showFoundedCount}})],1)}),F.observer&&F.transactions.data.length<F.transactions.total?E("Observer",{on:{callback:F.observerCallback}}):F._e()],2)])},_sfc_staticRenderFns$E=[],__component__$E=normalizeComponent(_sfc_main$E,_sfc_render$E,_sfc_staticRenderFns$E,!1,null,null,null,null);const TransactionList=__component__$E.exports,AmChartPie_vue_vue_type_style_index_0_lang="";addLicense("CH269543621");const _sfc_main$D={props:["rawData","label","isCounterMode","totalTransactions","currencyCode"],computed:{featurePeriod(){return this.$store.state.transaction.featurePeriod},futureLabelText(){return this.featurePeriod===1?this.$t("tomorrow"):this.$t("nextDays",{count:this.featurePeriod})},currencySignByCode(){return this.$helper.currencySignByCode(this.currencyCode)}},mounted(){const R=create$1(this.$refs.chart,PieChart);locale$6==="ru_RU"&&(R.language.locale=am4langRU),R.innerRadius=percent(90);const F=R.seriesContainer.createChild(Label);F.textAlign="middle",F.horizontalCenter="middle",F.dy=-40,this.pieLabel=F;const E=R.series.push(new PieSeries);E.dataFields.value="amount",E.dataFields.category="category",E.labels.template.disabled=!0,E.interpolationDuration=500,E.tooltip.background.filters.clear(),E.tooltip.background.strokeWidth=0,E.tooltip.label.fontSize=13,E.tooltip.animationDuration=500,E.slices.template.propertyFields.fill="category_color",E.slices.template.states.getKey("hover").properties.scale=1,E.slices.template.states.getKey("active").properties.shiftRadius=0,R.data=this.$store.state.category.categories.map(V=>({id:V.id,amount:0,category:V.name,category_color:V.color})),R.data.push({id:null,amount:0,category:"empty",category_color:"rgba(128, 128, 128, 0.2)"}),this.chart=R,this.$watch("$props",()=>{this.renderChart()},{deep:!0,immediate:!0})},beforeDestroy(){this.chart&&this.chart.dispose()},methods:{renderChart(){if(this.pieLabel.html='<div class="black">',this.isCounterMode?this.pieLabel.html+=`<div class="large">${this.$t("selected",{count:this.label})}</div>`:(this.pieLabel.html+=`<div class="larger custom-mb-4">${this.currencySignByCode}</div>`,this.label==="future"?this.pieLabel.html+=`<div>${this.futureLabelText}</div>`:this.pieLabel.html+=this.$moment(new Date(this.label)).isValid()?`<div style="text-transform:capitalize;">${this.$moment(this.label).format("MMMM YYYY")}</div>`:`<div>${this.$t(this.label)}</div>`,this.pieLabel.html+=`<div class="hint custom-mt-8">${this.$t("transactionsListCount",{count:this.totalTransactions})}</div>`),this.pieLabel.html+="</div>",!this.rawData.length){this.chart.series.getIndex(0).slices.template.tooltipText=this.$t("emptyList"),this.chart.data.forEach(R=>{R.amount=R.category==="empty"?100:0}),this.chart.invalidateRawData();return}this.chart.series.getIndex(0).slices.template.tooltipText=`{category}: {value.formatNumber('#,###.##')} ${this.currencySignByCode}`,this.chart.data.forEach(R=>{const F=this.rawData.findIndex(E=>E.id===R.id);R.amount=F>-1?this.rawData[F].amount:0}),this.chart.invalidateRawData()}}};var _sfc_render$D=function(){var F=this,E=F._self._c;return E("div",{ref:"chart",staticClass:"c-chart-pie-sticky"})},_sfc_staticRenderFns$D=[],__component__$D=normalizeComponent(_sfc_main$D,_sfc_render$D,_sfc_staticRenderFns$D,!1,null,null,null,null);const AmChartPie=__component__$D.exports,transactionActionsMixin={methods:{$_transactionActionsMixin_bulkDelete(){confirm(this.$t("bulkDeleteWarning"))&&this.$store.dispatch("transactionBulk/bulkDelete")},$_transactionActionsMixin_emptySelected(){this.$store.commit("transactionBulk/emptySelectedTransactionsIds")}}},ButtonRound_vue_vue_type_style_index_0_scoped_3f351216_lang="",_sfc_main$C={props:["icon","tooltip"]};var _sfc_render$C=function(){var F=this,E=F._self._c;return E("button",{staticClass:"button rounded",attrs:{"aria-label":F.tooltip,"data-microtip-position":"top",role:"tooltip"}},[E("i",{class:`fas ${F.icon}`})])},_sfc_staticRenderFns$C=[],__component__$C=normalizeComponent(_sfc_main$C,_sfc_render$C,_sfc_staticRenderFns$C,!1,null,"3f351216",null,null);const ButtonRound=__component__$C.exports,_sfc_main$B={components:{ButtonRound},methods:{restore(){this.$store.dispatch("transactionBulk/restore")},purge(){confirm(this.$t("bulkPurgeWarning"))&&this.$store.dispatch("transactionBulk/purge")}}};var _sfc_render$B=function(){var F=this,E=F._self._c;return E("div",{staticClass:"flexbox space-16",staticStyle:{"justify-content":"center"}},[E("ButtonRound",{attrs:{icon:"fa-trash-restore-alt",tooltip:F.$t("restore")},nativeOn:{click:function(V){return F.restore.apply(null,arguments)}}}),E("ButtonRound",{staticClass:"red",attrs:{icon:"fa-trash-alt",tooltip:F.$t("purge")},nativeOn:{click:function(V){return F.purge.apply(null,arguments)}}})],1)},_sfc_staticRenderFns$B=[],__component__$B=normalizeComponent(_sfc_main$B,_sfc_render$B,_sfc_staticRenderFns$B,!1,null,null,null,null);const AmChartBulkControlsArchive=__component__$B.exports,_sfc_main$A={components:{InputContractor,DropdownWa},mixins:[rowModificatorMixin],data(){return{model:{account_id:0,category_id:0,contractor_contact_id:null},controlsDisabled:!1}},computed:{...mapState("account",["accounts"]),ids(){return this.$store.state.transactionBulk.selectedTransactionsIds}},methods:{submit(){this.controlsDisabled=!0,this.$store.dispatch("transactionBulk/bulkMove",{ids:this.ids,...this.model}).then(()=>{this.close()}).finally(()=>{this.controlsDisabled=!1})},close(){this.$parent.$emit("close")}}};var _sfc_render$A=function(){var F=this,E=F._self._c;return E("div",{staticClass:"dialog-body",staticStyle:{overflow:"initial"}},[E("div",{staticClass:"dialog-header"},[E("h2",[F._v(F._s(F.$t("moveTransactions",{count:F.ids.length})))])]),E("div",{staticClass:"dialog-content",staticStyle:{overflow:"initial"}},[E("div",{staticClass:"fields"},[E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("account"))+" ")]),E("div",{staticClass:"value"},[E("DropdownWa",{staticClass:"width-100",attrs:{items:[{id:0,name:F.$t("dontChange")},...F.accounts],"use-default-value":!1,"value-prop-name":"id","row-modificator":F.$_rowModificatorMixin_rowModificator_account,"max-height":200},model:{value:F.model.account_id,callback:function(V){F.$set(F.model,"account_id",V)},expression:"model.account_id"}})],1)]),E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("category"))+" ")]),E("div",{staticClass:"value"},[E("DropdownWa",{staticClass:"width-100",attrs:{items:[[{id:0,name:F.$t("dontChange")}],F.$store.getters["category/getByType"]("income"),F.$store.getters["category/getByType"]("expense")],"groups-labels":["",F.$t("income"),F.$t("expense")],"use-default-value":!1,"value-prop-name":"id","row-modificator":F.$_rowModificatorMixin_rowModificator_category,"max-height":200},model:{value:F.model.category_id,callback:function(V){F.$set(F.model,"category_id",V)},expression:"model.category_id"}})],1)]),E("div",{staticClass:"field"},[E("div",{staticClass:"name for-input"},[F._v(" "+F._s(F.$t("contractor"))+" ")]),E("div",{staticClass:"value"},[E("InputContractor",{attrs:{"create-new-contractor":!1},on:{changeContractor:V=>{F.model.contractor_contact_id=V}}})],1)]),E("div",{staticClass:"field"},[E("div",{staticClass:"name"}),E("div",{staticClass:"value"},[E("p",{staticClass:"hint"},[E("i",{staticClass:"fas fa-exclamation-triangle",staticStyle:{color:"orangered"}}),F._v(" "+F._s(F.$t("bulkMoveWarning"))+" ")])])])])]),E("div",{staticClass:"dialog-footer"},[E("div",{staticClass:"flexbox"},[E("div",{staticClass:"flexbox space-12 wide"},[E("button",{staticClass:"button purple",attrs:{disabled:F.controlsDisabled},on:{click:F.submit}},[F._v(" "+F._s(F.$t("updateTransactions",{count:F.ids.length}))+" ")]),E("button",{staticClass:"button light-gray",on:{click:F.close}},[F._v(" "+F._s(F.$t("cancel"))+" ")])])])])])},_sfc_staticRenderFns$A=[],__component__$A=normalizeComponent(_sfc_main$A,_sfc_render$A,_sfc_staticRenderFns$A,!1,null,null,null,null);const TransactionMove=__component__$A.exports,_sfc_main$z={components:{Modal:Modal$1,TransactionMove,ButtonRound},mixins:[transactionActionsMixin],data(){return{openMove:!1}}};var _sfc_render$z=function(){var F=this,E=F._self._c;return E("div",{staticClass:"flexbox space-16",staticStyle:{"justify-content":"center"}},[E("ButtonRound",{attrs:{icon:"fa-arrow-right",tooltip:F.$t("move")},nativeOn:{click:function(V){F.openMove=!0}}}),E("ButtonRound",{staticClass:"red",attrs:{icon:"fa-trash-alt",tooltip:F.$t("delete")},nativeOn:{click:function(V){return F.$_transactionActionsMixin_bulkDelete.apply(null,arguments)}}}),E("portal",[F.openMove?E("Modal",{on:{close:function(V){F.openMove=!1}}},[E("TransactionMove")],1):F._e()],1)],1)},_sfc_staticRenderFns$z=[],__component__$z=normalizeComponent(_sfc_main$z,_sfc_render$z,_sfc_staticRenderFns$z,!1,null,null,null,null);const AmChartBulkControlsRegular=__component__$z.exports,_sfc_main$y={components:{AmChartBulkControlsArchive,AmChartBulkControlsRegular},mixins:[transactionActionsMixin],inject:{archive:{default:!1}}};var _sfc_render$y=function(){var F=this,E=F._self._c;return E("div",{staticClass:"flexbox vertical"},[E("div",{staticClass:"custom-mb-8"},[F.archive?E("AmChartBulkControlsArchive"):E("AmChartBulkControlsRegular")],1),E("button",{staticClass:"button nobutton small",on:{click:F.$_transactionActionsMixin_emptySelected}},[F._v(" "+F._s(F.$t("unselectAll"))+" ")])])},_sfc_staticRenderFns$y=[],__component__$y=normalizeComponent(_sfc_main$y,_sfc_render$y,_sfc_staticRenderFns$y,!1,null,null,null,null);const AmChartBulkControls=__component__$y.exports,AmChartPieSticky_vue_vue_type_style_index_0_lang="",_sfc_main$x={components:{AmChartPie,AmChartLegend,AmChartBulkControls},computed:{...mapState("transaction",["transactions","activeGroupTransactions","chartData","chartDataCurrencyIndex"]),...mapState("transactionBulk",["selectedTransactionsIds"]),isCounterMode(){return!!this.selectedTransactionsIds.length},currencyCode(){return this.chartData.length?this.chartData[this.chartDataCurrencyIndex].currency:this.$store.getters["account/getById"](this.transactions.data[0].account_id).currency},totalTransactions(){return this.activeGroupTransactions.items.filter(R=>this.$store.getters["account/getById"](R.account_id).currency===this.currencyCode).length},rawDataByCurrency(){return this.rawData.filter(R=>R.currency===this.currencyCode)},rawData(){const R=this.isCounterMode?{items:this.selectedTransactionsIds}:this.activeGroupTransactions;return Object.values(R.items.reduce((F,E)=>{const V=this.$store.getters["transaction/getTransactionById"](E)||E,U=this.$store.getters["category/getById"](V.category_id),W=this.$store.getters["account/getById"](V.account_id);return F[U.id]?F[U.id].amount+=V.amount:F[U.id]={id:U.id,date:V.date,amount:V.amount,currency:W.currency,category_name:U.name,category_color:U.color},F},{}))}}};var _sfc_render$x=function(){var F=this,E=F._self._c;return E("div",[E("div",{staticStyle:{position:"relative"}},[E("AmChartPie",{attrs:{"raw-data":F.isCounterMode?F.rawData:F.rawDataByCurrency,"is-counter-mode":F.isCounterMode,"total-transactions":F.totalTransactions,label:F.isCounterMode?F.selectedTransactionsIds.length:F.activeGroupTransactions.name,"currency-code":F.currencyCode}}),F.$store.state.transactionBulk.selectedTransactionsIds.length?E("AmChartBulkControls",{staticClass:"c-chart-bulk-controls"}):F._e()],1),E("AmChartLegend",{staticClass:"custom-mx-20",attrs:{"legend-items":F.rawDataByCurrency,"currency-code":F.currencyCode}})],1)},_sfc_staticRenderFns$x=[],__component__$x=normalizeComponent(_sfc_main$x,_sfc_render$x,_sfc_staticRenderFns$x,!1,null,null,null,null);const AmChartPieSticky=__component__$x.exports,AmChartPieStickyContainer_vue_vue_type_style_index_0_lang="",_sfc_main$w={components:{AmChartPieSticky},props:{selectedOnlyMode:{type:Boolean,default:!1}}};var _sfc_render$w=function(){var F=this,E=F._self._c;return F.$helper.isDesktopEnv?E("div",{staticClass:"c-chart-pie-sticky-container",attrs:{"sticky-container":""}},[E("div",{directives:[{name:"sticky",rawName:"v-sticky"}],attrs:{"sticky-offset":"{top: 80}","sticky-z-index":"12"}},[E("div",{staticClass:"c-chart-pie-sticky-container__inner"},[F.$store.state.transaction.transactions.data.length&&(F.selectedOnlyMode?F.$store.state.transactionBulk.selectedTransactionsIds.length:!0)?E("AmChartPieSticky"):F._e()],1)])]):F._e()},_sfc_staticRenderFns$w=[],__component__$w=normalizeComponent(_sfc_main$w,_sfc_render$w,_sfc_staticRenderFns$w,!1,null,null,null,null);const AmChartPieStickyContainer=__component__$w.exports,routerTransitionMixin={beforeRouteUpdate(R,F,E){this.clearDefaultGroupTransactions(),E()},beforeRouteLeave(R,F,E){this.clearDefaultGroupTransactions(),E()},methods:{clearDefaultGroupTransactions(){this.$store.commit("transactionBulk/emptySelectedTransactionsIds"),this.$store.commit("transaction/setDetailsInterval",{from:"",to:""})}}};/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function useRouter(){return getCurrentInstance().proxy.$root.$router}function useRoute(){var R=getCurrentInstance().proxy.$root;if(!R._$route){var F=effectScope(!0).run(function(){return shallowReactive(Object.assign({},R.$router.currentRoute))});R._$route=F,R.$router.afterEach(function(E){Object.assign(F,E)})}return R._$route}const _sfc_main$v={__name:"AlertImported",setup(R){const F=useRouter(),E=useRoute(),V=ref$1(!1);return onMounted(()=>{var U;if(F.currentRoute.query.show_ss_import_hint){E.name==="Account"&&((U=store.getters["account/getById"](+E.params.id))==null?void 0:U.stat.summary)&&(V.value=!0);const W={...F.currentRoute.query};delete W.show_ss_import_hint,F.replace({query:W}),watch(()=>E.fullPath,()=>{V.value=!1})}}),{__sfc:!0,router:F,route:E,show:V,onMounted,ref:ref$1,watch,useRouter,useRoute,store}}};var _sfc_render$v=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",{staticClass:"custom-m-12 custom-ml-32 custom-ml-12-mobile",staticStyle:{"max-width":"1000px"}},[V.show?E("div",{staticClass:"alert success small"},[E("div",{staticClass:"flexbox space-16 full-width"},[E("div",[F.$i18n.locale==="ru_RU"?[F._m(0),F._m(1)]:[F._m(2),F._m(3)]],2),E("div",[E("a",{staticClass:"alert-close",on:{click:function(U){U.preventDefault(),V.show=!1}}},[E("i",{staticClass:"fas fa-times"})])])])]):F._e()])},_sfc_staticRenderFns$v=[function(){var R=this,F=R._self._c;return R._self._setupProxy,F("p",[R._v(" \u0421\u0442\u043E\u043B\u044C\u043A\u043E \u043D\u0430\u043B\u0438\u0447\u043D\u044B\u0445 "),F("i",[R._v("\u0431\u044B\u043B\u043E \u0431\u044B")]),R._v(" \u0432 \u043A\u0430\u0441\u0441\u0435 \u043F\u0440\u044F\u043C\u043E \u0441\u0435\u0439\u0447\u0430\u0441, \u0435\u0441\u043B\u0438 \u0431\u044B \u0443 \u0431\u0438\u0437\u043D\u0435\u0441\u0430 \u0431\u044B\u043B\u0438 \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043E\u0445\u043E\u0434\u044B (\u043F\u0440\u043E\u0434\u0430\u0436\u0438) \u0438 \u043D\u0438\u043A\u0430\u043A\u0438\u0445 \u0440\u0430\u0441\u0445\u043E\u0434\u043E\u0432, \u0442\u0430\u043A\u0438\u0445 \u043A\u0430\u043A \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u044B, \u0430\u0440\u0435\u043D\u0434\u0430, \u043C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433, \u0434\u0438\u0432\u0438\u0434\u0435\u043D\u0434\u044B \u0438 \u0442\u0430\u043A \u0434\u0430\u043B\u0435\u0435. ")])},function(){var R=this,F=R._self._c;return R._self._setupProxy,F("p",[F("strong",[R._v("\u0422\u0435\u043F\u0435\u0440\u044C \u0434\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u0432\u0440\u0443\u0447\u043D\u0443\u044E \u0438\u043B\u0438 \u0438\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0440\u0430\u0441\u0445\u043E\u0434\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438")]),R._v(", \u0438 \u0442\u043E\u0433\u0434\u0430 \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u0430\u044F \u043C\u043E\u0434\u0435\u043B\u044C \u0431\u0438\u0437\u043D\u0435\u0441\u0430 \u0438 \u043F\u0440\u043E\u0433\u043D\u043E\u0437 \u0431\u0443\u0434\u0443\u0442 \u043F\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u044B \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438. ")])},function(){var R=this,F=R._self._c;return R._self._setupProxy,F("p",[R._v(" This is how much cash you "),F("i",[R._v("would")]),R._v(" have on hand right now if there were only sales (income), but no business expenses such as salaries, office rent, marketing, purchase & supplies, dividends, and so on. ")])},function(){var R=this,F=R._self._c;return R._self._setupProxy,F("p",[F("strong",[R._v("Add manually or import your historical expenses now")]),R._v(" to get your real cash on hand forecast. Both income & expense transactions together will show you the real picture on how your business finances work. ")])}],__component__$v=normalizeComponent(_sfc_main$v,_sfc_render$v,_sfc_staticRenderFns$v,!1,null,null,null,null);const AlertImported=__component__$v.exports,AddTransactionBulk_vue_vue_type_style_index_0_scoped_fb052329_lang="",_sfc_main$u={components:{InputCurrency,DateField,DropdownWa},mixins:[rowModificatorMixin,entityPageMixin],data(){return{model:{amount:null,category_id:null,account_id:null,date:null},data:[],controlsDisabled:!0}},validations:{data:{$each:{amount:{minLength:validators_min.exports.minLength(1)},category_id:{required:validators_min.exports.requiredIf(R=>R.amount)},account_id:{required:validators_min.exports.requiredIf(R=>R.amount)},date:{required:validators_min.exports.requiredIf(R=>R.amount)}}}},computed:{accounts(){return this.$store.state.account.accounts}},watch:{data:{handler(R){this.controlsDisabled=!R.filter(F=>F.amount).length},deep:!0}},created(){const R=this.$store.state.currentType;(R==="account"||R==="category")&&(this.model[`${R}_id`]=this.$store.state.currentTypeId),this.accounts.length===1&&(this.model.account_id=this.accounts[0].id),this.data=new Array(5).fill(null).map(()=>({...this.model}))},methods:{submit(){if(this.$v.$touch(),!this.$v.$invalid){this.controlsDisabled=!0;const R=this.data.filter(F=>F.amount);this.$store.dispatch("transactionBulk/bulkCreate",R).then(()=>{this.$parent.$emit("close")}).finally(()=>{this.controlsDisabled=!1})}}}};var _sfc_render$u=function(){var F=this,E=F._self._c;return E("div",{staticClass:"dialog-body",staticStyle:{width:"700px"}},[E("div",{staticClass:"dialog-header"},[E("h2",{staticClass:"custom-mb-0"},[F._v(" "+F._s(F.$t("addMany"))+" ")])]),E("div",{staticClass:"dialog-content"},[F._l(F.data,function(V,U){return E("div",{key:U,staticClass:"flexbox middle custom-mb-12 space-8"},[E("div",{staticClass:"state-with-inner-icon left width-25"},[E("DateField",{class:{"state-error":F.$v.data.$each[U].date.$error},model:{value:V.date,callback:function(W){F.$set(V,"date",W)},expression:"row.date"}}),F._m(0,!0)],1),E("div",{staticClass:"width-25"},[E("DropdownWa",{staticClass:"width-100",attrs:{items:[F.$store.getters["category/getByType"]("income"),F.$store.getters["category/getByType"]("expense")],"groups-labels":[F.$t("income"),F.$t("expense")],"value-prop-name":"id",error:F.$v.data.$each[U].category_id.$error,"row-modificator":F.$_rowModificatorMixin_rowModificator_category,"max-height":200},model:{value:V.category_id,callback:function(W){F.$set(V,"category_id",W)},expression:"row.category_id"}})],1),E("div",{staticClass:"width-25"},[E("DropdownWa",{staticClass:"width-100",attrs:{items:F.$store.state.account.accounts,"value-prop-name":"id",error:F.$v.data.$each[U].account_id.$error,"row-modificator":F.$_rowModificatorMixin_rowModificator_account,"max-height":200},model:{value:V.account_id,callback:function(W){F.$set(V,"account_id",W)},expression:"row.account_id"}})],1),E("div",{staticClass:"width-25"},[E("input-currency",{attrs:{signed:!1,"category-id":V.category_id,"account-id":V.account_id,error:F.$v.data.$each[U].amount.$error,placeholder:"0"},model:{value:V.amount,callback:function(W){F.$set(V,"amount",W)},expression:"row.amount"}})],1),F.data.length>1?E("div",[E("a",{on:{click:function(W){return W.preventDefault(),F.data.splice(U,1)}}},[E("i",{staticClass:"fas fa-times-circle text-light-gray"})])]):F._e()])}),E("div",{staticClass:"align-right"},[E("a",{staticClass:"small",on:{click:function(V){return V.preventDefault(),F.data.push({...F.model})}}},[F._v(F._s(F.$t("addmore")))])])],2),E("div",{staticClass:"dialog-footer"},[E("div",{staticClass:"flexbox"},[E("div",{staticClass:"flexbox space-12 wide"},[E("button",{staticClass:"button",attrs:{disabled:F.controlsDisabled},on:{click:F.submit}},[F._v(" "+F._s(F.$t("add"))+" ")]),E("button",{staticClass:"button light-gray",on:{click:function(V){return F.$parent.$emit("close")}}},[F._v(" "+F._s(F.$t("cancel"))+" ")])])])])])},_sfc_staticRenderFns$u=[function(){var R=this,F=R._self._c;return F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-calendar"})])}],__component__$u=normalizeComponent(_sfc_main$u,_sfc_render$u,_sfc_staticRenderFns$u,!1,null,"fb052329",null,null);const AddTransactionBulk=__component__$u.exports,TransactionControls_vue_vue_type_style_index_0_lang="",_sfc_main$t={components:{Modal:Modal$1,AddTransactionBulk,TransactionMove},props:{direction:{type:String},multiselectView:{type:Boolean,default:!0},defaultDate:{type:String}},data(){return{openMove:!1,openAddBulk:!1}},computed:{...mapGetters({currentType:"getCurrentType"}),checkedRows(){return this.$store.state.transactionBulk.selectedTransactionsIds}},watch:{async $route(R){await this.$nextTick();const F=this.$refs.controlButtons.querySelector("button");F&&(F.classList.remove("pulsar"),R.params.isFirtsTimeNavigate&&setTimeout(()=>{F.classList.add("pulsar")},1500))}},mounted(){const R=this.$route.query.addtransaction;["income","expense"].includes(R)&&this.addTransaction(R)},methods:{addTransaction(R){this.$eventBus.emit("openAddTransactionModal",{type:R,defaultDate:this.defaultDate})},bulkDelete(){confirm(this.$t("bulkDeleteWarning"))&&this.$store.dispatch("transactionBulk/bulkDelete")},unselectAll(){this.$store.commit("transactionBulk/emptySelectedTransactionsIds")},async reOpen(){this.open=!1,await this.$nextTick(),this.open=!0}}};var _sfc_render$t=function(){var F=this,E=F._self._c;return E("div",{staticClass:"c-transaction-controls-sticky",class:{"desktop-and-tablet-only":F.$helper.isDesktopEnv}},[E("div",{staticClass:"c-transaction-controls custom-pl-32 custom-pl-12-mobile",staticStyle:{"overflow-x":"auto"}},[F.checkedRows.length&&F.multiselectView?E("div",{staticClass:"c-transaction-controls-check flexbox middle",class:F.direction==="column"&&"vertical"},[E("button",{staticClass:"button blue nowrap",class:F.direction==="column"&&"custom-mb-12",on:{click:function(V){F.openMove=!0}}},[E("i",{staticClass:"fas fa-coins"}),F._v(" "+F._s(F.$t("move"))+" ("+F._s(F.checkedRows.length)+") ")]),E("button",{staticClass:"button red nowrap",class:F.direction==="column"&&"custom-mb-12",on:{click:F.bulkDelete}},[E("i",{staticClass:"fas fa-trash-alt"}),F._v(" "+F._s(F.$t("delete"))+" ("+F._s(F.checkedRows.length)+") ")]),E("button",{staticClass:"button nobutton smaller nowrap",on:{click:F.unselectAll}},[F._v(" "+F._s(F.$t("unselectAll"))+" ")])]):F._e(),F.$helper.isDesktopEnv&&F.currentType?E("div",{ref:"controlButtons",staticClass:"flexbox wrap space-12 middle"},[E("div",{directives:[{name:"show",rawName:"v-show",value:F.currentType.type!=="expense",expression:"currentType.type !== 'expense'"}]},[E("button",{staticClass:"button c-button-add-income nowrap",on:{click:function(V){return F.addTransaction("income")}}},[E("i",{staticClass:"fas fa-plus"}),E("span",{staticClass:"custom-ml-8"},[F._v(F._s(F.$t("addIncome")))])])]),E("div",{directives:[{name:"show",rawName:"v-show",value:F.currentType.type!=="income",expression:"currentType.type !== 'income'"}]},[E("button",{staticClass:"button c-button-add-expense nowrap",on:{click:function(V){return F.addTransaction("expense")}}},[E("i",{staticClass:"fas fa-minus"}),E("span",{staticClass:"custom-ml-8"},[F._v(F._s(F.$t("addExpense")))])])]),F.currentType.type!=="expense"&&F.currentType.type!=="income"&&F.$permissions.canAccessTransfers&&F.$store.state.account.accounts.length>1?E("div",[E("button",{staticClass:"button light-gray nowrap",on:{click:function(V){return F.addTransaction("transfer")}}},[E("span",[E("i",{staticClass:"fas fa-exchange-alt"}),E("span",{staticClass:"desktop-only custom-ml-8"},[F._v(F._s(F.$t("transfer")))])])])]):F._e(),E("div",[E("button",{staticClass:"button nobutton gray nowrap",on:{click:function(V){F.openAddBulk=!0}}},[E("span",[E("i",{staticClass:"fas fa-list-ul"}),E("span",{staticClass:"desktop-only custom-ml-8 black"},[F._v(F._s(F.$t("addMany")))])])])])]):F._e(),E("portal",[F.openMove?E("Modal",{on:{close:function(V){F.openMove=!1}}},[E("TransactionMove")],1):F._e()],1),E("portal",[F.openAddBulk?E("Modal",{on:{close:function(V){F.openAddBulk=!1}}},[E("AddTransactionBulk")],1):F._e()],1)],1)])},_sfc_staticRenderFns$t=[],__component__$t=normalizeComponent(_sfc_main$t,_sfc_render$t,_sfc_staticRenderFns$t,!1,null,null,null,null);const TransactionControls=__component__$t.exports,_sfc_main$s={components:{CashGapMessage,ChartHeader,ChartHeaderControls,ChartHeaderTitle,AmChartContainer,DetailsDashboard,TransactionList,AmChartPieStickyContainer,AlertImported,TransactionControls},mixins:[routerTransitionMixin],beforeRouteEnter(R,F,E){E(V=>{V.updateEntity(R)})},beforeRouteUpdate(R,F,E){this.updateEntity(R),E()},beforeRouteLeave(R,F,E){this.$store.commit("setCurrentEntity",{name:"",id:null}),E()},methods:{async updateEntity(R){const F=R.name.toLowerCase(),E=+R.params.id||R.params.id;if(F!=="home"){if(F==="currency"){if(!this.$store.getters["account/currenciesInAccounts"].includes(E)){this.$router.replace({name:"NotFound"});return}}else if(!this.$store.getters[`${F}/getById`](E)){this.$router.replace({name:"NotFound"});return}}await this.$store.dispatch("updateCurrentEntity",{name:F,id:E});const V=this.$store.getters.getCurrentType;let U="";switch(R.name){case"Home":U=this.$store.state.currentTypeId;break;case"Account":case"Category":U=V.name;break;case"Currency":U=R.params.id;break}document.title=`${U} \u2014 ${this.$helper.accountName}`,this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().add(1,"M").format("YYYY-MM-DD"),offset:0})}}};var _sfc_render$s=function(){var F=this,E=F._self._c;return E("div",[E("CashGapMessage"),E("ChartHeader",{scopedSlots:F._u([{key:"title",fn:function(){return[E("ChartHeaderTitle")]},proxy:!0},{key:"controls",fn:function(){return[E("ChartHeaderControls")]},proxy:!0}])}),E("TransactionControls"),E("AlertImported"),E("AmChartContainer"),E("DetailsDashboard"),E("div",{staticClass:"flexbox"},[E("div",{staticClass:"wide"},[E("TransactionList",{attrs:{"show-tomorrow-group":!0,"show-yesterday-group":!0}})],1),E("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$s=[],__component__$s=normalizeComponent(_sfc_main$s,_sfc_render$s,_sfc_staticRenderFns$s,!1,null,null,null,null);const Home=__component__$s.exports,_sfc_main$r={components:{ChartHeader,TransactionList,AmChartPieStickyContainer,TransactionControls},mixins:[routerTransitionMixin],mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().add(-1,"d").format("YYYY-MM-DD"),offset:0,filter:""})}};var _sfc_render$r=function(){var F=this,E=F._self._c;return E("div",[E("ChartHeader",{scopedSlots:F._u([{key:"title",fn:function(){return[E("h1",{},[F._v(" "+F._s(F.$t("history"))+" ")])]},proxy:!0}])}),E("TransactionControls"),E("div",{staticClass:"flexbox"},[E("div",{staticClass:"wide"},[E("TransactionList",{attrs:{"show-today-group":!1,"show-future-group":!1,"show-yesterday-group":!0}})],1),E("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$r=[],__component__$r=normalizeComponent(_sfc_main$r,_sfc_render$r,_sfc_staticRenderFns$r,!1,null,null,null,null);const History=__component__$r.exports,_sfc_main$q={components:{ChartHeader,TransactionList,AmChartPieStickyContainer,TransactionControls},mixins:[routerTransitionMixin],mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().add(1,"M").format("YYYY-MM-DD"),offset:0,filter:""})}};var _sfc_render$q=function(){var F=this,E=F._self._c;return E("div",[E("ChartHeader",{scopedSlots:F._u([{key:"title",fn:function(){return[E("h1",{},[F._v(" "+F._s(F.$t("allTransactions"))+" ")])]},proxy:!0}])}),E("TransactionControls"),E("div",{staticClass:"flexbox"},[E("div",{staticClass:"wide"},[E("TransactionList",{attrs:{"show-yesterday-group":!0,"show-overdue-group":!0,"show-tomorrow-group":!0}})],1),E("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$q=[],__component__$q=normalizeComponent(_sfc_main$q,_sfc_render$q,_sfc_staticRenderFns$q,!1,null,null,null,null);const Transactions=__component__$q.exports,_sfc_main$p={components:{ChartHeader,TransactionList,AmChartPieStickyContainer,TransactionControls},mixins:[routerTransitionMixin],mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:this.$route.params.date,to:this.$route.params.date,offset:0,filter:""})}};var _sfc_render$p=function(){var F=this,E=F._self._c;return E("div",[E("ChartHeader",{scopedSlots:F._u([{key:"title",fn:function(){return[E("h1",{staticClass:"flexbox space-8"},[E("a",{staticClass:"mobile-only",on:{click:function(V){return V.preventDefault(),F.$router.push({name:"Calendar"})}}},[E("i",{staticClass:"fas fa-arrow-circle-left text-light-gray"})]),F._v(" "+F._s(F.$moment(F.$route.params.date).format("LL"))+" ")])]},proxy:!0}])}),E("TransactionControls",{attrs:{"default-date":F.$route.params.date}}),E("div",{staticClass:"flexbox"},[E("div",{staticClass:"wide"},[E("TransactionList",{attrs:{"show-future-group":!1,"show-today-group":!1}})],1),E("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$p=[],__component__$p=normalizeComponent(_sfc_main$p,_sfc_render$p,_sfc_staticRenderFns$p,!1,null,null,null,null);const Date$1=__component__$p.exports,_sfc_main$o={components:{ChartHeader,TransactionList,AmChartPieStickyContainer},mixins:[routerTransitionMixin],mounted(){this.$store.dispatch("transaction/fetchUpNextTransactions")}};var _sfc_render$o=function(){var F=this,E=F._self._c;return E("div",[E("ChartHeader",{scopedSlots:F._u([{key:"title",fn:function(){return[E("h1",{},[F._v(" "+F._s(F.$t("upnext"))+" ")])]},proxy:!0}])}),E("div",{staticClass:"flexbox"},[E("div",{staticClass:"wide"},[E("TransactionList",{attrs:{observer:!1,upnext:!0,"show-tomorrow-group":!0,"show-today-group":!1}})],1),E("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$o=[],__component__$o=normalizeComponent(_sfc_main$o,_sfc_render$o,_sfc_staticRenderFns$o,!1,null,null,null,null);const Upnext=__component__$o.exports,_sfc_main$n={components:{ChartHeader,TransactionList,AmChartPieStickyContainer},mixins:[routerTransitionMixin],computed:{transactions(){return this.$store.state.transaction.transactions.data},loading(){return this.$store.state.transaction.loading}},watch:{$route:"makeSearch"},mounted(){this.makeSearch()},methods:{makeSearch(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:"",offset:0,filter:`search/${this.$route.query.text}`})}}};var _sfc_render$n=function(){var F=this,E=F._self._c;return E("div",[E("ChartHeader",{attrs:{"show-controls":!1},scopedSlots:F._u([{key:"title",fn:function(){return[E("h1",{},[F._v(" "+F._s(F.$route.query.text)),!F.transactions.length&&!F.loading?E("span",[F._v(": "+F._s(F.$t("notFound")))]):F._e()])]},proxy:!0}])}),E("div",{staticClass:"flexbox"},[E("div",{staticClass:"wide"},[E("TransactionList",{attrs:{"show-today-group":!1,"show-future-group":!1,grouping:!1,"visible-select-checkbox":!0,"show-founded-count":!0}})],1),E("AmChartPieStickyContainer",{attrs:{"selected-only-mode":!0}})],1)],1)},_sfc_staticRenderFns$n=[],__component__$n=normalizeComponent(_sfc_main$n,_sfc_render$n,_sfc_staticRenderFns$n,!1,null,null,null,null);const Search=__component__$n.exports,_sfc_main$m={components:{ChartHeader,TransactionList,AmChartPieStickyContainer},mixins:[routerTransitionMixin],computed:{importInfo(){const R=new URL(location.href).searchParams.get("importinfo");return R?atob(R):null}},mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:"",offset:0,filter:`import/${this.$route.params.id}`})}};var _sfc_render$m=function(){var F=this,E=F._self._c;return E("div",[E("ChartHeader",{attrs:{"show-controls":!1},scopedSlots:F._u([{key:"title",fn:function(){return[E("h1",{},[F._v(" "+F._s(F.$t("importResults"))+" ")]),F.importInfo?E("div",{staticClass:"gray"},[F._v(" "+F._s(F.importInfo)+" ")]):F._e()]},proxy:!0}])}),E("div",{staticClass:"flexbox"},[E("div",{staticClass:"wide"},[E("TransactionList",{attrs:{"show-today-group":!1,"show-future-group":!1,grouping:!1,"visible-select-checkbox":!0,"show-founded-count":!0}})],1),E("AmChartPieStickyContainer",{attrs:{"selected-only-mode":!0}})],1)],1)},_sfc_staticRenderFns$m=[],__component__$m=normalizeComponent(_sfc_main$m,_sfc_render$m,_sfc_staticRenderFns$m,!1,null,null,null,null);const Import=__component__$m.exports,_sfc_main$l={components:{ChartHeader,TransactionList,AmChartPieStickyContainer},mixins:[routerTransitionMixin],provide:{archive:!0},mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().format("YYYY-MM-DD"),offset:0,filter:"trash/0"})}};var _sfc_render$l=function(){var F=this,E=F._self._c;return E("div",[E("ChartHeader",{attrs:{"show-controls":!1},scopedSlots:F._u([{key:"title",fn:function(){return[E("h1",{},[F._v(" "+F._s(F.$t("trash"))+" ")]),E("p",{staticClass:"small custom-px-16-mobile"},[F._v(" "+F._s(F.$t("trashInfo"))+" ")])]},proxy:!0}])}),E("div",{staticClass:"flexbox"},[E("div",{staticClass:"wide"},[E("TransactionList",{attrs:{"show-today-group":!1,"show-future-group":!1,grouping:!1,"visible-select-checkbox":!0,"show-founded-count":!0}})],1),E("AmChartPieStickyContainer",{attrs:{"selected-only-mode":!0}})],1)],1)},_sfc_staticRenderFns$l=[],__component__$l=normalizeComponent(_sfc_main$l,_sfc_render$l,_sfc_staticRenderFns$l,!1,null,null,null,null);const Trash=__component__$l.exports,_sfc_main$k={components:{ChartHeader,ChartHeaderControls,AmChartContainer,DetailsDashboard,TransactionList,AmChartPieStickyContainer,TransactionControls},mixins:[routerTransitionMixin],beforeRouteLeave(R,F,E){this.$store.commit("entity/resetEntity"),E()},data(){return{error:null}},metaInfo(){var R,F;return{title:((R=this.entity)==null?void 0:R.entity_name)||"",titleTemplate:`%s \u2013 ${((F=window.appState)==null?void 0:F.accountName)||""}`}},computed:{entity(){return this.$store.state.entity.entity}},watch:{$route:"fetch"},created(){this.fetch()},methods:{async fetch(){this.error=null;try{const{data:R}=await api$1.get(`cash.system.getExternalEntity?source=${this.$route.meta.getExternalEntitySource}&id=${this.$route.params.id}`);if(R.error){this.handleResponseError(R);return}this.$store.commit("entity/setEntity",R),this.$store.commit("transaction/updateQueryParams",{filter:this.$route.meta.fetchTransactionsFilter(this.entity.entity_id)}),this.$route.meta.showChart&&this.$store.dispatch("transaction/getChartData"),this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().format("YYYY-MM-DD"),offset:0,filter:this.$route.meta.fetchTransactionsFilter(this.entity.entity_id)})}catch(R){this.handleResponseError(R.response.data)}},handleResponseError(R){var F;this.error=(F=R.error_description)!=null?F:"Error"}}};var _sfc_render$k=function(){var F=this,E=F._self._c;return F.error?E("div",{staticClass:"c-header custom-m-12 custom-ml-32 custom-ml-12-mobile"},[E("h1",[F._v(F._s(F.$route.params.id)+": "+F._s(F.error))])]):F.entity?E("div",[E("ChartHeader",{scopedSlots:F._u([{key:"title",fn:function(){return[E("h1",{staticClass:"flexbox space-12 middle"},[F.entity.entity_icon?E("img",{class:{userpic:F.$route.meta.getExternalEntitySource==="contacts"},staticStyle:{height:"40px","object-fit":"contain"},attrs:{src:F.entity.entity_icon}}):F._e(),E("a",{attrs:{href:F.entity.entity_url,target:"_blank"}},[F._v(F._s(F.entity.entity_name))])])]},proxy:!0},F.$route.meta.showChart?{key:"controls",fn:function(){return[E("ChartHeaderControls")]},proxy:!0}:null],null,!0)}),E("TransactionControls"),F.$route.meta.showChart?[E("AmChartContainer"),E("DetailsDashboard")]:F._e(),E("div",{staticClass:"flexbox"},[E("div",{staticClass:"wide"},[E("TransactionList",{attrs:{"show-future-group":!1,"show-yesterday-group":!1,"show-overdue-group":!1,"show-today-group":!1}})],1),E("AmChartPieStickyContainer")],1)],2):F._e()},_sfc_staticRenderFns$k=[],__component__$k=normalizeComponent(_sfc_main$k,_sfc_render$k,_sfc_staticRenderFns$k,!1,null,null,null,null);const Entity=__component__$k.exports,_sfc_main$j={};var _sfc_render$j=function(){var F=this,E=F._self._c;return E("div",{staticClass:"custom-p-20"},[E("h1",[F._v("404")]),E("h3",[F._v(F._s(F.$t("404.title")))])])},_sfc_staticRenderFns$j=[],__component__$j=normalizeComponent(_sfc_main$j,_sfc_render$j,_sfc_staticRenderFns$j,!1,null,null,null,null);const NotFound=__component__$j.exports;var dayjs_min={exports:{}};(function(R,F){(function(E,V){R.exports=V()})(commonjsGlobal,function(){var E=1e3,V=6e4,U=36e5,W="millisecond",Y="second",G="minute",X="hour",K="day",Z="week",J="month",Q="quarter",ee="year",te="date",ie="Invalid Date",ne=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ae=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,se={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ce){var be=["th","st","nd","rd"],ge=Ce%100;return"["+Ce+(be[(ge-20)%10]||be[ge]||be[0])+"]"}},oe=function(Ce,be,ge){var we=String(Ce);return!we||we.length>=be?Ce:""+Array(be+1-we.length).join(ge)+Ce},le={s:oe,z:function(Ce){var be=-Ce.utcOffset(),ge=Math.abs(be),we=Math.floor(ge/60),Pe=ge%60;return(be<=0?"+":"-")+oe(we,2,"0")+":"+oe(Pe,2,"0")},m:function Ce(be,ge){if(be.date()<ge.date())return-Ce(ge,be);var we=12*(ge.year()-be.year())+(ge.month()-be.month()),Pe=be.clone().add(we,J),Oe=ge-Pe<0,Ae=be.clone().add(we+(Oe?-1:1),J);return+(-(we+(ge-Pe)/(Oe?Pe-Ae:Ae-Pe))||0)},a:function(Ce){return Ce<0?Math.ceil(Ce)||0:Math.floor(Ce)},p:function(Ce){return{M:J,y:ee,w:Z,d:K,D:te,h:X,m:G,s:Y,ms:W,Q}[Ce]||String(Ce||"").toLowerCase().replace(/s$/,"")},u:function(Ce){return Ce===void 0}},ue="en",ce={};ce[ue]=se;var he="$isDayjsObject",de=function(Ce){return Ce instanceof pe||!(!Ce||!Ce[he])},fe=function Ce(be,ge,we){var Pe;if(!be)return ue;if(typeof be=="string"){var Oe=be.toLowerCase();ce[Oe]&&(Pe=Oe),ge&&(ce[Oe]=ge,Pe=Oe);var Ae=be.split("-");if(!Pe&&Ae.length>1)return Ce(Ae[0])}else{var Se=be.name;ce[Se]=be,Pe=Se}return!we&&Pe&&(ue=Pe),Pe||!we&&ue},Te=function(Ce,be){if(de(Ce))return Ce.clone();var ge=typeof be=="object"?be:{};return ge.date=Ce,ge.args=arguments,new pe(ge)},xe=le;xe.l=fe,xe.i=de,xe.w=function(Ce,be){return Te(Ce,{locale:be.$L,utc:be.$u,x:be.$x,$offset:be.$offset})};var pe=function(){function Ce(ge){this.$L=fe(ge.locale,null,!0),this.parse(ge),this.$x=this.$x||ge.x||{},this[he]=!0}var be=Ce.prototype;return be.parse=function(ge){this.$d=function(we){var Pe=we.date,Oe=we.utc;if(Pe===null)return new Date(NaN);if(xe.u(Pe))return new Date;if(Pe instanceof Date)return new Date(Pe);if(typeof Pe=="string"&&!/Z$/i.test(Pe)){var Ae=Pe.match(ne);if(Ae){var Se=Ae[2]-1||0,ye=(Ae[7]||"0").substring(0,3);return Oe?new Date(Date.UTC(Ae[1],Se,Ae[3]||1,Ae[4]||0,Ae[5]||0,Ae[6]||0,ye)):new Date(Ae[1],Se,Ae[3]||1,Ae[4]||0,Ae[5]||0,Ae[6]||0,ye)}}return new Date(Pe)}(ge),this.init()},be.init=function(){var ge=this.$d;this.$y=ge.getFullYear(),this.$M=ge.getMonth(),this.$D=ge.getDate(),this.$W=ge.getDay(),this.$H=ge.getHours(),this.$m=ge.getMinutes(),this.$s=ge.getSeconds(),this.$ms=ge.getMilliseconds()},be.$utils=function(){return xe},be.isValid=function(){return this.$d.toString()!==ie},be.isSame=function(ge,we){var Pe=Te(ge);return this.startOf(we)<=Pe&&Pe<=this.endOf(we)},be.isAfter=function(ge,we){return Te(ge)<this.startOf(we)},be.isBefore=function(ge,we){return this.endOf(we)<Te(ge)},be.$g=function(ge,we,Pe){return xe.u(ge)?this[we]:this.set(Pe,ge)},be.unix=function(){return Math.floor(this.valueOf()/1e3)},be.valueOf=function(){return this.$d.getTime()},be.startOf=function(ge,we){var Pe=this,Oe=!!xe.u(we)||we,Ae=xe.p(ge),Se=function(Fe,Ne){var He=xe.w(Pe.$u?Date.UTC(Pe.$y,Ne,Fe):new Date(Pe.$y,Ne,Fe),Pe);return Oe?He:He.endOf(K)},ye=function(Fe,Ne){return xe.w(Pe.toDate()[Fe].apply(Pe.toDate("s"),(Oe?[0,0,0,0]:[23,59,59,999]).slice(Ne)),Pe)},$e=this.$W,ke=this.$M,Ee=this.$D,Ie="set"+(this.$u?"UTC":"");switch(Ae){case ee:return Oe?Se(1,0):Se(31,11);case J:return Oe?Se(1,ke):Se(0,ke+1);case Z:var Le=this.$locale().weekStart||0,Be=($e<Le?$e+7:$e)-Le;return Se(Oe?Ee-Be:Ee+(6-Be),ke);case K:case te:return ye(Ie+"Hours",0);case X:return ye(Ie+"Minutes",1);case G:return ye(Ie+"Seconds",2);case Y:return ye(Ie+"Milliseconds",3);default:return this.clone()}},be.endOf=function(ge){return this.startOf(ge,!1)},be.$set=function(ge,we){var Pe,Oe=xe.p(ge),Ae="set"+(this.$u?"UTC":""),Se=(Pe={},Pe[K]=Ae+"Date",Pe[te]=Ae+"Date",Pe[J]=Ae+"Month",Pe[ee]=Ae+"FullYear",Pe[X]=Ae+"Hours",Pe[G]=Ae+"Minutes",Pe[Y]=Ae+"Seconds",Pe[W]=Ae+"Milliseconds",Pe)[Oe],ye=Oe===K?this.$D+(we-this.$W):we;if(Oe===J||Oe===ee){var $e=this.clone().set(te,1);$e.$d[Se](ye),$e.init(),this.$d=$e.set(te,Math.min(this.$D,$e.daysInMonth())).$d}else Se&&this.$d[Se](ye);return this.init(),this},be.set=function(ge,we){return this.clone().$set(ge,we)},be.get=function(ge){return this[xe.p(ge)]()},be.add=function(ge,we){var Pe,Oe=this;ge=Number(ge);var Ae=xe.p(we),Se=function(ke){var Ee=Te(Oe);return xe.w(Ee.date(Ee.date()+Math.round(ke*ge)),Oe)};if(Ae===J)return this.set(J,this.$M+ge);if(Ae===ee)return this.set(ee,this.$y+ge);if(Ae===K)return Se(1);if(Ae===Z)return Se(7);var ye=(Pe={},Pe[G]=V,Pe[X]=U,Pe[Y]=E,Pe)[Ae]||1,$e=this.$d.getTime()+ge*ye;return xe.w($e,this)},be.subtract=function(ge,we){return this.add(-1*ge,we)},be.format=function(ge){var we=this,Pe=this.$locale();if(!this.isValid())return Pe.invalidDate||ie;var Oe=ge||"YYYY-MM-DDTHH:mm:ssZ",Ae=xe.z(this),Se=this.$H,ye=this.$m,$e=this.$M,ke=Pe.weekdays,Ee=Pe.months,Ie=Pe.meridiem,Le=function(Ne,He,Re,qe){return Ne&&(Ne[He]||Ne(we,Oe))||Re[He].slice(0,qe)},Be=function(Ne){return xe.s(Se%12||12,Ne,"0")},Fe=Ie||function(Ne,He,Re){var qe=Ne<12?"AM":"PM";return Re?qe.toLowerCase():qe};return Oe.replace(ae,function(Ne,He){return He||function(Re){switch(Re){case"YY":return String(we.$y).slice(-2);case"YYYY":return xe.s(we.$y,4,"0");case"M":return $e+1;case"MM":return xe.s($e+1,2,"0");case"MMM":return Le(Pe.monthsShort,$e,Ee,3);case"MMMM":return Le(Ee,$e);case"D":return we.$D;case"DD":return xe.s(we.$D,2,"0");case"d":return String(we.$W);case"dd":return Le(Pe.weekdaysMin,we.$W,ke,2);case"ddd":return Le(Pe.weekdaysShort,we.$W,ke,3);case"dddd":return ke[we.$W];case"H":return String(Se);case"HH":return xe.s(Se,2,"0");case"h":return Be(1);case"hh":return Be(2);case"a":return Fe(Se,ye,!0);case"A":return Fe(Se,ye,!1);case"m":return String(ye);case"mm":return xe.s(ye,2,"0");case"s":return String(we.$s);case"ss":return xe.s(we.$s,2,"0");case"SSS":return xe.s(we.$ms,3,"0");case"Z":return Ae}return null}(Ne)||Ae.replace(":","")})},be.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},be.diff=function(ge,we,Pe){var Oe,Ae=this,Se=xe.p(we),ye=Te(ge),$e=(ye.utcOffset()-this.utcOffset())*V,ke=this-ye,Ee=function(){return xe.m(Ae,ye)};switch(Se){case ee:Oe=Ee()/12;break;case J:Oe=Ee();break;case Q:Oe=Ee()/3;break;case Z:Oe=(ke-$e)/6048e5;break;case K:Oe=(ke-$e)/864e5;break;case X:Oe=ke/U;break;case G:Oe=ke/V;break;case Y:Oe=ke/E;break;default:Oe=ke}return Pe?Oe:xe.a(Oe)},be.daysInMonth=function(){return this.endOf(J).$D},be.$locale=function(){return ce[this.$L]},be.locale=function(ge,we){if(!ge)return this.$L;var Pe=this.clone(),Oe=fe(ge,we,!0);return Oe&&(Pe.$L=Oe),Pe},be.clone=function(){return xe.w(this.$d,this)},be.toDate=function(){return new Date(this.valueOf())},be.toJSON=function(){return this.isValid()?this.toISOString():null},be.toISOString=function(){return this.$d.toISOString()},be.toString=function(){return this.$d.toUTCString()},Ce}(),_e=pe.prototype;return Te.prototype=_e,[["$ms",W],["$s",Y],["$m",G],["$H",X],["$W",K],["$M",J],["$y",ee],["$D",te]].forEach(function(Ce){_e[Ce[1]]=function(be){return this.$g(be,Ce[0],Ce[1])}}),Te.extend=function(Ce,be){return Ce.$i||(Ce(be,pe,Te),Ce.$i=!0),Te},Te.locale=fe,Te.isDayjs=de,Te.unix=function(Ce){return Te(1e3*Ce)},Te.en=ce[ue],Te.Ls=ce,Te.p={},Te})})(dayjs_min);const dayjs=dayjs_min.exports,_sfc_main$i={__name:"InfiniteCalendarGridDay",props:{date:null,cellHeight:null,activeMonth:null},setup(R){const F=R,E=computed(()=>{const W=F.date.getDay();return W===6||W===0}),V=computed(()=>F.activeMonth===F.date.getMonth()),U=computed(()=>{const W=new Date;return F.date.getDate()==W.getDate()&&F.date.getMonth()==W.getMonth()&&F.date.getFullYear()==W.getFullYear()});return{__sfc:!0,props:F,isWeekend:E,isActiveMonth:V,isCurrentDay:U}}},InfiniteCalendarGridDay_vue_vue_type_style_index_0_lang="";var _sfc_render$i=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",{staticClass:"icg-months-grid-day",class:{"icg-months-grid-day--active-month":V.isActiveMonth,"icg-months-grid-day--weekend":V.isWeekend,"icg-months-grid-day--current":V.isCurrentDay},style:{height:`${V.props.cellHeight}px`}},[F._t("default",null,{date:V.props.date,isWeekend:V.isWeekend,isActiveMonth:V.isActiveMonth,isCurrentDay:V.isCurrentDay})],2)},_sfc_staticRenderFns$i=[],__component__$i=normalizeComponent(_sfc_main$i,_sfc_render$i,_sfc_staticRenderFns$i,!1,null,null,null,null);const InfiniteCalendarGridDay=__component__$i.exports,_sfc_main$h={__name:"InfiniteCalendarGrid",props:{firstDayOfWeek:{default:0},locale:{default:"en-US"},todayLabel:{default:"Today"}},emits:["changed"],setup(R,{emit:F}){const E=R,V=new Array(7).fill(void 0).map((le,ue)=>{const ce=new Date().getDate(),he=new Date().getDay();return new Date(new Date().setDate(ce-he+ue)).toLocaleDateString(E.locale,{weekday:"short"})}),U=ref$1(null),{height:W}=useElementSize(U),Y=computed(()=>Math.ceil(W.value/6)),{y:G,arrivedState:X}=useScroll(U),K=computed(()=>{if(E.firstDayOfWeek){const le=[...V];return le.push(le.shift()),le}else return V}),Z=ref$1(dayjs()),J=computed(()=>{const le=Z.value.startOf("M").get("d")+(E.firstDayOfWeek&&-1);return le<0?7+le:le}),Q=computed(()=>Math.ceil((Z.value.daysInMonth()+J.value)/7)),ee=computed(()=>Math.ceil((Z.value.add(-1,"month").daysInMonth()-J.value)/7)),te=computed(()=>{let le=Math.ceil(Z.value.add(1,"month").daysInMonth()/7);return Z.value.endOf("M").get("d")===(E.firstDayOfWeek?0:6)&&Q.value===5&&le++,le}),ie=computed(()=>Z.value.startOf("M").add(-(ee.value*7+J.value),"day")),ne=computed(()=>new Array((Q.value+ee.value+te.value)*7).fill(void 0).map((le,ue)=>ie.value.add(ue,"day").toDate())),ae=computed(()=>{const le=ne.value.slice(0,ee.value*7),ue=ne.value.slice(ee.value*7,ee.value*7+Q.value*7),ce=ne.value.slice(ee.value*7+Q.value*7,ee.value*7+Q.value*7+te.value*7);return{[le[0].getTime()]:le,[ue[0].getTime()]:ue,[ce[0].getTime()]:ce}}),se=watch(W,async le=>{le&&(await nextTick(),oe(),se())});watch(X,({top:le,bottom:ue})=>{(le||ue)&&(Z.value=Z.value.add(le?-1:1,"month"))}),watch(Z,async()=>{await nextTick(),oe(),F("changed",Z.value.toDate())});function oe(){G.value=Y.value*ee.value}return{__sfc:!0,props:E,emit:F,weekDays:V,containerRef:U,height:W,cellHeight:Y,y:G,arrivedState:X,weekDaysNames:K,activeMonth:Z,activeMonthOffset:J,activeMonthRows:Q,prevMonthRows:ee,nextMonthRows:te,startDate:ie,daysCount:ne,daysCountSlices:ae,unw:se,gotoCurrentMonth:oe,dayjs,InfiniteCalendarGridDay}}},InfiniteCalendarGrid_vue_vue_type_style_index_0_lang="";var _sfc_render$h=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",{staticClass:"icg",attrs:{firstdayofweek:V.props.firstDayOfWeek}},[E("div",{staticClass:"icg-header"},[E("div",{staticClass:"icg-month"},[F._v(" "+F._s(V.activeMonth.toDate().toLocaleDateString(V.props.locale,{year:"numeric",month:"long"}).replace("\u0433.",""))+" ")]),E("div",{staticClass:"icg-controls"},[E("button",{on:{click:function(U){V.activeMonth=V.activeMonth.add(-1,"month")}}},[E("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:".8rem",viewBox:"0 0 320 512"}},[E("path",{attrs:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"}})])]),E("button",{on:{click:function(U){V.activeMonth=V.dayjs()}}},[F._v(F._s(V.props.todayLabel))]),E("button",{on:{click:function(U){V.activeMonth=V.activeMonth.add(1,"month")}}},[E("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:".8rem",viewBox:"0 0 320 512"}},[E("path",{attrs:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"}})])])])]),E("div",{staticClass:"icg-weekdays"},F._l(V.weekDaysNames,function(U,W){return E("div",{key:U,staticClass:"icg-weekdays__cell",class:{"icg-weekdays__cell--weekend":W===(V.props.firstDayOfWeek?5:0)||W===6}},[F._v(" "+F._s(U)+" ")])}),0),E("div",{ref:"containerRef",staticClass:"icg-months-grid"},F._l(V.daysCountSlices,function(U,W,Y){return E("div",{key:W,class:["icg-months-grid-month",{"icg-months-grid-month--selected":Y===1}]},F._l(U,function(G){return E(V.InfiniteCalendarGridDay,{key:G.getTime(),attrs:{"cell-height":V.cellHeight,activeMonth:V.activeMonth.month(),date:G},scopedSlots:F._u([{key:"default",fn:function(X){return[F._t("default",null,null,X)]}}],null,!0)})}),1)}),0)])},_sfc_staticRenderFns$h=[],__component__$h=normalizeComponent(_sfc_main$h,_sfc_render$h,_sfc_staticRenderFns$h,!1,null,null,null,null);const InfiniteCalendarGrid=__component__$h.exports;function mitt(R){return{all:R=R||new Map,on:function(F,E){var V=R.get(F);V?V.push(E):R.set(F,[E])},off:function(F,E){var V=R.get(F);V&&(E?V.splice(V.indexOf(E)>>>0,1):R.set(F,[]))},emit:function(F,E){var V=R.get(F);V&&V.slice().map(function(U){U(E)}),(V=R.get("*"))&&V.slice().map(function(U){U(F,E)})}}}const eventBus=mitt(),eventBus$1={install(R){R.prototype.$eventBus=eventBus}},InfiniteCalendarGridDaySlotItem_vue_vue_type_style_index_0_lang="",_sfc_main$g={__name:"InfiniteCalendarGridDaySlotItem",props:["transaction"],setup(R){const F=R,E=ref$1(),V=computed(()=>store.getters["category/getById"](F.transaction.category_id)),U=computed(()=>{var G;return(G=store.getters["account/getById"](F.transaction.account_id))==null?void 0:G.currency});onMounted(()=>{W()});function W(){E.value&&E.value.addEventListener("dragstart",G=>{G.dataTransfer.clearData(),G.dataTransfer.setData("transaction",JSON.stringify(F.transaction))})}function Y(){eventBus.emit("openAddTransactionModal",{transaction:F.transaction})}return{__sfc:!0,props:F,draggableRef:E,category:V,currency:U,handleOnTransactionDragStart:W,onClick:Y,emitter:eventBus,store,computed,onMounted,ref:ref$1,DropdownWaFloating}}};var _sfc_render$g=function(){var U;var F=this,E=F._self._c,V=F._self._setupProxy;return E(V.DropdownWaFloating,{attrs:{strategy:"fixed","hide-on-mobile":!0},scopedSlots:F._u([{key:"toggler",fn:function(){return[E("div",{ref:"draggableRef",staticClass:"icg-row align-left nowrap",style:`color: ${V.category.color}`,attrs:{draggable:"true"},on:{click:function(W){return W.preventDefault(),W.stopPropagation(),(()=>{F.$helper.isTabletMediaQuery()||V.onClick()}).apply(null,arguments)}}},[V.category.glyph?E("span",{key:V.category.color,staticClass:"icon baseline"},[E("i",{class:V.category.glyph,style:`color:${V.category.color};`})]):E("span",{staticClass:"icon size-12 baseline"},[E("i",{staticClass:"rounded",style:`background-color: ${V.category.color};`})]),E("span",{staticClass:"desktop-only"},[F._v(" "+F._s(F.transaction.amount>0?"+":"")+F._s(F.$helper.toCurrency({value:F.transaction.amount,currencyCode:V.currency}))+" ")])])]},proxy:!0}])},[E("div",{staticClass:"custom-p-8 align-left",staticStyle:{display:"flex","flex-direction":"column",gap:".2rem"}},[(U=F.transaction.contractor_contact)!=null&&U.name?E("span",{staticClass:"small"},[F._v(F._s(F.transaction.contractor_contact.name))]):F._e(),V.category?E("span",{staticClass:"bold nowrap small text-ellipsis",style:`color: ${V.category.color}`},[F._v(F._s(V.category.name))]):F._e(),E("span",{staticClass:"hint"},[F._v(F._s(F.transaction.description||F.$t("noDesc")))])])])},_sfc_staticRenderFns$g=[],__component__$g=normalizeComponent(_sfc_main$g,_sfc_render$g,_sfc_staticRenderFns$g,!1,null,null,null,null);const InfiniteCalendarGridDaySlotItem=__component__$g.exports,InfiniteCalendarGridDaySlot_vue_vue_type_style_index_0_scoped_943eb295_lang="",_sfc_main$f={__name:"InfiniteCalendarGridDaySlot",props:["date","data"],setup(R){const F=R,E=useRouter(),V=ref$1();onMounted(()=>{U()});function U(){V.value&&(V.value.addEventListener("dragenter",G=>{G.target.classList.add("dragover")}),V.value.addEventListener("dragleave",G=>{G.target.classList.remove("dragover")}),V.value.addEventListener("dragover",G=>{G.preventDefault()}),V.value.addEventListener("drop",G=>{G.preventDefault(),G.target.classList.remove("dragover");const X=JSON.parse(G.dataTransfer.getData("transaction"));X&&hooks(F.date).format("YYYY-MM-DD")!==X.date&&store.dispatch("transaction/update",{...X,date:hooks(F.date).format("YYYY-MM-DD"),apply_to_all_in_future:!1})}))}function W(G){try{return G.toLocaleString(locale$6.replace("_","-"),{month:"short"})}catch{}}function Y(){var X;const G=(X=V.value)==null?void 0:X.querySelector(".icg-plus");G&&(window.getComputedStyle(G,null).getPropertyValue("display")==="none"?E.push(`/date/${hooks(F.date).format("YYYY-MM-DD")}/`):eventBus.emit("openAddTransactionModal",{defaultDate:dayjs(F.date).format("YYYY-MM-DD")}))}return{__sfc:!0,props:F,router:E,dayRef:V,handleOnTransactionDrop:U,getMonthShort:W,onClick:Y,onMounted,ref:ref$1,locale:locale$6,emitter:eventBus,InfiniteCalendarGridDaySlotItem,dayjs,useRouter,moment:hooks,store}}};var _sfc_render$f=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",{ref:"dayRef",staticClass:"absolute align-right custom-p-8",staticStyle:{width:"100%",height:"100%","box-sizing":"border-box",display:"flex","flex-direction":"column","justify-content":"space-between",cursor:"pointer"},on:{click:V.onClick}},[F._m(0),E("div",{staticClass:"icg-day"},[F._v(" "+F._s(F.date.getDate())+" "),F.date.getDate()===1?E("span",[F._v(F._s(V.getMonthShort(F.date)))]):F._e()]),E("div",{staticClass:"small"},F._l(V.props.data,function(U){return E(V.InfiniteCalendarGridDaySlotItem,{key:U.id,attrs:{transaction:U}})}),1)])},_sfc_staticRenderFns$f=[function(){var R=this,F=R._self._c;return R._self._setupProxy,F("button",{staticClass:"circle small light-gray desktop-only icg-plus"},[F("i",{staticClass:"fas fa-plus"})])}],__component__$f=normalizeComponent(_sfc_main$f,_sfc_render$f,_sfc_staticRenderFns$f,!1,null,"943eb295",null,null);const InfiniteCalendarGridDaySlot=__component__$f.exports,Calendar_vue_vue_type_style_index_0_lang="",_sfc_main$e={__name:"Calendar",setup(R){const F=ref$1(1),E=ref$1([]),V=ref$1(dayjs()),U=computed(()=>{const Y=V.value.startOf("M").get("d")+(F.value&&-1);return Y<0?7+Y:Y});W(new Date);async function W(Y){V.value=dayjs(Y),await api$1.get("cash.transaction.getList",{params:{from:V.value.startOf("M").add(-U.value,"day").format("YYYY-MM-DD"),to:V.value.endOf("M").add(42-U.value-V.value.daysInMonth(),"day").format("YYYY-MM-DD"),reverse:1}}).then(({data:G})=>{E.value=G.data})}return store.subscribeAction({after:Y=>{(Y.type==="transaction/update"||Y.type==="transaction/delete")&&W(V.value)}}),{__sfc:!0,firstDayOfWeek:F,dataDays:E,curDate:V,activeMonthOffset:U,handleMonthChange:W,InfiniteCalendarGrid,InfiniteCalendarGridDaySlot,api:api$1,dayjs,ref:ref$1,computed,locale:locale$6,store}}};var _sfc_render$e=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E(V.InfiniteCalendarGrid,{attrs:{"first-day-of-week":V.firstDayOfWeek,locale:V.locale.replace("_","-"),"today-label":F.$t("today")},on:{changed:V.handleMonthChange},scopedSlots:F._u([{key:"default",fn:function({date:U}){return[E(V.InfiniteCalendarGridDaySlot,{attrs:{date:U,data:V.dataDays.filter(W=>W.date===V.dayjs(U).format("YYYY-MM-DD"))}})]}}])})},_sfc_staticRenderFns$e=[],__component__$e=normalizeComponent(_sfc_main$e,_sfc_render$e,_sfc_staticRenderFns$e,!1,null,null,null,null);const Calendar=__component__$e.exports,_sfc_main$d={__name:"FormAdd",setup(R){return{__sfc:!0,route:useRoute(),useRoute,AddAccount,AddCategory}}};var _sfc_render$d=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",{staticClass:"dialog",staticStyle:{display:"block",position:"absolute"}},[E(V.route.params.type==="account"?V.AddAccount:V.AddCategory,{tag:"component"})],1)},_sfc_staticRenderFns$d=[],__component__$d=normalizeComponent(_sfc_main$d,_sfc_render$d,_sfc_staticRenderFns$d,!1,null,null,null,null);const FormAdd=__component__$d.exports;var Tt,Dt;const permissions=((Dt=(Tt=window.appState)==null?void 0:Tt.api_settings)==null?void 0:Dt.rights)||{},permissions$1={install(R){R.prototype.$permissions=permissions}};Vue$2.use(VueRouter$1);var Ot;const accountName=((Ot=window.appState)==null?void 0:Ot.accountName)||"";var kt;const baseUrl$1=((kt=window.appState)==null?void 0:kt.baseUrl)||"/",routes=[{path:"/",name:"Home",component:Home},{path:"/account/:id",name:"Account",component:Home},{path:"/category/:id",name:"Category",component:Home},{path:"/currency/:id",name:"Currency",component:Home},{path:"/history",name:"History",component:History,meta:{title:`${i18n.t("history")} \u2014 ${accountName}`}},{path:"/transactions",name:"Transactions",component:Transactions,meta:{title:`${i18n.t("transactions")} \u2014 ${accountName}`}},{path:"/calendar",name:"Calendar",component:Calendar,meta:{title:`${i18n.t("calendar")} \u2014 ${accountName}`}},{path:"/upnext",name:"Upnext",component:Upnext,meta:{title:`${i18n.t("upnext")} \u2014 ${accountName}`}},{path:"/date/:date",name:"Date",component:Date$1,meta:{title:`${i18n.t("transactions")} \u2014 ${accountName}`},beforeEnter:(R,F,E)=>{hooks(R.params.date,"YYYY-MM-DD",!0).isValid()?E():E({name:"NotFound"})}},{path:"/search",name:"Search",component:Search,meta:{title:`${i18n.t("search.label")} \u2014 ${accountName}`}},{path:"/import/:id",name:"Import",component:Import,meta:{title:`${i18n.t("importResults")} \u2014 ${accountName}`}},{path:"/trash",name:"Trash",component:Trash,meta:{requiresAdminRights:!0,title:`${i18n.t("trash")} \u2014 ${accountName}`}},{path:"/external/shop/order/:id",name:"Order",component:Entity,meta:{showChart:!1,getExternalEntitySource:"shop",fetchTransactionsFilter:R=>`external/shop.${R}`}},{path:"/contact/:id",name:"Contact",component:Entity,meta:{showChart:!0,getExternalEntitySource:"contacts",fetchTransactionsFilter:R=>`contractor/${R}`}},{path:"/form/add/:type",name:"Form",component:FormAdd,beforeEnter:(R,F,E)=>{["account","category"].includes(R.params.type)?E():E({name:"NotFound"})}},{path:"/report",alias:["/report/*","/import","/import/new/*","/shop/settings","/plugins"]},{path:"/404",name:"NotFound",component:NotFound,meta:{title:`${i18n.t("404.title")} \u2014 ${accountName}`}},{path:"*",redirect:{name:"NotFound"}}],router=new VueRouter$1({mode:window.appState.webView?"hash":"history",base:baseUrl$1,routes,scrollBehavior(){return{x:0,y:0}}});router.beforeEach((R,F,E)=>{R.matched.some(V=>V.meta.requiresAdminRights)&&(permissions.isAdmin||E({name:"Home"})),R.meta.title&&(document.title=R.meta.title),E()});const category={namespaced:!0,state:()=>{var R;return{categories:((R=window.appState)==null?void 0:R.categories)||[]}},getters:{sortedCategories:R=>{const F=[...R.categories].sort((V,U)=>V.sort>U.sort?1:V.sort<U.sort?-1:0),E=(V,U=null,W=[])=>(V.forEach(Y=>{Y.parent_category_id===U&&(W.push(Y),E(V,Y.id,W))}),W);return E(F)},getChildren:(R,F)=>E=>F.sortedCategories.filter(V=>V.parent_category_id===E),getById:R=>F=>R.categories.find(E=>E.id===F),getByType:(R,F)=>E=>F.sortedCategories.filter(V=>V.type===E)},mutations:{setCategories(R,F){R.categories=F},updateCategory(R,F){const E=R.categories.findIndex(V=>V.id===F.id);E>-1?R.categories.splice(E,1,F):R.categories.unshift(F)},updateSort(R,F){F.forEach((E,V)=>{R.categories.find(U=>U.id===E).sort=V})}},actions:{async getList({commit:R}){try{const{data:F}=await api$1.get("cash.category.getList");R("setCategories",F)}catch{return!1}},async update({commit:R},F){const E=F.id?"update":"create";try{const{data:V}=await api$1.post(`cash.category.${E}`,F);R("updateCategory",V),E==="create"&&router.push({name:"Category",params:{id:V.id,isFirtsTimeNavigate:!0}})}catch{return!1}},async updateParams({commit:R,getters:F,dispatch:E},V){const U=F.getById(V.id),W={...U};try{const Y={...U,...V};R("updateCategory",Y),await api$1.post("cash.category.update",Y)}catch{return R("updateCategory",W),!1}},async delete({dispatch:R,commit:F},E){try{await api$1.post("cash.category.delete",{id:E}),F("transaction/resetTransactions",null,{root:!0}),R("getList").then(()=>{router.push({name:"Home"})})}catch{return!1}},async sort({commit:R},F){try{R("updateSort",F.newOrder),await api$1.post("cash.category.sort",{order:F.newOrder})}catch{return R("updateSort",F.oldOrder),!1}}}},account={namespaced:!0,state:()=>{var R;return{accounts:((R=window.appState)==null?void 0:R.accounts)||[]}},getters:{getById:R=>F=>R.accounts.find(E=>E.id===F),currenciesInAccounts:R=>R.accounts.reduce((F,{currency:E})=>(F.includes(E)||F.push(E),F),[]),accountsByCurrencyCode:R=>F=>R.accounts.filter(E=>E.currency===F).map(E=>E.id)},mutations:{setAccounts(R,F){R.accounts=F},updateSort(R,F){R.accounts.sort((E,V)=>F.indexOf(E.id)-F.indexOf(V.id))}},actions:{async getList({commit:R}){try{const{data:F}=await api$1.get("cash.account.getList");R("setAccounts",F)}catch{return!1}},async update({dispatch:R},F){const E=F.id?"update":"create";try{const{data:V}=await api$1.post(`cash.account.${E}`,F);this.$isSpaMobileMode&&E==="create"&&window.emitter.emit("createAccount",V),parseInt(F.starting_balance)!==0&&!isNaN(parseInt(F.starting_balance))&&await R("transaction/update",{id:null,amount:F.starting_balance,date:hooks().format("YYYY-MM-DD"),account_id:V.id,category_id:parseInt(F.starting_balance)>=0?-2:-1,description:i18n.t("startingBalance"),silent:!0},{root:!0}),R("getList").then(()=>{E==="create"&&router.push({name:"Account",params:{id:V.id,isFirtsTimeNavigate:!0}})})}catch{return!1}},async delete({dispatch:R,commit:F},E){try{await api$1.post("cash.account.delete",{id:E}),F("transaction/resetTransactions",null,{root:!0}),R("getList").then(()=>{router.push({name:"Home"})})}catch{return!1}},async sort({commit:R},F){try{R("updateSort",F.newOrder),await api$1.post("cash.account.sort",{order:F.newOrder})}catch{return R("updateSort",F.oldOrder),!1}}}},system={namespaced:!0,state:()=>{var R;return{currencies:((R=window.appState)==null?void 0:R.currencies)||[]}},getters:{getCurrencySignByCode:R=>F=>{var E;return((E=R.currencies.find(V=>V.code===F))==null?void 0:E.sign)||""}},mutations:{setCurrencies(R,F){R.currencies=F}},actions:{async getCurrencies({commit:R,state:F}){if(F.currencies.length<1)try{const{data:E}=await api$1.get("cash.system.getCurrencies");R("setCurrencies",E)}catch{return!1}}}},entity={namespaced:!0,state:()=>({entity:null}),mutations:{setEntity(R,F){R.entity=F},resetEntity(R){R.entity=null}}},errors={namespaced:!0,state:()=>({errors:[]}),getters:{},mutations:{error(R,F){R.errors.push(F)},delete(R,F){R.errors.splice(F,1)}},actions:{}},updateHeaderTodayCounter=R=>{const F=document.querySelector("#wa-header #wa-applist #wa-app-cash > a");if(F){let E=F.querySelector(".badge");R.onbadge>0?(E||(E=document.createElement("span"),E.classList.add("badge","indicator"),F.appendChild(E)),E.innerText=R.onbadge):E&&E.remove()}},dispatchAll=R=>Promise.all([R.dispatch("transaction/getTodayCount"),R.dispatch("account/getList"),R.dispatch("balanceFlow/getBalanceFlow")]),mediator=R=>{R.subscribe(({type:F,payload:E},V)=>{switch(F){case"transaction/updateTransactions":case"transaction/deleteTransaction":case"transaction/createTransactions":return dispatchAll(R);case"transaction/updateTransactionProps":"is_onbadge"in E.props&&R.dispatch("transaction/getTodayCount");break;case"transaction/setDetailsInterval":R.commit("transactionBulk/emptySelectedTransactionsIds");break;case"transaction/setTodayCount":updateHeaderTodayCounter(E)}}),R.subscribeAction({before:({type:F,payload:E})=>{F==="transaction/delete"&&R.commit("transactionBulk/unselect",[E.id])},after:({type:F,payload:E},V)=>{switch(F){case"account/delete":return Promise.all([R.dispatch("transaction/getTodayCount"),R.dispatch("balanceFlow/getBalanceFlow")]);case"account/update":E.id||R.dispatch("balanceFlow/getBalanceFlow");break;case"transactionBulk/bulkMove":case"transactionBulk/restore":case"transactionBulk/purge":return Promise.all([R.dispatch("transaction/fetchTransactions"),dispatchAll(R)])}}})};Vue$2.use(Vuex);const store=new Vuex.Store({state:()=>({currentType:"",currentTypeId:null,multiSelectMode:!window.appState.webView}),getters:{getCurrentType(R,F){const E=F[`${R.currentType}/getById`];return E?E(R.currentTypeId):{}}},mutations:{setCurrentEntity(R,{name:F,id:E}){R.currentType=F,R.currentTypeId=E},setMultiSelectMode(R,F){R.multiSelectMode=F}},actions:{updateCurrentEntity({commit:R,getters:F},{name:E,id:V}){if(E&&V)R("setCurrentEntity",{name:E,id:V}),R("transaction/updateQueryParams",{filter:`${E}/${V}`});else{const U=F["account/currenciesInAccounts"][0];U&&(R("setCurrentEntity",{name:"currency",id:U}),R("transaction/updateQueryParams",{filter:`currency/${U}`}))}}},modules:{balanceFlow,transaction,transactionBulk,category,account,system,entity,errors},plugins:[mediator]});var Et;const baseApiUrl=((Et=window.appState)==null?void 0:Et.baseApiUrl)||"";var At;const accessToken=((At=window.appState)==null?void 0:At.token)||"",api=axios$1.create({baseURL:baseApiUrl,params:{access_token:accessToken},headers:{"Content-Type":"application/json"}});api.interceptors.response.use(R=>(R.headers["content-type"].includes("application/json")||store.commit("errors/error",{title:"error.api",method:i18n.t("error.nonJsonTitle"),message:i18n.t("error.nonJsonText")}),R),R=>{var F;return R.response.headers["content-type"].includes("application/json")?((F=R.response.data)!=null&&F.error||store.commit("errors/error",{title:"error.http",method:R.response.config.url,message:R.response.data}),Promise.reject(R)):(store.commit("errors/error",{title:"error.api",method:R.response.config.url,message:i18n.t("error.nonJsonTitle")}),Promise.reject(R))});const api$1=api,SearchField_vue_vue_type_style_index_0_scoped_8903bb6e_lang="",_sfc_main$c={data(){return{queryText:"",activeMenuIndex:null,results:[]}},watch:{$route:"resetAutocomplete",queryText:debounce(function(R){this.input(R)},300)},methods:{submit(){var R,F;this.queryText&&this.$router.push(this.activeMenuIndex!==null?{name:this.results[(R=this.activeMenuIndex)!=null?R:0].routeName,...this.results[(F=this.activeMenuIndex)!=null?F:0].routeParams}:{name:"Search",query:{text:this.queryText}}).catch(()=>{})},async input(R){if(!R||R==="0"){this.resetAutocomplete();return}const F=await this.searchContacts(R),E=this.searchCategories(R);let V;window.appState.shopscriptInstalled&&/^\d+$/.test(this.queryText)&&(V={routeName:"Order",routeParams:{params:{id:this.queryText}},entity:{name:`${this.$t("Order")} ${this.queryText}`,photo_url_absolute:`${window.appState.baseStaticUrl}img/shop.svg`}}),this.results=[this.makeSearchListObjectFromEntity(R,"Search"),...E,...F],V&&this.results.push(V)},searchCategories(R){return this.$store.state.category.categories.filter(F=>F.name.toLowerCase().includes(R.toLowerCase())).map(F=>this.makeSearchListObjectFromEntity(F,"Category"))},async searchContacts(R){const{data:F}=await api$1.get("cash.contact.search",{params:{term:R}});return F.map(E=>this.makeSearchListObjectFromEntity(E,"Contact"))},makeSearchListObjectFromEntity(R,F){return{routeName:F,routeParams:F!=="Search"?{params:{id:R.id}}:{query:{text:R}},entity:R}},resetAutocomplete(){this.results=[],this.activeMenuIndex=null,this.queryText=""},up(){this.results.length&&(this.activeMenuIndex===null?this.activeMenuIndex=this.results.length-1:this.activeMenuIndex>0?this.activeMenuIndex=this.activeMenuIndex-1:this.activeMenuIndex=null)},down(){this.results.length&&(this.activeMenuIndex===null?this.activeMenuIndex=0:this.activeMenuIndex<this.results.length-1?this.activeMenuIndex=this.activeMenuIndex+1:this.activeMenuIndex=null)}}};var _sfc_render$c=function(){var F=this,E=F._self._c;return E("div",{staticClass:"box custom-mt-4 custom-mb-8"},[E("form",{staticClass:"state-with-inner-icon left width-100",staticStyle:{position:"relative"},on:{submit:function(V){return V.preventDefault(),F.submit.apply(null,arguments)}}},[E("input",{directives:[{name:"model",rawName:"v-model.trim",value:F.queryText,expression:"queryText",modifiers:{trim:!0}}],ref:"input",staticClass:"width-100 solid",attrs:{placeholder:F.$t("search.label"),type:"search",name:"query"},domProps:{value:F.queryText},on:{keyup:[function(V){return!V.type.indexOf("key")&&F._k(V.keyCode,"up",38,V.key,["Up","ArrowUp"])?null:F.up.apply(null,arguments)},function(V){return!V.type.indexOf("key")&&F._k(V.keyCode,"down",40,V.key,["Down","ArrowDown"])?null:F.down.apply(null,arguments)}],input:function(V){V.target.composing||(F.queryText=V.target.value.trim())},blur:function(V){return F.$forceUpdate()}}}),F.results.length>1?E("ul",{staticClass:"c-autocomplete-menu menu",style:`top:${F.$refs.input.offsetTop+F.$refs.input.offsetHeight}px;width:${F.$refs.input.offsetWidth}px;`},F._l(F.results,function(V,U){var W;return E("li",{key:U,staticClass:"c-autocomplete-menu__item",class:{active:U===F.activeMenuIndex},on:{mousedown:function(Y){F.activeMenuIndex=U,F.submit()}}},[E("a",{on:{click:function(Y){Y.preventDefault()}}},[V.entity.photo_url_absolute?E("span",{staticClass:"icon"},[E("img",{class:{userpic:V.routeName!=="Order"},attrs:{src:V.entity.photo_url_absolute,alt:""}})]):V.entity.glyph?E("span",{staticClass:"icon"},[E("i",{class:V.entity.glyph,style:`color: ${V.entity.color};`})]):V.entity.color?E("span",{staticClass:"icon"},[E("i",{staticClass:"rounded",style:`background-color: ${V.entity.color};`})]):E("i",{staticClass:"fas fa-search"}),E("span",[F._v(F._s((W=V.entity.name)!=null?W:F.queryText))])])])}),0):F._e(),F._m(0)])])},_sfc_staticRenderFns$c=[function(){var R=this,F=R._self._c;return F("button",{staticClass:"icon"},[F("i",{staticClass:"fas fa-search"})])}],__component__$c=normalizeComponent(_sfc_main$c,_sfc_render$c,_sfc_staticRenderFns$c,!1,null,"8903bb6e",null,null);const SearchField=__component__$c.exports;function ascending$1(R,F){return R==null||F==null?NaN:R<F?-1:R>F?1:R>=F?0:NaN}function descending(R,F){return R==null||F==null?NaN:F<R?-1:F>R?1:F>=R?0:NaN}function bisector(R){let F,E,V;R.length!==2?(F=ascending$1,E=(G,X)=>ascending$1(R(G),X),V=(G,X)=>R(G)-X):(F=R===ascending$1||R===descending?R:zero$1,E=R,V=R);function U(G,X,K=0,Z=G.length){if(K<Z){if(F(X,X)!==0)return Z;do{const J=K+Z>>>1;E(G[J],X)<0?K=J+1:Z=J}while(K<Z)}return K}function W(G,X,K=0,Z=G.length){if(K<Z){if(F(X,X)!==0)return Z;do{const J=K+Z>>>1;E(G[J],X)<=0?K=J+1:Z=J}while(K<Z)}return K}function Y(G,X,K=0,Z=G.length){const J=U(G,X,K,Z-1);return J>K&&V(G[J-1],X)>-V(G[J],X)?J-1:J}return{left:U,center:Y,right:W}}function zero$1(){return 0}function number$2(R){return R===null?NaN:+R}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$2).center;const bisect=bisectRight;function extent(R,F){let E,V;if(F===void 0)for(const U of R)U!=null&&(E===void 0?U>=U&&(E=V=U):(E>U&&(E=U),V<U&&(V=U)));else{let U=-1;for(let W of R)(W=F(W,++U,R))!=null&&(E===void 0?W>=W&&(E=V=W):(E>W&&(E=W),V<W&&(V=W)))}return[E,V]}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(R,F,E){const V=(F-R)/Math.max(0,E),U=Math.floor(Math.log10(V)),W=V/Math.pow(10,U),Y=W>=e10?10:W>=e5?5:W>=e2?2:1;let G,X,K;return U<0?(K=Math.pow(10,-U)/Y,G=Math.round(R*K),X=Math.round(F*K),G/K<R&&++G,X/K>F&&--X,K=-K):(K=Math.pow(10,U)*Y,G=Math.round(R/K),X=Math.round(F/K),G*K<R&&++G,X*K>F&&--X),X<G&&.5<=E&&E<2?tickSpec(R,F,E*2):[G,X,K]}function ticks(R,F,E){if(F=+F,R=+R,E=+E,!(E>0))return[];if(R===F)return[R];const V=F<R,[U,W,Y]=V?tickSpec(F,R,E):tickSpec(R,F,E);if(!(W>=U))return[];const G=W-U+1,X=new Array(G);if(V)if(Y<0)for(let K=0;K<G;++K)X[K]=(W-K)/-Y;else for(let K=0;K<G;++K)X[K]=(W-K)*Y;else if(Y<0)for(let K=0;K<G;++K)X[K]=(U+K)/-Y;else for(let K=0;K<G;++K)X[K]=(U+K)*Y;return X}function tickIncrement(R,F,E){return F=+F,R=+R,E=+E,tickSpec(R,F,E)[2]}function tickStep(R,F,E){F=+F,R=+R,E=+E;const V=F<R,U=V?tickIncrement(F,R,E):tickIncrement(R,F,E);return(V?-1:1)*(U<0?1/-U:U)}function max(R,F){let E;if(F===void 0)for(const V of R)V!=null&&(E<V||E===void 0&&V>=V)&&(E=V);else{let V=-1;for(let U of R)(U=F(U,++V,R))!=null&&(E<U||E===void 0&&U>=U)&&(E=U)}return E}function min(R,F){let E;if(F===void 0)for(const V of R)V!=null&&(E>V||E===void 0&&V>=V)&&(E=V);else{let V=-1;for(let U of R)(U=F(U,++V,R))!=null&&(E>U||E===void 0&&U>=U)&&(E=U)}return E}var noop={value:()=>{}};function dispatch(){for(var R=0,F=arguments.length,E={},V;R<F;++R){if(!(V=arguments[R]+"")||V in E||/[\s.]/.test(V))throw new Error("illegal type: "+V);E[V]=[]}return new Dispatch(E)}function Dispatch(R){this._=R}function parseTypenames$1(R,F){return R.trim().split(/^|\s+/).map(function(E){var V="",U=E.indexOf(".");if(U>=0&&(V=E.slice(U+1),E=E.slice(0,U)),E&&!F.hasOwnProperty(E))throw new Error("unknown type: "+E);return{type:E,name:V}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(R,F){var E=this._,V=parseTypenames$1(R+"",E),U,W=-1,Y=V.length;if(arguments.length<2){for(;++W<Y;)if((U=(R=V[W]).type)&&(U=get$1(E[U],R.name)))return U;return}if(F!=null&&typeof F!="function")throw new Error("invalid callback: "+F);for(;++W<Y;)if(U=(R=V[W]).type)E[U]=set$1(E[U],R.name,F);else if(F==null)for(U in E)E[U]=set$1(E[U],R.name,null);return this},copy:function(){var R={},F=this._;for(var E in F)R[E]=F[E].slice();return new Dispatch(R)},call:function(R,F){if((U=arguments.length-2)>0)for(var E=new Array(U),V=0,U,W;V<U;++V)E[V]=arguments[V+2];if(!this._.hasOwnProperty(R))throw new Error("unknown type: "+R);for(W=this._[R],V=0,U=W.length;V<U;++V)W[V].value.apply(F,E)},apply:function(R,F,E){if(!this._.hasOwnProperty(R))throw new Error("unknown type: "+R);for(var V=this._[R],U=0,W=V.length;U<W;++U)V[U].value.apply(F,E)}};function get$1(R,F){for(var E=0,V=R.length,U;E<V;++E)if((U=R[E]).name===F)return U.value}function set$1(R,F,E){for(var V=0,U=R.length;V<U;++V)if(R[V].name===F){R[V]=noop,R=R.slice(0,V).concat(R.slice(V+1));break}return E!=null&&R.push({name:F,value:E}),R}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace$1(R){var F=R+="",E=F.indexOf(":");return E>=0&&(F=R.slice(0,E))!=="xmlns"&&(R=R.slice(E+1)),namespaces.hasOwnProperty(F)?{space:namespaces[F],local:R}:R}function creatorInherit(R){return function(){var F=this.ownerDocument,E=this.namespaceURI;return E===xhtml&&F.documentElement.namespaceURI===xhtml?F.createElement(R):F.createElementNS(E,R)}}function creatorFixed(R){return function(){return this.ownerDocument.createElementNS(R.space,R.local)}}function creator(R){var F=namespace$1(R);return(F.local?creatorFixed:creatorInherit)(F)}function none(){}function selector(R){return R==null?none:function(){return this.querySelector(R)}}function selection_select(R){typeof R!="function"&&(R=selector(R));for(var F=this._groups,E=F.length,V=new Array(E),U=0;U<E;++U)for(var W=F[U],Y=W.length,G=V[U]=new Array(Y),X,K,Z=0;Z<Y;++Z)(X=W[Z])&&(K=R.call(X,X.__data__,Z,W))&&("__data__"in X&&(K.__data__=X.__data__),G[Z]=K);return new Selection$1(V,this._parents)}function array$1(R){return R==null?[]:Array.isArray(R)?R:Array.from(R)}function empty(){return[]}function selectorAll(R){return R==null?empty:function(){return this.querySelectorAll(R)}}function arrayAll(R){return function(){return array$1(R.apply(this,arguments))}}function selection_selectAll(R){typeof R=="function"?R=arrayAll(R):R=selectorAll(R);for(var F=this._groups,E=F.length,V=[],U=[],W=0;W<E;++W)for(var Y=F[W],G=Y.length,X,K=0;K<G;++K)(X=Y[K])&&(V.push(R.call(X,X.__data__,K,Y)),U.push(X));return new Selection$1(V,U)}function matcher(R){return function(){return this.matches(R)}}function childMatcher(R){return function(F){return F.matches(R)}}var find$1=Array.prototype.find;function childFind(R){return function(){return find$1.call(this.children,R)}}function childFirst(){return this.firstElementChild}function selection_selectChild(R){return this.select(R==null?childFirst:childFind(typeof R=="function"?R:childMatcher(R)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(R){return function(){return filter.call(this.children,R)}}function selection_selectChildren(R){return this.selectAll(R==null?children:childrenFilter(typeof R=="function"?R:childMatcher(R)))}function selection_filter(R){typeof R!="function"&&(R=matcher(R));for(var F=this._groups,E=F.length,V=new Array(E),U=0;U<E;++U)for(var W=F[U],Y=W.length,G=V[U]=[],X,K=0;K<Y;++K)(X=W[K])&&R.call(X,X.__data__,K,W)&&G.push(X);return new Selection$1(V,this._parents)}function sparse(R){return new Array(R.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(R,F){this.ownerDocument=R.ownerDocument,this.namespaceURI=R.namespaceURI,this._next=null,this._parent=R,this.__data__=F}EnterNode.prototype={constructor:EnterNode,appendChild:function(R){return this._parent.insertBefore(R,this._next)},insertBefore:function(R,F){return this._parent.insertBefore(R,F)},querySelector:function(R){return this._parent.querySelector(R)},querySelectorAll:function(R){return this._parent.querySelectorAll(R)}};function constant$2(R){return function(){return R}}function bindIndex(R,F,E,V,U,W){for(var Y=0,G,X=F.length,K=W.length;Y<K;++Y)(G=F[Y])?(G.__data__=W[Y],V[Y]=G):E[Y]=new EnterNode(R,W[Y]);for(;Y<X;++Y)(G=F[Y])&&(U[Y]=G)}function bindKey(R,F,E,V,U,W,Y){var G,X,K=new Map,Z=F.length,J=W.length,Q=new Array(Z),ee;for(G=0;G<Z;++G)(X=F[G])&&(Q[G]=ee=Y.call(X,X.__data__,G,F)+"",K.has(ee)?U[G]=X:K.set(ee,X));for(G=0;G<J;++G)ee=Y.call(R,W[G],G,W)+"",(X=K.get(ee))?(V[G]=X,X.__data__=W[G],K.delete(ee)):E[G]=new EnterNode(R,W[G]);for(G=0;G<Z;++G)(X=F[G])&&K.get(Q[G])===X&&(U[G]=X)}function datum(R){return R.__data__}function selection_data(R,F){if(!arguments.length)return Array.from(this,datum);var E=F?bindKey:bindIndex,V=this._parents,U=this._groups;typeof R!="function"&&(R=constant$2(R));for(var W=U.length,Y=new Array(W),G=new Array(W),X=new Array(W),K=0;K<W;++K){var Z=V[K],J=U[K],Q=J.length,ee=arraylike(R.call(Z,Z&&Z.__data__,K,V)),te=ee.length,ie=G[K]=new Array(te),ne=Y[K]=new Array(te),ae=X[K]=new Array(Q);E(Z,J,ie,ne,ae,ee,F);for(var se=0,oe=0,le,ue;se<te;++se)if(le=ie[se]){for(se>=oe&&(oe=se+1);!(ue=ne[oe])&&++oe<te;);le._next=ue||null}}return Y=new Selection$1(Y,V),Y._enter=G,Y._exit=X,Y}function arraylike(R){return typeof R=="object"&&"length"in R?R:Array.from(R)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(R,F,E){var V=this.enter(),U=this,W=this.exit();return typeof R=="function"?(V=R(V),V&&(V=V.selection())):V=V.append(R+""),F!=null&&(U=F(U),U&&(U=U.selection())),E==null?W.remove():E(W),V&&U?V.merge(U).order():U}function selection_merge(R){for(var F=R.selection?R.selection():R,E=this._groups,V=F._groups,U=E.length,W=V.length,Y=Math.min(U,W),G=new Array(U),X=0;X<Y;++X)for(var K=E[X],Z=V[X],J=K.length,Q=G[X]=new Array(J),ee,te=0;te<J;++te)(ee=K[te]||Z[te])&&(Q[te]=ee);for(;X<U;++X)G[X]=E[X];return new Selection$1(G,this._parents)}function selection_order(){for(var R=this._groups,F=-1,E=R.length;++F<E;)for(var V=R[F],U=V.length-1,W=V[U],Y;--U>=0;)(Y=V[U])&&(W&&Y.compareDocumentPosition(W)^4&&W.parentNode.insertBefore(Y,W),W=Y);return this}function selection_sort(R){R||(R=ascending);function F(J,Q){return J&&Q?R(J.__data__,Q.__data__):!J-!Q}for(var E=this._groups,V=E.length,U=new Array(V),W=0;W<V;++W){for(var Y=E[W],G=Y.length,X=U[W]=new Array(G),K,Z=0;Z<G;++Z)(K=Y[Z])&&(X[Z]=K);X.sort(F)}return new Selection$1(U,this._parents).order()}function ascending(R,F){return R<F?-1:R>F?1:R>=F?0:NaN}function selection_call(){var R=arguments[0];return arguments[0]=this,R.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var R=this._groups,F=0,E=R.length;F<E;++F)for(var V=R[F],U=0,W=V.length;U<W;++U){var Y=V[U];if(Y)return Y}return null}function selection_size(){let R=0;for(const F of this)++R;return R}function selection_empty(){return!this.node()}function selection_each(R){for(var F=this._groups,E=0,V=F.length;E<V;++E)for(var U=F[E],W=0,Y=U.length,G;W<Y;++W)(G=U[W])&&R.call(G,G.__data__,W,U);return this}function attrRemove$1(R){return function(){this.removeAttribute(R)}}function attrRemoveNS$1(R){return function(){this.removeAttributeNS(R.space,R.local)}}function attrConstant$1(R,F){return function(){this.setAttribute(R,F)}}function attrConstantNS$1(R,F){return function(){this.setAttributeNS(R.space,R.local,F)}}function attrFunction$1(R,F){return function(){var E=F.apply(this,arguments);E==null?this.removeAttribute(R):this.setAttribute(R,E)}}function attrFunctionNS$1(R,F){return function(){var E=F.apply(this,arguments);E==null?this.removeAttributeNS(R.space,R.local):this.setAttributeNS(R.space,R.local,E)}}function selection_attr(R,F){var E=namespace$1(R);if(arguments.length<2){var V=this.node();return E.local?V.getAttributeNS(E.space,E.local):V.getAttribute(E)}return this.each((F==null?E.local?attrRemoveNS$1:attrRemove$1:typeof F=="function"?E.local?attrFunctionNS$1:attrFunction$1:E.local?attrConstantNS$1:attrConstant$1)(E,F))}function defaultView(R){return R.ownerDocument&&R.ownerDocument.defaultView||R.document&&R||R.defaultView}function styleRemove$1(R){return function(){this.style.removeProperty(R)}}function styleConstant$1(R,F,E){return function(){this.style.setProperty(R,F,E)}}function styleFunction$1(R,F,E){return function(){var V=F.apply(this,arguments);V==null?this.style.removeProperty(R):this.style.setProperty(R,V,E)}}function selection_style(R,F,E){return arguments.length>1?this.each((F==null?styleRemove$1:typeof F=="function"?styleFunction$1:styleConstant$1)(R,F,E==null?"":E)):styleValue(this.node(),R)}function styleValue(R,F){return R.style.getPropertyValue(F)||defaultView(R).getComputedStyle(R,null).getPropertyValue(F)}function propertyRemove(R){return function(){delete this[R]}}function propertyConstant(R,F){return function(){this[R]=F}}function propertyFunction(R,F){return function(){var E=F.apply(this,arguments);E==null?delete this[R]:this[R]=E}}function selection_property(R,F){return arguments.length>1?this.each((F==null?propertyRemove:typeof F=="function"?propertyFunction:propertyConstant)(R,F)):this.node()[R]}function classArray(R){return R.trim().split(/^|\s+/)}function classList(R){return R.classList||new ClassList(R)}function ClassList(R){this._node=R,this._names=classArray(R.getAttribute("class")||"")}ClassList.prototype={add:function(R){var F=this._names.indexOf(R);F<0&&(this._names.push(R),this._node.setAttribute("class",this._names.join(" ")))},remove:function(R){var F=this._names.indexOf(R);F>=0&&(this._names.splice(F,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(R){return this._names.indexOf(R)>=0}};function classedAdd(R,F){for(var E=classList(R),V=-1,U=F.length;++V<U;)E.add(F[V])}function classedRemove(R,F){for(var E=classList(R),V=-1,U=F.length;++V<U;)E.remove(F[V])}function classedTrue(R){return function(){classedAdd(this,R)}}function classedFalse(R){return function(){classedRemove(this,R)}}function classedFunction(R,F){return function(){(F.apply(this,arguments)?classedAdd:classedRemove)(this,R)}}function selection_classed(R,F){var E=classArray(R+"");if(arguments.length<2){for(var V=classList(this.node()),U=-1,W=E.length;++U<W;)if(!V.contains(E[U]))return!1;return!0}return this.each((typeof F=="function"?classedFunction:F?classedTrue:classedFalse)(E,F))}function textRemove(){this.textContent=""}function textConstant$1(R){return function(){this.textContent=R}}function textFunction$1(R){return function(){var F=R.apply(this,arguments);this.textContent=F==null?"":F}}function selection_text(R){return arguments.length?this.each(R==null?textRemove:(typeof R=="function"?textFunction$1:textConstant$1)(R)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(R){return function(){this.innerHTML=R}}function htmlFunction(R){return function(){var F=R.apply(this,arguments);this.innerHTML=F==null?"":F}}function selection_html(R){return arguments.length?this.each(R==null?htmlRemove:(typeof R=="function"?htmlFunction:htmlConstant)(R)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(R){var F=typeof R=="function"?R:creator(R);return this.select(function(){return this.appendChild(F.apply(this,arguments))})}function constantNull(){return null}function selection_insert(R,F){var E=typeof R=="function"?R:creator(R),V=F==null?constantNull:typeof F=="function"?F:selector(F);return this.select(function(){return this.insertBefore(E.apply(this,arguments),V.apply(this,arguments)||null)})}function remove(){var R=this.parentNode;R&&R.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var R=this.cloneNode(!1),F=this.parentNode;return F?F.insertBefore(R,this.nextSibling):R}function selection_cloneDeep(){var R=this.cloneNode(!0),F=this.parentNode;return F?F.insertBefore(R,this.nextSibling):R}function selection_clone(R){return this.select(R?selection_cloneDeep:selection_cloneShallow)}function selection_datum(R){return arguments.length?this.property("__data__",R):this.node().__data__}function contextListener(R){return function(F){R.call(this,F,this.__data__)}}function parseTypenames(R){return R.trim().split(/^|\s+/).map(function(F){var E="",V=F.indexOf(".");return V>=0&&(E=F.slice(V+1),F=F.slice(0,V)),{type:F,name:E}})}function onRemove(R){return function(){var F=this.__on;if(!!F){for(var E=0,V=-1,U=F.length,W;E<U;++E)W=F[E],(!R.type||W.type===R.type)&&W.name===R.name?this.removeEventListener(W.type,W.listener,W.options):F[++V]=W;++V?F.length=V:delete this.__on}}}function onAdd(R,F,E){return function(){var V=this.__on,U,W=contextListener(F);if(V){for(var Y=0,G=V.length;Y<G;++Y)if((U=V[Y]).type===R.type&&U.name===R.name){this.removeEventListener(U.type,U.listener,U.options),this.addEventListener(U.type,U.listener=W,U.options=E),U.value=F;return}}this.addEventListener(R.type,W,E),U={type:R.type,name:R.name,value:F,listener:W,options:E},V?V.push(U):this.__on=[U]}}function selection_on(R,F,E){var V=parseTypenames(R+""),U,W=V.length,Y;if(arguments.length<2){var G=this.node().__on;if(G){for(var X=0,K=G.length,Z;X<K;++X)for(U=0,Z=G[X];U<W;++U)if((Y=V[U]).type===Z.type&&Y.name===Z.name)return Z.value}return}for(G=F?onAdd:onRemove,U=0;U<W;++U)this.each(G(V[U],F,E));return this}function dispatchEvent(R,F,E){var V=defaultView(R),U=V.CustomEvent;typeof U=="function"?U=new U(F,E):(U=V.document.createEvent("Event"),E?(U.initEvent(F,E.bubbles,E.cancelable),U.detail=E.detail):U.initEvent(F,!1,!1)),R.dispatchEvent(U)}function dispatchConstant(R,F){return function(){return dispatchEvent(this,R,F)}}function dispatchFunction(R,F){return function(){return dispatchEvent(this,R,F.apply(this,arguments))}}function selection_dispatch(R,F){return this.each((typeof F=="function"?dispatchFunction:dispatchConstant)(R,F))}function*selection_iterator(){for(var R=this._groups,F=0,E=R.length;F<E;++F)for(var V=R[F],U=0,W=V.length,Y;U<W;++U)(Y=V[U])&&(yield Y)}var root=[null];function Selection$1(R,F){this._groups=R,this._parents=F}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(R){return typeof R=="string"?new Selection$1([[document.querySelector(R)]],[document.documentElement]):new Selection$1([[R]],root)}function define(R,F,E){R.prototype=F.prototype=E,E.constructor=R}function extend(R,F){var E=Object.create(R.prototype);for(var V in F)E[V]=F[V];return E}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(R){return Object.assign(new this.constructor,this,R)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(R){var F,E;return R=(R+"").trim().toLowerCase(),(F=reHex.exec(R))?(E=F[1].length,F=parseInt(F[1],16),E===6?rgbn(F):E===3?new Rgb(F>>8&15|F>>4&240,F>>4&15|F&240,(F&15)<<4|F&15,1):E===8?rgba(F>>24&255,F>>16&255,F>>8&255,(F&255)/255):E===4?rgba(F>>12&15|F>>8&240,F>>8&15|F>>4&240,F>>4&15|F&240,((F&15)<<4|F&15)/255):null):(F=reRgbInteger.exec(R))?new Rgb(F[1],F[2],F[3],1):(F=reRgbPercent.exec(R))?new Rgb(F[1]*255/100,F[2]*255/100,F[3]*255/100,1):(F=reRgbaInteger.exec(R))?rgba(F[1],F[2],F[3],F[4]):(F=reRgbaPercent.exec(R))?rgba(F[1]*255/100,F[2]*255/100,F[3]*255/100,F[4]):(F=reHslPercent.exec(R))?hsla(F[1],F[2]/100,F[3]/100,1):(F=reHslaPercent.exec(R))?hsla(F[1],F[2]/100,F[3]/100,F[4]):named.hasOwnProperty(R)?rgbn(named[R]):R==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(R){return new Rgb(R>>16&255,R>>8&255,R&255,1)}function rgba(R,F,E,V){return V<=0&&(R=F=E=NaN),new Rgb(R,F,E,V)}function rgbConvert(R){return R instanceof Color||(R=color(R)),R?(R=R.rgb(),new Rgb(R.r,R.g,R.b,R.opacity)):new Rgb}function rgb(R,F,E,V){return arguments.length===1?rgbConvert(R):new Rgb(R,F,E,V==null?1:V)}function Rgb(R,F,E,V){this.r=+R,this.g=+F,this.b=+E,this.opacity=+V}define(Rgb,rgb,extend(Color,{brighter(R){return R=R==null?brighter:Math.pow(brighter,R),new Rgb(this.r*R,this.g*R,this.b*R,this.opacity)},darker(R){return R=R==null?darker:Math.pow(darker,R),new Rgb(this.r*R,this.g*R,this.b*R,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const R=clampa(this.opacity);return`${R===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${R===1?")":`, ${R})`}`}function clampa(R){return isNaN(R)?1:Math.max(0,Math.min(1,R))}function clampi(R){return Math.max(0,Math.min(255,Math.round(R)||0))}function hex(R){return R=clampi(R),(R<16?"0":"")+R.toString(16)}function hsla(R,F,E,V){return V<=0?R=F=E=NaN:E<=0||E>=1?R=F=NaN:F<=0&&(R=NaN),new Hsl(R,F,E,V)}function hslConvert(R){if(R instanceof Hsl)return new Hsl(R.h,R.s,R.l,R.opacity);if(R instanceof Color||(R=color(R)),!R)return new Hsl;if(R instanceof Hsl)return R;R=R.rgb();var F=R.r/255,E=R.g/255,V=R.b/255,U=Math.min(F,E,V),W=Math.max(F,E,V),Y=NaN,G=W-U,X=(W+U)/2;return G?(F===W?Y=(E-V)/G+(E<V)*6:E===W?Y=(V-F)/G+2:Y=(F-E)/G+4,G/=X<.5?W+U:2-W-U,Y*=60):G=X>0&&X<1?0:Y,new Hsl(Y,G,X,R.opacity)}function hsl(R,F,E,V){return arguments.length===1?hslConvert(R):new Hsl(R,F,E,V==null?1:V)}function Hsl(R,F,E,V){this.h=+R,this.s=+F,this.l=+E,this.opacity=+V}define(Hsl,hsl,extend(Color,{brighter(R){return R=R==null?brighter:Math.pow(brighter,R),new Hsl(this.h,this.s,this.l*R,this.opacity)},darker(R){return R=R==null?darker:Math.pow(darker,R),new Hsl(this.h,this.s,this.l*R,this.opacity)},rgb(){var R=this.h%360+(this.h<0)*360,F=isNaN(R)||isNaN(this.s)?0:this.s,E=this.l,V=E+(E<.5?E:1-E)*F,U=2*E-V;return new Rgb(hsl2rgb(R>=240?R-240:R+120,U,V),hsl2rgb(R,U,V),hsl2rgb(R<120?R+240:R-120,U,V),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const R=clampa(this.opacity);return`${R===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${R===1?")":`, ${R})`}`}}));function clamph(R){return R=(R||0)%360,R<0?R+360:R}function clampt(R){return Math.max(0,Math.min(1,R||0))}function hsl2rgb(R,F,E){return(R<60?F+(E-F)*R/60:R<180?E:R<240?F+(E-F)*(240-R)/60:F)*255}const constant$1=R=>()=>R;function linear$1(R,F){return function(E){return R+E*F}}function exponential(R,F,E){return R=Math.pow(R,E),F=Math.pow(F,E)-R,E=1/E,function(V){return Math.pow(R+V*F,E)}}function gamma(R){return(R=+R)==1?nogamma:function(F,E){return E-F?exponential(F,E,R):constant$1(isNaN(F)?E:F)}}function nogamma(R,F){var E=F-R;return E?linear$1(R,E):constant$1(isNaN(R)?F:R)}const interpolateRgb=function R(F){var E=gamma(F);function V(U,W){var Y=E((U=rgb(U)).r,(W=rgb(W)).r),G=E(U.g,W.g),X=E(U.b,W.b),K=nogamma(U.opacity,W.opacity);return function(Z){return U.r=Y(Z),U.g=G(Z),U.b=X(Z),U.opacity=K(Z),U+""}}return V.gamma=R,V}(1);function numberArray(R,F){F||(F=[]);var E=R?Math.min(F.length,R.length):0,V=F.slice(),U;return function(W){for(U=0;U<E;++U)V[U]=R[U]*(1-W)+F[U]*W;return V}}function isNumberArray(R){return ArrayBuffer.isView(R)&&!(R instanceof DataView)}function genericArray(R,F){var E=F?F.length:0,V=R?Math.min(E,R.length):0,U=new Array(V),W=new Array(E),Y;for(Y=0;Y<V;++Y)U[Y]=interpolate$1(R[Y],F[Y]);for(;Y<E;++Y)W[Y]=F[Y];return function(G){for(Y=0;Y<V;++Y)W[Y]=U[Y](G);return W}}function date$1(R,F){var E=new Date;return R=+R,F=+F,function(V){return E.setTime(R*(1-V)+F*V),E}}function interpolateNumber(R,F){return R=+R,F=+F,function(E){return R*(1-E)+F*E}}function object(R,F){var E={},V={},U;(R===null||typeof R!="object")&&(R={}),(F===null||typeof F!="object")&&(F={});for(U in F)U in R?E[U]=interpolate$1(R[U],F[U]):V[U]=F[U];return function(W){for(U in E)V[U]=E[U](W);return V}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(R){return function(){return R}}function one(R){return function(F){return R(F)+""}}function interpolateString(R,F){var E=reA.lastIndex=reB.lastIndex=0,V,U,W,Y=-1,G=[],X=[];for(R=R+"",F=F+"";(V=reA.exec(R))&&(U=reB.exec(F));)(W=U.index)>E&&(W=F.slice(E,W),G[Y]?G[Y]+=W:G[++Y]=W),(V=V[0])===(U=U[0])?G[Y]?G[Y]+=U:G[++Y]=U:(G[++Y]=null,X.push({i:Y,x:interpolateNumber(V,U)})),E=reB.lastIndex;return E<F.length&&(W=F.slice(E),G[Y]?G[Y]+=W:G[++Y]=W),G.length<2?X[0]?one(X[0].x):zero(F):(F=X.length,function(K){for(var Z=0,J;Z<F;++Z)G[(J=X[Z]).i]=J.x(K);return G.join("")})}function interpolate$1(R,F){var E=typeof F,V;return F==null||E==="boolean"?constant$1(F):(E==="number"?interpolateNumber:E==="string"?(V=color(F))?(F=V,interpolateRgb):interpolateString:F instanceof color?interpolateRgb:F instanceof Date?date$1:isNumberArray(F)?numberArray:Array.isArray(F)?genericArray:typeof F.valueOf!="function"&&typeof F.toString!="function"||isNaN(F)?object:interpolateNumber)(R,F)}function interpolateRound(R,F){return R=+R,F=+F,function(E){return Math.round(R*(1-E)+F*E)}}var degrees=180/Math.PI,identity$2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(R,F,E,V,U,W){var Y,G,X;return(Y=Math.sqrt(R*R+F*F))&&(R/=Y,F/=Y),(X=R*E+F*V)&&(E-=R*X,V-=F*X),(G=Math.sqrt(E*E+V*V))&&(E/=G,V/=G,X/=G),R*V<F*E&&(R=-R,F=-F,X=-X,Y=-Y),{translateX:U,translateY:W,rotate:Math.atan2(F,R)*degrees,skewX:Math.atan(X)*degrees,scaleX:Y,scaleY:G}}var svgNode;function parseCss(R){const F=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(R+"");return F.isIdentity?identity$2:decompose(F.a,F.b,F.c,F.d,F.e,F.f)}function parseSvg(R){return R==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",R),!(R=svgNode.transform.baseVal.consolidate()))?identity$2:(R=R.matrix,decompose(R.a,R.b,R.c,R.d,R.e,R.f))}function interpolateTransform(R,F,E,V){function U(K){return K.length?K.pop()+" ":""}function W(K,Z,J,Q,ee,te){if(K!==J||Z!==Q){var ie=ee.push("translate(",null,F,null,E);te.push({i:ie-4,x:interpolateNumber(K,J)},{i:ie-2,x:interpolateNumber(Z,Q)})}else(J||Q)&&ee.push("translate("+J+F+Q+E)}function Y(K,Z,J,Q){K!==Z?(K-Z>180?Z+=360:Z-K>180&&(K+=360),Q.push({i:J.push(U(J)+"rotate(",null,V)-2,x:interpolateNumber(K,Z)})):Z&&J.push(U(J)+"rotate("+Z+V)}function G(K,Z,J,Q){K!==Z?Q.push({i:J.push(U(J)+"skewX(",null,V)-2,x:interpolateNumber(K,Z)}):Z&&J.push(U(J)+"skewX("+Z+V)}function X(K,Z,J,Q,ee,te){if(K!==J||Z!==Q){var ie=ee.push(U(ee)+"scale(",null,",",null,")");te.push({i:ie-4,x:interpolateNumber(K,J)},{i:ie-2,x:interpolateNumber(Z,Q)})}else(J!==1||Q!==1)&&ee.push(U(ee)+"scale("+J+","+Q+")")}return function(K,Z){var J=[],Q=[];return K=R(K),Z=R(Z),W(K.translateX,K.translateY,Z.translateX,Z.translateY,J,Q),Y(K.rotate,Z.rotate,J,Q),G(K.skewX,Z.skewX,J,Q),X(K.scaleX,K.scaleY,Z.scaleX,Z.scaleY,J,Q),K=Z=null,function(ee){for(var te=-1,ie=Q.length,ne;++te<ie;)J[(ne=Q[te]).i]=ne.x(ee);return J.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(R){setTimeout(R,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(R,F,E){if(typeof R!="function")throw new TypeError("callback is not a function");E=(E==null?now():+E)+(F==null?0:+F),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=R,this._time=E,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(R,F,E){var V=new Timer;return V.restart(R,F,E),V}function timerFlush(){now(),++frame;for(var R=taskHead,F;R;)(F=clockNow-R._time)>=0&&R._call.call(void 0,F),R=R._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var R=clock.now(),F=R-clockLast;F>pokeDelay&&(clockSkew-=F,clockLast=R)}function nap(){for(var R,F=taskHead,E,V=1/0;F;)F._call?(V>F._time&&(V=F._time),R=F,F=F._next):(E=F._next,F._next=null,F=R?R._next=E:taskHead=E);taskTail=R,sleep(V)}function sleep(R){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var F=R-clockNow;F>24?(R<1/0&&(timeout$1=setTimeout(wake,R-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(R,F,E){var V=new Timer;return F=F==null?0:+F,V.restart(U=>{V.stop(),R(U+F)},F,E),V}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(R,F,E,V,U,W){var Y=R.__transition;if(!Y)R.__transition={};else if(E in Y)return;create(R,E,{name:F,index:V,group:U,on:emptyOn,tween:emptyTween,time:W.time,delay:W.delay,duration:W.duration,ease:W.ease,timer:null,state:CREATED})}function init(R,F){var E=get(R,F);if(E.state>CREATED)throw new Error("too late; already scheduled");return E}function set(R,F){var E=get(R,F);if(E.state>STARTED)throw new Error("too late; already running");return E}function get(R,F){var E=R.__transition;if(!E||!(E=E[F]))throw new Error("transition not found");return E}function create(R,F,E){var V=R.__transition,U;V[F]=E,E.timer=timer(W,0,E.time);function W(K){E.state=SCHEDULED,E.timer.restart(Y,E.delay,E.time),E.delay<=K&&Y(K-E.delay)}function Y(K){var Z,J,Q,ee;if(E.state!==SCHEDULED)return X();for(Z in V)if(ee=V[Z],ee.name===E.name){if(ee.state===STARTED)return timeout(Y);ee.state===RUNNING?(ee.state=ENDED,ee.timer.stop(),ee.on.call("interrupt",R,R.__data__,ee.index,ee.group),delete V[Z]):+Z<F&&(ee.state=ENDED,ee.timer.stop(),ee.on.call("cancel",R,R.__data__,ee.index,ee.group),delete V[Z])}if(timeout(function(){E.state===STARTED&&(E.state=RUNNING,E.timer.restart(G,E.delay,E.time),G(K))}),E.state=STARTING,E.on.call("start",R,R.__data__,E.index,E.group),E.state===STARTING){for(E.state=STARTED,U=new Array(Q=E.tween.length),Z=0,J=-1;Z<Q;++Z)(ee=E.tween[Z].value.call(R,R.__data__,E.index,E.group))&&(U[++J]=ee);U.length=J+1}}function G(K){for(var Z=K<E.duration?E.ease.call(null,K/E.duration):(E.timer.restart(X),E.state=ENDING,1),J=-1,Q=U.length;++J<Q;)U[J].call(R,Z);E.state===ENDING&&(E.on.call("end",R,R.__data__,E.index,E.group),X())}function X(){E.state=ENDED,E.timer.stop(),delete V[F];for(var K in V)return;delete R.__transition}}function interrupt(R,F){var E=R.__transition,V,U,W=!0,Y;if(!!E){F=F==null?null:F+"";for(Y in E){if((V=E[Y]).name!==F){W=!1;continue}U=V.state>STARTING&&V.state<ENDING,V.state=ENDED,V.timer.stop(),V.on.call(U?"interrupt":"cancel",R,R.__data__,V.index,V.group),delete E[Y]}W&&delete R.__transition}}function selection_interrupt(R){return this.each(function(){interrupt(this,R)})}function tweenRemove(R,F){var E,V;return function(){var U=set(this,R),W=U.tween;if(W!==E){V=E=W;for(var Y=0,G=V.length;Y<G;++Y)if(V[Y].name===F){V=V.slice(),V.splice(Y,1);break}}U.tween=V}}function tweenFunction(R,F,E){var V,U;if(typeof E!="function")throw new Error;return function(){var W=set(this,R),Y=W.tween;if(Y!==V){U=(V=Y).slice();for(var G={name:F,value:E},X=0,K=U.length;X<K;++X)if(U[X].name===F){U[X]=G;break}X===K&&U.push(G)}W.tween=U}}function transition_tween(R,F){var E=this._id;if(R+="",arguments.length<2){for(var V=get(this.node(),E).tween,U=0,W=V.length,Y;U<W;++U)if((Y=V[U]).name===R)return Y.value;return null}return this.each((F==null?tweenRemove:tweenFunction)(E,R,F))}function tweenValue(R,F,E){var V=R._id;return R.each(function(){var U=set(this,V);(U.value||(U.value={}))[F]=E.apply(this,arguments)}),function(U){return get(U,V).value[F]}}function interpolate(R,F){var E;return(typeof F=="number"?interpolateNumber:F instanceof color?interpolateRgb:(E=color(F))?(F=E,interpolateRgb):interpolateString)(R,F)}function attrRemove(R){return function(){this.removeAttribute(R)}}function attrRemoveNS(R){return function(){this.removeAttributeNS(R.space,R.local)}}function attrConstant(R,F,E){var V,U=E+"",W;return function(){var Y=this.getAttribute(R);return Y===U?null:Y===V?W:W=F(V=Y,E)}}function attrConstantNS(R,F,E){var V,U=E+"",W;return function(){var Y=this.getAttributeNS(R.space,R.local);return Y===U?null:Y===V?W:W=F(V=Y,E)}}function attrFunction(R,F,E){var V,U,W;return function(){var Y,G=E(this),X;return G==null?void this.removeAttribute(R):(Y=this.getAttribute(R),X=G+"",Y===X?null:Y===V&&X===U?W:(U=X,W=F(V=Y,G)))}}function attrFunctionNS(R,F,E){var V,U,W;return function(){var Y,G=E(this),X;return G==null?void this.removeAttributeNS(R.space,R.local):(Y=this.getAttributeNS(R.space,R.local),X=G+"",Y===X?null:Y===V&&X===U?W:(U=X,W=F(V=Y,G)))}}function transition_attr(R,F){var E=namespace$1(R),V=E==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(R,typeof F=="function"?(E.local?attrFunctionNS:attrFunction)(E,V,tweenValue(this,"attr."+R,F)):F==null?(E.local?attrRemoveNS:attrRemove)(E):(E.local?attrConstantNS:attrConstant)(E,V,F))}function attrInterpolate(R,F){return function(E){this.setAttribute(R,F.call(this,E))}}function attrInterpolateNS(R,F){return function(E){this.setAttributeNS(R.space,R.local,F.call(this,E))}}function attrTweenNS(R,F){var E,V;function U(){var W=F.apply(this,arguments);return W!==V&&(E=(V=W)&&attrInterpolateNS(R,W)),E}return U._value=F,U}function attrTween(R,F){var E,V;function U(){var W=F.apply(this,arguments);return W!==V&&(E=(V=W)&&attrInterpolate(R,W)),E}return U._value=F,U}function transition_attrTween(R,F){var E="attr."+R;if(arguments.length<2)return(E=this.tween(E))&&E._value;if(F==null)return this.tween(E,null);if(typeof F!="function")throw new Error;var V=namespace$1(R);return this.tween(E,(V.local?attrTweenNS:attrTween)(V,F))}function delayFunction(R,F){return function(){init(this,R).delay=+F.apply(this,arguments)}}function delayConstant(R,F){return F=+F,function(){init(this,R).delay=F}}function transition_delay(R){var F=this._id;return arguments.length?this.each((typeof R=="function"?delayFunction:delayConstant)(F,R)):get(this.node(),F).delay}function durationFunction(R,F){return function(){set(this,R).duration=+F.apply(this,arguments)}}function durationConstant(R,F){return F=+F,function(){set(this,R).duration=F}}function transition_duration(R){var F=this._id;return arguments.length?this.each((typeof R=="function"?durationFunction:durationConstant)(F,R)):get(this.node(),F).duration}function easeConstant(R,F){if(typeof F!="function")throw new Error;return function(){set(this,R).ease=F}}function transition_ease(R){var F=this._id;return arguments.length?this.each(easeConstant(F,R)):get(this.node(),F).ease}function easeVarying(R,F){return function(){var E=F.apply(this,arguments);if(typeof E!="function")throw new Error;set(this,R).ease=E}}function transition_easeVarying(R){if(typeof R!="function")throw new Error;return this.each(easeVarying(this._id,R))}function transition_filter(R){typeof R!="function"&&(R=matcher(R));for(var F=this._groups,E=F.length,V=new Array(E),U=0;U<E;++U)for(var W=F[U],Y=W.length,G=V[U]=[],X,K=0;K<Y;++K)(X=W[K])&&R.call(X,X.__data__,K,W)&&G.push(X);return new Transition(V,this._parents,this._name,this._id)}function transition_merge(R){if(R._id!==this._id)throw new Error;for(var F=this._groups,E=R._groups,V=F.length,U=E.length,W=Math.min(V,U),Y=new Array(V),G=0;G<W;++G)for(var X=F[G],K=E[G],Z=X.length,J=Y[G]=new Array(Z),Q,ee=0;ee<Z;++ee)(Q=X[ee]||K[ee])&&(J[ee]=Q);for(;G<V;++G)Y[G]=F[G];return new Transition(Y,this._parents,this._name,this._id)}function start(R){return(R+"").trim().split(/^|\s+/).every(function(F){var E=F.indexOf(".");return E>=0&&(F=F.slice(0,E)),!F||F==="start"})}function onFunction(R,F,E){var V,U,W=start(F)?init:set;return function(){var Y=W(this,R),G=Y.on;G!==V&&(U=(V=G).copy()).on(F,E),Y.on=U}}function transition_on(R,F){var E=this._id;return arguments.length<2?get(this.node(),E).on.on(R):this.each(onFunction(E,R,F))}function removeFunction(R){return function(){var F=this.parentNode;for(var E in this.__transition)if(+E!==R)return;F&&F.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(R){var F=this._name,E=this._id;typeof R!="function"&&(R=selector(R));for(var V=this._groups,U=V.length,W=new Array(U),Y=0;Y<U;++Y)for(var G=V[Y],X=G.length,K=W[Y]=new Array(X),Z,J,Q=0;Q<X;++Q)(Z=G[Q])&&(J=R.call(Z,Z.__data__,Q,G))&&("__data__"in Z&&(J.__data__=Z.__data__),K[Q]=J,schedule(K[Q],F,E,Q,K,get(Z,E)));return new Transition(W,this._parents,F,E)}function transition_selectAll(R){var F=this._name,E=this._id;typeof R!="function"&&(R=selectorAll(R));for(var V=this._groups,U=V.length,W=[],Y=[],G=0;G<U;++G)for(var X=V[G],K=X.length,Z,J=0;J<K;++J)if(Z=X[J]){for(var Q=R.call(Z,Z.__data__,J,X),ee,te=get(Z,E),ie=0,ne=Q.length;ie<ne;++ie)(ee=Q[ie])&&schedule(ee,F,E,ie,Q,te);W.push(Q),Y.push(Z)}return new Transition(W,Y,F,E)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(R,F){var E,V,U;return function(){var W=styleValue(this,R),Y=(this.style.removeProperty(R),styleValue(this,R));return W===Y?null:W===E&&Y===V?U:U=F(E=W,V=Y)}}function styleRemove(R){return function(){this.style.removeProperty(R)}}function styleConstant(R,F,E){var V,U=E+"",W;return function(){var Y=styleValue(this,R);return Y===U?null:Y===V?W:W=F(V=Y,E)}}function styleFunction(R,F,E){var V,U,W;return function(){var Y=styleValue(this,R),G=E(this),X=G+"";return G==null&&(X=G=(this.style.removeProperty(R),styleValue(this,R))),Y===X?null:Y===V&&X===U?W:(U=X,W=F(V=Y,G))}}function styleMaybeRemove(R,F){var E,V,U,W="style."+F,Y="end."+W,G;return function(){var X=set(this,R),K=X.on,Z=X.value[W]==null?G||(G=styleRemove(F)):void 0;(K!==E||U!==Z)&&(V=(E=K).copy()).on(Y,U=Z),X.on=V}}function transition_style(R,F,E){var V=(R+="")=="transform"?interpolateTransformCss:interpolate;return F==null?this.styleTween(R,styleNull(R,V)).on("end.style."+R,styleRemove(R)):typeof F=="function"?this.styleTween(R,styleFunction(R,V,tweenValue(this,"style."+R,F))).each(styleMaybeRemove(this._id,R)):this.styleTween(R,styleConstant(R,V,F),E).on("end.style."+R,null)}function styleInterpolate(R,F,E){return function(V){this.style.setProperty(R,F.call(this,V),E)}}function styleTween(R,F,E){var V,U;function W(){var Y=F.apply(this,arguments);return Y!==U&&(V=(U=Y)&&styleInterpolate(R,Y,E)),V}return W._value=F,W}function transition_styleTween(R,F,E){var V="style."+(R+="");if(arguments.length<2)return(V=this.tween(V))&&V._value;if(F==null)return this.tween(V,null);if(typeof F!="function")throw new Error;return this.tween(V,styleTween(R,F,E==null?"":E))}function textConstant(R){return function(){this.textContent=R}}function textFunction(R){return function(){var F=R(this);this.textContent=F==null?"":F}}function transition_text(R){return this.tween("text",typeof R=="function"?textFunction(tweenValue(this,"text",R)):textConstant(R==null?"":R+""))}function textInterpolate(R){return function(F){this.textContent=R.call(this,F)}}function textTween(R){var F,E;function V(){var U=R.apply(this,arguments);return U!==E&&(F=(E=U)&&textInterpolate(U)),F}return V._value=R,V}function transition_textTween(R){var F="text";if(arguments.length<1)return(F=this.tween(F))&&F._value;if(R==null)return this.tween(F,null);if(typeof R!="function")throw new Error;return this.tween(F,textTween(R))}function transition_transition(){for(var R=this._name,F=this._id,E=newId(),V=this._groups,U=V.length,W=0;W<U;++W)for(var Y=V[W],G=Y.length,X,K=0;K<G;++K)if(X=Y[K]){var Z=get(X,F);schedule(X,R,E,K,Y,{time:Z.time+Z.delay+Z.duration,delay:0,duration:Z.duration,ease:Z.ease})}return new Transition(V,this._parents,R,E)}function transition_end(){var R,F,E=this,V=E._id,U=E.size();return new Promise(function(W,Y){var G={value:Y},X={value:function(){--U===0&&W()}};E.each(function(){var K=set(this,V),Z=K.on;Z!==R&&(F=(R=Z).copy(),F._.cancel.push(G),F._.interrupt.push(G),F._.end.push(X)),K.on=F}),U===0&&W()})}var id=0;function Transition(R,F,E,V){this._groups=R,this._parents=F,this._name=E,this._id=V}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(R){return((R*=2)<=1?R*R*R:(R-=2)*R*R+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(R,F){for(var E;!(E=R.__transition)||!(E=E[F]);)if(!(R=R.parentNode))throw new Error(`transition ${F} not found`);return E}function selection_transition(R){var F,E;R instanceof Transition?(F=R._id,R=R._name):(F=newId(),(E=defaultTiming).time=now(),R=R==null?null:R+"");for(var V=this._groups,U=V.length,W=0;W<U;++W)for(var Y=V[W],G=Y.length,X,K=0;K<G;++K)(X=Y[K])&&schedule(X,R,F,K,Y,E||inherit(X,F));return new Transition(V,this._parents,R,F)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(R){this._+=R[0];for(let F=1,E=R.length;F<E;++F)this._+=arguments[F]+R[F]}function appendRound(R){let F=Math.floor(R);if(!(F>=0))throw new Error(`invalid digits: ${R}`);if(F>15)return append;const E=10**F;return function(V){this._+=V[0];for(let U=1,W=V.length;U<W;++U)this._+=Math.round(arguments[U]*E)/E+V[U]}}class Path{constructor(F){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=F==null?append:appendRound(F)}moveTo(F,E){this._append`M${this._x0=this._x1=+F},${this._y0=this._y1=+E}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(F,E){this._append`L${this._x1=+F},${this._y1=+E}`}quadraticCurveTo(F,E,V,U){this._append`Q${+F},${+E},${this._x1=+V},${this._y1=+U}`}bezierCurveTo(F,E,V,U,W,Y){this._append`C${+F},${+E},${+V},${+U},${this._x1=+W},${this._y1=+Y}`}arcTo(F,E,V,U,W){if(F=+F,E=+E,V=+V,U=+U,W=+W,W<0)throw new Error(`negative radius: ${W}`);let Y=this._x1,G=this._y1,X=V-F,K=U-E,Z=Y-F,J=G-E,Q=Z*Z+J*J;if(this._x1===null)this._append`M${this._x1=F},${this._y1=E}`;else if(Q>epsilon)if(!(Math.abs(J*X-K*Z)>epsilon)||!W)this._append`L${this._x1=F},${this._y1=E}`;else{let ee=V-Y,te=U-G,ie=X*X+K*K,ne=ee*ee+te*te,ae=Math.sqrt(ie),se=Math.sqrt(Q),oe=W*Math.tan((pi-Math.acos((ie+Q-ne)/(2*ae*se)))/2),le=oe/se,ue=oe/ae;Math.abs(le-1)>epsilon&&this._append`L${F+le*Z},${E+le*J}`,this._append`A${W},${W},0,0,${+(J*ee>Z*te)},${this._x1=F+ue*X},${this._y1=E+ue*K}`}}arc(F,E,V,U,W,Y){if(F=+F,E=+E,V=+V,Y=!!Y,V<0)throw new Error(`negative radius: ${V}`);let G=V*Math.cos(U),X=V*Math.sin(U),K=F+G,Z=E+X,J=1^Y,Q=Y?U-W:W-U;this._x1===null?this._append`M${K},${Z}`:(Math.abs(this._x1-K)>epsilon||Math.abs(this._y1-Z)>epsilon)&&this._append`L${K},${Z}`,V&&(Q<0&&(Q=Q%tau+tau),Q>tauEpsilon?this._append`A${V},${V},0,1,${J},${F-G},${E-X}A${V},${V},0,1,${J},${this._x1=K},${this._y1=Z}`:Q>epsilon&&this._append`A${V},${V},0,${+(Q>=pi)},${J},${this._x1=F+V*Math.cos(W)},${this._y1=E+V*Math.sin(W)}`)}rect(F,E,V,U){this._append`M${this._x0=this._x1=+F},${this._y0=this._y1=+E}h${V=+V}v${+U}h${-V}Z`}toString(){return this._}}function formatDecimal(R){return Math.abs(R=Math.round(R))>=1e21?R.toLocaleString("en").replace(/,/g,""):R.toString(10)}function formatDecimalParts(R,F){if((E=(R=F?R.toExponential(F-1):R.toExponential()).indexOf("e"))<0)return null;var E,V=R.slice(0,E);return[V.length>1?V[0]+V.slice(2):V,+R.slice(E+1)]}function exponent(R){return R=formatDecimalParts(Math.abs(R)),R?R[1]:NaN}function formatGroup(R,F){return function(E,V){for(var U=E.length,W=[],Y=0,G=R[0],X=0;U>0&&G>0&&(X+G+1>V&&(G=Math.max(1,V-X)),W.push(E.substring(U-=G,U+G)),!((X+=G+1)>V));)G=R[Y=(Y+1)%R.length];return W.reverse().join(F)}}function formatNumerals(R){return function(F){return F.replace(/[0-9]/g,function(E){return R[+E]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(R){if(!(F=re.exec(R)))throw new Error("invalid format: "+R);var F;return new FormatSpecifier({fill:F[1],align:F[2],sign:F[3],symbol:F[4],zero:F[5],width:F[6],comma:F[7],precision:F[8]&&F[8].slice(1),trim:F[9],type:F[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(R){this.fill=R.fill===void 0?" ":R.fill+"",this.align=R.align===void 0?">":R.align+"",this.sign=R.sign===void 0?"-":R.sign+"",this.symbol=R.symbol===void 0?"":R.symbol+"",this.zero=!!R.zero,this.width=R.width===void 0?void 0:+R.width,this.comma=!!R.comma,this.precision=R.precision===void 0?void 0:+R.precision,this.trim=!!R.trim,this.type=R.type===void 0?"":R.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(R){e:for(var F=R.length,E=1,V=-1,U;E<F;++E)switch(R[E]){case".":V=U=E;break;case"0":V===0&&(V=E),U=E;break;default:if(!+R[E])break e;V>0&&(V=0);break}return V>0?R.slice(0,V)+R.slice(U+1):R}var prefixExponent;function formatPrefixAuto(R,F){var E=formatDecimalParts(R,F);if(!E)return R+"";var V=E[0],U=E[1],W=U-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(U/3)))*3)+1,Y=V.length;return W===Y?V:W>Y?V+new Array(W-Y+1).join("0"):W>0?V.slice(0,W)+"."+V.slice(W):"0."+new Array(1-W).join("0")+formatDecimalParts(R,Math.max(0,F+W-1))[0]}function formatRounded(R,F){var E=formatDecimalParts(R,F);if(!E)return R+"";var V=E[0],U=E[1];return U<0?"0."+new Array(-U).join("0")+V:V.length>U+1?V.slice(0,U+1)+"."+V.slice(U+1):V+new Array(U-V.length+2).join("0")}const formatTypes={"%":(R,F)=>(R*100).toFixed(F),b:R=>Math.round(R).toString(2),c:R=>R+"",d:formatDecimal,e:(R,F)=>R.toExponential(F),f:(R,F)=>R.toFixed(F),g:(R,F)=>R.toPrecision(F),o:R=>Math.round(R).toString(8),p:(R,F)=>formatRounded(R*100,F),r:formatRounded,s:formatPrefixAuto,X:R=>Math.round(R).toString(16).toUpperCase(),x:R=>Math.round(R).toString(16)};function identity$1(R){return R}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(R){var F=R.grouping===void 0||R.thousands===void 0?identity$1:formatGroup(map.call(R.grouping,Number),R.thousands+""),E=R.currency===void 0?"":R.currency[0]+"",V=R.currency===void 0?"":R.currency[1]+"",U=R.decimal===void 0?".":R.decimal+"",W=R.numerals===void 0?identity$1:formatNumerals(map.call(R.numerals,String)),Y=R.percent===void 0?"%":R.percent+"",G=R.minus===void 0?"\u2212":R.minus+"",X=R.nan===void 0?"NaN":R.nan+"";function K(J){J=formatSpecifier(J);var Q=J.fill,ee=J.align,te=J.sign,ie=J.symbol,ne=J.zero,ae=J.width,se=J.comma,oe=J.precision,le=J.trim,ue=J.type;ue==="n"?(se=!0,ue="g"):formatTypes[ue]||(oe===void 0&&(oe=12),le=!0,ue="g"),(ne||Q==="0"&&ee==="=")&&(ne=!0,Q="0",ee="=");var ce=ie==="$"?E:ie==="#"&&/[boxX]/.test(ue)?"0"+ue.toLowerCase():"",he=ie==="$"?V:/[%p]/.test(ue)?Y:"",de=formatTypes[ue],fe=/[defgprs%]/.test(ue);oe=oe===void 0?6:/[gprs]/.test(ue)?Math.max(1,Math.min(21,oe)):Math.max(0,Math.min(20,oe));function Te(xe){var pe=ce,_e=he,Ce,be,ge;if(ue==="c")_e=de(xe)+_e,xe="";else{xe=+xe;var we=xe<0||1/xe<0;if(xe=isNaN(xe)?X:de(Math.abs(xe),oe),le&&(xe=formatTrim(xe)),we&&+xe==0&&te!=="+"&&(we=!1),pe=(we?te==="("?te:G:te==="-"||te==="("?"":te)+pe,_e=(ue==="s"?prefixes[8+prefixExponent/3]:"")+_e+(we&&te==="("?")":""),fe){for(Ce=-1,be=xe.length;++Ce<be;)if(ge=xe.charCodeAt(Ce),48>ge||ge>57){_e=(ge===46?U+xe.slice(Ce+1):xe.slice(Ce))+_e,xe=xe.slice(0,Ce);break}}}se&&!ne&&(xe=F(xe,1/0));var Pe=pe.length+xe.length+_e.length,Oe=Pe<ae?new Array(ae-Pe+1).join(Q):"";switch(se&&ne&&(xe=F(Oe+xe,Oe.length?ae-_e.length:1/0),Oe=""),ee){case"<":xe=pe+xe+_e+Oe;break;case"=":xe=pe+Oe+xe+_e;break;case"^":xe=Oe.slice(0,Pe=Oe.length>>1)+pe+xe+_e+Oe.slice(Pe);break;default:xe=Oe+pe+xe+_e;break}return W(xe)}return Te.toString=function(){return J+""},Te}function Z(J,Q){var ee=K((J=formatSpecifier(J),J.type="f",J)),te=Math.max(-8,Math.min(8,Math.floor(exponent(Q)/3)))*3,ie=Math.pow(10,-te),ne=prefixes[8+te/3];return function(ae){return ee(ie*ae)+ne}}return{format:K,formatPrefix:Z}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(R){return locale$1=formatLocale$1(R),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(R){return Math.max(0,-exponent(Math.abs(R)))}function precisionPrefix(R,F){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(F)/3)))*3-exponent(Math.abs(R)))}function precisionRound(R,F){return R=Math.abs(R),F=Math.abs(F)-R,Math.max(0,exponent(F)-exponent(R))+1}function initRange(R,F){switch(arguments.length){case 0:break;case 1:this.range(R);break;default:this.range(F).domain(R);break}return this}function constants(R){return function(){return R}}function number$1(R){return+R}var unit=[0,1];function identity(R){return R}function normalize(R,F){return(F-=R=+R)?function(E){return(E-R)/F}:constants(isNaN(F)?NaN:.5)}function clamper(R,F){var E;return R>F&&(E=R,R=F,F=E),function(V){return Math.max(R,Math.min(F,V))}}function bimap(R,F,E){var V=R[0],U=R[1],W=F[0],Y=F[1];return U<V?(V=normalize(U,V),W=E(Y,W)):(V=normalize(V,U),W=E(W,Y)),function(G){return W(V(G))}}function polymap(R,F,E){var V=Math.min(R.length,F.length)-1,U=new Array(V),W=new Array(V),Y=-1;for(R[V]<R[0]&&(R=R.slice().reverse(),F=F.slice().reverse());++Y<V;)U[Y]=normalize(R[Y],R[Y+1]),W[Y]=E(F[Y],F[Y+1]);return function(G){var X=bisect(R,G,1,V)-1;return W[X](U[X](G))}}function copy(R,F){return F.domain(R.domain()).range(R.range()).interpolate(R.interpolate()).clamp(R.clamp()).unknown(R.unknown())}function transformer(){var R=unit,F=unit,E=interpolate$1,V,U,W,Y=identity,G,X,K;function Z(){var Q=Math.min(R.length,F.length);return Y!==identity&&(Y=clamper(R[0],R[Q-1])),G=Q>2?polymap:bimap,X=K=null,J}function J(Q){return Q==null||isNaN(Q=+Q)?W:(X||(X=G(R.map(V),F,E)))(V(Y(Q)))}return J.invert=function(Q){return Y(U((K||(K=G(F,R.map(V),interpolateNumber)))(Q)))},J.domain=function(Q){return arguments.length?(R=Array.from(Q,number$1),Z()):R.slice()},J.range=function(Q){return arguments.length?(F=Array.from(Q),Z()):F.slice()},J.rangeRound=function(Q){return F=Array.from(Q),E=interpolateRound,Z()},J.clamp=function(Q){return arguments.length?(Y=Q?!0:identity,Z()):Y!==identity},J.interpolate=function(Q){return arguments.length?(E=Q,Z()):E},J.unknown=function(Q){return arguments.length?(W=Q,J):W},function(Q,ee){return V=Q,U=ee,Z()}}function continuous(){return transformer()(identity,identity)}function tickFormat(R,F,E,V){var U=tickStep(R,F,E),W;switch(V=formatSpecifier(V==null?",f":V),V.type){case"s":{var Y=Math.max(Math.abs(R),Math.abs(F));return V.precision==null&&!isNaN(W=precisionPrefix(U,Y))&&(V.precision=W),formatPrefix(V,Y)}case"":case"e":case"g":case"p":case"r":{V.precision==null&&!isNaN(W=precisionRound(U,Math.max(Math.abs(R),Math.abs(F))))&&(V.precision=W-(V.type==="e"));break}case"f":case"%":{V.precision==null&&!isNaN(W=precisionFixed(U))&&(V.precision=W-(V.type==="%")*2);break}}return format(V)}function linearish(R){var F=R.domain;return R.ticks=function(E){var V=F();return ticks(V[0],V[V.length-1],E==null?10:E)},R.tickFormat=function(E,V){var U=F();return tickFormat(U[0],U[U.length-1],E==null?10:E,V)},R.nice=function(E){E==null&&(E=10);var V=F(),U=0,W=V.length-1,Y=V[U],G=V[W],X,K,Z=10;for(G<Y&&(K=Y,Y=G,G=K,K=U,U=W,W=K);Z-- >0;){if(K=tickIncrement(Y,G,E),K===X)return V[U]=Y,V[W]=G,F(V);if(K>0)Y=Math.floor(Y/K)*K,G=Math.ceil(G/K)*K;else if(K<0)Y=Math.ceil(Y*K)/K,G=Math.floor(G*K)/K;else break;X=K}return R},R}function linear(){var R=continuous();return R.copy=function(){return copy(R,linear())},initRange.apply(R,arguments),linearish(R)}function nice(R,F){R=R.slice();var E=0,V=R.length-1,U=R[E],W=R[V],Y;return W<U&&(Y=E,E=V,V=Y,Y=U,U=W,W=Y),R[E]=F.floor(U),R[V]=F.ceil(W),R}const t0=new Date,t1=new Date;function timeInterval(R,F,E,V){function U(W){return R(W=arguments.length===0?new Date:new Date(+W)),W}return U.floor=W=>(R(W=new Date(+W)),W),U.ceil=W=>(R(W=new Date(W-1)),F(W,1),R(W),W),U.round=W=>{const Y=U(W),G=U.ceil(W);return W-Y<G-W?Y:G},U.offset=(W,Y)=>(F(W=new Date(+W),Y==null?1:Math.floor(Y)),W),U.range=(W,Y,G)=>{const X=[];if(W=U.ceil(W),G=G==null?1:Math.floor(G),!(W<Y)||!(G>0))return X;let K;do X.push(K=new Date(+W)),F(W,G),R(W);while(K<W&&W<Y);return X},U.filter=W=>timeInterval(Y=>{if(Y>=Y)for(;R(Y),!W(Y);)Y.setTime(Y-1)},(Y,G)=>{if(Y>=Y)if(G<0)for(;++G<=0;)for(;F(Y,-1),!W(Y););else for(;--G>=0;)for(;F(Y,1),!W(Y););}),E&&(U.count=(W,Y)=>(t0.setTime(+W),t1.setTime(+Y),R(t0),R(t1),Math.floor(E(t0,t1))),U.every=W=>(W=Math.floor(W),!isFinite(W)||!(W>0)?null:W>1?U.filter(V?Y=>V(Y)%W===0:Y=>U.count(0,Y)%W===0):U)),U}const millisecond=timeInterval(()=>{},(R,F)=>{R.setTime(+R+F)},(R,F)=>F-R);millisecond.every=R=>(R=Math.floor(R),!isFinite(R)||!(R>0)?null:R>1?timeInterval(F=>{F.setTime(Math.floor(F/R)*R)},(F,E)=>{F.setTime(+F+E*R)},(F,E)=>(E-F)/R):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(R=>{R.setTime(R-R.getMilliseconds())},(R,F)=>{R.setTime(+R+F*durationSecond)},(R,F)=>(F-R)/durationSecond,R=>R.getUTCSeconds());second.range;const timeMinute=timeInterval(R=>{R.setTime(R-R.getMilliseconds()-R.getSeconds()*durationSecond)},(R,F)=>{R.setTime(+R+F*durationMinute)},(R,F)=>(F-R)/durationMinute,R=>R.getMinutes());timeMinute.range;const utcMinute=timeInterval(R=>{R.setUTCSeconds(0,0)},(R,F)=>{R.setTime(+R+F*durationMinute)},(R,F)=>(F-R)/durationMinute,R=>R.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(R=>{R.setTime(R-R.getMilliseconds()-R.getSeconds()*durationSecond-R.getMinutes()*durationMinute)},(R,F)=>{R.setTime(+R+F*durationHour)},(R,F)=>(F-R)/durationHour,R=>R.getHours());timeHour.range;const utcHour=timeInterval(R=>{R.setUTCMinutes(0,0,0)},(R,F)=>{R.setTime(+R+F*durationHour)},(R,F)=>(F-R)/durationHour,R=>R.getUTCHours());utcHour.range;const timeDay=timeInterval(R=>R.setHours(0,0,0,0),(R,F)=>R.setDate(R.getDate()+F),(R,F)=>(F-R-(F.getTimezoneOffset()-R.getTimezoneOffset())*durationMinute)/durationDay,R=>R.getDate()-1);timeDay.range;const utcDay=timeInterval(R=>{R.setUTCHours(0,0,0,0)},(R,F)=>{R.setUTCDate(R.getUTCDate()+F)},(R,F)=>(F-R)/durationDay,R=>R.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(R=>{R.setUTCHours(0,0,0,0)},(R,F)=>{R.setUTCDate(R.getUTCDate()+F)},(R,F)=>(F-R)/durationDay,R=>Math.floor(R/durationDay));unixDay.range;function timeWeekday(R){return timeInterval(F=>{F.setDate(F.getDate()-(F.getDay()+7-R)%7),F.setHours(0,0,0,0)},(F,E)=>{F.setDate(F.getDate()+E*7)},(F,E)=>(E-F-(E.getTimezoneOffset()-F.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(R){return timeInterval(F=>{F.setUTCDate(F.getUTCDate()-(F.getUTCDay()+7-R)%7),F.setUTCHours(0,0,0,0)},(F,E)=>{F.setUTCDate(F.getUTCDate()+E*7)},(F,E)=>(E-F)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(R=>{R.setDate(1),R.setHours(0,0,0,0)},(R,F)=>{R.setMonth(R.getMonth()+F)},(R,F)=>F.getMonth()-R.getMonth()+(F.getFullYear()-R.getFullYear())*12,R=>R.getMonth());timeMonth.range;const utcMonth=timeInterval(R=>{R.setUTCDate(1),R.setUTCHours(0,0,0,0)},(R,F)=>{R.setUTCMonth(R.getUTCMonth()+F)},(R,F)=>F.getUTCMonth()-R.getUTCMonth()+(F.getUTCFullYear()-R.getUTCFullYear())*12,R=>R.getUTCMonth());utcMonth.range;const timeYear=timeInterval(R=>{R.setMonth(0,1),R.setHours(0,0,0,0)},(R,F)=>{R.setFullYear(R.getFullYear()+F)},(R,F)=>F.getFullYear()-R.getFullYear(),R=>R.getFullYear());timeYear.every=R=>!isFinite(R=Math.floor(R))||!(R>0)?null:timeInterval(F=>{F.setFullYear(Math.floor(F.getFullYear()/R)*R),F.setMonth(0,1),F.setHours(0,0,0,0)},(F,E)=>{F.setFullYear(F.getFullYear()+E*R)});timeYear.range;const utcYear=timeInterval(R=>{R.setUTCMonth(0,1),R.setUTCHours(0,0,0,0)},(R,F)=>{R.setUTCFullYear(R.getUTCFullYear()+F)},(R,F)=>F.getUTCFullYear()-R.getUTCFullYear(),R=>R.getUTCFullYear());utcYear.every=R=>!isFinite(R=Math.floor(R))||!(R>0)?null:timeInterval(F=>{F.setUTCFullYear(Math.floor(F.getUTCFullYear()/R)*R),F.setUTCMonth(0,1),F.setUTCHours(0,0,0,0)},(F,E)=>{F.setUTCFullYear(F.getUTCFullYear()+E*R)});utcYear.range;function ticker(R,F,E,V,U,W){const Y=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[W,1,durationMinute],[W,5,5*durationMinute],[W,15,15*durationMinute],[W,30,30*durationMinute],[U,1,durationHour],[U,3,3*durationHour],[U,6,6*durationHour],[U,12,12*durationHour],[V,1,durationDay],[V,2,2*durationDay],[E,1,durationWeek],[F,1,durationMonth],[F,3,3*durationMonth],[R,1,durationYear]];function G(K,Z,J){const Q=Z<K;Q&&([K,Z]=[Z,K]);const ee=J&&typeof J.range=="function"?J:X(K,Z,J),te=ee?ee.range(K,+Z+1):[];return Q?te.reverse():te}function X(K,Z,J){const Q=Math.abs(Z-K)/J,ee=bisector(([,,ne])=>ne).right(Y,Q);if(ee===Y.length)return R.every(tickStep(K/durationYear,Z/durationYear,J));if(ee===0)return millisecond.every(Math.max(tickStep(K,Z,J),1));const[te,ie]=Y[Q/Y[ee-1][2]<Y[ee][2]/Q?ee-1:ee];return te.every(ie)}return[G,X]}ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute);const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(R){if(0<=R.y&&R.y<100){var F=new Date(-1,R.m,R.d,R.H,R.M,R.S,R.L);return F.setFullYear(R.y),F}return new Date(R.y,R.m,R.d,R.H,R.M,R.S,R.L)}function utcDate(R){if(0<=R.y&&R.y<100){var F=new Date(Date.UTC(-1,R.m,R.d,R.H,R.M,R.S,R.L));return F.setUTCFullYear(R.y),F}return new Date(Date.UTC(R.y,R.m,R.d,R.H,R.M,R.S,R.L))}function newDate(R,F,E){return{y:R,m:F,d:E,H:0,M:0,S:0,L:0}}function formatLocale(R){var F=R.dateTime,E=R.date,V=R.time,U=R.periods,W=R.days,Y=R.shortDays,G=R.months,X=R.shortMonths,K=formatRe(U),Z=formatLookup(U),J=formatRe(W),Q=formatLookup(W),ee=formatRe(Y),te=formatLookup(Y),ie=formatRe(G),ne=formatLookup(G),ae=formatRe(X),se=formatLookup(X),oe={a:we,A:Pe,b:Oe,B:Ae,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Se,q:ye,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},le={a:$e,A:ke,b:Ee,B:Ie,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Le,q:Be,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},ue={a:Te,A:xe,b:pe,B:_e,c:Ce,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:fe,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:be,X:ge,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};oe.x=ce(E,oe),oe.X=ce(V,oe),oe.c=ce(F,oe),le.x=ce(E,le),le.X=ce(V,le),le.c=ce(F,le);function ce(Fe,Ne){return function(He){var Re=[],qe=-1,Xe=0,Je=Fe.length,et,it,nt;for(He instanceof Date||(He=new Date(+He));++qe<Je;)Fe.charCodeAt(qe)===37&&(Re.push(Fe.slice(Xe,qe)),(it=pads[et=Fe.charAt(++qe)])!=null?et=Fe.charAt(++qe):it=et==="e"?" ":"0",(nt=Ne[et])&&(et=nt(He,it)),Re.push(et),Xe=qe+1);return Re.push(Fe.slice(Xe,qe)),Re.join("")}}function he(Fe,Ne){return function(He){var Re=newDate(1900,void 0,1),qe=de(Re,Fe,He+="",0),Xe,Je;if(qe!=He.length)return null;if("Q"in Re)return new Date(Re.Q);if("s"in Re)return new Date(Re.s*1e3+("L"in Re?Re.L:0));if(Ne&&!("Z"in Re)&&(Re.Z=0),"p"in Re&&(Re.H=Re.H%12+Re.p*12),Re.m===void 0&&(Re.m="q"in Re?Re.q:0),"V"in Re){if(Re.V<1||Re.V>53)return null;"w"in Re||(Re.w=1),"Z"in Re?(Xe=utcDate(newDate(Re.y,0,1)),Je=Xe.getUTCDay(),Xe=Je>4||Je===0?utcMonday.ceil(Xe):utcMonday(Xe),Xe=utcDay.offset(Xe,(Re.V-1)*7),Re.y=Xe.getUTCFullYear(),Re.m=Xe.getUTCMonth(),Re.d=Xe.getUTCDate()+(Re.w+6)%7):(Xe=localDate(newDate(Re.y,0,1)),Je=Xe.getDay(),Xe=Je>4||Je===0?timeMonday.ceil(Xe):timeMonday(Xe),Xe=timeDay.offset(Xe,(Re.V-1)*7),Re.y=Xe.getFullYear(),Re.m=Xe.getMonth(),Re.d=Xe.getDate()+(Re.w+6)%7)}else("W"in Re||"U"in Re)&&("w"in Re||(Re.w="u"in Re?Re.u%7:"W"in Re?1:0),Je="Z"in Re?utcDate(newDate(Re.y,0,1)).getUTCDay():localDate(newDate(Re.y,0,1)).getDay(),Re.m=0,Re.d="W"in Re?(Re.w+6)%7+Re.W*7-(Je+5)%7:Re.w+Re.U*7-(Je+6)%7);return"Z"in Re?(Re.H+=Re.Z/100|0,Re.M+=Re.Z%100,utcDate(Re)):localDate(Re)}}function de(Fe,Ne,He,Re){for(var qe=0,Xe=Ne.length,Je=He.length,et,it;qe<Xe;){if(Re>=Je)return-1;if(et=Ne.charCodeAt(qe++),et===37){if(et=Ne.charAt(qe++),it=ue[et in pads?Ne.charAt(qe++):et],!it||(Re=it(Fe,He,Re))<0)return-1}else if(et!=He.charCodeAt(Re++))return-1}return Re}function fe(Fe,Ne,He){var Re=K.exec(Ne.slice(He));return Re?(Fe.p=Z.get(Re[0].toLowerCase()),He+Re[0].length):-1}function Te(Fe,Ne,He){var Re=ee.exec(Ne.slice(He));return Re?(Fe.w=te.get(Re[0].toLowerCase()),He+Re[0].length):-1}function xe(Fe,Ne,He){var Re=J.exec(Ne.slice(He));return Re?(Fe.w=Q.get(Re[0].toLowerCase()),He+Re[0].length):-1}function pe(Fe,Ne,He){var Re=ae.exec(Ne.slice(He));return Re?(Fe.m=se.get(Re[0].toLowerCase()),He+Re[0].length):-1}function _e(Fe,Ne,He){var Re=ie.exec(Ne.slice(He));return Re?(Fe.m=ne.get(Re[0].toLowerCase()),He+Re[0].length):-1}function Ce(Fe,Ne,He){return de(Fe,F,Ne,He)}function be(Fe,Ne,He){return de(Fe,E,Ne,He)}function ge(Fe,Ne,He){return de(Fe,V,Ne,He)}function we(Fe){return Y[Fe.getDay()]}function Pe(Fe){return W[Fe.getDay()]}function Oe(Fe){return X[Fe.getMonth()]}function Ae(Fe){return G[Fe.getMonth()]}function Se(Fe){return U[+(Fe.getHours()>=12)]}function ye(Fe){return 1+~~(Fe.getMonth()/3)}function $e(Fe){return Y[Fe.getUTCDay()]}function ke(Fe){return W[Fe.getUTCDay()]}function Ee(Fe){return X[Fe.getUTCMonth()]}function Ie(Fe){return G[Fe.getUTCMonth()]}function Le(Fe){return U[+(Fe.getUTCHours()>=12)]}function Be(Fe){return 1+~~(Fe.getUTCMonth()/3)}return{format:function(Fe){var Ne=ce(Fe+="",oe);return Ne.toString=function(){return Fe},Ne},parse:function(Fe){var Ne=he(Fe+="",!1);return Ne.toString=function(){return Fe},Ne},utcFormat:function(Fe){var Ne=ce(Fe+="",le);return Ne.toString=function(){return Fe},Ne},utcParse:function(Fe){var Ne=he(Fe+="",!0);return Ne.toString=function(){return Fe},Ne}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(R,F,E){var V=R<0?"-":"",U=(V?-R:R)+"",W=U.length;return V+(W<E?new Array(E-W+1).join(F)+U:U)}function requote(R){return R.replace(requoteRe,"\\$&")}function formatRe(R){return new RegExp("^(?:"+R.map(requote).join("|")+")","i")}function formatLookup(R){return new Map(R.map((F,E)=>[F.toLowerCase(),E]))}function parseWeekdayNumberSunday(R,F,E){var V=numberRe.exec(F.slice(E,E+1));return V?(R.w=+V[0],E+V[0].length):-1}function parseWeekdayNumberMonday(R,F,E){var V=numberRe.exec(F.slice(E,E+1));return V?(R.u=+V[0],E+V[0].length):-1}function parseWeekNumberSunday(R,F,E){var V=numberRe.exec(F.slice(E,E+2));return V?(R.U=+V[0],E+V[0].length):-1}function parseWeekNumberISO(R,F,E){var V=numberRe.exec(F.slice(E,E+2));return V?(R.V=+V[0],E+V[0].length):-1}function parseWeekNumberMonday(R,F,E){var V=numberRe.exec(F.slice(E,E+2));return V?(R.W=+V[0],E+V[0].length):-1}function parseFullYear(R,F,E){var V=numberRe.exec(F.slice(E,E+4));return V?(R.y=+V[0],E+V[0].length):-1}function parseYear(R,F,E){var V=numberRe.exec(F.slice(E,E+2));return V?(R.y=+V[0]+(+V[0]>68?1900:2e3),E+V[0].length):-1}function parseZone(R,F,E){var V=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(F.slice(E,E+6));return V?(R.Z=V[1]?0:-(V[2]+(V[3]||"00")),E+V[0].length):-1}function parseQuarter(R,F,E){var V=numberRe.exec(F.slice(E,E+1));return V?(R.q=V[0]*3-3,E+V[0].length):-1}function parseMonthNumber(R,F,E){var V=numberRe.exec(F.slice(E,E+2));return V?(R.m=V[0]-1,E+V[0].length):-1}function parseDayOfMonth(R,F,E){var V=numberRe.exec(F.slice(E,E+2));return V?(R.d=+V[0],E+V[0].length):-1}function parseDayOfYear(R,F,E){var V=numberRe.exec(F.slice(E,E+3));return V?(R.m=0,R.d=+V[0],E+V[0].length):-1}function parseHour24(R,F,E){var V=numberRe.exec(F.slice(E,E+2));return V?(R.H=+V[0],E+V[0].length):-1}function parseMinutes(R,F,E){var V=numberRe.exec(F.slice(E,E+2));return V?(R.M=+V[0],E+V[0].length):-1}function parseSeconds(R,F,E){var V=numberRe.exec(F.slice(E,E+2));return V?(R.S=+V[0],E+V[0].length):-1}function parseMilliseconds(R,F,E){var V=numberRe.exec(F.slice(E,E+3));return V?(R.L=+V[0],E+V[0].length):-1}function parseMicroseconds(R,F,E){var V=numberRe.exec(F.slice(E,E+6));return V?(R.L=Math.floor(V[0]/1e3),E+V[0].length):-1}function parseLiteralPercent(R,F,E){var V=percentRe.exec(F.slice(E,E+1));return V?E+V[0].length:-1}function parseUnixTimestamp(R,F,E){var V=numberRe.exec(F.slice(E));return V?(R.Q=+V[0],E+V[0].length):-1}function parseUnixTimestampSeconds(R,F,E){var V=numberRe.exec(F.slice(E));return V?(R.s=+V[0],E+V[0].length):-1}function formatDayOfMonth(R,F){return pad(R.getDate(),F,2)}function formatHour24(R,F){return pad(R.getHours(),F,2)}function formatHour12(R,F){return pad(R.getHours()%12||12,F,2)}function formatDayOfYear(R,F){return pad(1+timeDay.count(timeYear(R),R),F,3)}function formatMilliseconds(R,F){return pad(R.getMilliseconds(),F,3)}function formatMicroseconds(R,F){return formatMilliseconds(R,F)+"000"}function formatMonthNumber(R,F){return pad(R.getMonth()+1,F,2)}function formatMinutes(R,F){return pad(R.getMinutes(),F,2)}function formatSeconds(R,F){return pad(R.getSeconds(),F,2)}function formatWeekdayNumberMonday(R){var F=R.getDay();return F===0?7:F}function formatWeekNumberSunday(R,F){return pad(timeSunday.count(timeYear(R)-1,R),F,2)}function dISO(R){var F=R.getDay();return F>=4||F===0?timeThursday(R):timeThursday.ceil(R)}function formatWeekNumberISO(R,F){return R=dISO(R),pad(timeThursday.count(timeYear(R),R)+(timeYear(R).getDay()===4),F,2)}function formatWeekdayNumberSunday(R){return R.getDay()}function formatWeekNumberMonday(R,F){return pad(timeMonday.count(timeYear(R)-1,R),F,2)}function formatYear(R,F){return pad(R.getFullYear()%100,F,2)}function formatYearISO(R,F){return R=dISO(R),pad(R.getFullYear()%100,F,2)}function formatFullYear(R,F){return pad(R.getFullYear()%1e4,F,4)}function formatFullYearISO(R,F){var E=R.getDay();return R=E>=4||E===0?timeThursday(R):timeThursday.ceil(R),pad(R.getFullYear()%1e4,F,4)}function formatZone(R){var F=R.getTimezoneOffset();return(F>0?"-":(F*=-1,"+"))+pad(F/60|0,"0",2)+pad(F%60,"0",2)}function formatUTCDayOfMonth(R,F){return pad(R.getUTCDate(),F,2)}function formatUTCHour24(R,F){return pad(R.getUTCHours(),F,2)}function formatUTCHour12(R,F){return pad(R.getUTCHours()%12||12,F,2)}function formatUTCDayOfYear(R,F){return pad(1+utcDay.count(utcYear(R),R),F,3)}function formatUTCMilliseconds(R,F){return pad(R.getUTCMilliseconds(),F,3)}function formatUTCMicroseconds(R,F){return formatUTCMilliseconds(R,F)+"000"}function formatUTCMonthNumber(R,F){return pad(R.getUTCMonth()+1,F,2)}function formatUTCMinutes(R,F){return pad(R.getUTCMinutes(),F,2)}function formatUTCSeconds(R,F){return pad(R.getUTCSeconds(),F,2)}function formatUTCWeekdayNumberMonday(R){var F=R.getUTCDay();return F===0?7:F}function formatUTCWeekNumberSunday(R,F){return pad(utcSunday.count(utcYear(R)-1,R),F,2)}function UTCdISO(R){var F=R.getUTCDay();return F>=4||F===0?utcThursday(R):utcThursday.ceil(R)}function formatUTCWeekNumberISO(R,F){return R=UTCdISO(R),pad(utcThursday.count(utcYear(R),R)+(utcYear(R).getUTCDay()===4),F,2)}function formatUTCWeekdayNumberSunday(R){return R.getUTCDay()}function formatUTCWeekNumberMonday(R,F){return pad(utcMonday.count(utcYear(R)-1,R),F,2)}function formatUTCYear(R,F){return pad(R.getUTCFullYear()%100,F,2)}function formatUTCYearISO(R,F){return R=UTCdISO(R),pad(R.getUTCFullYear()%100,F,2)}function formatUTCFullYear(R,F){return pad(R.getUTCFullYear()%1e4,F,4)}function formatUTCFullYearISO(R,F){var E=R.getUTCDay();return R=E>=4||E===0?utcThursday(R):utcThursday.ceil(R),pad(R.getUTCFullYear()%1e4,F,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(R){return+R}function formatUnixTimestampSeconds(R){return Math.floor(+R/1e3)}var locale,timeFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(R){return locale=formatLocale(R),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(R){return new Date(R)}function number(R){return R instanceof Date?+R:+new Date(+R)}function calendar(R,F,E,V,U,W,Y,G,X,K){var Z=continuous(),J=Z.invert,Q=Z.domain,ee=K(".%L"),te=K(":%S"),ie=K("%I:%M"),ne=K("%I %p"),ae=K("%a %d"),se=K("%b %d"),oe=K("%B"),le=K("%Y");function ue(ce){return(X(ce)<ce?ee:G(ce)<ce?te:Y(ce)<ce?ie:W(ce)<ce?ne:V(ce)<ce?U(ce)<ce?ae:se:E(ce)<ce?oe:le)(ce)}return Z.invert=function(ce){return new Date(J(ce))},Z.domain=function(ce){return arguments.length?Q(Array.from(ce,number)):Q().map(date)},Z.ticks=function(ce){var he=Q();return R(he[0],he[he.length-1],ce==null?10:ce)},Z.tickFormat=function(ce,he){return he==null?ue:K(he)},Z.nice=function(ce){var he=Q();return(!ce||typeof ce.range!="function")&&(ce=F(he[0],he[he.length-1],ce==null?10:ce)),ce?Q(nice(he,ce)):Z},Z.copy=function(){return copy(Z,calendar(R,F,E,V,U,W,Y,G,X,K))},Z}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function constant(R){return function(){return R}}function withPath(R){let F=3;return R.digits=function(E){if(!arguments.length)return F;if(E==null)F=null;else{const V=Math.floor(E);if(!(V>=0))throw new RangeError(`invalid digits: ${E}`);F=V}return R},()=>new Path(F)}function array(R){return typeof R=="object"&&"length"in R?R:Array.from(R)}function Linear(R){this._context=R}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(R,F){switch(R=+R,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(R,F):this._context.moveTo(R,F);break;case 1:this._point=2;default:this._context.lineTo(R,F);break}}};function curveLinear(R){return new Linear(R)}function x(R){return R[0]}function y(R){return R[1]}function line(R,F){var E=constant(!0),V=null,U=curveLinear,W=null,Y=withPath(G);R=typeof R=="function"?R:R===void 0?x:constant(R),F=typeof F=="function"?F:F===void 0?y:constant(F);function G(X){var K,Z=(X=array(X)).length,J,Q=!1,ee;for(V==null&&(W=U(ee=Y())),K=0;K<=Z;++K)!(K<Z&&E(J=X[K],K,X))===Q&&((Q=!Q)?W.lineStart():W.lineEnd()),Q&&W.point(+R(J,K,X),+F(J,K,X));if(ee)return W=null,ee+""||null}return G.x=function(X){return arguments.length?(R=typeof X=="function"?X:constant(+X),G):R},G.y=function(X){return arguments.length?(F=typeof X=="function"?X:constant(+X),G):F},G.defined=function(X){return arguments.length?(E=typeof X=="function"?X:constant(!!X),G):E},G.curve=function(X){return arguments.length?(U=X,V!=null&&(W=U(V)),G):U},G.context=function(X){return arguments.length?(X==null?V=W=null:W=U(V=X),G):V},G}function area(R,F,E){var V=null,U=constant(!0),W=null,Y=curveLinear,G=null,X=withPath(K);R=typeof R=="function"?R:R===void 0?x:constant(+R),F=typeof F=="function"?F:constant(F===void 0?0:+F),E=typeof E=="function"?E:E===void 0?y:constant(+E);function K(J){var Q,ee,te,ie=(J=array(J)).length,ne,ae=!1,se,oe=new Array(ie),le=new Array(ie);for(W==null&&(G=Y(se=X())),Q=0;Q<=ie;++Q){if(!(Q<ie&&U(ne=J[Q],Q,J))===ae)if(ae=!ae)ee=Q,G.areaStart(),G.lineStart();else{for(G.lineEnd(),G.lineStart(),te=Q-1;te>=ee;--te)G.point(oe[te],le[te]);G.lineEnd(),G.areaEnd()}ae&&(oe[Q]=+R(ne,Q,J),le[Q]=+F(ne,Q,J),G.point(V?+V(ne,Q,J):oe[Q],E?+E(ne,Q,J):le[Q]))}if(se)return G=null,se+""||null}function Z(){return line().defined(U).curve(Y).context(W)}return K.x=function(J){return arguments.length?(R=typeof J=="function"?J:constant(+J),V=null,K):R},K.x0=function(J){return arguments.length?(R=typeof J=="function"?J:constant(+J),K):R},K.x1=function(J){return arguments.length?(V=J==null?null:typeof J=="function"?J:constant(+J),K):V},K.y=function(J){return arguments.length?(F=typeof J=="function"?J:constant(+J),E=null,K):F},K.y0=function(J){return arguments.length?(F=typeof J=="function"?J:constant(+J),K):F},K.y1=function(J){return arguments.length?(E=J==null?null:typeof J=="function"?J:constant(+J),K):E},K.lineX0=K.lineY0=function(){return Z().x(R).y(F)},K.lineY1=function(){return Z().x(R).y(E)},K.lineX1=function(){return Z().x(V).y(F)},K.defined=function(J){return arguments.length?(U=typeof J=="function"?J:constant(!!J),K):U},K.curve=function(J){return arguments.length?(Y=J,W!=null&&(G=Y(W)),K):Y},K.context=function(J){return arguments.length?(J==null?W=G=null:G=Y(W=J),K):W},K}function Transform(R,F,E){this.k=R,this.x=F,this.y=E}Transform.prototype={constructor:Transform,scale:function(R){return R===1?this:new Transform(this.k*R,this.x,this.y)},translate:function(R,F){return R===0&F===0?this:new Transform(this.k,this.x+this.k*R,this.y+this.k*F)},apply:function(R){return[R[0]*this.k+this.x,R[1]*this.k+this.y]},applyX:function(R){return R*this.k+this.x},applyY:function(R){return R*this.k+this.y},invert:function(R){return[(R[0]-this.x)/this.k,(R[1]-this.y)/this.k]},invertX:function(R){return(R-this.x)/this.k},invertY:function(R){return(R-this.y)/this.k},rescaleX:function(R){return R.copy().domain(R.range().map(this.invertX,this).map(R.invert,R))},rescaleY:function(R){return R.copy().domain(R.range().map(this.invertY,this).map(R.invert,R))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Transform(1,0,0);Transform.prototype;class CurrencyChartD3{constructor(F,E,V,U,W){St(this,"margin",{top:3,right:0,bottom:3,left:0});St(this,"_uid",Math.random().toString(36).substring(2,9));this.element=F,this.width=E,this.height=V;const Y=Math.round((W.getTime()-U.getTime())/(1e3*3600*24));this.timeline=new Array(Y).fill(null).map((G,X)=>({period:new Date(U.getTime()).setDate(U.getDate()+X),amount:null}))}renderChart(F){const E=this.timeline.map(ae=>({...ae}));F.forEach(ae=>{const se=E.findIndex(oe=>new Date(oe.period).toDateString()===new Date(ae.period).toDateString());se>-1&&E.splice(se,1,{...ae})});let V=0;E.map(ae=>(ae.amount!==null&&(V=ae.amount),ae.amount===null&&(ae.amount=V),ae));const U=select(this.element);U.selectAll("*").remove(),U.attr("viewBox",[0,0,this.width,this.height]);const W=time().domain(extent(E,ae=>new Date(ae.period))).range([this.margin.left,this.width-this.margin.right]),Y=linear().domain([min(E,ae=>ae.amount),max(E,ae=>ae.amount)]).nice().range([this.height-this.margin.bottom,this.margin.top]).clamp(!0),G=E.filter(ae=>new Date().getTime()-new Date(ae.period).getTime()>=0),X=line().x(ae=>W(new Date(ae.period))).y(ae=>Y(ae.amount));U.append("g").append("path").attr("style",`stroke: url(#line-gradient-${this._uid});fill: none;stroke-width: 2px;`).attr("d",X(G));const K=E.filter(ae=>new Date().getTime()-new Date(ae.period).getTime()<0),Z=line().x(ae=>W(new Date(ae.period))).y(ae=>Y(ae.amount));U.append("g").append("path").attr("style",`stroke: url(#line-gradient-${this._uid});fill: none;stroke-width: 2px;stroke-dasharray: 4,2;`).attr("d",Z(K));const J=area().x(ae=>W(new Date(ae.period))).y0(Y(0)).y1(ae=>Y(Math.min(0,ae.amount)));U.append("path").datum(E).attr("d",J).attr("style",`fill: url(#area-gradient-negative-${this._uid});stroke-width: 0px;`);const Q=area().x(ae=>W(new Date(ae.period))).y0(Y(0)).y1(ae=>Y(Math.max(0,ae.amount)));U.append("path").datum(E).attr("d",Q).attr("style",`fill: url(#area-gradient-positive-${this._uid});stroke-width: 0px;`),max(E,ae=>ae.amount)>=0&&U.append("linearGradient").attr("id",`area-gradient-positive-${this._uid}`).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",Y(0)).attr("x2",0).attr("y2",Y(max(E,ae=>ae.amount))).selectAll("stop").data([{offset:"0%",color:"rgba(62, 197, 94, 0)"},{offset:"100%",color:"rgba(62, 197, 94, 0.3)"}]).enter().append("stop").attr("offset",ae=>ae.offset).attr("stop-color",ae=>ae.color),min(E,ae=>ae.amount)<0&&U.append("linearGradient").attr("id",`area-gradient-negative-${this._uid}`).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",Y(0)).attr("x2",0).attr("y2",Y(min(E,ae=>ae.amount))).selectAll("stop").data([{offset:"0%",color:"rgba(252, 61, 56, 0)"},{offset:"100%",color:"rgba(252, 61, 56, 0.6)"}]).enter().append("stop").attr("offset",ae=>ae.offset).attr("stop-color",ae=>ae.color);const ee=Math.abs(max(E,ae=>ae.amount))+Math.abs(min(E,ae=>ae.amount)),te=max(E,ae=>ae.amount),ie=min(E,ae=>ae.amount);let ne;return te<0?ne=0:ie>=0?ne=this.height:ne=Math.ceil(Math.abs(max(E,ae=>ae.amount))/ee*100)+"%",U.append("linearGradient").attr("id",`line-gradient-${this._uid}`).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",this.height).selectAll("stop").data([{offset:ne,color:"#3ec55e"},{offset:ne,color:"#fc3d38"}]).join("stop").attr("offset",ae=>ae.offset).attr("stop-color",ae=>ae.color),U.append("circle").attr("cx",W(new Date(K[0].period))).attr("cy",Y(K[0].amount)).attr("r",3).attr("fill",K[0].amount<0?"#fc3d38":"#3ec55e"),this}}const CurrencyChart_vue_vue_type_style_index_0_lang="",_sfc_main$b={props:{currency:{type:Object,requred:!0}},data(){return{width:200,height:40}},watch:{currency:function({data:R}){this.chart&&this.chart.renderChart(R)}},mounted(){this.chart||(this.chart=new CurrencyChartD3(this.$refs.chart,this.width,this.height,this.$moment().add(-1,"M").toDate(),this.$moment().add(3,"M").toDate()).renderChart(this.currency.data))}};var _sfc_render$b=function(){var F=this,E=F._self._c;return E("div",{staticClass:"c-bwc-container custom-mt-8",style:`width: ${F.width}px; height: ${F.height}px`},[E("svg",{ref:"chart"})])},_sfc_staticRenderFns$b=[],__component__$b=normalizeComponent(_sfc_main$b,_sfc_render$b,_sfc_staticRenderFns$b,!1,null,null,null,null);const CurrencyChart=__component__$b.exports,SidebarCurrencyWidgetsItems_vue_vue_type_style_index_0_lang="",_sfc_main$a={components:{CurrencyChart},props:["balanceFlow"],computed:{alertDate(){const R=this.balanceFlow.balances.now.date,F=this.balanceFlow.balances.now.amount;return this.balanceFlow.data.find(E=>E.period>R&&F!==0&&Math.sign(F)!==Math.sign(E.amount))},date(){return this.$moment(this.alertDate.period).format(this.$moment.locale()==="ru"?"D MMMM":"MMMM D")},title(){return(this.alertDate.amount>=0?this.$t("arrow.up"):this.$t("arrow.down"))+" "+this.date}}};var _sfc_render$a=function(){var F=this,E=F._self._c;return E("div",{staticClass:"brick full-width"},[E("router-link",{attrs:{to:`/currency/${F.balanceFlow.currency}`}},[E("div",{staticClass:"flexbox middle"},[E("div",{staticClass:"wide black bold nowrap c-bwc-balance",class:{"text-red":F.balanceFlow.balances.now.amount<0}},[F._v(" "+F._s(F.$helper.toCurrency({value:F.balanceFlow.balances.now.amount,currencyCode:F.balanceFlow.currency}))+" ")]),F.alertDate?E("div",{staticClass:"custom-ml-4"},[E("span",{staticClass:"c-bwc-badge small nowrap",class:F.alertDate.amount>=0?"c-bwc-badge--green":"c-bwc-badge--red",attrs:{title:F.title}},[E("i",{staticClass:"fas custom-mr-4",class:F.alertDate.amount>=0?"fa-arrow-circle-up":"fa-exclamation-triangle",staticStyle:{color:"white"}}),F._v(F._s(F.date))])]):F._e()]),E("CurrencyChart",{attrs:{currency:F.balanceFlow}})],1)],1)},_sfc_staticRenderFns$a=[],__component__$a=normalizeComponent(_sfc_main$a,_sfc_render$a,_sfc_staticRenderFns$a,!1,null,null,null,null);const SidebarCurrencyWidgetsItems=__component__$a.exports,_sfc_main$9={components:{SidebarCurrencyWidgetsItems},computed:{balanceFlow(){return this.$store.state.balanceFlow.balanceFlow}},mounted(){this.$store.dispatch("balanceFlow/getBalanceFlow")}};var _sfc_render$9=function(){var F=this,E=F._self._c;return F.balanceFlow.length>0?E("div",{staticClass:"custom-mt-24"},[E("div",{staticClass:"heading"},[F._v(" "+F._s(F.$moment().format("LL"))+" ")]),E("div",{staticClass:"bricks"},F._l(F.balanceFlow,function(V){return E("SidebarCurrencyWidgetsItems",{key:V.currency,attrs:{"balance-flow":V}})}),1)]):F._e()},_sfc_staticRenderFns$9=[],__component__$9=normalizeComponent(_sfc_main$9,_sfc_render$9,_sfc_staticRenderFns$9,!1,null,null,null,null);const SidebarCurrencyWidgets=__component__$9.exports,_sfc_main$8={data(){return{list:[],loading:!1,offset:0,limit:15,total:0}},watch:{offset:"fetch"},mounted(){this.fetch()},methods:{async fetch(){this.loading=!0;const{data:R}=await api$1.get(`cash.contact.getList?offset=${this.offset}&limit=${this.limit}`);this.list=[...this.list,...R.data],this.total=R.total,this.loading=!1}}};var _sfc_render$8=function(){var F=this,E=F._self._c;return E("div",[F.list.length?[E("ul",{staticClass:"menu"},[F._l(F.list,function(V){return E("li",{key:V.id,class:{selected:+F.$route.params.id===V.id&&F.$route.name==="Contact"}},[E("router-link",{attrs:{to:`/contact/${V.id}`}},[E("div",{staticClass:"wide"},[E("div",{staticClass:"flexbox"},[E("span",{staticClass:"icon"},[E("img",{staticClass:"userpic",attrs:{src:V.photo_url_absolute,alt:""}})]),E("div",{staticClass:"wide"},[E("span",[F._v(F._s(V.name))])])]),E("div",{staticClass:"flexbox"},[E("span",{staticClass:"icon"}),E("div",{staticClass:"smaller hint custom-mt-4"},[F._v(" "+F._s(V.last_transaction.amountShorten)+" "+F._s(F.$helper.currencySignByCode(V.last_transaction.currency))+", "+F._s(F.$moment(V.last_transaction.date).format("D MMMM"))+" ")])])])])],1)}),F.loading?F._l(F.limit,function(V){return E("li",{key:V,staticClass:"skeleton custom-px-16",staticStyle:{padding:"6px 0"}},[E("span",{staticClass:"skeleton-list",staticStyle:{"margin-bottom":"0"}})])}):F._e()],2),F.list.length<F.total?E("div",{staticClass:"custom-mx-16 align-center"},[E("a",{staticClass:"button light-gray rounded smaller",on:{click:function(V){V.preventDefault(),F.offset+=F.limit}}},[F._v(F._s(F.$t("showMore")))])]):F._e()]:E("div",{staticClass:"hint align-center custom-my-12"},[F._v(" "+F._s(F.$t("contactsWillSoon"))+" ")])],2)},_sfc_staticRenderFns$8=[],__component__$8=normalizeComponent(_sfc_main$8,_sfc_render$8,_sfc_staticRenderFns$8,!1,null,null,null,null);const ContactsList=__component__$8.exports,_sfc_main$7={data(){return{tabs:["categories","contacts"],activeTab:+localStorage.getItem("cashTogglerActiveTab")||0}},watch:{activeTab(R){localStorage.setItem("cashTogglerActiveTab",R)}}};var _sfc_render$7=function(){var F=this,E=F._self._c;return E("div",{staticClass:"custom-mt-32"},[F.$permissions.isAdmin?E("div",{staticClass:"custom-px-16"},[E("div",{staticClass:"toggle width-100",staticStyle:{"box-sizing":"border-box"}},F._l(F.tabs,function(V,U){return E("span",{key:U,staticClass:"width-50",class:{selected:F.activeTab===U},staticStyle:{"box-sizing":"border-box","text-align":"center","margin-right":"0"},on:{click:function(W){F.activeTab=U}}},[F._v(F._s(F.$t(V)))])}),0)]):F._e(),E("keep-alive",{attrs:{include:"ContactsList"}},[F._t(F.tabs[F.activeTab])],2)],1)},_sfc_staticRenderFns$7=[],__component__$7=normalizeComponent(_sfc_main$7,_sfc_render$7,_sfc_staticRenderFns$7,!1,null,null,null,null);const Toggler=__component__$7.exports,_sfc_main$6={};var _sfc_render$6=function(){var F=this,E=F._self._c;return E("router-link",{staticClass:"brick",class:{selected:F.$route.name==="Calendar"},attrs:{to:"/calendar"}},[E("span",{staticClass:"icon"},[E("i",{staticClass:"far fa-calendar-alt"})]),F._v(" "+F._s(F.$t("calendar"))+" ")])},_sfc_staticRenderFns$6=[],__component__$6=normalizeComponent(_sfc_main$6,_sfc_render$6,_sfc_staticRenderFns$6,!1,null,null,null,null);const BrickCalendar=__component__$6.exports,_sfc_main$5={computed:{todayCount(){return this.$store.state.transaction.todayCount},count(){return this.todayCount.onbadge>0?this.todayCount.onbadge:this.todayCount.today}},mounted(){this.$store.dispatch("transaction/getTodayCount")}};var _sfc_render$5=function(){var F=this,E=F._self._c;return E("router-link",{staticClass:"brick",class:{selected:F.$route.name==="Transactions"},attrs:{to:"/transactions"}},[F.count>0?E("span",{staticClass:"count",class:{badge:F.todayCount.onbadge>0}},[F._v(F._s(F.count))]):F._e(),E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-list"})]),F._v(" "+F._s(F.$t("transactions"))+" ")])},_sfc_staticRenderFns$5=[],__component__$5=normalizeComponent(_sfc_main$5,_sfc_render$5,_sfc_staticRenderFns$5,!1,null,null,null,null);const BrickTransactions=__component__$5.exports,_sfc_main$4={__name:"Bricks",setup(R){return{__sfc:!0,BrickCalendar,BrickTransactions}}};var _sfc_render$4=function(){var F=this,E=F._self._c,V=F._self._setupProxy;return E("div",{staticClass:"bricks custom-mt-0"},[E(V.BrickTransactions),E(V.BrickCalendar),F.$permissions.canSeeReport?E("a",{staticClass:"brick custom-pt-8",class:{selected:F.$route.path.includes("/report/")},attrs:{href:`${F.$helper.baseUrl}report/dds/`}},[E("div",{staticClass:"flexbox middle space-8"},[F._m(0),E("span",[F._v(F._s(F.$t("reports")))])])]):F._e(),F.$permissions.canImport?E("a",{staticClass:"brick custom-pt-8",class:{selected:F.$route.path==="/import/"},attrs:{href:`${F.$helper.baseUrl}import/`}},[E("div",{staticClass:"flexbox middle space-8"},[F._m(1),E("span",[F._v(F._s(F.$t("import")))])])]):F._e()],1)},_sfc_staticRenderFns$4=[function(){var R=this,F=R._self._c;return R._self._setupProxy,F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-chart-pie"})])},function(){var R=this,F=R._self._c;return R._self._setupProxy,F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-download"})])}],__component__$4=normalizeComponent(_sfc_main$4,_sfc_render$4,_sfc_staticRenderFns$4,!1,null,null,null,null);const Bricks=__component__$4.exports,Sidebar_vue_vue_type_style_index_0_lang="",_sfc_main$3={components:{SortableList,SortableItemAccount,SidebarCategories,SidebarHeading,SidebarFooter,SearchField,SidebarCurrencyWidgets,Bricks,ContactsList,Toggler},data(){return{mobileMenuOpen:!1}},computed:{...mapState("account",["accounts"]),...mapGetters({categoriesByType:["category/getByType"]}),categoriesTransfer(){return this.categoriesByType("transfer")}},watch:{$route(){this.mobileMenuOpen=!1},mobileMenuOpen(R){R?this.menuOpen():this.menuClose()}},mounted(){this.$helper.isHeader()||(this.$refs.sidebar.style.top=0,this.$refs.sidebar.style.height="100vh")},methods:{menuOpen(){["Body","Footer"].forEach(R=>{this.$refs[`sidebar${R}`].style["max-height"]=this.$refs[`sidebar${R}`].scrollHeight+"px"})},menuClose(){["Body","Footer"].forEach(R=>{this.$refs[`sidebar${R}`].style["max-height"]="0px"})}}};var _sfc_render$3=function(){var F=this,E=F._self._c;return E("div",{ref:"sidebar",staticClass:"sidebar flexbox hide-scrollbar width-16rem mobile-friendly z-50"},[E("nav",{staticClass:"sidebar-mobile-toggle"},[E("div",{staticClass:"box align-center"},[E("a",{attrs:{href:"#"},on:{click:function(V){V.preventDefault(),F.mobileMenuOpen=!F.mobileMenuOpen}}},[E("i",{staticClass:"fas fa-bars"}),F._v(" "+F._s(F.$t("navigation",{action:F.mobileMenuOpen?F.$t("hide"):F.$t("show")})))])])]),E("div",{ref:"sidebarBody",staticClass:"sidebar-body hide-scrollbar"},[E("SearchField"),E("Bricks"),E("SidebarCurrencyWidgets"),E("SidebarHeading",{attrs:{"updating-entity-name":"Account"}},[F._v(" "+F._s(F.$t("accounts"))+" ")]),E("SortableList",{attrs:{items:F.accounts,"sorting-target":"account",group:{name:"accounts",pull:!1}}},F._l(F.accounts,function(V){return E("SortableItemAccount",{key:V.id,attrs:{account:V}})}),1),E("Toggler",{scopedSlots:F._u([{key:"categories",fn:function(){return[E("SidebarCategories")]},proxy:!0},{key:"contacts",fn:function(){return[E("ContactsList")]},proxy:!0}])}),F.$permissions.canAccessTransfers?E("div",{staticClass:"custom-mt-24"},[E("h6",{staticClass:"heading"},[E("span",[F._v(F._s(F.$t("other")))])]),E("ul",{staticClass:"menu"},F._l(F.categoriesTransfer,function(V){return E("li",{key:V.id},[E("router-link",{staticClass:"flexbox middle",attrs:{to:`/category/${V.id}`}},[E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-exchange-alt"})]),E("span",[F._v(F._s(V.name))])])],1)}),0)]):F._e()],1),E("div",{ref:"sidebarFooter",staticClass:"sidebar-footer shadowed"},[E("SidebarFooter")],1)])},_sfc_staticRenderFns$3=[],__component__$3=normalizeComponent(_sfc_main$3,_sfc_render$3,_sfc_staticRenderFns$3,!1,null,null,null,null);const Sidebar=__component__$3.exports;var Mt;const baseUrl=((Mt=window==null?void 0:window.appState)==null?void 0:Mt.baseUrl)||"/",_sfc_main$2={props:{to:{type:String}},computed:{url(){return baseUrl.slice(0,-1)+this.to}}};var _sfc_render$2=function(){var F=this,E=F._self._c;return E("a",{attrs:{href:F.url}},[F._t("default")],2)},_sfc_staticRenderFns$2=[],__component__$2=normalizeComponent(_sfc_main$2,_sfc_render$2,_sfc_staticRenderFns$2,!1,null,null,null,null);const RouterLinkFallback=__component__$2.exports,SidebarRouterFallback={install(R){R.component("RouterLink",RouterLinkFallback)}},Helpers={install(R){R.prototype.$helper={toCurrency:function(F={}){const V={...{value:null,currencyCode:null,isDynamics:!1,isReverse:!1,isAbs:!1,prefix:""},...F},U=V.isReverse?V.value*-1:V.value,W=numeral(V.isDynamics||V.isAbs?Math.abs(U):U).format("0,0[.]00"),Y=V.isDynamics?U>0?"+ ":U<0?"\u2212 ":"":"",G=this.currencySignByCode(V.currencyCode)?` ${this.currencySignByCode(V.currencyCode)}`:"";return`${V.prefix||""}${Y}${W}${G}`},currencySignByCode:F=>store.getters["system/getCurrencySignByCode"](F),currentDate:hooks().format("YYYY-MM-DD"),isDesktopEnv:!window.appState.webView,baseUrl:window.appState.baseUrl||"/",accountName:window.appState.accountName||"",isValidHttpUrl:F=>{let E;try{E=new URL(F)}catch{return!1}return E.protocol==="http:"||E.protocol==="https:"},showMultiSelect(){return store.state.multiSelectMode},isHeader(){return!!document.querySelector("#wa-header")},isTabletMediaQuery(){return window.matchMedia("(max-width: 1024px)").matches}}}};var lib={},vval={};Object.defineProperty(vval,"__esModule",{value:!0});vval.patchChildren=patchChildren;vval.h=h;function isUndef(R){return R==null}function isDef(R){return R!=null}function sameVval(R,F){return F.tag===R.tag&&F.key===R.key}function createVm(R){var F=R.tag;R.vm=new F({data:R.args})}function updateVval(R){for(var F=Object.keys(R.args),E=0;E<F.length;E++)F.forEach(function(V){R.vm[V]=R.args[V]})}function createKeyToOldIdx(R,F,E){var V,U,W={};for(V=F;V<=E;++V)U=R[V].key,isDef(U)&&(W[U]=V);return W}function updateChildren(R,F){for(var E=0,V=0,U=R.length-1,W=R[0],Y=R[U],G=F.length-1,X=F[0],K=F[G],Z,J,Q;E<=U&&V<=G;)isUndef(W)?W=R[++E]:isUndef(Y)?Y=R[--U]:sameVval(W,X)?(patchVval(W,X),W=R[++E],X=F[++V]):sameVval(Y,K)?(patchVval(Y,K),Y=R[--U],K=F[--G]):sameVval(W,K)?(patchVval(W,K),W=R[++E],K=F[--G]):sameVval(Y,X)?(patchVval(Y,X),Y=R[--U],X=F[++V]):(isUndef(Z)&&(Z=createKeyToOldIdx(R,E,U)),J=isDef(X.key)?Z[X.key]:null,isUndef(J)?(createVm(X),X=F[++V]):(Q=R[J],sameVval(Q,X)?(patchVval(Q,X),R[J]=void 0,X=F[++V]):(createVm(X),X=F[++V])));E>U?addVvals(F,V,G):V>G&&removeVvals(R,E,U)}function addVvals(R,F,E){for(;F<=E;++F)createVm(R[F])}function removeVvals(R,F,E){for(;F<=E;++F){var V=R[F];isDef(V)&&(V.vm.$destroy(),V.vm=null)}}function patchVval(R,F){R!==F&&(F.vm=R.vm,updateVval(F))}function patchChildren(R,F){isDef(R)&&isDef(F)?R!==F&&updateChildren(R,F):isDef(F)?addVvals(F,0,F.length-1):isDef(R)&&removeVvals(R,0,R.length-1)}function h(R,F,E){return{tag:R,key:F,args:E}}var params={};Object.defineProperty(params,"__esModule",{value:!0});params.pushParams=pushParams;params.popParams=popParams;params.withParams=withParams;params._setTarget=params.target=void 0;function _objectSpread(R){for(var F=1;F<arguments.length;F++){var E=arguments[F]!=null?arguments[F]:{},V=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(V=V.concat(Object.getOwnPropertySymbols(E).filter(function(U){return Object.getOwnPropertyDescriptor(E,U).enumerable}))),V.forEach(function(U){_defineProperty$1(R,U,E[U])})}return R}function _defineProperty$1(R,F,E){return F in R?Object.defineProperty(R,F,{value:E,enumerable:!0,configurable:!0,writable:!0}):R[F]=E,R}function _typeof$2(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(E){return typeof E}:_typeof$2=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},_typeof$2(R)}var stack=[],target=null;params.target=target;var _setTarget=function(F){params.target=target=F};params._setTarget=_setTarget;function pushParams(){target!==null&&stack.push(target),params.target=target={}}function popParams(){var R=target,F=params.target=target=stack.pop()||null;return F&&(Array.isArray(F.$sub)||(F.$sub=[]),F.$sub.push(R)),R}function addParams(R){if(_typeof$2(R)==="object"&&!Array.isArray(R))params.target=target=_objectSpread({},target,R);else throw new Error("params must be an object")}function withParamsDirect(R,F){return withParamsClosure(function(E){return function(){E(R);for(var V=arguments.length,U=new Array(V),W=0;W<V;W++)U[W]=arguments[W];return F.apply(this,U)}})}function withParamsClosure(R){var F=R(addParams);return function(){pushParams();try{for(var E=arguments.length,V=new Array(E),U=0;U<E;U++)V[U]=arguments[U];return F.apply(this,V)}finally{popParams()}}}function withParams(R,F){return _typeof$2(R)==="object"&&F!==void 0?withParamsDirect(R,F):withParamsClosure(R)}(function(R){Object.defineProperty(R,"__esModule",{value:!0}),R.Vuelidate=_e,Object.defineProperty(R,"withParams",{enumerable:!0,get:function(){return E.withParams}}),R.default=R.validationMixin=void 0;var F=vval,E=params;function V(be){return Y(be)||W(be)||U()}function U(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function W(be){if(Symbol.iterator in Object(be)||Object.prototype.toString.call(be)==="[object Arguments]")return Array.from(be)}function Y(be){if(Array.isArray(be)){for(var ge=0,we=new Array(be.length);ge<be.length;ge++)we[ge]=be[ge];return we}}function G(be){for(var ge=1;ge<arguments.length;ge++){var we=arguments[ge]!=null?arguments[ge]:{},Pe=Object.keys(we);typeof Object.getOwnPropertySymbols=="function"&&(Pe=Pe.concat(Object.getOwnPropertySymbols(we).filter(function(Oe){return Object.getOwnPropertyDescriptor(we,Oe).enumerable}))),Pe.forEach(function(Oe){X(be,Oe,we[Oe])})}return be}function X(be,ge,we){return ge in be?Object.defineProperty(be,ge,{value:we,enumerable:!0,configurable:!0,writable:!0}):be[ge]=we,be}function K(be){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K=function(we){return typeof we}:K=function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},K(be)}var Z=function(){return null},J=function(ge,we,Pe){return ge.reduce(function(Oe,Ae){return Oe[Pe?Pe(Ae):Ae]=we(Ae),Oe},{})};function Q(be){return typeof be=="function"}function ee(be){return be!==null&&(K(be)==="object"||Q(be))}function te(be){return ee(be)&&Q(be.then)}var ie=function(ge,we,Pe,Oe){if(typeof Pe=="function")return Pe.call(ge,we,Oe);Pe=Array.isArray(Pe)?Pe:Pe.split(".");for(var Ae=0;Ae<Pe.length;Ae++)if(we&&K(we)==="object")we=we[Pe[Ae]];else return Oe;return typeof we>"u"?Oe:we},ne="__isVuelidateAsyncVm";function ae(be,ge){var we=new be({data:{p:!0,v:!1}});return ge.then(function(Pe){we.p=!1,we.v=Pe},function(Pe){throw we.p=!1,we.v=!1,Pe}),we[ne]=!0,we}var se={$invalid:function(){var ge=this,we=this.proxy;return this.nestedKeys.some(function(Pe){return ge.refProxy(Pe).$invalid})||this.ruleKeys.some(function(Pe){return!we[Pe]})},$dirty:function(){var ge=this;return this.dirty?!0:this.nestedKeys.length===0?!1:this.nestedKeys.every(function(we){return ge.refProxy(we).$dirty})},$anyDirty:function(){var ge=this;return this.dirty?!0:this.nestedKeys.length===0?!1:this.nestedKeys.some(function(we){return ge.refProxy(we).$anyDirty})},$error:function(){return this.$dirty&&!this.$pending&&this.$invalid},$anyError:function(){var ge=this;return this.$error?!0:this.nestedKeys.some(function(we){return ge.refProxy(we).$anyError})},$pending:function(){var ge=this;return this.ruleKeys.some(function(we){return ge.getRef(we).$pending})||this.nestedKeys.some(function(we){return ge.refProxy(we).$pending})},$params:function(){var ge=this,we=this.validations;return G({},J(this.nestedKeys,function(Pe){return we[Pe]&&we[Pe].$params||null}),J(this.ruleKeys,function(Pe){return ge.getRef(Pe).$params}))}};function oe(be){this.dirty=be;var ge=this.proxy,we=be?"$touch":"$reset";this.nestedKeys.forEach(function(Pe){ge[Pe][we]()})}var le={$touch:function(){oe.call(this,!0)},$reset:function(){oe.call(this,!1)},$flattenParams:function(){var ge=this.proxy,we=[];for(var Pe in this.$params)if(this.isNested(Pe)){for(var Oe=ge[Pe].$flattenParams(),Ae=0;Ae<Oe.length;Ae++)Oe[Ae].path.unshift(Pe);we=we.concat(Oe)}else we.push({path:[],name:Pe,params:this.$params[Pe]});return we}},ue=Object.keys(se),ce=Object.keys(le),he=null,de=function(ge){if(he)return he;var we=ge.extend({computed:{refs:function(){var Ee=this._vval;this._vval=this.children,(0,F.patchChildren)(Ee,this._vval);var Ie={};return this._vval.forEach(function(Le){Ie[Le.key]=Le.vm}),Ie}},beforeCreate:function(){this._vval=null},beforeDestroy:function(){this._vval&&((0,F.patchChildren)(this._vval),this._vval=null)},methods:{getModel:function(){return this.lazyModel?this.lazyModel(this.prop):this.model},getModelKey:function(Ee){var Ie=this.getModel();if(Ie)return Ie[Ee]},hasIter:function(){return!1}}}),Pe=we.extend({data:function(){return{rule:null,lazyModel:null,model:null,lazyParentModel:null,rootModel:null}},methods:{runRule:function(Ee){var Ie=this.getModel();(0,E.pushParams)();var Le=this.rule.call(this.rootModel,Ie,Ee),Be=te(Le)?ae(ge,Le):Le,Fe=(0,E.popParams)(),Ne=Fe&&Fe.$sub?Fe.$sub.length>1?Fe:Fe.$sub[0]:null;return{output:Be,params:Ne}}},computed:{run:function(){var Ee=this,Ie=this.lazyParentModel(),Le=Array.isArray(Ie)&&Ie.__ob__;if(Le){var Be=Ie.__ob__.dep;Be.depend();var Fe=Be.constructor.target;if(!this._indirectWatcher){var Ne=Fe.constructor;this._indirectWatcher=new Ne(this,function(){return Ee.runRule(Ie)},null,{lazy:!0})}var He=this.getModel();if(!this._indirectWatcher.dirty&&this._lastModel===He)return this._indirectWatcher.depend(),Fe.value;this._lastModel=He,this._indirectWatcher.evaluate(),this._indirectWatcher.depend()}else this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null);return this._indirectWatcher?this._indirectWatcher.value:this.runRule(Ie)},$params:function(){return this.run.params},proxy:function(){var Ee=this.run.output;return Ee[ne]?!!Ee.v:!!Ee},$pending:function(){var Ee=this.run.output;return Ee[ne]?Ee.p:!1}},destroyed:function(){this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null)}}),Oe=we.extend({data:function(){return{dirty:!1,validations:null,lazyModel:null,model:null,prop:null,lazyParentModel:null,rootModel:null}},methods:G({},le,{refProxy:function(Ee){return this.getRef(Ee).proxy},getRef:function(Ee){return this.refs[Ee]},isNested:function(Ee){return typeof this.validations[Ee]!="function"}}),computed:G({},se,{nestedKeys:function(){return this.keys.filter(this.isNested)},ruleKeys:function(){var Ee=this;return this.keys.filter(function(Ie){return!Ee.isNested(Ie)})},keys:function(){return Object.keys(this.validations).filter(function(Ee){return Ee!=="$params"})},proxy:function(){var Ee=this,Ie=J(this.keys,function(Ne){return{enumerable:!0,configurable:!0,get:function(){return Ee.refProxy(Ne)}}}),Le=J(ue,function(Ne){return{enumerable:!0,configurable:!0,get:function(){return Ee[Ne]}}}),Be=J(ce,function(Ne){return{enumerable:!1,configurable:!0,get:function(){return Ee[Ne]}}}),Fe=this.hasIter()?{$iter:{enumerable:!0,value:Object.defineProperties({},G({},Ie))}}:{};return Object.defineProperties({},G({},Ie,Fe,{$model:{enumerable:!0,get:function(){var He=Ee.lazyParentModel();return He!=null?He[Ee.prop]:null},set:function(He){var Re=Ee.lazyParentModel();Re!=null&&(Re[Ee.prop]=He,Ee.$touch())}}},Le,Be))},children:function(){var Ee=this;return V(this.nestedKeys.map(function(Ie){return ye(Ee,Ie)})).concat(V(this.ruleKeys.map(function(Ie){return $e(Ee,Ie)}))).filter(Boolean)}})}),Ae=Oe.extend({methods:{isNested:function(Ee){return typeof this.validations[Ee]()<"u"},getRef:function(Ee){var Ie=this;return{get proxy(){return Ie.validations[Ee]()||!1}}}}}),Se=Oe.extend({computed:{keys:function(){var Ee=this.getModel();return ee(Ee)?Object.keys(Ee):[]},tracker:function(){var Ee=this,Ie=this.validations.$trackBy;return Ie?function(Le){return"".concat(ie(Ee.rootModel,Ee.getModelKey(Le),Ie))}:function(Le){return"".concat(Le)}},getModelLazy:function(){var Ee=this;return function(){return Ee.getModel()}},children:function(){var Ee=this,Ie=this.validations,Le=this.getModel(),Be=G({},Ie);delete Be.$trackBy;var Fe={};return this.keys.map(function(Ne){var He=Ee.tracker(Ne);return Fe.hasOwnProperty(He)?null:(Fe[He]=!0,(0,F.h)(Oe,He,{validations:Be,prop:Ne,lazyParentModel:Ee.getModelLazy,model:Le[Ne],rootModel:Ee.rootModel}))}).filter(Boolean)}},methods:{isNested:function(){return!0},getRef:function(Ee){return this.refs[this.tracker(Ee)]},hasIter:function(){return!0}}}),ye=function(Ee,Ie){if(Ie==="$each")return(0,F.h)(Se,Ie,{validations:Ee.validations[Ie],lazyParentModel:Ee.lazyParentModel,prop:Ie,lazyModel:Ee.getModel,rootModel:Ee.rootModel});var Le=Ee.validations[Ie];if(Array.isArray(Le)){var Be=Ee.rootModel,Fe=J(Le,function(Ne){return function(){return ie(Be,Be.$v,Ne)}},function(Ne){return Array.isArray(Ne)?Ne.join("."):Ne});return(0,F.h)(Ae,Ie,{validations:Fe,lazyParentModel:Z,prop:Ie,lazyModel:Z,rootModel:Be})}return(0,F.h)(Oe,Ie,{validations:Le,lazyParentModel:Ee.getModel,prop:Ie,lazyModel:Ee.getModelKey,rootModel:Ee.rootModel})},$e=function(Ee,Ie){return(0,F.h)(Pe,Ie,{rule:Ee.validations[Ie],lazyParentModel:Ee.lazyParentModel,lazyModel:Ee.getModel,rootModel:Ee.rootModel})};return he={VBase:we,Validation:Oe},he},fe=null;function Te(be){if(fe)return fe;for(var ge=be.constructor;ge.super;)ge=ge.super;return fe=ge,ge}var xe=function(ge,we){var Pe=Te(ge),Oe=de(Pe),Ae=Oe.Validation,Se=Oe.VBase,ye=new Se({computed:{children:function(){var ke=typeof we=="function"?we.call(ge):we;return[(0,F.h)(Ae,"$v",{validations:ke,lazyParentModel:Z,prop:"$v",model:ge,rootModel:ge})]}}});return ye},pe={data:function(){var ge=this.$options.validations;return ge&&(this._vuelidate=xe(this,ge)),{}},beforeCreate:function(){var ge=this.$options,we=ge.validations;!we||(ge.computed||(ge.computed={}),!ge.computed.$v&&(ge.computed.$v=function(){return this._vuelidate?this._vuelidate.refs.$v.proxy:null}))},beforeDestroy:function(){this._vuelidate&&(this._vuelidate.$destroy(),this._vuelidate=null)}};R.validationMixin=pe;function _e(be){be.mixin(pe)}var Ce=_e;R.default=Ce})(lib);const Vuelidate=getDefaultExportFromCjs(lib),Component_vue_vue_type_style_index_0_lang="",_sfc_main$1={store,i18n,computed:{errors(){return this.$store.state.errors.errors}},methods:{remove(R){this.$store.commit("errors/delete",R)}}};var _sfc_render$1=function(){var F=this,E=F._self._c;return F.errors.length?E("div",{staticClass:"alert-fixed-box"},F._l(F.errors,function(V,U){return E("div",{key:U,staticClass:"alert",class:{warning:V.title==="error.api",danger:V.title==="error.http"}},[E("div",{staticClass:"flexbox space-8 full-width"},[E("div",{staticClass:"alert__icon"},[E("span",{staticClass:"icon"},[E("i",{staticClass:"fas",class:{"fa-exclamation-triangle":V.title==="error.api","fa-skull":V.title==="error.http"}})])]),E("div",{staticClass:"alert__content"},[E("div",{staticClass:"custom-mb-8"},[F._v(" "+F._s(V.method)+" ")]),E("div",{staticClass:"opacity-70"},[F._v(" "+F._s(V.message)+" ")])]),E("div",{staticClass:"alert__close"},[E("a",{staticClass:"alert-close",attrs:{href:"#"},on:{click:function(W){return W.preventDefault(),F.remove(U)}}},[E("i",{staticClass:"fas fa-times"})])])])])}),0):F._e()},_sfc_staticRenderFns$1=[],__component__$1=normalizeComponent(_sfc_main$1,_sfc_render$1,_sfc_staticRenderFns$1,!1,null,null,null,null);const Component=__component__$1.exports,ErrorsComponent=Vue$2.extend(Component),Errors=new ErrorsComponent().$mount();document.querySelector("body").appendChild(Errors.$el);const Errors$1={install:function(R){R.prototype.$errors=Errors}},namespace="@@vue-sticky-directive",events=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],batchStyle=(R,F={},E={})=>{for(const V in F)R.style[V]=F[V];for(const V in E)E[V]&&!R.classList.contains(V)?R.classList.add(V):!E[V]&&R.classList.contains(V)&&R.classList.remove(V)};class Sticky$1{constructor(R,F){this.el=R,this.vm=F,this.unsubscribers=[],this.isPending=!1,this.state={isTopSticky:null,isBottomSticky:null,height:null,width:null,xOffset:null},this.lastState={top:null,bottom:null,sticked:!1};const E=this.getAttribute("sticky-offset")||{},V=this.getAttribute("sticky-side")||"top",U=this.getAttribute("sticky-z-index")||"10",W=this.getAttribute("sticky-width-ref")||null,Y=this.getAttribute("on-stick")||null;this.options={topOffset:Number(E.top)||0,bottomOffset:Number(E.bottom)||0,shouldTopSticky:V==="top"||V==="both",shouldBottomSticky:V==="bottom"||V==="both",zIndex:U,widthRef:W,onStick:Y}}doBind(){if(this.unsubscribers.length>0)return;const{el:R,vm:F}=this;F.$nextTick(()=>{this.placeholderEl=document.createElement("div"),this.containerEl=this.getContainerEl(),R.parentNode.insertBefore(this.placeholderEl,R),events.forEach(E=>{const V=this.update.bind(this);this.unsubscribers.push(()=>window.removeEventListener(E,V)),this.unsubscribers.push(()=>this.containerEl.removeEventListener(E,V)),window.addEventListener(E,V,{passive:!0}),this.containerEl.addEventListener(E,V,{passive:!0})})})}doUnbind(){this.unsubscribers.forEach(R=>R()),this.unsubscribers=[],this.resetElement()}update(){this.isPending||(requestAnimationFrame(()=>{this.isPending=!1,this.recomputeState(),this.updateElements()}),this.isPending=!0)}isTopSticky(){if(!this.options.shouldTopSticky)return!1;const R=this.state.placeholderElRect.top,F=this.state.containerElRect.bottom,E=this.options.topOffset,V=this.options.bottomOffset;return R<=E&&F>=V}isBottomSticky(){if(!this.options.shouldBottomSticky)return!1;const R=window.innerHeight-this.state.placeholderElRect.top-this.state.height,F=window.innerHeight-this.state.containerElRect.top,E=this.options.topOffset,V=this.options.bottomOffset;return R<=V&&F>=E}recomputeState(){this.state=Object.assign({},this.state,{height:this.getHeight(),width:this.getWidth(),xOffset:this.getXOffset(),placeholderElRect:this.getPlaceholderElRect(),containerElRect:this.getContainerElRect()}),this.state.isTopSticky=this.isTopSticky(),this.state.isBottomSticky=this.isBottomSticky()}fireEvents(){typeof this.options.onStick=="function"&&(this.lastState.top!==this.state.isTopSticky||this.lastState.bottom!==this.state.isBottomSticky||this.lastState.sticked!==(this.state.isTopSticky||this.state.isBottomSticky))&&(this.lastState={top:this.state.isTopSticky,bottom:this.state.isBottomSticky,sticked:this.state.isBottomSticky||this.state.isTopSticky},this.options.onStick(this.lastState))}updateElements(){const R={paddingTop:0},F={position:"static",top:"auto",bottom:"auto",left:"auto",width:"auto",zIndex:this.options.zIndex},E={"vue-sticky-placeholder":!0},V={"vue-sticky-el":!0,"top-sticky":!1,"bottom-sticky":!1};if(this.state.isTopSticky){F.position="fixed",F.top=this.options.topOffset+"px",F.left=this.state.xOffset+"px",F.width=this.state.width+"px";const U=this.state.containerElRect.bottom-this.state.height-this.options.bottomOffset-this.options.topOffset;U<0&&(F.top=U+this.options.topOffset+"px"),R.paddingTop=this.state.height+"px",V["top-sticky"]=!0}else if(this.state.isBottomSticky){F.position="fixed",F.bottom=this.options.bottomOffset+"px",F.left=this.state.xOffset+"px",F.width=this.state.width+"px";const U=window.innerHeight-this.state.containerElRect.top-this.state.height-this.options.bottomOffset-this.options.topOffset;U<0&&(F.bottom=U+this.options.bottomOffset+"px"),R.paddingTop=this.state.height+"px",V["bottom-sticky"]=!0}else R.paddingTop=0;batchStyle(this.el,F,V),batchStyle(this.placeholderEl,R,E),this.fireEvents()}resetElement(){if(["position","top","bottom","left","width","zIndex"].forEach(R=>{this.el.style.removeProperty(R)}),this.el.classList.remove("bottom-sticky","top-sticky"),this.placeholderEl){const{parentNode:R}=this.placeholderEl;R&&R.removeChild(this.placeholderEl)}}getContainerEl(){let R=this.el.parentNode;for(;R&&R.tagName!=="HTML"&&R.tagName!=="BODY"&&R.nodeType===1;){if(R.hasAttribute("sticky-container"))return R;R=R.parentNode}return this.el.parentNode}getXOffset(){return this.placeholderEl.getBoundingClientRect().left}getWidth(){let R=this.placeholderEl;return this.options.widthRef&&(R=document.querySelector(`[sticky-ref="${this.options.widthRef}"]`)||R),R.getBoundingClientRect().width}getHeight(){return this.el.getBoundingClientRect().height}getPlaceholderElRect(){return this.placeholderEl.getBoundingClientRect()}getContainerElRect(){return this.containerEl.getBoundingClientRect()}getAttribute(name){const expr=this.el.getAttribute(name);let result;if(expr)if(this.vm[expr])result=this.vm[expr];else try{result=eval(`(${expr})`)}catch(R){result=expr}return result}}const Sticky$2={inserted(R,F,E){(typeof F.value>"u"||F.value)&&(R[namespace]=new Sticky$1(R,E.context),R[namespace].doBind())},unbind(R,F,E){R[namespace]&&(R[namespace].doUnbind(),R[namespace]=void 0)},componentUpdated(R,F,E){typeof F.value>"u"||F.value?(R[namespace]||(R[namespace]=new Sticky$1(R,E.context)),R[namespace].doBind()):R[namespace]&&R[namespace].doUnbind()}},Sticky={install:function(R){R.directive("Sticky",Sticky$2)}};function _typeof$1(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(F){return typeof F}:_typeof$1=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},_typeof$1(R)}var config={selector:"vue-portal-target-".concat(nanoid())},setSelector=function R(F){return config.selector=F},isBrowser=typeof window<"u"&&(typeof document>"u"?"undefined":_typeof$1(document))!==void 0,TargetContainer=Vue$2.extend({abstract:!0,name:"PortalOutlet",props:["nodes","tag"],data:function R(F){return{updatedNodes:F.nodes}},render:function R(F){var E=this.updatedNodes&&this.updatedNodes();return E?E.length===1&&!E[0].text?E:F(this.tag||"DIV",E):F()},destroyed:function R(){var F=this.$el;F&&F.parentNode.removeChild(F)}}),Portal=Vue$2.extend({name:"VueSimplePortal",props:{disabled:{type:Boolean},prepend:{type:Boolean},selector:{type:String,default:function R(){return"#".concat(config.selector)}},tag:{type:String,default:"DIV"}},render:function R(F){if(this.disabled){var E=this.$scopedSlots&&this.$scopedSlots.default();return E?E.length<2&&!E[0].text?E:F(this.tag,E):F()}return F()},created:function R(){this.getTargetEl()||this.insertTargetEl()},updated:function R(){var F=this;this.$nextTick(function(){!F.disabled&&F.slotFn!==F.$scopedSlots.default&&(F.container.updatedNodes=F.$scopedSlots.default),F.slotFn=F.$scopedSlots.default})},beforeDestroy:function R(){this.unmount()},watch:{disabled:{immediate:!0,handler:function R(F){F?this.unmount():this.$nextTick(this.mount)}}},methods:{getTargetEl:function R(){if(!!isBrowser)return document.querySelector(this.selector)},insertTargetEl:function R(){if(!!isBrowser){var F=document.querySelector("body"),E=document.createElement(this.tag);E.id=this.selector.substring(1),F.appendChild(E)}},mount:function R(){if(!!isBrowser){var F=this.getTargetEl(),E=document.createElement("DIV");this.prepend&&F.firstChild?F.insertBefore(E,F.firstChild):F.appendChild(E),this.container=new TargetContainer({el:E,parent:this,propsData:{tag:this.tag,nodes:this.$scopedSlots.default}})}},unmount:function R(){this.container&&(this.container.$destroy(),delete this.container)}}});function install$1(R){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.component(F.name||"portal",Portal),F.defaultSelector&&setSelector(F.defaultSelector)}typeof window<"u"&&window.Vue&&window.Vue===Vue$2&&Vue$2.use(install$1);const WAtippy={install(R){R.directive("wa-tippy",{inserted(F,E,V){window.tippy&&R.nextTick(()=>{E.value&&window.tippy(F,{content:E.value,arrow:!1,zIndex:99999})})},unbind(F){F._tippy&&F._tippy.destroy()}})}};var isMergeableObject=function R(F){return isNonNullObject(F)&&!isSpecial(F)};function isNonNullObject(R){return!!R&&typeof R=="object"}function isSpecial(R){var F=Object.prototype.toString.call(R);return F==="[object RegExp]"||F==="[object Date]"||isReactElement(R)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(R){return R.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(R){return Array.isArray(R)?[]:{}}function cloneUnlessOtherwiseSpecified(R,F){return F.clone!==!1&&F.isMergeableObject(R)?deepmerge(emptyTarget(R),R,F):R}function defaultArrayMerge(R,F,E){return R.concat(F).map(function(V){return cloneUnlessOtherwiseSpecified(V,E)})}function getMergeFunction(R,F){if(!F.customMerge)return deepmerge;var E=F.customMerge(R);return typeof E=="function"?E:deepmerge}function getEnumerableOwnPropertySymbols(R){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(R).filter(function(F){return Object.propertyIsEnumerable.call(R,F)}):[]}function getKeys(R){return Object.keys(R).concat(getEnumerableOwnPropertySymbols(R))}function propertyIsOnObject(R,F){try{return F in R}catch{return!1}}function propertyIsUnsafe(R,F){return propertyIsOnObject(R,F)&&!(Object.hasOwnProperty.call(R,F)&&Object.propertyIsEnumerable.call(R,F))}function mergeObject(R,F,E){var V={};return E.isMergeableObject(R)&&getKeys(R).forEach(function(U){V[U]=cloneUnlessOtherwiseSpecified(R[U],E)}),getKeys(F).forEach(function(U){propertyIsUnsafe(R,U)||(propertyIsOnObject(R,U)&&E.isMergeableObject(F[U])?V[U]=getMergeFunction(U,E)(R[U],F[U],E):V[U]=cloneUnlessOtherwiseSpecified(F[U],E))}),V}function deepmerge(R,F,E){E=E||{},E.arrayMerge=E.arrayMerge||defaultArrayMerge,E.isMergeableObject=E.isMergeableObject||isMergeableObject,E.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var V=Array.isArray(F),U=Array.isArray(R),W=V===U;return W?V?E.arrayMerge(R,F,E):mergeObject(R,F,E):cloneUnlessOtherwiseSpecified(F,E)}deepmerge.all=function R(F,E){if(!Array.isArray(F))throw new Error("first argument should be an array");return F.reduce(function(V,U){return deepmerge(V,U,E)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;/**
 * vue-meta v2.4.0
 * (c) 2020
 * - Declan de Wet
 * - Sbastien Chopin (@Atinux)
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */var version="2.4.0";function _typeof(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(F){return typeof F}:_typeof=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},_typeof(R)}function _defineProperty(R,F,E){return F in R?Object.defineProperty(R,F,{value:E,enumerable:!0,configurable:!0,writable:!0}):R[F]=E,R}function ownKeys(R,F){var E=Object.keys(R);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(R);F&&(V=V.filter(function(U){return Object.getOwnPropertyDescriptor(R,U).enumerable})),E.push.apply(E,V)}return E}function _objectSpread2(R){for(var F=1;F<arguments.length;F++){var E=arguments[F]!=null?arguments[F]:{};F%2?ownKeys(Object(E),!0).forEach(function(V){_defineProperty(R,V,E[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(E)):ownKeys(Object(E)).forEach(function(V){Object.defineProperty(R,V,Object.getOwnPropertyDescriptor(E,V))})}return R}function _toConsumableArray(R){return _arrayWithoutHoles(R)||_iterableToArray(R)||_unsupportedIterableToArray(R)||_nonIterableSpread()}function _arrayWithoutHoles(R){if(Array.isArray(R))return _arrayLikeToArray(R)}function _iterableToArray(R){if(typeof Symbol<"u"&&Symbol.iterator in Object(R))return Array.from(R)}function _unsupportedIterableToArray(R,F){if(!!R){if(typeof R=="string")return _arrayLikeToArray(R,F);var E=Object.prototype.toString.call(R).slice(8,-1);if(E==="Object"&&R.constructor&&(E=R.constructor.name),E==="Map"||E==="Set")return Array.from(R);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray(R,F)}}function _arrayLikeToArray(R,F){(F==null||F>R.length)&&(F=R.length);for(var E=0,V=new Array(F);E<F;E++)V[E]=R[E];return V}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _createForOfIteratorHelper(R,F){var E;if(typeof Symbol>"u"||R[Symbol.iterator]==null){if(Array.isArray(R)||(E=_unsupportedIterableToArray(R))||F&&R&&typeof R.length=="number"){E&&(R=E);var V=0,U=function(){};return{s:U,n:function(){return V>=R.length?{done:!0}:{done:!1,value:R[V++]}},e:function(X){throw X},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W=!0,Y=!1,G;return{s:function(){E=R[Symbol.iterator]()},n:function(){var X=E.next();return W=X.done,X},e:function(X){Y=!0,G=X},f:function(){try{!W&&E.return!=null&&E.return()}finally{if(Y)throw G}}}}function isArray(R){return Array.isArray(R)}function isUndefined(R){return typeof R>"u"}function isObject(R){return _typeof(R)==="object"}function isPureObject(R){return _typeof(R)==="object"&&R!==null}function isFunction(R){return typeof R=="function"}function isString(R){return typeof R=="string"}function hasGlobalWindowFn(){try{return!isUndefined(window)}catch{return!1}}var hasGlobalWindow=hasGlobalWindowFn(),_global=hasGlobalWindow?window:global,console$1=_global.console||{};function warn(R){!console$1||!console$1.warn||console$1.warn(R)}var showWarningNotSupported=function R(){return warn("This vue app/component has no vue-meta configuration")},defaultInfo={title:void 0,titleChunk:"",titleTemplate:"%s",htmlAttrs:{},bodyAttrs:{},headAttrs:{},base:[],link:[],meta:[],style:[],script:[],noscript:[],__dangerouslyDisableSanitizers:[],__dangerouslyDisableSanitizersByTagID:{}},rootConfigKey="_vueMeta",keyName="metaInfo",attribute="data-vue-meta",ssrAttribute="data-vue-meta-server-rendered",tagIDKeyName="vmid",metaTemplateKeyName="template",contentKeyName="content",ssrAppId="ssr",debounceWait=10,waitOnDestroyed=!0,defaultOptions={keyName,attribute,ssrAttribute,tagIDKeyName,contentKeyName,metaTemplateKeyName,waitOnDestroyed,debounceWait,ssrAppId},defaultInfoKeys=Object.keys(defaultInfo),disableOptionKeys=[defaultInfoKeys[12],defaultInfoKeys[13]],metaInfoOptionKeys=[defaultInfoKeys[1],defaultInfoKeys[2],"changed"].concat(disableOptionKeys),metaInfoAttributeKeys=[defaultInfoKeys[3],defaultInfoKeys[4],defaultInfoKeys[5]],tagsSupportingOnload=["link","style","script"],tagsWithoutEndTag=["base","meta","link"],tagsWithInnerContent=["noscript","script","style"],tagAttributeAsInnerContent=["innerHTML","cssText","json"],tagProperties=["once","skip","template"],commonDataAttributes=["body","pbody"],booleanHtmlAttributes=["allowfullscreen","amp","amp-boilerplate","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","truespeed","typemustmatch","visible"],batchId=null;function triggerUpdate(R,F,E){var V=R.debounceWait;!F[rootConfigKey].initialized&&(F[rootConfigKey].initializing||E==="watcher")&&(F[rootConfigKey].initialized=null),F[rootConfigKey].initialized&&!F[rootConfigKey].pausing&&batchUpdate(function(){return void F.$meta().refresh()},V)}function batchUpdate(R,F){if(F=F===void 0?10:F,!F){R();return}return clearTimeout(batchId),batchId=setTimeout(function(){R()},F),batchId}function find(R,F,E){if(!Array.prototype.find){for(var V=0;V<R.length;V++)if(F.call(E,R[V],V,R))return R[V];return}return R.find(F,E)}function findIndex(R,F,E){if(!Array.prototype.findIndex){for(var V=0;V<R.length;V++)if(F.call(E,R[V],V,R))return V;return-1}return R.findIndex(F,E)}function toArray(R){return Array.from?Array.from(R):Array.prototype.slice.call(R)}function includes(R,F){if(!Array.prototype.includes){for(var E in R)if(R[E]===F)return!0;return!1}return R.includes(F)}var querySelector=function R(F,E){return(E||document).querySelectorAll(F)};function getTag(R,F){return R[F]||(R[F]=document.getElementsByTagName(F)[0]),R[F]}function getElementsKey(R){var F=R.body,E=R.pbody;return F?"body":E?"pbody":"head"}function queryElements(R,F,E){var V=F.appId,U=F.attribute,W=F.type,Y=F.tagIDKeyName;E=E||{};var G=["".concat(W,"[").concat(U,'="').concat(V,'"]'),"".concat(W,"[data-").concat(Y,"]")].map(function(X){for(var K in E){var Z=E[K],J=Z&&Z!==!0?'="'.concat(Z,'"'):"";X+="[data-".concat(K).concat(J,"]")}return X});return toArray(querySelector(G.join(", "),R))}function removeElementsByAppId(R,F){var E=R.attribute;toArray(querySelector("[".concat(E,'="').concat(F,'"]'))).map(function(V){return V.remove()})}function removeAttribute(R,F){R.removeAttribute(F)}function hasMetaInfo(R){return R=R||this,R&&(R[rootConfigKey]===!0||isObject(R[rootConfigKey]))}function inMetaInfoBranch(R){return R=R||this,R&&!isUndefined(R[rootConfigKey])}function pause(R,F){return R[rootConfigKey].pausing=!0,function(){return resume(R,F)}}function resume(R,F){if(R[rootConfigKey].pausing=!1,F||F===void 0)return R.$meta().refresh()}function addNavGuards(R){var F=R.$router;R[rootConfigKey].navGuards||!F||(R[rootConfigKey].navGuards=!0,F.beforeEach(function(E,V,U){pause(R),U()}),F.afterEach(function(){R.$nextTick(function(){var E=resume(R),V=E.metaInfo;V&&isFunction(V.afterNavigation)&&V.afterNavigation(V)})}))}var appId=1;function createMixin(R,F){var E=["activated","deactivated","beforeMount"],V=!1;return{beforeCreate:function(){var W=this,Y="$root",G=this[Y],X=this.$options,K=R.config.devtools;if(Object.defineProperty(this,"_hasMetaInfo",{configurable:!0,get:function(){return K&&!G[rootConfigKey].deprecationWarningShown&&(warn("VueMeta DeprecationWarning: _hasMetaInfo has been deprecated and will be removed in a future version. Please use hasMetaInfo(vm) instead"),G[rootConfigKey].deprecationWarningShown=!0),hasMetaInfo(this)}}),this===G&&G.$once("hook:beforeMount",function(){if(V=this.$el&&this.$el.nodeType===1&&this.$el.hasAttribute("data-server-rendered"),!V&&G[rootConfigKey]&&G[rootConfigKey].appId===1){var J=getTag({},"html");V=J&&J.hasAttribute(F.ssrAttribute)}}),!(isUndefined(X[F.keyName])||X[F.keyName]===null)){if(G[rootConfigKey]||(G[rootConfigKey]={appId},appId++,K&&G.$options[F.keyName]&&this.$nextTick(function(){var J=find(G.$children,function(Q){return Q.$vnode&&Q.$vnode.fnOptions});J&&J.$vnode.fnOptions[F.keyName]&&warn("VueMeta has detected a possible global mixin which adds a ".concat(F.keyName," property to all Vue components on the page. This could cause severe performance issues. If possible, use $meta().addApp to add meta information instead"))})),!this[rootConfigKey]){this[rootConfigKey]=!0;for(var Z=this.$parent;Z&&Z!==G;)isUndefined(Z[rootConfigKey])&&(Z[rootConfigKey]=!1),Z=Z.$parent}isFunction(X[F.keyName])&&(X.computed=X.computed||{},X.computed.$metaInfo=X[F.keyName],this.$isServer||this.$on("hook:created",function(){this.$watch("$metaInfo",function(){triggerUpdate(F,this[Y],"watcher")})})),isUndefined(G[rootConfigKey].initialized)&&(G[rootConfigKey].initialized=this.$isServer,G[rootConfigKey].initialized||(G[rootConfigKey].initializedSsr||(G[rootConfigKey].initializedSsr=!0,this.$on("hook:beforeMount",function(){var J=this[Y];V&&(J[rootConfigKey].appId=F.ssrAppId)})),this.$on("hook:mounted",function(){var J=this[Y];J[rootConfigKey].initialized||(J[rootConfigKey].initializing=!0,this.$nextTick(function(){var Q=J.$meta().refresh(),ee=Q.tags,te=Q.metaInfo;ee===!1&&J[rootConfigKey].initialized===null&&this.$nextTick(function(){return triggerUpdate(F,J,"init")}),J[rootConfigKey].initialized=!0,delete J[rootConfigKey].initializing,!F.refreshOnceOnNavigation&&te.afterNavigation&&addNavGuards(J)}))}),F.refreshOnceOnNavigation&&addNavGuards(G))),this.$on("hook:destroyed",function(){var J=this;!this.$parent||!hasMetaInfo(this)||(delete this._hasMetaInfo,this.$nextTick(function(){if(!F.waitOnDestroyed||!J.$el||!J.$el.offsetParent){triggerUpdate(F,J.$root,"destroyed");return}var Q=setInterval(function(){J.$el&&J.$el.offsetParent!==null||(clearInterval(Q),triggerUpdate(F,J.$root,"destroyed"))},50)}))}),!this.$isServer&&E.forEach(function(J){W.$on("hook:".concat(J),function(){triggerUpdate(F,this[Y],J)})})}}}}function setOptions(R){return R=isObject(R)?R:{},{keyName:R.keyName||defaultOptions.keyName,attribute:R.attribute||defaultOptions.attribute,ssrAttribute:R.ssrAttribute||defaultOptions.ssrAttribute,tagIDKeyName:R.tagIDKeyName||defaultOptions.tagIDKeyName,contentKeyName:R.contentKeyName||defaultOptions.contentKeyName,metaTemplateKeyName:R.metaTemplateKeyName||defaultOptions.metaTemplateKeyName,debounceWait:isUndefined(R.debounceWait)?defaultOptions.debounceWait:R.debounceWait,waitOnDestroyed:isUndefined(R.waitOnDestroyed)?defaultOptions.waitOnDestroyed:R.waitOnDestroyed,ssrAppId:R.ssrAppId||defaultOptions.ssrAppId,refreshOnceOnNavigation:!!R.refreshOnceOnNavigation}}function getOptions(R){var F={};for(var E in R)F[E]=R[E];return F}function ensureIsArray(R,F){return!F||!isObject(R)?isArray(R)?R:[]:(isArray(R[F])||(R[F]=[]),R)}var serverSequences=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&#x27;"]],clientSequences=[[/&/g,"&"],[/</g,"<"],[/>/g,">"],[/"/g,'"'],[/'/g,"'"]];function escape(R,F,E,V){var U=F.tagIDKeyName,W=E.doEscape,Y=W===void 0?function(ee){return ee}:W,G={};for(var X in R){var K=R[X];if(includes(metaInfoOptionKeys,X)){G[X]=K;continue}var Z=disableOptionKeys[0];if(E[Z]&&includes(E[Z],X)){G[X]=K;continue}var J=R[U];if(J&&(Z=disableOptionKeys[1],E[Z]&&E[Z][J]&&includes(E[Z][J],X))){G[X]=K;continue}if(isString(K)?G[X]=Y(K):isArray(K)?G[X]=K.map(function(ee){return isPureObject(ee)?escape(ee,F,E,!0):Y(ee)}):isPureObject(K)?G[X]=escape(K,F,E,!0):G[X]=K,V){var Q=Y(X);X!==Q&&(G[Q]=G[X],delete G[X])}}return G}function escapeMetaInfo(R,F,E){E=E||[];var V={doEscape:function(W){return E.reduce(function(Y,G){return Y.replace(G[0],G[1])},W)}};return disableOptionKeys.forEach(function(U,W){if(W===0)ensureIsArray(F,U);else if(W===1)for(var Y in F[U])ensureIsArray(F[U],Y);V[U]=F[U]}),escape(F,R,V)}function applyTemplate(R,F,E,V){var U=R.component,W=R.metaTemplateKeyName,Y=R.contentKeyName;return E===!0||F[W]===!0?!1:(isUndefined(E)&&F[W]&&(E=F[W],F[W]=!0),E?(isUndefined(V)&&(V=F[Y]),F[Y]=isFunction(E)?E.call(U,V):E.replace(/%s/g,V),!0):(delete F[W],!1))}function _arrayMerge(R,F,E){var V=R.component,U=R.tagIDKeyName,W=R.metaTemplateKeyName,Y=R.contentKeyName,G=[];return!F.length&&!E.length?G:(F.forEach(function(X,K){if(!X[U]){G.push(X);return}var Z=findIndex(E,function(te){return te[U]===X[U]}),J=E[Z];if(Z===-1){G.push(X);return}if(Y in J&&J[Y]===void 0||"innerHTML"in J&&J.innerHTML===void 0){G.push(X),E.splice(Z,1);return}if(J[Y]===null||J.innerHTML===null){E.splice(Z,1);return}var Q=X[W];if(!!Q){var ee=J[W];if(!ee){applyTemplate({component:V,metaTemplateKeyName:W,contentKeyName:Y},J,Q),J.template=!0;return}J[Y]||applyTemplate({component:V,metaTemplateKeyName:W,contentKeyName:Y},J,void 0,X[Y])}}),G.concat(E))}var warningShown=!1;function merge(R,F,E){return E=E||{},F.title===void 0&&delete F.title,metaInfoAttributeKeys.forEach(function(V){if(!!F[V])for(var U in F[V])U in F[V]&&F[V][U]===void 0&&(includes(booleanHtmlAttributes,U)&&!warningShown&&(warn("VueMeta: Please note that since v2 the value undefined is not used to indicate boolean attributes anymore, see migration guide for details"),warningShown=!0),delete F[V][U])}),cjs(R,F,{arrayMerge:function(U,W){return _arrayMerge(E,U,W)}})}function getComponentMetaInfo(R,F){return getComponentOption(R||{},F,defaultInfo)}function getComponentOption(R,F,E){if(E=E||{},F._inactive)return E;R=R||{};var V=R,U=V.keyName,W=F.$metaInfo,Y=F.$options,G=F.$children;if(Y[U]){var X=W||Y[U];isObject(X)&&(E=merge(E,X,R))}return G.length&&G.forEach(function(K){!inMetaInfoBranch(K)||(E=getComponentOption(R,K,E))}),E}var callbacks=[];function isDOMComplete(R){return(R||document).readyState==="complete"}function addCallback(R,F){arguments.length===1&&(F=R,R=""),callbacks.push([R,F])}function addCallbacks(R,F,E,V){var U=R.tagIDKeyName,W=!1;return E.forEach(function(Y){!Y[U]||!Y.callback||(W=!0,addCallback("".concat(F,"[data-").concat(U,'="').concat(Y[U],'"]'),Y.callback))}),!V||!W?W:addListeners()}function addListeners(){if(isDOMComplete()){applyCallbacks();return}document.onreadystatechange=function(){applyCallbacks()}}function applyCallbacks(R){callbacks.forEach(function(F){var E=F[0],V=F[1],U="".concat(E,'[onload="this.__vm_l=1"]'),W=[];R||(W=toArray(querySelector(U))),R&&R.matches(U)&&(W=[R]),W.forEach(function(Y){if(!Y.__vm_cb){var G=function(){Y.__vm_cb=!0,removeAttribute(Y,"onload"),V(Y)};if(Y.__vm_l){G();return}Y.__vm_ev||(Y.__vm_ev=!0,Y.addEventListener("load",G))}})})}var attributeMap={};function updateAttribute(R,F,E,V,U){var W=F||{},Y=W.attribute,G=U.getAttribute(Y);G&&(attributeMap[E]=JSON.parse(decodeURI(G)),removeAttribute(U,Y));var X=attributeMap[E]||{},K=[];for(var Z in X)X[Z]!==void 0&&R in X[Z]&&(K.push(Z),V[Z]||delete X[Z][R]);for(var J in V){var Q=X[J];(!Q||Q[R]!==V[J])&&(K.push(J),V[J]!==void 0&&(X[J]=X[J]||{},X[J][R]=V[J]))}for(var ee=0,te=K;ee<te.length;ee++){var ie=te[ee],ne=X[ie],ae=[];for(var se in ne)Array.prototype.push.apply(ae,[].concat(ne[se]));if(ae.length){var oe=includes(booleanHtmlAttributes,ie)&&ae.some(Boolean)?"":ae.filter(function(le){return le!==void 0}).join(" ");U.setAttribute(ie,oe)}else removeAttribute(U,ie)}attributeMap[E]=X}function updateTitle(R){!R&&R!==""||(document.title=R)}function updateTag(R,F,E,V,U,W){var Y=F||{},G=Y.attribute,X=Y.tagIDKeyName,K=commonDataAttributes.slice();K.push(X);var Z=[],J={appId:R,attribute:G,type:E,tagIDKeyName:X},Q={head:queryElements(U,J),pbody:queryElements(W,J,{pbody:!0}),body:queryElements(W,J,{body:!0})};if(V.length>1){var ee=[];V=V.filter(function(ne){var ae=JSON.stringify(ne),se=!includes(ee,ae);return ee.push(ae),se})}V.forEach(function(ne){if(!ne.skip){var ae=document.createElement(E);ne.once||ae.setAttribute(G,R),Object.keys(ne).forEach(function(ue){if(!includes(tagProperties,ue)){if(ue==="innerHTML"){ae.innerHTML=ne.innerHTML;return}if(ue==="json"){ae.innerHTML=JSON.stringify(ne.json);return}if(ue==="cssText"){ae.styleSheet?ae.styleSheet.cssText=ne.cssText:ae.appendChild(document.createTextNode(ne.cssText));return}if(ue==="callback"){ae.onload=function(){return ne[ue](ae)};return}var ce=includes(K,ue)?"data-".concat(ue):ue,he=includes(booleanHtmlAttributes,ue);if(!(he&&!ne[ue])){var de=he?"":ne[ue];ae.setAttribute(ce,de)}}});var se=Q[getElementsKey(ne)],oe,le=se.some(function(ue,ce){return oe=ce,ae.isEqualNode(ue)});le&&(oe||oe===0)?se.splice(oe,1):Z.push(ae)}});var te=[];for(var ie in Q)Array.prototype.push.apply(te,Q[ie]);return te.forEach(function(ne){ne.parentNode.removeChild(ne)}),Z.forEach(function(ne){if(ne.hasAttribute("data-body")){W.appendChild(ne);return}if(ne.hasAttribute("data-pbody")){W.insertBefore(ne,W.firstChild);return}U.appendChild(ne)}),{oldTags:te,newTags:Z}}function updateClientMetaInfo(R,F,E){F=F||{};var V=F,U=V.ssrAttribute,W=V.ssrAppId,Y={},G=getTag(Y,"html");if(R===W&&G.hasAttribute(U)){removeAttribute(G,U);var X=!1;return tagsSupportingOnload.forEach(function(ne){E[ne]&&addCallbacks(F,ne,E[ne])&&(X=!0)}),X&&addListeners(),!1}var K={},Z={};for(var J in E)if(!includes(metaInfoOptionKeys,J)){if(J==="title"){updateTitle(E.title);continue}if(includes(metaInfoAttributeKeys,J)){var Q=J.substr(0,4);updateAttribute(R,F,J,E[J],getTag(Y,Q));continue}if(!!isArray(E[J])){var ee=updateTag(R,F,J,E[J],getTag(Y,"head"),getTag(Y,"body")),te=ee.oldTags,ie=ee.newTags;ie.length&&(K[J]=ie,Z[J]=te)}}return{tagsAdded:K,tagsRemoved:Z}}var appsMetaInfo;function addApp(R,F,E){return{set:function(U){return setMetaInfo(R,F,E,U)},remove:function(){return removeMetaInfo(R,F,E)}}}function setMetaInfo(R,F,E,V){if(R&&R.$el)return updateClientMetaInfo(F,E,V);appsMetaInfo=appsMetaInfo||{},appsMetaInfo[F]=V}function removeMetaInfo(R,F,E){if(R&&R.$el){var V={},U=_createForOfIteratorHelper(metaInfoAttributeKeys),W;try{for(U.s();!(W=U.n()).done;){var Y=W.value,G=Y.substr(0,4);updateAttribute(F,E,Y,{},getTag(V,G))}}catch(X){U.e(X)}finally{U.f()}return removeElementsByAppId(E,F)}appsMetaInfo[F]&&(delete appsMetaInfo[F],clearAppsMetaInfo())}function getAppsMetaInfo(){return appsMetaInfo}function clearAppsMetaInfo(R){(R||!Object.keys(appsMetaInfo).length)&&(appsMetaInfo=void 0)}function getMetaInfo(R,F,E,V){R=R||{},E=E||[];var U=R,W=U.tagIDKeyName;return F.title&&(F.titleChunk=F.title),F.titleTemplate&&F.titleTemplate!=="%s"&&applyTemplate({component:V,contentKeyName:"title"},F,F.titleTemplate,F.titleChunk||""),F.base&&(F.base=Object.keys(F.base).length?[F.base]:[]),F.meta&&(F.meta=F.meta.filter(function(Y,G,X){var K=!!Y[W];if(!K)return!0;var Z=G===findIndex(X,function(J){return J[W]===Y[W]});return Z}),F.meta.forEach(function(Y){return applyTemplate(R,Y)})),escapeMetaInfo(R,F,E)}function refresh(R,F){if(F=F||{},!R[rootConfigKey])return showWarningNotSupported(),{};var E=getComponentMetaInfo(F,R),V=getMetaInfo(F,E,clientSequences,R),U=R[rootConfigKey].appId,W=updateClientMetaInfo(U,F,V);W&&isFunction(V.changed)&&(V.changed(V,W.tagsAdded,W.tagsRemoved),W={addedTags:W.tagsAdded,removedTags:W.tagsRemoved});var Y=getAppsMetaInfo();if(Y){for(var G in Y)updateClientMetaInfo(G,F,Y[G]),delete Y[G];clearAppsMetaInfo(!0)}return{vm:R,metaInfo:V,tags:W}}function attributeGenerator(R,F,E,V){var U=V.addSsrAttribute,W=R||{},Y=W.attribute,G=W.ssrAttribute,X="";for(var K in E){var Z=E[K],J=[];for(var Q in Z)J.push.apply(J,_toConsumableArray([].concat(Z[Q])));J.length&&(X+=booleanHtmlAttributes.includes(K)&&J.some(Boolean)?"".concat(K):"".concat(K,'="').concat(J.join(" "),'"'),X+=" ")}return X&&(X+="".concat(Y,'="').concat(encodeURI(JSON.stringify(E)),'"')),F==="htmlAttrs"&&U?"".concat(G).concat(X?" ":"").concat(X):X}function titleGenerator(R,F,E,V){var U=V||{},W=U.ln;return E?"<".concat(F,">").concat(E,"</").concat(F,">").concat(W?`
`:""):""}function tagGenerator(R,F,E,V){var U=R||{},W=U.ssrAppId,Y=U.attribute,G=U.tagIDKeyName,X=V||{},K=X.appId,Z=X.isSSR,J=Z===void 0?!0:Z,Q=X.body,ee=Q===void 0?!1:Q,te=X.pbody,ie=te===void 0?!1:te,ne=X.ln,ae=ne===void 0?!1:ne,se=[G].concat(_toConsumableArray(commonDataAttributes));return!E||!E.length?"":E.reduce(function(oe,le){if(le.skip)return oe;var ue=Object.keys(le);if(ue.length===0||Boolean(le.body)!==ee||Boolean(le.pbody)!==ie)return oe;var ce=le.once?"":" ".concat(Y,'="').concat(K||(J===!1?"1":W),'"');for(var he in le)if(!(tagAttributeAsInnerContent.includes(he)||tagProperties.includes(he))){if(he==="callback"){ce+=' onload="this.__vm_l=1"';continue}var de="";se.includes(he)&&(de="data-");var fe=!de&&booleanHtmlAttributes.includes(he);fe&&!le[he]||(ce+=" ".concat(de).concat(he)+(fe?"":'="'.concat(le[he],'"')))}var Te="";le.json&&(Te=JSON.stringify(le.json));var xe=le.innerHTML||le.cssText||Te,pe=!tagsWithoutEndTag.includes(F),_e=pe&&tagsWithInnerContent.includes(F);return"".concat(oe,"<").concat(F).concat(ce).concat(!_e&&pe?"/":"",">")+(_e?"".concat(xe,"</").concat(F,">"):"")+(ae?`
`:"")},"")}function generateServerInjector(R,F,E){var V={data:F,extraData:void 0,addInfo:function(X,K){this.extraData=this.extraData||{},this.extraData[X]=K},callInjectors:function(X){var K=this.injectors;return(X.body||X.pbody?"":K.title.text(X))+K.meta.text(X)+K.base.text(X)+K.link.text(X)+K.style.text(X)+K.script.text(X)+K.noscript.text(X)},injectors:{head:function(X){return V.callInjectors(_objectSpread2(_objectSpread2({},E),{},{ln:X}))},bodyPrepend:function(X){return V.callInjectors(_objectSpread2(_objectSpread2({},E),{},{ln:X,pbody:!0}))},bodyAppend:function(X){return V.callInjectors(_objectSpread2(_objectSpread2({},E),{},{ln:X,body:!0}))}}},U=function(X){if(metaInfoOptionKeys.includes(X))return"continue";V.injectors[X]={text:function(Z){var J=Z===!0;if(Z=_objectSpread2(_objectSpread2({addSsrAttribute:J},E),Z),X==="title")return titleGenerator(R,X,V.data[X],Z);if(metaInfoAttributeKeys.includes(X)){var Q={},ee=V.data[X];if(ee){var te=Z.isSSR===!1?"1":R.ssrAppId;for(var ie in ee)Q[ie]=_defineProperty({},te,ee[ie])}if(V.extraData)for(var ne in V.extraData){var ae=V.extraData[ne][X];if(ae)for(var se in ae)Q[se]=_objectSpread2(_objectSpread2({},Q[se]),{},_defineProperty({},ne,ae[se]))}return attributeGenerator(R,X,Q,Z)}var oe=tagGenerator(R,X,V.data[X],Z);if(V.extraData)for(var le in V.extraData){var ue=V.extraData[le][X],ce=tagGenerator(R,X,ue,_objectSpread2({appId:le},Z));oe="".concat(oe).concat(ce)}return oe}}};for(var W in defaultInfo)var Y=U(W);return V}function inject(R,F,E){if(!R[rootConfigKey])return showWarningNotSupported(),{};var V=getComponentMetaInfo(F,R),U=getMetaInfo(F,V,serverSequences,R),W=generateServerInjector(F,U,E),Y=getAppsMetaInfo();if(Y){for(var G in Y)W.addInfo(G,Y[G]),delete Y[G];clearAppsMetaInfo(!0)}return W.injectors}function $meta(R){R=R||{};var F=this.$root;return{getOptions:function(){return getOptions(R)},setOptions:function(V){var U="refreshOnceOnNavigation";V&&V[U]&&(R.refreshOnceOnNavigation=!!V[U],addNavGuards(F));var W="debounceWait";if(V&&W in V){var Y=parseInt(V[W]);isNaN(Y)||(R.debounceWait=Y)}var G="waitOnDestroyed";V&&G in V&&(R.waitOnDestroyed=!!V[G])},refresh:function(){return refresh(F,R)},inject:function(V){return inject(F,R,V)},pause:function(){return pause(F)},resume:function(){return resume(F)},addApp:function(V){return addApp(F,V,R)}}}function generate(R,F){F=setOptions(F);var E=getMetaInfo(F,R,serverSequences),V=generateServerInjector(F,E);return V.injectors}function install(R,F){R.__vuemeta_installed||(R.__vuemeta_installed=!0,F=setOptions(F),R.prototype.$meta=function(){return $meta.call(this,F)},R.mixin(createMixin(R,F)))}var index={version,install,generate:function R(F,E){return generate(F,E)},hasMetaInfo};const styles="";Vue$2.config.productionTip=!1;Vue$2.prototype.$isSpaMobileMode=!1;Vue$2.use(permissions$1);Vue$2.use(Numeral);Vue$2.use(Errors$1);Vue$2.use(Vuelidate);Vue$2.use(Helpers);Vue$2.use(Sticky);Vue$2.use(darkModeObserver);Vue$2.use(install$1);Vue$2.use(WAtippy);Vue$2.use(index);Vue$2.use(eventBus$1);const contentSelector="#app-content",sidebarSelector="#app-sidebar";document.querySelector(contentSelector)?new Vue$2({router,store,i18n,render:R=>R(App)}).$mount(contentSelector):Vue$2.use(SidebarRouterFallback);document.querySelector(sidebarSelector)&&new Vue$2({router,store,i18n,render:R=>R(Sidebar)}).$mount(sidebarSelector);const TransactionModals_vue_vue_type_style_index_0_lang="",_sfc_main={__name:"TransactionModals",setup(R){const F=useRoute(),E=ref$1(!1),V=ref$1(!1),U=ref$1(!1),W=ref$1({transactionToEdit:void 0,defaultDate:void 0,type:void 0});async function Y(){E.value=!1,await nextTick(),E.value=!0}eventBus.on("openAddTransactionModal",(X={})=>{W.value={},X.transaction?W.value.transactionToEdit=X.transaction:X.defaultDate?W.value.defaultDate=X.defaultDate:X.type&&(W.value.type=X.type),E.value=!0});function G(){eventBus.emit("openAddTransactionModal",F.name==="Date"?{defaultDate:F.params.date}:void 0)}return{__sfc:!0,route:F,open:E,openMove:V,openAddBulk:U,addTransactionOpts:W,reOpen:Y,onClick:G,Modal:Modal$1,AddTransaction,AddTransactionBulk,TransactionMove,emitter:eventBus,useRoute,ref:ref$1,nextTick}}};var _sfc_render=function R(){var U;var F=this,E=F._self._c,V=F._self._setupProxy;return E("portal",[F.$helper.isDesktopEnv?E("div",{staticClass:"c-fab-button mobile-only"},[E("button",{staticClass:"circle green",staticStyle:{"font-size":"1.6rem"},on:{click:V.onClick}},[E("i",{staticClass:"fas fa-plus"})])]):F._e(),V.open?E(V.Modal,{on:{close:function(W){V.open=!1},reOpen:V.reOpen}},[E(V.AddTransaction,{attrs:{transaction:V.addTransactionOpts.transactionToEdit,"default-date":V.addTransactionOpts.defaultDate,"default-category-type":(U=V.addTransactionOpts.type)!=null?U:"expense"}})],1):F._e(),V.openMove?E(V.Modal,{on:{close:function(W){V.openMove=!1}}},[E(V.TransactionMove)],1):F._e(),V.openAddBulk?E(V.Modal,{on:{close:function(W){V.openAddBulk=!1}}},[E(V.AddTransactionBulk)],1):F._e()],1)},_sfc_staticRenderFns=[],__component__=normalizeComponent(_sfc_main,_sfc_render,_sfc_staticRenderFns,!1,null,null,null,null);const TransactionModals=__component__.exports,TransactionModals$1=Object.freeze(Object.defineProperty({__proto__:null,default:TransactionModals},Symbol.toStringTag,{value:"Module"}))});export default Jt();
