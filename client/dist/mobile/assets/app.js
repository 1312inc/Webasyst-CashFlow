var zt=(V,E)=>()=>(E||V((E={exports:{}}).exports,E),E.exports);var Gt=zt((exports,module)=>{(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const U of document.querySelectorAll('link[rel="modulepreload"]'))R(U);new MutationObserver(U=>{for(const W of U)if(W.type==="childList")for(const Y of W.addedNodes)Y.tagName==="LINK"&&Y.rel==="modulepreload"&&R(Y)}).observe(document,{childList:!0,subtree:!0});function F(U){const W={};return U.integrity&&(W.integrity=U.integrity),U.referrerpolicy&&(W.referrerPolicy=U.referrerpolicy),U.crossorigin==="use-credentials"?W.credentials="include":U.crossorigin==="anonymous"?W.credentials="omit":W.credentials="same-origin",W}function R(U){if(U.ep)return;U.ep=!0;const W=F(U);fetch(U.href,W)}})();/*!
 * Vue.js v2.7.7
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */var emptyObject=Object.freeze({}),isArray$5=Array.isArray;function isUndef$1(V){return V==null}function isDef$1(V){return V!=null}function isTrue(V){return V===!0}function isFalse(V){return V===!1}function isPrimitive(V){return typeof V=="string"||typeof V=="number"||typeof V=="symbol"||typeof V=="boolean"}function isFunction$4(V){return typeof V=="function"}function isObject$c(V){return V!==null&&typeof V=="object"}var _toString=Object.prototype.toString;function toRawType(V){return _toString.call(V).slice(8,-1)}function isPlainObject$2(V){return _toString.call(V)==="[object Object]"}function isRegExp$1(V){return _toString.call(V)==="[object RegExp]"}function isValidArrayIndex(V){var E=parseFloat(String(V));return E>=0&&Math.floor(E)===E&&isFinite(V)}function isPromise$1(V){return isDef$1(V)&&typeof V.then=="function"&&typeof V.catch=="function"}function toString$4(V){return V==null?"":Array.isArray(V)||isPlainObject$2(V)&&V.toString===_toString?JSON.stringify(V,null,2):String(V)}function toNumber$3(V){var E=parseFloat(V);return isNaN(E)?V:E}function makeMap(V,E){for(var F=Object.create(null),R=V.split(","),U=0;U<R.length;U++)F[R[U]]=!0;return E?function(W){return F[W.toLowerCase()]}:function(W){return F[W]}}makeMap("slot,component",!0);var isReservedAttribute=makeMap("key,ref,slot,slot-scope,is");function remove$2(V,E){if(V.length){var F=V.indexOf(E);if(F>-1)return V.splice(F,1)}}var hasOwnProperty$3=Object.prototype.hasOwnProperty;function hasOwn$1(V,E){return hasOwnProperty$3.call(V,E)}function cached(V){var E=Object.create(null);return function(R){var U=E[R];return U||(E[R]=V(R))}}var camelizeRE=/-(\w)/g,camelize=cached(function(V){return V.replace(camelizeRE,function(E,F){return F?F.toUpperCase():""})}),capitalize$1=cached(function(V){return V.charAt(0).toUpperCase()+V.slice(1)}),hyphenateRE=/\B([A-Z])/g,hyphenate=cached(function(V){return V.replace(hyphenateRE,"-$1").toLowerCase()});function polyfillBind(V,E){function F(R){var U=arguments.length;return U?U>1?V.apply(E,arguments):V.call(E,R):V.call(E)}return F._length=V.length,F}function nativeBind(V,E){return V.bind(E)}var bind$2=Function.prototype.bind?nativeBind:polyfillBind;function toArray$6(V,E){E=E||0;for(var F=V.length-E,R=new Array(F);F--;)R[F]=V[F+E];return R}function extend$4(V,E){for(var F in E)V[F]=E[F];return V}function toObject$1(V){for(var E={},F=0;F<V.length;F++)V[F]&&extend$4(E,V[F]);return E}function noop$3(V,E,F){}var no=function(V,E,F){return!1},identity=function(V){return V};function looseEqual$1(V,E){if(V===E)return!0;var F=isObject$c(V),R=isObject$c(E);if(F&&R)try{var U=Array.isArray(V),W=Array.isArray(E);if(U&&W)return V.length===E.length&&V.every(function(X,K){return looseEqual$1(X,E[K])});if(V instanceof Date&&E instanceof Date)return V.getTime()===E.getTime();if(!U&&!W){var Y=Object.keys(V),G=Object.keys(E);return Y.length===G.length&&Y.every(function(X){return looseEqual$1(V[X],E[X])})}else return!1}catch{return!1}else return!F&&!R?String(V)===String(E):!1}function looseIndexOf(V,E){for(var F=0;F<V.length;F++)if(looseEqual$1(V[F],E))return F;return-1}function once$1(V){var E=!1;return function(){E||(E=!0,V.apply(this,arguments))}}function hasChanged(V,E){return V===E?V===0&&1/V!==1/E:V===V||E===E}var SSR_ATTR="data-server-rendered",ASSET_TYPES=["component","directive","filter"],LIFECYCLE_HOOKS=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],config$1={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:no,isReservedAttr:no,isUnknownElement:no,getTagNamespace:noop$3,parsePlatformTagName:identity,mustUseProp:no,async:!0,_lifecycleHooks:LIFECYCLE_HOOKS},unicodeRegExp=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function isReserved(V){var E=(V+"").charCodeAt(0);return E===36||E===95}function def(V,E,F,R){Object.defineProperty(V,E,{value:F,enumerable:!!R,writable:!0,configurable:!0})}var bailRE=new RegExp("[^".concat(unicodeRegExp.source,".$_\\d]"));function parsePath$1(V){if(!bailRE.test(V)){var E=V.split(".");return function(F){for(var R=0;R<E.length;R++){if(!F)return;F=F[E[R]]}return F}}}var hasProto="__proto__"in{},inBrowser$1=typeof window<"u",UA=inBrowser$1&&window.navigator.userAgent.toLowerCase(),isIE$1=UA&&/msie|trident/.test(UA),isIE9=UA&&UA.indexOf("msie 9.0")>0,isEdge=UA&&UA.indexOf("edge/")>0;UA&&UA.indexOf("android")>0;var isIOS=UA&&/iphone|ipad|ipod|ios/.test(UA);UA&&/chrome\/\d+/.test(UA);UA&&/phantomjs/.test(UA);var isFF=UA&&UA.match(/firefox\/(\d+)/),nativeWatch={}.watch,supportsPassive=!1;if(inBrowser$1)try{var opts={};Object.defineProperty(opts,"passive",{get:function(){supportsPassive=!0}}),window.addEventListener("test-passive",null,opts)}catch{}var _isServer,isServerRendering=function(){return _isServer===void 0&&(!inBrowser$1&&typeof global<"u"?_isServer=global.process&&global.process.env.VUE_ENV==="server":_isServer=!1),_isServer},devtools=inBrowser$1&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function isNative(V){return typeof V=="function"&&/native code/.test(V.toString())}var hasSymbol$1=typeof Symbol<"u"&&isNative(Symbol)&&typeof Reflect<"u"&&isNative(Reflect.ownKeys),_Set;typeof Set<"u"&&isNative(Set)?_Set=Set:_Set=function(){function V(){this.set=Object.create(null)}return V.prototype.has=function(E){return this.set[E]===!0},V.prototype.add=function(E){this.set[E]=!0},V.prototype.clear=function(){this.set=Object.create(null)},V}();var currentInstance=null;function getCurrentInstance(){return currentInstance&&{proxy:currentInstance}}function setCurrentInstance(V){V===void 0&&(V=null),V||currentInstance&&currentInstance._scope.off(),currentInstance=V,V&&V._scope.on()}var VNode=function(){function V(E,F,R,U,W,Y,G,X){this.tag=E,this.data=F,this.children=R,this.text=U,this.elm=W,this.ns=void 0,this.context=Y,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=F&&F.key,this.componentOptions=G,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=X,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(V.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),V}(),createEmptyVNode=function(V){V===void 0&&(V="");var E=new VNode;return E.text=V,E.isComment=!0,E};function createTextVNode(V){return new VNode(void 0,void 0,void 0,String(V))}function cloneVNode(V){var E=new VNode(V.tag,V.data,V.children&&V.children.slice(),V.text,V.elm,V.context,V.componentOptions,V.asyncFactory);return E.ns=V.ns,E.isStatic=V.isStatic,E.key=V.key,E.isComment=V.isComment,E.fnContext=V.fnContext,E.fnOptions=V.fnOptions,E.fnScopeId=V.fnScopeId,E.asyncMeta=V.asyncMeta,E.isCloned=!0,E}var uid$2=0,Dep=function(){function V(){this.id=uid$2++,this.subs=[]}return V.prototype.addSub=function(E){this.subs.push(E)},V.prototype.removeSub=function(E){remove$2(this.subs,E)},V.prototype.depend=function(E){V.target&&V.target.addDep(this)},V.prototype.notify=function(E){for(var F=this.subs.slice(),R=0,U=F.length;R<U;R++)F[R].update()},V}();Dep.target=null;var targetStack=[];function pushTarget(V){targetStack.push(V),Dep.target=V}function popTarget(){targetStack.pop(),Dep.target=targetStack[targetStack.length-1]}var arrayProto=Array.prototype,arrayMethods=Object.create(arrayProto),methodsToPatch=["push","pop","shift","unshift","splice","sort","reverse"];methodsToPatch.forEach(function(V){var E=arrayProto[V];def(arrayMethods,V,function(){for(var R=[],U=0;U<arguments.length;U++)R[U]=arguments[U];var W=E.apply(this,R),Y=this.__ob__,G;switch(V){case"push":case"unshift":G=R;break;case"splice":G=R.slice(2);break}return G&&Y.observeArray(G),Y.dep.notify(),W})});var arrayKeys=Object.getOwnPropertyNames(arrayMethods),NO_INIITIAL_VALUE={},shouldObserve=!0;function toggleObserving(V){shouldObserve=V}var mockDep={notify:noop$3,depend:noop$3,addSub:noop$3,removeSub:noop$3},Observer$1=function(){function V(E,F,R){if(F===void 0&&(F=!1),R===void 0&&(R=!1),this.value=E,this.shallow=F,this.mock=R,this.dep=R?mockDep:new Dep,this.vmCount=0,def(E,"__ob__",this),isArray$5(E)){if(!R)if(hasProto)E.__proto__=arrayMethods;else for(var U=0,W=arrayKeys.length;U<W;U++){var Y=arrayKeys[U];def(E,Y,arrayMethods[Y])}F||this.observeArray(E)}else for(var G=Object.keys(E),U=0;U<G.length;U++){var Y=G[U];defineReactive(E,Y,NO_INIITIAL_VALUE,void 0,F,R)}}return V.prototype.observeArray=function(E){for(var F=0,R=E.length;F<R;F++)observe(E[F],!1,this.mock)},V}();function observe(V,E,F){if(!(!isObject$c(V)||isRef(V)||V instanceof VNode)){var R;return hasOwn$1(V,"__ob__")&&V.__ob__ instanceof Observer$1?R=V.__ob__:shouldObserve&&(F||!isServerRendering())&&(isArray$5(V)||isPlainObject$2(V))&&Object.isExtensible(V)&&!V.__v_skip&&(R=new Observer$1(V,E,F)),R}}function defineReactive(V,E,F,R,U,W){var Y=new Dep,G=Object.getOwnPropertyDescriptor(V,E);if(!(G&&G.configurable===!1)){var X=G&&G.get,K=G&&G.set;(!X||K)&&(F===NO_INIITIAL_VALUE||arguments.length===2)&&(F=V[E]);var Z=!U&&observe(F,!1,W);return Object.defineProperty(V,E,{enumerable:!0,configurable:!0,get:function(){var Q=X?X.call(V):F;return Dep.target&&(Y.depend(),Z&&(Z.dep.depend(),isArray$5(Q)&&dependArray(Q))),isRef(Q)&&!U?Q.value:Q},set:function(Q){var ee=X?X.call(V):F;if(!!hasChanged(ee,Q)){if(K)K.call(V,Q);else{if(X)return;if(isRef(ee)&&!isRef(Q)){ee.value=Q;return}else F=Q}Z=!U&&observe(Q,!1,W),Y.notify()}}}),Y}}function set$2(V,E,F){if(!isReadonly(V)){var R=V.__ob__;return isArray$5(V)&&isValidArrayIndex(E)?(V.length=Math.max(V.length,E),V.splice(E,1,F),R&&!R.shallow&&R.mock&&observe(F,!1,!0),F):E in V&&!(E in Object.prototype)?(V[E]=F,F):V._isVue||R&&R.vmCount?F:R?(defineReactive(R.value,E,F,void 0,R.shallow,R.mock),R.dep.notify(),F):(V[E]=F,F)}}function del(V,E){if(isArray$5(V)&&isValidArrayIndex(E)){V.splice(E,1);return}var F=V.__ob__;V._isVue||F&&F.vmCount||isReadonly(V)||!hasOwn$1(V,E)||(delete V[E],F&&F.dep.notify())}function dependArray(V){for(var E=void 0,F=0,R=V.length;F<R;F++)E=V[F],E&&E.__ob__&&E.__ob__.dep.depend(),isArray$5(E)&&dependArray(E)}function reactive(V){return makeReactive(V,!1),V}function shallowReactive(V){return makeReactive(V,!0),def(V,"__v_isShallow",!0),V}function makeReactive(V,E){isReadonly(V)||observe(V,E,isServerRendering())}function isReactive(V){return isReadonly(V)?isReactive(V.__v_raw):!!(V&&V.__ob__)}function isShallow(V){return!!(V&&V.__v_isShallow)}function isReadonly(V){return!!(V&&V.__v_isReadonly)}var RefFlag="__v_isRef";function isRef(V){return!!(V&&V.__v_isRef===!0)}function ref$1(V){return createRef(V,!1)}function shallowRef(V){return createRef(V,!0)}function createRef(V,E){if(isRef(V))return V;var F={};return def(F,RefFlag,!0),def(F,"__v_isShallow",E),def(F,"dep",defineReactive(F,"value",V,null,E,isServerRendering())),F}function unref(V){return isRef(V)?V.value:V}function proxyWithRefUnwrap(V,E,F){Object.defineProperty(V,F,{enumerable:!0,configurable:!0,get:function(){var R=E[F];if(isRef(R))return R.value;var U=R&&R.__ob__;return U&&U.dep.depend(),R},set:function(R){var U=E[F];isRef(U)&&!isRef(R)?U.value=R:E[F]=R}})}var rawToReadonlyFlag="__v_rawToReadonly",rawToShallowReadonlyFlag="__v_rawToShallowReadonly";function readonly(V){return createReadonly(V,!1)}function createReadonly(V,E){if(!isPlainObject$2(V)||isReadonly(V))return V;var F=E?rawToShallowReadonlyFlag:rawToReadonlyFlag,R=V[F];if(R)return R;var U=Object.create(Object.getPrototypeOf(V));def(V,F,U),def(U,"__v_isReadonly",!0),def(U,"__v_raw",V),isRef(V)&&def(U,RefFlag,!0),(E||isShallow(V))&&def(U,"__v_isShallow",!0);for(var W=Object.keys(V),Y=0;Y<W.length;Y++)defineReadonlyProperty(U,V,W[Y],E);return U}function defineReadonlyProperty(V,E,F,R){Object.defineProperty(V,F,{enumerable:!0,configurable:!0,get:function(){var U=E[F];return R||!isPlainObject$2(U)?U:readonly(U)},set:function(){}})}function shallowReadonly(V){return createReadonly(V,!0)}function computed(V,E){var F,R,U=isFunction$4(V);U?(F=V,R=noop$3):(F=V.get,R=V.set);var W=isServerRendering()?null:new Watcher(currentInstance,F,noop$3,{lazy:!0}),Y={effect:W,get value(){return W?(W.dirty&&W.evaluate(),Dep.target&&W.depend(),W.value):F()},set value(G){R(G)}};return def(Y,RefFlag,!0),def(Y,"__v_isReadonly",U),Y}var WATCHER="watcher",WATCHER_CB="".concat(WATCHER," callback"),WATCHER_GETTER="".concat(WATCHER," getter"),WATCHER_CLEANUP="".concat(WATCHER," cleanup"),INITIAL_WATCHER_VALUE={};function watch(V,E,F){return doWatch(V,E,F)}function doWatch(V,E,F){var R=F===void 0?emptyObject:F,U=R.immediate,W=R.deep,Y=R.flush,G=Y===void 0?"pre":Y;R.onTrack,R.onTrigger;var X=currentInstance,K=function(ae,se,le){return le===void 0&&(le=null),invokeWithErrorHandling(ae,null,le,X,se)},Z,J=!1,Q=!1;if(isRef(V)?(Z=function(){return V.value},J=isShallow(V)):isReactive(V)?(Z=function(){return V.__ob__.dep.depend(),V},W=!0):isArray$5(V)?(Q=!0,J=V.some(function(ae){return isReactive(ae)||isShallow(ae)}),Z=function(){return V.map(function(ae){if(isRef(ae))return ae.value;if(isReactive(ae))return traverse(ae);if(isFunction$4(ae))return K(ae,WATCHER_GETTER)})}):isFunction$4(V)?E?Z=function(){return K(V,WATCHER_GETTER)}:Z=function(){if(!(X&&X._isDestroyed))return te&&te(),K(V,WATCHER,[ie])}:Z=noop$3,E&&W){var ee=Z;Z=function(){return traverse(ee())}}var te,ie=function(ae){te=re.onStop=function(){K(ae,WATCHER_CLEANUP)}};if(isServerRendering())return ie=noop$3,E?U&&K(E,WATCHER_CB,[Z(),Q?[]:void 0,ie]):Z(),noop$3;var re=new Watcher(currentInstance,Z,noop$3,{lazy:!0});re.noRecurse=!E;var ne=Q?[]:INITIAL_WATCHER_VALUE;return re.run=function(){if(!(!re.active&&!(G==="pre"&&X&&X._isBeingDestroyed)))if(E){var ae=re.get();(W||J||(Q?ae.some(function(se,le){return hasChanged(se,ne[le])}):hasChanged(ae,ne)))&&(te&&te(),K(E,WATCHER_CB,[ae,ne===INITIAL_WATCHER_VALUE?void 0:ne,ie]),ne=ae)}else re.get()},G==="sync"?re.update=re.run:G==="post"?(re.post=!0,re.update=function(){return queueWatcher(re)}):re.update=function(){if(X&&X===currentInstance&&!X._isMounted){var ae=X._preWatchers||(X._preWatchers=[]);ae.indexOf(re)<0&&ae.push(re)}else queueWatcher(re)},E?U?re.run():ne=re.get():G==="post"&&X?X.$once("hook:mounted",function(){return re.get()}):re.get(),function(){re.teardown()}}var activeEffectScope,EffectScope=function(){function V(E){E===void 0&&(E=!1),this.active=!0,this.effects=[],this.cleanups=[],!E&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}return V.prototype.run=function(E){if(this.active){var F=activeEffectScope;try{return activeEffectScope=this,E()}finally{activeEffectScope=F}}},V.prototype.on=function(){activeEffectScope=this},V.prototype.off=function(){activeEffectScope=this.parent},V.prototype.stop=function(E){if(this.active){var F=void 0,R=void 0;for(F=0,R=this.effects.length;F<R;F++)this.effects[F].teardown();for(F=0,R=this.cleanups.length;F<R;F++)this.cleanups[F]();if(this.scopes)for(F=0,R=this.scopes.length;F<R;F++)this.scopes[F].stop(!0);if(this.parent&&!E){var U=this.parent.scopes.pop();U&&U!==this&&(this.parent.scopes[this.index]=U,U.index=this.index)}this.active=!1}},V}();function effectScope(V){return new EffectScope(V)}function recordEffectScope(V,E){E===void 0&&(E=activeEffectScope),E&&E.active&&E.effects.push(V)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(V){activeEffectScope&&activeEffectScope.cleanups.push(V)}function resolveProvided(V){var E=V._provided,F=V.$parent&&V.$parent._provided;return F===E?V._provided=Object.create(F):E}var normalizeEvent=cached(function(V){var E=V.charAt(0)==="&";V=E?V.slice(1):V;var F=V.charAt(0)==="~";V=F?V.slice(1):V;var R=V.charAt(0)==="!";return V=R?V.slice(1):V,{name:V,once:F,capture:R,passive:E}});function createFnInvoker(V,E){function F(){var R=F.fns;if(isArray$5(R))for(var U=R.slice(),W=0;W<U.length;W++)invokeWithErrorHandling(U[W],null,arguments,E,"v-on handler");else return invokeWithErrorHandling(R,null,arguments,E,"v-on handler")}return F.fns=V,F}function updateListeners(V,E,F,R,U,W){var Y,G,X,K;for(Y in V)G=V[Y],X=E[Y],K=normalizeEvent(Y),isUndef$1(G)||(isUndef$1(X)?(isUndef$1(G.fns)&&(G=V[Y]=createFnInvoker(G,W)),isTrue(K.once)&&(G=V[Y]=U(K.name,G,K.capture)),F(K.name,G,K.capture,K.passive,K.params)):G!==X&&(X.fns=G,V[Y]=X));for(Y in E)isUndef$1(V[Y])&&(K=normalizeEvent(Y),R(K.name,E[Y],K.capture))}function mergeVNodeHook(V,E,F){V instanceof VNode&&(V=V.data.hook||(V.data.hook={}));var R,U=V[E];function W(){F.apply(this,arguments),remove$2(R.fns,W)}isUndef$1(U)?R=createFnInvoker([W]):isDef$1(U.fns)&&isTrue(U.merged)?(R=U,R.fns.push(W)):R=createFnInvoker([U,W]),R.merged=!0,V[E]=R}function extractPropsFromVNodeData(V,E,F){var R=E.options.props;if(!isUndef$1(R)){var U={},W=V.attrs,Y=V.props;if(isDef$1(W)||isDef$1(Y))for(var G in R){var X=hyphenate(G);checkProp(U,Y,G,X,!0)||checkProp(U,W,G,X,!1)}return U}}function checkProp(V,E,F,R,U){if(isDef$1(E)){if(hasOwn$1(E,F))return V[F]=E[F],U||delete E[F],!0;if(hasOwn$1(E,R))return V[F]=E[R],U||delete E[R],!0}return!1}function simpleNormalizeChildren(V){for(var E=0;E<V.length;E++)if(isArray$5(V[E]))return Array.prototype.concat.apply([],V);return V}function normalizeChildren(V){return isPrimitive(V)?[createTextVNode(V)]:isArray$5(V)?normalizeArrayChildren(V):void 0}function isTextNode(V){return isDef$1(V)&&isDef$1(V.text)&&isFalse(V.isComment)}function normalizeArrayChildren(V,E){var F=[],R,U,W,Y;for(R=0;R<V.length;R++)U=V[R],!(isUndef$1(U)||typeof U=="boolean")&&(W=F.length-1,Y=F[W],isArray$5(U)?U.length>0&&(U=normalizeArrayChildren(U,"".concat(E||"","_").concat(R)),isTextNode(U[0])&&isTextNode(Y)&&(F[W]=createTextVNode(Y.text+U[0].text),U.shift()),F.push.apply(F,U)):isPrimitive(U)?isTextNode(Y)?F[W]=createTextVNode(Y.text+U):U!==""&&F.push(createTextVNode(U)):isTextNode(U)&&isTextNode(Y)?F[W]=createTextVNode(Y.text+U.text):(isTrue(V._isVList)&&isDef$1(U.tag)&&isUndef$1(U.key)&&isDef$1(E)&&(U.key="__vlist".concat(E,"_").concat(R,"__")),F.push(U)));return F}function renderList(V,E){var F=null,R,U,W,Y;if(isArray$5(V)||typeof V=="string")for(F=new Array(V.length),R=0,U=V.length;R<U;R++)F[R]=E(V[R],R);else if(typeof V=="number")for(F=new Array(V),R=0;R<V;R++)F[R]=E(R+1,R);else if(isObject$c(V))if(hasSymbol$1&&V[Symbol.iterator]){F=[];for(var G=V[Symbol.iterator](),X=G.next();!X.done;)F.push(E(X.value,F.length)),X=G.next()}else for(W=Object.keys(V),F=new Array(W.length),R=0,U=W.length;R<U;R++)Y=W[R],F[R]=E(V[Y],Y,R);return isDef$1(F)||(F=[]),F._isVList=!0,F}function renderSlot(V,E,F,R){var U=this.$scopedSlots[V],W;U?(F=F||{},R&&(F=extend$4(extend$4({},R),F)),W=U(F)||(isFunction$4(E)?E():E)):W=this.$slots[V]||(isFunction$4(E)?E():E);var Y=F&&F.slot;return Y?this.$createElement("template",{slot:Y},W):W}function resolveFilter(V){return resolveAsset(this.$options,"filters",V)||identity}function isKeyNotMatch(V,E){return isArray$5(V)?V.indexOf(E)===-1:V!==E}function checkKeyCodes(V,E,F,R,U){var W=config$1.keyCodes[E]||F;return U&&R&&!config$1.keyCodes[E]?isKeyNotMatch(U,R):W?isKeyNotMatch(W,V):R?hyphenate(R)!==E:V===void 0}function bindObjectProps(V,E,F,R,U){if(F&&isObject$c(F)){isArray$5(F)&&(F=toObject$1(F));var W=void 0,Y=function(X){if(X==="class"||X==="style"||isReservedAttribute(X))W=V;else{var K=V.attrs&&V.attrs.type;W=R||config$1.mustUseProp(E,K,X)?V.domProps||(V.domProps={}):V.attrs||(V.attrs={})}var Z=camelize(X),J=hyphenate(X);if(!(Z in W)&&!(J in W)&&(W[X]=F[X],U)){var Q=V.on||(V.on={});Q["update:".concat(X)]=function(ee){F[X]=ee}}};for(var G in F)Y(G)}return V}function renderStatic(V,E){var F=this._staticTrees||(this._staticTrees=[]),R=F[V];return R&&!E||(R=F[V]=this.$options.staticRenderFns[V].call(this._renderProxy,this._c,this),markStatic(R,"__static__".concat(V),!1)),R}function markOnce(V,E,F){return markStatic(V,"__once__".concat(E).concat(F?"_".concat(F):""),!0),V}function markStatic(V,E,F){if(isArray$5(V))for(var R=0;R<V.length;R++)V[R]&&typeof V[R]!="string"&&markStaticNode(V[R],"".concat(E,"_").concat(R),F);else markStaticNode(V,E,F)}function markStaticNode(V,E,F){V.isStatic=!0,V.key=E,V.isOnce=F}function bindObjectListeners(V,E){if(E&&isPlainObject$2(E)){var F=V.on=V.on?extend$4({},V.on):{};for(var R in E){var U=F[R],W=E[R];F[R]=U?[].concat(U,W):W}}return V}function resolveScopedSlots(V,E,F,R){E=E||{$stable:!F};for(var U=0;U<V.length;U++){var W=V[U];isArray$5(W)?resolveScopedSlots(W,E,F):W&&(W.proxy&&(W.fn.proxy=!0),E[W.key]=W.fn)}return R&&(E.$key=R),E}function bindDynamicKeys(V,E){for(var F=0;F<E.length;F+=2){var R=E[F];typeof R=="string"&&R&&(V[E[F]]=E[F+1])}return V}function prependModifier(V,E){return typeof V=="string"?E+V:V}function installRenderHelpers(V){V._o=markOnce,V._n=toNumber$3,V._s=toString$4,V._l=renderList,V._t=renderSlot,V._q=looseEqual$1,V._i=looseIndexOf,V._m=renderStatic,V._f=resolveFilter,V._k=checkKeyCodes,V._b=bindObjectProps,V._v=createTextVNode,V._e=createEmptyVNode,V._u=resolveScopedSlots,V._g=bindObjectListeners,V._d=bindDynamicKeys,V._p=prependModifier}function resolveSlots(V,E){if(!V||!V.length)return{};for(var F={},R=0,U=V.length;R<U;R++){var W=V[R],Y=W.data;if(Y&&Y.attrs&&Y.attrs.slot&&delete Y.attrs.slot,(W.context===E||W.fnContext===E)&&Y&&Y.slot!=null){var G=Y.slot,X=F[G]||(F[G]=[]);W.tag==="template"?X.push.apply(X,W.children||[]):X.push(W)}else(F.default||(F.default=[])).push(W)}for(var K in F)F[K].every(isWhitespace)&&delete F[K];return F}function isWhitespace(V){return V.isComment&&!V.asyncFactory||V.text===" "}function isAsyncPlaceholder(V){return V.isComment&&V.asyncFactory}function normalizeScopedSlots(V,E,F,R){var U,W=Object.keys(F).length>0,Y=E?!!E.$stable:!W,G=E&&E.$key;if(!E)U={};else{if(E._normalized)return E._normalized;if(Y&&R&&R!==emptyObject&&G===R.$key&&!W&&!R.$hasNormal)return R;U={};for(var X in E)E[X]&&X[0]!=="$"&&(U[X]=normalizeScopedSlot(V,F,X,E[X]))}for(var K in F)K in U||(U[K]=proxyNormalSlot(F,K));return E&&Object.isExtensible(E)&&(E._normalized=U),def(U,"$stable",Y),def(U,"$key",G),def(U,"$hasNormal",W),U}function normalizeScopedSlot(V,E,F,R){var U=function(){var W=currentInstance;setCurrentInstance(V);var Y=arguments.length?R.apply(null,arguments):R({});Y=Y&&typeof Y=="object"&&!isArray$5(Y)?[Y]:normalizeChildren(Y);var G=Y&&Y[0];return setCurrentInstance(W),Y&&(!G||Y.length===1&&G.isComment&&!isAsyncPlaceholder(G))?void 0:Y};return R.proxy&&Object.defineProperty(E,F,{get:U,enumerable:!0,configurable:!0}),U}function proxyNormalSlot(V,E){return function(){return V[E]}}function initSetup(V){var E=V.$options,F=E.setup;if(F){var R=V._setupContext=createSetupContext(V);setCurrentInstance(V),pushTarget();var U=invokeWithErrorHandling(F,null,[V._props||shallowReactive({}),R],V,"setup");if(popTarget(),setCurrentInstance(),isFunction$4(U))E.render=U;else if(isObject$c(U))if(V._setupState=U,U.__sfc){var Y=V._setupProxy={};for(var W in U)W!=="__sfc"&&proxyWithRefUnwrap(Y,U,W)}else for(var W in U)isReserved(W)||proxyWithRefUnwrap(V,U,W)}}function createSetupContext(V){return{get attrs(){return initAttrsProxy(V)},get slots(){return initSlotsProxy(V)},emit:bind$2(V.$emit,V),expose:function(E){E&&Object.keys(E).forEach(function(F){return proxyWithRefUnwrap(V,E,F)})}}}function initAttrsProxy(V){if(!V._attrsProxy){var E=V._attrsProxy={};def(E,"_v_attr_proxy",!0),syncSetupAttrs(E,V.$attrs,emptyObject,V)}return V._attrsProxy}function syncSetupAttrs(V,E,F,R){var U=!1;for(var W in E)W in V?E[W]!==F[W]&&(U=!0):(U=!0,defineProxyAttr(V,W,R));for(var W in V)W in E||(U=!0,delete V[W]);return U}function defineProxyAttr(V,E,F){Object.defineProperty(V,E,{enumerable:!0,configurable:!0,get:function(){return F.$attrs[E]}})}function initSlotsProxy(V){return V._slotsProxy||syncSetupSlots(V._slotsProxy={},V.$scopedSlots),V._slotsProxy}function syncSetupSlots(V,E){for(var F in E)V[F]=E[F];for(var F in V)F in E||delete V[F]}function initRender(V){V._vnode=null,V._staticTrees=null;var E=V.$options,F=V.$vnode=E._parentVnode,R=F&&F.context;V.$slots=resolveSlots(E._renderChildren,R),V.$scopedSlots=F?normalizeScopedSlots(V.$parent,F.data.scopedSlots,V.$slots):emptyObject,V._c=function(W,Y,G,X){return createElement$1(V,W,Y,G,X,!1)},V.$createElement=function(W,Y,G,X){return createElement$1(V,W,Y,G,X,!0)};var U=F&&F.data;defineReactive(V,"$attrs",U&&U.attrs||emptyObject,null,!0),defineReactive(V,"$listeners",E._parentListeners||emptyObject,null,!0)}var currentRenderingInstance=null;function renderMixin(V){installRenderHelpers(V.prototype),V.prototype.$nextTick=function(E){return nextTick(E,this)},V.prototype._render=function(){var E=this,F=E.$options,R=F.render,U=F._parentVnode;U&&E._isMounted&&(E.$scopedSlots=normalizeScopedSlots(E.$parent,U.data.scopedSlots,E.$slots,E.$scopedSlots),E._slotsProxy&&syncSetupSlots(E._slotsProxy,E.$scopedSlots)),E.$vnode=U;var W;try{setCurrentInstance(E),currentRenderingInstance=E,W=R.call(E._renderProxy,E.$createElement)}catch(Y){handleError(Y,E,"render"),W=E._vnode}finally{currentRenderingInstance=null,setCurrentInstance()}return isArray$5(W)&&W.length===1&&(W=W[0]),W instanceof VNode||(W=createEmptyVNode()),W.parent=U,W}}function ensureCtor(V,E){return(V.__esModule||hasSymbol$1&&V[Symbol.toStringTag]==="Module")&&(V=V.default),isObject$c(V)?E.extend(V):V}function createAsyncPlaceholder(V,E,F,R,U){var W=createEmptyVNode();return W.asyncFactory=V,W.asyncMeta={data:E,context:F,children:R,tag:U},W}function resolveAsyncComponent(V,E){if(isTrue(V.error)&&isDef$1(V.errorComp))return V.errorComp;if(isDef$1(V.resolved))return V.resolved;var F=currentRenderingInstance;if(F&&isDef$1(V.owners)&&V.owners.indexOf(F)===-1&&V.owners.push(F),isTrue(V.loading)&&isDef$1(V.loadingComp))return V.loadingComp;if(F&&!isDef$1(V.owners)){var R=V.owners=[F],U=!0,W=null,Y=null;F.$on("hook:destroyed",function(){return remove$2(R,F)});var G=function(J){for(var Q=0,ee=R.length;Q<ee;Q++)R[Q].$forceUpdate();J&&(R.length=0,W!==null&&(clearTimeout(W),W=null),Y!==null&&(clearTimeout(Y),Y=null))},X=once$1(function(J){V.resolved=ensureCtor(J,E),U?R.length=0:G(!0)}),K=once$1(function(J){isDef$1(V.errorComp)&&(V.error=!0,G(!0))}),Z=V(X,K);return isObject$c(Z)&&(isPromise$1(Z)?isUndef$1(V.resolved)&&Z.then(X,K):isPromise$1(Z.component)&&(Z.component.then(X,K),isDef$1(Z.error)&&(V.errorComp=ensureCtor(Z.error,E)),isDef$1(Z.loading)&&(V.loadingComp=ensureCtor(Z.loading,E),Z.delay===0?V.loading=!0:W=setTimeout(function(){W=null,isUndef$1(V.resolved)&&isUndef$1(V.error)&&(V.loading=!0,G(!1))},Z.delay||200)),isDef$1(Z.timeout)&&(Y=setTimeout(function(){Y=null,isUndef$1(V.resolved)&&K(null)},Z.timeout)))),U=!1,V.loading?V.loadingComp:V.resolved}}function getFirstComponentChild(V){if(isArray$5(V))for(var E=0;E<V.length;E++){var F=V[E];if(isDef$1(F)&&(isDef$1(F.componentOptions)||isAsyncPlaceholder(F)))return F}}var SIMPLE_NORMALIZE=1,ALWAYS_NORMALIZE=2;function createElement$1(V,E,F,R,U,W){return(isArray$5(F)||isPrimitive(F))&&(U=R,R=F,F=void 0),isTrue(W)&&(U=ALWAYS_NORMALIZE),_createElement(V,E,F,R,U)}function _createElement(V,E,F,R,U){if(isDef$1(F)&&isDef$1(F.__ob__)||(isDef$1(F)&&isDef$1(F.is)&&(E=F.is),!E))return createEmptyVNode();isArray$5(R)&&isFunction$4(R[0])&&(F=F||{},F.scopedSlots={default:R[0]},R.length=0),U===ALWAYS_NORMALIZE?R=normalizeChildren(R):U===SIMPLE_NORMALIZE&&(R=simpleNormalizeChildren(R));var W,Y;if(typeof E=="string"){var G=void 0;Y=V.$vnode&&V.$vnode.ns||config$1.getTagNamespace(E),config$1.isReservedTag(E)?W=new VNode(config$1.parsePlatformTagName(E),F,R,void 0,void 0,V):(!F||!F.pre)&&isDef$1(G=resolveAsset(V.$options,"components",E))?W=createComponent(G,F,V,R,E):W=new VNode(E,F,R,void 0,void 0,V)}else W=createComponent(E,F,V,R);return isArray$5(W)?W:isDef$1(W)?(isDef$1(Y)&&applyNS(W,Y),isDef$1(F)&&registerDeepBindings(F),W):createEmptyVNode()}function applyNS(V,E,F){if(V.ns=E,V.tag==="foreignObject"&&(E=void 0,F=!0),isDef$1(V.children))for(var R=0,U=V.children.length;R<U;R++){var W=V.children[R];isDef$1(W.tag)&&(isUndef$1(W.ns)||isTrue(F)&&W.tag!=="svg")&&applyNS(W,E,F)}}function registerDeepBindings(V){isObject$c(V.style)&&traverse(V.style),isObject$c(V.class)&&traverse(V.class)}function handleError(V,E,F){pushTarget();try{if(E)for(var R=E;R=R.$parent;){var U=R.$options.errorCaptured;if(U)for(var W=0;W<U.length;W++)try{var Y=U[W].call(R,V,E,F)===!1;if(Y)return}catch(G){globalHandleError(G,R,"errorCaptured hook")}}globalHandleError(V,E,F)}finally{popTarget()}}function invokeWithErrorHandling(V,E,F,R,U){var W;try{W=F?V.apply(E,F):V.call(E),W&&!W._isVue&&isPromise$1(W)&&!W._handled&&(W.catch(function(Y){return handleError(Y,R,U+" (Promise/async)")}),W._handled=!0)}catch(Y){handleError(Y,R,U)}return W}function globalHandleError(V,E,F){if(config$1.errorHandler)try{return config$1.errorHandler.call(null,V,E,F)}catch(R){R!==V&&logError(R)}logError(V)}function logError(V,E,F){if(inBrowser$1&&typeof console<"u")console.error(V);else throw V}var isUsingMicroTask=!1,callbacks$1=[],pending=!1;function flushCallbacks(){pending=!1;var V=callbacks$1.slice(0);callbacks$1.length=0;for(var E=0;E<V.length;E++)V[E]()}var timerFunc;if(typeof Promise<"u"&&isNative(Promise)){var p_1=Promise.resolve();timerFunc=function(){p_1.then(flushCallbacks),isIOS&&setTimeout(noop$3)},isUsingMicroTask=!0}else if(!isIE$1&&typeof MutationObserver<"u"&&(isNative(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var counter_1=1,observer$1=new MutationObserver(flushCallbacks),textNode_1=document.createTextNode(String(counter_1));observer$1.observe(textNode_1,{characterData:!0}),timerFunc=function(){counter_1=(counter_1+1)%2,textNode_1.data=String(counter_1)},isUsingMicroTask=!0}else typeof setImmediate<"u"&&isNative(setImmediate)?timerFunc=function(){setImmediate(flushCallbacks)}:timerFunc=function(){setTimeout(flushCallbacks,0)};function nextTick(V,E){var F;if(callbacks$1.push(function(){if(V)try{V.call(E)}catch(R){handleError(R,E,"nextTick")}else F&&F(E)}),pending||(pending=!0,timerFunc()),!V&&typeof Promise<"u")return new Promise(function(R){F=R})}function createLifeCycle(V){return function(E,F){if(F===void 0&&(F=currentInstance),!!F)return injectHook(F,V,E)}}function injectHook(V,E,F){var R=V.$options;R[E]=mergeLifecycleHook(R[E],F)}var onMounted=createLifeCycle("mounted"),version$1="2.7.7";function defineComponent(V){return V}var seenObjects=new _Set;function traverse(V){return _traverse(V,seenObjects),seenObjects.clear(),V}function _traverse(V,E){var F,R,U=isArray$5(V);if(!(!U&&!isObject$c(V)||Object.isFrozen(V)||V instanceof VNode)){if(V.__ob__){var W=V.__ob__.dep.id;if(E.has(W))return;E.add(W)}if(U)for(F=V.length;F--;)_traverse(V[F],E);else if(isRef(V))_traverse(V.value,E);else for(R=Object.keys(V),F=R.length;F--;)_traverse(V[R[F]],E)}}var uid$1=0,Watcher=function(){function V(E,F,R,U,W){recordEffectScope(this,activeEffectScope||(E?E._scope:void 0)),(this.vm=E)&&W&&(E._watcher=this),U?(this.deep=!!U.deep,this.user=!!U.user,this.lazy=!!U.lazy,this.sync=!!U.sync,this.before=U.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=R,this.id=++uid$1,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new _Set,this.newDepIds=new _Set,this.expression="",isFunction$4(F)?this.getter=F:(this.getter=parsePath$1(F),this.getter||(this.getter=noop$3)),this.value=this.lazy?void 0:this.get()}return V.prototype.get=function(){pushTarget(this);var E,F=this.vm;try{E=this.getter.call(F,F)}catch(R){if(this.user)handleError(R,F,'getter for watcher "'.concat(this.expression,'"'));else throw R}finally{this.deep&&traverse(E),popTarget(),this.cleanupDeps()}return E},V.prototype.addDep=function(E){var F=E.id;this.newDepIds.has(F)||(this.newDepIds.add(F),this.newDeps.push(E),this.depIds.has(F)||E.addSub(this))},V.prototype.cleanupDeps=function(){for(var E=this.deps.length;E--;){var F=this.deps[E];this.newDepIds.has(F.id)||F.removeSub(this)}var R=this.depIds;this.depIds=this.newDepIds,this.newDepIds=R,this.newDepIds.clear(),R=this.deps,this.deps=this.newDeps,this.newDeps=R,this.newDeps.length=0},V.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():queueWatcher(this)},V.prototype.run=function(){if(this.active){var E=this.get();if(E!==this.value||isObject$c(E)||this.deep){var F=this.value;if(this.value=E,this.user){var R='callback for watcher "'.concat(this.expression,'"');invokeWithErrorHandling(this.cb,this.vm,[E,F],this.vm,R)}else this.cb.call(this.vm,E,F)}}},V.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},V.prototype.depend=function(){for(var E=this.deps.length;E--;)this.deps[E].depend()},V.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&remove$2(this.vm._scope.effects,this),this.active){for(var E=this.deps.length;E--;)this.deps[E].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},V}();function initEvents(V){V._events=Object.create(null),V._hasHookEvent=!1;var E=V.$options._parentListeners;E&&updateComponentListeners(V,E)}var target$1$1;function add$1$2(V,E){target$1$1.$on(V,E)}function remove$1$1(V,E){target$1$1.$off(V,E)}function createOnceHandler$1(V,E){var F=target$1$1;return function R(){var U=E.apply(null,arguments);U!==null&&F.$off(V,R)}}function updateComponentListeners(V,E,F){target$1$1=V,updateListeners(E,F||{},add$1$2,remove$1$1,createOnceHandler$1,V),target$1$1=void 0}function eventsMixin(V){var E=/^hook:/;V.prototype.$on=function(F,R){var U=this;if(isArray$5(F))for(var W=0,Y=F.length;W<Y;W++)U.$on(F[W],R);else(U._events[F]||(U._events[F]=[])).push(R),E.test(F)&&(U._hasHookEvent=!0);return U},V.prototype.$once=function(F,R){var U=this;function W(){U.$off(F,W),R.apply(U,arguments)}return W.fn=R,U.$on(F,W),U},V.prototype.$off=function(F,R){var U=this;if(!arguments.length)return U._events=Object.create(null),U;if(isArray$5(F)){for(var W=0,Y=F.length;W<Y;W++)U.$off(F[W],R);return U}var G=U._events[F];if(!G)return U;if(!R)return U._events[F]=null,U;for(var X,K=G.length;K--;)if(X=G[K],X===R||X.fn===R){G.splice(K,1);break}return U},V.prototype.$emit=function(F){var R=this,U=R._events[F];if(U){U=U.length>1?toArray$6(U):U;for(var W=toArray$6(arguments,1),Y='event handler for "'.concat(F,'"'),G=0,X=U.length;G<X;G++)invokeWithErrorHandling(U[G],R,W,R,Y)}return R}}var activeInstance=null;function setActiveInstance(V){var E=activeInstance;return activeInstance=V,function(){activeInstance=E}}function initLifecycle(V){var E=V.$options,F=E.parent;if(F&&!E.abstract){for(;F.$options.abstract&&F.$parent;)F=F.$parent;F.$children.push(V)}V.$parent=F,V.$root=F?F.$root:V,V.$children=[],V.$refs={},V._provided=F?F._provided:Object.create(null),V._watcher=null,V._inactive=null,V._directInactive=!1,V._isMounted=!1,V._isDestroyed=!1,V._isBeingDestroyed=!1}function lifecycleMixin(V){V.prototype._update=function(E,F){var R=this,U=R.$el,W=R._vnode,Y=setActiveInstance(R);R._vnode=E,W?R.$el=R.__patch__(W,E):R.$el=R.__patch__(R.$el,E,F,!1),Y(),U&&(U.__vue__=null),R.$el&&(R.$el.__vue__=R),R.$vnode&&R.$parent&&R.$vnode===R.$parent._vnode&&(R.$parent.$el=R.$el)},V.prototype.$forceUpdate=function(){var E=this;E._watcher&&E._watcher.update()},V.prototype.$destroy=function(){var E=this;if(!E._isBeingDestroyed){callHook$1(E,"beforeDestroy"),E._isBeingDestroyed=!0;var F=E.$parent;F&&!F._isBeingDestroyed&&!E.$options.abstract&&remove$2(F.$children,E),E._scope.stop(),E._data.__ob__&&E._data.__ob__.vmCount--,E._isDestroyed=!0,E.__patch__(E._vnode,null),callHook$1(E,"destroyed"),E.$off(),E.$el&&(E.$el.__vue__=null),E.$vnode&&(E.$vnode.parent=null)}}}function mountComponent(V,E,F){V.$el=E,V.$options.render||(V.$options.render=createEmptyVNode),callHook$1(V,"beforeMount");var R;R=function(){V._update(V._render(),F)};var U={before:function(){V._isMounted&&!V._isDestroyed&&callHook$1(V,"beforeUpdate")}};new Watcher(V,R,noop$3,U,!0),F=!1;var W=V._preWatchers;if(W)for(var Y=0;Y<W.length;Y++)W[Y].run();return V.$vnode==null&&(V._isMounted=!0,callHook$1(V,"mounted")),V}function updateChildComponent(V,E,F,R,U){var W=R.data.scopedSlots,Y=V.$scopedSlots,G=!!(W&&!W.$stable||Y!==emptyObject&&!Y.$stable||W&&V.$scopedSlots.$key!==W.$key||!W&&V.$scopedSlots.$key),X=!!(U||V.$options._renderChildren||G),K=V.$vnode;V.$options._parentVnode=R,V.$vnode=R,V._vnode&&(V._vnode.parent=R),V.$options._renderChildren=U;var Z=R.data.attrs||emptyObject;if(V._attrsProxy&&syncSetupAttrs(V._attrsProxy,Z,K.data&&K.data.attrs||emptyObject,V)&&(X=!0),V.$attrs=Z,V.$listeners=F||emptyObject,E&&V.$options.props){toggleObserving(!1);for(var J=V._props,Q=V.$options._propKeys||[],ee=0;ee<Q.length;ee++){var te=Q[ee],ie=V.$options.props;J[te]=validateProp(te,ie,E,V)}toggleObserving(!0),V.$options.propsData=E}F=F||emptyObject;var re=V.$options._parentListeners;V.$options._parentListeners=F,updateComponentListeners(V,F,re),X&&(V.$slots=resolveSlots(U,R.context),V.$forceUpdate())}function isInInactiveTree(V){for(;V&&(V=V.$parent);)if(V._inactive)return!0;return!1}function activateChildComponent(V,E){if(E){if(V._directInactive=!1,isInInactiveTree(V))return}else if(V._directInactive)return;if(V._inactive||V._inactive===null){V._inactive=!1;for(var F=0;F<V.$children.length;F++)activateChildComponent(V.$children[F]);callHook$1(V,"activated")}}function deactivateChildComponent(V,E){if(!(E&&(V._directInactive=!0,isInInactiveTree(V)))&&!V._inactive){V._inactive=!0;for(var F=0;F<V.$children.length;F++)deactivateChildComponent(V.$children[F]);callHook$1(V,"deactivated")}}function callHook$1(V,E,F,R){R===void 0&&(R=!0),pushTarget();var U=currentInstance;R&&setCurrentInstance(V);var W=V.$options[E],Y="".concat(E," hook");if(W)for(var G=0,X=W.length;G<X;G++)invokeWithErrorHandling(W[G],V,F||null,V,Y);V._hasHookEvent&&V.$emit("hook:"+E),R&&setCurrentInstance(U),popTarget()}var queue=[],activatedChildren=[],has$1={},waiting=!1,flushing=!1,index$2=0;function resetSchedulerState(){index$2=queue.length=activatedChildren.length=0,has$1={},waiting=flushing=!1}var currentFlushTimestamp=0,getNow=Date.now;if(inBrowser$1&&!isIE$1){var performance_1=window.performance;performance_1&&typeof performance_1.now=="function"&&getNow()>document.createEvent("Event").timeStamp&&(getNow=function(){return performance_1.now()})}var sortCompareFn=function(V,E){if(V.post){if(!E.post)return 1}else if(E.post)return-1;return V.id-E.id};function flushSchedulerQueue(){currentFlushTimestamp=getNow(),flushing=!0;var V,E;for(queue.sort(sortCompareFn),index$2=0;index$2<queue.length;index$2++)V=queue[index$2],V.before&&V.before(),E=V.id,has$1[E]=null,V.run();var F=activatedChildren.slice(),R=queue.slice();resetSchedulerState(),callActivatedHooks(F),callUpdatedHooks(R),devtools&&config$1.devtools&&devtools.emit("flush")}function callUpdatedHooks(V){for(var E=V.length;E--;){var F=V[E],R=F.vm;R&&R._watcher===F&&R._isMounted&&!R._isDestroyed&&callHook$1(R,"updated")}}function queueActivatedComponent(V){V._inactive=!1,activatedChildren.push(V)}function callActivatedHooks(V){for(var E=0;E<V.length;E++)V[E]._inactive=!0,activateChildComponent(V[E],!0)}function queueWatcher(V){var E=V.id;if(has$1[E]==null&&!(V===Dep.target&&V.noRecurse)){if(has$1[E]=!0,!flushing)queue.push(V);else{for(var F=queue.length-1;F>index$2&&queue[F].id>V.id;)F--;queue.splice(F+1,0,V)}waiting||(waiting=!0,nextTick(flushSchedulerQueue))}}function initProvide(V){var E=V.$options.provide;if(E){var F=isFunction$4(E)?E.call(V):E;if(!isObject$c(F))return;for(var R=resolveProvided(V),U=hasSymbol$1?Reflect.ownKeys(F):Object.keys(F),W=0;W<U.length;W++){var Y=U[W];Object.defineProperty(R,Y,Object.getOwnPropertyDescriptor(F,Y))}}}function initInjections(V){var E=resolveInject(V.$options.inject,V);E&&(toggleObserving(!1),Object.keys(E).forEach(function(F){defineReactive(V,F,E[F])}),toggleObserving(!0))}function resolveInject(V,E){if(V){for(var F=Object.create(null),R=hasSymbol$1?Reflect.ownKeys(V):Object.keys(V),U=0;U<R.length;U++){var W=R[U];if(W!=="__ob__"){var Y=V[W].from;if(Y in E._provided)F[W]=E._provided[Y];else if("default"in V[W]){var G=V[W].default;F[W]=isFunction$4(G)?G.call(E):G}}}return F}}function FunctionalRenderContext(V,E,F,R,U){var W=this,Y=U.options,G;hasOwn$1(R,"_uid")?(G=Object.create(R),G._original=R):(G=R,R=R._original);var X=isTrue(Y._compiled),K=!X;this.data=V,this.props=E,this.children=F,this.parent=R,this.listeners=V.on||emptyObject,this.injections=resolveInject(Y.inject,R),this.slots=function(){return W.$slots||normalizeScopedSlots(R,V.scopedSlots,W.$slots=resolveSlots(F,R)),W.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return normalizeScopedSlots(R,V.scopedSlots,this.slots())}}),X&&(this.$options=Y,this.$slots=this.slots(),this.$scopedSlots=normalizeScopedSlots(R,V.scopedSlots,this.$slots)),Y._scopeId?this._c=function(Z,J,Q,ee){var te=createElement$1(G,Z,J,Q,ee,K);return te&&!isArray$5(te)&&(te.fnScopeId=Y._scopeId,te.fnContext=R),te}:this._c=function(Z,J,Q,ee){return createElement$1(G,Z,J,Q,ee,K)}}installRenderHelpers(FunctionalRenderContext.prototype);function createFunctionalComponent(V,E,F,R,U){var W=V.options,Y={},G=W.props;if(isDef$1(G))for(var X in G)Y[X]=validateProp(X,G,E||emptyObject);else isDef$1(F.attrs)&&mergeProps(Y,F.attrs),isDef$1(F.props)&&mergeProps(Y,F.props);var K=new FunctionalRenderContext(F,Y,U,R,V),Z=W.render.call(null,K._c,K);if(Z instanceof VNode)return cloneAndMarkFunctionalResult(Z,F,K.parent,W);if(isArray$5(Z)){for(var J=normalizeChildren(Z)||[],Q=new Array(J.length),ee=0;ee<J.length;ee++)Q[ee]=cloneAndMarkFunctionalResult(J[ee],F,K.parent,W);return Q}}function cloneAndMarkFunctionalResult(V,E,F,R,U){var W=cloneVNode(V);return W.fnContext=F,W.fnOptions=R,E.slot&&((W.data||(W.data={})).slot=E.slot),W}function mergeProps(V,E){for(var F in E)V[camelize(F)]=E[F]}function getComponentName(V){return V.name||V.__name||V._componentTag}var componentVNodeHooks={init:function(V,E){if(V.componentInstance&&!V.componentInstance._isDestroyed&&V.data.keepAlive){var F=V;componentVNodeHooks.prepatch(F,F)}else{var R=V.componentInstance=createComponentInstanceForVnode(V,activeInstance);R.$mount(E?V.elm:void 0,E)}},prepatch:function(V,E){var F=E.componentOptions,R=E.componentInstance=V.componentInstance;updateChildComponent(R,F.propsData,F.listeners,E,F.children)},insert:function(V){var E=V.context,F=V.componentInstance;F._isMounted||(F._isMounted=!0,callHook$1(F,"mounted")),V.data.keepAlive&&(E._isMounted?queueActivatedComponent(F):activateChildComponent(F,!0))},destroy:function(V){var E=V.componentInstance;E._isDestroyed||(V.data.keepAlive?deactivateChildComponent(E,!0):E.$destroy())}},hooksToMerge=Object.keys(componentVNodeHooks);function createComponent(V,E,F,R,U){if(!isUndef$1(V)){var W=F.$options._base;if(isObject$c(V)&&(V=W.extend(V)),typeof V=="function"){var Y;if(isUndef$1(V.cid)&&(Y=V,V=resolveAsyncComponent(Y,W),V===void 0))return createAsyncPlaceholder(Y,E,F,R,U);E=E||{},resolveConstructorOptions(V),isDef$1(E.model)&&transformModel(V.options,E);var G=extractPropsFromVNodeData(E,V);if(isTrue(V.options.functional))return createFunctionalComponent(V,G,E,F,R);var X=E.on;if(E.on=E.nativeOn,isTrue(V.options.abstract)){var K=E.slot;E={},K&&(E.slot=K)}installComponentHooks(E);var Z=getComponentName(V.options)||U,J=new VNode("vue-component-".concat(V.cid).concat(Z?"-".concat(Z):""),E,void 0,void 0,void 0,F,{Ctor:V,propsData:G,listeners:X,tag:U,children:R},Y);return J}}}function createComponentInstanceForVnode(V,E){var F={_isComponent:!0,_parentVnode:V,parent:E},R=V.data.inlineTemplate;return isDef$1(R)&&(F.render=R.render,F.staticRenderFns=R.staticRenderFns),new V.componentOptions.Ctor(F)}function installComponentHooks(V){for(var E=V.hook||(V.hook={}),F=0;F<hooksToMerge.length;F++){var R=hooksToMerge[F],U=E[R],W=componentVNodeHooks[R];U!==W&&!(U&&U._merged)&&(E[R]=U?mergeHook(W,U):W)}}function mergeHook(V,E){var F=function(R,U){V(R,U),E(R,U)};return F._merged=!0,F}function transformModel(V,E){var F=V.model&&V.model.prop||"value",R=V.model&&V.model.event||"input";(E.attrs||(E.attrs={}))[F]=E.model.value;var U=E.on||(E.on={}),W=U[R],Y=E.model.callback;isDef$1(W)?(isArray$5(W)?W.indexOf(Y)===-1:W!==Y)&&(U[R]=[Y].concat(W)):U[R]=Y}var warn$4=noop$3,strats=config$1.optionMergeStrategies;function mergeData(V,E){if(!E)return V;for(var F,R,U,W=hasSymbol$1?Reflect.ownKeys(E):Object.keys(E),Y=0;Y<W.length;Y++)F=W[Y],F!=="__ob__"&&(R=V[F],U=E[F],hasOwn$1(V,F)?R!==U&&isPlainObject$2(R)&&isPlainObject$2(U)&&mergeData(R,U):set$2(V,F,U));return V}function mergeDataOrFn(V,E,F){return F?function(){var U=isFunction$4(E)?E.call(F,F):E,W=isFunction$4(V)?V.call(F,F):V;return U?mergeData(U,W):W}:E?V?function(){return mergeData(isFunction$4(E)?E.call(this,this):E,isFunction$4(V)?V.call(this,this):V)}:E:V}strats.data=function(V,E,F){return F?mergeDataOrFn(V,E,F):E&&typeof E!="function"?V:mergeDataOrFn(V,E)};function mergeLifecycleHook(V,E){var F=E?V?V.concat(E):isArray$5(E)?E:[E]:V;return F&&dedupeHooks(F)}function dedupeHooks(V){for(var E=[],F=0;F<V.length;F++)E.indexOf(V[F])===-1&&E.push(V[F]);return E}LIFECYCLE_HOOKS.forEach(function(V){strats[V]=mergeLifecycleHook});function mergeAssets(V,E,F,R){var U=Object.create(V||null);return E?extend$4(U,E):U}ASSET_TYPES.forEach(function(V){strats[V+"s"]=mergeAssets});strats.watch=function(V,E,F,R){if(V===nativeWatch&&(V=void 0),E===nativeWatch&&(E=void 0),!E)return Object.create(V||null);if(!V)return E;var U={};extend$4(U,V);for(var W in E){var Y=U[W],G=E[W];Y&&!isArray$5(Y)&&(Y=[Y]),U[W]=Y?Y.concat(G):isArray$5(G)?G:[G]}return U};strats.props=strats.methods=strats.inject=strats.computed=function(V,E,F,R){if(!V)return E;var U=Object.create(null);return extend$4(U,V),E&&extend$4(U,E),U};strats.provide=mergeDataOrFn;var defaultStrat=function(V,E){return E===void 0?V:E};function normalizeProps(V,E){var F=V.props;if(!!F){var R={},U,W,Y;if(isArray$5(F))for(U=F.length;U--;)W=F[U],typeof W=="string"&&(Y=camelize(W),R[Y]={type:null});else if(isPlainObject$2(F))for(var G in F)W=F[G],Y=camelize(G),R[Y]=isPlainObject$2(W)?W:{type:W};V.props=R}}function normalizeInject(V,E){var F=V.inject;if(!!F){var R=V.inject={};if(isArray$5(F))for(var U=0;U<F.length;U++)R[F[U]]={from:F[U]};else if(isPlainObject$2(F))for(var W in F){var Y=F[W];R[W]=isPlainObject$2(Y)?extend$4({from:W},Y):{from:Y}}}}function normalizeDirectives$1(V){var E=V.directives;if(E)for(var F in E){var R=E[F];isFunction$4(R)&&(E[F]={bind:R,update:R})}}function assertObjectType(V,E,F){isPlainObject$2(E)||warn$4('Invalid value for option "'.concat(V,'": expected an Object, ')+"but got ".concat(toRawType(E),"."))}function mergeOptions(V,E,F){if(isFunction$4(E)&&(E=E.options),normalizeProps(E),normalizeInject(E),normalizeDirectives$1(E),!E._base&&(E.extends&&(V=mergeOptions(V,E.extends,F)),E.mixins))for(var R=0,U=E.mixins.length;R<U;R++)V=mergeOptions(V,E.mixins[R],F);var W={},Y;for(Y in V)G(Y);for(Y in E)hasOwn$1(V,Y)||G(Y);function G(X){var K=strats[X]||defaultStrat;W[X]=K(V[X],E[X],F,X)}return W}function resolveAsset(V,E,F,R){if(typeof F=="string"){var U=V[E];if(hasOwn$1(U,F))return U[F];var W=camelize(F);if(hasOwn$1(U,W))return U[W];var Y=capitalize$1(W);if(hasOwn$1(U,Y))return U[Y];var G=U[F]||U[W]||U[Y];return G}}function validateProp(V,E,F,R){var U=E[V],W=!hasOwn$1(F,V),Y=F[V],G=getTypeIndex(Boolean,U.type);if(G>-1){if(W&&!hasOwn$1(U,"default"))Y=!1;else if(Y===""||Y===hyphenate(V)){var X=getTypeIndex(String,U.type);(X<0||G<X)&&(Y=!0)}}if(Y===void 0){Y=getPropDefaultValue(R,U,V);var K=shouldObserve;toggleObserving(!0),observe(Y),toggleObserving(K)}return Y}function getPropDefaultValue(V,E,F){if(!!hasOwn$1(E,"default")){var R=E.default;return V&&V.$options.propsData&&V.$options.propsData[F]===void 0&&V._props[F]!==void 0?V._props[F]:isFunction$4(R)&&getType$1(E.type)!=="Function"?R.call(V):R}}var functionTypeCheckRE=/^\s*function (\w+)/;function getType$1(V){var E=V&&V.toString().match(functionTypeCheckRE);return E?E[1]:""}function isSameType(V,E){return getType$1(V)===getType$1(E)}function getTypeIndex(V,E){if(!isArray$5(E))return isSameType(E,V)?0:-1;for(var F=0,R=E.length;F<R;F++)if(isSameType(E[F],V))return F;return-1}var sharedPropertyDefinition={enumerable:!0,configurable:!0,get:noop$3,set:noop$3};function proxy(V,E,F){sharedPropertyDefinition.get=function(){return this[E][F]},sharedPropertyDefinition.set=function(U){this[E][F]=U},Object.defineProperty(V,F,sharedPropertyDefinition)}function initState(V){var E=V.$options;if(E.props&&initProps$1(V,E.props),initSetup(V),E.methods&&initMethods(V,E.methods),E.data)initData(V);else{var F=observe(V._data={});F&&F.vmCount++}E.computed&&initComputed$1(V,E.computed),E.watch&&E.watch!==nativeWatch&&initWatch(V,E.watch)}function initProps$1(V,E){var F=V.$options.propsData||{},R=V._props=shallowReactive({}),U=V.$options._propKeys=[],W=!V.$parent;W||toggleObserving(!1);var Y=function(X){U.push(X);var K=validateProp(X,E,F,V);defineReactive(R,X,K),X in V||proxy(V,"_props",X)};for(var G in E)Y(G);toggleObserving(!0)}function initData(V){var E=V.$options.data;E=V._data=isFunction$4(E)?getData(E,V):E||{},isPlainObject$2(E)||(E={});var F=Object.keys(E),R=V.$options.props;V.$options.methods;for(var U=F.length;U--;){var W=F[U];R&&hasOwn$1(R,W)||isReserved(W)||proxy(V,"_data",W)}var Y=observe(E);Y&&Y.vmCount++}function getData(V,E){pushTarget();try{return V.call(E,E)}catch(F){return handleError(F,E,"data()"),{}}finally{popTarget()}}var computedWatcherOptions={lazy:!0};function initComputed$1(V,E){var F=V._computedWatchers=Object.create(null),R=isServerRendering();for(var U in E){var W=E[U],Y=isFunction$4(W)?W:W.get;R||(F[U]=new Watcher(V,Y||noop$3,noop$3,computedWatcherOptions)),U in V||defineComputed(V,U,W)}}function defineComputed(V,E,F){var R=!isServerRendering();isFunction$4(F)?(sharedPropertyDefinition.get=R?createComputedGetter(E):createGetterInvoker(F),sharedPropertyDefinition.set=noop$3):(sharedPropertyDefinition.get=F.get?R&&F.cache!==!1?createComputedGetter(E):createGetterInvoker(F.get):noop$3,sharedPropertyDefinition.set=F.set||noop$3),Object.defineProperty(V,E,sharedPropertyDefinition)}function createComputedGetter(V){return function(){var F=this._computedWatchers&&this._computedWatchers[V];if(F)return F.dirty&&F.evaluate(),Dep.target&&F.depend(),F.value}}function createGetterInvoker(V){return function(){return V.call(this,this)}}function initMethods(V,E){V.$options.props;for(var F in E)V[F]=typeof E[F]!="function"?noop$3:bind$2(E[F],V)}function initWatch(V,E){for(var F in E){var R=E[F];if(isArray$5(R))for(var U=0;U<R.length;U++)createWatcher(V,F,R[U]);else createWatcher(V,F,R)}}function createWatcher(V,E,F,R){return isPlainObject$2(F)&&(R=F,F=F.handler),typeof F=="string"&&(F=V[F]),V.$watch(E,F,R)}function stateMixin(V){var E={};E.get=function(){return this._data};var F={};F.get=function(){return this._props},Object.defineProperty(V.prototype,"$data",E),Object.defineProperty(V.prototype,"$props",F),V.prototype.$set=set$2,V.prototype.$delete=del,V.prototype.$watch=function(R,U,W){var Y=this;if(isPlainObject$2(U))return createWatcher(Y,R,U,W);W=W||{},W.user=!0;var G=new Watcher(Y,R,U,W);if(W.immediate){var X='callback for immediate watcher "'.concat(G.expression,'"');pushTarget(),invokeWithErrorHandling(U,Y,[G.value],Y,X),popTarget()}return function(){G.teardown()}}}var uid=0;function initMixin$1(V){V.prototype._init=function(E){var F=this;F._uid=uid++,F._isVue=!0,F.__v_skip=!0,F._scope=new EffectScope(!0),E&&E._isComponent?initInternalComponent(F,E):F.$options=mergeOptions(resolveConstructorOptions(F.constructor),E||{},F),F._renderProxy=F,F._self=F,initLifecycle(F),initEvents(F),initRender(F),callHook$1(F,"beforeCreate",void 0,!1),initInjections(F),initState(F),initProvide(F),callHook$1(F,"created"),F.$options.el&&F.$mount(F.$options.el)}}function initInternalComponent(V,E){var F=V.$options=Object.create(V.constructor.options),R=E._parentVnode;F.parent=E.parent,F._parentVnode=R;var U=R.componentOptions;F.propsData=U.propsData,F._parentListeners=U.listeners,F._renderChildren=U.children,F._componentTag=U.tag,E.render&&(F.render=E.render,F.staticRenderFns=E.staticRenderFns)}function resolveConstructorOptions(V){var E=V.options;if(V.super){var F=resolveConstructorOptions(V.super),R=V.superOptions;if(F!==R){V.superOptions=F;var U=resolveModifiedOptions(V);U&&extend$4(V.extendOptions,U),E=V.options=mergeOptions(F,V.extendOptions),E.name&&(E.components[E.name]=V)}}return E}function resolveModifiedOptions(V){var E,F=V.options,R=V.sealedOptions;for(var U in F)F[U]!==R[U]&&(E||(E={}),E[U]=F[U]);return E}function Vue$2(V){this._init(V)}initMixin$1(Vue$2);stateMixin(Vue$2);eventsMixin(Vue$2);lifecycleMixin(Vue$2);renderMixin(Vue$2);function initUse(V){V.use=function(E){var F=this._installedPlugins||(this._installedPlugins=[]);if(F.indexOf(E)>-1)return this;var R=toArray$6(arguments,1);return R.unshift(this),isFunction$4(E.install)?E.install.apply(E,R):isFunction$4(E)&&E.apply(null,R),F.push(E),this}}function initMixin(V){V.mixin=function(E){return this.options=mergeOptions(this.options,E),this}}function initExtend(V){V.cid=0;var E=1;V.extend=function(F){F=F||{};var R=this,U=R.cid,W=F._Ctor||(F._Ctor={});if(W[U])return W[U];var Y=getComponentName(F)||getComponentName(R.options),G=function(K){this._init(K)};return G.prototype=Object.create(R.prototype),G.prototype.constructor=G,G.cid=E++,G.options=mergeOptions(R.options,F),G.super=R,G.options.props&&initProps(G),G.options.computed&&initComputed(G),G.extend=R.extend,G.mixin=R.mixin,G.use=R.use,ASSET_TYPES.forEach(function(X){G[X]=R[X]}),Y&&(G.options.components[Y]=G),G.superOptions=R.options,G.extendOptions=F,G.sealedOptions=extend$4({},G.options),W[U]=G,G}}function initProps(V){var E=V.options.props;for(var F in E)proxy(V.prototype,"_props",F)}function initComputed(V){var E=V.options.computed;for(var F in E)defineComputed(V.prototype,F,E[F])}function initAssetRegisters(V){ASSET_TYPES.forEach(function(E){V[E]=function(F,R){return R?(E==="component"&&isPlainObject$2(R)&&(R.name=R.name||F,R=this.options._base.extend(R)),E==="directive"&&isFunction$4(R)&&(R={bind:R,update:R}),this.options[E+"s"][F]=R,R):this.options[E+"s"][F]}})}function _getComponentName(V){return V&&(getComponentName(V.Ctor.options)||V.tag)}function matches(V,E){return isArray$5(V)?V.indexOf(E)>-1:typeof V=="string"?V.split(",").indexOf(E)>-1:isRegExp$1(V)?V.test(E):!1}function pruneCache(V,E){var F=V.cache,R=V.keys,U=V._vnode;for(var W in F){var Y=F[W];if(Y){var G=Y.name;G&&!E(G)&&pruneCacheEntry(F,W,R,U)}}}function pruneCacheEntry(V,E,F,R){var U=V[E];U&&(!R||U.tag!==R.tag)&&U.componentInstance.$destroy(),V[E]=null,remove$2(F,E)}var patternTypes=[String,RegExp,Array],KeepAlive={name:"keep-alive",abstract:!0,props:{include:patternTypes,exclude:patternTypes,max:[String,Number]},methods:{cacheVNode:function(){var V=this,E=V.cache,F=V.keys,R=V.vnodeToCache,U=V.keyToCache;if(R){var W=R.tag,Y=R.componentInstance,G=R.componentOptions;E[U]={name:_getComponentName(G),tag:W,componentInstance:Y},F.push(U),this.max&&F.length>parseInt(this.max)&&pruneCacheEntry(E,F[0],F,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var V in this.cache)pruneCacheEntry(this.cache,V,this.keys)},mounted:function(){var V=this;this.cacheVNode(),this.$watch("include",function(E){pruneCache(V,function(F){return matches(E,F)})}),this.$watch("exclude",function(E){pruneCache(V,function(F){return!matches(E,F)})})},updated:function(){this.cacheVNode()},render:function(){var V=this.$slots.default,E=getFirstComponentChild(V),F=E&&E.componentOptions;if(F){var R=_getComponentName(F),U=this,W=U.include,Y=U.exclude;if(W&&(!R||!matches(W,R))||Y&&R&&matches(Y,R))return E;var G=this,X=G.cache,K=G.keys,Z=E.key==null?F.Ctor.cid+(F.tag?"::".concat(F.tag):""):E.key;X[Z]?(E.componentInstance=X[Z].componentInstance,remove$2(K,Z),K.push(Z)):(this.vnodeToCache=E,this.keyToCache=Z),E.data.keepAlive=!0}return E||V&&V[0]}},builtInComponents={KeepAlive};function initGlobalAPI(V){var E={};E.get=function(){return config$1},Object.defineProperty(V,"config",E),V.util={warn:warn$4,extend:extend$4,mergeOptions,defineReactive},V.set=set$2,V.delete=del,V.nextTick=nextTick,V.observable=function(F){return observe(F),F},V.options=Object.create(null),ASSET_TYPES.forEach(function(F){V.options[F+"s"]=Object.create(null)}),V.options._base=V,extend$4(V.options.components,builtInComponents),initUse(V),initMixin(V),initExtend(V),initAssetRegisters(V)}initGlobalAPI(Vue$2);Object.defineProperty(Vue$2.prototype,"$isServer",{get:isServerRendering});Object.defineProperty(Vue$2.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(Vue$2,"FunctionalRenderContext",{value:FunctionalRenderContext});Vue$2.version=version$1;var isReservedAttr=makeMap("style,class"),acceptValue=makeMap("input,textarea,option,select,progress"),mustUseProp=function(V,E,F){return F==="value"&&acceptValue(V)&&E!=="button"||F==="selected"&&V==="option"||F==="checked"&&V==="input"||F==="muted"&&V==="video"},isEnumeratedAttr=makeMap("contenteditable,draggable,spellcheck"),isValidContentEditableValue=makeMap("events,caret,typing,plaintext-only"),convertEnumeratedValue=function(V,E){return isFalsyAttrValue(E)||E==="false"?"false":V==="contenteditable"&&isValidContentEditableValue(E)?E:"true"},isBooleanAttr=makeMap("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),xlinkNS="http://www.w3.org/1999/xlink",isXlink=function(V){return V.charAt(5)===":"&&V.slice(0,5)==="xlink"},getXlinkProp=function(V){return isXlink(V)?V.slice(6,V.length):""},isFalsyAttrValue=function(V){return V==null||V===!1};function genClassForVnode(V){for(var E=V.data,F=V,R=V;isDef$1(R.componentInstance);)R=R.componentInstance._vnode,R&&R.data&&(E=mergeClassData(R.data,E));for(;isDef$1(F=F.parent);)F&&F.data&&(E=mergeClassData(E,F.data));return renderClass(E.staticClass,E.class)}function mergeClassData(V,E){return{staticClass:concat$1(V.staticClass,E.staticClass),class:isDef$1(V.class)?[V.class,E.class]:E.class}}function renderClass(V,E){return isDef$1(V)||isDef$1(E)?concat$1(V,stringifyClass(E)):""}function concat$1(V,E){return V?E?V+" "+E:V:E||""}function stringifyClass(V){return Array.isArray(V)?stringifyArray(V):isObject$c(V)?stringifyObject(V):typeof V=="string"?V:""}function stringifyArray(V){for(var E="",F,R=0,U=V.length;R<U;R++)isDef$1(F=stringifyClass(V[R]))&&F!==""&&(E&&(E+=" "),E+=F);return E}function stringifyObject(V){var E="";for(var F in V)V[F]&&(E&&(E+=" "),E+=F);return E}var namespaceMap={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},isHTMLTag=makeMap("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),isSVG=makeMap("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),isReservedTag=function(V){return isHTMLTag(V)||isSVG(V)};function getTagNamespace(V){if(isSVG(V))return"svg";if(V==="math")return"math"}var unknownElementCache=Object.create(null);function isUnknownElement(V){if(!inBrowser$1)return!0;if(isReservedTag(V))return!1;if(V=V.toLowerCase(),unknownElementCache[V]!=null)return unknownElementCache[V];var E=document.createElement(V);return V.indexOf("-")>-1?unknownElementCache[V]=E.constructor===window.HTMLUnknownElement||E.constructor===window.HTMLElement:unknownElementCache[V]=/HTMLUnknownElement/.test(E.toString())}var isTextInputType=makeMap("text,number,password,search,email,tel,url");function query(V){if(typeof V=="string"){var E=document.querySelector(V);return E||document.createElement("div")}else return V}function createElement$2(V,E){var F=document.createElement(V);return V!=="select"||E.data&&E.data.attrs&&E.data.attrs.multiple!==void 0&&F.setAttribute("multiple","multiple"),F}function createElementNS(V,E){return document.createElementNS(namespaceMap[V],E)}function createTextNode(V){return document.createTextNode(V)}function createComment(V){return document.createComment(V)}function insertBefore(V,E,F){V.insertBefore(E,F)}function removeChild(V,E){V.removeChild(E)}function appendChild(V,E){V.appendChild(E)}function parentNode(V){return V.parentNode}function nextSibling(V){return V.nextSibling}function tagName(V){return V.tagName}function setTextContent(V,E){V.textContent=E}function setStyleScope(V,E){V.setAttribute(E,"")}var nodeOps=Object.freeze({__proto__:null,createElement:createElement$2,createElementNS,createTextNode,createComment,insertBefore,removeChild,appendChild,parentNode,nextSibling,tagName,setTextContent,setStyleScope}),ref={create:function(V,E){registerRef(E)},update:function(V,E){V.data.ref!==E.data.ref&&(registerRef(V,!0),registerRef(E))},destroy:function(V){registerRef(V,!0)}};function registerRef(V,E){var F=V.data.ref;if(!!isDef$1(F)){var R=V.context,U=V.componentInstance||V.elm,W=E?null:U,Y=E?void 0:U;if(isFunction$4(F)){invokeWithErrorHandling(F,R,[W],R,"template ref function");return}var G=V.data.refInFor,X=typeof F=="string"||typeof F=="number",K=isRef(F),Z=R.$refs;if(X||K){if(G){var J=X?Z[F]:F.value;E?isArray$5(J)&&remove$2(J,U):isArray$5(J)?J.includes(U)||J.push(U):X?(Z[F]=[U],setSetupRef(R,F,Z[F])):F.value=[U]}else if(X){if(E&&Z[F]!==U)return;Z[F]=Y,setSetupRef(R,F,W)}else if(K){if(E&&F.value!==U)return;F.value=W}}}}function setSetupRef(V,E,F){var R=V._setupState;R&&hasOwn$1(R,E)&&(isRef(R[E])?R[E].value=F:R[E]=F)}var emptyNode=new VNode("",{},[]),hooks$1=["create","activate","update","remove","destroy"];function sameVnode(V,E){return V.key===E.key&&V.asyncFactory===E.asyncFactory&&(V.tag===E.tag&&V.isComment===E.isComment&&isDef$1(V.data)===isDef$1(E.data)&&sameInputType(V,E)||isTrue(V.isAsyncPlaceholder)&&isUndef$1(E.asyncFactory.error))}function sameInputType(V,E){if(V.tag!=="input")return!0;var F,R=isDef$1(F=V.data)&&isDef$1(F=F.attrs)&&F.type,U=isDef$1(F=E.data)&&isDef$1(F=F.attrs)&&F.type;return R===U||isTextInputType(R)&&isTextInputType(U)}function createKeyToOldIdx$1(V,E,F){var R,U,W={};for(R=E;R<=F;++R)U=V[R].key,isDef$1(U)&&(W[U]=R);return W}function createPatchFunction(V){var E,F,R={},U=V.modules,W=V.nodeOps;for(E=0;E<hooks$1.length;++E)for(R[hooks$1[E]]=[],F=0;F<U.length;++F)isDef$1(U[F][hooks$1[E]])&&R[hooks$1[E]].push(U[F][hooks$1[E]]);function Y(fe){return new VNode(W.tagName(fe).toLowerCase(),{},[],void 0,fe)}function G(fe,ye){function _e(){--_e.listeners===0&&X(fe)}return _e.listeners=ye,_e}function X(fe){var ye=W.parentNode(fe);isDef$1(ye)&&W.removeChild(ye,fe)}function K(fe,ye,_e,ve,ge,be,xe){if(isDef$1(fe.elm)&&isDef$1(be)&&(fe=be[xe]=cloneVNode(fe)),fe.isRootInsert=!ge,!Z(fe,ye,_e,ve)){var Se=fe.data,De=fe.children,Ae=fe.tag;isDef$1(Ae)?(fe.elm=fe.ns?W.createElementNS(fe.ns,Ae):W.createElement(Ae,fe),ne(fe),te(fe,De,ye),isDef$1(Se)&&re(fe,ye),ee(_e,fe.elm,ve)):isTrue(fe.isComment)?(fe.elm=W.createComment(fe.text),ee(_e,fe.elm,ve)):(fe.elm=W.createTextNode(fe.text),ee(_e,fe.elm,ve))}}function Z(fe,ye,_e,ve){var ge=fe.data;if(isDef$1(ge)){var be=isDef$1(fe.componentInstance)&&ge.keepAlive;if(isDef$1(ge=ge.hook)&&isDef$1(ge=ge.init)&&ge(fe,!1),isDef$1(fe.componentInstance))return J(fe,ye),ee(_e,fe.elm,ve),isTrue(be)&&Q(fe,ye,_e,ve),!0}}function J(fe,ye){isDef$1(fe.data.pendingInsert)&&(ye.push.apply(ye,fe.data.pendingInsert),fe.data.pendingInsert=null),fe.elm=fe.componentInstance.$el,ie(fe)?(re(fe,ye),ne(fe)):(registerRef(fe),ye.push(fe))}function Q(fe,ye,_e,ve){for(var ge,be=fe;be.componentInstance;)if(be=be.componentInstance._vnode,isDef$1(ge=be.data)&&isDef$1(ge=ge.transition)){for(ge=0;ge<R.activate.length;++ge)R.activate[ge](emptyNode,be);ye.push(be);break}ee(_e,fe.elm,ve)}function ee(fe,ye,_e){isDef$1(fe)&&(isDef$1(_e)?W.parentNode(_e)===fe&&W.insertBefore(fe,ye,_e):W.appendChild(fe,ye))}function te(fe,ye,_e){if(isArray$5(ye))for(var ve=0;ve<ye.length;++ve)K(ye[ve],_e,fe.elm,null,!0,ye,ve);else isPrimitive(fe.text)&&W.appendChild(fe.elm,W.createTextNode(String(fe.text)))}function ie(fe){for(;fe.componentInstance;)fe=fe.componentInstance._vnode;return isDef$1(fe.tag)}function re(fe,ye){for(var _e=0;_e<R.create.length;++_e)R.create[_e](emptyNode,fe);E=fe.data.hook,isDef$1(E)&&(isDef$1(E.create)&&E.create(emptyNode,fe),isDef$1(E.insert)&&ye.push(fe))}function ne(fe){var ye;if(isDef$1(ye=fe.fnScopeId))W.setStyleScope(fe.elm,ye);else for(var _e=fe;_e;)isDef$1(ye=_e.context)&&isDef$1(ye=ye.$options._scopeId)&&W.setStyleScope(fe.elm,ye),_e=_e.parent;isDef$1(ye=activeInstance)&&ye!==fe.context&&ye!==fe.fnContext&&isDef$1(ye=ye.$options._scopeId)&&W.setStyleScope(fe.elm,ye)}function ae(fe,ye,_e,ve,ge,be){for(;ve<=ge;++ve)K(_e[ve],be,fe,ye,!1,_e,ve)}function se(fe){var ye,_e,ve=fe.data;if(isDef$1(ve))for(isDef$1(ye=ve.hook)&&isDef$1(ye=ye.destroy)&&ye(fe),ye=0;ye<R.destroy.length;++ye)R.destroy[ye](fe);if(isDef$1(ye=fe.children))for(_e=0;_e<fe.children.length;++_e)se(fe.children[_e])}function le(fe,ye,_e){for(;ye<=_e;++ye){var ve=fe[ye];isDef$1(ve)&&(isDef$1(ve.tag)?(oe(ve),se(ve)):X(ve.elm))}}function oe(fe,ye){if(isDef$1(ye)||isDef$1(fe.data)){var _e,ve=R.remove.length+1;for(isDef$1(ye)?ye.listeners+=ve:ye=G(fe.elm,ve),isDef$1(_e=fe.componentInstance)&&isDef$1(_e=_e._vnode)&&isDef$1(_e.data)&&oe(_e,ye),_e=0;_e<R.remove.length;++_e)R.remove[_e](fe,ye);isDef$1(_e=fe.data.hook)&&isDef$1(_e=_e.remove)?_e(fe,ye):ye()}else X(fe.elm)}function ue(fe,ye,_e,ve,ge){for(var be=0,xe=0,Se=ye.length-1,De=ye[0],Ae=ye[Se],Te=_e.length-1,Fe=_e[0],Oe=_e[Te],ke,Ee,Ve,Be,He=!ge;be<=Se&&xe<=Te;)isUndef$1(De)?De=ye[++be]:isUndef$1(Ae)?Ae=ye[--Se]:sameVnode(De,Fe)?(he(De,Fe,ve,_e,xe),De=ye[++be],Fe=_e[++xe]):sameVnode(Ae,Oe)?(he(Ae,Oe,ve,_e,Te),Ae=ye[--Se],Oe=_e[--Te]):sameVnode(De,Oe)?(he(De,Oe,ve,_e,Te),He&&W.insertBefore(fe,De.elm,W.nextSibling(Ae.elm)),De=ye[++be],Oe=_e[--Te]):sameVnode(Ae,Fe)?(he(Ae,Fe,ve,_e,xe),He&&W.insertBefore(fe,Ae.elm,De.elm),Ae=ye[--Se],Fe=_e[++xe]):(isUndef$1(ke)&&(ke=createKeyToOldIdx$1(ye,be,Se)),Ee=isDef$1(Fe.key)?ke[Fe.key]:ce(Fe,ye,be,Se),isUndef$1(Ee)?K(Fe,ve,fe,De.elm,!1,_e,xe):(Ve=ye[Ee],sameVnode(Ve,Fe)?(he(Ve,Fe,ve,_e,xe),ye[Ee]=void 0,He&&W.insertBefore(fe,Ve.elm,De.elm)):K(Fe,ve,fe,De.elm,!1,_e,xe)),Fe=_e[++xe]);be>Se?(Be=isUndef$1(_e[Te+1])?null:_e[Te+1].elm,ae(fe,Be,_e,xe,Te,ve)):xe>Te&&le(ye,be,Se)}function ce(fe,ye,_e,ve){for(var ge=_e;ge<ve;ge++){var be=ye[ge];if(isDef$1(be)&&sameVnode(fe,be))return ge}}function he(fe,ye,_e,ve,ge,be){if(fe!==ye){isDef$1(ye.elm)&&isDef$1(ve)&&(ye=ve[ge]=cloneVNode(ye));var xe=ye.elm=fe.elm;if(isTrue(fe.isAsyncPlaceholder)){isDef$1(ye.asyncFactory.resolved)?we(fe.elm,ye,_e):ye.isAsyncPlaceholder=!0;return}if(isTrue(ye.isStatic)&&isTrue(fe.isStatic)&&ye.key===fe.key&&(isTrue(ye.isCloned)||isTrue(ye.isOnce))){ye.componentInstance=fe.componentInstance;return}var Se,De=ye.data;isDef$1(De)&&isDef$1(Se=De.hook)&&isDef$1(Se=Se.prepatch)&&Se(fe,ye);var Ae=fe.children,Te=ye.children;if(isDef$1(De)&&ie(ye)){for(Se=0;Se<R.update.length;++Se)R.update[Se](fe,ye);isDef$1(Se=De.hook)&&isDef$1(Se=Se.update)&&Se(fe,ye)}isUndef$1(ye.text)?isDef$1(Ae)&&isDef$1(Te)?Ae!==Te&&ue(xe,Ae,Te,_e,be):isDef$1(Te)?(isDef$1(fe.text)&&W.setTextContent(xe,""),ae(xe,null,Te,0,Te.length-1,_e)):isDef$1(Ae)?le(Ae,0,Ae.length-1):isDef$1(fe.text)&&W.setTextContent(xe,""):fe.text!==ye.text&&W.setTextContent(xe,ye.text),isDef$1(De)&&isDef$1(Se=De.hook)&&isDef$1(Se=Se.postpatch)&&Se(fe,ye)}}function me(fe,ye,_e){if(isTrue(_e)&&isDef$1(fe.parent))fe.parent.data.pendingInsert=ye;else for(var ve=0;ve<ye.length;++ve)ye[ve].data.hook.insert(ye[ve])}var Pe=makeMap("attrs,class,staticClass,staticStyle,key");function we(fe,ye,_e,ve){var ge,be=ye.tag,xe=ye.data,Se=ye.children;if(ve=ve||xe&&xe.pre,ye.elm=fe,isTrue(ye.isComment)&&isDef$1(ye.asyncFactory))return ye.isAsyncPlaceholder=!0,!0;if(isDef$1(xe)&&(isDef$1(ge=xe.hook)&&isDef$1(ge=ge.init)&&ge(ye,!0),isDef$1(ge=ye.componentInstance)))return J(ye,_e),!0;if(isDef$1(be)){if(isDef$1(Se))if(!fe.hasChildNodes())te(ye,Se,_e);else if(isDef$1(ge=xe)&&isDef$1(ge=ge.domProps)&&isDef$1(ge=ge.innerHTML)){if(ge!==fe.innerHTML)return!1}else{for(var De=!0,Ae=fe.firstChild,Te=0;Te<Se.length;Te++){if(!Ae||!we(Ae,Se[Te],_e,ve)){De=!1;break}Ae=Ae.nextSibling}if(!De||Ae)return!1}if(isDef$1(xe)){var Fe=!1;for(var Oe in xe)if(!Pe(Oe)){Fe=!0,re(ye,_e);break}!Fe&&xe.class&&traverse(xe.class)}}else fe.data!==ye.text&&(fe.data=ye.text);return!0}return function(ye,_e,ve,ge){if(isUndef$1(_e)){isDef$1(ye)&&se(ye);return}var be=!1,xe=[];if(isUndef$1(ye))be=!0,K(_e,xe);else{var Se=isDef$1(ye.nodeType);if(!Se&&sameVnode(ye,_e))he(ye,_e,xe,null,null,ge);else{if(Se){if(ye.nodeType===1&&ye.hasAttribute(SSR_ATTR)&&(ye.removeAttribute(SSR_ATTR),ve=!0),isTrue(ve)&&we(ye,_e,xe))return me(_e,xe,!0),ye;ye=Y(ye)}var De=ye.elm,Ae=W.parentNode(De);if(K(_e,xe,De._leaveCb?null:Ae,W.nextSibling(De)),isDef$1(_e.parent))for(var Te=_e.parent,Fe=ie(_e);Te;){for(var Oe=0;Oe<R.destroy.length;++Oe)R.destroy[Oe](Te);if(Te.elm=_e.elm,Fe){for(var ke=0;ke<R.create.length;++ke)R.create[ke](emptyNode,Te);var Ee=Te.data.hook.insert;if(Ee.merged)for(var Ve=1;Ve<Ee.fns.length;Ve++)Ee.fns[Ve]()}else registerRef(Te);Te=Te.parent}isDef$1(Ae)?le([ye],0,0):isDef$1(ye.tag)&&se(ye)}}return me(_e,xe,be),_e.elm}}var directives={create:updateDirectives,update:updateDirectives,destroy:function(E){updateDirectives(E,emptyNode)}};function updateDirectives(V,E){(V.data.directives||E.data.directives)&&_update(V,E)}function _update(V,E){var F=V===emptyNode,R=E===emptyNode,U=normalizeDirectives(V.data.directives,V.context),W=normalizeDirectives(E.data.directives,E.context),Y=[],G=[],X,K,Z;for(X in W)K=U[X],Z=W[X],K?(Z.oldValue=K.value,Z.oldArg=K.arg,callHook(Z,"update",E,V),Z.def&&Z.def.componentUpdated&&G.push(Z)):(callHook(Z,"bind",E,V),Z.def&&Z.def.inserted&&Y.push(Z));if(Y.length){var J=function(){for(var Q=0;Q<Y.length;Q++)callHook(Y[Q],"inserted",E,V)};F?mergeVNodeHook(E,"insert",J):J()}if(G.length&&mergeVNodeHook(E,"postpatch",function(){for(var Q=0;Q<G.length;Q++)callHook(G[Q],"componentUpdated",E,V)}),!F)for(X in U)W[X]||callHook(U[X],"unbind",V,V,R)}var emptyModifiers=Object.create(null);function normalizeDirectives(V,E){var F=Object.create(null);if(!V)return F;var R,U;for(R=0;R<V.length;R++)U=V[R],U.modifiers||(U.modifiers=emptyModifiers),F[getRawDirName(U)]=U,E._setupState&&E._setupState.__sfc&&(U.def=U.def||resolveAsset(E,"_setupState","v-"+U.name)),U.def=U.def||resolveAsset(E.$options,"directives",U.name);return F}function getRawDirName(V){return V.rawName||"".concat(V.name,".").concat(Object.keys(V.modifiers||{}).join("."))}function callHook(V,E,F,R,U){var W=V.def&&V.def[E];if(W)try{W(F.elm,V,F,R,U)}catch(Y){handleError(Y,F.context,"directive ".concat(V.name," ").concat(E," hook"))}}var baseModules=[ref,directives];function updateAttrs(V,E){var F=E.componentOptions;if(!(isDef$1(F)&&F.Ctor.options.inheritAttrs===!1)&&!(isUndef$1(V.data.attrs)&&isUndef$1(E.data.attrs))){var R,U,W,Y=E.elm,G=V.data.attrs||{},X=E.data.attrs||{};(isDef$1(X.__ob__)||isTrue(X._v_attr_proxy))&&(X=E.data.attrs=extend$4({},X));for(R in X)U=X[R],W=G[R],W!==U&&setAttr(Y,R,U,E.data.pre);(isIE$1||isEdge)&&X.value!==G.value&&setAttr(Y,"value",X.value);for(R in G)isUndef$1(X[R])&&(isXlink(R)?Y.removeAttributeNS(xlinkNS,getXlinkProp(R)):isEnumeratedAttr(R)||Y.removeAttribute(R))}}function setAttr(V,E,F,R){R||V.tagName.indexOf("-")>-1?baseSetAttr(V,E,F):isBooleanAttr(E)?isFalsyAttrValue(F)?V.removeAttribute(E):(F=E==="allowfullscreen"&&V.tagName==="EMBED"?"true":E,V.setAttribute(E,F)):isEnumeratedAttr(E)?V.setAttribute(E,convertEnumeratedValue(E,F)):isXlink(E)?isFalsyAttrValue(F)?V.removeAttributeNS(xlinkNS,getXlinkProp(E)):V.setAttributeNS(xlinkNS,E,F):baseSetAttr(V,E,F)}function baseSetAttr(V,E,F){if(isFalsyAttrValue(F))V.removeAttribute(E);else{if(isIE$1&&!isIE9&&V.tagName==="TEXTAREA"&&E==="placeholder"&&F!==""&&!V.__ieph){var R=function(U){U.stopImmediatePropagation(),V.removeEventListener("input",R)};V.addEventListener("input",R),V.__ieph=!0}V.setAttribute(E,F)}}var attrs={create:updateAttrs,update:updateAttrs};function updateClass(V,E){var F=E.elm,R=E.data,U=V.data;if(!(isUndef$1(R.staticClass)&&isUndef$1(R.class)&&(isUndef$1(U)||isUndef$1(U.staticClass)&&isUndef$1(U.class)))){var W=genClassForVnode(E),Y=F._transitionClasses;isDef$1(Y)&&(W=concat$1(W,stringifyClass(Y))),W!==F._prevClass&&(F.setAttribute("class",W),F._prevClass=W)}}var klass={create:updateClass,update:updateClass},RANGE_TOKEN="__r",CHECKBOX_RADIO_TOKEN="__c";function normalizeEvents(V){if(isDef$1(V[RANGE_TOKEN])){var E=isIE$1?"change":"input";V[E]=[].concat(V[RANGE_TOKEN],V[E]||[]),delete V[RANGE_TOKEN]}isDef$1(V[CHECKBOX_RADIO_TOKEN])&&(V.change=[].concat(V[CHECKBOX_RADIO_TOKEN],V.change||[]),delete V[CHECKBOX_RADIO_TOKEN])}var target$2;function createOnceHandler(V,E,F){var R=target$2;return function U(){var W=E.apply(null,arguments);W!==null&&remove$3(V,U,F,R)}}var useMicrotaskFix=isUsingMicroTask&&!(isFF&&Number(isFF[1])<=53);function add$5(V,E,F,R){if(useMicrotaskFix){var U=currentFlushTimestamp,W=E;E=W._wrapper=function(Y){if(Y.target===Y.currentTarget||Y.timeStamp>=U||Y.timeStamp<=0||Y.target.ownerDocument!==document)return W.apply(this,arguments)}}target$2.addEventListener(V,E,supportsPassive?{capture:F,passive:R}:F)}function remove$3(V,E,F,R){(R||target$2).removeEventListener(V,E._wrapper||E,F)}function updateDOMListeners(V,E){if(!(isUndef$1(V.data.on)&&isUndef$1(E.data.on))){var F=E.data.on||{},R=V.data.on||{};target$2=E.elm||V.elm,normalizeEvents(F),updateListeners(F,R,add$5,remove$3,createOnceHandler,E.context),target$2=void 0}}var events$1={create:updateDOMListeners,update:updateDOMListeners,destroy:function(V){return updateDOMListeners(V,emptyNode)}},svgContainer;function updateDOMProps(V,E){if(!(isUndef$1(V.data.domProps)&&isUndef$1(E.data.domProps))){var F,R,U=E.elm,W=V.data.domProps||{},Y=E.data.domProps||{};(isDef$1(Y.__ob__)||isTrue(Y._v_attr_proxy))&&(Y=E.data.domProps=extend$4({},Y));for(F in W)F in Y||(U[F]="");for(F in Y){if(R=Y[F],F==="textContent"||F==="innerHTML"){if(E.children&&(E.children.length=0),R===W[F])continue;U.childNodes.length===1&&U.removeChild(U.childNodes[0])}if(F==="value"&&U.tagName!=="PROGRESS"){U._value=R;var G=isUndef$1(R)?"":String(R);shouldUpdateValue(U,G)&&(U.value=G)}else if(F==="innerHTML"&&isSVG(U.tagName)&&isUndef$1(U.innerHTML)){svgContainer=svgContainer||document.createElement("div"),svgContainer.innerHTML="<svg>".concat(R,"</svg>");for(var X=svgContainer.firstChild;U.firstChild;)U.removeChild(U.firstChild);for(;X.firstChild;)U.appendChild(X.firstChild)}else if(R!==W[F])try{U[F]=R}catch{}}}}function shouldUpdateValue(V,E){return!V.composing&&(V.tagName==="OPTION"||isNotInFocusAndDirty(V,E)||isDirtyWithModifiers(V,E))}function isNotInFocusAndDirty(V,E){var F=!0;try{F=document.activeElement!==V}catch{}return F&&V.value!==E}function isDirtyWithModifiers(V,E){var F=V.value,R=V._vModifiers;if(isDef$1(R)){if(R.number)return toNumber$3(F)!==toNumber$3(E);if(R.trim)return F.trim()!==E.trim()}return F!==E}var domProps={create:updateDOMProps,update:updateDOMProps},parseStyleText=cached(function(V){var E={},F=/;(?![^(]*\))/g,R=/:(.+)/;return V.split(F).forEach(function(U){if(U){var W=U.split(R);W.length>1&&(E[W[0].trim()]=W[1].trim())}}),E});function normalizeStyleData(V){var E=normalizeStyleBinding(V.style);return V.staticStyle?extend$4(V.staticStyle,E):E}function normalizeStyleBinding(V){return Array.isArray(V)?toObject$1(V):typeof V=="string"?parseStyleText(V):V}function getStyle(V,E){var F={},R;if(E)for(var U=V;U.componentInstance;)U=U.componentInstance._vnode,U&&U.data&&(R=normalizeStyleData(U.data))&&extend$4(F,R);(R=normalizeStyleData(V.data))&&extend$4(F,R);for(var W=V;W=W.parent;)W.data&&(R=normalizeStyleData(W.data))&&extend$4(F,R);return F}var cssVarRE=/^--/,importantRE=/\s*!important$/,setProp=function(V,E,F){if(cssVarRE.test(E))V.style.setProperty(E,F);else if(importantRE.test(F))V.style.setProperty(hyphenate(E),F.replace(importantRE,""),"important");else{var R=normalize(E);if(Array.isArray(F))for(var U=0,W=F.length;U<W;U++)V.style[R]=F[U];else V.style[R]=F}},vendorNames=["Webkit","Moz","ms"],emptyStyle,normalize=cached(function(V){if(emptyStyle=emptyStyle||document.createElement("div").style,V=camelize(V),V!=="filter"&&V in emptyStyle)return V;for(var E=V.charAt(0).toUpperCase()+V.slice(1),F=0;F<vendorNames.length;F++){var R=vendorNames[F]+E;if(R in emptyStyle)return R}});function updateStyle(V,E){var F=E.data,R=V.data;if(!(isUndef$1(F.staticStyle)&&isUndef$1(F.style)&&isUndef$1(R.staticStyle)&&isUndef$1(R.style))){var U,W,Y=E.elm,G=R.staticStyle,X=R.normalizedStyle||R.style||{},K=G||X,Z=normalizeStyleBinding(E.data.style)||{};E.data.normalizedStyle=isDef$1(Z.__ob__)?extend$4({},Z):Z;var J=getStyle(E,!0);for(W in K)isUndef$1(J[W])&&setProp(Y,W,"");for(W in J)U=J[W],U!==K[W]&&setProp(Y,W,U==null?"":U)}}var style={create:updateStyle,update:updateStyle},whitespaceRE=/\s+/;function addClass$1(V,E){if(!(!E||!(E=E.trim())))if(V.classList)E.indexOf(" ")>-1?E.split(whitespaceRE).forEach(function(R){return V.classList.add(R)}):V.classList.add(E);else{var F=" ".concat(V.getAttribute("class")||""," ");F.indexOf(" "+E+" ")<0&&V.setAttribute("class",(F+E).trim())}}function removeClass$1(V,E){if(!(!E||!(E=E.trim())))if(V.classList)E.indexOf(" ")>-1?E.split(whitespaceRE).forEach(function(U){return V.classList.remove(U)}):V.classList.remove(E),V.classList.length||V.removeAttribute("class");else{for(var F=" ".concat(V.getAttribute("class")||""," "),R=" "+E+" ";F.indexOf(R)>=0;)F=F.replace(R," ");F=F.trim(),F?V.setAttribute("class",F):V.removeAttribute("class")}}function resolveTransition(V){if(!!V){if(typeof V=="object"){var E={};return V.css!==!1&&extend$4(E,autoCssTransition(V.name||"v")),extend$4(E,V),E}else if(typeof V=="string")return autoCssTransition(V)}}var autoCssTransition=cached(function(V){return{enterClass:"".concat(V,"-enter"),enterToClass:"".concat(V,"-enter-to"),enterActiveClass:"".concat(V,"-enter-active"),leaveClass:"".concat(V,"-leave"),leaveToClass:"".concat(V,"-leave-to"),leaveActiveClass:"".concat(V,"-leave-active")}}),hasTransition=inBrowser$1&&!isIE9,TRANSITION="transition",ANIMATION="animation",transitionProp="transition",transitionEndEvent="transitionend",animationProp="animation",animationEndEvent="animationend";hasTransition&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(transitionProp="WebkitTransition",transitionEndEvent="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(animationProp="WebkitAnimation",animationEndEvent="webkitAnimationEnd"));var raf$1=inBrowser$1?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(V){return V()};function nextFrame(V){raf$1(function(){raf$1(V)})}function addTransitionClass(V,E){var F=V._transitionClasses||(V._transitionClasses=[]);F.indexOf(E)<0&&(F.push(E),addClass$1(V,E))}function removeTransitionClass(V,E){V._transitionClasses&&remove$2(V._transitionClasses,E),removeClass$1(V,E)}function whenTransitionEnds(V,E,F){var R=getTransitionInfo(V,E),U=R.type,W=R.timeout,Y=R.propCount;if(!U)return F();var G=U===TRANSITION?transitionEndEvent:animationEndEvent,X=0,K=function(){V.removeEventListener(G,Z),F()},Z=function(J){J.target===V&&++X>=Y&&K()};setTimeout(function(){X<Y&&K()},W+1),V.addEventListener(G,Z)}var transformRE=/\b(transform|all)(,|$)/;function getTransitionInfo(V,E){var F=window.getComputedStyle(V),R=(F[transitionProp+"Delay"]||"").split(", "),U=(F[transitionProp+"Duration"]||"").split(", "),W=getTimeout(R,U),Y=(F[animationProp+"Delay"]||"").split(", "),G=(F[animationProp+"Duration"]||"").split(", "),X=getTimeout(Y,G),K,Z=0,J=0;E===TRANSITION?W>0&&(K=TRANSITION,Z=W,J=U.length):E===ANIMATION?X>0&&(K=ANIMATION,Z=X,J=G.length):(Z=Math.max(W,X),K=Z>0?W>X?TRANSITION:ANIMATION:null,J=K?K===TRANSITION?U.length:G.length:0);var Q=K===TRANSITION&&transformRE.test(F[transitionProp+"Property"]);return{type:K,timeout:Z,propCount:J,hasTransform:Q}}function getTimeout(V,E){for(;V.length<E.length;)V=V.concat(V);return Math.max.apply(null,E.map(function(F,R){return toMs(F)+toMs(V[R])}))}function toMs(V){return Number(V.slice(0,-1).replace(",","."))*1e3}function enter(V,E){var F=V.elm;isDef$1(F._leaveCb)&&(F._leaveCb.cancelled=!0,F._leaveCb());var R=resolveTransition(V.data.transition);if(!isUndef$1(R)&&!(isDef$1(F._enterCb)||F.nodeType!==1)){for(var U=R.css,W=R.type,Y=R.enterClass,G=R.enterToClass,X=R.enterActiveClass,K=R.appearClass,Z=R.appearToClass,J=R.appearActiveClass,Q=R.beforeEnter,ee=R.enter,te=R.afterEnter,ie=R.enterCancelled,re=R.beforeAppear,ne=R.appear,ae=R.afterAppear,se=R.appearCancelled,le=R.duration,oe=activeInstance,ue=activeInstance.$vnode;ue&&ue.parent;)oe=ue.context,ue=ue.parent;var ce=!oe._isMounted||!V.isRootInsert;if(!(ce&&!ne&&ne!=="")){var he=ce&&K?K:Y,me=ce&&J?J:X,Pe=ce&&Z?Z:G,we=ce&&re||Q,fe=ce&&isFunction$4(ne)?ne:ee,ye=ce&&ae||te,_e=ce&&se||ie,ve=toNumber$3(isObject$c(le)?le.enter:le),ge=U!==!1&&!isIE9,be=getHookArgumentsLength(fe),xe=F._enterCb=once$1(function(){ge&&(removeTransitionClass(F,Pe),removeTransitionClass(F,me)),xe.cancelled?(ge&&removeTransitionClass(F,he),_e&&_e(F)):ye&&ye(F),F._enterCb=null});V.data.show||mergeVNodeHook(V,"insert",function(){var Se=F.parentNode,De=Se&&Se._pending&&Se._pending[V.key];De&&De.tag===V.tag&&De.elm._leaveCb&&De.elm._leaveCb(),fe&&fe(F,xe)}),we&&we(F),ge&&(addTransitionClass(F,he),addTransitionClass(F,me),nextFrame(function(){removeTransitionClass(F,he),xe.cancelled||(addTransitionClass(F,Pe),be||(isValidDuration(ve)?setTimeout(xe,ve):whenTransitionEnds(F,W,xe)))})),V.data.show&&(E&&E(),fe&&fe(F,xe)),!ge&&!be&&xe()}}}function leave(V,E){var F=V.elm;isDef$1(F._enterCb)&&(F._enterCb.cancelled=!0,F._enterCb());var R=resolveTransition(V.data.transition);if(isUndef$1(R)||F.nodeType!==1)return E();if(isDef$1(F._leaveCb))return;var U=R.css,W=R.type,Y=R.leaveClass,G=R.leaveToClass,X=R.leaveActiveClass,K=R.beforeLeave,Z=R.leave,J=R.afterLeave,Q=R.leaveCancelled,ee=R.delayLeave,te=R.duration,ie=U!==!1&&!isIE9,re=getHookArgumentsLength(Z),ne=toNumber$3(isObject$c(te)?te.leave:te),ae=F._leaveCb=once$1(function(){F.parentNode&&F.parentNode._pending&&(F.parentNode._pending[V.key]=null),ie&&(removeTransitionClass(F,G),removeTransitionClass(F,X)),ae.cancelled?(ie&&removeTransitionClass(F,Y),Q&&Q(F)):(E(),J&&J(F)),F._leaveCb=null});ee?ee(se):se();function se(){ae.cancelled||(!V.data.show&&F.parentNode&&((F.parentNode._pending||(F.parentNode._pending={}))[V.key]=V),K&&K(F),ie&&(addTransitionClass(F,Y),addTransitionClass(F,X),nextFrame(function(){removeTransitionClass(F,Y),ae.cancelled||(addTransitionClass(F,G),re||(isValidDuration(ne)?setTimeout(ae,ne):whenTransitionEnds(F,W,ae)))})),Z&&Z(F,ae),!ie&&!re&&ae())}}function isValidDuration(V){return typeof V=="number"&&!isNaN(V)}function getHookArgumentsLength(V){if(isUndef$1(V))return!1;var E=V.fns;return isDef$1(E)?getHookArgumentsLength(Array.isArray(E)?E[0]:E):(V._length||V.length)>1}function _enter(V,E){E.data.show!==!0&&enter(E)}var transition=inBrowser$1?{create:_enter,activate:_enter,remove:function(V,E){V.data.show!==!0?leave(V,E):E()}}:{},platformModules=[attrs,klass,events$1,domProps,style,transition],modules=platformModules.concat(baseModules),patch=createPatchFunction({nodeOps,modules});isIE9&&document.addEventListener("selectionchange",function(){var V=document.activeElement;V&&V.vmodel&&trigger(V,"input")});var directive={inserted:function(V,E,F,R){F.tag==="select"?(R.elm&&!R.elm._vOptions?mergeVNodeHook(F,"postpatch",function(){directive.componentUpdated(V,E,F)}):setSelected(V,E,F.context),V._vOptions=[].map.call(V.options,getValue$1)):(F.tag==="textarea"||isTextInputType(V.type))&&(V._vModifiers=E.modifiers,E.modifiers.lazy||(V.addEventListener("compositionstart",onCompositionStart),V.addEventListener("compositionend",onCompositionEnd),V.addEventListener("change",onCompositionEnd),isIE9&&(V.vmodel=!0)))},componentUpdated:function(V,E,F){if(F.tag==="select"){setSelected(V,E,F.context);var R=V._vOptions,U=V._vOptions=[].map.call(V.options,getValue$1);if(U.some(function(Y,G){return!looseEqual$1(Y,R[G])})){var W=V.multiple?E.value.some(function(Y){return hasNoMatchingOption(Y,U)}):E.value!==E.oldValue&&hasNoMatchingOption(E.value,U);W&&trigger(V,"change")}}}};function setSelected(V,E,F){actuallySetSelected(V,E),(isIE$1||isEdge)&&setTimeout(function(){actuallySetSelected(V,E)},0)}function actuallySetSelected(V,E,F){var R=E.value,U=V.multiple;if(!(U&&!Array.isArray(R))){for(var W,Y,G=0,X=V.options.length;G<X;G++)if(Y=V.options[G],U)W=looseIndexOf(R,getValue$1(Y))>-1,Y.selected!==W&&(Y.selected=W);else if(looseEqual$1(getValue$1(Y),R)){V.selectedIndex!==G&&(V.selectedIndex=G);return}U||(V.selectedIndex=-1)}}function hasNoMatchingOption(V,E){return E.every(function(F){return!looseEqual$1(F,V)})}function getValue$1(V){return"_value"in V?V._value:V.value}function onCompositionStart(V){V.target.composing=!0}function onCompositionEnd(V){!V.target.composing||(V.target.composing=!1,trigger(V.target,"input"))}function trigger(V,E){var F=document.createEvent("HTMLEvents");F.initEvent(E,!0,!0),V.dispatchEvent(F)}function locateNode(V){return V.componentInstance&&(!V.data||!V.data.transition)?locateNode(V.componentInstance._vnode):V}var show$2={bind:function(V,E,F){var R=E.value;F=locateNode(F);var U=F.data&&F.data.transition,W=V.__vOriginalDisplay=V.style.display==="none"?"":V.style.display;R&&U?(F.data.show=!0,enter(F,function(){V.style.display=W})):V.style.display=R?W:"none"},update:function(V,E,F){var R=E.value,U=E.oldValue;if(!R!=!U){F=locateNode(F);var W=F.data&&F.data.transition;W?(F.data.show=!0,R?enter(F,function(){V.style.display=V.__vOriginalDisplay}):leave(F,function(){V.style.display="none"})):V.style.display=R?V.__vOriginalDisplay:"none"}},unbind:function(V,E,F,R,U){U||(V.style.display=V.__vOriginalDisplay)}},platformDirectives={model:directive,show:show$2},transitionProps={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function getRealChild(V){var E=V&&V.componentOptions;return E&&E.Ctor.options.abstract?getRealChild(getFirstComponentChild(E.children)):V}function extractTransitionData(V){var E={},F=V.$options;for(var R in F.propsData)E[R]=V[R];var U=F._parentListeners;for(var R in U)E[camelize(R)]=U[R];return E}function placeholder(V,E){if(/\d-keep-alive$/.test(E.tag))return V("keep-alive",{props:E.componentOptions.propsData})}function hasParentTransition(V){for(;V=V.parent;)if(V.data.transition)return!0}function isSameChild(V,E){return E.key===V.key&&E.tag===V.tag}var isNotTextNode=function(V){return V.tag||isAsyncPlaceholder(V)},isVShowDirective=function(V){return V.name==="show"},Transition={name:"transition",props:transitionProps,abstract:!0,render:function(V){var E=this,F=this.$slots.default;if(!!F&&(F=F.filter(isNotTextNode),!!F.length)){var R=this.mode,U=F[0];if(hasParentTransition(this.$vnode))return U;var W=getRealChild(U);if(!W)return U;if(this._leaving)return placeholder(V,U);var Y="__transition-".concat(this._uid,"-");W.key=W.key==null?W.isComment?Y+"comment":Y+W.tag:isPrimitive(W.key)?String(W.key).indexOf(Y)===0?W.key:Y+W.key:W.key;var G=(W.data||(W.data={})).transition=extractTransitionData(this),X=this._vnode,K=getRealChild(X);if(W.data.directives&&W.data.directives.some(isVShowDirective)&&(W.data.show=!0),K&&K.data&&!isSameChild(W,K)&&!isAsyncPlaceholder(K)&&!(K.componentInstance&&K.componentInstance._vnode.isComment)){var Z=K.data.transition=extend$4({},G);if(R==="out-in")return this._leaving=!0,mergeVNodeHook(Z,"afterLeave",function(){E._leaving=!1,E.$forceUpdate()}),placeholder(V,U);if(R==="in-out"){if(isAsyncPlaceholder(W))return X;var J,Q=function(){J()};mergeVNodeHook(G,"afterEnter",Q),mergeVNodeHook(G,"enterCancelled",Q),mergeVNodeHook(Z,"delayLeave",function(ee){J=ee})}}return U}}},props$1=extend$4({tag:String,moveClass:String},transitionProps);delete props$1.mode;var TransitionGroup={props:props$1,beforeMount:function(){var V=this,E=this._update;this._update=function(F,R){var U=setActiveInstance(V);V.__patch__(V._vnode,V.kept,!1,!0),V._vnode=V.kept,U(),E.call(V,F,R)}},render:function(V){for(var E=this.tag||this.$vnode.data.tag||"span",F=Object.create(null),R=this.prevChildren=this.children,U=this.$slots.default||[],W=this.children=[],Y=extractTransitionData(this),G=0;G<U.length;G++){var X=U[G];X.tag&&X.key!=null&&String(X.key).indexOf("__vlist")!==0&&(W.push(X),F[X.key]=X,(X.data||(X.data={})).transition=Y)}if(R){for(var K=[],Z=[],G=0;G<R.length;G++){var X=R[G];X.data.transition=Y,X.data.pos=X.elm.getBoundingClientRect(),F[X.key]?K.push(X):Z.push(X)}this.kept=V(E,null,K),this.removed=Z}return V(E,null,W)},updated:function(){var V=this.prevChildren,E=this.moveClass||(this.name||"v")+"-move";!V.length||!this.hasMove(V[0].elm,E)||(V.forEach(callPendingCbs),V.forEach(recordPosition),V.forEach(applyTranslation),this._reflow=document.body.offsetHeight,V.forEach(function(F){if(F.data.moved){var R=F.elm,U=R.style;addTransitionClass(R,E),U.transform=U.WebkitTransform=U.transitionDuration="",R.addEventListener(transitionEndEvent,R._moveCb=function W(Y){Y&&Y.target!==R||(!Y||/transform$/.test(Y.propertyName))&&(R.removeEventListener(transitionEndEvent,W),R._moveCb=null,removeTransitionClass(R,E))})}}))},methods:{hasMove:function(V,E){if(!hasTransition)return!1;if(this._hasMove)return this._hasMove;var F=V.cloneNode();V._transitionClasses&&V._transitionClasses.forEach(function(U){removeClass$1(F,U)}),addClass$1(F,E),F.style.display="none",this.$el.appendChild(F);var R=getTransitionInfo(F);return this.$el.removeChild(F),this._hasMove=R.hasTransform}}};function callPendingCbs(V){V.elm._moveCb&&V.elm._moveCb(),V.elm._enterCb&&V.elm._enterCb()}function recordPosition(V){V.data.newPos=V.elm.getBoundingClientRect()}function applyTranslation(V){var E=V.data.pos,F=V.data.newPos,R=E.left-F.left,U=E.top-F.top;if(R||U){V.data.moved=!0;var W=V.elm.style;W.transform=W.WebkitTransform="translate(".concat(R,"px,").concat(U,"px)"),W.transitionDuration="0s"}}var platformComponents={Transition,TransitionGroup};Vue$2.config.mustUseProp=mustUseProp;Vue$2.config.isReservedTag=isReservedTag;Vue$2.config.isReservedAttr=isReservedAttr;Vue$2.config.getTagNamespace=getTagNamespace;Vue$2.config.isUnknownElement=isUnknownElement;extend$4(Vue$2.options.directives,platformDirectives);extend$4(Vue$2.options.components,platformComponents);Vue$2.prototype.__patch__=inBrowser$1?patch:noop$3;Vue$2.prototype.$mount=function(V,E){return V=V&&inBrowser$1?query(V):void 0,mountComponent(this,V,E)};inBrowser$1&&setTimeout(function(){config$1.devtools&&devtools&&devtools.emit("init",Vue$2)},0);const Modal_vue_vue_type_style_index_0_scoped_ad0b76ce_lang="";function normalizeComponent(V,E,F,R,U,W,Y,G){var X=typeof V=="function"?V.options:V;E&&(X.render=E,X.staticRenderFns=F,X._compiled=!0),R&&(X.functional=!0),W&&(X._scopeId="data-v-"+W);var K;if(Y?(K=function(Q){Q=Q||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!Q&&typeof __VUE_SSR_CONTEXT__<"u"&&(Q=__VUE_SSR_CONTEXT__),U&&U.call(this,Q),Q&&Q._registeredComponents&&Q._registeredComponents.add(Y)},X._ssrRegister=K):U&&(K=G?function(){U.call(this,(X.functional?this.parent:this).$root.$options.shadowRoot)}:U),K)if(X.functional){X._injectStyles=K;var Z=X.render;X.render=function(ee,te){return K.call(te),Z(ee,te)}}else{var J=X.beforeCreate;X.beforeCreate=J?[].concat(J,K):[K]}return{exports:V,options:X}}const _sfc_main$14={props:{disableTransition:{type:Boolean,default:!1}},mounted(){document.body.classList.add("modal"),document.addEventListener("keyup",this.handler)},beforeDestroy(){document.body.classList.remove("modal"),document.removeEventListener("keyup",this.handler)},methods:{handler(V){V.keyCode===27&&this.$emit("close")}}};var _sfc_render$14=function(){var E=this,F=E._self._c;return F("transition",{attrs:{name:"fade",appear:"",css:!E.disableTransition}},[F("div",{staticClass:"dialog"},[F("div",{staticClass:"dialog-background"}),F("transition",{attrs:{name:"slide-fade",appear:"",css:!E.disableTransition}},[E._t("default")],2)],1)])},_sfc_staticRenderFns$14=[],__component__$14=normalizeComponent(_sfc_main$14,_sfc_render$14,_sfc_staticRenderFns$14,!1,null,"ad0b76ce",null,null);const Modal$1=__component__$14.exports;var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(V){return V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}var validators_min={exports:{}};(function(V,E){(function(F,R){V.exports=R()})(window,function(){return function(F){var R={};function U(W){if(R[W])return R[W].exports;var Y=R[W]={i:W,l:!1,exports:{}};return F[W].call(Y.exports,Y,Y.exports,U),Y.l=!0,Y.exports}return U.m=F,U.c=R,U.d=function(W,Y,G){U.o(W,Y)||Object.defineProperty(W,Y,{configurable:!1,enumerable:!0,get:G})},U.r=function(W){Object.defineProperty(W,"__esModule",{value:!0})},U.n=function(W){var Y=W&&W.__esModule?function(){return W.default}:function(){return W};return U.d(Y,"a",Y),Y},U.o=function(W,Y){return Object.prototype.hasOwnProperty.call(W,Y)},U.p="/",U(U.s=25)}([function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),Object.defineProperty(R,"withParams",{enumerable:!0,get:function(){return Y.default}}),R.regex=R.ref=R.len=R.req=void 0;var W,Y=(W=U(23))&&W.__esModule?W:{default:W};function G(K){return(G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(K)}var X=function(K){if(Array.isArray(K))return!!K.length;if(K==null)return!1;if(K===!1)return!0;if(K instanceof Date)return!isNaN(K.getTime());if(G(K)==="object"){for(var Z in K)return!0;return!1}return!!String(K).length};R.req=X,R.len=function(K){return Array.isArray(K)?K.length:G(K)==="object"?Object.keys(K).length:String(K).length},R.ref=function(K,Z,J){return typeof K=="function"?K.call(Z,J):J[K]},R.regex=function(K,Z){return(0,Y.default)({type:K},function(J){return!X(J)||Z.test(J)})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=(0,U(0).regex)("decimal",/^[-]?\d*(\.\d+)?$/);R.default=W},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=(0,U(0).regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);R.default=W},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(Y){return(0,W.withParams)({type:"maxValue",max:Y},function(G){return!(0,W.req)(G)||(!/\s/.test(G)||G instanceof Date)&&+G<=+Y})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(Y){return(0,W.withParams)({type:"minValue",min:Y},function(G){return!(0,W.req)(G)||(!/\s/.test(G)||G instanceof Date)&&+G>=+Y})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(Y){return(0,W.withParams)({type:"not"},function(G,X){return!(0,W.req)(G)||!Y.call(this,G,X)})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(){for(var Y=arguments.length,G=new Array(Y),X=0;X<Y;X++)G[X]=arguments[X];return(0,W.withParams)({type:"and"},function(){for(var K=this,Z=arguments.length,J=new Array(Z),Q=0;Q<Z;Q++)J[Q]=arguments[Q];return G.length>0&&G.reduce(function(ee,te){return ee&&te.apply(K,J)},!0)})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(){for(var Y=arguments.length,G=new Array(Y),X=0;X<Y;X++)G[X]=arguments[X];return(0,W.withParams)({type:"or"},function(){for(var K=this,Z=arguments.length,J=new Array(Z),Q=0;Q<Z;Q++)J[Q]=arguments[Q];return G.length>0&&G.reduce(function(ee,te){return ee||te.apply(K,J)},!1)})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=(0,U(0).regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);R.default=W},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(Y){return(0,W.withParams)({type:"sameAs",eq:Y},function(G,X){return G===(0,W.ref)(Y,this,X)})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(Y){return(0,W.withParams)({type:"requiredUnless",prop:Y},function(G,X){return!!(0,W.ref)(Y,this,X)||(0,W.req)(G)})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(Y){return(0,W.withParams)({type:"requiredIf",prop:Y},function(G,X){return!(0,W.ref)(Y,this,X)||(0,W.req)(G)})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0),Y=(0,W.withParams)({type:"required"},function(G){return typeof G=="string"?(0,W.req)(G.trim()):(0,W.req)(G)});R.default=Y},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(Y){return(0,W.withParams)({type:"minLength",min:Y},function(G){return!(0,W.req)(G)||(0,W.len)(G)>=Y})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(Y){return(0,W.withParams)({type:"maxLength",max:Y},function(G){return!(0,W.req)(G)||(0,W.len)(G)<=Y})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:":";return(0,W.withParams)({type:"macAddress"},function(X){if(!(0,W.req)(X))return!0;if(typeof X!="string")return!1;var K=typeof G=="string"&&G!==""?X.split(G):X.length===12||X.length===16?X.match(/.{2}/g):null;return K!==null&&(K.length===6||K.length===8)&&K.every(Y)})};var Y=function(G){return G.toLowerCase().match(/^[0-9a-f]{2}$/)}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0),Y=(0,W.withParams)({type:"ipAddress"},function(X){if(!(0,W.req)(X))return!0;if(typeof X!="string")return!1;var K=X.split(".");return K.length===4&&K.every(G)});R.default=Y;var G=function(X){if(X.length>3||X.length===0||X[0]==="0"&&X!=="0"||!X.match(/^\d+$/))return!1;var K=0|+X;return K>=0&&K<=255}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=(0,U(0).regex)("email",/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/);R.default=W},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(0);R.default=function(Y,G){return(0,W.withParams)({type:"between",min:Y,max:G},function(X){return!(0,W.req)(X)||(!/\s/.test(X)||X instanceof Date)&&+Y<=+X&&+G>=+X})}},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=(0,U(0).regex)("numeric",/^[0-9]*$/);R.default=W},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=(0,U(0).regex)("alphaNum",/^[a-zA-Z0-9]*$/);R.default=W},function(F,R){var U;U=function(){return this}();try{U=U||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(U=window)}F.exports=U},function(F,R,U){(function(W){function Y(K){return(Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(K)}Object.defineProperty(R,"__esModule",{value:!0}),R.withParams=void 0;var G=typeof window<"u"?window:W!==void 0?W:{},X=G.vuelidate?G.vuelidate.withParams:function(K,Z){return Y(K)==="object"&&Z!==void 0?Z:K(function(){})};R.withParams=X}).call(this,U(21))},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=U(22).withParams;R.default=W},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var W=(0,U(0).regex)("alpha",/^[a-zA-Z]*$/);R.default=W},function(F,R,U){Object.defineProperty(R,"__esModule",{value:!0}),Object.defineProperty(R,"alpha",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(R,"alphaNum",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(R,"numeric",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(R,"between",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(R,"email",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(R,"ipAddress",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(R,"macAddress",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(R,"maxLength",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(R,"minLength",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(R,"required",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(R,"requiredIf",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(R,"requiredUnless",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(R,"sameAs",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(R,"url",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(R,"or",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(R,"and",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(R,"not",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(R,"minValue",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(R,"maxValue",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(R,"integer",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(R,"decimal",{enumerable:!0,get:function(){return me.default}}),R.helpers=void 0;var W=we(U(24)),Y=we(U(20)),G=we(U(19)),X=we(U(18)),K=we(U(17)),Z=we(U(16)),J=we(U(15)),Q=we(U(14)),ee=we(U(13)),te=we(U(12)),ie=we(U(11)),re=we(U(10)),ne=we(U(9)),ae=we(U(8)),se=we(U(7)),le=we(U(6)),oe=we(U(5)),ue=we(U(4)),ce=we(U(3)),he=we(U(2)),me=we(U(1)),Pe=function(fe){if(fe&&fe.__esModule)return fe;var ye={};if(fe!=null){for(var _e in fe)if(Object.prototype.hasOwnProperty.call(fe,_e)){var ve=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(fe,_e):{};ve.get||ve.set?Object.defineProperty(ye,_e,ve):ye[_e]=fe[_e]}}return ye.default=fe,ye}(U(0));function we(fe){return fe&&fe.__esModule?fe:{default:fe}}R.helpers=Pe}])})})(validators_min);const updateEntityMixin={data(){return{controlsDisabled:!1}},computed:{isModeUpdate(){return!!this.editedItem}},created(){this.editedItem&&(this.model={...this.model,...this.editedItem})},beforeDestroy(){this.close()},methods:{submit(V){this.$v.$touch(),this.$v.$invalid||(this.controlsDisabled=!0,this.$store.dispatch(`${V}/update`,this.model).then(()=>{this.close()}).finally(()=>{this.controlsDisabled=!1}))},remove(V){confirm(this.$t("deleteWarning",{type:this.$t("categories")}))&&(this.controlsDisabled=!0,this.$store.dispatch(`${V}/delete`,this.model.id).then(()=>{this.close()}).finally(()=>{this.controlsDisabled=!1}))},close(){this.$parent.$emit("close")}}};/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */var numberFormatKeys=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],dateTimeFormatKeys=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function warn$3(V,E){typeof console<"u"&&(console.warn("[vue-i18n] "+V),E&&console.warn(E.stack))}function error$2(V,E){typeof console<"u"&&(console.error("[vue-i18n] "+V),E&&console.error(E.stack))}var isArray$4=Array.isArray;function isObject$b(V){return V!==null&&typeof V=="object"}function isBoolean$1(V){return typeof V=="boolean"}function isString$5(V){return typeof V=="string"}var toString$3=Object.prototype.toString,OBJECT_STRING="[object Object]";function isPlainObject$1(V){return toString$3.call(V)===OBJECT_STRING}function isNull(V){return V==null}function isFunction$3(V){return typeof V=="function"}function parseArgs(){for(var V=[],E=arguments.length;E--;)V[E]=arguments[E];var F=null,R=null;return V.length===1?isObject$b(V[0])||isArray$4(V[0])?R=V[0]:typeof V[0]=="string"&&(F=V[0]):V.length===2&&(typeof V[0]=="string"&&(F=V[0]),(isObject$b(V[1])||isArray$4(V[1]))&&(R=V[1])),{locale:F,params:R}}function looseClone(V){return JSON.parse(JSON.stringify(V))}function remove$1(V,E){if(V.delete(E))return V}function arrayFrom(V){var E=[];return V.forEach(function(F){return E.push(F)}),E}function includes$1(V,E){return!!~V.indexOf(E)}var hasOwnProperty$2=Object.prototype.hasOwnProperty;function hasOwn(V,E){return hasOwnProperty$2.call(V,E)}function merge$3(V){for(var E=arguments,F=Object(V),R=1;R<arguments.length;R++){var U=E[R];if(U!=null){var W=void 0;for(W in U)hasOwn(U,W)&&(isObject$b(U[W])?F[W]=merge$3(F[W],U[W]):F[W]=U[W])}}return F}function looseEqual(V,E){if(V===E)return!0;var F=isObject$b(V),R=isObject$b(E);if(F&&R)try{var U=isArray$4(V),W=isArray$4(E);if(U&&W)return V.length===E.length&&V.every(function(X,K){return looseEqual(X,E[K])});if(!U&&!W){var Y=Object.keys(V),G=Object.keys(E);return Y.length===G.length&&Y.every(function(X){return looseEqual(V[X],E[X])})}else return!1}catch{return!1}else return!F&&!R?String(V)===String(E):!1}function escapeHtml(V){return V.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function escapeParams(V){return V!=null&&Object.keys(V).forEach(function(E){typeof V[E]=="string"&&(V[E]=escapeHtml(V[E]))}),V}function extend$3(V){V.prototype.hasOwnProperty("$i18n")||Object.defineProperty(V.prototype,"$i18n",{get:function(){return this._i18n}}),V.prototype.$t=function(E){for(var F=[],R=arguments.length-1;R-- >0;)F[R]=arguments[R+1];var U=this.$i18n;return U._t.apply(U,[E,U.locale,U._getMessages(),this].concat(F))},V.prototype.$tc=function(E,F){for(var R=[],U=arguments.length-2;U-- >0;)R[U]=arguments[U+2];var W=this.$i18n;return W._tc.apply(W,[E,W.locale,W._getMessages(),this,F].concat(R))},V.prototype.$te=function(E,F){var R=this.$i18n;return R._te(E,R.locale,R._getMessages(),F)},V.prototype.$d=function(E){for(var F,R=[],U=arguments.length-1;U-- >0;)R[U]=arguments[U+1];return(F=this.$i18n).d.apply(F,[E].concat(R))},V.prototype.$n=function(E){for(var F,R=[],U=arguments.length-1;U-- >0;)R[U]=arguments[U+1];return(F=this.$i18n).n.apply(F,[E].concat(R))}}function defineMixin(V){V===void 0&&(V=!1);function E(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return V?{mounted:E}:{beforeCreate:function(){var R=this.$options;if(R.i18n=R.i18n||(R.__i18nBridge||R.__i18n?{}:null),R.i18n){if(R.i18n instanceof VueI18n){if(R.__i18nBridge||R.__i18n)try{var U=R.i18n&&R.i18n.messages?R.i18n.messages:{},W=R.__i18nBridge||R.__i18n;W.forEach(function(J){U=merge$3(U,JSON.parse(J))}),Object.keys(U).forEach(function(J){R.i18n.mergeLocaleMessage(J,U[J])})}catch{}this._i18n=R.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(isPlainObject$1(R.i18n)){var Y=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof VueI18n?this.$root.$i18n:null;if(Y&&(R.i18n.root=this.$root,R.i18n.formatter=Y.formatter,R.i18n.fallbackLocale=Y.fallbackLocale,R.i18n.formatFallbackMessages=Y.formatFallbackMessages,R.i18n.silentTranslationWarn=Y.silentTranslationWarn,R.i18n.silentFallbackWarn=Y.silentFallbackWarn,R.i18n.pluralizationRules=Y.pluralizationRules,R.i18n.preserveDirectiveContent=Y.preserveDirectiveContent),R.__i18nBridge||R.__i18n)try{var G=R.i18n&&R.i18n.messages?R.i18n.messages:{},X=R.__i18nBridge||R.__i18n;X.forEach(function(J){G=merge$3(G,JSON.parse(J))}),R.i18n.messages=G}catch{}var K=R.i18n,Z=K.sharedMessages;Z&&isPlainObject$1(Z)&&(R.i18n.messages=merge$3(R.i18n.messages,Z)),this._i18n=new VueI18n(R.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(R.i18n.sync===void 0||!!R.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),Y&&Y.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof VueI18n?this._i18n=this.$root.$i18n:R.parent&&R.parent.$i18n&&R.parent.$i18n instanceof VueI18n&&(this._i18n=R.parent.$i18n)},beforeMount:function(){var R=this.$options;R.i18n=R.i18n||(R.__i18nBridge||R.__i18n?{}:null),R.i18n?R.i18n instanceof VueI18n?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):isPlainObject$1(R.i18n)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof VueI18n?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):R.parent&&R.parent.$i18n&&R.parent.$i18n instanceof VueI18n&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:E,beforeDestroy:function(){if(!!this._i18n){var R=this;this.$nextTick(function(){R._subscribing&&(R._i18n.unsubscribeDataChanging(R),delete R._subscribing),R._i18nWatcher&&(R._i18nWatcher(),R._i18n.destroyVM(),delete R._i18nWatcher),R._localeWatcher&&(R._localeWatcher(),delete R._localeWatcher)})}}}}var interpolationComponent={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(E,F){var R=F.data,U=F.parent,W=F.props,Y=F.slots,G=U.$i18n;if(!!G){var X=W.path,K=W.locale,Z=W.places,J=Y(),Q=G.i(X,K,onlyHasDefaultPlace(J)||Z?useLegacyPlaces(J.default,Z):J),ee=!!W.tag&&W.tag!==!0||W.tag===!1?W.tag:"span";return ee?E(ee,R,Q):Q}}};function onlyHasDefaultPlace(V){var E;for(E in V)if(E!=="default")return!1;return Boolean(E)}function useLegacyPlaces(V,E){var F=E?createParamsFromPlaces(E):{};if(!V)return F;V=V.filter(function(U){return U.tag||U.text.trim()!==""});var R=V.every(vnodeHasPlaceAttribute);return V.reduce(R?assignChildPlace:assignChildIndex,F)}function createParamsFromPlaces(V){return Array.isArray(V)?V.reduce(assignChildIndex,{}):Object.assign({},V)}function assignChildPlace(V,E){return E.data&&E.data.attrs&&E.data.attrs.place&&(V[E.data.attrs.place]=E),V}function assignChildIndex(V,E,F){return V[F]=E,V}function vnodeHasPlaceAttribute(V){return Boolean(V.data&&V.data.attrs&&V.data.attrs.place)}var numberComponent={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(E,F){var R=F.props,U=F.parent,W=F.data,Y=U.$i18n;if(!Y)return null;var G=null,X=null;isString$5(R.format)?G=R.format:isObject$b(R.format)&&(R.format.key&&(G=R.format.key),X=Object.keys(R.format).reduce(function(ee,te){var ie;return includes$1(numberFormatKeys,te)?Object.assign({},ee,(ie={},ie[te]=R.format[te],ie)):ee},null));var K=R.locale||Y.locale,Z=Y._ntp(R.value,K,G,X),J=Z.map(function(ee,te){var ie,re=W.scopedSlots&&W.scopedSlots[ee.type];return re?re((ie={},ie[ee.type]=ee.value,ie.index=te,ie.parts=Z,ie)):ee.value}),Q=!!R.tag&&R.tag!==!0||R.tag===!1?R.tag:"span";return Q?E(Q,{attrs:W.attrs,class:W.class,staticClass:W.staticClass},J):J}};function bind$1(V,E,F){!assert(V,F)||t$1(V,E,F)}function update$3(V,E,F,R){if(!!assert(V,F)){var U=F.context.$i18n;localeEqual(V,F)&&looseEqual(E.value,E.oldValue)&&looseEqual(V._localeMessage,U.getLocaleMessage(U.locale))||t$1(V,E,F)}}function unbind(V,E,F,R){var U=F.context;if(!U){warn$3("Vue instance does not exists in VNode context");return}var W=F.context.$i18n||{};!E.modifiers.preserve&&!W.preserveDirectiveContent&&(V.textContent=""),V._vt=void 0,delete V._vt,V._locale=void 0,delete V._locale,V._localeMessage=void 0,delete V._localeMessage}function assert(V,E){var F=E.context;return F?F.$i18n?!0:(warn$3("VueI18n instance does not exists in Vue instance"),!1):(warn$3("Vue instance does not exists in VNode context"),!1)}function localeEqual(V,E){var F=E.context;return V._locale===F.$i18n.locale}function t$1(V,E,F){var R,U,W=E.value,Y=parseValue(W),G=Y.path,X=Y.locale,K=Y.args,Z=Y.choice;if(!G&&!X&&!K){warn$3("value type not supported");return}if(!G){warn$3("`path` is required in v-t directive");return}var J=F.context;Z!=null?V._vt=V.textContent=(R=J.$i18n).tc.apply(R,[G,Z].concat(makeParams(X,K))):V._vt=V.textContent=(U=J.$i18n).t.apply(U,[G].concat(makeParams(X,K))),V._locale=J.$i18n.locale,V._localeMessage=J.$i18n.getLocaleMessage(J.$i18n.locale)}function parseValue(V){var E,F,R,U;return isString$5(V)?E=V:isPlainObject$1(V)&&(E=V.path,F=V.locale,R=V.args,U=V.choice),{path:E,locale:F,args:R,choice:U}}function makeParams(V,E){var F=[];return V&&F.push(V),E&&(Array.isArray(E)||isPlainObject$1(E))&&F.push(E),F}var Vue$1;function install$4(V,E){E===void 0&&(E={bridge:!1}),install$4.installed=!0,Vue$1=V,Vue$1.version&&Number(Vue$1.version.split(".")[0]),extend$3(Vue$1),Vue$1.mixin(defineMixin(E.bridge)),Vue$1.directive("t",{bind:bind$1,update:update$3,unbind}),Vue$1.component(interpolationComponent.name,interpolationComponent),Vue$1.component(numberComponent.name,numberComponent);var F=Vue$1.config.optionMergeStrategies;F.i18n=function(R,U){return U===void 0?R:U}}var BaseFormatter=function(){this._caches=Object.create(null)};BaseFormatter.prototype.interpolate=function(E,F){if(!F)return[E];var R=this._caches[E];return R||(R=parse$1(E),this._caches[E]=R),compile$1(R,F)};var RE_TOKEN_LIST_VALUE=/^(?:\d)+/,RE_TOKEN_NAMED_VALUE=/^(?:\w)+/;function parse$1(V){for(var E=[],F=0,R="";F<V.length;){var U=V[F++];if(U==="{"){R&&E.push({type:"text",value:R}),R="";var W="";for(U=V[F++];U!==void 0&&U!=="}";)W+=U,U=V[F++];var Y=U==="}",G=RE_TOKEN_LIST_VALUE.test(W)?"list":Y&&RE_TOKEN_NAMED_VALUE.test(W)?"named":"unknown";E.push({value:W,type:G})}else U==="%"?V[F]!=="{"&&(R+=U):R+=U}return R&&E.push({type:"text",value:R}),E}function compile$1(V,E){var F=[],R=0,U=Array.isArray(E)?"list":isObject$b(E)?"named":"unknown";if(U==="unknown")return F;for(;R<V.length;){var W=V[R];switch(W.type){case"text":F.push(W.value);break;case"list":F.push(E[parseInt(W.value,10)]);break;case"named":U==="named"&&F.push(E[W.value]);break}R++}return F}var APPEND=0,PUSH=1,INC_SUB_PATH_DEPTH=2,PUSH_SUB_PATH=3,BEFORE_PATH=0,IN_PATH=1,BEFORE_IDENT=2,IN_IDENT=3,IN_SUB_PATH=4,IN_SINGLE_QUOTE=5,IN_DOUBLE_QUOTE=6,AFTER_PATH=7,ERROR=8,pathStateMachine=[];pathStateMachine[BEFORE_PATH]={ws:[BEFORE_PATH],ident:[IN_IDENT,APPEND],"[":[IN_SUB_PATH],eof:[AFTER_PATH]};pathStateMachine[IN_PATH]={ws:[IN_PATH],".":[BEFORE_IDENT],"[":[IN_SUB_PATH],eof:[AFTER_PATH]};pathStateMachine[BEFORE_IDENT]={ws:[BEFORE_IDENT],ident:[IN_IDENT,APPEND],0:[IN_IDENT,APPEND],number:[IN_IDENT,APPEND]};pathStateMachine[IN_IDENT]={ident:[IN_IDENT,APPEND],0:[IN_IDENT,APPEND],number:[IN_IDENT,APPEND],ws:[IN_PATH,PUSH],".":[BEFORE_IDENT,PUSH],"[":[IN_SUB_PATH,PUSH],eof:[AFTER_PATH,PUSH]};pathStateMachine[IN_SUB_PATH]={"'":[IN_SINGLE_QUOTE,APPEND],'"':[IN_DOUBLE_QUOTE,APPEND],"[":[IN_SUB_PATH,INC_SUB_PATH_DEPTH],"]":[IN_PATH,PUSH_SUB_PATH],eof:ERROR,else:[IN_SUB_PATH,APPEND]};pathStateMachine[IN_SINGLE_QUOTE]={"'":[IN_SUB_PATH,APPEND],eof:ERROR,else:[IN_SINGLE_QUOTE,APPEND]};pathStateMachine[IN_DOUBLE_QUOTE]={'"':[IN_SUB_PATH,APPEND],eof:ERROR,else:[IN_DOUBLE_QUOTE,APPEND]};var literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(V){return literalValueRE.test(V)}function stripQuotes(V){var E=V.charCodeAt(0),F=V.charCodeAt(V.length-1);return E===F&&(E===34||E===39)?V.slice(1,-1):V}function getPathCharType(V){if(V==null)return"eof";var E=V.charCodeAt(0);switch(E){case 91:case 93:case 46:case 34:case 39:return V;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function formatSubPath(V){var E=V.trim();return V.charAt(0)==="0"&&isNaN(V)?!1:isLiteral(E)?stripQuotes(E):"*"+E}function parse$1$1(V){var E=[],F=-1,R=BEFORE_PATH,U=0,W,Y,G,X,K,Z,J,Q=[];Q[PUSH]=function(){Y!==void 0&&(E.push(Y),Y=void 0)},Q[APPEND]=function(){Y===void 0?Y=G:Y+=G},Q[INC_SUB_PATH_DEPTH]=function(){Q[APPEND](),U++},Q[PUSH_SUB_PATH]=function(){if(U>0)U--,R=IN_SUB_PATH,Q[APPEND]();else{if(U=0,Y===void 0||(Y=formatSubPath(Y),Y===!1))return!1;Q[PUSH]()}};function ee(){var te=V[F+1];if(R===IN_SINGLE_QUOTE&&te==="'"||R===IN_DOUBLE_QUOTE&&te==='"')return F++,G="\\"+te,Q[APPEND](),!0}for(;R!==null;)if(F++,W=V[F],!(W==="\\"&&ee())){if(X=getPathCharType(W),J=pathStateMachine[R],K=J[X]||J.else||ERROR,K===ERROR||(R=K[0],Z=Q[K[1]],Z&&(G=K[2],G=G===void 0?W:G,Z()===!1)))return;if(R===AFTER_PATH)return E}}var I18nPath=function(){this._cache=Object.create(null)};I18nPath.prototype.parsePath=function(E){var F=this._cache[E];return F||(F=parse$1$1(E),F&&(this._cache[E]=F)),F||[]};I18nPath.prototype.getPathValue=function(E,F){if(!isObject$b(E))return null;var R=this.parsePath(F);if(R.length===0)return null;for(var U=R.length,W=E,Y=0;Y<U;){var G=W[R[Y]];if(G==null)return null;W=G,Y++}return W};var htmlTagMatcher=/<\/?[\w\s="/.':;#-\/]+>/,linkKeyMatcher=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,linkKeyPrefixMatcher=/^@(?:\.([a-zA-Z]+))?:/,bracketsMatcher=/[()]/g,defaultModifiers={upper:function(V){return V.toLocaleUpperCase()},lower:function(V){return V.toLocaleLowerCase()},capitalize:function(V){return""+V.charAt(0).toLocaleUpperCase()+V.substr(1)}},defaultFormatter=new BaseFormatter,VueI18n=function(E){var F=this;E===void 0&&(E={}),!Vue$1&&typeof window<"u"&&window.Vue&&install$4(window.Vue);var R=E.locale||"en-US",U=E.fallbackLocale===!1?!1:E.fallbackLocale||"en-US",W=E.messages||{},Y=E.dateTimeFormats||E.datetimeFormats||{},G=E.numberFormats||{};this._vm=null,this._formatter=E.formatter||defaultFormatter,this._modifiers=E.modifiers||{},this._missing=E.missing||null,this._root=E.root||null,this._sync=E.sync===void 0?!0:!!E.sync,this._fallbackRoot=E.fallbackRoot===void 0?!0:!!E.fallbackRoot,this._fallbackRootWithEmptyString=E.fallbackRootWithEmptyString===void 0?!0:!!E.fallbackRootWithEmptyString,this._formatFallbackMessages=E.formatFallbackMessages===void 0?!1:!!E.formatFallbackMessages,this._silentTranslationWarn=E.silentTranslationWarn===void 0?!1:E.silentTranslationWarn,this._silentFallbackWarn=E.silentFallbackWarn===void 0?!1:!!E.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new I18nPath,this._dataListeners=new Set,this._componentInstanceCreatedListener=E.componentInstanceCreatedListener||null,this._preserveDirectiveContent=E.preserveDirectiveContent===void 0?!1:!!E.preserveDirectiveContent,this.pluralizationRules=E.pluralizationRules||{},this._warnHtmlInMessage=E.warnHtmlInMessage||"off",this._postTranslation=E.postTranslation||null,this._escapeParameterHtml=E.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in E&&(this.__VUE_I18N_BRIDGE__=E.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(X,K){var Z=Object.getPrototypeOf(F);if(Z&&Z.getChoiceIndex){var J=Z.getChoiceIndex;return J.call(F,X,K)}var Q=function(ee,te){return ee=Math.abs(ee),te===2?ee?ee>1?1:0:1:ee?Math.min(ee,2):0};return F.locale in F.pluralizationRules?F.pluralizationRules[F.locale].apply(F,[X,K]):Q(X,K)},this._exist=function(X,K){return!X||!K?!1:!!(!isNull(F._path.getPathValue(X,K))||X[K])},(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&Object.keys(W).forEach(function(X){F._checkLocaleMessage(X,F._warnHtmlInMessage,W[X])}),this._initVM({locale:R,fallbackLocale:U,messages:W,dateTimeFormats:Y,numberFormats:G})},prototypeAccessors$3={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};VueI18n.prototype._checkLocaleMessage=function(E,F,R){var U=[],W=function(Y,G,X,K){if(isPlainObject$1(X))Object.keys(X).forEach(function(Q){var ee=X[Q];isPlainObject$1(ee)?(K.push(Q),K.push("."),W(Y,G,ee,K),K.pop(),K.pop()):(K.push(Q),W(Y,G,ee,K),K.pop())});else if(isArray$4(X))X.forEach(function(Q,ee){isPlainObject$1(Q)?(K.push("["+ee+"]"),K.push("."),W(Y,G,Q,K),K.pop(),K.pop()):(K.push("["+ee+"]"),W(Y,G,Q,K),K.pop())});else if(isString$5(X)){var Z=htmlTagMatcher.test(X);if(Z){var J="Detected HTML in message '"+X+"' of keypath '"+K.join("")+"' at '"+G+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";Y==="warn"?warn$3(J):Y==="error"&&error$2(J)}}};W(F,E,R,U)};VueI18n.prototype._initVM=function(E){var F=Vue$1.config.silent;Vue$1.config.silent=!0,this._vm=new Vue$1({data:E,__VUE18N__INSTANCE__:!0}),Vue$1.config.silent=F};VueI18n.prototype.destroyVM=function(){this._vm.$destroy()};VueI18n.prototype.subscribeDataChanging=function(E){this._dataListeners.add(E)};VueI18n.prototype.unsubscribeDataChanging=function(E){remove$1(this._dataListeners,E)};VueI18n.prototype.watchI18nData=function(){var E=this;return this._vm.$watch("$data",function(){for(var F=arrayFrom(E._dataListeners),R=F.length;R--;)Vue$1.nextTick(function(){F[R]&&F[R].$forceUpdate()})},{deep:!0})};VueI18n.prototype.watchLocale=function(E){if(E){if(!this.__VUE_I18N_BRIDGE__)return null;var R=this,U=this._vm;return this.vm.$watch("locale",function(W){U.$set(U,"locale",W),R.__VUE_I18N_BRIDGE__&&E&&(E.locale.value=W),U.$forceUpdate()},{immediate:!0})}else{if(!this._sync||!this._root)return null;var F=this._vm;return this._root.$i18n.vm.$watch("locale",function(W){F.$set(F,"locale",W),F.$forceUpdate()},{immediate:!0})}};VueI18n.prototype.onComponentInstanceCreated=function(E){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(E,this)};prototypeAccessors$3.vm.get=function(){return this._vm};prototypeAccessors$3.messages.get=function(){return looseClone(this._getMessages())};prototypeAccessors$3.dateTimeFormats.get=function(){return looseClone(this._getDateTimeFormats())};prototypeAccessors$3.numberFormats.get=function(){return looseClone(this._getNumberFormats())};prototypeAccessors$3.availableLocales.get=function(){return Object.keys(this.messages).sort()};prototypeAccessors$3.locale.get=function(){return this._vm.locale};prototypeAccessors$3.locale.set=function(V){this._vm.$set(this._vm,"locale",V)};prototypeAccessors$3.fallbackLocale.get=function(){return this._vm.fallbackLocale};prototypeAccessors$3.fallbackLocale.set=function(V){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",V)};prototypeAccessors$3.formatFallbackMessages.get=function(){return this._formatFallbackMessages};prototypeAccessors$3.formatFallbackMessages.set=function(V){this._formatFallbackMessages=V};prototypeAccessors$3.missing.get=function(){return this._missing};prototypeAccessors$3.missing.set=function(V){this._missing=V};prototypeAccessors$3.formatter.get=function(){return this._formatter};prototypeAccessors$3.formatter.set=function(V){this._formatter=V};prototypeAccessors$3.silentTranslationWarn.get=function(){return this._silentTranslationWarn};prototypeAccessors$3.silentTranslationWarn.set=function(V){this._silentTranslationWarn=V};prototypeAccessors$3.silentFallbackWarn.get=function(){return this._silentFallbackWarn};prototypeAccessors$3.silentFallbackWarn.set=function(V){this._silentFallbackWarn=V};prototypeAccessors$3.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent};prototypeAccessors$3.preserveDirectiveContent.set=function(V){this._preserveDirectiveContent=V};prototypeAccessors$3.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage};prototypeAccessors$3.warnHtmlInMessage.set=function(V){var E=this,F=this._warnHtmlInMessage;if(this._warnHtmlInMessage=V,F!==V&&(V==="warn"||V==="error")){var R=this._getMessages();Object.keys(R).forEach(function(U){E._checkLocaleMessage(U,E._warnHtmlInMessage,R[U])})}};prototypeAccessors$3.postTranslation.get=function(){return this._postTranslation};prototypeAccessors$3.postTranslation.set=function(V){this._postTranslation=V};prototypeAccessors$3.sync.get=function(){return this._sync};prototypeAccessors$3.sync.set=function(V){this._sync=V};VueI18n.prototype._getMessages=function(){return this._vm.messages};VueI18n.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats};VueI18n.prototype._getNumberFormats=function(){return this._vm.numberFormats};VueI18n.prototype._warnDefault=function(E,F,R,U,W,Y){if(!isNull(R))return R;if(this._missing){var G=this._missing.apply(null,[E,F,U,W]);if(isString$5(G))return G}if(this._formatFallbackMessages){var X=parseArgs.apply(void 0,W);return this._render(F,Y,X.params,F)}else return F};VueI18n.prototype._isFallbackRoot=function(E){return(this._fallbackRootWithEmptyString?!E:isNull(E))&&!isNull(this._root)&&this._fallbackRoot};VueI18n.prototype._isSilentFallbackWarn=function(E){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(E):this._silentFallbackWarn};VueI18n.prototype._isSilentFallback=function(E,F){return this._isSilentFallbackWarn(F)&&(this._isFallbackRoot()||E!==this.fallbackLocale)};VueI18n.prototype._isSilentTranslationWarn=function(E){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(E):this._silentTranslationWarn};VueI18n.prototype._interpolate=function(E,F,R,U,W,Y,G){if(!F)return null;var X=this._path.getPathValue(F,R);if(isArray$4(X)||isPlainObject$1(X))return X;var K;if(isNull(X))if(isPlainObject$1(F)){if(K=F[R],!(isString$5(K)||isFunction$3(K)))return null}else return null;else if(isString$5(X)||isFunction$3(X))K=X;else return null;return isString$5(K)&&(K.indexOf("@:")>=0||K.indexOf("@.")>=0)&&(K=this._link(E,F,K,U,"raw",Y,G)),this._render(K,W,Y,R)};VueI18n.prototype._link=function(E,F,R,U,W,Y,G){var X=R,K=X.match(linkKeyMatcher);for(var Z in K)if(!!K.hasOwnProperty(Z)){var J=K[Z],Q=J.match(linkKeyPrefixMatcher),ee=Q[0],te=Q[1],ie=J.replace(ee,"").replace(bracketsMatcher,"");if(includes$1(G,ie))return X;G.push(ie);var re=this._interpolate(E,F,ie,U,W==="raw"?"string":W,W==="raw"?void 0:Y,G);if(this._isFallbackRoot(re)){if(!this._root)throw Error("unexpected error");var ne=this._root.$i18n;re=ne._translate(ne._getMessages(),ne.locale,ne.fallbackLocale,ie,U,W,Y)}re=this._warnDefault(E,ie,re,U,isArray$4(Y)?Y:[Y],W),this._modifiers.hasOwnProperty(te)?re=this._modifiers[te](re):defaultModifiers.hasOwnProperty(te)&&(re=defaultModifiers[te](re)),G.pop(),X=re?X.replace(J,re):X}return X};VueI18n.prototype._createMessageContext=function(E,F,R,U){var W=this,Y=isArray$4(E)?E:[],G=isObject$b(E)?E:{},X=function(Q){return Y[Q]},K=function(Q){return G[Q]},Z=this._getMessages(),J=this.locale;return{list:X,named:K,values:E,formatter:F,path:R,messages:Z,locale:J,linked:function(Q){return W._interpolate(J,Z[J]||{},Q,null,U,void 0,[Q])}}};VueI18n.prototype._render=function(E,F,R,U){if(isFunction$3(E))return E(this._createMessageContext(R,this._formatter||defaultFormatter,U,F));var W=this._formatter.interpolate(E,R,U);return W||(W=defaultFormatter.interpolate(E,R,U)),F==="string"&&!isString$5(W)?W.join(""):W};VueI18n.prototype._appendItemToChain=function(E,F,R){var U=!1;return includes$1(E,F)||(U=!0,F&&(U=F[F.length-1]!=="!",F=F.replace(/!/g,""),E.push(F),R&&R[F]&&(U=R[F]))),U};VueI18n.prototype._appendLocaleToChain=function(E,F,R){var U,W=F.split("-");do{var Y=W.join("-");U=this._appendItemToChain(E,Y,R),W.splice(-1,1)}while(W.length&&U===!0);return U};VueI18n.prototype._appendBlockToChain=function(E,F,R){for(var U=!0,W=0;W<F.length&&isBoolean$1(U);W++){var Y=F[W];isString$5(Y)&&(U=this._appendLocaleToChain(E,Y,R))}return U};VueI18n.prototype._getLocaleChain=function(E,F){if(E==="")return[];this._localeChainCache||(this._localeChainCache={});var R=this._localeChainCache[E];if(!R){F||(F=this.fallbackLocale),R=[];for(var U=[E];isArray$4(U);)U=this._appendBlockToChain(R,U,F);var W;isArray$4(F)?W=F:isObject$b(F)?F.default?W=F.default:W=null:W=F,isString$5(W)?U=[W]:U=W,U&&this._appendBlockToChain(R,U,null),this._localeChainCache[E]=R}return R};VueI18n.prototype._translate=function(E,F,R,U,W,Y,G){for(var X=this._getLocaleChain(F,R),K,Z=0;Z<X.length;Z++){var J=X[Z];if(K=this._interpolate(J,E[J],U,W,Y,G,[U]),!isNull(K))return K}return null};VueI18n.prototype._t=function(E,F,R,U){for(var W,Y=[],G=arguments.length-4;G-- >0;)Y[G]=arguments[G+4];if(!E)return"";var X=parseArgs.apply(void 0,Y);this._escapeParameterHtml&&(X.params=escapeParams(X.params));var K=X.locale||F,Z=this._translate(R,K,this.fallbackLocale,E,U,"string",X.params);if(this._isFallbackRoot(Z)){if(!this._root)throw Error("unexpected error");return(W=this._root).$t.apply(W,[E].concat(Y))}else return Z=this._warnDefault(K,E,Z,U,Y,"string"),this._postTranslation&&Z!==null&&Z!==void 0&&(Z=this._postTranslation(Z,E)),Z};VueI18n.prototype.t=function(E){for(var F,R=[],U=arguments.length-1;U-- >0;)R[U]=arguments[U+1];return(F=this)._t.apply(F,[E,this.locale,this._getMessages(),null].concat(R))};VueI18n.prototype._i=function(E,F,R,U,W){var Y=this._translate(R,F,this.fallbackLocale,E,U,"raw",W);if(this._isFallbackRoot(Y)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(E,F,W)}else return this._warnDefault(F,E,Y,U,[W],"raw")};VueI18n.prototype.i=function(E,F,R){return E?(isString$5(F)||(F=this.locale),this._i(E,F,this._getMessages(),null,R)):""};VueI18n.prototype._tc=function(E,F,R,U,W){for(var Y,G=[],X=arguments.length-5;X-- >0;)G[X]=arguments[X+5];if(!E)return"";W===void 0&&(W=1);var K={count:W,n:W},Z=parseArgs.apply(void 0,G);return Z.params=Object.assign(K,Z.params),G=Z.locale===null?[Z.params]:[Z.locale,Z.params],this.fetchChoice((Y=this)._t.apply(Y,[E,F,R,U].concat(G)),W)};VueI18n.prototype.fetchChoice=function(E,F){if(!E||!isString$5(E))return null;var R=E.split("|");return F=this.getChoiceIndex(F,R.length),R[F]?R[F].trim():E};VueI18n.prototype.tc=function(E,F){for(var R,U=[],W=arguments.length-2;W-- >0;)U[W]=arguments[W+2];return(R=this)._tc.apply(R,[E,this.locale,this._getMessages(),null,F].concat(U))};VueI18n.prototype._te=function(E,F,R){for(var U=[],W=arguments.length-3;W-- >0;)U[W]=arguments[W+3];var Y=parseArgs.apply(void 0,U).locale||F;return this._exist(R[Y],E)};VueI18n.prototype.te=function(E,F){return this._te(E,this.locale,this._getMessages(),F)};VueI18n.prototype.getLocaleMessage=function(E){return looseClone(this._vm.messages[E]||{})};VueI18n.prototype.setLocaleMessage=function(E,F){(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&this._checkLocaleMessage(E,this._warnHtmlInMessage,F),this._vm.$set(this._vm.messages,E,F)};VueI18n.prototype.mergeLocaleMessage=function(E,F){(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&this._checkLocaleMessage(E,this._warnHtmlInMessage,F),this._vm.$set(this._vm.messages,E,merge$3(typeof this._vm.messages[E]<"u"&&Object.keys(this._vm.messages[E]).length?Object.assign({},this._vm.messages[E]):{},F))};VueI18n.prototype.getDateTimeFormat=function(E){return looseClone(this._vm.dateTimeFormats[E]||{})};VueI18n.prototype.setDateTimeFormat=function(E,F){this._vm.$set(this._vm.dateTimeFormats,E,F),this._clearDateTimeFormat(E,F)};VueI18n.prototype.mergeDateTimeFormat=function(E,F){this._vm.$set(this._vm.dateTimeFormats,E,merge$3(this._vm.dateTimeFormats[E]||{},F)),this._clearDateTimeFormat(E,F)};VueI18n.prototype._clearDateTimeFormat=function(E,F){for(var R in F){var U=E+"__"+R;!this._dateTimeFormatters.hasOwnProperty(U)||delete this._dateTimeFormatters[U]}};VueI18n.prototype._localizeDateTime=function(E,F,R,U,W,Y){for(var G=F,X=U[G],K=this._getLocaleChain(F,R),Z=0;Z<K.length;Z++){var J=G,Q=K[Z];if(X=U[Q],G=Q,!(isNull(X)||isNull(X[W])))break}if(isNull(X)||isNull(X[W]))return null;var ee=X[W],te;if(Y)te=new Intl.DateTimeFormat(G,Object.assign({},ee,Y));else{var ie=G+"__"+W;te=this._dateTimeFormatters[ie],te||(te=this._dateTimeFormatters[ie]=new Intl.DateTimeFormat(G,ee))}return te.format(E)};VueI18n.prototype._d=function(E,F,R,U){if(!R){var W=U?new Intl.DateTimeFormat(F,U):new Intl.DateTimeFormat(F);return W.format(E)}var Y=this._localizeDateTime(E,F,this.fallbackLocale,this._getDateTimeFormats(),R,U);if(this._isFallbackRoot(Y)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(E,R,F)}else return Y||""};VueI18n.prototype.d=function(E){for(var F=[],R=arguments.length-1;R-- >0;)F[R]=arguments[R+1];var U=this.locale,W=null,Y=null;return F.length===1?(isString$5(F[0])?W=F[0]:isObject$b(F[0])&&(F[0].locale&&(U=F[0].locale),F[0].key&&(W=F[0].key)),Y=Object.keys(F[0]).reduce(function(G,X){var K;return includes$1(dateTimeFormatKeys,X)?Object.assign({},G,(K={},K[X]=F[0][X],K)):G},null)):F.length===2&&(isString$5(F[0])&&(W=F[0]),isString$5(F[1])&&(U=F[1])),this._d(E,U,W,Y)};VueI18n.prototype.getNumberFormat=function(E){return looseClone(this._vm.numberFormats[E]||{})};VueI18n.prototype.setNumberFormat=function(E,F){this._vm.$set(this._vm.numberFormats,E,F),this._clearNumberFormat(E,F)};VueI18n.prototype.mergeNumberFormat=function(E,F){this._vm.$set(this._vm.numberFormats,E,merge$3(this._vm.numberFormats[E]||{},F)),this._clearNumberFormat(E,F)};VueI18n.prototype._clearNumberFormat=function(E,F){for(var R in F){var U=E+"__"+R;!this._numberFormatters.hasOwnProperty(U)||delete this._numberFormatters[U]}};VueI18n.prototype._getNumberFormatter=function(E,F,R,U,W,Y){for(var G=F,X=U[G],K=this._getLocaleChain(F,R),Z=0;Z<K.length;Z++){var J=G,Q=K[Z];if(X=U[Q],G=Q,!(isNull(X)||isNull(X[W])))break}if(isNull(X)||isNull(X[W]))return null;var ee=X[W],te;if(Y)te=new Intl.NumberFormat(G,Object.assign({},ee,Y));else{var ie=G+"__"+W;te=this._numberFormatters[ie],te||(te=this._numberFormatters[ie]=new Intl.NumberFormat(G,ee))}return te};VueI18n.prototype._n=function(E,F,R,U){if(!VueI18n.availabilities.numberFormat)return"";if(!R){var W=U?new Intl.NumberFormat(F,U):new Intl.NumberFormat(F);return W.format(E)}var Y=this._getNumberFormatter(E,F,this.fallbackLocale,this._getNumberFormats(),R,U),G=Y&&Y.format(E);if(this._isFallbackRoot(G)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(E,Object.assign({},{key:R,locale:F},U))}else return G||""};VueI18n.prototype.n=function(E){for(var F=[],R=arguments.length-1;R-- >0;)F[R]=arguments[R+1];var U=this.locale,W=null,Y=null;return F.length===1?isString$5(F[0])?W=F[0]:isObject$b(F[0])&&(F[0].locale&&(U=F[0].locale),F[0].key&&(W=F[0].key),Y=Object.keys(F[0]).reduce(function(G,X){var K;return includes$1(numberFormatKeys,X)?Object.assign({},G,(K={},K[X]=F[0][X],K)):G},null)):F.length===2&&(isString$5(F[0])&&(W=F[0]),isString$5(F[1])&&(U=F[1])),this._n(E,U,W,Y)};VueI18n.prototype._ntp=function(E,F,R,U){if(!VueI18n.availabilities.numberFormat)return[];if(!R){var W=U?new Intl.NumberFormat(F,U):new Intl.NumberFormat(F);return W.formatToParts(E)}var Y=this._getNumberFormatter(E,F,this.fallbackLocale,this._getNumberFormats(),R,U),G=Y&&Y.formatToParts(E);if(this._isFallbackRoot(G)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(E,F,R,U)}else return G||[]};Object.defineProperties(VueI18n.prototype,prototypeAccessors$3);var availabilities;Object.defineProperty(VueI18n,"availabilities",{get:function(){if(!availabilities){var E=typeof Intl<"u";availabilities={dateTimeFormat:E&&typeof Intl.DateTimeFormat<"u",numberFormat:E&&typeof Intl.NumberFormat<"u"}}return availabilities}});VueI18n.install=install$4;VueI18n.version="8.28.2";const VueI18n$1=VueI18n,accounts$1="Accounts",categories$1="Categories",expense$1="Expense",income$1="Income",balance$1="Balance",delta$1="Delta = Income \u2212 Expenses \u2212 Profit",addAccount$1="New account",updateAccount$1="Update account",addCategory$1="New category",updateCategory$1="Update category",newTransfer$1="New transfer",add$4="Add",addmore$1="Add more",addMany$1="Add many",update$2="Update",updateAll$1="@:update all",or$2="or",cancel$1="Cancel",deleteAll$1="@:delete all",move$2="Move",name$1="Name",selected$1="{count} transactions",found$1="{count} transactions found",notFound$1="Not found",currency$1="Currency",type$1="Type",color$2="Color",icon$1="Icon",desc$1="Comment",noDesc$1="no description",addTransaction$1="Add transaction",updateTransaction$1="Update transaction",applyTo$1={name:"Apply changes to",list:["This transaction only","This & all related future recurring transactions"]},amount$1="Amount",repeat$3="Repeat",oneTime$1="One time",repeating$1="Repeating",date$1="Date",from$2="Start date",to$2="End date",repeatFrom$1="Start repeat",howOften$1={name:"How often",every:"every",list:["Every month","Every day","Every week","Every year","Custom..."],list_short:["month","day","week","year"]},endRepeat$1={name:"End repeat",list:["Repeat forever","Limit the number of occurrences","Until the date"],occurrences:"occurrences"},account$2="Account",category$2="Category",contractor$1="Contractor",addIncome$1="Income",addExpense$1="Expense",changeSettings$1="change settings",details$1="View details",optional$1="Optional",transactionsListCount$1="{count} TRANSACTIONS",transactionDeleteWarning$1="The transaction will be permanently deleted. Are you sure?",cashOnHand$1="Cash on hand",cashToday$1="Cash on hand today",today$1="Today",yesterday$1="Yesterday",overdue$1="Overdue",repeatingTran$1="Repeating transaction",repeatingInfo$1={interval:{day:"Never | Every day | Every {frequency} days",week:"Never | Every week | Every {frequency} weeks",month:"Never | Every month | Every {frequency} months",year:"Never | Every year | Every {frequency} years"},occurrences:"Infinitely | Once | {occurrences} occurrences"},emptyList$1="No transactions",emptyListUpcoming$1="No transactions are planned for this period",emptyListToday$1="No transactions today",nextDays$1="Next {count} days",tomorrow$1="Tomorrow",justCreated$1="Just now",deleteWarning$1="DANGER: This will permanently delete the entire {type} and ALL TRANSACTIONS without the ability to restore. Are you sure?",offlineMessage$1="No Internet connection",bulkDeleteWarning$1="This will delete all selected transactions. Are you sure?",bulkPurgeWarning$1="DANGER: This will permanently delete all selected transactions. There will be no way to rollback. Are you sure?",moveTransactions$1="Move {count} transactions",updateTransactions$1="Update {count} transactions",bulkMoveWarning$1="Please be sure to select the right account and the right category type applicable to all selected transactions to avoid wrong currency conversion effects.",dontChange$1="Don\u2019t change",noCategory$1="No category",unselectAll$1="Unselect all",other$1="Other",transfer$1="Transfer",fromAccount$1="From account",toAccount$1="To account",incomingAmount$1="Incoming amount",transferMessage$1="You are about to make a transfer from one currency to another. Please enter the right incoming amount to make sure the conversion rate is right.",reports$1="Reports",search$1={label:"Search",noResults:"No results"},upnext$1="Up next",history$1="History",startingBalance$1="Starting balance",importResults$1="Import results",setDates$1="Adjust dates",close$1="Close",Done$1="Done",Process$1="Process",processToday$1="Mark as processed today",processEdits$1="Process with edits",profit$1="Profit (cash out)",incomeCategoryExplained$1="Income transactions increase the account balance.",expenseCategoryExplained$1="Expense transactions decrease the account balance.",profitCategoryExplained$1="For business, profit is similar to expense because its taking money out of business and thus decreasing the account balance. The Profit checkbox allows you to visually group this kind of expenses into separate blue columns.",notifyMe$1="Remind to process when due",notifyMeAlert$1="When the transaction date comes, a tiny little notification on the app icon will emerge and remind you to process (confirm) this transaction.",error$1={http:"Request failed",api:"API error",nonJsonTitle:"Something's wrong with the API (api.php). Not a JSON response",nonJsonText:"Please contact your hosting provider or admin who had been configuring Webasyst on your server"},arrow$1={up:"Going out of cash gap on",down:"Cash gap is expected on"},cashGapTooltip$1=`CASH GAP!
Start date: {start}
End date: {end}
Max balance decline: {decline} on {declineDate}`,cashGapIn$1="Cash gap is expected in {inDays} days ({date})",cashGapOut$1="Going out of cash gap in {inDays} days ({date})",inDays$1="(in {days} days)",fileUploaderLabel$1="Drop here or browse",contacts$1="Contacts",createNewContact$1="Create new Contact",linkContact$1={main:"Search for existing contact {0}",link:"or create a new one"},newContact$1="New contact with the specified name will be created. Use the CRM app to view and edit contact profile afterwards.",noContact$1={main:"Contact not found{0}",link:"Link with a new contact"},selectedContact$1="Transaction will be linked with the selected contractor",hide$1="Hide",show$1="Show",showMore$1="Show more",navigation$1="{action} menu",collapseTransactionDesc$1="{count} transactions ({category})",repeatingTransactionDesc$1="{repeats} transactions",createdBy$1={normal:"Created by {username} on {createDate}",edited:"@:(createdBy.normal). Last edited on {updateDate}."},transactionDate$1="Transaction date: {date}",amountOnDate$1="{amount} on {date}",accountBalanceTransactionListHint$1="Account balance after the transaction has been processed",specify$1="Specify",recipient$1="recipient",payee$1="payee",parentCategory$1="Parent category",notSelected$1="Not selected",shortMonth$1="mo",forecasted$1="Forecasted balance dynamic based on all planned future transactions",transactions$1="Transactions",allTransactions$1="All transactions",change$1="Change",trash$1="Trash",trashInfo$1="Deleted transactions are not counted in any cash flow and balance reports and are visible to the app admins only. Select one or more transactions to purge or restore.",restore$1="Restore",restoreInfo$1="Editing is disabled for deleted transactions. Select this transaction and restore it first.",purge$1="Purge",selfDestructLabel$1="Automatically delete this transaction when its planned date comes",selfDestructText$1="Useful when real transactions are imported in bulk from banks and spreadsheets, and this particular transaction must be treated as a planned one that needs to be replaced with the imported ones.",calendar$3="Calendar",compactView$1="Compact View",listView$1="List View",plugins$1="Plugins",contactsWillSoon$1="Contacts with linked transactions will appear here soon.",Order$1="Order",orOrder$1="or order",orderNumber$1="Order number",orderNotFound$1="Order not found",en$1={404:{title:"Not Found"},accounts:accounts$1,categories:categories$1,expense:expense$1,income:income$1,balance:balance$1,delta:delta$1,addAccount:addAccount$1,updateAccount:updateAccount$1,addCategory:addCategory$1,updateCategory:updateCategory$1,newTransfer:newTransfer$1,add:add$4,addmore:addmore$1,addMany:addMany$1,update:update$2,updateAll:updateAll$1,or:or$2,cancel:cancel$1,delete:"Delete",deleteAll:deleteAll$1,move:move$2,name:name$1,selected:selected$1,found:found$1,notFound:notFound$1,currency:currency$1,type:type$1,color:color$2,icon:icon$1,desc:desc$1,noDesc:noDesc$1,addTransaction:addTransaction$1,updateTransaction:updateTransaction$1,applyTo:applyTo$1,amount:amount$1,repeat:repeat$3,oneTime:oneTime$1,repeating:repeating$1,date:date$1,from:from$2,to:to$2,repeatFrom:repeatFrom$1,howOften:howOften$1,endRepeat:endRepeat$1,account:account$2,category:category$2,contractor:contractor$1,addIncome:addIncome$1,addExpense:addExpense$1,changeSettings:changeSettings$1,details:details$1,optional:optional$1,transactionsListCount:transactionsListCount$1,transactionDeleteWarning:transactionDeleteWarning$1,cashOnHand:cashOnHand$1,cashToday:cashToday$1,today:today$1,yesterday:yesterday$1,overdue:overdue$1,repeatingTran:repeatingTran$1,repeatingInfo:repeatingInfo$1,import:"Import",emptyList:emptyList$1,emptyListUpcoming:emptyListUpcoming$1,emptyListToday:emptyListToday$1,nextDays:nextDays$1,"Next 90 days":"Next 90 days",tomorrow:tomorrow$1,justCreated:justCreated$1,deleteWarning:deleteWarning$1,offlineMessage:offlineMessage$1,bulkDeleteWarning:bulkDeleteWarning$1,bulkPurgeWarning:bulkPurgeWarning$1,moveTransactions:moveTransactions$1,updateTransactions:updateTransactions$1,bulkMoveWarning:bulkMoveWarning$1,dontChange:dontChange$1,noCategory:noCategory$1,unselectAll:unselectAll$1,other:other$1,transfer:transfer$1,fromAccount:fromAccount$1,toAccount:toAccount$1,incomingAmount:incomingAmount$1,transferMessage:transferMessage$1,"-1_M":"Last 30 days","-3_M":"Last 90 days","-6_M":"Last 180 days","-1_Y":"Last 365 days","-3_Y":"Last 3 years","-5_Y":"Last 5 years","-10_Y":"Last 10 years","0_M":"No forecast","1_M":"Next 30 days","3_M":"Next 90 days","6_M":"Next 180 days","1_Y":"Next 1 year","2_Y":"Next 2 years","3_Y":"Next 3 years",reports:reports$1,search:search$1,upnext:upnext$1,history:history$1,startingBalance:startingBalance$1,importResults:importResults$1,setDates:setDates$1,close:close$1,Done:Done$1,Process:Process$1,processToday:processToday$1,processEdits:processEdits$1,profit:profit$1,incomeCategoryExplained:incomeCategoryExplained$1,expenseCategoryExplained:expenseCategoryExplained$1,profitCategoryExplained:profitCategoryExplained$1,notifyMe:notifyMe$1,notifyMeAlert:notifyMeAlert$1,error:error$1,arrow:arrow$1,cashGapTooltip:cashGapTooltip$1,cashGapIn:cashGapIn$1,cashGapOut:cashGapOut$1,inDays:inDays$1,fileUploaderLabel:fileUploaderLabel$1,contacts:contacts$1,createNewContact:createNewContact$1,linkContact:linkContact$1,newContact:newContact$1,noContact:noContact$1,selectedContact:selectedContact$1,hide:hide$1,show:show$1,showMore:showMore$1,navigation:navigation$1,collapseTransactionDesc:collapseTransactionDesc$1,repeatingTransactionDesc:repeatingTransactionDesc$1,createdBy:createdBy$1,export:"Export",transactionDate:transactionDate$1,amountOnDate:amountOnDate$1,accountBalanceTransactionListHint:accountBalanceTransactionListHint$1,specify:specify$1,recipient:recipient$1,payee:payee$1,parentCategory:parentCategory$1,notSelected:notSelected$1,shortMonth:shortMonth$1,forecasted:forecasted$1,transactions:transactions$1,allTransactions:allTransactions$1,change:change$1,trash:trash$1,trashInfo:trashInfo$1,restore:restore$1,restoreInfo:restoreInfo$1,purge:purge$1,selfDestructLabel:selfDestructLabel$1,selfDestructText:selfDestructText$1,calendar:calendar$3,compactView:compactView$1,listView:listView$1,plugins:plugins$1,contactsWillSoon:contactsWillSoon$1,Order:Order$1,orOrder:orOrder$1,orderNumber:orderNumber$1,orderNotFound:orderNotFound$1},accounts="\u0421\u0447\u0435\u0442\u0430",categories="\u0421\u0442\u0430\u0442\u044C\u0438",expense="\u0420\u0430\u0441\u0445\u043E\u0434",income="\u0414\u043E\u0445\u043E\u0434",balance="\u0411\u0430\u043B\u0430\u043D\u0441",delta="\u0414\u0435\u043B\u044C\u0442\u0430 = \u0414\u043E\u0445\u043E\u0434\u044B \u2212 \u0420\u0430\u0441\u0445\u043E\u0434\u044B \u2212 \u041F\u0440\u0438\u0431\u044B\u043B\u044C",addAccount="\u041D\u043E\u0432\u044B\u0439 \u0441\u0447\u0435\u0442",updateAccount="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0447\u0435\u0442\u0430",addCategory="\u041D\u043E\u0432\u0430\u044F \u0441\u0442\u0430\u0442\u044C\u044F",updateCategory="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0442\u0430\u0442\u044C\u0438",newTransfer="\u041C\u0435\u0436\u0434\u0443 \u0441\u0447\u0435\u0442\u0430\u043C\u0438",add$3="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",addmore="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0435\u0449\u0435",addMany="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E",update$1="\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C",updateAll="@:update \u0432\u0441\u0435",or$1="\u0438\u043B\u0438",cancel="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",deleteAll="@:delete \u0432\u0441\u0435",move$1="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C",name="\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",selected="{count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",found="\u043D\u0430\u0439\u0434\u0435\u043D\u043E {count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",notFound="\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",currency="\u0412\u0430\u043B\u044E\u0442\u0430",type="\u0422\u0438\u043F",color$1="\u0426\u0432\u0435\u0442",icon="\u0418\u043A\u043E\u043D\u043A\u0430",desc="\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",noDesc="\u043D\u0435\u0442 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u044F",addTransaction="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E",updateTransaction="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E",applyTo={name:"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C",list:["\u0422\u043E\u043B\u044C\u043A\u043E \u043A \u044D\u0442\u043E\u0439 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438","\u041A \u044D\u0442\u043E\u0439 \u0438 \u0432\u0441\u0435\u043C \u0431\u0443\u0434\u0443\u0449\u0438\u043C \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F\u043C"]},amount="\u0421\u0443\u043C\u043C\u0430",repeat$2="\u041F\u043E\u0432\u0442\u043E\u0440",oneTime="\u041E\u0434\u0438\u043D \u0440\u0430\u0437",repeating="\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C",date="\u0414\u0430\u0442\u0430",from$1="\u041D\u0430\u0447\u0430\u043B\u044C\u043D\u0430\u044F \u0434\u0430\u0442\u0430",to$1="\u041A\u043E\u043D\u0435\u0447\u043D\u0430\u044F \u0434\u0430\u0442\u0430",repeatFrom="\u041F\u0435\u0440\u0432\u0430\u044F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044F",howOften={name:"\u041A\u0430\u043A \u0447\u0430\u0441\u0442\u043E",every:"\u043A\u0430\u0436\u0434\u044B\u0439",list:["\u041A\u0430\u0436\u0434\u044B\u0439 \u043C\u0435\u0441\u044F\u0446","\u041A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C","\u041A\u0430\u0436\u0434\u0443\u044E \u043D\u0435\u0434\u0435\u043B\u044E","\u041A\u0430\u0436\u0434\u044B\u0439 \u0433\u043E\u0434","\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C..."],list_short:["\u043C\u0435\u0441\u044F\u0446","\u0434\u0435\u043D\u044C","\u043D\u0435\u0434\u0435\u043B\u044F","\u0433\u043E\u0434"]},endRepeat={name:"\u041E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u0435",list:["\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C \u0432\u0441\u044E \u0436\u0438\u0437\u043D\u044C","\u0417\u0430\u0434\u0430\u0442\u044C \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439","\u0414\u043E \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u043E\u0439 \u0434\u0430\u0442\u044B"],occurrences:"\u0440\u0430\u0437"},account$1="\u0421\u0447\u0435\u0442",category$1="\u0421\u0442\u0430\u0442\u044C\u044F",contractor="\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442",addIncome="\u0414\u043E\u0445\u043E\u0434",addExpense="\u0420\u0430\u0441\u0445\u043E\u0434",changeSettings="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0442\u0430\u0442\u044C\u0438",details="\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",optional="\u041C\u043E\u0436\u043D\u043E \u043D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u044F\u0442\u044C",transactionsListCount="{count} \u041E\u041F\u0415\u0420\u0410\u0426\u0418\u0419",transactionDeleteWarning="\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u044F \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u0430. \u0423\u0432\u0435\u0440\u0435\u043D\u044B?",cashOnHand="\u0414\u0435\u043D\u044C\u0433\u0438",cashToday="\u0414\u0435\u043D\u044C\u0433\u0438 \u0441\u0435\u0433\u043E\u0434\u043D\u044F",today="\u0421\u0435\u0433\u043E\u0434\u043D\u044F",yesterday="\u0412\u0447\u0435\u0440\u0430",overdue="\u041F\u0440\u043E\u0441\u0440\u043E\u0447\u0435\u043D\u043D\u044B\u0435",repeatingTran="\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u044E\u0449\u0430\u044F\u0441\u044F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044F",repeatingInfo={interval:{day:"\u041D\u0438\u043A\u043E\u0433\u0434\u0430 | \u041A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C | \u0420\u0430\u0437 \u0432 {frequency} \u0434\u043D\u044F | \u0420\u0430\u0437 \u0432 {frequency} \u0434\u043D\u0435\u0439",week:"\u041D\u0438\u043A\u043E\u0433\u0434\u0430 | \u041A\u0430\u0436\u0434\u0443\u044E \u043D\u0435\u0434\u0435\u043B\u044E | \u0420\u0430\u0437 \u0432 {frequency} \u043D\u0435\u0434\u0435\u043B\u0438 | \u0420\u0430\u0437 \u0432 {frequency} \u043D\u0435\u0434\u0435\u043B\u044C",month:"\u041D\u0438\u043A\u043E\u0433\u0434\u0430 | \u041A\u0430\u0436\u0434\u044B\u0439 \u043C\u0435\u0441\u044F\u0446 | \u0420\u0430\u0437 \u0432 {frequency} \u043C\u0435\u0441\u044F\u0446\u0430 | \u0420\u0430\u0437 \u0432 {frequency} \u043C\u0435\u0441\u044F\u0446\u0435\u0432",year:"\u041D\u0438\u043A\u043E\u0433\u0434\u0430 | \u041A\u0430\u0436\u0434\u044B\u0439 \u0433\u043E\u0434 | \u0420\u0430\u0437 \u0432 {frequency} \u0433\u043E\u0434\u0430 | \u0420\u0430\u0437 \u0432 {frequency} \u043B\u0435\u0442"},occurrences:"\u0411\u0435\u0441\u043A\u043E\u043D\u0435\u0447\u043D\u043E | \u0415\u0434\u0438\u043D\u043E\u0436\u0434\u044B | {occurrences} \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F | {occurrences} \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439"},emptyList="\u041D\u0435\u0442 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",emptyListUpcoming="\u041D\u0430 \u0437\u0430\u0434\u0430\u043D\u043D\u044B\u0439 \u043F\u0435\u0440\u0438\u043E\u0434 \u0437\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 \u043D\u0435\u0442",emptyListToday="\u0421\u0435\u0433\u043E\u0434\u043D\u044F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 \u043D\u0435\u0442",nextDays="\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435 {count} \u0434\u043D\u0435\u0439",tomorrow="\u0417\u0430\u0432\u0442\u0440\u0430",justCreated="\u0422\u043E\u043B\u044C\u043A\u043E \u0447\u0442\u043E",deleteWarning="\u0412\u0410\u0416\u041D\u041E: \u0412\u0421\u0415 \u041E\u041F\u0415\u0420\u0410\u0426\u0418\u0418 {type} \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B \u0431\u0435\u0437 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F. \u0423\u0434\u0430\u043B\u0438\u0442\u044C?",offlineMessage="\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u043A \u0438\u043D\u0442\u0435\u0440\u043D\u0435\u0442\u0443 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",bulkDeleteWarning="\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B?",bulkPurgeWarning="\u041E\u041F\u0410\u0421\u041D\u041E! \u041E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E. \u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F \u043D\u0435 \u0431\u0443\u0434\u0435\u0442. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B?",moveTransactions="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C {count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",updateTransactions="\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C {count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",bulkMoveWarning="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u0441\u0447\u0435\u0442 \u0438 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0443\u044E \u0441\u0442\u0430\u0442\u044C\u044E \u0434\u043B\u044F \u0432\u0441\u0435\u0445 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439, \u0447\u0442\u043E\u0431\u044B \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u044B\u0445 \u043E\u0448\u0438\u0431\u043E\u043A \u043F\u0440\u0438 \u043A\u043E\u043D\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u0438 \u0432\u0430\u043B\u044E\u0442.",dontChange="\u041D\u0435 \u043C\u0435\u043D\u044F\u0442\u044C",noCategory="\u0411\u0435\u0437 \u0441\u0442\u0430\u0442\u044C\u0438",unselectAll="\u0421\u043D\u044F\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",other="\u041F\u0440\u043E\u0447\u0435\u0435",transfer="\u041F\u0435\u0440\u0435\u0432\u043E\u0434",fromAccount="\u0421\u043E \u0441\u0447\u0435\u0442\u0430",toAccount="\u041D\u0430 \u0441\u0447\u0435\u0442",incomingAmount="\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u0441\u0442\u0443\u043F\u043B\u0435\u043D\u0438\u044F",transferMessage="\u0412\u044B \u0434\u0435\u043B\u0430\u0435\u0442\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0438\u0437 \u043E\u0434\u043D\u043E\u0439 \u0432\u0430\u043B\u044E\u0442\u044B \u0432 \u0434\u0440\u0443\u0433\u0443\u044E. \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0443\u044E \u0441\u0443\u043C\u043C\u0443 \u043F\u043E\u0441\u0442\u0443\u043F\u043B\u0435\u043D\u0438\u044F \u0441\u043E\u0433\u043B\u0430\u0441\u043D\u043E \u0442\u0435\u043A\u0443\u0449\u0435\u043C\u0443 \u043A\u0443\u0440\u0441\u0443 \u0432\u0430\u043B\u044E\u0442.",reports="\u041E\u0442\u0447\u0435\u0442\u044B",search={label:"\u041F\u043E\u0438\u0441\u043A",noResults:"\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E"},upnext="\u041F\u043B\u0430\u043D",history="\u0418\u0441\u0442\u043E\u0440\u0438\u044F",startingBalance="\u041D\u0430\u0447\u0430\u043B\u044C\u043D\u044B\u0439 \u0431\u0430\u043B\u0430\u043D\u0441",importResults="\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0438\u043C\u043F\u043E\u0440\u0442\u0430",setDates="\u0412\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u0442\u044B",close="\u0417\u0430\u043A\u0440\u044B\u0442\u044C",Done="\u0412\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u043E",Process="\u041F\u0440\u043E\u0432\u0435\u0441\u0442\u0438",processToday="\u041F\u0440\u043E\u0432\u0435\u0441\u0442\u0438 \u0441\u0435\u0433\u043E\u0434\u043D\u044F",processEdits="\u041F\u0440\u043E\u0432\u0435\u0441\u0442\u0438 \u0441 \u043F\u0440\u0430\u0432\u043A\u0430\u043C\u0438",profit="\u041F\u0440\u0438\u0431\u044B\u043B\u044C (\u0432\u044B\u0432\u043E\u0434 \u0434\u0435\u043D\u0435\u0433)",incomeCategoryExplained="\u0414\u043E\u0445\u043E\u0434\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0443\u0432\u0435\u043B\u0438\u0447\u0438\u0432\u0430\u044E\u0442 \u0431\u0430\u043B\u0430\u043D\u0441 \u0441\u0447\u0435\u0442\u0430.",expenseCategoryExplained="\u0420\u0430\u0441\u0445\u043E\u0434\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0443\u043C\u0435\u043D\u044C\u0448\u0430\u044E\u0442 \u0431\u0430\u043B\u0430\u043D\u0441 \u0441\u0447\u0435\u0442\u0430.",profitCategoryExplained="\u041F\u0440\u0438\u0431\u044B\u043B\u044C \u2014 \u044D\u0442\u043E \u0432\u044B\u0432\u043E\u0434 \u0434\u0435\u043D\u0435\u0433 \u0438\u0437 \u0431\u0438\u0437\u043D\u0435\u0441\u0430. \u041F\u043E\u044D\u0442\u043E\u043C\u0443 \u0441 \u0442\u043E\u0447\u043A\u0438 \u0437\u0440\u0435\u043D\u0438\u044F \u0431\u0438\u0437\u043D\u0435\u0441\u0430 \u043F\u0440\u0438\u0431\u044B\u043B\u044C \u2014 \u044D\u0442\u043E \u043E\u0431\u044B\u0447\u043D\u0430\u044F \u0440\u0430\u0441\u0445\u043E\u0434\u043D\u0430\u044F \u0441\u0442\u0430\u0442\u044C\u044F, \u0443\u043C\u0435\u043D\u044C\u0448\u0430\u044E\u0449\u0430\u044F \u0431\u0430\u043B\u0430\u043D\u0441 \u0441\u0447\u0435\u0442\u0430. \u0412\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u0433\u0430\u043B\u043E\u0447\u043A\u0438 \u043F\u043E\u0437\u0432\u043E\u043B\u0438\u0442 \u0432\u044B\u0434\u0435\u043B\u0438\u0442\u044C \u043D\u0430 \u0433\u0440\u0430\u0444\u0438\u043A\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0438\u0437 \u044D\u0442\u043E\u0439 \u0441\u0442\u0430\u0442\u044C\u0438 \u0432 \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u044B\u0435 \u0441\u0442\u043E\u043B\u0431\u0438\u043A\u0438 \u0441\u0438\u043D\u0435\u0433\u043E \u0446\u0432\u0435\u0442\u0430.",notifyMe="\u041D\u0430\u043F\u043E\u043C\u043D\u0438\u0442\u044C \u043F\u0440\u043E\u0432\u0435\u0441\u0442\u0438 \u0432\u0440\u0443\u0447\u043D\u0443\u044E",notifyMeAlert="\u041A\u043E\u0433\u0434\u0430 \u043D\u0430\u0441\u0442\u0443\u043F\u0438\u0442 \u0434\u0435\u043D\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438, \u0441\u0447\u0435\u0442\u0447\u0438\u043A \u043D\u0430 \u0438\u043A\u043E\u043D\u043A\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043D\u0430\u043F\u043E\u043C\u043D\u0438\u0442 \u043F\u0440\u043E\u0432\u0435\u0441\u0442\u0438 (\u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C) \u044D\u0442\u0443 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E \u0432\u0440\u0443\u0447\u043D\u0443\u044E.",error={http:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445",api:"\u041E\u0448\u0438\u0431\u043A\u0430 API",nonJsonTitle:"\u0427\u0442\u043E-\u0442\u043E \u043D\u0435 \u0442\u0430\u043A \u0441 API (api.php). \u041E\u0442\u0432\u0435\u0442 \u043D\u0435 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 JSON",nonJsonText:"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0441\u0432\u044F\u0436\u0438\u0442\u0435\u0441\u044C \u0441\u043E \u0441\u0432\u043E\u0438\u043C \u0445\u043E\u0441\u0442\u0438\u043D\u0433-\u043F\u0440\u043E\u0432\u0430\u0439\u0434\u0435\u0440\u043E\u043C \u0438\u043B\u0438 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u043E\u043C, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u043D\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043B \u0432\u0430\u043C Webasyst"},arrow={up:"\u0412\u044B\u0445\u043E\u0434\u0438\u043C \u0432 \u043F\u043B\u044E\u0441 \u2014",down:"\u041A\u0430\u0441\u0441\u043E\u0432\u044B\u0439 \u0440\u0430\u0437\u0440\u044B\u0432 \u2014"},cashGapTooltip=`\u041A\u0410\u0421\u0421\u041E\u0412\u042B\u0419 \u0420\u0410\u0417\u0420\u042B\u0412!
\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430: {start}
\u041A\u043E\u043D\u0435\u0447\u043D\u0430\u044F \u0434\u0430\u0442\u0430: {end}
\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0431\u0430\u043B\u0430\u043D\u0441: {decline} \u2014 {declineDate}`,cashGapIn="\u041A\u0430\u0441\u0441\u043E\u0432\u044B\u0439 \u0440\u0430\u0437\u0440\u044B\u0432 \u043E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F \u0447\u0435\u0440\u0435\u0437 {inDays} \u0434\u043D\u0435\u0439 ({date})",cashGapOut="\u0412\u044B\u0445\u043E\u0434\u0438\u043C \u0432 \u043F\u043B\u044E\u0441 \u0447\u0435\u0440\u0435\u0437 {inDays} \u0434\u043D\u0435\u0439 ({date})",inDays="(\u0447\u0435\u0440\u0435\u0437 {days} \u0434\u043D\u0435\u0439)",fileUploaderLabel="\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B",contacts="\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B",createNewContact="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u043A\u043E\u043D\u0442\u0430\u043A\u0442",linkContact={main:"\u041D\u0430\u0439\u0434\u0438\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043A\u043E\u043D\u0442\u0430\u043A\u0442 {0}",link:"\u0438\u043B\u0438 \u0441\u043E\u0437\u0434\u0430\u0439\u0442\u0435 \u043D\u043E\u0432\u044B\u0439"},newContact="\u0411\u0443\u0434\u0435\u0442 \u0441\u043E\u0437\u0434\u0430\u043D \u043D\u043E\u0432\u044B\u0439 \u043A\u043E\u043D\u0442\u0430\u043A\u0442 \u0441 \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044B\u043C \u0438\u043C\u0435\u043D\u0435\u043C. \u041F\u043E\u043B\u043D\u044B\u0439 \u043F\u0440\u043E\u0444\u0438\u043B\u044C \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D \u0432 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0438 CRM.",noContact={main:"\u041A\u043E\u043D\u0442\u0430\u043A\u0442 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D{0}",link:"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u0441 \u043D\u043E\u0432\u044B\u043C \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u043E\u043C"},selectedContact="\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u044F \u0431\u0443\u0434\u0435\u0442 \u0441\u0432\u044F\u0437\u0430\u043D\u0430 \u0441 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u043C \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u043E\u043C",hide="\u0421\u043A\u0440\u044B\u0442\u044C",show="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C",showMore="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0435\u0449\u0435",navigation="{action} \u043C\u0435\u043D\u044E",collapseTransactionDesc="{count} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 ({category})",repeatingTransactionDesc="{repeats} \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",createdBy={normal:"Created by {username} on {createDate}",edited:"@:(createdBy.normal). Last edited on {updateDate}."},transactionDate="\u0414\u0430\u0442\u0430 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438: {date}",amountOnDate="{amount}, {date}",accountBalanceTransactionListHint="\u0411\u0430\u043B\u0430\u043D\u0441 \u0441\u0447\u0435\u0442\u0430 \u043F\u043E\u0441\u043B\u0435 \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u044D\u0442\u043E\u0439 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438",specify="\u0423\u043A\u0430\u0437\u0430\u0442\u044C",recipient="\u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u044F",payee="\u043F\u043B\u0430\u0442\u0435\u043B\u044C\u0449\u0438\u043A\u0430",parentCategory="\u0420\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u0430\u044F \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F",notSelected="\u041D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043E",shortMonth="\u043C\u0435\u0441.",forecasted="\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0431\u0430\u043B\u0430\u043D\u0441\u0430 \u043D\u0430 \u043E\u0441\u043D\u043E\u0432\u0435 \u0437\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439",transactions="\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u0438",allTransactions="\u0412\u0441\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438",change="\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C",trash="\u041A\u043E\u0440\u0437\u0438\u043D\u0430",trashInfo="\u0423\u0434\u0430\u043B\u0435\u043D\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u043D\u0435 \u0443\u0447\u0438\u0442\u044B\u0432\u0430\u044E\u0442\u0441\u044F \u0432 \u0431\u0430\u043B\u0430\u043D\u0441\u0435 \u0438 \u0432\u0438\u0434\u043D\u044B \u0442\u043E\u043B\u044C\u043A\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C \u0441 \u043F\u043E\u043B\u043D\u044B\u043C\u0438 \u043F\u0440\u0430\u0432\u0430\u043C\u0438 \u0434\u043E\u0441\u0442\u0443\u043F\u0430. \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u043D\u0443 \u0438\u043B\u0438 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439, \u0447\u0442\u043E\u0431\u044B \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0438\u043B\u0438 \u043E\u043A\u043E\u043D\u0447\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0445.",restore="\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C",restoreInfo="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u043D\u0435\u043B\u044C\u0437\u044F. \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u043D\u0443 \u0438\u043B\u0438 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \xAB\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C\xBB, \u0447\u0442\u043E\u0431\u044B \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u0430\u043B\u043E.",purge="\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043D\u0430\u0432\u0441\u0435\u0433\u0434\u0430",selfDestructLabel="\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E, \u043A\u043E\u0433\u0434\u0430 \u043D\u0430\u0441\u0442\u0443\u043F\u0438\u0442 \u0435\u0435 \u0434\u0435\u043D\u044C",selfDestructText="\u041F\u043E\u043B\u0435\u0437\u043D\u043E \u0434\u043B\u044F \u043F\u043B\u0430\u043D\u043E\u0432\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0434\u043E\u043B\u0436\u043D\u044B \u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0439 \u043F\u0440\u043E\u0433\u043D\u043E\u0437, \u043D\u043E \u0437\u0430\u0442\u0435\u043C \u0431\u044B\u0442\u044C \u0437\u0430\u043C\u0435\u043D\u0435\u043D\u044B \u0440\u0435\u0430\u043B\u044C\u043D\u044B\u043C\u0438 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044F\u043C\u0438, \u0438\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u043C\u0438 \u0438\u0437 \u0431\u0430\u043D\u043A\u0430 \u0438\u043B\u0438 \u0444\u0430\u0439\u043B\u0430 \u0432\u044B\u043F\u0438\u0441\u043A\u0438.",calendar$2="\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C",compactView="\u041A\u043E\u043C\u043F\u0430\u043A\u0442\u043D\u043E",listView="\u0421\u043F\u0438\u0441\u043A\u043E\u043C",plugins="\u041F\u043B\u0430\u0433\u0438\u043D\u044B",contactsWillSoon="\u0417\u0434\u0435\u0441\u044C \u0431\u0443\u0434\u0435\u0442 \u0441\u043F\u0438\u0441\u043E\u043A \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u043E\u0432, \u0441 \u043A\u043E\u0442\u043E\u0440\u044B\u043C\u0438 \u0441\u0432\u044F\u0437\u0430\u043D\u044B \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438.",Order="\u0417\u0430\u043A\u0430\u0437",orOrder="\u0438\u043B\u0438 \u0437\u0430\u043A\u0430\u0437",orderNumber="\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043A\u0430\u0437\u0430",orderNotFound="\u0417\u0430\u043A\u0430\u0437 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D",ru$2={404:{title:"\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E"},accounts,categories,expense,income,balance,delta,addAccount,updateAccount,addCategory,updateCategory,newTransfer,add:add$3,addmore,addMany,update:update$1,updateAll,or:or$1,cancel,delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",deleteAll,move:move$1,name,selected,found,notFound,currency,type,color:color$1,icon,desc,noDesc,addTransaction,updateTransaction,applyTo,amount,repeat:repeat$2,oneTime,repeating,date,from:from$1,to:to$1,repeatFrom,howOften,endRepeat,account:account$1,category:category$1,contractor,addIncome,addExpense,changeSettings,details,optional,transactionsListCount,transactionDeleteWarning,cashOnHand,cashToday,today,yesterday,overdue,repeatingTran,repeatingInfo,import:"\u0418\u043C\u043F\u043E\u0440\u0442",emptyList,emptyListUpcoming,emptyListToday,nextDays,"Next 90 days":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 90 \u0434\u043D\u0435\u0439",tomorrow,justCreated,deleteWarning,offlineMessage,bulkDeleteWarning,bulkPurgeWarning,moveTransactions,updateTransactions,bulkMoveWarning,dontChange,noCategory,unselectAll,other,transfer,fromAccount,toAccount,incomingAmount,transferMessage,"-1_M":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 30 \u0434\u043D\u0435\u0439","-3_M":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 90 \u0434\u043D\u0435\u0439","-6_M":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 180 \u0434\u043D\u0435\u0439","-1_Y":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 365 \u0434\u043D\u0435\u0439","-3_Y":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 3 \u0433\u043E\u0434\u0430","-5_Y":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 5 \u043B\u0435\u0442","-10_Y":"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 10 \u043B\u0435\u0442","0_M":"\u041D\u0435\u0442","1_M":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 30 \u0434\u043D\u0435\u0439","3_M":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 90 \u0434\u043D\u0435\u0439","6_M":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 180 \u0434\u043D\u0435\u0439","1_Y":"\u0411\u0443\u0434\u0443\u0449\u0438\u0439 1 \u0433\u043E\u0434","2_Y":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 2 \u0433\u043E\u0434\u0430","3_Y":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 3 \u0433\u043E\u0434\u0430",reports,search,upnext,history,startingBalance,importResults,setDates,close,Done,Process,processToday,processEdits,profit,incomeCategoryExplained,expenseCategoryExplained,profitCategoryExplained,notifyMe,notifyMeAlert,error,arrow,cashGapTooltip,cashGapIn,cashGapOut,inDays,fileUploaderLabel,contacts,createNewContact,linkContact,newContact,noContact,selectedContact,hide,show,showMore,navigation,collapseTransactionDesc,repeatingTransactionDesc,createdBy,export:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442",transactionDate,amountOnDate,accountBalanceTransactionListHint,specify,recipient,payee,parentCategory,notSelected,shortMonth,forecasted,transactions,allTransactions,change,trash,trashInfo,restore,restoreInfo,purge,selfDestructLabel,selfDestructText,calendar:calendar$2,compactView,listView,plugins,contactsWillSoon,Order,orOrder,orderNumber,orderNotFound};Vue$2.use(VueI18n$1);var Pt;const locale$4=((Pt=window==null?void 0:window.appState)==null?void 0:Pt.lang)||"en_US",i18n=new VueI18n$1({locale:locale$4,fallbackLocale:"en_US",messages:{en_US:en$1,ru_RU:ru$2},pluralizationRules:{ru_RU:function(V,E){if(V===0)return 0;const F=V>10&&V<20,R=V%10===1;return E<4?!F&&R?1:2:!F&&R?1:!F&&V%10>=2&&V%10<=4||E<4?2:3}}});var numeral$1={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(V){(function(E,F){V.exports?V.exports=F():E.numeral=F()})(commonjsGlobal,function(){var E,F,R="2.0.6",U={},W={},Y={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},G={currentLocale:Y.currentLocale,zeroFormat:Y.zeroFormat,nullFormat:Y.nullFormat,defaultFormat:Y.defaultFormat,scalePercentBy100:Y.scalePercentBy100};function X(K,Z){this._input=K,this._value=Z}return E=function(K){var Z,J,Q,ee;if(E.isNumeral(K))Z=K.value();else if(K===0||typeof K>"u")Z=0;else if(K===null||F.isNaN(K))Z=null;else if(typeof K=="string")if(G.zeroFormat&&K===G.zeroFormat)Z=0;else if(G.nullFormat&&K===G.nullFormat||!K.replace(/[^0-9]+/g,"").length)Z=null;else{for(J in U)if(ee=typeof U[J].regexps.unformat=="function"?U[J].regexps.unformat():U[J].regexps.unformat,ee&&K.match(ee)){Q=U[J].unformat;break}Q=Q||E._.stringToNumber,Z=Q(K)}else Z=Number(K)||null;return new X(K,Z)},E.version=R,E.isNumeral=function(K){return K instanceof X},E._=F={numberToFormat:function(K,Z,J){var Q=W[E.options.currentLocale],ee=!1,te=!1,ie=0,re="",ne=1e12,ae=1e9,se=1e6,le=1e3,oe="",ue=!1,ce,he,me,Pe,we,fe,ye;if(K=K||0,he=Math.abs(K),E._.includes(Z,"(")?(ee=!0,Z=Z.replace(/[\(|\)]/g,"")):(E._.includes(Z,"+")||E._.includes(Z,"-"))&&(we=E._.includes(Z,"+")?Z.indexOf("+"):K<0?Z.indexOf("-"):-1,Z=Z.replace(/[\+|\-]/g,"")),E._.includes(Z,"a")&&(ce=Z.match(/a(k|m|b|t)?/),ce=ce?ce[1]:!1,E._.includes(Z," a")&&(re=" "),Z=Z.replace(new RegExp(re+"a[kmbt]?"),""),he>=ne&&!ce||ce==="t"?(re+=Q.abbreviations.trillion,K=K/ne):he<ne&&he>=ae&&!ce||ce==="b"?(re+=Q.abbreviations.billion,K=K/ae):he<ae&&he>=se&&!ce||ce==="m"?(re+=Q.abbreviations.million,K=K/se):(he<se&&he>=le&&!ce||ce==="k")&&(re+=Q.abbreviations.thousand,K=K/le)),E._.includes(Z,"[.]")&&(te=!0,Z=Z.replace("[.]",".")),me=K.toString().split(".")[0],Pe=Z.split(".")[1],fe=Z.indexOf(","),ie=(Z.split(".")[0].split(",")[0].match(/0/g)||[]).length,Pe?(E._.includes(Pe,"[")?(Pe=Pe.replace("]",""),Pe=Pe.split("["),oe=E._.toFixed(K,Pe[0].length+Pe[1].length,J,Pe[1].length)):oe=E._.toFixed(K,Pe.length,J),me=oe.split(".")[0],E._.includes(oe,".")?oe=Q.delimiters.decimal+oe.split(".")[1]:oe="",te&&Number(oe.slice(1))===0&&(oe="")):me=E._.toFixed(K,0,J),re&&!ce&&Number(me)>=1e3&&re!==Q.abbreviations.trillion)switch(me=String(Number(me)/1e3),re){case Q.abbreviations.thousand:re=Q.abbreviations.million;break;case Q.abbreviations.million:re=Q.abbreviations.billion;break;case Q.abbreviations.billion:re=Q.abbreviations.trillion;break}if(E._.includes(me,"-")&&(me=me.slice(1),ue=!0),me.length<ie)for(var _e=ie-me.length;_e>0;_e--)me="0"+me;return fe>-1&&(me=me.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+Q.delimiters.thousands)),Z.indexOf(".")===0&&(me=""),ye=me+oe+(re||""),ee?ye=(ee&&ue?"(":"")+ye+(ee&&ue?")":""):we>=0?ye=we===0?(ue?"-":"+")+ye:ye+(ue?"-":"+"):ue&&(ye="-"+ye),ye},stringToNumber:function(K){var Z=W[G.currentLocale],J=K,Q={thousand:3,million:6,billion:9,trillion:12},ee,te,ie;if(G.zeroFormat&&K===G.zeroFormat)te=0;else if(G.nullFormat&&K===G.nullFormat||!K.replace(/[^0-9]+/g,"").length)te=null;else{te=1,Z.delimiters.decimal!=="."&&(K=K.replace(/\./g,"").replace(Z.delimiters.decimal,"."));for(ee in Q)if(ie=new RegExp("[^a-zA-Z]"+Z.abbreviations[ee]+"(?:\\)|(\\"+Z.currency.symbol+")?(?:\\))?)?$"),J.match(ie)){te*=Math.pow(10,Q[ee]);break}te*=(K.split("-").length+Math.min(K.split("(").length-1,K.split(")").length-1))%2?1:-1,K=K.replace(/[^0-9\.]+/g,""),te*=Number(K)}return te},isNaN:function(K){return typeof K=="number"&&isNaN(K)},includes:function(K,Z){return K.indexOf(Z)!==-1},insert:function(K,Z,J){return K.slice(0,J)+Z+K.slice(J)},reduce:function(K,Z){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=Object(K),Q=J.length>>>0,ee=0,te;if(arguments.length===3)te=arguments[2];else{for(;ee<Q&&!(ee in J);)ee++;if(ee>=Q)throw new TypeError("Reduce of empty array with no initial value");te=J[ee++]}for(;ee<Q;ee++)ee in J&&(te=Z(te,J[ee],ee,J));return te},multiplier:function(K){var Z=K.toString().split(".");return Z.length<2?1:Math.pow(10,Z[1].length)},correctionFactor:function(){var K=Array.prototype.slice.call(arguments);return K.reduce(function(Z,J){var Q=F.multiplier(J);return Z>Q?Z:Q},1)},toFixed:function(K,Z,J,Q){var ee=K.toString().split("."),te=Z-(Q||0),ie,re,ne,ae;return ee.length===2?ie=Math.min(Math.max(ee[1].length,te),Z):ie=te,ne=Math.pow(10,ie),ae=(J(K+"e+"+ie)/ne).toFixed(ie),Q>Z-ie&&(re=new RegExp("\\.?0{1,"+(Q-(Z-ie))+"}$"),ae=ae.replace(re,"")),ae}},E.options=G,E.formats=U,E.locales=W,E.locale=function(K){return K&&(G.currentLocale=K.toLowerCase()),G.currentLocale},E.localeData=function(K){if(!K)return W[G.currentLocale];if(K=K.toLowerCase(),!W[K])throw new Error("Unknown locale : "+K);return W[K]},E.reset=function(){for(var K in Y)G[K]=Y[K]},E.zeroFormat=function(K){G.zeroFormat=typeof K=="string"?K:null},E.nullFormat=function(K){G.nullFormat=typeof K=="string"?K:null},E.defaultFormat=function(K){G.defaultFormat=typeof K=="string"?K:"0.0"},E.register=function(K,Z,J){if(Z=Z.toLowerCase(),this[K+"s"][Z])throw new TypeError(Z+" "+K+" already registered.");return this[K+"s"][Z]=J,J},E.validate=function(K,Z){var J,Q,ee,te,ie,re,ne,ae;if(typeof K!="string"&&(K+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",K)),K=K.trim(),K.match(/^\d+$/))return!0;if(K==="")return!1;try{ne=E.localeData(Z)}catch{ne=E.localeData(E.locale())}return ee=ne.currency.symbol,ie=ne.abbreviations,J=ne.delimiters.decimal,ne.delimiters.thousands==="."?Q="\\.":Q=ne.delimiters.thousands,ae=K.match(/^[^\d]+/),ae!==null&&(K=K.substr(1),ae[0]!==ee)||(ae=K.match(/[^\d]+$/),ae!==null&&(K=K.slice(0,-1),ae[0]!==ie.thousand&&ae[0]!==ie.million&&ae[0]!==ie.billion&&ae[0]!==ie.trillion))?!1:(re=new RegExp(Q+"{2}"),K.match(/[^\d.,]/g)?!1:(te=K.split(J),te.length>2?!1:te.length<2?!!te[0].match(/^\d+.*\d$/)&&!te[0].match(re):te[0].length===1?!!te[0].match(/^\d+$/)&&!te[0].match(re)&&!!te[1].match(/^\d+$/):!!te[0].match(/^\d+.*\d$/)&&!te[0].match(re)&&!!te[1].match(/^\d+$/)))},E.fn=X.prototype={clone:function(){return E(this)},format:function(K,Z){var J=this._value,Q=K||G.defaultFormat,ee,te,ie;if(Z=Z||Math.round,J===0&&G.zeroFormat!==null)te=G.zeroFormat;else if(J===null&&G.nullFormat!==null)te=G.nullFormat;else{for(ee in U)if(Q.match(U[ee].regexps.format)){ie=U[ee].format;break}ie=ie||E._.numberToFormat,te=ie(J,Q,Z)}return te},value:function(){return this._value},input:function(){return this._input},set:function(K){return this._value=Number(K),this},add:function(K){var Z=F.correctionFactor.call(null,this._value,K);function J(Q,ee,te,ie){return Q+Math.round(Z*ee)}return this._value=F.reduce([this._value,K],J,0)/Z,this},subtract:function(K){var Z=F.correctionFactor.call(null,this._value,K);function J(Q,ee,te,ie){return Q-Math.round(Z*ee)}return this._value=F.reduce([K],J,Math.round(this._value*Z))/Z,this},multiply:function(K){function Z(J,Q,ee,te){var ie=F.correctionFactor(J,Q);return Math.round(J*ie)*Math.round(Q*ie)/Math.round(ie*ie)}return this._value=F.reduce([this._value,K],Z,1),this},divide:function(K){function Z(J,Q,ee,te){var ie=F.correctionFactor(J,Q);return Math.round(J*ie)/Math.round(Q*ie)}return this._value=F.reduce([this._value,K],Z),this},difference:function(K){return Math.abs(E(this._value).subtract(K).value())}},E.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(K){var Z=K%10;return~~(K%100/10)===1?"th":Z===1?"st":Z===2?"nd":Z===3?"rd":"th"},currency:{symbol:"$"}}),function(){E.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(K,Z,J){var Q=E._.includes(Z," BPS")?" ":"",ee;return K=K*1e4,Z=Z.replace(/\s?BPS/,""),ee=E._.numberToFormat(K,Z,J),E._.includes(ee,")")?(ee=ee.split(""),ee.splice(-1,0,Q+"BPS"),ee=ee.join("")):ee=ee+Q+"BPS",ee},unformat:function(K){return+(E._.stringToNumber(K)*1e-4).toFixed(15)}})}(),function(){var K={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},Z={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},J=K.suffixes.concat(Z.suffixes.filter(function(ee){return K.suffixes.indexOf(ee)<0})),Q=J.join("|");Q="("+Q.replace("B","B(?!PS)")+")",E.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(Q)},format:function(ee,te,ie){var re,ne=E._.includes(te,"ib")?Z:K,ae=E._.includes(te," b")||E._.includes(te," ib")?" ":"",se,le,oe;for(te=te.replace(/\s?i?b/,""),se=0;se<=ne.suffixes.length;se++)if(le=Math.pow(ne.base,se),oe=Math.pow(ne.base,se+1),ee===null||ee===0||ee>=le&&ee<oe){ae+=ne.suffixes[se],le>0&&(ee=ee/le);break}return re=E._.numberToFormat(ee,te,ie),re+ae},unformat:function(ee){var te=E._.stringToNumber(ee),ie,re;if(te){for(ie=K.suffixes.length-1;ie>=0;ie--){if(E._.includes(ee,K.suffixes[ie])){re=Math.pow(K.base,ie);break}if(E._.includes(ee,Z.suffixes[ie])){re=Math.pow(Z.base,ie);break}}te*=re||1}return te}})}(),function(){E.register("format","currency",{regexps:{format:/(\$)/},format:function(K,Z,J){var Q=E.locales[E.options.currentLocale],ee={before:Z.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:Z.match(/([\+|\-|\)|\s|\$]*)$/)[0]},te,ie,re;for(Z=Z.replace(/\s?\$\s?/,""),te=E._.numberToFormat(K,Z,J),K>=0?(ee.before=ee.before.replace(/[\-\(]/,""),ee.after=ee.after.replace(/[\-\)]/,"")):K<0&&!E._.includes(ee.before,"-")&&!E._.includes(ee.before,"(")&&(ee.before="-"+ee.before),re=0;re<ee.before.length;re++)switch(ie=ee.before[re],ie){case"$":te=E._.insert(te,Q.currency.symbol,re);break;case" ":te=E._.insert(te," ",re+Q.currency.symbol.length-1);break}for(re=ee.after.length-1;re>=0;re--)switch(ie=ee.after[re],ie){case"$":te=re===ee.after.length-1?te+Q.currency.symbol:E._.insert(te,Q.currency.symbol,-(ee.after.length-(1+re)));break;case" ":te=re===ee.after.length-1?te+" ":E._.insert(te," ",-(ee.after.length-(1+re)+Q.currency.symbol.length-1));break}return te}})}(),function(){E.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(K,Z,J){var Q,ee=typeof K=="number"&&!E._.isNaN(K)?K.toExponential():"0e+0",te=ee.split("e");return Z=Z.replace(/e[\+|\-]{1}0/,""),Q=E._.numberToFormat(Number(te[0]),Z,J),Q+"e"+te[1]},unformat:function(K){var Z=E._.includes(K,"e+")?K.split("e+"):K.split("e-"),J=Number(Z[0]),Q=Number(Z[1]);Q=E._.includes(K,"e-")?Q*=-1:Q;function ee(te,ie,re,ne){var ae=E._.correctionFactor(te,ie),se=te*ae*(ie*ae)/(ae*ae);return se}return E._.reduce([J,Math.pow(10,Q)],ee,1)}})}(),function(){E.register("format","ordinal",{regexps:{format:/(o)/},format:function(K,Z,J){var Q=E.locales[E.options.currentLocale],ee,te=E._.includes(Z," o")?" ":"";return Z=Z.replace(/\s?o/,""),te+=Q.ordinal(K),ee=E._.numberToFormat(K,Z,J),ee+te}})}(),function(){E.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(K,Z,J){var Q=E._.includes(Z," %")?" ":"",ee;return E.options.scalePercentBy100&&(K=K*100),Z=Z.replace(/\s?\%/,""),ee=E._.numberToFormat(K,Z,J),E._.includes(ee,")")?(ee=ee.split(""),ee.splice(-1,0,Q+"%"),ee=ee.join("")):ee=ee+Q+"%",ee},unformat:function(K){var Z=E._.stringToNumber(K);return E.options.scalePercentBy100?Z*.01:Z}})}(),function(){E.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(K,Z,J){var Q=Math.floor(K/60/60),ee=Math.floor((K-Q*60*60)/60),te=Math.round(K-Q*60*60-ee*60);return Q+":"+(ee<10?"0"+ee:ee)+":"+(te<10?"0"+te:te)},unformat:function(K){var Z=K.split(":"),J=0;return Z.length===3?(J=J+Number(Z[0])*60*60,J=J+Number(Z[1])*60,J=J+Number(Z[2])):Z.length===2&&(J=J+Number(Z[0])*60,J=J+Number(Z[1])),Number(J)}})}(),E})})(numeral$1);const numeral=numeral$1.exports;//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(V){hookCallback=V}function isArray$3(V){return V instanceof Array||Object.prototype.toString.call(V)==="[object Array]"}function isObject$a(V){return V!=null&&Object.prototype.toString.call(V)==="[object Object]"}function hasOwnProp(V,E){return Object.prototype.hasOwnProperty.call(V,E)}function isObjectEmpty(V){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(V).length===0;var E;for(E in V)if(hasOwnProp(V,E))return!1;return!0}function isUndefined$2(V){return V===void 0}function isNumber$3(V){return typeof V=="number"||Object.prototype.toString.call(V)==="[object Number]"}function isDate$2(V){return V instanceof Date||Object.prototype.toString.call(V)==="[object Date]"}function map$2(V,E){var F=[],R,U=V.length;for(R=0;R<U;++R)F.push(E(V[R],R));return F}function extend$2(V,E){for(var F in E)hasOwnProp(E,F)&&(V[F]=E[F]);return hasOwnProp(E,"toString")&&(V.toString=E.toString),hasOwnProp(E,"valueOf")&&(V.valueOf=E.valueOf),V}function createUTC(V,E,F,R){return createLocalOrUTC(V,E,F,R,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(V){return V._pf==null&&(V._pf=defaultParsingFlags()),V._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(V){var E=Object(this),F=E.length>>>0,R;for(R=0;R<F;R++)if(R in E&&V.call(this,E[R],R,E))return!0;return!1};function isValid(V){if(V._isValid==null){var E=getParsingFlags(V),F=some.call(E.parsedDateParts,function(U){return U!=null}),R=!isNaN(V._d.getTime())&&E.overflow<0&&!E.empty&&!E.invalidEra&&!E.invalidMonth&&!E.invalidWeekday&&!E.weekdayMismatch&&!E.nullInput&&!E.invalidFormat&&!E.userInvalidated&&(!E.meridiem||E.meridiem&&F);if(V._strict&&(R=R&&E.charsLeftOver===0&&E.unusedTokens.length===0&&E.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(V))V._isValid=R;else return R}return V._isValid}function createInvalid(V){var E=createUTC(NaN);return V!=null?extend$2(getParsingFlags(E),V):getParsingFlags(E).userInvalidated=!0,E}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(V,E){var F,R,U,W=momentProperties.length;if(isUndefined$2(E._isAMomentObject)||(V._isAMomentObject=E._isAMomentObject),isUndefined$2(E._i)||(V._i=E._i),isUndefined$2(E._f)||(V._f=E._f),isUndefined$2(E._l)||(V._l=E._l),isUndefined$2(E._strict)||(V._strict=E._strict),isUndefined$2(E._tzm)||(V._tzm=E._tzm),isUndefined$2(E._isUTC)||(V._isUTC=E._isUTC),isUndefined$2(E._offset)||(V._offset=E._offset),isUndefined$2(E._pf)||(V._pf=getParsingFlags(E)),isUndefined$2(E._locale)||(V._locale=E._locale),W>0)for(F=0;F<W;F++)R=momentProperties[F],U=E[R],isUndefined$2(U)||(V[R]=U);return V}function Moment(V){copyConfig(this,V),this._d=new Date(V._d!=null?V._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(V){return V instanceof Moment||V!=null&&V._isAMomentObject!=null}function warn$2(V){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+V)}function deprecate(V,E){var F=!0;return extend$2(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,V),F){var R=[],U,W,Y,G=arguments.length;for(W=0;W<G;W++){if(U="",typeof arguments[W]=="object"){U+=`
[`+W+"] ";for(Y in arguments[0])hasOwnProp(arguments[0],Y)&&(U+=Y+": "+arguments[0][Y]+", ");U=U.slice(0,-2)}else U=arguments[W];R.push(U)}warn$2(V+`
Arguments: `+Array.prototype.slice.call(R).join("")+`
`+new Error().stack),F=!1}return E.apply(this,arguments)},E)}var deprecations={};function deprecateSimple(V,E){hooks.deprecationHandler!=null&&hooks.deprecationHandler(V,E),deprecations[V]||(warn$2(E),deprecations[V]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$2(V){return typeof Function<"u"&&V instanceof Function||Object.prototype.toString.call(V)==="[object Function]"}function set(V){var E,F;for(F in V)hasOwnProp(V,F)&&(E=V[F],isFunction$2(E)?this[F]=E:this["_"+F]=E);this._config=V,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(V,E){var F=extend$2({},V),R;for(R in E)hasOwnProp(E,R)&&(isObject$a(V[R])&&isObject$a(E[R])?(F[R]={},extend$2(F[R],V[R]),extend$2(F[R],E[R])):E[R]!=null?F[R]=E[R]:delete F[R]);for(R in V)hasOwnProp(V,R)&&!hasOwnProp(E,R)&&isObject$a(V[R])&&(F[R]=extend$2({},F[R]));return F}function Locale(V){V!=null&&this.set(V)}var keys$1;Object.keys?keys$1=Object.keys:keys$1=function(V){var E,F=[];for(E in V)hasOwnProp(V,E)&&F.push(E);return F};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(V,E,F){var R=this._calendar[V]||this._calendar.sameElse;return isFunction$2(R)?R.call(E,F):R}function zeroFill(V,E,F){var R=""+Math.abs(V),U=E-R.length,W=V>=0;return(W?F?"+":"":"-")+Math.pow(10,Math.max(0,U)).toString().substr(1)+R}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(V,E,F,R){var U=R;typeof R=="string"&&(U=function(){return this[R]()}),V&&(formatTokenFunctions[V]=U),E&&(formatTokenFunctions[E[0]]=function(){return zeroFill(U.apply(this,arguments),E[1],E[2])}),F&&(formatTokenFunctions[F]=function(){return this.localeData().ordinal(U.apply(this,arguments),V)})}function removeFormattingTokens(V){return V.match(/\[[\s\S]/)?V.replace(/^\[|\]$/g,""):V.replace(/\\/g,"")}function makeFormatFunction(V){var E=V.match(formattingTokens),F,R;for(F=0,R=E.length;F<R;F++)formatTokenFunctions[E[F]]?E[F]=formatTokenFunctions[E[F]]:E[F]=removeFormattingTokens(E[F]);return function(U){var W="",Y;for(Y=0;Y<R;Y++)W+=isFunction$2(E[Y])?E[Y].call(U,V):E[Y];return W}}function formatMoment(V,E){return V.isValid()?(E=expandFormat(E,V.localeData()),formatFunctions[E]=formatFunctions[E]||makeFormatFunction(E),formatFunctions[E](V)):V.localeData().invalidDate()}function expandFormat(V,E){var F=5;function R(U){return E.longDateFormat(U)||U}for(localFormattingTokens.lastIndex=0;F>=0&&localFormattingTokens.test(V);)V=V.replace(localFormattingTokens,R),localFormattingTokens.lastIndex=0,F-=1;return V}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(V){var E=this._longDateFormat[V],F=this._longDateFormat[V.toUpperCase()];return E||!F?E:(this._longDateFormat[V]=F.match(formattingTokens).map(function(R){return R==="MMMM"||R==="MM"||R==="DD"||R==="dddd"?R.slice(1):R}).join(""),this._longDateFormat[V])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(V){return this._ordinal.replace("%d",V)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(V,E,F,R){var U=this._relativeTime[F];return isFunction$2(U)?U(V,E,F,R):U.replace(/%d/i,V)}function pastFuture(V,E){var F=this._relativeTime[V>0?"future":"past"];return isFunction$2(F)?F(E):F.replace(/%s/i,E)}var aliases={};function addUnitAlias(V,E){var F=V.toLowerCase();aliases[F]=aliases[F+"s"]=aliases[E]=V}function normalizeUnits(V){return typeof V=="string"?aliases[V]||aliases[V.toLowerCase()]:void 0}function normalizeObjectUnits(V){var E={},F,R;for(R in V)hasOwnProp(V,R)&&(F=normalizeUnits(R),F&&(E[F]=V[R]));return E}var priorities={};function addUnitPriority(V,E){priorities[V]=E}function getPrioritizedUnits(V){var E=[],F;for(F in V)hasOwnProp(V,F)&&E.push({unit:F,priority:priorities[F]});return E.sort(function(R,U){return R.priority-U.priority}),E}function isLeapYear(V){return V%4===0&&V%100!==0||V%400===0}function absFloor(V){return V<0?Math.ceil(V)||0:Math.floor(V)}function toInt(V){var E=+V,F=0;return E!==0&&isFinite(E)&&(F=absFloor(E)),F}function makeGetSet(V,E){return function(F){return F!=null?(set$1(this,V,F),hooks.updateOffset(this,E),this):get(this,V)}}function get(V,E){return V.isValid()?V._d["get"+(V._isUTC?"UTC":"")+E]():NaN}function set$1(V,E,F){V.isValid()&&!isNaN(F)&&(E==="FullYear"&&isLeapYear(V.year())&&V.month()===1&&V.date()===29?(F=toInt(F),V._d["set"+(V._isUTC?"UTC":"")+E](F,V.month(),daysInMonth(F,V.month()))):V._d["set"+(V._isUTC?"UTC":"")+E](F))}function stringGet(V){return V=normalizeUnits(V),isFunction$2(this[V])?this[V]():this}function stringSet(V,E){if(typeof V=="object"){V=normalizeObjectUnits(V);var F=getPrioritizedUnits(V),R,U=F.length;for(R=0;R<U;R++)this[F[R].unit](V[F[R].unit])}else if(V=normalizeUnits(V),isFunction$2(this[V]))return this[V](E);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(V,E,F){regexes[V]=isFunction$2(E)?E:function(R,U){return R&&F?F:E}}function getParseRegexForToken(V,E){return hasOwnProp(regexes,V)?regexes[V](E._strict,E._locale):new RegExp(unescapeFormat(V))}function unescapeFormat(V){return regexEscape(V.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(E,F,R,U,W){return F||R||U||W}))}function regexEscape(V){return V.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(V,E){var F,R=E,U;for(typeof V=="string"&&(V=[V]),isNumber$3(E)&&(R=function(W,Y){Y[E]=toInt(W)}),U=V.length,F=0;F<U;F++)tokens[V[F]]=R}function addWeekParseToken(V,E){addParseToken(V,function(F,R,U,W){U._w=U._w||{},E(F,U._w,U,W)})}function addTimeToArrayFromToken(V,E,F){E!=null&&hasOwnProp(tokens,V)&&tokens[V](E,F._a,F,V)}var YEAR=0,MONTH=1,DATE$1=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod$1(V,E){return(V%E+E)%E}var indexOf$1;Array.prototype.indexOf?indexOf$1=Array.prototype.indexOf:indexOf$1=function(V){var E;for(E=0;E<this.length;++E)if(this[E]===V)return E;return-1};function daysInMonth(V,E){if(isNaN(V)||isNaN(E))return NaN;var F=mod$1(E,12);return V+=(E-F)/12,F===1?isLeapYear(V)?29:28:31-F%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(V){return this.localeData().monthsShort(this,V)});addFormatToken("MMMM",0,0,function(V){return this.localeData().months(this,V)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(V,E){return E.monthsShortRegex(V)});addRegexToken("MMMM",function(V,E){return E.monthsRegex(V)});addParseToken(["M","MM"],function(V,E){E[MONTH]=toInt(V)-1});addParseToken(["MMM","MMMM"],function(V,E,F,R){var U=F._locale.monthsParse(V,R,F._strict);U!=null?E[MONTH]=U:getParsingFlags(F).invalidMonth=V});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(V,E){return V?isArray$3(this._months)?this._months[V.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(E)?"format":"standalone"][V.month()]:isArray$3(this._months)?this._months:this._months.standalone}function localeMonthsShort(V,E){return V?isArray$3(this._monthsShort)?this._monthsShort[V.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(E)?"format":"standalone"][V.month()]:isArray$3(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(V,E,F){var R,U,W,Y=V.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],R=0;R<12;++R)W=createUTC([2e3,R]),this._shortMonthsParse[R]=this.monthsShort(W,"").toLocaleLowerCase(),this._longMonthsParse[R]=this.months(W,"").toLocaleLowerCase();return F?E==="MMM"?(U=indexOf$1.call(this._shortMonthsParse,Y),U!==-1?U:null):(U=indexOf$1.call(this._longMonthsParse,Y),U!==-1?U:null):E==="MMM"?(U=indexOf$1.call(this._shortMonthsParse,Y),U!==-1?U:(U=indexOf$1.call(this._longMonthsParse,Y),U!==-1?U:null)):(U=indexOf$1.call(this._longMonthsParse,Y),U!==-1?U:(U=indexOf$1.call(this._shortMonthsParse,Y),U!==-1?U:null))}function localeMonthsParse(V,E,F){var R,U,W;if(this._monthsParseExact)return handleStrictParse.call(this,V,E,F);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),R=0;R<12;R++){if(U=createUTC([2e3,R]),F&&!this._longMonthsParse[R]&&(this._longMonthsParse[R]=new RegExp("^"+this.months(U,"").replace(".","")+"$","i"),this._shortMonthsParse[R]=new RegExp("^"+this.monthsShort(U,"").replace(".","")+"$","i")),!F&&!this._monthsParse[R]&&(W="^"+this.months(U,"")+"|^"+this.monthsShort(U,""),this._monthsParse[R]=new RegExp(W.replace(".",""),"i")),F&&E==="MMMM"&&this._longMonthsParse[R].test(V))return R;if(F&&E==="MMM"&&this._shortMonthsParse[R].test(V))return R;if(!F&&this._monthsParse[R].test(V))return R}}function setMonth(V,E){var F;if(!V.isValid())return V;if(typeof E=="string"){if(/^\d+$/.test(E))E=toInt(E);else if(E=V.localeData().monthsParse(E),!isNumber$3(E))return V}return F=Math.min(V.date(),daysInMonth(V.year(),E)),V._d["set"+(V._isUTC?"UTC":"")+"Month"](E,F),V}function getSetMonth(V){return V!=null?(setMonth(this,V),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(V){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),V?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&V?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(V){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),V?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&V?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function V(Y,G){return G.length-Y.length}var E=[],F=[],R=[],U,W;for(U=0;U<12;U++)W=createUTC([2e3,U]),E.push(this.monthsShort(W,"")),F.push(this.months(W,"")),R.push(this.months(W,"")),R.push(this.monthsShort(W,""));for(E.sort(V),F.sort(V),R.sort(V),U=0;U<12;U++)E[U]=regexEscape(E[U]),F[U]=regexEscape(F[U]);for(U=0;U<24;U++)R[U]=regexEscape(R[U]);this._monthsRegex=new RegExp("^("+R.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+F.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+E.join("|")+")","i")}addFormatToken("Y",0,0,function(){var V=this.year();return V<=9999?zeroFill(V,4):"+"+V});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(V,E){E[YEAR]=V.length===2?hooks.parseTwoDigitYear(V):toInt(V)});addParseToken("YY",function(V,E){E[YEAR]=hooks.parseTwoDigitYear(V)});addParseToken("Y",function(V,E){E[YEAR]=parseInt(V,10)});function daysInYear(V){return isLeapYear(V)?366:365}hooks.parseTwoDigitYear=function(V){return toInt(V)+(toInt(V)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(V,E,F,R,U,W,Y){var G;return V<100&&V>=0?(G=new Date(V+400,E,F,R,U,W,Y),isFinite(G.getFullYear())&&G.setFullYear(V)):G=new Date(V,E,F,R,U,W,Y),G}function createUTCDate(V){var E,F;return V<100&&V>=0?(F=Array.prototype.slice.call(arguments),F[0]=V+400,E=new Date(Date.UTC.apply(null,F)),isFinite(E.getUTCFullYear())&&E.setUTCFullYear(V)):E=new Date(Date.UTC.apply(null,arguments)),E}function firstWeekOffset(V,E,F){var R=7+E-F,U=(7+createUTCDate(V,0,R).getUTCDay()-E)%7;return-U+R-1}function dayOfYearFromWeeks(V,E,F,R,U){var W=(7+F-R)%7,Y=firstWeekOffset(V,R,U),G=1+7*(E-1)+W+Y,X,K;return G<=0?(X=V-1,K=daysInYear(X)+G):G>daysInYear(V)?(X=V+1,K=G-daysInYear(V)):(X=V,K=G),{year:X,dayOfYear:K}}function weekOfYear(V,E,F){var R=firstWeekOffset(V.year(),E,F),U=Math.floor((V.dayOfYear()-R-1)/7)+1,W,Y;return U<1?(Y=V.year()-1,W=U+weeksInYear(Y,E,F)):U>weeksInYear(V.year(),E,F)?(W=U-weeksInYear(V.year(),E,F),Y=V.year()+1):(Y=V.year(),W=U),{week:W,year:Y}}function weeksInYear(V,E,F){var R=firstWeekOffset(V,E,F),U=firstWeekOffset(V+1,E,F);return(daysInYear(V)-R+U)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(V,E,F,R){E[R.substr(0,1)]=toInt(V)});function localeWeek(V){return weekOfYear(V,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(V){var E=this.localeData().week(this);return V==null?E:this.add((V-E)*7,"d")}function getSetISOWeek(V){var E=weekOfYear(this,1,4).week;return V==null?E:this.add((V-E)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(V){return this.localeData().weekdaysMin(this,V)});addFormatToken("ddd",0,0,function(V){return this.localeData().weekdaysShort(this,V)});addFormatToken("dddd",0,0,function(V){return this.localeData().weekdays(this,V)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(V,E){return E.weekdaysMinRegex(V)});addRegexToken("ddd",function(V,E){return E.weekdaysShortRegex(V)});addRegexToken("dddd",function(V,E){return E.weekdaysRegex(V)});addWeekParseToken(["dd","ddd","dddd"],function(V,E,F,R){var U=F._locale.weekdaysParse(V,R,F._strict);U!=null?E.d=U:getParsingFlags(F).invalidWeekday=V});addWeekParseToken(["d","e","E"],function(V,E,F,R){E[R]=toInt(V)});function parseWeekday(V,E){return typeof V!="string"?V:isNaN(V)?(V=E.weekdaysParse(V),typeof V=="number"?V:null):parseInt(V,10)}function parseIsoWeekday(V,E){return typeof V=="string"?E.weekdaysParse(V)%7||7:isNaN(V)?null:V}function shiftWeekdays(V,E){return V.slice(E,7).concat(V.slice(0,E))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(V,E){var F=isArray$3(this._weekdays)?this._weekdays:this._weekdays[V&&V!==!0&&this._weekdays.isFormat.test(E)?"format":"standalone"];return V===!0?shiftWeekdays(F,this._week.dow):V?F[V.day()]:F}function localeWeekdaysShort(V){return V===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):V?this._weekdaysShort[V.day()]:this._weekdaysShort}function localeWeekdaysMin(V){return V===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):V?this._weekdaysMin[V.day()]:this._weekdaysMin}function handleStrictParse$1(V,E,F){var R,U,W,Y=V.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],R=0;R<7;++R)W=createUTC([2e3,1]).day(R),this._minWeekdaysParse[R]=this.weekdaysMin(W,"").toLocaleLowerCase(),this._shortWeekdaysParse[R]=this.weekdaysShort(W,"").toLocaleLowerCase(),this._weekdaysParse[R]=this.weekdays(W,"").toLocaleLowerCase();return F?E==="dddd"?(U=indexOf$1.call(this._weekdaysParse,Y),U!==-1?U:null):E==="ddd"?(U=indexOf$1.call(this._shortWeekdaysParse,Y),U!==-1?U:null):(U=indexOf$1.call(this._minWeekdaysParse,Y),U!==-1?U:null):E==="dddd"?(U=indexOf$1.call(this._weekdaysParse,Y),U!==-1||(U=indexOf$1.call(this._shortWeekdaysParse,Y),U!==-1)?U:(U=indexOf$1.call(this._minWeekdaysParse,Y),U!==-1?U:null)):E==="ddd"?(U=indexOf$1.call(this._shortWeekdaysParse,Y),U!==-1||(U=indexOf$1.call(this._weekdaysParse,Y),U!==-1)?U:(U=indexOf$1.call(this._minWeekdaysParse,Y),U!==-1?U:null)):(U=indexOf$1.call(this._minWeekdaysParse,Y),U!==-1||(U=indexOf$1.call(this._weekdaysParse,Y),U!==-1)?U:(U=indexOf$1.call(this._shortWeekdaysParse,Y),U!==-1?U:null))}function localeWeekdaysParse(V,E,F){var R,U,W;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,V,E,F);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),R=0;R<7;R++){if(U=createUTC([2e3,1]).day(R),F&&!this._fullWeekdaysParse[R]&&(this._fullWeekdaysParse[R]=new RegExp("^"+this.weekdays(U,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[R]=new RegExp("^"+this.weekdaysShort(U,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[R]=new RegExp("^"+this.weekdaysMin(U,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[R]||(W="^"+this.weekdays(U,"")+"|^"+this.weekdaysShort(U,"")+"|^"+this.weekdaysMin(U,""),this._weekdaysParse[R]=new RegExp(W.replace(".",""),"i")),F&&E==="dddd"&&this._fullWeekdaysParse[R].test(V))return R;if(F&&E==="ddd"&&this._shortWeekdaysParse[R].test(V))return R;if(F&&E==="dd"&&this._minWeekdaysParse[R].test(V))return R;if(!F&&this._weekdaysParse[R].test(V))return R}}function getSetDayOfWeek(V){if(!this.isValid())return V!=null?this:NaN;var E=this._isUTC?this._d.getUTCDay():this._d.getDay();return V!=null?(V=parseWeekday(V,this.localeData()),this.add(V-E,"d")):E}function getSetLocaleDayOfWeek(V){if(!this.isValid())return V!=null?this:NaN;var E=(this.day()+7-this.localeData()._week.dow)%7;return V==null?E:this.add(V-E,"d")}function getSetISODayOfWeek(V){if(!this.isValid())return V!=null?this:NaN;if(V!=null){var E=parseIsoWeekday(V,this.localeData());return this.day(this.day()%7?E:E-7)}else return this.day()||7}function weekdaysRegex(V){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),V?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&V?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(V){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),V?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&V?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(V){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),V?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&V?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function V(Z,J){return J.length-Z.length}var E=[],F=[],R=[],U=[],W,Y,G,X,K;for(W=0;W<7;W++)Y=createUTC([2e3,1]).day(W),G=regexEscape(this.weekdaysMin(Y,"")),X=regexEscape(this.weekdaysShort(Y,"")),K=regexEscape(this.weekdays(Y,"")),E.push(G),F.push(X),R.push(K),U.push(G),U.push(X),U.push(K);E.sort(V),F.sort(V),R.sort(V),U.sort(V),this._weekdaysRegex=new RegExp("^("+U.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+R.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+F.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+E.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(V,E){addFormatToken(V,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),E)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(V,E){return E._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(V,E,F){var R=toInt(V);E[HOUR]=R===24?0:R});addParseToken(["a","A"],function(V,E,F){F._isPm=F._locale.isPM(V),F._meridiem=V});addParseToken(["h","hh"],function(V,E,F){E[HOUR]=toInt(V),getParsingFlags(F).bigHour=!0});addParseToken("hmm",function(V,E,F){var R=V.length-2;E[HOUR]=toInt(V.substr(0,R)),E[MINUTE]=toInt(V.substr(R)),getParsingFlags(F).bigHour=!0});addParseToken("hmmss",function(V,E,F){var R=V.length-4,U=V.length-2;E[HOUR]=toInt(V.substr(0,R)),E[MINUTE]=toInt(V.substr(R,2)),E[SECOND]=toInt(V.substr(U)),getParsingFlags(F).bigHour=!0});addParseToken("Hmm",function(V,E,F){var R=V.length-2;E[HOUR]=toInt(V.substr(0,R)),E[MINUTE]=toInt(V.substr(R))});addParseToken("Hmmss",function(V,E,F){var R=V.length-4,U=V.length-2;E[HOUR]=toInt(V.substr(0,R)),E[MINUTE]=toInt(V.substr(R,2)),E[SECOND]=toInt(V.substr(U))});function localeIsPM(V){return(V+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(V,E,F){return V>11?F?"pm":"PM":F?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(V,E){var F,R=Math.min(V.length,E.length);for(F=0;F<R;F+=1)if(V[F]!==E[F])return F;return R}function normalizeLocale(V){return V&&V.toLowerCase().replace("_","-")}function chooseLocale(V){for(var E=0,F,R,U,W;E<V.length;){for(W=normalizeLocale(V[E]).split("-"),F=W.length,R=normalizeLocale(V[E+1]),R=R?R.split("-"):null;F>0;){if(U=loadLocale(W.slice(0,F).join("-")),U)return U;if(R&&R.length>=F&&commonPrefix(W,R)>=F-1)break;F--}E++}return globalLocale}function isLocaleNameSane(V){return V.match("^[^/\\\\]*$")!=null}function loadLocale(V){var E=null,F;if(locales[V]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(V))try{E=globalLocale._abbr,F=require,F("./locale/"+V),getSetGlobalLocale(E)}catch{locales[V]=null}return locales[V]}function getSetGlobalLocale(V,E){var F;return V&&(isUndefined$2(E)?F=getLocale(V):F=defineLocale(V,E),F?globalLocale=F:typeof console<"u"&&console.warn&&console.warn("Locale "+V+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(V,E){if(E!==null){var F,R=baseConfig;if(E.abbr=V,locales[V]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),R=locales[V]._config;else if(E.parentLocale!=null)if(locales[E.parentLocale]!=null)R=locales[E.parentLocale]._config;else if(F=loadLocale(E.parentLocale),F!=null)R=F._config;else return localeFamilies[E.parentLocale]||(localeFamilies[E.parentLocale]=[]),localeFamilies[E.parentLocale].push({name:V,config:E}),null;return locales[V]=new Locale(mergeConfigs(R,E)),localeFamilies[V]&&localeFamilies[V].forEach(function(U){defineLocale(U.name,U.config)}),getSetGlobalLocale(V),locales[V]}else return delete locales[V],null}function updateLocale(V,E){if(E!=null){var F,R,U=baseConfig;locales[V]!=null&&locales[V].parentLocale!=null?locales[V].set(mergeConfigs(locales[V]._config,E)):(R=loadLocale(V),R!=null&&(U=R._config),E=mergeConfigs(U,E),R==null&&(E.abbr=V),F=new Locale(E),F.parentLocale=locales[V],locales[V]=F),getSetGlobalLocale(V)}else locales[V]!=null&&(locales[V].parentLocale!=null?(locales[V]=locales[V].parentLocale,V===getSetGlobalLocale()&&getSetGlobalLocale(V)):locales[V]!=null&&delete locales[V]);return locales[V]}function getLocale(V){var E;if(V&&V._locale&&V._locale._abbr&&(V=V._locale._abbr),!V)return globalLocale;if(!isArray$3(V)){if(E=loadLocale(V),E)return E;V=[V]}return chooseLocale(V)}function listLocales(){return keys$1(locales)}function checkOverflow(V){var E,F=V._a;return F&&getParsingFlags(V).overflow===-2&&(E=F[MONTH]<0||F[MONTH]>11?MONTH:F[DATE$1]<1||F[DATE$1]>daysInMonth(F[YEAR],F[MONTH])?DATE$1:F[HOUR]<0||F[HOUR]>24||F[HOUR]===24&&(F[MINUTE]!==0||F[SECOND]!==0||F[MILLISECOND]!==0)?HOUR:F[MINUTE]<0||F[MINUTE]>59?MINUTE:F[SECOND]<0||F[SECOND]>59?SECOND:F[MILLISECOND]<0||F[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(V)._overflowDayOfYear&&(E<YEAR||E>DATE$1)&&(E=DATE$1),getParsingFlags(V)._overflowWeeks&&E===-1&&(E=WEEK),getParsingFlags(V)._overflowWeekday&&E===-1&&(E=WEEKDAY),getParsingFlags(V).overflow=E),V}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(V){var E,F,R=V._i,U=extendedIsoRegex.exec(R)||basicIsoRegex.exec(R),W,Y,G,X,K=isoDates.length,Z=isoTimes.length;if(U){for(getParsingFlags(V).iso=!0,E=0,F=K;E<F;E++)if(isoDates[E][1].exec(U[1])){Y=isoDates[E][0],W=isoDates[E][2]!==!1;break}if(Y==null){V._isValid=!1;return}if(U[3]){for(E=0,F=Z;E<F;E++)if(isoTimes[E][1].exec(U[3])){G=(U[2]||" ")+isoTimes[E][0];break}if(G==null){V._isValid=!1;return}}if(!W&&G!=null){V._isValid=!1;return}if(U[4])if(tzRegex.exec(U[4]))X="Z";else{V._isValid=!1;return}V._f=Y+(G||"")+(X||""),configFromStringAndFormat(V)}else V._isValid=!1}function extractFromRFC2822Strings(V,E,F,R,U,W){var Y=[untruncateYear(V),defaultLocaleMonthsShort.indexOf(E),parseInt(F,10),parseInt(R,10),parseInt(U,10)];return W&&Y.push(parseInt(W,10)),Y}function untruncateYear(V){var E=parseInt(V,10);return E<=49?2e3+E:E<=999?1900+E:E}function preprocessRFC2822(V){return V.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(V,E,F){if(V){var R=defaultLocaleWeekdaysShort.indexOf(V),U=new Date(E[0],E[1],E[2]).getDay();if(R!==U)return getParsingFlags(F).weekdayMismatch=!0,F._isValid=!1,!1}return!0}function calculateOffset(V,E,F){if(V)return obsOffsets[V];if(E)return 0;var R=parseInt(F,10),U=R%100,W=(R-U)/100;return W*60+U}function configFromRFC2822(V){var E=rfc2822.exec(preprocessRFC2822(V._i)),F;if(E){if(F=extractFromRFC2822Strings(E[4],E[3],E[2],E[5],E[6],E[7]),!checkWeekday(E[1],F,V))return;V._a=F,V._tzm=calculateOffset(E[8],E[9],E[10]),V._d=createUTCDate.apply(null,V._a),V._d.setUTCMinutes(V._d.getUTCMinutes()-V._tzm),getParsingFlags(V).rfc2822=!0}else V._isValid=!1}function configFromString(V){var E=aspNetJsonRegex.exec(V._i);if(E!==null){V._d=new Date(+E[1]);return}if(configFromISO(V),V._isValid===!1)delete V._isValid;else return;if(configFromRFC2822(V),V._isValid===!1)delete V._isValid;else return;V._strict?V._isValid=!1:hooks.createFromInputFallback(V)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(V){V._d=new Date(V._i+(V._useUTC?" UTC":""))});function defaults$3(V,E,F){return V!=null?V:E!=null?E:F}function currentDateArray(V){var E=new Date(hooks.now());return V._useUTC?[E.getUTCFullYear(),E.getUTCMonth(),E.getUTCDate()]:[E.getFullYear(),E.getMonth(),E.getDate()]}function configFromArray(V){var E,F,R=[],U,W,Y;if(!V._d){for(U=currentDateArray(V),V._w&&V._a[DATE$1]==null&&V._a[MONTH]==null&&dayOfYearFromWeekInfo(V),V._dayOfYear!=null&&(Y=defaults$3(V._a[YEAR],U[YEAR]),(V._dayOfYear>daysInYear(Y)||V._dayOfYear===0)&&(getParsingFlags(V)._overflowDayOfYear=!0),F=createUTCDate(Y,0,V._dayOfYear),V._a[MONTH]=F.getUTCMonth(),V._a[DATE$1]=F.getUTCDate()),E=0;E<3&&V._a[E]==null;++E)V._a[E]=R[E]=U[E];for(;E<7;E++)V._a[E]=R[E]=V._a[E]==null?E===2?1:0:V._a[E];V._a[HOUR]===24&&V._a[MINUTE]===0&&V._a[SECOND]===0&&V._a[MILLISECOND]===0&&(V._nextDay=!0,V._a[HOUR]=0),V._d=(V._useUTC?createUTCDate:createDate).apply(null,R),W=V._useUTC?V._d.getUTCDay():V._d.getDay(),V._tzm!=null&&V._d.setUTCMinutes(V._d.getUTCMinutes()-V._tzm),V._nextDay&&(V._a[HOUR]=24),V._w&&typeof V._w.d<"u"&&V._w.d!==W&&(getParsingFlags(V).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(V){var E,F,R,U,W,Y,G,X,K;E=V._w,E.GG!=null||E.W!=null||E.E!=null?(W=1,Y=4,F=defaults$3(E.GG,V._a[YEAR],weekOfYear(createLocal(),1,4).year),R=defaults$3(E.W,1),U=defaults$3(E.E,1),(U<1||U>7)&&(X=!0)):(W=V._locale._week.dow,Y=V._locale._week.doy,K=weekOfYear(createLocal(),W,Y),F=defaults$3(E.gg,V._a[YEAR],K.year),R=defaults$3(E.w,K.week),E.d!=null?(U=E.d,(U<0||U>6)&&(X=!0)):E.e!=null?(U=E.e+W,(E.e<0||E.e>6)&&(X=!0)):U=W),R<1||R>weeksInYear(F,W,Y)?getParsingFlags(V)._overflowWeeks=!0:X!=null?getParsingFlags(V)._overflowWeekday=!0:(G=dayOfYearFromWeeks(F,R,U,W,Y),V._a[YEAR]=G.year,V._dayOfYear=G.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(V){if(V._f===hooks.ISO_8601){configFromISO(V);return}if(V._f===hooks.RFC_2822){configFromRFC2822(V);return}V._a=[],getParsingFlags(V).empty=!0;var E=""+V._i,F,R,U,W,Y,G=E.length,X=0,K,Z;for(U=expandFormat(V._f,V._locale).match(formattingTokens)||[],Z=U.length,F=0;F<Z;F++)W=U[F],R=(E.match(getParseRegexForToken(W,V))||[])[0],R&&(Y=E.substr(0,E.indexOf(R)),Y.length>0&&getParsingFlags(V).unusedInput.push(Y),E=E.slice(E.indexOf(R)+R.length),X+=R.length),formatTokenFunctions[W]?(R?getParsingFlags(V).empty=!1:getParsingFlags(V).unusedTokens.push(W),addTimeToArrayFromToken(W,R,V)):V._strict&&!R&&getParsingFlags(V).unusedTokens.push(W);getParsingFlags(V).charsLeftOver=G-X,E.length>0&&getParsingFlags(V).unusedInput.push(E),V._a[HOUR]<=12&&getParsingFlags(V).bigHour===!0&&V._a[HOUR]>0&&(getParsingFlags(V).bigHour=void 0),getParsingFlags(V).parsedDateParts=V._a.slice(0),getParsingFlags(V).meridiem=V._meridiem,V._a[HOUR]=meridiemFixWrap(V._locale,V._a[HOUR],V._meridiem),K=getParsingFlags(V).era,K!==null&&(V._a[YEAR]=V._locale.erasConvertYear(K,V._a[YEAR])),configFromArray(V),checkOverflow(V)}function meridiemFixWrap(V,E,F){var R;return F==null?E:V.meridiemHour!=null?V.meridiemHour(E,F):(V.isPM!=null&&(R=V.isPM(F),R&&E<12&&(E+=12),!R&&E===12&&(E=0)),E)}function configFromStringAndArray(V){var E,F,R,U,W,Y,G=!1,X=V._f.length;if(X===0){getParsingFlags(V).invalidFormat=!0,V._d=new Date(NaN);return}for(U=0;U<X;U++)W=0,Y=!1,E=copyConfig({},V),V._useUTC!=null&&(E._useUTC=V._useUTC),E._f=V._f[U],configFromStringAndFormat(E),isValid(E)&&(Y=!0),W+=getParsingFlags(E).charsLeftOver,W+=getParsingFlags(E).unusedTokens.length*10,getParsingFlags(E).score=W,G?W<R&&(R=W,F=E):(R==null||W<R||Y)&&(R=W,F=E,Y&&(G=!0));extend$2(V,F||E)}function configFromObject(V){if(!V._d){var E=normalizeObjectUnits(V._i),F=E.day===void 0?E.date:E.day;V._a=map$2([E.year,E.month,F,E.hour,E.minute,E.second,E.millisecond],function(R){return R&&parseInt(R,10)}),configFromArray(V)}}function createFromConfig(V){var E=new Moment(checkOverflow(prepareConfig(V)));return E._nextDay&&(E.add(1,"d"),E._nextDay=void 0),E}function prepareConfig(V){var E=V._i,F=V._f;return V._locale=V._locale||getLocale(V._l),E===null||F===void 0&&E===""?createInvalid({nullInput:!0}):(typeof E=="string"&&(V._i=E=V._locale.preparse(E)),isMoment(E)?new Moment(checkOverflow(E)):(isDate$2(E)?V._d=E:isArray$3(F)?configFromStringAndArray(V):F?configFromStringAndFormat(V):configFromInput(V),isValid(V)||(V._d=null),V))}function configFromInput(V){var E=V._i;isUndefined$2(E)?V._d=new Date(hooks.now()):isDate$2(E)?V._d=new Date(E.valueOf()):typeof E=="string"?configFromString(V):isArray$3(E)?(V._a=map$2(E.slice(0),function(F){return parseInt(F,10)}),configFromArray(V)):isObject$a(E)?configFromObject(V):isNumber$3(E)?V._d=new Date(E):hooks.createFromInputFallback(V)}function createLocalOrUTC(V,E,F,R,U){var W={};return(E===!0||E===!1)&&(R=E,E=void 0),(F===!0||F===!1)&&(R=F,F=void 0),(isObject$a(V)&&isObjectEmpty(V)||isArray$3(V)&&V.length===0)&&(V=void 0),W._isAMomentObject=!0,W._useUTC=W._isUTC=U,W._l=F,W._i=V,W._f=E,W._strict=R,createFromConfig(W)}function createLocal(V,E,F,R){return createLocalOrUTC(V,E,F,R,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var V=createLocal.apply(null,arguments);return this.isValid()&&V.isValid()?V<this?this:V:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var V=createLocal.apply(null,arguments);return this.isValid()&&V.isValid()?V>this?this:V:createInvalid()});function pickBy(V,E){var F,R;if(E.length===1&&isArray$3(E[0])&&(E=E[0]),!E.length)return createLocal();for(F=E[0],R=1;R<E.length;++R)(!E[R].isValid()||E[R][V](F))&&(F=E[R]);return F}function min$2(){var V=[].slice.call(arguments,0);return pickBy("isBefore",V)}function max$2(){var V=[].slice.call(arguments,0);return pickBy("isAfter",V)}var now$3=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(V){var E,F=!1,R,U=ordering.length;for(E in V)if(hasOwnProp(V,E)&&!(indexOf$1.call(ordering,E)!==-1&&(V[E]==null||!isNaN(V[E]))))return!1;for(R=0;R<U;++R)if(V[ordering[R]]){if(F)return!1;parseFloat(V[ordering[R]])!==toInt(V[ordering[R]])&&(F=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(V){var E=normalizeObjectUnits(V),F=E.year||0,R=E.quarter||0,U=E.month||0,W=E.week||E.isoWeek||0,Y=E.day||0,G=E.hour||0,X=E.minute||0,K=E.second||0,Z=E.millisecond||0;this._isValid=isDurationValid(E),this._milliseconds=+Z+K*1e3+X*6e4+G*1e3*60*60,this._days=+Y+W*7,this._months=+U+R*3+F*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(V){return V instanceof Duration}function absRound(V){return V<0?Math.round(-1*V)*-1:Math.round(V)}function compareArrays(V,E,F){var R=Math.min(V.length,E.length),U=Math.abs(V.length-E.length),W=0,Y;for(Y=0;Y<R;Y++)(F&&V[Y]!==E[Y]||!F&&toInt(V[Y])!==toInt(E[Y]))&&W++;return W+U}function offset(V,E){addFormatToken(V,0,0,function(){var F=this.utcOffset(),R="+";return F<0&&(F=-F,R="-"),R+zeroFill(~~(F/60),2)+E+zeroFill(~~F%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(V,E,F){F._useUTC=!0,F._tzm=offsetFromString(matchShortOffset,V)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(V,E){var F=(E||"").match(V),R,U,W;return F===null?null:(R=F[F.length-1]||[],U=(R+"").match(chunkOffset)||["-",0,0],W=+(U[1]*60)+toInt(U[2]),W===0?0:U[0]==="+"?W:-W)}function cloneWithOffset(V,E){var F,R;return E._isUTC?(F=E.clone(),R=(isMoment(V)||isDate$2(V)?V.valueOf():createLocal(V).valueOf())-F.valueOf(),F._d.setTime(F._d.valueOf()+R),hooks.updateOffset(F,!1),F):createLocal(V).local()}function getDateOffset(V){return-Math.round(V._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(V,E,F){var R=this._offset||0,U;if(!this.isValid())return V!=null?this:NaN;if(V!=null){if(typeof V=="string"){if(V=offsetFromString(matchShortOffset,V),V===null)return this}else Math.abs(V)<16&&!F&&(V=V*60);return!this._isUTC&&E&&(U=getDateOffset(this)),this._offset=V,this._isUTC=!0,U!=null&&this.add(U,"m"),R!==V&&(!E||this._changeInProgress?addSubtract(this,createDuration(V-R,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?R:getDateOffset(this)}function getSetZone(V,E){return V!=null?(typeof V!="string"&&(V=-V),this.utcOffset(V,E),this):-this.utcOffset()}function setOffsetToUTC(V){return this.utcOffset(0,V)}function setOffsetToLocal(V){return this._isUTC&&(this.utcOffset(0,V),this._isUTC=!1,V&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var V=offsetFromString(matchOffset,this._i);V!=null?this.utcOffset(V):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(V){return this.isValid()?(V=V?createLocal(V).utcOffset():0,(this.utcOffset()-V)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined$2(this._isDSTShifted))return this._isDSTShifted;var V={},E;return copyConfig(V,this),V=prepareConfig(V),V._a?(E=V._isUTC?createUTC(V._a):createLocal(V._a),this._isDSTShifted=this.isValid()&&compareArrays(V._a,E.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(V,E){var F=V,R=null,U,W,Y;return isDuration(V)?F={ms:V._milliseconds,d:V._days,M:V._months}:isNumber$3(V)||!isNaN(+V)?(F={},E?F[E]=+V:F.milliseconds=+V):(R=aspNetRegex.exec(V))?(U=R[1]==="-"?-1:1,F={y:0,d:toInt(R[DATE$1])*U,h:toInt(R[HOUR])*U,m:toInt(R[MINUTE])*U,s:toInt(R[SECOND])*U,ms:toInt(absRound(R[MILLISECOND]*1e3))*U}):(R=isoRegex.exec(V))?(U=R[1]==="-"?-1:1,F={y:parseIso(R[2],U),M:parseIso(R[3],U),w:parseIso(R[4],U),d:parseIso(R[5],U),h:parseIso(R[6],U),m:parseIso(R[7],U),s:parseIso(R[8],U)}):F==null?F={}:typeof F=="object"&&("from"in F||"to"in F)&&(Y=momentsDifference(createLocal(F.from),createLocal(F.to)),F={},F.ms=Y.milliseconds,F.M=Y.months),W=new Duration(F),isDuration(V)&&hasOwnProp(V,"_locale")&&(W._locale=V._locale),isDuration(V)&&hasOwnProp(V,"_isValid")&&(W._isValid=V._isValid),W}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(V,E){var F=V&&parseFloat(V.replace(",","."));return(isNaN(F)?0:F)*E}function positiveMomentsDifference(V,E){var F={};return F.months=E.month()-V.month()+(E.year()-V.year())*12,V.clone().add(F.months,"M").isAfter(E)&&--F.months,F.milliseconds=+E-+V.clone().add(F.months,"M"),F}function momentsDifference(V,E){var F;return V.isValid()&&E.isValid()?(E=cloneWithOffset(E,V),V.isBefore(E)?F=positiveMomentsDifference(V,E):(F=positiveMomentsDifference(E,V),F.milliseconds=-F.milliseconds,F.months=-F.months),F):{milliseconds:0,months:0}}function createAdder(V,E){return function(F,R){var U,W;return R!==null&&!isNaN(+R)&&(deprecateSimple(E,"moment()."+E+"(period, number) is deprecated. Please use moment()."+E+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),W=F,F=R,R=W),U=createDuration(F,R),addSubtract(this,U,V),this}}function addSubtract(V,E,F,R){var U=E._milliseconds,W=absRound(E._days),Y=absRound(E._months);!V.isValid()||(R=R==null?!0:R,Y&&setMonth(V,get(V,"Month")+Y*F),W&&set$1(V,"Date",get(V,"Date")+W*F),U&&V._d.setTime(V._d.valueOf()+U*F),R&&hooks.updateOffset(V,W||Y))}var add$2=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString$4(V){return typeof V=="string"||V instanceof String}function isMomentInput(V){return isMoment(V)||isDate$2(V)||isString$4(V)||isNumber$3(V)||isNumberOrStringArray(V)||isMomentInputObject(V)||V===null||V===void 0}function isMomentInputObject(V){var E=isObject$a(V)&&!isObjectEmpty(V),F=!1,R=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],U,W,Y=R.length;for(U=0;U<Y;U+=1)W=R[U],F=F||hasOwnProp(V,W);return E&&F}function isNumberOrStringArray(V){var E=isArray$3(V),F=!1;return E&&(F=V.filter(function(R){return!isNumber$3(R)&&isString$4(V)}).length===0),E&&F}function isCalendarSpec(V){var E=isObject$a(V)&&!isObjectEmpty(V),F=!1,R=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],U,W;for(U=0;U<R.length;U+=1)W=R[U],F=F||hasOwnProp(V,W);return E&&F}function getCalendarFormat(V,E){var F=V.diff(E,"days",!0);return F<-6?"sameElse":F<-1?"lastWeek":F<0?"lastDay":F<1?"sameDay":F<2?"nextDay":F<7?"nextWeek":"sameElse"}function calendar$1(V,E){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(V=arguments[0],E=void 0):isCalendarSpec(arguments[0])&&(E=arguments[0],V=void 0):(V=void 0,E=void 0));var F=V||createLocal(),R=cloneWithOffset(F,this).startOf("day"),U=hooks.calendarFormat(this,R)||"sameElse",W=E&&(isFunction$2(E[U])?E[U].call(this,F):E[U]);return this.format(W||this.localeData().calendar(U,this,createLocal(F)))}function clone$2(){return new Moment(this)}function isAfter(V,E){var F=isMoment(V)?V:createLocal(V);return this.isValid()&&F.isValid()?(E=normalizeUnits(E)||"millisecond",E==="millisecond"?this.valueOf()>F.valueOf():F.valueOf()<this.clone().startOf(E).valueOf()):!1}function isBefore(V,E){var F=isMoment(V)?V:createLocal(V);return this.isValid()&&F.isValid()?(E=normalizeUnits(E)||"millisecond",E==="millisecond"?this.valueOf()<F.valueOf():this.clone().endOf(E).valueOf()<F.valueOf()):!1}function isBetween$1(V,E,F,R){var U=isMoment(V)?V:createLocal(V),W=isMoment(E)?E:createLocal(E);return this.isValid()&&U.isValid()&&W.isValid()?(R=R||"()",(R[0]==="("?this.isAfter(U,F):!this.isBefore(U,F))&&(R[1]===")"?this.isBefore(W,F):!this.isAfter(W,F))):!1}function isSame(V,E){var F=isMoment(V)?V:createLocal(V),R;return this.isValid()&&F.isValid()?(E=normalizeUnits(E)||"millisecond",E==="millisecond"?this.valueOf()===F.valueOf():(R=F.valueOf(),this.clone().startOf(E).valueOf()<=R&&R<=this.clone().endOf(E).valueOf())):!1}function isSameOrAfter(V,E){return this.isSame(V,E)||this.isAfter(V,E)}function isSameOrBefore(V,E){return this.isSame(V,E)||this.isBefore(V,E)}function diff(V,E,F){var R,U,W;if(!this.isValid())return NaN;if(R=cloneWithOffset(V,this),!R.isValid())return NaN;switch(U=(R.utcOffset()-this.utcOffset())*6e4,E=normalizeUnits(E),E){case"year":W=monthDiff(this,R)/12;break;case"month":W=monthDiff(this,R);break;case"quarter":W=monthDiff(this,R)/3;break;case"second":W=(this-R)/1e3;break;case"minute":W=(this-R)/6e4;break;case"hour":W=(this-R)/36e5;break;case"day":W=(this-R-U)/864e5;break;case"week":W=(this-R-U)/6048e5;break;default:W=this-R}return F?W:absFloor(W)}function monthDiff(V,E){if(V.date()<E.date())return-monthDiff(E,V);var F=(E.year()-V.year())*12+(E.month()-V.month()),R=V.clone().add(F,"months"),U,W;return E-R<0?(U=V.clone().add(F-1,"months"),W=(E-R)/(R-U)):(U=V.clone().add(F+1,"months"),W=(E-R)/(U-R)),-(F+W)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$2(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(V){if(!this.isValid())return null;var E=V!==!0,F=E?this.clone().utc():this;return F.year()<0||F.year()>9999?formatMoment(F,E?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$2(Date.prototype.toISOString)?E?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(F,"Z")):formatMoment(F,E?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var V="moment",E="",F,R,U,W;return this.isLocal()||(V=this.utcOffset()===0?"moment.utc":"moment.parseZone",E="Z"),F="["+V+'("]',R=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",U="-MM-DD[T]HH:mm:ss.SSS",W=E+'[")]',this.format(F+R+U+W)}function format(V){V||(V=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var E=formatMoment(this,V);return this.localeData().postformat(E)}function from(V,E){return this.isValid()&&(isMoment(V)&&V.isValid()||createLocal(V).isValid())?createDuration({to:this,from:V}).locale(this.locale()).humanize(!E):this.localeData().invalidDate()}function fromNow(V){return this.from(createLocal(),V)}function to(V,E){return this.isValid()&&(isMoment(V)&&V.isValid()||createLocal(V).isValid())?createDuration({from:this,to:V}).locale(this.locale()).humanize(!E):this.localeData().invalidDate()}function toNow(V){return this.to(createLocal(),V)}function locale$3(V){var E;return V===void 0?this._locale._abbr:(E=getLocale(V),E!=null&&(this._locale=E),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(V){return V===void 0?this.localeData():this.locale(V)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1$1(V,E){return(V%E+E)%E}function localStartOfDate(V,E,F){return V<100&&V>=0?new Date(V+400,E,F)-MS_PER_400_YEARS:new Date(V,E,F).valueOf()}function utcStartOfDate(V,E,F){return V<100&&V>=0?Date.UTC(V+400,E,F)-MS_PER_400_YEARS:Date.UTC(V,E,F)}function startOf(V){var E,F;if(V=normalizeUnits(V),V===void 0||V==="millisecond"||!this.isValid())return this;switch(F=this._isUTC?utcStartOfDate:localStartOfDate,V){case"year":E=F(this.year(),0,1);break;case"quarter":E=F(this.year(),this.month()-this.month()%3,1);break;case"month":E=F(this.year(),this.month(),1);break;case"week":E=F(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":E=F(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":E=F(this.year(),this.month(),this.date());break;case"hour":E=this._d.valueOf(),E-=mod$1$1(E+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":E=this._d.valueOf(),E-=mod$1$1(E,MS_PER_MINUTE);break;case"second":E=this._d.valueOf(),E-=mod$1$1(E,MS_PER_SECOND);break}return this._d.setTime(E),hooks.updateOffset(this,!0),this}function endOf(V){var E,F;if(V=normalizeUnits(V),V===void 0||V==="millisecond"||!this.isValid())return this;switch(F=this._isUTC?utcStartOfDate:localStartOfDate,V){case"year":E=F(this.year()+1,0,1)-1;break;case"quarter":E=F(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":E=F(this.year(),this.month()+1,1)-1;break;case"week":E=F(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":E=F(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":E=F(this.year(),this.month(),this.date()+1)-1;break;case"hour":E=this._d.valueOf(),E+=MS_PER_HOUR-mod$1$1(E+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":E=this._d.valueOf(),E+=MS_PER_MINUTE-mod$1$1(E,MS_PER_MINUTE)-1;break;case"second":E=this._d.valueOf(),E+=MS_PER_SECOND-mod$1$1(E,MS_PER_SECOND)-1;break}return this._d.setTime(E),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray$5(){var V=this;return[V.year(),V.month(),V.date(),V.hour(),V.minute(),V.second(),V.millisecond()]}function toObject(){var V=this;return{years:V.year(),months:V.month(),date:V.date(),hours:V.hours(),minutes:V.minutes(),seconds:V.seconds(),milliseconds:V.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$2({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(V,E,F,R){var U=F._locale.erasParse(V,R,F._strict);U?getParsingFlags(F).era=U:getParsingFlags(F).invalidEra=V});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(V,E,F,R){var U;F._locale._eraYearOrdinalRegex&&(U=V.match(F._locale._eraYearOrdinalRegex)),F._locale.eraYearOrdinalParse?E[YEAR]=F._locale.eraYearOrdinalParse(V,U):E[YEAR]=parseInt(V,10)});function localeEras(V,E){var F,R,U,W=this._eras||getLocale("en")._eras;for(F=0,R=W.length;F<R;++F){switch(typeof W[F].since){case"string":U=hooks(W[F].since).startOf("day"),W[F].since=U.valueOf();break}switch(typeof W[F].until){case"undefined":W[F].until=1/0;break;case"string":U=hooks(W[F].until).startOf("day").valueOf(),W[F].until=U.valueOf();break}}return W}function localeErasParse(V,E,F){var R,U,W=this.eras(),Y,G,X;for(V=V.toUpperCase(),R=0,U=W.length;R<U;++R)if(Y=W[R].name.toUpperCase(),G=W[R].abbr.toUpperCase(),X=W[R].narrow.toUpperCase(),F)switch(E){case"N":case"NN":case"NNN":if(G===V)return W[R];break;case"NNNN":if(Y===V)return W[R];break;case"NNNNN":if(X===V)return W[R];break}else if([Y,G,X].indexOf(V)>=0)return W[R]}function localeErasConvertYear(V,E){var F=V.since<=V.until?1:-1;return E===void 0?hooks(V.since).year():hooks(V.since).year()+(E-V.offset)*F}function getEraName(){var V,E,F,R=this.localeData().eras();for(V=0,E=R.length;V<E;++V)if(F=this.clone().startOf("day").valueOf(),R[V].since<=F&&F<=R[V].until||R[V].until<=F&&F<=R[V].since)return R[V].name;return""}function getEraNarrow(){var V,E,F,R=this.localeData().eras();for(V=0,E=R.length;V<E;++V)if(F=this.clone().startOf("day").valueOf(),R[V].since<=F&&F<=R[V].until||R[V].until<=F&&F<=R[V].since)return R[V].narrow;return""}function getEraAbbr(){var V,E,F,R=this.localeData().eras();for(V=0,E=R.length;V<E;++V)if(F=this.clone().startOf("day").valueOf(),R[V].since<=F&&F<=R[V].until||R[V].until<=F&&F<=R[V].since)return R[V].abbr;return""}function getEraYear(){var V,E,F,R,U=this.localeData().eras();for(V=0,E=U.length;V<E;++V)if(F=U[V].since<=U[V].until?1:-1,R=this.clone().startOf("day").valueOf(),U[V].since<=R&&R<=U[V].until||U[V].until<=R&&R<=U[V].since)return(this.year()-hooks(U[V].since).year())*F+U[V].offset;return this.year()}function erasNameRegex(V){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),V?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(V){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),V?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(V){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),V?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(V,E){return E.erasAbbrRegex(V)}function matchEraName(V,E){return E.erasNameRegex(V)}function matchEraNarrow(V,E){return E.erasNarrowRegex(V)}function matchEraYearOrdinal(V,E){return E._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var V=[],E=[],F=[],R=[],U,W,Y=this.eras();for(U=0,W=Y.length;U<W;++U)E.push(regexEscape(Y[U].name)),V.push(regexEscape(Y[U].abbr)),F.push(regexEscape(Y[U].narrow)),R.push(regexEscape(Y[U].name)),R.push(regexEscape(Y[U].abbr)),R.push(regexEscape(Y[U].narrow));this._erasRegex=new RegExp("^("+R.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+E.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+V.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+F.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(V,E){addFormatToken(0,[V,V.length],0,E)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(V,E,F,R){E[R.substr(0,2)]=toInt(V)});addWeekParseToken(["gg","GG"],function(V,E,F,R){E[R]=hooks.parseTwoDigitYear(V)});function getSetWeekYear(V){return getSetWeekYearHelper.call(this,V,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(V){return getSetWeekYearHelper.call(this,V,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var V=this.localeData()._week;return weeksInYear(this.year(),V.dow,V.doy)}function getWeeksInWeekYear(){var V=this.localeData()._week;return weeksInYear(this.weekYear(),V.dow,V.doy)}function getSetWeekYearHelper(V,E,F,R,U){var W;return V==null?weekOfYear(this,R,U).year:(W=weeksInYear(V,R,U),E>W&&(E=W),setWeekAll.call(this,V,E,F,R,U))}function setWeekAll(V,E,F,R,U){var W=dayOfYearFromWeeks(V,E,F,R,U),Y=createUTCDate(W.year,0,W.dayOfYear);return this.year(Y.getUTCFullYear()),this.month(Y.getUTCMonth()),this.date(Y.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(V,E){E[MONTH]=(toInt(V)-1)*3});function getSetQuarter(V){return V==null?Math.ceil((this.month()+1)/3):this.month((V-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(V,E){return V?E._dayOfMonthOrdinalParse||E._ordinalParse:E._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE$1);addParseToken("Do",function(V,E){E[DATE$1]=toInt(V.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(V,E,F){F._dayOfYear=toInt(V)});function getSetDayOfYear(V){var E=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return V==null?E:this.add(V-E,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(V,E){E[MILLISECOND]=toInt(("0."+V)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add$2;proto.calendar=calendar$1;proto.clone=clone$2;proto.diff=diff;proto.endOf=endOf;proto.format=format;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween$1;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale$3;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray$5;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString$2;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(V){return createLocal(V*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(V){return V}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1(V,E,F,R){var U=getLocale(),W=createUTC().set(R,E);return U[F](W,V)}function listMonthsImpl(V,E,F){if(isNumber$3(V)&&(E=V,V=void 0),V=V||"",E!=null)return get$1(V,E,F,"month");var R,U=[];for(R=0;R<12;R++)U[R]=get$1(V,R,F,"month");return U}function listWeekdaysImpl(V,E,F,R){typeof V=="boolean"?(isNumber$3(E)&&(F=E,E=void 0),E=E||""):(E=V,F=E,V=!1,isNumber$3(E)&&(F=E,E=void 0),E=E||"");var U=getLocale(),W=V?U._week.dow:0,Y,G=[];if(F!=null)return get$1(E,(F+W)%7,R,"day");for(Y=0;Y<7;Y++)G[Y]=get$1(E,(Y+W)%7,R,"day");return G}function listMonths(V,E){return listMonthsImpl(V,E,"months")}function listMonthsShort(V,E){return listMonthsImpl(V,E,"monthsShort")}function listWeekdays(V,E,F){return listWeekdaysImpl(V,E,F,"weekdays")}function listWeekdaysShort(V,E,F){return listWeekdaysImpl(V,E,F,"weekdaysShort")}function listWeekdaysMin(V,E,F){return listWeekdaysImpl(V,E,F,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(V){var E=V%10,F=toInt(V%100/10)===1?"th":E===1?"st":E===2?"nd":E===3?"rd":"th";return V+F}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var V=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),V.milliseconds=mathAbs(V.milliseconds),V.seconds=mathAbs(V.seconds),V.minutes=mathAbs(V.minutes),V.hours=mathAbs(V.hours),V.months=mathAbs(V.months),V.years=mathAbs(V.years),this}function addSubtract$1(V,E,F,R){var U=createDuration(E,F);return V._milliseconds+=R*U._milliseconds,V._days+=R*U._days,V._months+=R*U._months,V._bubble()}function add$1$1(V,E){return addSubtract$1(this,V,E,1)}function subtract$1(V,E){return addSubtract$1(this,V,E,-1)}function absCeil(V){return V<0?Math.floor(V):Math.ceil(V)}function bubble(){var V=this._milliseconds,E=this._days,F=this._months,R=this._data,U,W,Y,G,X;return V>=0&&E>=0&&F>=0||V<=0&&E<=0&&F<=0||(V+=absCeil(monthsToDays(F)+E)*864e5,E=0,F=0),R.milliseconds=V%1e3,U=absFloor(V/1e3),R.seconds=U%60,W=absFloor(U/60),R.minutes=W%60,Y=absFloor(W/60),R.hours=Y%24,E+=absFloor(Y/24),X=absFloor(daysToMonths(E)),F+=X,E-=absCeil(monthsToDays(X)),G=absFloor(F/12),F%=12,R.days=E,R.months=F,R.years=G,this}function daysToMonths(V){return V*4800/146097}function monthsToDays(V){return V*146097/4800}function as(V){if(!this.isValid())return NaN;var E,F,R=this._milliseconds;if(V=normalizeUnits(V),V==="month"||V==="quarter"||V==="year")switch(E=this._days+R/864e5,F=this._months+daysToMonths(E),V){case"month":return F;case"quarter":return F/3;case"year":return F/12}else switch(E=this._days+Math.round(monthsToDays(this._months)),V){case"week":return E/7+R/6048e5;case"day":return E+R/864e5;case"hour":return E*24+R/36e5;case"minute":return E*1440+R/6e4;case"second":return E*86400+R/1e3;case"millisecond":return Math.floor(E*864e5)+R;default:throw new Error("Unknown unit "+V)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(V){return function(){return this.as(V)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1$1(){return createDuration(this)}function get$2(V){return V=normalizeUnits(V),this.isValid()?this[V+"s"]():NaN}function makeGetter(V){return function(){return this.isValid()?this._data[V]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$4=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(V,E,F,R,U){return U.relativeTime(E||1,!!F,V,R)}function relativeTime$1(V,E,F,R){var U=createDuration(V).abs(),W=round$4(U.as("s")),Y=round$4(U.as("m")),G=round$4(U.as("h")),X=round$4(U.as("d")),K=round$4(U.as("M")),Z=round$4(U.as("w")),J=round$4(U.as("y")),Q=W<=F.ss&&["s",W]||W<F.s&&["ss",W]||Y<=1&&["m"]||Y<F.m&&["mm",Y]||G<=1&&["h"]||G<F.h&&["hh",G]||X<=1&&["d"]||X<F.d&&["dd",X];return F.w!=null&&(Q=Q||Z<=1&&["w"]||Z<F.w&&["ww",Z]),Q=Q||K<=1&&["M"]||K<F.M&&["MM",K]||J<=1&&["y"]||["yy",J],Q[2]=E,Q[3]=+V>0,Q[4]=R,substituteTimeAgo.apply(null,Q)}function getSetRelativeTimeRounding(V){return V===void 0?round$4:typeof V=="function"?(round$4=V,!0):!1}function getSetRelativeTimeThreshold(V,E){return thresholds[V]===void 0?!1:E===void 0?thresholds[V]:(thresholds[V]=E,V==="s"&&(thresholds.ss=E-1),!0)}function humanize(V,E){if(!this.isValid())return this.localeData().invalidDate();var F=!1,R=thresholds,U,W;return typeof V=="object"&&(E=V,V=!1),typeof V=="boolean"&&(F=V),typeof E=="object"&&(R=Object.assign({},thresholds,E),E.s!=null&&E.ss==null&&(R.ss=E.s-1)),U=this.localeData(),W=relativeTime$1(this,!F,R,U),F&&(W=U.pastFuture(+this,W)),U.postformat(W)}var abs$1=Math.abs;function sign$1(V){return(V>0)-(V<0)||+V}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var V=abs$1(this._milliseconds)/1e3,E=abs$1(this._days),F=abs$1(this._months),R,U,W,Y,G=this.asSeconds(),X,K,Z,J;return G?(R=absFloor(V/60),U=absFloor(R/60),V%=60,R%=60,W=absFloor(F/12),F%=12,Y=V?V.toFixed(3).replace(/\.?0+$/,""):"",X=G<0?"-":"",K=sign$1(this._months)!==sign$1(G)?"-":"",Z=sign$1(this._days)!==sign$1(G)?"-":"",J=sign$1(this._milliseconds)!==sign$1(G)?"-":"",X+"P"+(W?K+W+"Y":"")+(F?K+F+"M":"")+(E?Z+E+"D":"")+(U||R||V?"T":"")+(U?J+U+"H":"")+(R?J+R+"M":"")+(V?J+Y+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1$1;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale$3;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(V,E,F){F._d=new Date(parseFloat(V)*1e3)});addParseToken("x",function(V,E,F){F._d=new Date(toInt(V))});//! moment.js
hooks.version="2.29.4";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min$2;hooks.max=max$2;hooks.now=now$3;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate$2;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var ru$1={exports:{}};(function(V){(function(E,F){V.exports?F(numeral$1.exports):F(E.numeral)})(commonjsGlobal,function(E){E.register("locale","ru",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"\u0442\u044B\u0441.",million:"\u043C\u043B\u043D.",billion:"\u043C\u043B\u0440\u0434.",trillion:"\u0442\u0440\u043B\u043D."},ordinal:function(){return"."},currency:{symbol:"\u0440\u0443\u0431."}})})})(ru$1);//! moment.js locale configuration
function plural(V,E){var F=V.split("_");return E%10===1&&E%100!==11?F[0]:E%10>=2&&E%10<=4&&(E%100<10||E%100>=20)?F[1]:F[2]}function relativeTimeWithPlural(V,E,F){var R={ss:E?"\u0441\u0435\u043A\u0443\u043D\u0434\u0430_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434",mm:E?"\u043C\u0438\u043D\u0443\u0442\u0430_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442":"\u043C\u0438\u043D\u0443\u0442\u0443_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043E\u0432",dd:"\u0434\u0435\u043D\u044C_\u0434\u043D\u044F_\u0434\u043D\u0435\u0439",ww:"\u043D\u0435\u0434\u0435\u043B\u044F_\u043D\u0435\u0434\u0435\u043B\u0438_\u043D\u0435\u0434\u0435\u043B\u044C",MM:"\u043C\u0435\u0441\u044F\u0446_\u043C\u0435\u0441\u044F\u0446\u0430_\u043C\u0435\u0441\u044F\u0446\u0435\u0432",yy:"\u0433\u043E\u0434_\u0433\u043E\u0434\u0430_\u043B\u0435\u0442"};return F==="m"?E?"\u043C\u0438\u043D\u0443\u0442\u0430":"\u043C\u0438\u043D\u0443\u0442\u0443":V+" "+plural(R[F],+V)}var monthsParse=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];hooks.defineLocale("ru",{months:{format:"\u044F\u043D\u0432\u0430\u0440\u044F_\u0444\u0435\u0432\u0440\u0430\u043B\u044F_\u043C\u0430\u0440\u0442\u0430_\u0430\u043F\u0440\u0435\u043B\u044F_\u043C\u0430\u044F_\u0438\u044E\u043D\u044F_\u0438\u044E\u043B\u044F_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F_\u043E\u043A\u0442\u044F\u0431\u0440\u044F_\u043D\u043E\u044F\u0431\u0440\u044F_\u0434\u0435\u043A\u0430\u0431\u0440\u044F".split("_"),standalone:"\u044F\u043D\u0432\u0430\u0440\u044C_\u0444\u0435\u0432\u0440\u0430\u043B\u044C_\u043C\u0430\u0440\u0442_\u0430\u043F\u0440\u0435\u043B\u044C_\u043C\u0430\u0439_\u0438\u044E\u043D\u044C_\u0438\u044E\u043B\u044C_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C_\u043E\u043A\u0442\u044F\u0431\u0440\u044C_\u043D\u043E\u044F\u0431\u0440\u044C_\u0434\u0435\u043A\u0430\u0431\u0440\u044C".split("_")},monthsShort:{format:"\u044F\u043D\u0432._\u0444\u0435\u0432\u0440._\u043C\u0430\u0440._\u0430\u043F\u0440._\u043C\u0430\u044F_\u0438\u044E\u043D\u044F_\u0438\u044E\u043B\u044F_\u0430\u0432\u0433._\u0441\u0435\u043D\u0442._\u043E\u043A\u0442._\u043D\u043E\u044F\u0431._\u0434\u0435\u043A.".split("_"),standalone:"\u044F\u043D\u0432._\u0444\u0435\u0432\u0440._\u043C\u0430\u0440\u0442_\u0430\u043F\u0440._\u043C\u0430\u0439_\u0438\u044E\u043D\u044C_\u0438\u044E\u043B\u044C_\u0430\u0432\u0433._\u0441\u0435\u043D\u0442._\u043E\u043A\u0442._\u043D\u043E\u044F\u0431._\u0434\u0435\u043A.".split("_")},weekdays:{standalone:"\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435_\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A_\u0432\u0442\u043E\u0440\u043D\u0438\u043A_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043F\u044F\u0442\u043D\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043E\u0442\u0430".split("_"),format:"\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435_\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A_\u0432\u0442\u043E\u0440\u043D\u0438\u043A_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043F\u044F\u0442\u043D\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043E\u0442\u0443".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043F\u043D_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043F\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043F\u043D_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043F\u0442_\u0441\u0431".split("_"),monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043E\u0434\u043D\u044F, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(V){if(V.week()!==this.week())switch(this.day()){case 0:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E] dddd, [\u0432] LT"}else return this.day()===2?"[\u0412\u043E] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT"},lastWeek:function(V){if(V.week()!==this.week())switch(this.day()){case 0:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u043E\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u044B\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u0443\u044E] dddd, [\u0432] LT"}else return this.day()===2?"[\u0412\u043E] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT"},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043D\u0430\u0437\u0430\u0434",s:"\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434",ss:relativeTimeWithPlural,m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"\u0447\u0430\u0441",hh:relativeTimeWithPlural,d:"\u0434\u0435\u043D\u044C",dd:relativeTimeWithPlural,w:"\u043D\u0435\u0434\u0435\u043B\u044F",ww:relativeTimeWithPlural,M:"\u043C\u0435\u0441\u044F\u0446",MM:relativeTimeWithPlural,y:"\u0433\u043E\u0434",yy:relativeTimeWithPlural},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(V){return/^(дня|вечера)$/.test(V)},meridiem:function(V,E,F){return V<4?"\u043D\u043E\u0447\u0438":V<12?"\u0443\u0442\u0440\u0430":V<17?"\u0434\u043D\u044F":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(V,E){switch(E){case"M":case"d":case"DDD":return V+"-\u0439";case"D":return V+"-\u0433\u043E";case"w":case"W":return V+"-\u044F";default:return V}},week:{dow:1,doy:4}});const localeCode=locale$4.split("_")[0]==="ru"?"ru":"en";numeral.locale(localeCode);hooks.locale(localeCode);const Numeral={install(V,E){V.prototype.$numeral=numeral,V.prototype.$moment=hooks}};function isString$3(V){return typeof V=="string"||V instanceof String}function isObject$9(V){var E;return typeof V=="object"&&V!=null&&(V==null||(E=V.constructor)==null?void 0:E.name)==="Object"}function pick(V,E){return Array.isArray(E)?pick(V,(F,R)=>E.includes(R)):Object.entries(V).reduce((F,R)=>{let[U,W]=R;return E(W,U)&&(F[U]=W),F},{})}const DIRECTION={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function forceDirection(V){switch(V){case DIRECTION.LEFT:return DIRECTION.FORCE_LEFT;case DIRECTION.RIGHT:return DIRECTION.FORCE_RIGHT;default:return V}}function escapeRegExp(V){return V.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function objectIncludes(V,E){if(E===V)return!0;const F=Array.isArray(E),R=Array.isArray(V);let U;if(F&&R){if(E.length!=V.length)return!1;for(U=0;U<E.length;U++)if(!objectIncludes(E[U],V[U]))return!1;return!0}if(F!=R)return!1;if(E&&V&&typeof E=="object"&&typeof V=="object"){const W=E instanceof Date,Y=V instanceof Date;if(W&&Y)return E.getTime()==V.getTime();if(W!=Y)return!1;const G=E instanceof RegExp,X=V instanceof RegExp;if(G&&X)return E.toString()==V.toString();if(G!=X)return!1;const K=Object.keys(E);for(U=0;U<K.length;U++)if(!Object.prototype.hasOwnProperty.call(V,K[U]))return!1;for(U=0;U<K.length;U++)if(!objectIncludes(V[K[U]],E[K[U]]))return!1;return!0}else if(E&&V&&typeof E=="function"&&typeof V=="function")return E.toString()===V.toString();return!1}class ActionDetails{constructor(E){for(Object.assign(this,E);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?DIRECTION.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?DIRECTION.RIGHT:DIRECTION.LEFT}}function IMask(V,E){return new IMask.InputMask(V,E)}function maskedClass(V){if(V==null)throw new Error("mask property should be defined");return V instanceof RegExp?IMask.MaskedRegExp:isString$3(V)?IMask.MaskedPattern:V===Date?IMask.MaskedDate:V===Number?IMask.MaskedNumber:Array.isArray(V)||V===Array?IMask.MaskedDynamic:IMask.Masked&&V.prototype instanceof IMask.Masked?V:IMask.Masked&&V instanceof IMask.Masked?V.constructor:V instanceof Function?IMask.MaskedFunction:(console.warn("Mask not found for mask",V),IMask.Masked)}function normalizeOpts(V){if(!V)throw new Error("Options in not defined");if(IMask.Masked){if(V.prototype instanceof IMask.Masked)return{mask:V};const{mask:E=void 0,...F}=V instanceof IMask.Masked?{mask:V}:isObject$9(V)&&V.mask instanceof IMask.Masked?V:{};if(E){const R=E.mask;return{...pick(E,(U,W)=>!W.startsWith("_")),mask:E.constructor,_mask:R,...F}}}return isObject$9(V)?{...V}:{mask:V}}function createMask(V){if(IMask.Masked&&V instanceof IMask.Masked)return V;const E=normalizeOpts(V),F=maskedClass(E.mask);if(!F)throw new Error("Masked class is not found for provided mask, appropriate module needs to be imported manually before creating mask.");return E.mask===F&&delete E.mask,E._mask&&(E.mask=E._mask,delete E._mask),new F(E)}IMask.createMask=createMask;class MaskElement{get selectionStart(){let E;try{E=this._unsafeSelectionStart}catch{}return E!=null?E:this.value.length}get selectionEnd(){let E;try{E=this._unsafeSelectionEnd}catch{}return E!=null?E:this.value.length}select(E,F){if(!(E==null||F==null||E===this.selectionStart&&F===this.selectionEnd))try{this._unsafeSelect(E,F)}catch{}}get isActive(){return!1}}IMask.MaskElement=MaskElement;class HTMLMaskElement extends MaskElement{constructor(E){super(),this.input=E,this._handlers={}}get rootElement(){var E,F,R;return(E=(F=(R=this.input).getRootNode)==null?void 0:F.call(R))!=null?E:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(E){Object.keys(E).forEach(F=>this._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[F],E[F]))}unbindEvents(){Object.keys(this._handlers).forEach(E=>this._toggleEventHandler(E))}_toggleEventHandler(E,F){this._handlers[E]&&(this.input.removeEventListener(E,this._handlers[E]),delete this._handlers[E]),F&&(this.input.addEventListener(E,F),this._handlers[E]=F)}}HTMLMaskElement.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};IMask.HTMLMaskElement=HTMLMaskElement;class HTMLInputMaskElement extends HTMLMaskElement{constructor(E){super(E),this.input=E,this._handlers={}}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(E,F){this.input.setSelectionRange(E,F)}get value(){return this.input.value}set value(E){this.input.value=E}}IMask.HTMLMaskElement=HTMLMaskElement;class HTMLContenteditableMaskElement extends HTMLMaskElement{get _unsafeSelectionStart(){const E=this.rootElement,F=E.getSelection&&E.getSelection(),R=F&&F.anchorOffset,U=F&&F.focusOffset;return U==null||R==null||R<U?R:U}get _unsafeSelectionEnd(){const E=this.rootElement,F=E.getSelection&&E.getSelection(),R=F&&F.anchorOffset,U=F&&F.focusOffset;return U==null||R==null||R>U?R:U}_unsafeSelect(E,F){if(!this.rootElement.createRange)return;const R=this.rootElement.createRange();R.setStart(this.input.firstChild||this.input,E),R.setEnd(this.input.lastChild||this.input,F);const U=this.rootElement,W=U.getSelection&&U.getSelection();W&&(W.removeAllRanges(),W.addRange(R))}get value(){return this.input.textContent||""}set value(E){this.input.textContent=E}}IMask.HTMLContenteditableMaskElement=HTMLContenteditableMaskElement;class InputMask{constructor(E,F){this.el=E instanceof MaskElement?E:E.isContentEditable&&E.tagName!=="INPUT"&&E.tagName!=="TEXTAREA"?new HTMLContenteditableMaskElement(E):new HTMLInputMaskElement(E),this.masked=createMask(F),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(E){var F;return E==null||((F=this.masked)==null?void 0:F.maskEquals(E))}get mask(){return this.masked.mask}set mask(E){if(this.maskEquals(E))return;if(!(E instanceof IMask.Masked)&&this.masked.constructor===maskedClass(E)){this.masked.updateOptions({mask:E});return}const F=E instanceof IMask.Masked?E:createMask({mask:E});F.unmaskedValue=this.masked.unmaskedValue,this.masked=F}get value(){return this._value}set value(E){this.value!==E&&(this.masked.value=E,this.updateControl(),this.alignCursor())}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(E){this.unmaskedValue!==E&&(this.masked.unmaskedValue=E,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(E){this.masked.typedValueEquals(E)||(this.masked.typedValue=E,this.updateControl(),this.alignCursor())}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(E,F){const R=this._listeners[E];!R||R.forEach(U=>U(F))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(E){!this.el||!this.el.isActive||(this.el.select(E,E),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value}updateControl(){const E=this.masked.unmaskedValue,F=this.masked.value,R=this.displayValue,U=this.unmaskedValue!==E||this.value!==F;this._unmaskedValue=E,this._value=F,this.el.value!==R&&(this.el.value=R),U&&this._fireChangeEvents()}updateOptions(E){const{mask:F,...R}=E,U=!this.maskEquals(F),W=!objectIncludes(this.masked,R);U&&(this.mask=F),W&&this.masked.updateOptions(R),(U||W)&&this.updateControl()}updateCursor(E){E!=null&&(this.cursorPos=E,this._delayUpdateCursor(E))}_delayUpdateCursor(E){this._abortUpdateCursor(),this._changingCursorPos=E,this._cursorChanging=setTimeout(()=>{!this.el||(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,DIRECTION.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(E,F){return this._listeners[E]||(this._listeners[E]=[]),this._listeners[E].push(F),this}off(E,F){if(!this._listeners[E])return this;if(!F)return delete this._listeners[E],this;const R=this._listeners[E].indexOf(F);return R>=0&&this._listeners[E].splice(R,1),this}_onInput(E){if(this._inputEvent=E,this._abortUpdateCursor(),!this._selection)return this.updateValue();const F=new ActionDetails({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),R=this.masked.rawInputValue,U=this.masked.splice(F.startChangePos,F.removed.length,F.inserted,F.removeDirection,{input:!0,raw:!0}).offset,W=R===this.masked.rawInputValue?F.removeDirection:DIRECTION.NONE;let Y=this.masked.nearestInputPos(F.startChangePos+U,W);W!==DIRECTION.NONE&&(Y=this.masked.nearestInputPos(Y,DIRECTION.NONE)),this.updateControl(),this.updateCursor(Y),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(E){E.preventDefault(),E.stopPropagation()}_onFocus(E){this.alignCursorFriendly()}_onClick(E){this.alignCursorFriendly()}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}IMask.InputMask=InputMask;class ChangeDetails{static normalize(E){return Array.isArray(E)?E:[E,new ChangeDetails]}constructor(E){Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},E)}aggregate(E){return this.rawInserted+=E.rawInserted,this.skip=this.skip||E.skip,this.inserted+=E.inserted,this.tailShift+=E.tailShift,this}get offset(){return this.tailShift+this.inserted.length}}IMask.ChangeDetails=ChangeDetails;class ContinuousTailDetails{constructor(E,F,R){E===void 0&&(E=""),F===void 0&&(F=0),this.value=E,this.from=F,this.stop=R}toString(){return this.value}extend(E){this.value+=String(E)}appendTo(E){return E.append(this.toString(),{tail:!0}).aggregate(E._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(E){Object.assign(this,E)}unshift(E){if(!this.value.length||E!=null&&this.from>=E)return"";const F=this.value[0];return this.value=this.value.slice(1),F}shift(){if(!this.value.length)return"";const E=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),E}}class Masked{constructor(E){this._value="",this._update({...Masked.DEFAULTS,...E}),this._initialized=!0}updateOptions(E){!Object.keys(E).length||this.withValueRefresh(this._update.bind(this,E))}_update(E){Object.assign(this,E)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(E){this._value=E._value}reset(){this._value=""}get value(){return this._value}set value(E){this.resolve(E,{input:!0})}resolve(E,F){F===void 0&&(F={input:!0}),this.reset(),this.append(E,F,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(E){this.resolve(E,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(E){this.format?this.value=this.format(E,this):this.unmaskedValue=String(E)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(E){this.resolve(E,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(E,F){return E}totalInputPositions(E,F){return E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length),Math.min(this.displayValue.length,F-E)}extractInput(E,F,R){return E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length),this.displayValue.slice(E,F)}extractTail(E,F){return E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length),new ContinuousTailDetails(this.extractInput(E,F),E)}appendTail(E){return isString$3(E)&&(E=new ContinuousTailDetails(String(E))),E.appendTo(this)}_appendCharRaw(E,F){return E?(this._value+=E,new ChangeDetails({inserted:E,rawInserted:E})):new ChangeDetails}_appendChar(E,F,R){F===void 0&&(F={});const U=this.state;let W;if([E,W]=this.doPrepareChar(E,F),W=W.aggregate(this._appendCharRaw(E,F)),W.inserted){let Y,G=this.doValidate(F)!==!1;if(G&&R!=null){const X=this.state;this.overwrite===!0&&(Y=R.state,R.unshift(this.displayValue.length-W.tailShift));let K=this.appendTail(R);G=K.rawInserted===R.toString(),!(G&&K.inserted)&&this.overwrite==="shift"&&(this.state=X,Y=R.state,R.shift(),K=this.appendTail(R),G=K.rawInserted===R.toString()),G&&K.inserted&&(this.state=X)}G||(W=new ChangeDetails,this.state=U,R&&Y&&(R.state=Y))}return W}_appendPlaceholder(){return new ChangeDetails}_appendEager(){return new ChangeDetails}append(E,F,R){if(!isString$3(E))throw new Error("value should be string");const U=isString$3(R)?new ContinuousTailDetails(String(R)):R;F!=null&&F.tail&&(F._beforeTailState=this.state);let W;[E,W]=this.doPrepare(E,F);for(let Y=0;Y<E.length;++Y){const G=this._appendChar(E[Y],F,U);if(!G.rawInserted&&!this.doSkipInvalid(E[Y],F,U))break;W.aggregate(G)}return(this.eager===!0||this.eager==="append")&&F!=null&&F.input&&E&&W.aggregate(this._appendEager()),U!=null&&(W.tailShift+=this.appendTail(U).tailShift),W}remove(E,F){return E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length),this._value=this.displayValue.slice(0,E)+this.displayValue.slice(F),new ChangeDetails}withValueRefresh(E){if(this._refreshing||!this._initialized)return E();this._refreshing=!0;const F=this.rawInputValue,R=this.value,U=E();return this.rawInputValue=F,this.value&&this.value!==R&&R.indexOf(this.value)===0&&this.append(R.slice(this.displayValue.length),{},""),delete this._refreshing,U}runIsolated(E){if(this._isolated||!this._initialized)return E(this);this._isolated=!0;const F=this.state,R=E(this);return this.state=F,delete this._isolated,R}doSkipInvalid(E,F,R){return Boolean(this.skipInvalid)}doPrepare(E,F){return F===void 0&&(F={}),ChangeDetails.normalize(this.prepare?this.prepare(E,this,F):E)}doPrepareChar(E,F){return F===void 0&&(F={}),ChangeDetails.normalize(this.prepareChar?this.prepareChar(E,this,F):E)}doValidate(E){return(!this.validate||this.validate(this.value,this,E))&&(!this.parent||this.parent.doValidate(E))}doCommit(){this.commit&&this.commit(this.value,this)}splice(E,F,R,U,W){U===void 0&&(U=DIRECTION.NONE),W===void 0&&(W={input:!0});const Y=E+F,G=this.extractTail(Y),X=this.eager===!0||this.eager==="remove";let K;X&&(U=forceDirection(U),K=this.extractInput(0,Y,{raw:!0}));let Z=E;const J=new ChangeDetails;if(U!==DIRECTION.NONE&&(Z=this.nearestInputPos(E,F>1&&E!==0&&!X?DIRECTION.NONE:U),J.tailShift=Z-E),J.aggregate(this.remove(Z)),X&&U!==DIRECTION.NONE&&K===this.rawInputValue)if(U===DIRECTION.FORCE_LEFT){let Q;for(;K===this.rawInputValue&&(Q=this.displayValue.length);)J.aggregate(new ChangeDetails({tailShift:-1})).aggregate(this.remove(Q-1))}else U===DIRECTION.FORCE_RIGHT&&G.unshift();return J.aggregate(this.append(R,W,G))}maskEquals(E){return this.mask===E}typedValueEquals(E){const F=this.typedValue;return E===F||Masked.EMPTY_VALUES.includes(E)&&Masked.EMPTY_VALUES.includes(F)||(this.format?this.format(E,this)===this.format(this.typedValue,this):!1)}}Masked.DEFAULTS={skipInvalid:!0};Masked.EMPTY_VALUES=[void 0,null,""];IMask.Masked=Masked;class ChunksTailDetails{constructor(E,F){E===void 0&&(E=[]),F===void 0&&(F=0),this.chunks=E,this.from=F}toString(){return this.chunks.map(String).join("")}extend(E){if(!String(E))return;E=isString$3(E)?new ContinuousTailDetails(String(E)):E;const F=this.chunks[this.chunks.length-1],R=F&&(F.stop===E.stop||E.stop==null)&&E.from===F.from+F.toString().length;if(E instanceof ContinuousTailDetails)R?F.extend(E.toString()):this.chunks.push(E);else if(E instanceof ChunksTailDetails){if(E.stop==null){let U;for(;E.chunks.length&&E.chunks[0].stop==null;)U=E.chunks.shift(),U.from+=E.from,this.extend(U)}E.toString()&&(E.stop=E.blockIndex,this.chunks.push(E))}}appendTo(E){if(!(E instanceof IMask.MaskedPattern))return new ContinuousTailDetails(this.toString()).appendTo(E);const F=new ChangeDetails;for(let R=0;R<this.chunks.length&&!F.skip;++R){const U=this.chunks[R],W=E._mapPosToBlock(E.displayValue.length),Y=U.stop;let G;if(Y!=null&&(!W||W.index<=Y)){if(U instanceof ChunksTailDetails||E._stops.indexOf(Y)>=0){const X=E._appendPlaceholder(Y);F.aggregate(X)}G=U instanceof ChunksTailDetails&&E._blocks[Y]}if(G){const X=G.appendTail(U);X.skip=!1,F.aggregate(X),E._value+=X.inserted;const K=U.toString().slice(X.rawInserted.length);K&&F.aggregate(E.append(K,{tail:!0}))}else F.aggregate(E.append(U.toString(),{tail:!0}))}return F}get state(){return{chunks:this.chunks.map(E=>E.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(E){const{chunks:F,...R}=E;Object.assign(this,R),this.chunks=F.map(U=>{const W="chunks"in U?new ChunksTailDetails:new ContinuousTailDetails;return W.state=U,W})}unshift(E){if(!this.chunks.length||E!=null&&this.from>=E)return"";const F=E!=null?E-this.from:E;let R=0;for(;R<this.chunks.length;){const U=this.chunks[R],W=U.unshift(F);if(U.toString()){if(!W)break;++R}else this.chunks.splice(R,1);if(W)return W}return""}shift(){if(!this.chunks.length)return"";let E=this.chunks.length-1;for(;0<=E;){const F=this.chunks[E],R=F.shift();if(F.toString()){if(!R)break;--E}else this.chunks.splice(E,1);if(R)return R}return""}}class PatternCursor{constructor(E,F){this.masked=E,this._log=[];const{offset:R,index:U}=E._mapPosToBlock(F)||(F<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=R,this.index=U,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(E){Object.assign(this,E)}pushState(){this._log.push(this.state)}popState(){const E=this._log.pop();return E&&(this.state=E),E}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(E){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((F=this.block)==null?void 0:F.displayValue.length)||0){var F;if(E())return this.ok=!0}return this.ok=!1}_pushRight(E){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(E())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,DIRECTION.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,DIRECTION.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.NONE),!0})}}class PatternFixedDefinition{constructor(E){Object.assign(this,E),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(E,F){return E===void 0&&(E=0),F===void 0&&(F=this._value.length),this._value=this._value.slice(0,E)+this._value.slice(F),this._value||(this._isRawInput=!1),new ChangeDetails}nearestInputPos(E,F){F===void 0&&(F=DIRECTION.NONE);const R=0,U=this._value.length;switch(F){case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:return R;case DIRECTION.NONE:case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:default:return U}}totalInputPositions(E,F){return E===void 0&&(E=0),F===void 0&&(F=this._value.length),this._isRawInput?F-E:0}extractInput(E,F,R){return E===void 0&&(E=0),F===void 0&&(F=this._value.length),R===void 0&&(R={}),R.raw&&this._isRawInput&&this._value.slice(E,F)||""}get isComplete(){return!0}get isFilled(){return Boolean(this._value)}_appendChar(E,F){F===void 0&&(F={});const R=new ChangeDetails;if(this.isFilled)return R;const U=this.eager===!0||this.eager==="append",Y=this.char===E&&(this.isUnmasking||F.input||F.raw)&&(!F.raw||!U)&&!F.tail;return Y&&(R.rawInserted=this.char),this._value=R.inserted=this.char,this._isRawInput=Y&&(F.raw||F.input),R}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const E=new ChangeDetails;return this.isFilled||(this._value=E.inserted=this.char),E}extractTail(){return new ContinuousTailDetails("")}appendTail(E){return isString$3(E)&&(E=new ContinuousTailDetails(String(E))),E.appendTo(this)}append(E,F,R){const U=this._appendChar(E[0],F);return R!=null&&(U.tailShift+=this.appendTail(R).tailShift),U}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(E){this._value=E._value,this._isRawInput=Boolean(E._rawInputValue)}}class PatternInputDefinition{constructor(E){const{parent:F,isOptional:R,placeholderChar:U,displayChar:W,lazy:Y,eager:G,...X}=E;this.masked=createMask(X),Object.assign(this,{parent:F,isOptional:R,placeholderChar:U,displayChar:W,lazy:Y,eager:G})}reset(){this.isFilled=!1,this.masked.reset()}remove(E,F){return E===void 0&&(E=0),F===void 0&&(F=this.value.length),E===0&&F>=1?(this.isFilled=!1,this.masked.remove(E,F)):new ChangeDetails}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return Boolean(this.masked.value)||this.isOptional}_appendChar(E,F){if(F===void 0&&(F={}),this.isFilled)return new ChangeDetails;const R=this.masked.state,U=this.masked._appendChar(E,this.currentMaskFlags(F));return U.inserted&&this.doValidate(F)===!1&&(U.inserted=U.rawInserted="",this.masked.state=R),!U.inserted&&!this.isOptional&&!this.lazy&&!F.input&&(U.inserted=this.placeholderChar),U.skip=!U.inserted&&!this.isOptional,this.isFilled=Boolean(U.inserted),U}append(E,F,R){return this.masked.append(E,this.currentMaskFlags(F),R)}_appendPlaceholder(){const E=new ChangeDetails;return this.isFilled||this.isOptional||(this.isFilled=!0,E.inserted=this.placeholderChar),E}_appendEager(){return new ChangeDetails}extractTail(E,F){return this.masked.extractTail(E,F)}appendTail(E){return this.masked.appendTail(E)}extractInput(E,F,R){return E===void 0&&(E=0),F===void 0&&(F=this.value.length),this.masked.extractInput(E,F,R)}nearestInputPos(E,F){F===void 0&&(F=DIRECTION.NONE);const R=0,U=this.value.length,W=Math.min(Math.max(E,R),U);switch(F){case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:return this.isComplete?W:R;case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:return this.isComplete?W:U;case DIRECTION.NONE:default:return W}}totalInputPositions(E,F){return E===void 0&&(E=0),F===void 0&&(F=this.value.length),this.value.slice(E,F).length}doValidate(E){return this.masked.doValidate(this.currentMaskFlags(E))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(E)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(E){this.masked.state=E.masked,this.isFilled=E.isFilled}currentMaskFlags(E){var F;return{...E,_beforeTailState:(E==null||(F=E._beforeTailState)==null?void 0:F.masked)||(E==null?void 0:E._beforeTailState)}}}PatternInputDefinition.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class MaskedRegExp extends Masked{updateOptions(E){super.updateOptions(E)}_update(E){const F=E.mask;F&&(E.validate=R=>R.search(F)>=0),super._update(E)}}IMask.MaskedRegExp=MaskedRegExp;class MaskedPattern extends Masked{constructor(E){super({...MaskedPattern.DEFAULTS,...E,definitions:Object.assign({},PatternInputDefinition.DEFAULT_DEFINITIONS,E==null?void 0:E.definitions)})}updateOptions(E){super.updateOptions(E)}_update(E){E.definitions=Object.assign({},this.definitions,E.definitions),super._update(E),this._rebuildMask()}_rebuildMask(){const E=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const F=this.mask;if(!F||!E)return;let R=!1,U=!1;for(let W=0;W<F.length;++W){if(this.blocks){const K=F.slice(W),Z=Object.keys(this.blocks).filter(Q=>K.indexOf(Q)===0);Z.sort((Q,ee)=>ee.length-Q.length);const J=Z[0];if(J){const{expose:Q,...ee}=normalizeOpts(this.blocks[J]),te=createMask({lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,...ee,parent:this});te&&(this._blocks.push(te),Q&&(this.exposeBlock=te),this._maskedBlocks[J]||(this._maskedBlocks[J]=[]),this._maskedBlocks[J].push(this._blocks.length-1)),W+=J.length-1;continue}}let Y=F[W],G=Y in E;if(Y===MaskedPattern.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(Y==="{"||Y==="}"){R=!R;continue}if(Y==="["||Y==="]"){U=!U;continue}if(Y===MaskedPattern.ESCAPE_CHAR){if(++W,Y=F[W],!Y)break;G=!1}const X=G?new PatternInputDefinition({isOptional:U,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...normalizeOpts(E[Y]),parent:this}):new PatternFixedDefinition({char:Y,eager:this.eager,isUnmasking:R});this._blocks.push(X)}}get state(){return{...super.state,_blocks:this._blocks.map(E=>E.state)}}set state(E){const{_blocks:F,...R}=E;this._blocks.forEach((U,W)=>U.state=F[W]),super.state=R}reset(){super.reset(),this._blocks.forEach(E=>E.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(E=>E.isComplete)}get isFilled(){return this._blocks.every(E=>E.isFilled)}get isFixed(){return this._blocks.every(E=>E.isFixed)}get isOptional(){return this._blocks.every(E=>E.isOptional)}doCommit(){this._blocks.forEach(E=>E.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((E,F)=>E+=F.unmaskedValue,"")}set unmaskedValue(E){if(this.exposeBlock){const F=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=E,this.appendTail(F),this.doCommit()}else super.unmaskedValue=E}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((E,F)=>E+=F.value,"")}set value(E){if(this.exposeBlock){const F=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=E,this.appendTail(F),this.doCommit()}else super.value=E}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(E){if(this.exposeBlock){const F=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=E,this.appendTail(F),this.doCommit()}else super.typedValue=E}get displayValue(){return this._blocks.reduce((E,F)=>E+=F.displayValue,"")}appendTail(E){return super.appendTail(E).aggregate(this._appendPlaceholder())}_appendEager(){var E;const F=new ChangeDetails;let R=(E=this._mapPosToBlock(this.displayValue.length))==null?void 0:E.index;if(R==null)return F;this._blocks[R].isFilled&&++R;for(let U=R;U<this._blocks.length;++U){const W=this._blocks[U]._appendEager();if(!W.inserted)break;F.aggregate(W)}return F}_appendCharRaw(E,F){F===void 0&&(F={});const R=this._mapPosToBlock(this.displayValue.length),U=new ChangeDetails;if(!R)return U;for(let Y=R.index;;++Y){var W;const G=this._blocks[Y];if(!G)break;const X=G._appendChar(E,{...F,_beforeTailState:(W=F._beforeTailState)==null||(W=W._blocks)==null?void 0:W[Y]}),K=X.skip;if(U.aggregate(X),K||X.rawInserted)break}return U}extractTail(E,F){E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length);const R=new ChunksTailDetails;return E===F||this._forEachBlocksInRange(E,F,(U,W,Y,G)=>{const X=U.extractTail(Y,G);X.stop=this._findStopBefore(W),X.from=this._blockStartPos(W),X instanceof ChunksTailDetails&&(X.blockIndex=W),R.extend(X)}),R}extractInput(E,F,R){if(E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length),R===void 0&&(R={}),E===F)return"";let U="";return this._forEachBlocksInRange(E,F,(W,Y,G,X)=>{U+=W.extractInput(G,X,R)}),U}_findStopBefore(E){let F;for(let R=0;R<this._stops.length;++R){const U=this._stops[R];if(U<=E)F=U;else break}return F}_appendPlaceholder(E){const F=new ChangeDetails;if(this.lazy&&E==null)return F;const R=this._mapPosToBlock(this.displayValue.length);if(!R)return F;const U=R.index,W=E!=null?E:this._blocks.length;return this._blocks.slice(U,W).forEach(Y=>{if(!Y.lazy||E!=null){var G;const X=Y._appendPlaceholder((G=Y._blocks)==null?void 0:G.length);this._value+=X.inserted,F.aggregate(X)}}),F}_mapPosToBlock(E){let F="";for(let R=0;R<this._blocks.length;++R){const U=this._blocks[R],W=F.length;if(F+=U.displayValue,E<=F.length)return{index:R,offset:E-W}}}_blockStartPos(E){return this._blocks.slice(0,E).reduce((F,R)=>F+=R.displayValue.length,0)}_forEachBlocksInRange(E,F,R){F===void 0&&(F=this.displayValue.length);const U=this._mapPosToBlock(E);if(U){const W=this._mapPosToBlock(F),Y=W&&U.index===W.index,G=U.offset,X=W&&Y?W.offset:this._blocks[U.index].displayValue.length;if(R(this._blocks[U.index],U.index,G,X),W&&!Y){for(let K=U.index+1;K<W.index;++K)R(this._blocks[K],K,0,this._blocks[K].displayValue.length);R(this._blocks[W.index],W.index,0,W.offset)}}}remove(E,F){E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length);const R=super.remove(E,F);return this._forEachBlocksInRange(E,F,(U,W,Y,G)=>{R.aggregate(U.remove(Y,G))}),R}nearestInputPos(E,F){if(F===void 0&&(F=DIRECTION.NONE),!this._blocks.length)return 0;const R=new PatternCursor(this,E);if(F===DIRECTION.NONE)return R.pushRightBeforeInput()||(R.popState(),R.pushLeftBeforeInput())?R.pos:this.displayValue.length;if(F===DIRECTION.LEFT||F===DIRECTION.FORCE_LEFT){if(F===DIRECTION.LEFT){if(R.pushRightBeforeFilled(),R.ok&&R.pos===E)return E;R.popState()}if(R.pushLeftBeforeInput(),R.pushLeftBeforeRequired(),R.pushLeftBeforeFilled(),F===DIRECTION.LEFT){if(R.pushRightBeforeInput(),R.pushRightBeforeRequired(),R.ok&&R.pos<=E||(R.popState(),R.ok&&R.pos<=E))return R.pos;R.popState()}return R.ok?R.pos:F===DIRECTION.FORCE_LEFT?0:(R.popState(),R.ok||(R.popState(),R.ok)?R.pos:0)}return F===DIRECTION.RIGHT||F===DIRECTION.FORCE_RIGHT?(R.pushRightBeforeInput(),R.pushRightBeforeRequired(),R.pushRightBeforeFilled()?R.pos:F===DIRECTION.FORCE_RIGHT?this.displayValue.length:(R.popState(),R.ok||(R.popState(),R.ok)?R.pos:this.nearestInputPos(E,DIRECTION.LEFT))):E}totalInputPositions(E,F){E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length);let R=0;return this._forEachBlocksInRange(E,F,(U,W,Y,G)=>{R+=U.totalInputPositions(Y,G)}),R}maskedBlock(E){return this.maskedBlocks(E)[0]}maskedBlocks(E){const F=this._maskedBlocks[E];return F?F.map(R=>this._blocks[R]):[]}}MaskedPattern.DEFAULTS={lazy:!0,placeholderChar:"_"};MaskedPattern.STOP_CHAR="`";MaskedPattern.ESCAPE_CHAR="\\";MaskedPattern.InputDefinition=PatternInputDefinition;MaskedPattern.FixedDefinition=PatternFixedDefinition;IMask.MaskedPattern=MaskedPattern;class MaskedRange extends MaskedPattern{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(E){super(E)}updateOptions(E){super.updateOptions(E)}_update(E){const{to:F=this.to||0,from:R=this.from||0,maxLength:U=this.maxLength||0,autofix:W=this.autofix,...Y}=E;this.to=F,this.from=R,this.maxLength=Math.max(String(F).length,U),this.autofix=W;const G=String(this.from).padStart(this.maxLength,"0"),X=String(this.to).padStart(this.maxLength,"0");let K=0;for(;K<X.length&&X[K]===G[K];)++K;Y.mask=X.slice(0,K).replace(/0/g,"\\0")+"0".repeat(this.maxLength-K),super._update(Y)}get isComplete(){return super.isComplete&&Boolean(this.value)}boundaries(E){let F="",R="";const[,U,W]=E.match(/^(\D*)(\d*)(\D*)/)||[];return W&&(F="0".repeat(U.length)+W,R="9".repeat(U.length)+W),F=F.padEnd(this.maxLength,"0"),R=R.padEnd(this.maxLength,"9"),[F,R]}doPrepareChar(E,F){F===void 0&&(F={});let R;if([E,R]=super.doPrepareChar(E.replace(/\D/g,""),F),!this.autofix||!E)return[E,R];const U=String(this.from).padStart(this.maxLength,"0"),W=String(this.to).padStart(this.maxLength,"0"),Y=this.value+E;if(Y.length>this.maxLength)return["",R];const[G,X]=this.boundaries(Y);return Number(X)<this.from?[U[Y.length-1],R]:Number(G)>this.to?this.autofix==="pad"&&Y.length<this.maxLength?["",R.aggregate(this.append(U[Y.length-1]+E,F))]:[W[Y.length-1],R]:[E,R]}doValidate(E){const F=this.value;if(F.search(/[^0]/)===-1&&F.length<=this._matchFrom)return!0;const[U,W]=this.boundaries(F);return this.from<=Number(W)&&Number(U)<=this.to&&super.doValidate(E)}}IMask.MaskedRange=MaskedRange;class MaskedDate extends MaskedPattern{constructor(E){const{mask:F,pattern:R,...U}={...MaskedDate.DEFAULTS,...E};super({...U,mask:isString$3(F)?F:R})}updateOptions(E){super.updateOptions(E)}_update(E){const{mask:F,pattern:R,blocks:U,...W}={...MaskedDate.DEFAULTS,...E},Y=Object.assign({},MaskedDate.GET_DEFAULT_BLOCKS());E.min&&(Y.Y.from=E.min.getFullYear()),E.max&&(Y.Y.to=E.max.getFullYear()),E.min&&E.max&&Y.Y.from===Y.Y.to&&(Y.m.from=E.min.getMonth()+1,Y.m.to=E.max.getMonth()+1,Y.m.from===Y.m.to&&(Y.d.from=E.min.getDate(),Y.d.to=E.max.getDate())),Object.assign(Y,this.blocks,U),Object.keys(Y).forEach(G=>{const X=Y[G];!("autofix"in X)&&"autofix"in E&&(X.autofix=E.autofix)}),super._update({...W,mask:isString$3(F)?F:R,blocks:Y})}doValidate(E){const F=this.date;return super.doValidate(E)&&(!this.isComplete||this.isDateExist(this.value)&&F!=null&&(this.min==null||this.min<=F)&&(this.max==null||F<=this.max))}isDateExist(E){return this.format(this.parse(E,this),this).indexOf(E)>=0}get date(){return this.typedValue}set date(E){this.typedValue=E}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(E){super.typedValue=E}maskEquals(E){return E===Date||super.maskEquals(E)}}MaskedDate.GET_DEFAULT_BLOCKS=()=>({d:{mask:MaskedRange,from:1,to:31,maxLength:2},m:{mask:MaskedRange,from:1,to:12,maxLength:2},Y:{mask:MaskedRange,from:1900,to:9999}});MaskedDate.DEFAULTS={mask:Date,pattern:"d{.}`m{.}`Y",format:(V,E)=>{if(!V)return"";const F=String(V.getDate()).padStart(2,"0"),R=String(V.getMonth()+1).padStart(2,"0"),U=V.getFullYear();return[F,R,U].join(".")},parse:(V,E)=>{const[F,R,U]=V.split(".").map(Number);return new Date(U,R-1,F)}};IMask.MaskedDate=MaskedDate;class MaskedDynamic extends Masked{constructor(E){super({...MaskedDynamic.DEFAULTS,...E}),this.currentMask=void 0}updateOptions(E){super.updateOptions(E)}_update(E){super._update(E),"mask"in E&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(E.mask)?E.mask.map(F=>{const{expose:R,...U}=normalizeOpts(F),W=createMask({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...U});return R&&(this.exposeMask=W),W}):[])}_appendCharRaw(E,F){F===void 0&&(F={});const R=this._applyDispatch(E,F);return this.currentMask&&R.aggregate(this.currentMask._appendChar(E,this.currentMaskFlags(F))),R}_applyDispatch(E,F,R){E===void 0&&(E=""),F===void 0&&(F={}),R===void 0&&(R="");const U=F.tail&&F._beforeTailState!=null?F._beforeTailState._value:this.value,W=this.rawInputValue,Y=F.tail&&F._beforeTailState!=null?F._beforeTailState._rawInputValue:W,G=W.slice(Y.length),X=this.currentMask,K=new ChangeDetails,Z=X==null?void 0:X.state;if(this.currentMask=this.doDispatch(E,{...F},R),this.currentMask)if(this.currentMask!==X){if(this.currentMask.reset(),Y){const J=this.currentMask.append(Y,{raw:!0});K.tailShift=J.inserted.length-U.length}G&&(K.tailShift+=this.currentMask.append(G,{raw:!0,tail:!0}).tailShift)}else Z&&(this.currentMask.state=Z);return K}_appendPlaceholder(){const E=this._applyDispatch();return this.currentMask&&E.aggregate(this.currentMask._appendPlaceholder()),E}_appendEager(){const E=this._applyDispatch();return this.currentMask&&E.aggregate(this.currentMask._appendEager()),E}appendTail(E){const F=new ChangeDetails;return E&&F.aggregate(this._applyDispatch("",{},E)),F.aggregate(this.currentMask?this.currentMask.appendTail(E):super.appendTail(E))}currentMaskFlags(E){var F,R;return{...E,_beforeTailState:((F=E._beforeTailState)==null?void 0:F.currentMaskRef)===this.currentMask&&((R=E._beforeTailState)==null?void 0:R.currentMask)||E._beforeTailState}}doDispatch(E,F,R){return F===void 0&&(F={}),R===void 0&&(R=""),this.dispatch(E,this,F,R)}doValidate(E){return super.doValidate(E)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(E)))}doPrepare(E,F){F===void 0&&(F={});let[R,U]=super.doPrepare(E,F);if(this.currentMask){let W;[R,W]=super.doPrepare(R,this.currentMaskFlags(F)),U=U.aggregate(W)}return[R,U]}doPrepareChar(E,F){F===void 0&&(F={});let[R,U]=super.doPrepareChar(E,F);if(this.currentMask){let W;[R,W]=super.doPrepareChar(R,this.currentMaskFlags(F)),U=U.aggregate(W)}return[R,U]}reset(){var E;(E=this.currentMask)==null||E.reset(),this.compiledMasks.forEach(F=>F.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(E){this.exposeMask?(this.exposeMask.value=E,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=E}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(E){this.exposeMask?(this.exposeMask.unmaskedValue=E,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=E}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(E){if(this.exposeMask){this.exposeMask.typedValue=E,this.currentMask=this.exposeMask,this._applyDispatch();return}let F=String(E);this.currentMask&&(this.currentMask.typedValue=E,F=this.currentMask.unmaskedValue),this.unmaskedValue=F}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var E;return Boolean((E=this.currentMask)==null?void 0:E.isComplete)}get isFilled(){var E;return Boolean((E=this.currentMask)==null?void 0:E.isFilled)}remove(E,F){const R=new ChangeDetails;return this.currentMask&&R.aggregate(this.currentMask.remove(E,F)).aggregate(this._applyDispatch()),R}get state(){var E;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(F=>F.state),currentMaskRef:this.currentMask,currentMask:(E=this.currentMask)==null?void 0:E.state}}set state(E){const{compiledMasks:F,currentMaskRef:R,currentMask:U,...W}=E;F&&this.compiledMasks.forEach((Y,G)=>Y.state=F[G]),R!=null&&(this.currentMask=R,this.currentMask.state=U),super.state=W}extractInput(E,F,R){return this.currentMask?this.currentMask.extractInput(E,F,R):""}extractTail(E,F){return this.currentMask?this.currentMask.extractTail(E,F):super.extractTail(E,F)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(E,F){return this.currentMask?this.currentMask.nearestInputPos(E,F):super.nearestInputPos(E,F)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(E){this._overwrite=E}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(E){this._eager=E}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(E){this._skipInvalid=E}maskEquals(E){return Array.isArray(E)?this.compiledMasks.every((F,R)=>{if(!E[R])return;const{mask:U,...W}=E[R];return objectIncludes(F,W)&&F.maskEquals(U)}):super.maskEquals(E)}typedValueEquals(E){var F;return Boolean((F=this.currentMask)==null?void 0:F.typedValueEquals(E))}}MaskedDynamic.DEFAULTS=void 0;MaskedDynamic.DEFAULTS={dispatch:(V,E,F,R)=>{if(!E.compiledMasks.length)return;const U=E.rawInputValue,W=E.compiledMasks.map((Y,G)=>{const X=E.currentMask===Y,K=X?Y.displayValue.length:Y.nearestInputPos(Y.displayValue.length,DIRECTION.FORCE_LEFT);return Y.rawInputValue!==U?(Y.reset(),Y.append(U,{raw:!0})):X||Y.remove(K),Y.append(V,E.currentMaskFlags(F)),Y.appendTail(R),{index:G,weight:Y.rawInputValue.length,totalInputPositions:Y.totalInputPositions(0,Math.max(K,Y.nearestInputPos(Y.displayValue.length,DIRECTION.FORCE_LEFT)))}});return W.sort((Y,G)=>G.weight-Y.weight||G.totalInputPositions-Y.totalInputPositions),E.compiledMasks[W[0].index]}};IMask.MaskedDynamic=MaskedDynamic;class MaskedEnum extends MaskedPattern{constructor(E){super(E)}updateOptions(E){super.updateOptions(E)}_update(E){const{enum:F,...R}=E;if(F){const U=F.map(G=>G.length),W=Math.min(...U),Y=Math.max(...U)-W;R.mask="*".repeat(W),Y&&(R.mask+="["+"*".repeat(Y)+"]"),this.enum=F}super._update(R)}doValidate(E){return this.enum.some(F=>F.indexOf(this.unmaskedValue)===0)&&super.doValidate(E)}}IMask.MaskedEnum=MaskedEnum;class MaskedFunction extends Masked{updateOptions(E){super.updateOptions(E)}_update(E){super._update({...E,validate:E.mask})}}IMask.MaskedFunction=MaskedFunction;class MaskedNumber extends Masked{constructor(E){super({...MaskedNumber.DEFAULTS,...E})}updateOptions(E){super.updateOptions(E)}_update(E){super._update(E),this._updateRegExps()}_updateRegExps(){const E="^"+(this.allowNegative?"[+|\\-]?":""),F="\\d*",R=(this.scale?"("+escapeRegExp(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(E+F+R),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(escapeRegExp).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(escapeRegExp(this.thousandsSeparator),"g")}_removeThousandsSeparators(E){return E.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(E){const F=E.split(this.radix);return F[0]=F[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),F.join(this.radix)}doPrepareChar(E,F){F===void 0&&(F={});const[R,U]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(F.input&&F.raw||!F.input&&!F.raw)?E.replace(this._mapToRadixRegExp,this.radix):E),F);return E&&!R&&(U.skip=!0),R&&!this.allowPositive&&!this.value&&R!=="-"&&U.aggregate(this._appendChar("-")),[R,U]}_separatorsCount(E,F){F===void 0&&(F=!1);let R=0;for(let U=0;U<E;++U)this._value.indexOf(this.thousandsSeparator,U)===U&&(++R,F&&(E+=this.thousandsSeparator.length));return R}_separatorsCountFromSlice(E){return E===void 0&&(E=this._value),this._separatorsCount(this._removeThousandsSeparators(E).length,!0)}extractInput(E,F,R){return E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length),[E,F]=this._adjustRangeWithSeparators(E,F),this._removeThousandsSeparators(super.extractInput(E,F,R))}_appendCharRaw(E,F){if(F===void 0&&(F={}),!this.thousandsSeparator)return super._appendCharRaw(E,F);const R=F.tail&&F._beforeTailState?F._beforeTailState._value:this._value,U=this._separatorsCountFromSlice(R);this._value=this._removeThousandsSeparators(this.value);const W=super._appendCharRaw(E,F);this._value=this._insertThousandsSeparators(this._value);const Y=F.tail&&F._beforeTailState?F._beforeTailState._value:this._value,G=this._separatorsCountFromSlice(Y);return W.tailShift+=(G-U)*this.thousandsSeparator.length,W.skip=!W.rawInserted&&E===this.thousandsSeparator,W}_findSeparatorAround(E){if(this.thousandsSeparator){const F=E-this.thousandsSeparator.length+1,R=this.value.indexOf(this.thousandsSeparator,F);if(R<=E)return R}return-1}_adjustRangeWithSeparators(E,F){const R=this._findSeparatorAround(E);R>=0&&(E=R);const U=this._findSeparatorAround(F);return U>=0&&(F=U+this.thousandsSeparator.length),[E,F]}remove(E,F){E===void 0&&(E=0),F===void 0&&(F=this.displayValue.length),[E,F]=this._adjustRangeWithSeparators(E,F);const R=this.value.slice(0,E),U=this.value.slice(F),W=this._separatorsCount(R.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(R+U));const Y=this._separatorsCountFromSlice(R);return new ChangeDetails({tailShift:(Y-W)*this.thousandsSeparator.length})}nearestInputPos(E,F){if(!this.thousandsSeparator)return E;switch(F){case DIRECTION.NONE:case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:{const R=this._findSeparatorAround(E-1);if(R>=0){const U=R+this.thousandsSeparator.length;if(E<U||this.value.length<=U||F===DIRECTION.FORCE_LEFT)return R}break}case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:{const R=this._findSeparatorAround(E);if(R>=0)return R+this.thousandsSeparator.length}}return E}doValidate(E){let F=Boolean(this._removeThousandsSeparators(this.value).match(this._numberRegExp));if(F){const R=this.number;F=F&&!isNaN(R)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return F&&super.doValidate(E)}doCommit(){if(this.value){const E=this.number;let F=E;this.min!=null&&(F=Math.max(F,this.min)),this.max!=null&&(F=Math.min(F,this.max)),F!==E&&(this.unmaskedValue=this.format(F,this));let R=this.value;this.normalizeZeros&&(R=this._normalizeZeros(R)),this.padFractionalZeros&&this.scale>0&&(R=this._padFractionalZeros(R)),this._value=R}super.doCommit()}_normalizeZeros(E){const F=this._removeThousandsSeparators(E).split(this.radix);return F[0]=F[0].replace(/^(\D*)(0*)(\d*)/,(R,U,W,Y)=>U+Y),E.length&&!/\d$/.test(F[0])&&(F[0]=F[0]+"0"),F.length>1&&(F[1]=F[1].replace(/0*$/,""),F[1].length||(F.length=1)),this._insertThousandsSeparators(F.join(this.radix))}_padFractionalZeros(E){if(!E)return E;const F=E.split(this.radix);return F.length<2&&F.push(""),F[1]=F[1].padEnd(this.scale,"0"),F.join(this.radix)}doSkipInvalid(E,F,R){F===void 0&&(F={});const U=this.scale===0&&E!==this.thousandsSeparator&&(E===this.radix||E===MaskedNumber.UNMASKED_RADIX||this.mapToRadix.includes(E));return super.doSkipInvalid(E,F,R)&&!U}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,MaskedNumber.UNMASKED_RADIX)}set unmaskedValue(E){super.unmaskedValue=E}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(E){this.rawInputValue=this.format(E,this).replace(MaskedNumber.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(E){this.typedValue=E}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(E){return(super.typedValueEquals(E)||MaskedNumber.EMPTY_VALUES.includes(E)&&MaskedNumber.EMPTY_VALUES.includes(this.typedValue))&&!(E===0&&this.value==="")}}MaskedNumber.UNMASKED_RADIX=".";MaskedNumber.EMPTY_VALUES=[...Masked.EMPTY_VALUES,0];MaskedNumber.DEFAULTS={mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[MaskedNumber.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:V=>V.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};IMask.MaskedNumber=MaskedNumber;const PIPE_TYPE={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function createPipe(V,E,F){E===void 0&&(E=PIPE_TYPE.MASKED),F===void 0&&(F=PIPE_TYPE.MASKED);const R=createMask(V);return U=>R.runIsolated(W=>(W[E]=U,W[F]))}function pipe(V,E,F,R){return createPipe(E,F,R)(V)}IMask.PIPE_TYPE=PIPE_TYPE;IMask.createPipe=createPipe;IMask.pipe=pipe;try{globalThis.IMask=IMask}catch{}var Vue2=Vue$2;Vue$2.util.warn;var props={mask:void 0,prepare:Function,prepareChar:Function,validate:Function,commit:Function,overwrite:{type:Boolean,required:!1,default:void 0},eager:{required:!1,default:void 0,validator:V=>["append","remove"].includes(V)||typeof V=="boolean"},skipInvalid:{type:Boolean,required:!1,default:void 0},placeholderChar:String,displayChar:String,lazy:{type:Boolean,required:!1,default:void 0},definitions:Object,blocks:Object,enum:Array,maxLength:Number,from:Number,to:Number,pattern:String,format:Function,parse:Function,autofix:{required:!1,default:void 0,validator:V=>V==="pad"||typeof V=="boolean"},radix:String,thousandsSeparator:String,mapToRadix:Array,scale:Number,normalizeZeros:{type:Boolean,required:!1,default:void 0},padFractionalZeros:{type:Boolean,required:!1,default:void 0},min:[Number,Date],max:[Number,Date],dispatch:Function};function extractOptionsFromProps(V,E){return V={...V},Object.keys(V).forEach(F=>{(V[F]===void 0||E.includes(F))&&delete V[F]}),V}var Component2=Vue2==null?void 0:Vue2.extend({name:"imask-input",data(){return{}},render(V){const E={domProps:{value:this.maskRef?this.maskRef.value:this.value},on:{...this.$listeners}};return this.$props.mask?delete E.on.input:E.on.input=F=>this.$emit("input",F.target.value),V("input",E)},mounted(){!this.$props.mask||this._initMask()},destroyed(){this._destroyMask()},computed:{maskOptions(){return extractOptionsFromProps(this.$props,["value","unmask"])}},watch:{$props:{handler(V){const E=this.maskOptions;E.mask?this.maskRef?(this.maskRef.updateOptions(E),"value"in V&&this._updateValue()):(this._initMask(E),V.value!==this._maskValue()&&this._onAccept()):(this._destroyMask(),"value"in V&&(this.$el.value=V.value))},deep:!0}},methods:{_maskValue(){var V,E,F;return this.unmask==="typed"?(V=this.maskRef)==null?void 0:V.typedValue:this.unmask?(E=this.maskRef)==null?void 0:E.unmaskedValue:(F=this.maskRef)==null?void 0:F.value},_updateValue(){if(!this.maskRef)return;const V=this.value==null&&this.unmask!=="typed"?"":this.value;this.unmask==="typed"?this.maskRef.typedValue=V:this.unmask?this.maskRef.unmaskedValue=V:this.maskRef.value=V},_onAccept(){const V=this._maskValue();this.$emit("input",V),this.$emit("accept",V)},_onComplete(){this.$emit("complete",this._maskValue())},_initMask(V){V||(V=this.maskOptions),this.maskRef=IMask(this.$el,V).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),this._updateValue()},_destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}},props:{value:{},unmask:{validator:V=>V==="typed"||typeof V=="boolean"},...props}}),component=Component2;const _sfc_main$13={components:{"imask-input":component},props:{value:{type:String},signed:{type:Boolean,default:!0},showSign:{type:Boolean,default:!0},categoryId:{type:Number},accountId:{type:Number},placeholder:{type:String,default:""},transactionType:{type:String,default:""},currencyCode:{type:String,default:""},error:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},short:{type:Boolean,default:!1}},computed:{delimiters(){return numeral.locales[numeral.locale()].delimiters},category(){return this.$store.getters["category/getById"](this.categoryId)},account(){return this.$store.getters["account/getById"](this.accountId)},categoryType(){var V;return this.transactionType||((V=this.category)==null?void 0:V.type)},classes(){return{"state-error":this.error,short:this.short}}},mounted(){this.focused&&(this.$refs.input.$el.focus(),this.$refs.input.$el.select())}};var _sfc_render$13=function(){var E=this,F=E._self._c;return F("div",{staticClass:"flexbox middle space-8"},[F("div",{class:{"state-with-inner-icon":E.showSign,left:E.showSign}},[F("imask-input",{ref:"input",staticClass:"number bold width-100",class:E.classes,style:E.category&&`border-color: ${E.category.color}`,attrs:{value:E.value,mask:Number,scale:2,signed:E.signed,unmask:!0,radix:E.delimiters.decimal,"map-to-radix":[".",","],"thousands-separator":E.delimiters.thousands,placeholder:E.placeholder,type:"text"},on:{accept:function(R){return E.$emit("input",R)},keyup:function(R){return!R.type.indexOf("key")&&E._k(R.keyCode,"enter",13,R.key,"Enter")?null:E.$emit("keyEnter",R)}}}),E.showSign&&E.categoryType?F("span",{staticClass:"icon",class:{"text-orange":E.categoryType==="expense","text-green":E.categoryType==="income"}},[F("span",{directives:[{name:"show",rawName:"v-show",value:E.categoryType==="expense",expression:"categoryType === 'expense'"}]},[F("i",{staticClass:"fas fa-minus"})]),F("span",{directives:[{name:"show",rawName:"v-show",value:E.categoryType==="income",expression:"categoryType === 'income'"}]},[F("i",{staticClass:"fas fa-plus"})])]):E._e()],1),E.account||E.currencyCode?F("span",{staticClass:"bold"},[E._v(E._s(E.$helper.currencySignByCode(E.account?E.account.currency:E.currencyCode)))]):E._e()])},_sfc_staticRenderFns$13=[],__component__$13=normalizeComponent(_sfc_main$13,_sfc_render$13,_sfc_staticRenderFns$13,!1,null,null,null,null);const InputCurrency=__component__$13.exports;function has(V,E){return Object.prototype.hasOwnProperty.call(V,E)}function _classPrivateFieldLooseBase$a(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$a=0;function _classPrivateFieldLooseKey$a(V){return"__private_"+id$a+++"_"+V}function insertReplacement(V,E,F){const R=[];return V.forEach(U=>typeof U!="string"?R.push(U):E[Symbol.split](U).forEach((W,Y,G)=>{W!==""&&R.push(W),Y<G.length-1&&R.push(F)})),R}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */function interpolate$1(V,E){const F=/\$/g,R="$$$$";let U=[V];if(E==null)return U;for(const W of Object.keys(E))if(W!=="_"){let Y=E[W];typeof Y=="string"&&(Y=F[Symbol.replace](Y,R)),U=insertReplacement(U,new RegExp(`%\\{${W}\\}`,"g"),Y)}return U}var _apply=_classPrivateFieldLooseKey$a("apply");class Translator{constructor(E){Object.defineProperty(this,_apply,{value:_apply2}),this.locale={strings:{},pluralize(F){return F===1?0:1}},Array.isArray(E)?E.forEach(_classPrivateFieldLooseBase$a(this,_apply)[_apply],this):_classPrivateFieldLooseBase$a(this,_apply)[_apply](E)}translate(E,F){return this.translateArray(E,F).join("")}translateArray(E,F){if(!has(this.locale.strings,E))throw new Error(`missing string: ${E}`);const R=this.locale.strings[E];if(typeof R=="object"){if(F&&typeof F.smart_count<"u"){const W=this.locale.pluralize(F.smart_count);return interpolate$1(R[W],F)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return interpolate$1(R,F)}}function _apply2(V){if(!(V!=null&&V.strings))return;const E=this.locale;this.locale={...E,strings:{...E.strings,...V.strings}},this.locale.pluralize=V.pluralize||E.pluralize}var namespaceEmitter=function(){var E={},F=E._fns={};E.emit=function(Y,G,X,K,Z,J,Q){var ee=R(Y);ee.length&&U(Y,ee,[G,X,K,Z,J,Q])},E.on=function(Y,G){F[Y]||(F[Y]=[]),F[Y].push(G)},E.once=function(Y,G){function X(){G.apply(this,arguments),E.off(Y,X)}this.on(Y,X)},E.off=function(Y,G){var X=[];if(Y&&G){var K=this._fns[Y],Z=0,J=K?K.length:0;for(Z;Z<J;Z++)K[Z]!==G&&X.push(K[Z])}X.length?this._fns[Y]=X:delete this._fns[Y]};function R(W){var Y=F[W]?F[W]:[],G=W.indexOf(":"),X=G===-1?[W]:[W.substring(0,G),W.substring(G+1)],K=Object.keys(F),Z=0,J=K.length;for(Z;Z<J;Z++){var Q=K[Z];if(Q==="*"&&(Y=Y.concat(F[Q])),X.length===2&&X[0]===Q){Y=Y.concat(F[Q]);break}}return Y}function U(W,Y,G){var X=0,K=Y.length;for(X;X<K&&Y[X];X++)Y[X].event=W,Y[X].apply(Y[X],G)}return E};let urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nanoid=(V=21)=>{let E="",F=V;for(;F--;)E+=urlAlphabet[Math.random()*64|0];return E};function isObject$8(V){var E=typeof V;return V!=null&&(E=="object"||E=="function")}var isObject_1=isObject$8,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$2=freeGlobal||freeSelf||Function("return this")(),_root=root$2,root$1=_root,now$2=function(){return root$1.Date.now()},now_1=now$2,reWhitespace=/\s/;function trimmedEndIndex$1(V){for(var E=V.length;E--&&reWhitespace.test(V.charAt(E)););return E}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(V){return V&&V.slice(0,trimmedEndIndex(V)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,root=_root,Symbol$3=root.Symbol,_Symbol=Symbol$3,Symbol$2=_Symbol,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag$1(V){var E=hasOwnProperty$1.call(V,symToStringTag$1),F=V[symToStringTag$1];try{V[symToStringTag$1]=void 0;var R=!0}catch{}var U=nativeObjectToString$1.call(V);return R&&(E?V[symToStringTag$1]=F:delete V[symToStringTag$1]),U}var _getRawTag=getRawTag$1,objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString$1(V){return nativeObjectToString.call(V)}var _objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$1(V){return V==null?V===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(V)?getRawTag(V):objectToString(V)}var _baseGetTag=baseGetTag$1;function isObjectLike$1(V){return V!=null&&typeof V=="object"}var isObjectLike_1=isObjectLike$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(V){return typeof V=="symbol"||isObjectLike(V)&&baseGetTag(V)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$7=isObject_1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(V){if(typeof V=="number")return V;if(isSymbol(V))return NAN;if(isObject$7(V)){var E=typeof V.valueOf=="function"?V.valueOf():V;V=isObject$7(E)?E+"":E}if(typeof V!="string")return V===0?V:+V;V=baseTrim(V);var F=reIsBinary.test(V);return F||reIsOctal.test(V)?freeParseInt(V.slice(2),F?2:8):reIsBadHex.test(V)?NAN:+V}var toNumber_1=toNumber$2,isObject$6=isObject_1,now$1=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$4(V,E,F){var R,U,W,Y,G,X,K=0,Z=!1,J=!1,Q=!0;if(typeof V!="function")throw new TypeError(FUNC_ERROR_TEXT$1);E=toNumber$1(E)||0,isObject$6(F)&&(Z=!!F.leading,J="maxWait"in F,W=J?nativeMax(toNumber$1(F.maxWait)||0,E):W,Q="trailing"in F?!!F.trailing:Q);function ee(ue){var ce=R,he=U;return R=U=void 0,K=ue,Y=V.apply(he,ce),Y}function te(ue){return K=ue,G=setTimeout(ne,E),Z?ee(ue):Y}function ie(ue){var ce=ue-X,he=ue-K,me=E-ce;return J?nativeMin(me,W-he):me}function re(ue){var ce=ue-X,he=ue-K;return X===void 0||ce>=E||ce<0||J&&he>=W}function ne(){var ue=now$1();if(re(ue))return ae(ue);G=setTimeout(ne,ie(ue))}function ae(ue){return G=void 0,Q&&R?ee(ue):(R=U=void 0,Y)}function se(){G!==void 0&&clearTimeout(G),K=0,R=X=U=G=void 0}function le(){return G===void 0?Y:ae(now$1())}function oe(){var ue=now$1(),ce=re(ue);if(R=arguments,U=this,X=ue,ce){if(G===void 0)return te(X);if(J)return clearTimeout(G),G=setTimeout(ne,E),ee(X)}return G===void 0&&(G=setTimeout(ne,E)),Y}return oe.cancel=se,oe.flush=le,oe}var debounce_1=debounce$4,debounce$3=debounce_1,isObject$5=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(V,E,F){var R=!0,U=!0;if(typeof V!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$5(F)&&(R="leading"in F?!!F.leading:R,U="trailing"in F?!!F.trailing:U),debounce$3(V,E,{leading:R,maxWait:E,trailing:U})}var throttle_1=throttle;function _classPrivateFieldLooseBase$9(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$9=0;function _classPrivateFieldLooseKey$9(V){return"__private_"+id$9+++"_"+V}const packageJson$4={version:"3.0.4"};var _callbacks=_classPrivateFieldLooseKey$9("callbacks"),_publish=_classPrivateFieldLooseKey$9("publish");class DefaultStore{constructor(){Object.defineProperty(this,_publish,{value:_publish2}),Object.defineProperty(this,_callbacks,{writable:!0,value:new Set}),this.state={}}getState(){return this.state}setState(E){const F={...this.state},R={...this.state,...E};this.state=R,_classPrivateFieldLooseBase$9(this,_publish)[_publish](F,R,E)}subscribe(E){return _classPrivateFieldLooseBase$9(this,_callbacks)[_callbacks].add(E),()=>{_classPrivateFieldLooseBase$9(this,_callbacks)[_callbacks].delete(E)}}}function _publish2(){for(var V=arguments.length,E=new Array(V),F=0;F<V;F++)E[F]=arguments[F];_classPrivateFieldLooseBase$9(this,_callbacks)[_callbacks].forEach(R=>{R(...E)})}DefaultStore.VERSION=packageJson$4.version;function getFileNameAndExtension(V){const E=V.lastIndexOf(".");return E===-1||E===V.length-1?{name:V,extension:void 0}:{name:V.slice(0,E),extension:V.slice(E+1)}}const mimeTypes={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function getFileType(V){var E;if(V.type)return V.type;const F=V.name?(E=getFileNameAndExtension(V.name).extension)==null?void 0:E.toLowerCase():null;return F&&F in mimeTypes?mimeTypes[F]:"application/octet-stream"}function encodeCharacter(V){return V.charCodeAt(0).toString(32)}function encodeFilename(V){let E="";return V.replace(/[^A-Z0-9]/ig,F=>(E+=`-${encodeCharacter(F)}`,"/"))+E}function generateFileID(V){let E="uppy";return typeof V.name=="string"&&(E+=`-${encodeFilename(V.name.toLowerCase())}`),V.type!==void 0&&(E+=`-${V.type}`),V.meta&&typeof V.meta.relativePath=="string"&&(E+=`-${encodeFilename(V.meta.relativePath.toLowerCase())}`),V.data.size!==void 0&&(E+=`-${V.data.size}`),V.data.lastModified!==void 0&&(E+=`-${V.data.lastModified}`),E}function hasFileStableId(V){return!V.isRemote||!V.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(V.remote.provider)}function getSafeFileId(V){if(hasFileStableId(V))return V.id;const E=getFileType(V);return generateFileID({...V,type:E})}function supportsUploadProgress(V){if(V==null&&typeof navigator<"u"&&(V=navigator.userAgent),!V)return!0;const E=/Edge\/(\d+\.\d+)/.exec(V);if(!E)return!0;const F=E[1];let[R,U]=F.split(".");return R=parseInt(R,10),U=parseInt(U,10),R<15||R===15&&U<15063||R>18||R===18&&U>=18218}function getFileName(V,E){return E.name?E.name:V.split("/")[0]==="image"?`${V.split("/")[0]}.${V.split("/")[1]}`:"noname"}function pad$2(V){return V<10?`0${V}`:V.toString()}function getTimeStamp(){const V=new Date,E=pad$2(V.getHours()),F=pad$2(V.getMinutes()),R=pad$2(V.getSeconds());return`${E}:${F}:${R}`}const justErrorsLogger={debug:()=>{},warn:()=>{},error:function(){for(var V=arguments.length,E=new Array(V),F=0;F<V;F++)E[F]=arguments[F];return console.error(`[Uppy] [${getTimeStamp()}]`,...E)}},debugLogger={debug:function(){for(var V=arguments.length,E=new Array(V),F=0;F<V;F++)E[F]=arguments[F];return console.debug(`[Uppy] [${getTimeStamp()}]`,...E)},warn:function(){for(var V=arguments.length,E=new Array(V),F=0;F<V;F++)E[F]=arguments[F];return console.warn(`[Uppy] [${getTimeStamp()}]`,...E)},error:function(){for(var V=arguments.length,E=new Array(V),F=0;F<V;F++)E[F]=arguments[F];return console.error(`[Uppy] [${getTimeStamp()}]`,...E)}};var prettierBytes=function(E){if(typeof E!="number"||isNaN(E))throw new TypeError(`Expected a number, got ${typeof E}`);const F=E<0,R=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(F&&(E=-E),E<1)return`${(F?"-":"")+E} B`;const U=Math.min(Math.floor(Math.log(E)/Math.log(1024)),R.length-1);E=Number(E/Math.pow(1024,U));const W=R[U];return E>=10||E%1===0?`${(F?"-":"")+E.toFixed(0)} ${W}`:`${(F?"-":"")+E.toFixed(1)} ${W}`};function WildcardMatcher(V,E){this.text=V=V||"",this.hasWild=~V.indexOf("*"),this.separator=E,this.parts=V.split(E)}WildcardMatcher.prototype.match=function(V){var E=!0,F=this.parts,R,U=F.length,W;if(typeof V=="string"||V instanceof String)if(!this.hasWild&&this.text!=V)E=!1;else{for(W=(V||"").split(this.separator),R=0;E&&R<U;R++)F[R]!=="*"&&(R<W.length?E=F[R]===W[R]:E=!1);E=E&&W}else if(typeof V.splice=="function")for(E=[],R=V.length;R--;)this.match(V[R])&&(E[E.length]=V[R]);else if(typeof V=="object"){E={};for(var Y in V)this.match(Y)&&(E[Y]=V[Y])}return E};var wildcard$1=function(V,E,F){var R=new WildcardMatcher(V,F||/[\/\.]/);return typeof E<"u"?R.match(E):R},wildcard=wildcard$1,reMimePartSplit=/[\/\+\.]/,mimeMatch=function(V,E){function F(R){var U=wildcard(R,V,reMimePartSplit);return U&&U.length>=2}return E?F(E.split(";")[0]):F};const defaultOptions$1={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class RestrictionError extends Error{constructor(E,F){let{isUserFacing:R=!0,file:U}=F===void 0?{}:F;super(E),this.isRestriction=!0,this.isUserFacing=R,U!=null&&(this.file=U)}}class Restricter{constructor(E,F){this.i18n=F,this.getOpts=()=>{const R=E();if(R.restrictions.allowedFileTypes!=null&&!Array.isArray(R.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return R}}validateAggregateRestrictions(E,F){const{maxTotalFileSize:R,maxNumberOfFiles:U}=this.getOpts().restrictions;if(U&&E.filter(Y=>!Y.isGhost).length+F.length>U)throw new RestrictionError(`${this.i18n("youCanOnlyUploadX",{smart_count:U})}`);if(R){let W=E.reduce((Y,G)=>Y+G.size,0);for(const Y of F)if(Y.size!=null&&(W+=Y.size,W>R))throw new RestrictionError(this.i18n("exceedsSize",{size:prettierBytes(R),file:Y.name}))}}validateSingleFile(E){const{maxFileSize:F,minFileSize:R,allowedFileTypes:U}=this.getOpts().restrictions;if(U&&!U.some(Y=>Y.includes("/")?E.type?mimeMatch(E.type.replace(/;.*?$/,""),Y):!1:Y[0]==="."&&E.extension?E.extension.toLowerCase()===Y.slice(1).toLowerCase():!1)){const Y=U.join(", ");throw new RestrictionError(this.i18n("youCanOnlyUploadFileTypes",{types:Y}),{file:E})}if(F&&E.size!=null&&E.size>F)throw new RestrictionError(this.i18n("exceedsSize",{size:prettierBytes(F),file:E.name}),{file:E});if(R&&E.size!=null&&E.size<R)throw new RestrictionError(this.i18n("inferiorSize",{size:prettierBytes(R)}),{file:E})}validate(E,F){F.forEach(R=>{this.validateSingleFile(R)}),this.validateAggregateRestrictions(E,F)}validateMinNumberOfFiles(E){const{minNumberOfFiles:F}=this.getOpts().restrictions;if(Object.keys(E).length<F)throw new RestrictionError(this.i18n("youHaveToAtLeastSelectX",{smart_count:F}))}getMissingRequiredMetaFields(E){const F=new RestrictionError(this.i18n("missingRequiredMetaFieldOnFile",{fileName:E.name})),{requiredMetaFields:R}=this.getOpts().restrictions,U=[];for(const W of R)(!Object.hasOwn(E.meta,W)||E.meta[W]==="")&&U.push(W);return{missingFields:U,error:F}}}const locale$2={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};let _Symbol$for$2,_Symbol$for2$1;function _classPrivateFieldLooseBase$8(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$8=0;function _classPrivateFieldLooseKey$8(V){return"__private_"+id$8+++"_"+V}const packageJson$3={version:"3.5.1"};var _plugins=_classPrivateFieldLooseKey$8("plugins"),_restricter=_classPrivateFieldLooseKey$8("restricter"),_storeUnsubscribe=_classPrivateFieldLooseKey$8("storeUnsubscribe"),_emitter$1=_classPrivateFieldLooseKey$8("emitter"),_preProcessors=_classPrivateFieldLooseKey$8("preProcessors"),_uploaders=_classPrivateFieldLooseKey$8("uploaders"),_postProcessors=_classPrivateFieldLooseKey$8("postProcessors"),_informAndEmit=_classPrivateFieldLooseKey$8("informAndEmit"),_checkRequiredMetaFieldsOnFile=_classPrivateFieldLooseKey$8("checkRequiredMetaFieldsOnFile"),_checkRequiredMetaFields=_classPrivateFieldLooseKey$8("checkRequiredMetaFields"),_assertNewUploadAllowed=_classPrivateFieldLooseKey$8("assertNewUploadAllowed"),_transformFile=_classPrivateFieldLooseKey$8("transformFile"),_startIfAutoProceed=_classPrivateFieldLooseKey$8("startIfAutoProceed"),_checkAndUpdateFileState=_classPrivateFieldLooseKey$8("checkAndUpdateFileState"),_addListeners=_classPrivateFieldLooseKey$8("addListeners"),_updateOnlineStatus=_classPrivateFieldLooseKey$8("updateOnlineStatus"),_createUpload=_classPrivateFieldLooseKey$8("createUpload"),_getUpload=_classPrivateFieldLooseKey$8("getUpload"),_removeUpload=_classPrivateFieldLooseKey$8("removeUpload"),_runUpload=_classPrivateFieldLooseKey$8("runUpload");_Symbol$for$2=Symbol.for("uppy test: getPlugins");_Symbol$for2$1=Symbol.for("uppy test: createUpload");class Uppy{constructor(E){Object.defineProperty(this,_runUpload,{value:_runUpload2}),Object.defineProperty(this,_removeUpload,{value:_removeUpload2}),Object.defineProperty(this,_getUpload,{value:_getUpload2}),Object.defineProperty(this,_createUpload,{value:_createUpload2}),Object.defineProperty(this,_addListeners,{value:_addListeners2}),Object.defineProperty(this,_checkAndUpdateFileState,{value:_checkAndUpdateFileState2}),Object.defineProperty(this,_startIfAutoProceed,{value:_startIfAutoProceed2}),Object.defineProperty(this,_transformFile,{value:_transformFile2}),Object.defineProperty(this,_assertNewUploadAllowed,{value:_assertNewUploadAllowed2}),Object.defineProperty(this,_checkRequiredMetaFields,{value:_checkRequiredMetaFields2}),Object.defineProperty(this,_checkRequiredMetaFieldsOnFile,{value:_checkRequiredMetaFieldsOnFile2}),Object.defineProperty(this,_informAndEmit,{value:_informAndEmit2}),Object.defineProperty(this,_plugins,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,_restricter,{writable:!0,value:void 0}),Object.defineProperty(this,_storeUnsubscribe,{writable:!0,value:void 0}),Object.defineProperty(this,_emitter$1,{writable:!0,value:namespaceEmitter()}),Object.defineProperty(this,_preProcessors,{writable:!0,value:new Set}),Object.defineProperty(this,_uploaders,{writable:!0,value:new Set}),Object.defineProperty(this,_postProcessors,{writable:!0,value:new Set}),this.calculateProgress=throttle_1((R,U)=>{const W=this.getFile(R==null?void 0:R.id);if(R==null||!W){this.log(`Not setting progress for a file that has been removed: ${R==null?void 0:R.id}`);return}if(W.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${R.id}`);return}const Y=Number.isFinite(U.bytesTotal)&&U.bytesTotal>0;this.setFileState(R.id,{progress:{...W.progress,bytesUploaded:U.bytesUploaded,bytesTotal:U.bytesTotal,percentage:Y?Math.round(U.bytesUploaded/U.bytesTotal*100):0}}),this.calculateTotalProgress()},500,{leading:!0,trailing:!0}),Object.defineProperty(this,_updateOnlineStatus,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=locale$2;const F={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:defaultOptions$1,meta:{},onBeforeFileAdded:(R,U)=>!Object.hasOwn(U,R.id),onBeforeUpload:R=>R,store:new DefaultStore,logger:justErrorsLogger,infoTimeout:5e3};this.opts={...F,...E,restrictions:{...F.restrictions,...E&&E.restrictions}},E&&E.logger&&E.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):E&&E.debug&&(this.opts.logger=debugLogger),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:supportsUploadProgress(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),_classPrivateFieldLooseBase$8(this,_restricter)[_restricter]=new Restricter(()=>this.opts,this.i18n),_classPrivateFieldLooseBase$8(this,_storeUnsubscribe)[_storeUnsubscribe]=this.store.subscribe((R,U,W)=>{this.emit("state-update",R,U,W),this.updateAll(U)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),_classPrivateFieldLooseBase$8(this,_addListeners)[_addListeners]()}emit(E){for(var F=arguments.length,R=new Array(F>1?F-1:0),U=1;U<F;U++)R[U-1]=arguments[U];_classPrivateFieldLooseBase$8(this,_emitter$1)[_emitter$1].emit(E,...R)}on(E,F){return _classPrivateFieldLooseBase$8(this,_emitter$1)[_emitter$1].on(E,F),this}once(E,F){return _classPrivateFieldLooseBase$8(this,_emitter$1)[_emitter$1].once(E,F),this}off(E,F){return _classPrivateFieldLooseBase$8(this,_emitter$1)[_emitter$1].off(E,F),this}updateAll(E){this.iteratePlugins(F=>{F.update(E)})}setState(E){this.store.setState(E)}getState(){return this.store.getState()}patchFilesState(E){const F=this.getState().files;this.setState({files:{...F,...Object.fromEntries(Object.entries(E).map(R=>{let[U,W]=R;return[U,{...F[U],...W}]}))}})}setFileState(E,F){if(!this.getState().files[E])throw new Error(`Can\u2019t set state for ${E} (the file could have been removed)`);this.patchFilesState({[E]:F})}i18nInit(){const E=new Translator([this.defaultLocale,this.opts.locale]);this.i18n=E.translate.bind(E),this.i18nArray=E.translateArray.bind(E),this.locale=E.locale}setOptions(E){this.opts={...this.opts,...E,restrictions:{...this.opts.restrictions,...E&&E.restrictions}},E.meta&&this.setMeta(E.meta),this.i18nInit(),E.locale&&this.iteratePlugins(F=>{F.setOptions(E)}),this.setState()}resetProgress(){const E={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},F={...this.getState().files},R={};Object.keys(F).forEach(U=>{R[U]={...F[U],progress:{...F[U].progress,...E}}}),this.setState({files:R,totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null}),this.emit("reset-progress")}addPreProcessor(E){_classPrivateFieldLooseBase$8(this,_preProcessors)[_preProcessors].add(E)}removePreProcessor(E){return _classPrivateFieldLooseBase$8(this,_preProcessors)[_preProcessors].delete(E)}addPostProcessor(E){_classPrivateFieldLooseBase$8(this,_postProcessors)[_postProcessors].add(E)}removePostProcessor(E){return _classPrivateFieldLooseBase$8(this,_postProcessors)[_postProcessors].delete(E)}addUploader(E){_classPrivateFieldLooseBase$8(this,_uploaders)[_uploaders].add(E)}removeUploader(E){return _classPrivateFieldLooseBase$8(this,_uploaders)[_uploaders].delete(E)}setMeta(E){const F={...this.getState().meta,...E},R={...this.getState().files};Object.keys(R).forEach(U=>{R[U]={...R[U],meta:{...R[U].meta,...E}}}),this.log("Adding metadata:"),this.log(E),this.setState({meta:F,files:R})}setFileMeta(E,F){const R={...this.getState().files};if(!R[E]){this.log("Was trying to set metadata for a file that has been removed: ",E);return}const U={...R[E].meta,...F};R[E]={...R[E],meta:U},this.setState({files:R})}getFile(E){return this.getState().files[E]}getFiles(){const{files:E}=this.getState();return Object.values(E)}getFilesByIds(E){return E.map(F=>this.getFile(F))}getObjectOfFilesPerState(){const{files:E,totalProgress:F,error:R}=this.getState(),U=Object.values(E),W=U.filter(te=>{let{progress:ie}=te;return!ie.uploadComplete&&ie.uploadStarted}),Y=U.filter(te=>!te.progress.uploadStarted),G=U.filter(te=>te.progress.uploadStarted||te.progress.preprocess||te.progress.postprocess),X=U.filter(te=>te.progress.uploadStarted),K=U.filter(te=>te.isPaused),Z=U.filter(te=>te.progress.uploadComplete),J=U.filter(te=>te.error),Q=W.filter(te=>!te.isPaused),ee=U.filter(te=>te.progress.preprocess||te.progress.postprocess);return{newFiles:Y,startedFiles:G,uploadStartedFiles:X,pausedFiles:K,completeFiles:Z,erroredFiles:J,inProgressFiles:W,inProgressNotPausedFiles:Q,processingFiles:ee,isUploadStarted:X.length>0,isAllComplete:F===100&&Z.length===U.length&&ee.length===0,isAllErrored:!!R&&J.length===U.length,isAllPaused:W.length!==0&&K.length===W.length,isUploadInProgress:W.length>0,isSomeGhost:U.some(te=>te.isGhost)}}validateRestrictions(E,F){F===void 0&&(F=this.getFiles());try{_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].validate(F,[E])}catch(R){return R}return null}checkIfFileAlreadyExists(E){const{files:F}=this.getState();return!!(F[E]&&!F[E].isGhost)}addFile(E){_classPrivateFieldLooseBase$8(this,_assertNewUploadAllowed)[_assertNewUploadAllowed](E);const{nextFilesState:F,validFilesToAdd:R,errors:U}=_classPrivateFieldLooseBase$8(this,_checkAndUpdateFileState)[_checkAndUpdateFileState]([E]),W=U.filter(G=>G.isRestriction);if(_classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit](W),U.length>0)throw U[0];this.setState({files:F});const[Y]=R;return this.emit("file-added",Y),this.emit("files-added",R),this.log(`Added file: ${Y.name}, ${Y.id}, mime type: ${Y.type}`),_classPrivateFieldLooseBase$8(this,_startIfAutoProceed)[_startIfAutoProceed](),Y.id}addFiles(E){_classPrivateFieldLooseBase$8(this,_assertNewUploadAllowed)[_assertNewUploadAllowed]();const{nextFilesState:F,validFilesToAdd:R,errors:U}=_classPrivateFieldLooseBase$8(this,_checkAndUpdateFileState)[_checkAndUpdateFileState](E),W=U.filter(G=>G.isRestriction);_classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit](W);const Y=U.filter(G=>!G.isRestriction);if(Y.length>0){let G=`Multiple errors occurred while adding files:
`;if(Y.forEach(X=>{G+=`
 * ${X.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:Y.length}),details:G},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(Y,G);{const X=new Error(G);throw X.errors=Y,X}}this.setState({files:F}),R.forEach(G=>{this.emit("file-added",G)}),this.emit("files-added",R),R.length>5?this.log(`Added batch of ${R.length} files`):Object.values(R).forEach(G=>{this.log(`Added file: ${G.name}
 id: ${G.id}
 type: ${G.type}`)}),R.length>0&&_classPrivateFieldLooseBase$8(this,_startIfAutoProceed)[_startIfAutoProceed]()}removeFiles(E,F){const{files:R,currentUploads:U}=this.getState(),W={...R},Y={...U},G=Object.create(null);E.forEach(J=>{R[J]&&(G[J]=R[J],delete W[J])});function X(J){return G[J]===void 0}Object.keys(Y).forEach(J=>{const Q=U[J].fileIDs.filter(X);if(Q.length===0){delete Y[J];return}const{capabilities:ee}=this.getState();if(Q.length!==U[J].fileIDs.length&&!ee.individualCancellation)throw new Error("individualCancellation is disabled");Y[J]={...U[J],fileIDs:Q}});const K={currentUploads:Y,files:W};Object.keys(W).length===0&&(K.allowNewUpload=!0,K.error=null,K.recoveredState=null),this.setState(K),this.calculateTotalProgress();const Z=Object.keys(G);Z.forEach(J=>{this.emit("file-removed",G[J],F)}),Z.length>5?this.log(`Removed ${Z.length} files`):this.log(`Removed files: ${Z.join(", ")}`)}removeFile(E,F){F===void 0&&(F=null),this.removeFiles([E],F)}pauseResume(E){if(!this.getState().capabilities.resumableUploads||this.getFile(E).uploadComplete)return;const R=!(this.getFile(E).isPaused||!1);return this.setFileState(E,{isPaused:R}),this.emit("upload-pause",E,R),R}pauseAll(){const E={...this.getState().files};Object.keys(E).filter(R=>!E[R].progress.uploadComplete&&E[R].progress.uploadStarted).forEach(R=>{const U={...E[R],isPaused:!0};E[R]=U}),this.setState({files:E}),this.emit("pause-all")}resumeAll(){const E={...this.getState().files};Object.keys(E).filter(R=>!E[R].progress.uploadComplete&&E[R].progress.uploadStarted).forEach(R=>{const U={...E[R],isPaused:!1,error:null};E[R]=U}),this.setState({files:E}),this.emit("resume-all")}retryAll(){const E={...this.getState().files},F=Object.keys(E).filter(U=>E[U].error);if(F.forEach(U=>{const W={...E[U],isPaused:!1,error:null};E[U]=W}),this.setState({files:E,error:null}),this.emit("retry-all",F),F.length===0)return Promise.resolve({successful:[],failed:[]});const R=_classPrivateFieldLooseBase$8(this,_createUpload)[_createUpload](F,{forceAllowNewUpload:!0});return _classPrivateFieldLooseBase$8(this,_runUpload)[_runUpload](R)}cancelAll(E){let{reason:F="user"}=E===void 0?{}:E;if(this.emit("cancel-all",{reason:F}),F==="user"){const{files:R}=this.getState(),U=Object.keys(R);U.length&&this.removeFiles(U,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}retryUpload(E){this.setFileState(E,{error:null,isPaused:!1}),this.emit("upload-retry",E);const F=_classPrivateFieldLooseBase$8(this,_createUpload)[_createUpload]([E],{forceAllowNewUpload:!0});return _classPrivateFieldLooseBase$8(this,_runUpload)[_runUpload](F)}logout(){this.iteratePlugins(E=>{E.provider&&E.provider.logout&&E.provider.logout()})}calculateTotalProgress(){const F=this.getFiles().filter(K=>K.progress.uploadStarted||K.progress.preprocess||K.progress.postprocess);if(F.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const R=F.filter(K=>K.progress.bytesTotal!=null),U=F.filter(K=>K.progress.bytesTotal==null);if(R.length===0){const K=F.length*100,Z=U.reduce((Q,ee)=>Q+ee.progress.percentage,0),J=Math.round(Z/K*100);this.setState({totalProgress:J});return}let W=R.reduce((K,Z)=>K+Z.progress.bytesTotal,0);const Y=W/R.length;W+=Y*U.length;let G=0;R.forEach(K=>{G+=K.progress.bytesUploaded}),U.forEach(K=>{G+=Y*(K.progress.percentage||0)/100});let X=W===0?0:Math.round(G/W*100);X>100&&(X=100),this.setState({totalProgress:X}),this.emit("progress",X)}updateOnlineStatus(){(typeof window.navigator.onLine<"u"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(E,F){if(typeof E!="function"){const Y=`Expected a plugin class, but got ${E===null?"null":typeof E}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(Y)}const R=new E(this,F),U=R.id;if(!U)throw new Error("Your plugin must have an id");if(!R.type)throw new Error("Your plugin must have a type");const W=this.getPlugin(U);if(W){const Y=`Already found a plugin named '${W.id}'. Tried to use: '${U}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(Y)}return E.VERSION&&this.log(`Using ${U} v${E.VERSION}`),R.type in _classPrivateFieldLooseBase$8(this,_plugins)[_plugins]?_classPrivateFieldLooseBase$8(this,_plugins)[_plugins][R.type].push(R):_classPrivateFieldLooseBase$8(this,_plugins)[_plugins][R.type]=[R],R.install(),this}getPlugin(E){for(const F of Object.values(_classPrivateFieldLooseBase$8(this,_plugins)[_plugins])){const R=F.find(U=>U.id===E);if(R!=null)return R}}[_Symbol$for$2](E){return _classPrivateFieldLooseBase$8(this,_plugins)[_plugins][E]}iteratePlugins(E){Object.values(_classPrivateFieldLooseBase$8(this,_plugins)[_plugins]).flat(1).forEach(E)}removePlugin(E){this.log(`Removing plugin ${E.id}`),this.emit("plugin-remove",E),E.uninstall&&E.uninstall();const F=_classPrivateFieldLooseBase$8(this,_plugins)[_plugins][E.type],R=F.findIndex(Y=>Y.id===E.id);R!==-1&&F.splice(R,1);const W={plugins:{...this.getState().plugins,[E.id]:void 0}};this.setState(W)}close(E){let{reason:F}=E===void 0?{}:E;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:F}),_classPrivateFieldLooseBase$8(this,_storeUnsubscribe)[_storeUnsubscribe](),this.iteratePlugins(R=>{this.removePlugin(R)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus]),window.removeEventListener("offline",_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus]))}hideInfo(){const{info:E}=this.getState();this.setState({info:E.slice(1)}),this.emit("info-hidden")}info(E,F,R){F===void 0&&(F="info"),R===void 0&&(R=3e3);const U=typeof E=="object";this.setState({info:[...this.getState().info,{type:F,message:U?E.message:E,details:U?E.details:null}]}),setTimeout(()=>this.hideInfo(),R),this.emit("info-visible")}log(E,F){const{logger:R}=this.opts;switch(F){case"error":R.error(E);break;case"warning":R.warn(E);break;default:R.debug(E);break}}restore(E){return this.log(`Core: attempting to restore upload "${E}"`),this.getState().currentUploads[E]?_classPrivateFieldLooseBase$8(this,_runUpload)[_runUpload](E):(_classPrivateFieldLooseBase$8(this,_removeUpload)[_removeUpload](E),Promise.reject(new Error("Nonexistent upload")))}[_Symbol$for2$1](){return _classPrivateFieldLooseBase$8(this,_createUpload)[_createUpload](...arguments)}addResultData(E,F){if(!_classPrivateFieldLooseBase$8(this,_getUpload)[_getUpload](E)){this.log(`Not setting result for an upload that has been removed: ${E}`);return}const{currentUploads:R}=this.getState(),U={...R[E],result:{...R[E].result,...F}};this.setState({currentUploads:{...R,[E]:U}})}upload(){var E;(E=_classPrivateFieldLooseBase$8(this,_plugins)[_plugins].uploader)!=null&&E.length||this.log("No uploader type plugins are used","warning");let{files:F}=this.getState();const R=this.opts.onBeforeUpload(F);return R===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(R&&typeof R=="object"&&(F=R,this.setState({files:F})),Promise.resolve().then(()=>_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].validateMinNumberOfFiles(F)).catch(U=>{throw _classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit]([U]),U}).then(()=>{if(!_classPrivateFieldLooseBase$8(this,_checkRequiredMetaFields)[_checkRequiredMetaFields](F))throw new RestrictionError(this.i18n("missingRequiredMetaField"))}).catch(U=>{throw U}).then(()=>{const{currentUploads:U}=this.getState(),W=Object.values(U).flatMap(X=>X.fileIDs),Y=[];Object.keys(F).forEach(X=>{const K=this.getFile(X);!K.progress.uploadStarted&&W.indexOf(X)===-1&&Y.push(K.id)});const G=_classPrivateFieldLooseBase$8(this,_createUpload)[_createUpload](Y);return _classPrivateFieldLooseBase$8(this,_runUpload)[_runUpload](G)}).catch(U=>{throw this.emit("error",U),this.log(U,"error"),U}))}}function _informAndEmit2(V){for(const W of V){const{file:Y,isRestriction:G}=W;G?this.emit("restriction-failed",Y,W):this.emit("error",W),this.log(W,"warning")}const E=V.filter(W=>W.isUserFacing),F=4,R=E.slice(0,F),U=E.slice(F);R.forEach(W=>{let{message:Y,details:G=""}=W;this.info({message:Y,details:G},"error",this.opts.infoTimeout)}),U.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:U.length})})}function _checkRequiredMetaFieldsOnFile2(V){const{missingFields:E,error:F}=_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].getMissingRequiredMetaFields(V);return E.length>0?(this.setFileState(V.id,{missingRequiredMetaFields:E}),this.log(F.message),this.emit("restriction-failed",V,F),!1):!0}function _checkRequiredMetaFields2(V){let E=!0;for(const F of Object.values(V))_classPrivateFieldLooseBase$8(this,_checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](F)||(E=!1);return E}function _assertNewUploadAllowed2(V){const{allowNewUpload:E}=this.getState();if(E===!1){const F=new RestrictionError(this.i18n("noMoreFilesAllowed"),{file:V});throw _classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit]([F]),F}}function _transformFile2(V){const E=V instanceof File?{name:V.name,type:V.type,size:V.size,data:V}:V,F=getFileType(E),R=getFileName(F,E),U=getFileNameAndExtension(R).extension,W=Boolean(E.isRemote),Y=getSafeFileId(E),G=E.meta||{};G.name=R,G.type=F;const X=Number.isFinite(E.data.size)?E.data.size:null;return{source:E.source||"",id:Y,name:R,extension:U||"",meta:{...this.getState().meta,...G},type:F,data:E.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:X,uploadComplete:!1,uploadStarted:null},size:X,isRemote:W,remote:E.remote||"",preview:E.preview}}function _startIfAutoProceed2(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(V=>{V.isRestriction||this.log(V.stack||V.message||V)})},4))}function _checkAndUpdateFileState2(V){const{files:E}=this.getState(),F={...E},R=[],U=[];for(const Y of V)try{var W;let G=_classPrivateFieldLooseBase$8(this,_transformFile)[_transformFile](Y);if((W=E[G.id])!=null&&W.isGhost){const{isGhost:K,...Z}=E[G.id];G={...Z,data:Y.data},this.log(`Replaced the blob in the restored ghost file: ${G.name}, ${G.id}`)}const X=this.opts.onBeforeFileAdded(G,F);if(!X&&this.checkIfFileAlreadyExists(G.id))throw new RestrictionError(this.i18n("noDuplicates",{fileName:G.name}),{file:Y});if(X===!1)throw new RestrictionError("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:Y});typeof X=="object"&&X!==null&&(G=X),_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].validateSingleFile(G),F[G.id]=G,R.push(G)}catch(G){U.push(G)}try{_classPrivateFieldLooseBase$8(this,_restricter)[_restricter].validateAggregateRestrictions(Object.values(E),R)}catch(Y){return U.push(Y),{nextFilesState:E,validFilesToAdd:[],errors:U}}return{nextFilesState:F,validFilesToAdd:R,errors:U}}function _addListeners2(){const V=(R,U,W)=>{let Y=R.message||"Unknown error";R.details&&(Y+=` ${R.details}`),this.setState({error:Y}),U!=null&&U.id in this.getState().files&&this.setFileState(U.id,{error:Y,response:W})};this.on("error",V),this.on("upload-error",(R,U,W)=>{if(V(U,R,W),typeof U=="object"&&U.message){this.log(U.message,"error");const Y=new Error(this.i18n("failedToUpload",{file:R==null?void 0:R.name}));Y.isUserFacing=!0,Y.details=U.message,U.details&&(Y.details+=` ${U.details}`),_classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit]([Y])}else _classPrivateFieldLooseBase$8(this,_informAndEmit)[_informAndEmit]([U])});let E;this.on("upload-stalled",(R,U)=>{const{message:W}=R,Y=U.map(G=>G.meta.name).join(", ");E||(this.info({message:W,details:Y},"warning",this.opts.infoTimeout),E=setTimeout(()=>{E=null},this.opts.infoTimeout)),this.log(`${W} ${Y}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const F=R=>{const U=R.filter(Y=>{const G=Y!=null&&this.getFile(Y.id);return G||this.log(`Not setting progress for a file that has been removed: ${Y==null?void 0:Y.id}`),G}),W=Object.fromEntries(U.map(Y=>[Y.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:Y.size}}]));this.patchFilesState(W)};this.on("upload-start",R=>{R.forEach(U=>{this.emit("upload-started",U)}),F(R)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(R,U)=>{if(R==null||!this.getFile(R.id)){this.log(`Not setting progress for a file that has been removed: ${R==null?void 0:R.id}`);return}const W=this.getFile(R.id).progress;this.setFileState(R.id,{progress:{...W,postprocess:_classPrivateFieldLooseBase$8(this,_postProcessors)[_postProcessors].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:W.bytesTotal},response:U,uploadURL:U.uploadURL,isPaused:!1}),R.size==null&&this.setFileState(R.id,{size:U.bytesUploaded||W.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(R,U)=>{if(R==null||!this.getFile(R.id)){this.log(`Not setting progress for a file that has been removed: ${R==null?void 0:R.id}`);return}this.setFileState(R.id,{progress:{...this.getFile(R.id).progress,preprocess:U}})}),this.on("preprocess-complete",R=>{if(R==null||!this.getFile(R.id)){this.log(`Not setting progress for a file that has been removed: ${R==null?void 0:R.id}`);return}const U={...this.getState().files};U[R.id]={...U[R.id],progress:{...U[R.id].progress}},delete U[R.id].progress.preprocess,this.setState({files:U})}),this.on("postprocess-progress",(R,U)=>{if(R==null||!this.getFile(R.id)){this.log(`Not setting progress for a file that has been removed: ${R==null?void 0:R.id}`);return}this.setFileState(R.id,{progress:{...this.getState().files[R.id].progress,postprocess:U}})}),this.on("postprocess-complete",R=>{if(R==null||!this.getFile(R.id)){this.log(`Not setting progress for a file that has been removed: ${R==null?void 0:R.id}`);return}const U={...this.getState().files};U[R.id]={...U[R.id],progress:{...U[R.id].progress}},delete U[R.id].progress.postprocess,this.setState({files:U})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",R=>{R&&_classPrivateFieldLooseBase$8(this,_checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](R)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus]),window.addEventListener("offline",_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus]),setTimeout(_classPrivateFieldLooseBase$8(this,_updateOnlineStatus)[_updateOnlineStatus],3e3))}function _createUpload2(V,E){E===void 0&&(E={});const{forceAllowNewUpload:F=!1}=E,{allowNewUpload:R,currentUploads:U}=this.getState();if(!R&&!F)throw new Error("Cannot create a new upload: already uploading.");const W=nanoid();return this.emit("upload",{id:W,fileIDs:V}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...U,[W]:{fileIDs:V,step:0,result:{}}}}),W}function _getUpload2(V){const{currentUploads:E}=this.getState();return E[V]}function _removeUpload2(V){const E={...this.getState().currentUploads};delete E[V],this.setState({currentUploads:E})}async function _runUpload2(V){const E=()=>{const{currentUploads:W}=this.getState();return W[V]};let F=E();const R=[..._classPrivateFieldLooseBase$8(this,_preProcessors)[_preProcessors],..._classPrivateFieldLooseBase$8(this,_uploaders)[_uploaders],..._classPrivateFieldLooseBase$8(this,_postProcessors)[_postProcessors]];try{for(let W=F.step||0;W<R.length&&F;W++){const Y=R[W];this.setState({currentUploads:{...this.getState().currentUploads,[V]:{...F,step:W}}});const{fileIDs:G}=F;await Y(G,V),F=E()}}catch(W){throw _classPrivateFieldLooseBase$8(this,_removeUpload)[_removeUpload](V),W}if(F){F.fileIDs.forEach(X=>{const K=this.getFile(X);K&&K.progress.postprocess&&this.emit("postprocess-complete",K)});const W=F.fileIDs.map(X=>this.getFile(X)),Y=W.filter(X=>!X.error),G=W.filter(X=>X.error);await this.addResultData(V,{successful:Y,failed:G,uploadID:V}),F=E()}let U;return F&&(U=F.result,this.emit("complete",U),_classPrivateFieldLooseBase$8(this,_removeUpload)[_removeUpload](V)),U==null&&this.log(`Not setting result for an upload that has been removed: ${V}`),U}Uppy.VERSION=packageJson$3.version;var n$1,l,u$1,i$1,o,r$1,f$1,c$1={},s$2=[],a$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v$1=Array.isArray;function h$2(V,E){for(var F in E)V[F]=E[F];return V}function p(V){var E=V.parentNode;E&&E.removeChild(V)}function y$1(V,E,F){var R,U,W,Y={};for(W in E)W=="key"?R=E[W]:W=="ref"?U=E[W]:Y[W]=E[W];if(arguments.length>2&&(Y.children=arguments.length>3?n$1.call(arguments,2):F),typeof V=="function"&&V.defaultProps!=null)for(W in V.defaultProps)Y[W]===void 0&&(Y[W]=V.defaultProps[W]);return d$1(V,Y,R,U,null)}function d$1(V,E,F,R,U){var W={type:V,props:E,key:F,ref:R,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:U==null?++u$1:U};return U==null&&l.vnode!=null&&l.vnode(W),W}function k$1(V){return V.children}function b$1(V,E){this.props=V,this.context=E}function g$1(V,E){if(E==null)return V.__?g$1(V.__,V.__.__k.indexOf(V)+1):null;for(var F;E<V.__k.length;E++)if((F=V.__k[E])!=null&&F.__e!=null)return F.__d||F.__e;return typeof V.type=="function"?g$1(V):null}function m$1(V){var E,F;if((V=V.__)!=null&&V.__c!=null){for(V.__e=V.__c.base=null,E=0;E<V.__k.length;E++)if((F=V.__k[E])!=null&&F.__e!=null){V.__e=V.__c.base=F.__e;break}return m$1(V)}}function w$1(V){(!V.__d&&(V.__d=!0)&&i$1.push(V)&&!x$1.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r$1)(x$1)}function x$1(){var V,E,F,R,U,W,Y,G,X;for(i$1.sort(f$1);V=i$1.shift();)V.__d&&(E=i$1.length,R=void 0,U=void 0,W=void 0,G=(Y=(F=V).__v).__e,(X=F.__P)&&(R=[],U=[],(W=h$2({},Y)).__v=Y.__v+1,z$1(X,Y,W,F.__n,X.ownerSVGElement!==void 0,Y.__h!=null?[G]:null,R,G==null?g$1(Y):G,Y.__h,U),L(R,Y,U),Y.__e!=G&&m$1(Y)),i$1.length>E&&i$1.sort(f$1));x$1.__r=0}function P$1(V,E,F,R,U,W,Y,G,X,K,Z){var J,Q,ee,te,ie,re,ne,ae,se,le=0,oe=R&&R.__k||s$2,ue=oe.length,ce=ue,he=E.length;for(F.__k=[],J=0;J<he;J++)(te=F.__k[J]=(te=E[J])==null||typeof te=="boolean"||typeof te=="function"?null:typeof te=="string"||typeof te=="number"||typeof te=="bigint"?d$1(null,te,null,null,te):v$1(te)?d$1(k$1,{children:te},null,null,null):te.__b>0?d$1(te.type,te.props,te.key,te.ref?te.ref:null,te.__v):te)!=null?(te.__=F,te.__b=F.__b+1,(ae=A$1(te,oe,ne=J+le,ce))===-1?ee=c$1:(ee=oe[ae]||c$1,oe[ae]=void 0,ce--),z$1(V,te,ee,U,W,Y,G,X,K,Z),ie=te.__e,(Q=te.ref)&&ee.ref!=Q&&(ee.ref&&N$1(ee.ref,null,te),Z.push(Q,te.__c||ie,te)),ie!=null&&(re==null&&(re=ie),(se=ee===c$1||ee.__v===null)?ae==-1&&le--:ae!==ne&&(ae===ne+1?le++:ae>ne?ce>he-ne?le+=ae-ne:le--:le=ae<ne&&ae==ne-1?ae-ne:0),ne=J+le,typeof te.type!="function"||ae===ne&&ee.__k!==te.__k?typeof te.type=="function"||ae===ne&&!se?te.__d!==void 0?(X=te.__d,te.__d=void 0):X=ie.nextSibling:X=S(V,ie,X):X=$$1(te,X,V),typeof F.type=="function"&&(F.__d=X))):(ee=oe[J])&&ee.key==null&&ee.__e&&(ee.__e==X&&(ee.__=R,X=g$1(ee)),O(ee,ee,!1),oe[J]=null);for(F.__e=re,J=ue;J--;)oe[J]!=null&&(typeof F.type=="function"&&oe[J].__e!=null&&oe[J].__e==F.__d&&(F.__d=oe[J].__e.nextSibling),O(oe[J],oe[J]))}function $$1(V,E,F){for(var R,U=V.__k,W=0;U&&W<U.length;W++)(R=U[W])&&(R.__=V,E=typeof R.type=="function"?$$1(R,E,F):S(F,R.__e,E));return E}function S(V,E,F){return F==null||F.parentNode!==V?V.insertBefore(E,null):E==F&&E.parentNode!=null||V.insertBefore(E,F),E.nextSibling}function A$1(V,E,F,R){var U=V.key,W=V.type,Y=F-1,G=F+1,X=E[F];if(X===null||X&&U==X.key&&W===X.type)return F;if(R>(X!=null?1:0))for(;Y>=0||G<E.length;){if(Y>=0){if((X=E[Y])&&U==X.key&&W===X.type)return Y;Y--}if(G<E.length){if((X=E[G])&&U==X.key&&W===X.type)return G;G++}}return-1}function D$1(V,E,F,R,U){var W;for(W in F)W==="children"||W==="key"||W in E||I$1(V,W,null,F[W],R);for(W in E)U&&typeof E[W]!="function"||W==="children"||W==="key"||W==="value"||W==="checked"||F[W]===E[W]||I$1(V,W,E[W],F[W],R)}function H$1(V,E,F){E[0]==="-"?V.setProperty(E,F==null?"":F):V[E]=F==null?"":typeof F!="number"||a$1.test(E)?F:F+"px"}function I$1(V,E,F,R,U){var W;e:if(E==="style")if(typeof F=="string")V.style.cssText=F;else{if(typeof R=="string"&&(V.style.cssText=R=""),R)for(E in R)F&&E in F||H$1(V.style,E,"");if(F)for(E in F)R&&F[E]===R[E]||H$1(V.style,E,F[E])}else if(E[0]==="o"&&E[1]==="n")W=E!==(E=E.replace(/(PointerCapture)$|Capture$/,"$1")),E=E.toLowerCase()in V?E.toLowerCase().slice(2):E.slice(2),V.l||(V.l={}),V.l[E+W]=F,F?R?F.u=R.u:(F.u=Date.now(),V.addEventListener(E,W?j$1:T$1,W)):V.removeEventListener(E,W?j$1:T$1,W);else if(E!=="dangerouslySetInnerHTML"){if(U)E=E.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(E!=="width"&&E!=="height"&&E!=="href"&&E!=="list"&&E!=="form"&&E!=="tabIndex"&&E!=="download"&&E!=="rowSpan"&&E!=="colSpan"&&E!=="role"&&E in V)try{V[E]=F==null?"":F;break e}catch{}typeof F=="function"||(F==null||F===!1&&E[4]!=="-"?V.removeAttribute(E):V.setAttribute(E,F))}}function T$1(V){var E=this.l[V.type+!1];if(V.t){if(V.t<=E.u)return}else V.t=Date.now();return E(l.event?l.event(V):V)}function j$1(V){return this.l[V.type+!0](l.event?l.event(V):V)}function z$1(V,E,F,R,U,W,Y,G,X,K){var Z,J,Q,ee,te,ie,re,ne,ae,se,le,oe,ue,ce,he,me=E.type;if(E.constructor!==void 0)return null;F.__h!=null&&(X=F.__h,G=E.__e=F.__e,E.__h=null,W=[G]),(Z=l.__b)&&Z(E);e:if(typeof me=="function")try{if(ne=E.props,ae=(Z=me.contextType)&&R[Z.__c],se=Z?ae?ae.props.value:Z.__:R,F.__c?re=(J=E.__c=F.__c).__=J.__E:("prototype"in me&&me.prototype.render?E.__c=J=new me(ne,se):(E.__c=J=new b$1(ne,se),J.constructor=me,J.render=q),ae&&ae.sub(J),J.props=ne,J.state||(J.state={}),J.context=se,J.__n=R,Q=J.__d=!0,J.__h=[],J._sb=[]),J.__s==null&&(J.__s=J.state),me.getDerivedStateFromProps!=null&&(J.__s==J.state&&(J.__s=h$2({},J.__s)),h$2(J.__s,me.getDerivedStateFromProps(ne,J.__s))),ee=J.props,te=J.state,J.__v=E,Q)me.getDerivedStateFromProps==null&&J.componentWillMount!=null&&J.componentWillMount(),J.componentDidMount!=null&&J.__h.push(J.componentDidMount);else{if(me.getDerivedStateFromProps==null&&ne!==ee&&J.componentWillReceiveProps!=null&&J.componentWillReceiveProps(ne,se),!J.__e&&(J.shouldComponentUpdate!=null&&J.shouldComponentUpdate(ne,J.__s,se)===!1||E.__v===F.__v)){for(E.__v!==F.__v&&(J.props=ne,J.state=J.__s,J.__d=!1),E.__e=F.__e,E.__k=F.__k,E.__k.forEach(function(Pe){Pe&&(Pe.__=E)}),le=0;le<J._sb.length;le++)J.__h.push(J._sb[le]);J._sb=[],J.__h.length&&Y.push(J);break e}J.componentWillUpdate!=null&&J.componentWillUpdate(ne,J.__s,se),J.componentDidUpdate!=null&&J.__h.push(function(){J.componentDidUpdate(ee,te,ie)})}if(J.context=se,J.props=ne,J.__P=V,J.__e=!1,oe=l.__r,ue=0,"prototype"in me&&me.prototype.render){for(J.state=J.__s,J.__d=!1,oe&&oe(E),Z=J.render(J.props,J.state,J.context),ce=0;ce<J._sb.length;ce++)J.__h.push(J._sb[ce]);J._sb=[]}else do J.__d=!1,oe&&oe(E),Z=J.render(J.props,J.state,J.context),J.state=J.__s;while(J.__d&&++ue<25);J.state=J.__s,J.getChildContext!=null&&(R=h$2(h$2({},R),J.getChildContext())),Q||J.getSnapshotBeforeUpdate==null||(ie=J.getSnapshotBeforeUpdate(ee,te)),P$1(V,v$1(he=Z!=null&&Z.type===k$1&&Z.key==null?Z.props.children:Z)?he:[he],E,F,R,U,W,Y,G,X,K),J.base=E.__e,E.__h=null,J.__h.length&&Y.push(J),re&&(J.__E=J.__=null)}catch(Pe){E.__v=null,(X||W!=null)&&(E.__e=G,E.__h=!!X,W[W.indexOf(G)]=null),l.__e(Pe,E,F)}else W==null&&E.__v===F.__v?(E.__k=F.__k,E.__e=F.__e):E.__e=M(F.__e,E,F,R,U,W,Y,X,K);(Z=l.diffed)&&Z(E)}function L(V,E,F){for(var R=0;R<F.length;R++)N$1(F[R],F[++R],F[++R]);l.__c&&l.__c(E,V),V.some(function(U){try{V=U.__h,U.__h=[],V.some(function(W){W.call(U)})}catch(W){l.__e(W,U.__v)}})}function M(V,E,F,R,U,W,Y,G,X){var K,Z,J,Q=F.props,ee=E.props,te=E.type,ie=0;if(te==="svg"&&(U=!0),W!=null){for(;ie<W.length;ie++)if((K=W[ie])&&"setAttribute"in K==!!te&&(te?K.localName===te:K.nodeType===3)){V=K,W[ie]=null;break}}if(V==null){if(te===null)return document.createTextNode(ee);V=U?document.createElementNS("http://www.w3.org/2000/svg",te):document.createElement(te,ee.is&&ee),W=null,G=!1}if(te===null)Q===ee||G&&V.data===ee||(V.data=ee);else{if(W=W&&n$1.call(V.childNodes),Z=(Q=F.props||c$1).dangerouslySetInnerHTML,J=ee.dangerouslySetInnerHTML,!G){if(W!=null)for(Q={},ie=0;ie<V.attributes.length;ie++)Q[V.attributes[ie].name]=V.attributes[ie].value;(J||Z)&&(J&&(Z&&J.__html==Z.__html||J.__html===V.innerHTML)||(V.innerHTML=J&&J.__html||""))}if(D$1(V,ee,Q,U,G),J)E.__k=[];else if(P$1(V,v$1(ie=E.props.children)?ie:[ie],E,F,R,U&&te!=="foreignObject",W,Y,W?W[0]:F.__k&&g$1(F,0),G,X),W!=null)for(ie=W.length;ie--;)W[ie]!=null&&p(W[ie]);G||("value"in ee&&(ie=ee.value)!==void 0&&(ie!==V.value||te==="progress"&&!ie||te==="option"&&ie!==Q.value)&&I$1(V,"value",ie,Q.value,!1),"checked"in ee&&(ie=ee.checked)!==void 0&&ie!==V.checked&&I$1(V,"checked",ie,Q.checked,!1))}return V}function N$1(V,E,F){try{typeof V=="function"?V(E):V.current=E}catch(R){l.__e(R,F)}}function O(V,E,F){var R,U;if(l.unmount&&l.unmount(V),(R=V.ref)&&(R.current&&R.current!==V.__e||N$1(R,null,E)),(R=V.__c)!=null){if(R.componentWillUnmount)try{R.componentWillUnmount()}catch(W){l.__e(W,E)}R.base=R.__P=null,V.__c=void 0}if(R=V.__k)for(U=0;U<R.length;U++)R[U]&&O(R[U],E,F||typeof V.type!="function");F||V.__e==null||p(V.__e),V.__=V.__e=V.__d=void 0}function q(V,E,F){return this.constructor(V,F)}function B(V,E,F){var R,U,W,Y;l.__&&l.__(V,E),U=(R=typeof F=="function")?null:F&&F.__k||E.__k,W=[],Y=[],z$1(E,V=(!R&&F||E).__k=y$1(k$1,null,[V]),U||c$1,c$1,E.ownerSVGElement!==void 0,!R&&F?[F]:U?null:E.firstChild?n$1.call(E.childNodes):null,W,!R&&F?F:U?U.__e:E.firstChild,R,Y),L(W,V,Y)}n$1=s$2.slice,l={__e:function(V,E,F,R){for(var U,W,Y;E=E.__;)if((U=E.__c)&&!U.__)try{if((W=U.constructor)&&W.getDerivedStateFromError!=null&&(U.setState(W.getDerivedStateFromError(V)),Y=U.__d),U.componentDidCatch!=null&&(U.componentDidCatch(V,R||{}),Y=U.__d),Y)return U.__E=U}catch(G){V=G}throw V}},u$1=0,b$1.prototype.setState=function(V,E){var F;F=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=h$2({},this.state),typeof V=="function"&&(V=V(h$2({},F),this.props)),V&&h$2(F,V),V!=null&&this.__v&&(E&&this._sb.push(E),w$1(this))},b$1.prototype.forceUpdate=function(V){this.__v&&(this.__e=!0,V&&this.__h.push(V),w$1(this))},b$1.prototype.render=k$1,i$1=[],r$1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$1=function(V,E){return V.__v.__b-E.__v.__b},x$1.__r=0;function isDOMElement(V){return(V==null?void 0:V.nodeType)===Node.ELEMENT_NODE}function findDOMElement(V,E){return E===void 0&&(E=document),typeof V=="string"?E.querySelector(V):isDOMElement(V)?V:null}function getTextDirection(V){for(var E;V&&!V.dir;)V=V.parentNode;return(E=V)==null?void 0:E.dir}class BasePlugin{constructor(E,F){F===void 0&&(F={}),this.uppy=E,this.opts=F}getPluginState(){const{plugins:E}=this.uppy.getState();return E[this.id]||{}}setPluginState(E){const{plugins:F}=this.uppy.getState();this.uppy.setState({plugins:{...F,[this.id]:{...F[this.id],...E}}})}setOptions(E){this.opts={...this.opts,...E},this.setPluginState(),this.i18nInit()}i18nInit(){const E=new Translator([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=E.translate.bind(E),this.i18nArray=E.translateArray.bind(E),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}}function _classPrivateFieldLooseBase$7(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$7=0;function _classPrivateFieldLooseKey$7(V){return"__private_"+id$7+++"_"+V}function debounce$2(V){let E=null,F=null;return function(){for(var R=arguments.length,U=new Array(R),W=0;W<R;W++)U[W]=arguments[W];return F=U,E||(E=Promise.resolve().then(()=>(E=null,V(...F)))),E}}var _updateUI=_classPrivateFieldLooseKey$7("updateUI");class UIPlugin extends BasePlugin{constructor(){super(...arguments),Object.defineProperty(this,_updateUI,{writable:!0,value:void 0})}getTargetPlugin(E){let F;if(typeof E=="object"&&E instanceof UIPlugin)F=E;else if(typeof E=="function"){const R=E;this.uppy.iteratePlugins(U=>{U instanceof R&&(F=U)})}return F}mount(E,F){const R=F.id,U=findDOMElement(E);if(U){this.isTargetDOMEl=!0;const G=document.createElement("div");return G.classList.add("uppy-Root"),_classPrivateFieldLooseBase$7(this,_updateUI)[_updateUI]=debounce$2(X=>{!this.uppy.getPlugin(this.id)||(B(this.render(X),G),this.afterUpdate())}),this.uppy.log(`Installing ${R} to a DOM element '${E}'`),this.opts.replaceTargetContent&&(U.innerHTML=""),B(this.render(this.uppy.getState()),G),this.el=G,U.appendChild(G),G.dir=this.opts.direction||getTextDirection(G)||"ltr",this.onMount(),this.el}const W=this.getTargetPlugin(E);if(W)return this.uppy.log(`Installing ${R} to ${W.id}`),this.parent=W,this.el=W.addTarget(F),this.onMount(),this.el;this.uppy.log(`Not installing ${R}`);let Y=`Invalid target option given to ${R}.`;throw typeof E=="function"?Y+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":Y+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(Y)}update(E){if(this.el!=null){var F,R;(F=(R=_classPrivateFieldLooseBase$7(this,_updateUI))[_updateUI])==null||F.call(R,E)}}unmount(){if(this.isTargetDOMEl){var E;(E=this.el)==null||E.remove()}this.onUnmount()}onMount(){}onUnmount(){}}const toArray$4=Array.from;function isDragDropSupported(){const V=document.body;return!(!("draggable"in V)||!("ondragstart"in V&&"ondrop"in V)||!("FormData"in window)||!("FileReader"in window))}function getFilesAndDirectoriesFromDirectory(V,E,F,R){let{onSuccess:U}=R;V.readEntries(W=>{const Y=[...E,...W];W.length?queueMicrotask(()=>{getFilesAndDirectoriesFromDirectory(V,Y,F,{onSuccess:U})}):U(Y)},W=>{F(W),U(E)})}function getAsFileSystemHandleFromEntry(V,E){return V==null?V:{kind:V.isFile?"file":V.isDirectory?"directory":void 0,name:V.name,getFile(){return new Promise((F,R)=>V.file(F,R))},async*values(){const F=V.createReader();yield*await new Promise(U=>{getFilesAndDirectoriesFromDirectory(F,[],E,{onSuccess:W=>U(W.map(Y=>getAsFileSystemHandleFromEntry(Y,E)))})})}}}function createPromiseToAddFileOrParseDirectory(V,E,F){try{return F===void 0&&(F=void 0),async function*(){const R=()=>`${E}/${V.name}`;if(V.kind==="file"){const U=await V.getFile();U!=null?(U.relativePath=E?R():null,yield U):F!=null&&(yield F)}else if(V.kind==="directory")for await(const U of V.values())yield*createPromiseToAddFileOrParseDirectory(U,E?R():V.name);else F!=null&&(yield F)}()}catch(R){return Promise.reject(R)}}async function*getFilesFromDataTransfer(V,E){const F=await Promise.all(Array.from(V.items,async R=>{var U;let W;const Y=()=>typeof R.getAsEntry=="function"?R.getAsEntry():R.webkitGetAsEntry();return(U=W)!=null||(W=getAsFileSystemHandleFromEntry(Y(),E)),{fileSystemHandle:W,lastResortFile:R.getAsFile()}}));for(const{lastResortFile:R,fileSystemHandle:U}of F)if(U!=null)try{yield*createPromiseToAddFileOrParseDirectory(U,"",R)}catch(W){R!=null?yield R:E(W)}else R!=null&&(yield R)}function fallbackApi(V){const E=toArray$4(V.files);return Promise.resolve(E)}async function getDroppedFiles(V,E){let{logDropError:F=()=>{}}=E===void 0?{}:E;try{const R=[];for await(const U of getFilesFromDataTransfer(V,F))R.push(U);return R}catch{return fallbackApi(V)}}const locale$1={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},packageJson$2={version:"3.0.3"};class DragDrop extends UIPlugin{constructor(E,F){super(E,F),this.handleDrop=async U=>{var W,Y;U.preventDefault(),U.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});const G=K=>{this.uppy.log(K,"error")},X=await getDroppedFiles(U.dataTransfer,{logDropError:G});X.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(X)),(W=(Y=this.opts).onDrop)==null||W.call(Y,U)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=locale$1;const R={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};this.opts={...R,...F},this.i18nInit(),this.isDragDropSupported=isDragDropSupported(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(E){const F=E.map(R=>({source:this.id,name:R.name,type:R.type,data:R,meta:{relativePath:R.relativePath||null}}));try{this.uppy.addFiles(F)}catch(R){this.uppy.log(R)}}onInputChange(E){const F=toArray$4(E.target.files);F.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(F)),E.target.value=null}handleDragOver(E){var F,R;E.preventDefault(),E.stopPropagation();const{types:U}=E.dataTransfer,W=U.some(G=>G==="Files"),{allowNewUpload:Y}=this.uppy.getState();if(!W||!Y){E.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}E.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(F=(R=this.opts).onDragOver)==null||F.call(R,E)}handleDragLeave(E){var F,R;E.preventDefault(),E.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(F=(R=this.opts).onDragLeave)==null||F.call(R,E)}renderHiddenFileInput(){const{restrictions:E}=this.uppy.opts;return y$1("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:F=>{this.fileInputRef=F},name:this.opts.inputName,multiple:E.maxNumberOfFiles!==1,accept:E.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return y$1("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},y$1("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return y$1("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:y$1("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return y$1("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){const E=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,F={width:this.opts.width,height:this.opts.height};return y$1("button",{type:"button",className:E,style:F,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),y$1("div",{className:"uppy-DragDrop-inner"},DragDrop.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){const{target:E}=this.opts;this.setPluginState({isDraggingOver:!1}),E&&this.mount(E,this)}uninstall(){this.unmount()}}DragDrop.VERSION=packageJson$2.version;class NetworkError extends Error{constructor(E,F){F===void 0&&(F=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=E,this.isNetworkError=!0,this.request=F}}function fetchWithNetworkError(){return fetch(...arguments).catch(V=>{throw V.name==="AbortError"?V:new NetworkError(V)})}class ErrorWithCause extends Error{constructor(E,F){F===void 0&&(F={}),super(E),this.cause=F.cause,this.cause&&has(this.cause,"isNetworkError")&&(this.isNetworkError=this.cause.isNetworkError)}}function emitSocketProgress(V,E,F){const{progress:R,bytesUploaded:U,bytesTotal:W}=E;R&&(V.uppy.log(`Upload progress: ${R}`),V.uppy.emit("upload-progress",F,{uploader:V,bytesUploaded:U,bytesTotal:W}))}const emitSocketProgress$1=throttle_1(emitSocketProgress,300,{leading:!0,trailing:!0});function getSocketHost(V){const F=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(V)[1];return`${/^http:\/\//i.test(V)?"ws":"wss"}://${F}`}function _classPrivateFieldLooseBase$6(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$6=0;function _classPrivateFieldLooseKey$6(V){return"__private_"+id$6+++"_"+V}var _uppy=_classPrivateFieldLooseKey$6("uppy"),_events=_classPrivateFieldLooseKey$6("events");class EventManager{constructor(E){Object.defineProperty(this,_uppy,{writable:!0,value:void 0}),Object.defineProperty(this,_events,{writable:!0,value:[]}),_classPrivateFieldLooseBase$6(this,_uppy)[_uppy]=E}on(E,F){return _classPrivateFieldLooseBase$6(this,_events)[_events].push([E,F]),_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].on(E,F)}remove(){for(const[E,F]of _classPrivateFieldLooseBase$6(this,_events)[_events].splice(0))_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].off(E,F)}onFilePause(E,F){this.on("upload-pause",(R,U)=>{E===R&&F(U)})}onFileRemove(E,F){this.on("file-removed",R=>{E===R.id&&F(R.id)})}onPause(E,F){this.on("upload-pause",(R,U)=>{E===R&&F(U)})}onRetry(E,F){this.on("upload-retry",R=>{E===R&&F()})}onRetryAll(E,F){this.on("retry-all",()=>{!_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].getFile(E)||F()})}onPauseAll(E,F){this.on("pause-all",()=>{!_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].getFile(E)||F()})}onCancelAll(E,F){var R=this;this.on("cancel-all",function(){!_classPrivateFieldLooseBase$6(R,_uppy)[_uppy].getFile(E)||F(...arguments)})}onResumeAll(E,F){this.on("resume-all",()=>{!_classPrivateFieldLooseBase$6(this,_uppy)[_uppy].getFile(E)||F()})}}class AuthError extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}}let _Symbol$for$1,_Symbol$for2;function _classPrivateFieldLooseBase$5(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$5=0;function _classPrivateFieldLooseKey$5(V){return"__private_"+id$5+++"_"+V}var _queued=_classPrivateFieldLooseKey$5("queued"),_emitter=_classPrivateFieldLooseKey$5("emitter"),_isOpen=_classPrivateFieldLooseKey$5("isOpen"),_socket=_classPrivateFieldLooseKey$5("socket"),_handleMessage=_classPrivateFieldLooseKey$5("handleMessage");_Symbol$for$1=Symbol.for("uppy test: getSocket");_Symbol$for2=Symbol.for("uppy test: getQueued");class UppySocket{constructor(E){Object.defineProperty(this,_queued,{writable:!0,value:[]}),Object.defineProperty(this,_emitter,{writable:!0,value:namespaceEmitter()}),Object.defineProperty(this,_isOpen,{writable:!0,value:!1}),Object.defineProperty(this,_socket,{writable:!0,value:void 0}),Object.defineProperty(this,_handleMessage,{writable:!0,value:F=>{try{const R=JSON.parse(F.data);this.emit(R.action,R.payload)}catch(R){console.log(R)}}}),this.opts=E,(!E||E.autoOpen!==!1)&&this.open()}get isOpen(){return _classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen]}[_Symbol$for$1](){return _classPrivateFieldLooseBase$5(this,_socket)[_socket]}[_Symbol$for2](){return _classPrivateFieldLooseBase$5(this,_queued)[_queued]}open(){_classPrivateFieldLooseBase$5(this,_socket)[_socket]==null&&(_classPrivateFieldLooseBase$5(this,_socket)[_socket]=new WebSocket(this.opts.target),_classPrivateFieldLooseBase$5(this,_socket)[_socket].onopen=()=>{for(_classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen]=!0;_classPrivateFieldLooseBase$5(this,_queued)[_queued].length>0&&_classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen];){const E=_classPrivateFieldLooseBase$5(this,_queued)[_queued].shift();this.send(E.action,E.payload)}},_classPrivateFieldLooseBase$5(this,_socket)[_socket].onclose=()=>{_classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen]=!1,_classPrivateFieldLooseBase$5(this,_socket)[_socket]=null},_classPrivateFieldLooseBase$5(this,_socket)[_socket].onmessage=_classPrivateFieldLooseBase$5(this,_handleMessage)[_handleMessage])}close(){var E;(E=_classPrivateFieldLooseBase$5(this,_socket)[_socket])==null||E.close()}send(E,F){if(!_classPrivateFieldLooseBase$5(this,_isOpen)[_isOpen]){_classPrivateFieldLooseBase$5(this,_queued)[_queued].push({action:E,payload:F});return}_classPrivateFieldLooseBase$5(this,_socket)[_socket].send(JSON.stringify({action:E,payload:F}))}on(E,F){_classPrivateFieldLooseBase$5(this,_emitter)[_emitter].on(E,F)}emit(E,F){_classPrivateFieldLooseBase$5(this,_emitter)[_emitter].emit(E,F)}once(E,F){_classPrivateFieldLooseBase$5(this,_emitter)[_emitter].once(E,F)}}let _Symbol$for;function _classPrivateFieldLooseBase$4(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$4=0;function _classPrivateFieldLooseKey$4(V){return"__private_"+id$4+++"_"+V}const packageJson$1={version:"3.4.1"};function stripSlash(V){return V.replace(/\/$/,"")}async function handleJSONResponse(V){if(V.status===401)throw new AuthError;const E=V.json();if(V.ok)return E;let F=`Failed request with status: ${V.status}. ${V.statusText}`;try{const R=await E;F=R.message?`${F} message: ${R.message}`:F,F=R.requestId?`${F} request-Id: ${R.requestId}`:F}catch{}throw new Error(F)}const allowedHeadersCache=new Map;var _companionHeaders=_classPrivateFieldLooseKey$4("companionHeaders"),_getUrl=_classPrivateFieldLooseKey$4("getUrl"),_requestSocketToken=_classPrivateFieldLooseKey$4("requestSocketToken");_Symbol$for=Symbol.for("uppy test: getCompanionHeaders");class RequestClient{constructor(E,F,R){Object.defineProperty(this,_getUrl,{value:_getUrl2}),Object.defineProperty(this,_companionHeaders,{writable:!0,value:void 0}),Object.defineProperty(this,_requestSocketToken,{writable:!0,value:async(U,W)=>{if(U.remote.url==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(U.remote.url,{...U.remote.body,...W})).token}}),this.uppy=E,this.opts=F,this.getQueue=R,this.onReceiveResponse=this.onReceiveResponse.bind(this),_classPrivateFieldLooseBase$4(this,_companionHeaders)[_companionHeaders]=F==null?void 0:F.companionHeaders}setCompanionHeaders(E){_classPrivateFieldLooseBase$4(this,_companionHeaders)[_companionHeaders]=E}[_Symbol$for](){return _classPrivateFieldLooseBase$4(this,_companionHeaders)[_companionHeaders]}get hostname(){const{companion:E}=this.uppy.getState(),F=this.opts.companionUrl;return stripSlash(E&&E[F]?E[F]:F)}async headers(){return{...{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${RequestClient.VERSION}`},..._classPrivateFieldLooseBase$4(this,_companionHeaders)[_companionHeaders]}}onReceiveResponse(E){let{headers:F}=E;const U=this.uppy.getState().companion||{},W=this.opts.companionUrl;F.has("i-am")&&F.get("i-am")!==U[W]&&this.uppy.setState({companion:{...U,[W]:F.get("i-am")}})}async preflight(E){const F=allowedHeadersCache.get(this.hostname);if(F!=null)return F;const R=["accept","content-type","uppy-auth-token"],U=(async()=>{try{const Y=(await fetch(_classPrivateFieldLooseBase$4(this,_getUrl)[_getUrl](E),{method:"OPTIONS"})).headers.get("access-control-allow-headers");if(Y==null||Y==="*")return allowedHeadersCache.set(this.hostname,R),R;this.uppy.log(`[CompanionClient] adding allowed preflight headers to companion cache: ${this.hostname} ${Y}`);const G=Y.split(",").map(X=>X.trim().toLowerCase());return allowedHeadersCache.set(this.hostname,G),G}catch(W){return this.uppy.log(`[CompanionClient] unable to make preflight request ${W}`,"warning"),allowedHeadersCache.delete(this.hostname),R}})();return allowedHeadersCache.set(this.hostname,U),U}async preflightAndHeaders(E){const[F,R]=await Promise.all([this.preflight(E),this.headers()]);return Object.fromEntries(Object.entries(R).filter(U=>{let[W]=U;return F.includes(W.toLowerCase())?!0:(this.uppy.log(`[CompanionClient] excluding disallowed header ${W}`),!1)}))}async request(E){let{path:F,method:R="GET",data:U,skipPostResponse:W,signal:Y}=E;try{const G=await this.preflightAndHeaders(F),X=await fetchWithNetworkError(_classPrivateFieldLooseBase$4(this,_getUrl)[_getUrl](F),{method:R,signal:Y,headers:G,credentials:this.opts.companionCookiesRule||"same-origin",body:U?JSON.stringify(U):null});return W||this.onReceiveResponse(X),handleJSONResponse(X)}catch(G){throw G!=null&&G.isAuthError?G:new ErrorWithCause(`Could not ${R} ${_classPrivateFieldLooseBase$4(this,_getUrl)[_getUrl](F)}`,{cause:G})}}async get(E,F){return F===void 0&&(F=void 0),typeof F=="boolean"&&(F={skipPostResponse:F}),this.request({...F,path:E})}async post(E,F,R){return R===void 0&&(R=void 0),typeof R=="boolean"&&(R={skipPostResponse:R}),this.request({...R,path:E,method:"POST",data:F})}async delete(E,F,R){return F===void 0&&(F=void 0),typeof R=="boolean"&&(R={skipPostResponse:R}),this.request({...R,path:E,method:"DELETE",data:F})}async uploadRemoteFile(E,F,R){R===void 0&&(R={});try{if(E.serverToken)return await this.connectToServerSocket(E,this.getQueue());const Y=await this.getQueue().wrapPromiseFunction(_classPrivateFieldLooseBase$4(this,_requestSocketToken)[_requestSocketToken],{priority:-1})(E,F).abortOn(R.signal);return this.uppy.getState().files[E.id]?(this.uppy.setFileState(E.id,{serverToken:Y}),await this.connectToServerSocket(this.uppy.getFile(E.id),this.getQueue())):void 0}catch(W){var U;if((W==null||(U=W.cause)==null?void 0:U.name)==="AbortError")return;throw this.uppy.setFileState(E.id,{serverToken:void 0}),this.uppy.emit("upload-error",E,W),W}}async connectToServerSocket(E,F){return new Promise((R,U)=>{const W=E.serverToken,Y=getSocketHost(E.remote.companionUrl),G=new UppySocket({target:`${Y}/api/${W}`,autoOpen:!1}),X=new EventManager(this.uppy);let K;X.onFileRemove(E.id,()=>{G.send("cancel",{}),K.abort(),R(`upload ${E.id} was removed`)}),X.onPause(E.id,Z=>{Z?(G.send("pause",{}),K.abort()):(K.abort(),K=F.run(()=>(G.open(),G.send("resume",{}),()=>{})))}),X.onPauseAll(E.id,()=>{G.send("pause",{}),K.abort()}),X.onCancelAll(E.id,function(Z){let{reason:J}=Z===void 0?{}:Z;J==="user"&&(G.send("cancel",{}),K.abort()),R(`upload ${E.id} was canceled`)}),X.onResumeAll(E.id,()=>{K.abort(),E.error&&G.send("pause",{}),K=F.run(()=>(G.open(),G.send("resume",{}),()=>{}))}),X.onRetry(E.id,()=>{G.isOpen&&(G.send("pause",{}),G.send("resume",{}))}),X.onRetryAll(E.id,()=>{G.isOpen&&(G.send("pause",{}),G.send("resume",{}))}),G.on("progress",Z=>emitSocketProgress$1(this,Z,E)),G.on("error",Z=>{const{message:J}=Z.error,Q=Object.assign(new Error(J),{cause:Z.error});this.opts.useFastRemoteRetry?G.close():this.uppy.setFileState(E.id,{serverToken:null}),this.uppy.emit("upload-error",E,Q),K.done(),U(Q)}),G.on("success",Z=>{const J={uploadURL:Z.url};this.uppy.emit("upload-success",E,J),K.done(),G.close(),R()}),K=F.run(()=>(E.isPaused?G.send("pause",{}):G.open(),()=>{}))})}}function _getUrl2(V){return/^(https?:|)\/\//.test(V)?V:`${this.hostname}/${V}`}RequestClient.VERSION=packageJson$1.version;function setItem(V,E){return new Promise(F=>{localStorage.setItem(V,E),F()})}function getItem(V){return Promise.resolve(localStorage.getItem(V))}function removeItem(V){return new Promise(E=>{localStorage.removeItem(V),E()})}const tokenStorage=Object.freeze(Object.defineProperty({__proto__:null,setItem,getItem,removeItem},Symbol.toStringTag,{value:"Module"}));function _classPrivateFieldLooseBase$3(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$3=0;function _classPrivateFieldLooseKey$3(V){return"__private_"+id$3+++"_"+V}const getName=V=>V.split("-").map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" ");function getOrigin(){return location.origin}function getRegex(V){if(typeof V=="string")return new RegExp(`^${V}$`);if(V instanceof RegExp)return V}function isOriginAllowed(V,E){return(Array.isArray(E)?E.map(getRegex):[getRegex(E)]).some(R=>(R==null?void 0:R.test(V))||(R==null?void 0:R.test(`${V}/`)))}var _refreshingTokenPromise=_classPrivateFieldLooseKey$3("refreshingTokenPromise"),_getAuthToken=_classPrivateFieldLooseKey$3("getAuthToken"),_removeAuthToken=_classPrivateFieldLooseKey$3("removeAuthToken");class Provider extends RequestClient{constructor(E,F,R){super(E,F,R),Object.defineProperty(this,_removeAuthToken,{value:_removeAuthToken2}),Object.defineProperty(this,_getAuthToken,{value:_getAuthToken2}),Object.defineProperty(this,_refreshingTokenPromise,{writable:!0,value:void 0}),this.provider=F.provider,this.id=this.provider,this.name=this.opts.name||getName(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}async headers(){const[E,F]=await Promise.all([super.headers(),_classPrivateFieldLooseBase$3(this,_getAuthToken)[_getAuthToken]()]),R={};return F&&(R["uppy-auth-token"]=F),this.companionKeysParams&&(R["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...E,...R}}onReceiveResponse(E){super.onReceiveResponse(E);const F=this.uppy.getPlugin(this.pluginId),U=F.getPluginState().authenticated?E.status!==401:E.status<400;return F.setPluginState({authenticated:U}),E}async setAuthToken(E){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,E)}async ensurePreAuth(){if(this.companionKeysParams&&!this.preAuthToken&&(await this.fetchPreAuthToken(),!this.preAuthToken))throw new Error("Could not load authentication data required for third-party login. Please try again later.")}authUrl(E){E===void 0&&(E={});const F=new URLSearchParams({state:btoa(JSON.stringify({origin:getOrigin()})),...E});return this.preAuthToken&&F.set("uppyPreAuthToken",this.preAuthToken),`${this.hostname}/${this.id}/connect?${F}`}async login(E){return await this.ensurePreAuth(),new Promise((F,R)=>{const U=this.authUrl(E),W=window.open(U,"_blank"),Y=G=>{if(G.source!==W){this.uppy.log.warn("ignoring event from unknown source",G);return}const{companionAllowedHosts:X}=this.uppy.getPlugin(this.pluginId).opts;if(!isOriginAllowed(G.origin,X)){R(new Error(`rejecting event from ${G.origin} vs allowed pattern ${X}`));return}const K=typeof G.data=="string"?JSON.parse(G.data):G.data;if(K.error){const{uppy:Z}=this,J=Z.i18n("authAborted");Z.info({message:J},"warning",5e3),R(new Error("auth aborted"));return}if(!K.token){R(new Error("did not receive token from auth window"));return}W.close(),window.removeEventListener("message",Y),this.setAuthToken(K.token),F()};window.addEventListener("message",Y)})}refreshTokenUrl(){return`${this.hostname}/${this.id}/refresh-token`}fileUrl(E){return`${this.hostname}/${this.id}/get/${E}`}async request(){await _classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise];try{return await super.request(...arguments)}catch(E){if(!E.isAuthError||!await _classPrivateFieldLooseBase$3(this,_getAuthToken)[_getAuthToken]())throw E;return _classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise]==null&&(_classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise]=(async()=>{try{const F=await super.request({path:this.refreshTokenUrl(),method:"POST"});await this.setAuthToken(F.uppyAuthToken)}catch(F){throw F.isAuthError&&await _classPrivateFieldLooseBase$3(this,_removeAuthToken)[_removeAuthToken](),E}finally{_classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise]=void 0}})()),await _classPrivateFieldLooseBase$3(this,_refreshingTokenPromise)[_refreshingTokenPromise],super.request(...arguments)}}async fetchPreAuthToken(){if(!!this.companionKeysParams)try{const E=await this.post(`${this.id}/preauth/`,{params:this.companionKeysParams});this.preAuthToken=E.token}catch(E){this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${E}`,"warning")}}list(E,F){return this.get(`${this.id}/list/${E||""}`,F)}async logout(E){const F=await this.get(`${this.id}/logout`,E);return await _classPrivateFieldLooseBase$3(this,_removeAuthToken)[_removeAuthToken](),F}static initPlugin(E,F,R){if(E.type="acquirer",E.files=[],R&&(E.opts={...R,...F}),F.serverUrl||F.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(F.companionAllowedHosts){const U=F.companionAllowedHosts;if(typeof U!="string"&&!Array.isArray(U)&&!(U instanceof RegExp))throw new TypeError(`${E.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);E.opts.companionAllowedHosts=U}else/^(?!https?:\/\/).*$/i.test(F.companionUrl)?E.opts.companionAllowedHosts=`https://${F.companionUrl.replace(/^\/\//,"")}`:E.opts.companionAllowedHosts=new URL(F.companionUrl).origin;E.storage=E.opts.storage||tokenStorage}}async function _getAuthToken2(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}async function _removeAuthToken2(){return this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)}function _classPrivateFieldLooseBase$2(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$2=0;function _classPrivateFieldLooseKey$2(V){return"__private_"+id$2+++"_"+V}var _aliveTimer=_classPrivateFieldLooseKey$2("aliveTimer"),_isDone=_classPrivateFieldLooseKey$2("isDone"),_onTimedOut=_classPrivateFieldLooseKey$2("onTimedOut"),_timeout=_classPrivateFieldLooseKey$2("timeout");class ProgressTimeout{constructor(E,F){Object.defineProperty(this,_aliveTimer,{writable:!0,value:void 0}),Object.defineProperty(this,_isDone,{writable:!0,value:!1}),Object.defineProperty(this,_onTimedOut,{writable:!0,value:void 0}),Object.defineProperty(this,_timeout,{writable:!0,value:void 0}),_classPrivateFieldLooseBase$2(this,_timeout)[_timeout]=E,_classPrivateFieldLooseBase$2(this,_onTimedOut)[_onTimedOut]=F}progress(){_classPrivateFieldLooseBase$2(this,_isDone)[_isDone]||_classPrivateFieldLooseBase$2(this,_timeout)[_timeout]>0&&(clearTimeout(_classPrivateFieldLooseBase$2(this,_aliveTimer)[_aliveTimer]),_classPrivateFieldLooseBase$2(this,_aliveTimer)[_aliveTimer]=setTimeout(_classPrivateFieldLooseBase$2(this,_onTimedOut)[_onTimedOut],_classPrivateFieldLooseBase$2(this,_timeout)[_timeout]))}done(){_classPrivateFieldLooseBase$2(this,_isDone)[_isDone]||(clearTimeout(_classPrivateFieldLooseBase$2(this,_aliveTimer)[_aliveTimer]),_classPrivateFieldLooseBase$2(this,_aliveTimer)[_aliveTimer]=null,_classPrivateFieldLooseBase$2(this,_isDone)[_isDone]=!0)}}function _classPrivateFieldLooseBase$1(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id$1=0;function _classPrivateFieldLooseKey$1(V){return"__private_"+id$1+++"_"+V}function createCancelError(V){return new Error("Cancelled",{cause:V})}function abortOn(V){if(V!=null){var E;const F=()=>this.abort(V.reason);V.addEventListener("abort",F,{once:!0});const R=()=>{V.removeEventListener("abort",F)};(E=this.then)==null||E.call(this,R,R)}return this}var _activeRequests=_classPrivateFieldLooseKey$1("activeRequests"),_queuedHandlers=_classPrivateFieldLooseKey$1("queuedHandlers"),_paused=_classPrivateFieldLooseKey$1("paused"),_pauseTimer=_classPrivateFieldLooseKey$1("pauseTimer"),_downLimit=_classPrivateFieldLooseKey$1("downLimit"),_upperLimit=_classPrivateFieldLooseKey$1("upperLimit"),_rateLimitingTimer=_classPrivateFieldLooseKey$1("rateLimitingTimer"),_call=_classPrivateFieldLooseKey$1("call"),_queueNext=_classPrivateFieldLooseKey$1("queueNext"),_next=_classPrivateFieldLooseKey$1("next"),_queue=_classPrivateFieldLooseKey$1("queue"),_dequeue=_classPrivateFieldLooseKey$1("dequeue"),_resume=_classPrivateFieldLooseKey$1("resume"),_increaseLimit=_classPrivateFieldLooseKey$1("increaseLimit");class RateLimitedQueue{constructor(E){Object.defineProperty(this,_dequeue,{value:_dequeue2}),Object.defineProperty(this,_queue,{value:_queue2}),Object.defineProperty(this,_next,{value:_next2}),Object.defineProperty(this,_queueNext,{value:_queueNext2}),Object.defineProperty(this,_call,{value:_call2}),Object.defineProperty(this,_activeRequests,{writable:!0,value:0}),Object.defineProperty(this,_queuedHandlers,{writable:!0,value:[]}),Object.defineProperty(this,_paused,{writable:!0,value:!1}),Object.defineProperty(this,_pauseTimer,{writable:!0,value:void 0}),Object.defineProperty(this,_downLimit,{writable:!0,value:1}),Object.defineProperty(this,_upperLimit,{writable:!0,value:void 0}),Object.defineProperty(this,_rateLimitingTimer,{writable:!0,value:void 0}),Object.defineProperty(this,_resume,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,_increaseLimit,{writable:!0,value:()=>{if(_classPrivateFieldLooseBase$1(this,_paused)[_paused]){_classPrivateFieldLooseBase$1(this,_rateLimitingTimer)[_rateLimitingTimer]=setTimeout(_classPrivateFieldLooseBase$1(this,_increaseLimit)[_increaseLimit],0);return}_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit]=this.limit,this.limit=Math.ceil((_classPrivateFieldLooseBase$1(this,_upperLimit)[_upperLimit]+_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit])/2);for(let F=_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit];F<=this.limit;F++)_classPrivateFieldLooseBase$1(this,_queueNext)[_queueNext]();_classPrivateFieldLooseBase$1(this,_upperLimit)[_upperLimit]-_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit]>3?_classPrivateFieldLooseBase$1(this,_rateLimitingTimer)[_rateLimitingTimer]=setTimeout(_classPrivateFieldLooseBase$1(this,_increaseLimit)[_increaseLimit],2e3):_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit]=Math.floor(_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit]/2)}}),typeof E!="number"||E===0?this.limit=1/0:this.limit=E}run(E,F){return!_classPrivateFieldLooseBase$1(this,_paused)[_paused]&&_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]<this.limit?_classPrivateFieldLooseBase$1(this,_call)[_call](E):_classPrivateFieldLooseBase$1(this,_queue)[_queue](E,F)}wrapSyncFunction(E,F){var R=this;return function(){for(var U=arguments.length,W=new Array(U),Y=0;Y<U;Y++)W[Y]=arguments[Y];const G=R.run(()=>(E(...W),queueMicrotask(()=>G.done()),()=>{}),F);return{abortOn,abort(){G.abort()}}}}wrapPromiseFunction(E,F){var R=this;return function(){for(var U=arguments.length,W=new Array(U),Y=0;Y<U;Y++)W[Y]=arguments[Y];let G;const X=new Promise((K,Z)=>{G=R.run(()=>{let J,Q;try{Q=Promise.resolve(E(...W))}catch(ee){Q=Promise.reject(ee)}return Q.then(ee=>{J?Z(J):(G.done(),K(ee))},ee=>{J?Z(J):(G.done(),Z(ee))}),ee=>{J=createCancelError(ee)}},F)});return X.abort=K=>{G.abort(K)},X.abortOn=abortOn,X}}resume(){_classPrivateFieldLooseBase$1(this,_paused)[_paused]=!1,clearTimeout(_classPrivateFieldLooseBase$1(this,_pauseTimer)[_pauseTimer]);for(let E=0;E<this.limit;E++)_classPrivateFieldLooseBase$1(this,_queueNext)[_queueNext]()}pause(E){E===void 0&&(E=null),_classPrivateFieldLooseBase$1(this,_paused)[_paused]=!0,clearTimeout(_classPrivateFieldLooseBase$1(this,_pauseTimer)[_pauseTimer]),E!=null&&(_classPrivateFieldLooseBase$1(this,_pauseTimer)[_pauseTimer]=setTimeout(_classPrivateFieldLooseBase$1(this,_resume)[_resume],E))}rateLimit(E){clearTimeout(_classPrivateFieldLooseBase$1(this,_rateLimitingTimer)[_rateLimitingTimer]),this.pause(E),this.limit>1&&Number.isFinite(this.limit)&&(_classPrivateFieldLooseBase$1(this,_upperLimit)[_upperLimit]=this.limit-1,this.limit=_classPrivateFieldLooseBase$1(this,_downLimit)[_downLimit],_classPrivateFieldLooseBase$1(this,_rateLimitingTimer)[_rateLimitingTimer]=setTimeout(_classPrivateFieldLooseBase$1(this,_increaseLimit)[_increaseLimit],E))}get isPaused(){return _classPrivateFieldLooseBase$1(this,_paused)[_paused]}}function _call2(V){_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]+=1;let E=!1,F;try{F=V()}catch(R){throw _classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]-=1,R}return{abort:R=>{E||(E=!0,_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]-=1,F(R),_classPrivateFieldLooseBase$1(this,_queueNext)[_queueNext]())},done:()=>{E||(E=!0,_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]-=1,_classPrivateFieldLooseBase$1(this,_queueNext)[_queueNext]())}}}function _queueNext2(){queueMicrotask(()=>_classPrivateFieldLooseBase$1(this,_next)[_next]())}function _next2(){if(_classPrivateFieldLooseBase$1(this,_paused)[_paused]||_classPrivateFieldLooseBase$1(this,_activeRequests)[_activeRequests]>=this.limit||_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].length===0)return;const V=_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].shift(),E=_classPrivateFieldLooseBase$1(this,_call)[_call](V.fn);V.abort=E.abort,V.done=E.done}function _queue2(V,E){E===void 0&&(E={});const F={fn:V,priority:E.priority||0,abort:()=>{_classPrivateFieldLooseBase$1(this,_dequeue)[_dequeue](F)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},R=_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].findIndex(U=>F.priority>U.priority);return R===-1?_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].push(F):_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].splice(R,0,F),F}function _dequeue2(V){const E=_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].indexOf(V);E!==-1&&_classPrivateFieldLooseBase$1(this,_queuedHandlers)[_queuedHandlers].splice(E,1)}const internalRateLimitedQueue=Symbol("__queue");function isNetworkError(V){return V?V.readyState!==0&&V.readyState!==4||V.status===0:!1}function filterNonFailedFiles(V){const E=F=>"error"in F&&F.error;return V.filter(F=>!E(F))}function filterFilesToEmitUploadStarted(V){return V.filter(E=>!E.progress.uploadStarted||!E.isRestored)}const locale={strings:{uploadStalled:"Upload has not made any progress for %{seconds} seconds. You may want to retry it."}};function _classPrivateFieldLooseBase(V,E){if(!Object.prototype.hasOwnProperty.call(V,E))throw new TypeError("attempted to use private field on non-instance");return V}var id=0;function _classPrivateFieldLooseKey(V){return"__private_"+id+++"_"+V}const packageJson={version:"3.4.1"};function buildResponseError(V,E){let F=E;return F||(F=new Error("Upload error")),typeof F=="string"&&(F=new Error(F)),F instanceof Error||(F=Object.assign(new Error("Upload error"),{data:F})),isNetworkError(V)?(F=new NetworkError(F,V),F):(F.request=V,F)}function setTypeInBlob(V){return V.data.slice(0,V.data.size,V.meta.type)}var _uploadLocalFile=_classPrivateFieldLooseKey("uploadLocalFile"),_uploadBundle=_classPrivateFieldLooseKey("uploadBundle"),_getCompanionClientArgs=_classPrivateFieldLooseKey("getCompanionClientArgs"),_uploadFiles=_classPrivateFieldLooseKey("uploadFiles"),_handleUpload=_classPrivateFieldLooseKey("handleUpload");class XHRUpload extends BasePlugin{constructor(E,F){super(E,F),Object.defineProperty(this,_uploadFiles,{value:_uploadFiles2}),Object.defineProperty(this,_getCompanionClientArgs,{value:_getCompanionClientArgs2}),Object.defineProperty(this,_uploadBundle,{value:_uploadBundle2}),Object.defineProperty(this,_uploadLocalFile,{value:_uploadLocalFile2}),Object.defineProperty(this,_handleUpload,{writable:!0,value:async U=>{if(U.length===0){this.uppy.log("[XHRUpload] No files to upload!");return}this.opts.limit===0&&!this.opts[internalRateLimitedQueue]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");const W=this.uppy.getFilesByIds(U),Y=filterNonFailedFiles(W),G=filterFilesToEmitUploadStarted(Y);if(this.uppy.emit("upload-start",G),this.opts.bundle){if(Y.some(K=>K.isRemote))throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");await _classPrivateFieldLooseBase(this,_uploadBundle)[_uploadBundle](Y)}else await _classPrivateFieldLooseBase(this,_uploadFiles)[_uploadFiles](Y)}}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=locale;const R={formData:!0,fieldName:F.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData(U){let W={};try{W=JSON.parse(U)}catch(Y){E.log(Y)}return W},getResponseError(U,W){let Y=new Error("Upload error");return isNetworkError(W)&&(Y=new NetworkError(Y,W)),Y},validateStatus(U){return U>=200&&U<300}};if(this.opts={...R,...F},this.i18nInit(),internalRateLimitedQueue in this.opts?this.requests=this.opts[internalRateLimitedQueue]:this.requests=new RateLimitedQueue(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if((F==null?void 0:F.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null)}getOptions(E){const F=this.uppy.getState().xhrUpload,{headers:R}=this.opts,U={...this.opts,...F||{},...E.xhrUpload||{},headers:{}};return typeof R=="function"?U.headers=R(E):Object.assign(U.headers,this.opts.headers),F&&Object.assign(U.headers,F.headers),E.xhrUpload&&Object.assign(U.headers,E.xhrUpload.headers),U}addMetadata(E,F,R){(Array.isArray(R.allowedMetaFields)?R.allowedMetaFields:Object.keys(F)).forEach(W=>{Array.isArray(F[W])?F[W].forEach(Y=>E.append(W,Y)):E.append(W,F[W])})}createFormDataUpload(E,F){const R=new FormData;this.addMetadata(R,E.meta,F);const U=setTypeInBlob(E);return E.name?R.append(F.fieldName,U,E.meta.name):R.append(F.fieldName,U),R}createBundledUpload(E,F){const R=new FormData,{meta:U}=this.uppy.getState();return this.addMetadata(R,U,F),E.forEach(W=>{const Y=this.getOptions(W),G=setTypeInBlob(W);W.name?R.append(Y.fieldName,G,W.name):R.append(Y.fieldName,G)}),R}install(){if(this.opts.bundle){const{capabilities:E}=this.uppy.getState();this.uppy.setState({capabilities:{...E,individualCancellation:!1}})}this.uppy.addUploader(_classPrivateFieldLooseBase(this,_handleUpload)[_handleUpload])}uninstall(){if(this.opts.bundle){const{capabilities:E}=this.uppy.getState();this.uppy.setState({capabilities:{...E,individualCancellation:!0}})}this.uppy.removeUploader(_classPrivateFieldLooseBase(this,_handleUpload)[_handleUpload])}}async function _uploadLocalFile2(V,E,F){const R=this.getOptions(V);return this.uppy.log(`uploading ${E} of ${F}`),new Promise((U,W)=>{const Y=R.formData?this.createFormDataUpload(V,R):V.data,G=new XMLHttpRequest,X=new EventManager(this.uppy);this.uploaderEvents[V.id]=X;let K;const Z=new ProgressTimeout(R.timeout,()=>{const Q=new Error(this.i18n("uploadStalled",{seconds:Math.ceil(R.timeout/1e3)}));this.uppy.emit("upload-stalled",Q,[V])}),J=nanoid();G.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${J} started`)}),G.upload.addEventListener("progress",Q=>{this.uppy.log(`[XHRUpload] ${J} progress: ${Q.loaded} / ${Q.total}`),Z.progress(),Q.lengthComputable&&this.uppy.emit("upload-progress",V,{uploader:this,bytesUploaded:Q.loaded,bytesTotal:Q.total})}),G.addEventListener("load",()=>{if(this.uppy.log(`[XHRUpload] ${J} finished`),Z.done(),K.done(),this.uploaderEvents[V.id]&&(this.uploaderEvents[V.id].remove(),this.uploaderEvents[V.id]=null),R.validateStatus(G.status,G.responseText,G)){const ie=R.getResponseData(G.responseText,G),re=ie[R.responseUrlFieldName],ne={status:G.status,body:ie,uploadURL:re};return this.uppy.emit("upload-success",V,ne),re&&this.uppy.log(`Download ${V.name} from ${re}`),U(V)}const Q=R.getResponseData(G.responseText,G),ee=buildResponseError(G,R.getResponseError(G.responseText,G)),te={status:G.status,body:Q};return this.uppy.emit("upload-error",V,ee,te),W(ee)}),G.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${J} errored`),Z.done(),K.done(),this.uploaderEvents[V.id]&&(this.uploaderEvents[V.id].remove(),this.uploaderEvents[V.id]=null);const Q=buildResponseError(G,R.getResponseError(G.responseText,G));return this.uppy.emit("upload-error",V,Q),W(Q)}),G.open(R.method.toUpperCase(),R.endpoint,!0),G.withCredentials=R.withCredentials,R.responseType!==""&&(G.responseType=R.responseType),K=this.requests.run(()=>{const Q=this.getOptions(V);return Object.keys(Q.headers).forEach(ee=>{G.setRequestHeader(ee,Q.headers[ee])}),G.send(Y),()=>{Z.done(),G.abort()}}),X.onFileRemove(V.id,()=>{K.abort(),W(new Error("File removed"))}),X.onCancelAll(V.id,Q=>{let{reason:ee}=Q;ee==="user"&&K.abort(),W(new Error("Upload cancelled"))})})}function _uploadBundle2(V){return new Promise((E,F)=>{const{endpoint:R}=this.opts,{method:U}=this.opts,W=this.uppy.getState().xhrUpload,Y=this.createBundledUpload(V,{...this.opts,...W||{}}),G=new XMLHttpRequest,X=Z=>{V.forEach(J=>{this.uppy.emit("upload-error",J,Z)})},K=new ProgressTimeout(this.opts.timeout,()=>{const Z=new Error(this.i18n("uploadStalled",{seconds:Math.ceil(this.opts.timeout/1e3)}));this.uppy.emit("upload-stalled",Z,V)});G.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),K.progress()}),G.upload.addEventListener("progress",Z=>{K.progress(),Z.lengthComputable&&V.forEach(J=>{this.uppy.emit("upload-progress",J,{uploader:this,bytesUploaded:Z.loaded/Z.total*J.size,bytesTotal:J.size})})}),G.addEventListener("load",Z=>{if(K.done(),this.opts.validateStatus(Z.target.status,G.responseText,G)){const Q=this.opts.getResponseData(G.responseText,G),ee={status:Z.target.status,body:Q};return V.forEach(te=>{this.uppy.emit("upload-success",te,ee)}),E()}const J=this.opts.getResponseError(G.responseText,G)||new Error("Upload error");return J.request=G,X(J),F(J)}),G.addEventListener("error",()=>{K.done();const Z=this.opts.getResponseError(G.responseText,G)||new Error("Upload error");return X(Z),F(Z)}),this.uppy.on("cancel-all",function(Z){let{reason:J}=Z===void 0?{}:Z;J==="user"&&(K.done(),G.abort())}),G.open(U.toUpperCase(),R,!0),G.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(G.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(Z=>{G.setRequestHeader(Z,this.opts.headers[Z])}),G.send(Y)})}function _getCompanionClientArgs2(V){const E=this.getOptions(V),F=Array.isArray(E.allowedMetaFields)?E.allowedMetaFields:Object.keys(V.meta);return{...V.remote.body,protocol:"multipart",endpoint:E.endpoint,size:V.data.size,fieldname:E.fieldName,metadata:Object.fromEntries(F.map(R=>[R,V.meta[R]])),httpMethod:E.method,useFormData:E.formData,headers:E.headers}}async function _uploadFiles2(V){await Promise.allSettled(V.map((E,F)=>{const R=parseInt(F,10)+1,U=V.length;if(E.isRemote){const W=E.remote.providerOptions.provider?Provider:RequestClient,Y=()=>this.requests,G=new W(this.uppy,E.remote.providerOptions,Y),X=new AbortController,K=J=>{J.id===E.id&&X.abort()};this.uppy.on("file-removed",K);const Z=G.uploadRemoteFile(E,_classPrivateFieldLooseBase(this,_getCompanionClientArgs)[_getCompanionClientArgs](E),{signal:X.signal});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",K)},{priority:-1})(),Z}return _classPrivateFieldLooseBase(this,_uploadLocalFile)[_uploadLocalFile](E,R,U)}))}XHRUpload.VERSION=packageJson.version;const IconUploader_vue_vue_type_style_index_0_lang="",_sfc_main$12={mounted(){var V,E;this.uppy=new Uppy({autoProceed:!0,restrictions:{maxNumberOfFiles:1},meta:{access_token:(V=window==null?void 0:window.appState)==null?void 0:V.token}}).use(DragDrop,{target:".UppyDragDrop",locale:{strings:{dropHereOr:this.$t("fileUploaderLabel")}}}).use(XHRUpload,{endpoint:`${((E=window==null?void 0:window.appState)==null?void 0:E.baseApiUrl)||"/api.php"}/cash.account.uploadLogo`,limit:1,fieldName:"logo"}).on("upload-success",(F,R)=>{R.body.error?this.$store.commit("errors/error",{title:"error.api",method:"cash.account.uploadLogo",message:R.body.error_description}):this.$emit("uploaded",R.body)})}};var _sfc_render$12=function(){var E=this;return E._self._c,E._m(0)},_sfc_staticRenderFns$12=[function(){var V=this,E=V._self._c;return E("div",{staticClass:"box uploadbox custom-p-0"},[E("div",{staticClass:"UppyDragDrop"})])}],__component__$12=normalizeComponent(_sfc_main$12,_sfc_render$12,_sfc_staticRenderFns$12,!1,null,null,null,null);const IconUploader=__component__$12.exports,AddAccount_vue_vue_type_style_index_0_lang="",_sfc_main$11={components:{InputCurrency,IconUploader},mixins:[updateEntityMixin],props:["editedItem"],data(){return{model:{id:null,name:"",currency:"",starting_balance:"",icon:"",description:""}}},validations:{model:{name:{required:validators_min.exports.required},currency:{required:validators_min.exports.required}}},computed:{sortedCurrencies(){return[...this.$store.state.system.currencies].sort((V,E)=>V.code<E.code?-1:V.code>E.code?1:0)}},mounted(){this.$refs.focus.focus()},methods:{setIcon(V){this.model.icon=V}}};var _sfc_render$11=function(){var E=this,F=E._self._c;return F("div",{staticClass:"dialog-body"},[F("div",{staticClass:"dialog-header"},[F("h2",[E._v(" "+E._s(E.isModeUpdate?E.$t("updateAccount"):E.$t("addAccount"))+" ")])]),F("div",{staticClass:"dialog-content"},[F("div",{staticClass:"fields"},[F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("name"))+" ")]),F("div",{staticClass:"value"},[F("input",{directives:[{name:"model",rawName:"v-model",value:E.model.name,expression:"model.name"}],ref:"focus",staticClass:"bold large",class:{"state-error":E.$v.model.name.$error},attrs:{type:"text"},domProps:{value:E.model.name},on:{keyup:function(R){return!R.type.indexOf("key")&&E._k(R.keyCode,"enter",13,R.key,"Enter")?null:E.submit("account")},input:function(R){R.target.composing||E.$set(E.model,"name",R.target.value)}}})])]),F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("currency"))+" ")]),F("div",{staticClass:"value"},[F("div",{staticClass:"wa-select solid"},[F("select",{directives:[{name:"model",rawName:"v-model",value:E.model.currency,expression:"model.currency"}],staticClass:"width-50",class:{"state-error":E.$v.model.currency.$error},on:{change:function(R){var U=Array.prototype.filter.call(R.target.options,function(W){return W.selected}).map(function(W){var Y="_value"in W?W._value:W.value;return Y});E.$set(E.model,"currency",R.target.multiple?U:U[0])}}},E._l(E.sortedCurrencies,function(R){return F("option",{key:R.code,domProps:{value:R.code}},[E._v(" "+E._s(R.code)+" \u2013 "+E._s(R.title)+" ("+E._s(R.sign)+") ")])}),0)])])]),E.isModeUpdate?E._e():F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("startingBalance"))+" ")]),F("div",{staticClass:"value"},[F("input-currency",{attrs:{"currency-code":E.model.currency,"show-sign":!1,short:!0,placeholder:"0"},model:{value:E.model.starting_balance,callback:function(R){E.$set(E.model,"starting_balance",R)},expression:"model.starting_balance"}})],1)]),F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("icon"))+" ")]),F("div",{staticClass:"value"},[F("div",{staticClass:"\u0441-icon-uploader"},[E.$helper.isValidHttpUrl(E.model.icon)?F("div",{staticClass:"flexbox middle"},[F("div",{staticClass:"\u0441-icon-uploader-image",style:`background-image:url('${E.model.icon}')`}),F("div",[F("a",{staticClass:"button nobutton smaller",attrs:{href:"#"},on:{click:function(R){R.preventDefault(),E.model.icon=""}}},[E._v(E._s(E.$t("delete")))])])]):F("div",[F("IconUploader",{on:{uploaded:E.setIcon}})],1)])])]),F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("desc"))+" ")]),F("div",{staticClass:"value"},[F("textarea",{directives:[{name:"model",rawName:"v-model",value:E.model.description,expression:"model.description"}],staticClass:"width-100",staticStyle:{resize:"none",height:"auto"},attrs:{rows:"4",placeholder:E.$t("optional")},domProps:{value:E.model.description},on:{input:function(R){R.target.composing||E.$set(E.model,"description",R.target.value)}}})])])])]),F("div",{staticClass:"dialog-footer"},[F("div",{staticClass:"flexbox"},[F("div",{staticClass:"flexbox space-12 wide"},[F("button",{staticClass:"button purple",attrs:{disabled:E.controlsDisabled},on:{click:function(R){return E.submit("account")}}},[E._v(" "+E._s(E.isModeUpdate?E.$t("update"):E.$t("add"))+" ")]),F("button",{staticClass:"button light-gray",on:{click:E.close}},[E._v(" "+E._s(E.$t("cancel"))+" ")])]),E.isModeUpdate?F("button",{staticClass:"button outlined red",attrs:{disabled:E.controlsDisabled},on:{click:function(R){return E.remove("account")}}},[F("span",[E._v(E._s(E.$t("delete")))])]):E._e()])])])},_sfc_staticRenderFns$11=[],__component__$11=normalizeComponent(_sfc_main$11,_sfc_render$11,_sfc_staticRenderFns$11,!1,null,null,null,null);const AddAccount=__component__$11.exports,rowModificatorMixin={methods:{$_rowModificatorMixin_rowModificator_category(V){let E='<div class="flexbox space-8 middle">';return V.color&&(E+=`<div class="icon custom-m-0 ${V.parent_category_id?"custom-ml-12":""}">`,V.glyph?E+=`
            <i class="${V.glyph}" style="color:${V.color};"></i>
          `:E+=`
          <i class="rounded" style="background-color:${V.color};"></i>
            `,E+="</div>"),E+=`<div title="${V.name}" class="text-ellipsis">${V.name}</div>`,E+="</div>",E},$_rowModificatorMixin_rowModificator_account(V){const E=`${V.name}${V.currency?`&nbsp;(${this.$helper.currencySignByCode(V.currency)})`:""}`;return`<div title="${E}" class="text-ellipsis">${E}</div>`}}};var vueClickOutside={exports:{}};(function(V,E){function F(W){return typeof W.value!="function"?(console.warn("[Vue-click-outside:] provided expression",W.expression,"is not a function."),!1):!0}function R(W,Y){if(!W||!Y)return!1;for(var G=0,X=Y.length;G<X;G++)try{if(W.contains(Y[G]))return!0;if(Y[G].contains(W))return!1}catch{return!1}return!1}function U(W){return typeof W.componentInstance<"u"&&W.componentInstance.$isServer}V.exports={bind:function(W,Y,G){if(!F(Y))return;function X(Z){if(!!G.context){var J=Z.path||Z.composedPath&&Z.composedPath();J&&J.length>0&&J.unshift(Z.target),!(W.contains(Z.target)||R(G.context.popupItem,J))&&W.__vueClickOutside__.callback(Z)}}W.__vueClickOutside__={handler:X,callback:Y.value};const K="ontouchstart"in document.documentElement?"touchstart":"click";!U(G)&&document.addEventListener(K,X)},update:function(W,Y){F(Y)&&(W.__vueClickOutside__.callback=Y.value)},unbind:function(W,Y,G){const X="ontouchstart"in document.documentElement?"touchstart":"click";!U(G)&&W.__vueClickOutside__&&document.removeEventListener(X,W.__vueClickOutside__.handler),delete W.__vueClickOutside__}}})(vueClickOutside);const ClickOutside=vueClickOutside.exports,_sfc_main$10={directives:{ClickOutside},props:{value:{default:null,required:!0},items:{type:Array,required:!0},valuePropName:{type:String,default:"value"},useDefaultValue:{type:Boolean,default:!0},defaultValue:{type:String,default:function(){return this.$t("notSelected")}},rowModificator:{type:Function,default:V=>V.name},isRight:{type:Boolean,default:!1},label:{type:String},groupsLabels:{type:Array,default:()=>[]},maxHeight:{type:Number,default:500},error:{type:Boolean,default:!1}},data(){return{open:!1}},computed:{itemsGroups(){const V=this.items.every(E=>Array.isArray(E))?[...this.items]:[[...this.items]];return this.useDefaultValue?[[{[this.valuePropName]:this.$options.props.value.default,name:this.defaultValue}],...V]:V},activeItem(){const V=this.itemsGroups.flat();return V.find(E=>E[this.valuePropName]===this.value)||V[0]}}};var _sfc_render$10=function(){var E=this,F=E._self._c;return F("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:()=>E.open=!1,expression:"() => (open = false)"}],staticClass:"dropdown",class:{"is-opened":E.open,"state-error":E.error}},[F("button",{staticClass:"dropdown-toggle button light-gray width-100",on:{click:function(R){R.preventDefault(),E.open=!E.open}}},[E.label?F("div",{staticClass:"smaller gray custom-mb-8 align-left"},[E._v(" "+E._s(E.label)+" ")]):E._e(),F("div",{staticClass:"align-left",domProps:{innerHTML:E._s(E.activeItem[E.valuePropName]!==E.$options.props.value.default?E.rowModificator(E.activeItem):"&nbsp;")}})]),F("div",{staticClass:"dropdown-body",class:{right:E.isRight},style:`max-height:${E.maxHeight}px`},E._l(E.itemsGroups,function(R,U){return F("div",{key:U},[E.groupsLabels[E.useDefaultValue?U-1:U]?F("div",{staticClass:"smaller gray uppercase custom-px-16 custom-py-8"},[E._v(" "+E._s(E.groupsLabels[E.useDefaultValue?U-1:U])+" ")]):E._e(),F("ul",{staticClass:"menu custom-m-0"},E._l(R,function(W,Y){return F("li",{key:Y},[W.name?F("a",{attrs:{href:"#"},domProps:{innerHTML:E._s(E.rowModificator(W))},on:{click:function(G){G.preventDefault(),E.$emit("input",W[E.valuePropName]),E.open=!1}}}):E._e()])}),0)])}),0)])},_sfc_staticRenderFns$10=[],__component__$10=normalizeComponent(_sfc_main$10,_sfc_render$10,_sfc_staticRenderFns$10,!1,null,null,null,null);const DropdownWa=__component__$10.exports;/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */var n,u,t,i,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function s$1(V,E){for(var F in E)V[F]=E[F];return V}function a(V){var E=V.parentNode;E&&E.removeChild(V)}function h$1(V,E,F){var R,U,W,Y,G=arguments;if(E=s$1({},E),arguments.length>3)for(F=[F],R=3;R<arguments.length;R++)F.push(G[R]);if(F!=null&&(E.children=F),V!=null&&V.defaultProps!=null)for(U in V.defaultProps)E[U]===void 0&&(E[U]=V.defaultProps[U]);return Y=E.key,(W=E.ref)!=null&&delete E.ref,Y!=null&&delete E.key,v(V,E,Y,W)}function v(V,E,F,R){var U={type:V,props:E,key:F,ref:R,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(U),U}function d(V){return V.children}function y(V){if(V==null||typeof V=="boolean")return null;if(typeof V=="string"||typeof V=="number")return v(null,V,null,null);if(V.__e!=null||V.__c!=null){var E=v(V.type,V.props,V.key,null);return E.__e=V.__e,E}return V}function m(V,E){this.props=V,this.context=E}function w(V,E){if(E==null)return V.__p?w(V.__p,V.__p.__k.indexOf(V)+1):null;for(var F;E<V.__k.length;E++)if((F=V.__k[E])!=null&&F.__e!=null)return F.__e;return typeof V.type=="function"?w(V):null}function g(V){var E,F;if((V=V.__p)!=null&&V.__c!=null){for(V.__e=V.__c.base=null,E=0;E<V.__k.length;E++)if((F=V.__k[E])!=null&&F.__e!=null){V.__e=V.__c.base=F.__e;break}return g(V)}}function k(V){(!V.__d&&(V.__d=!0)&&u.push(V)===1||i!==n.debounceRendering)&&(i=n.debounceRendering,(n.debounceRendering||t)(_))}function _(){var V,E,F,R,U,W,Y,G;for(u.sort(function(X,K){return K.__v.__b-X.__v.__b});V=u.pop();)V.__d&&(F=void 0,R=void 0,W=(U=(E=V).__v).__e,Y=E.__P,G=E.u,E.u=!1,Y&&(F=[],R=$(Y,U,s$1({},U),E.__n,Y.ownerSVGElement!==void 0,null,F,G,W==null?w(U):W),j(F,U),R!=W&&g(U)))}function b(V,E,F,R,U,W,Y,G,X){var K,Z,J,Q,ee,te,ie,re=F&&F.__k||e,ne=re.length;if(G==f&&(G=W!=null?W[0]:ne?w(F,0):null),K=0,E.__k=x(E.__k,function(ae){if(ae!=null){if(ae.__p=E,ae.__b=E.__b+1,(J=re[K])===null||J&&ae.key==J.key&&ae.type===J.type)re[K]=void 0;else for(Z=0;Z<ne;Z++){if((J=re[Z])&&ae.key==J.key&&ae.type===J.type){re[Z]=void 0;break}J=null}if(Q=$(V,ae,J=J||f,R,U,W,Y,null,G,X),(Z=ae.ref)&&J.ref!=Z&&(ie||(ie=[])).push(Z,ae.__c||Q,ae),Q!=null){if(te==null&&(te=Q),ae.l!=null)Q=ae.l,ae.l=null;else if(W==J||Q!=G||Q.parentNode==null){e:if(G==null||G.parentNode!==V)V.appendChild(Q);else{for(ee=G,Z=0;(ee=ee.nextSibling)&&Z<ne;Z+=2)if(ee==Q)break e;V.insertBefore(Q,G)}E.type=="option"&&(V.value="")}G=Q.nextSibling,typeof E.type=="function"&&(E.l=Q)}}return K++,ae}),E.__e=te,W!=null&&typeof E.type!="function")for(K=W.length;K--;)W[K]!=null&&a(W[K]);for(K=ne;K--;)re[K]!=null&&D(re[K],re[K]);if(ie)for(K=0;K<ie.length;K++)A(ie[K],ie[++K],ie[++K])}function x(V,E,F){if(F==null&&(F=[]),V==null||typeof V=="boolean")E&&F.push(E(null));else if(Array.isArray(V))for(var R=0;R<V.length;R++)x(V[R],E,F);else F.push(E?E(y(V)):V);return F}function C(V,E,F,R,U){var W;for(W in F)W in E||N(V,W,null,F[W],R);for(W in E)U&&typeof E[W]!="function"||W==="value"||W==="checked"||F[W]===E[W]||N(V,W,E[W],F[W],R)}function P(V,E,F){E[0]==="-"?V.setProperty(E,F):V[E]=typeof F=="number"&&c.test(E)===!1?F+"px":F==null?"":F}function N(V,E,F,R,U){var W,Y,G,X,K;if(!((E=U?E==="className"?"class":E:E==="class"?"className":E)==="key"||E==="children"))if(E==="style")if(W=V.style,typeof F=="string")W.cssText=F;else{if(typeof R=="string"&&(W.cssText="",R=null),R)for(Y in R)F&&Y in F||P(W,Y,"");if(F)for(G in F)R&&F[G]===R[G]||P(W,G,F[G])}else E[0]==="o"&&E[1]==="n"?(X=E!==(E=E.replace(/Capture$/,"")),K=E.toLowerCase(),E=(K in V?K:E).slice(2),F?(R||V.addEventListener(E,T,X),(V.t||(V.t={}))[E]=F):V.removeEventListener(E,T,X)):E!=="list"&&E!=="tagName"&&E!=="form"&&!U&&E in V?V[E]=F==null?"":F:typeof F!="function"&&E!=="dangerouslySetInnerHTML"&&(E!==(E=E.replace(/^xlink:?/,""))?F==null||F===!1?V.removeAttributeNS("http://www.w3.org/1999/xlink",E.toLowerCase()):V.setAttributeNS("http://www.w3.org/1999/xlink",E.toLowerCase(),F):F==null||F===!1?V.removeAttribute(E):V.setAttribute(E,F))}function T(V){return this.t[V.type](n.event?n.event(V):V)}function $(V,E,F,R,U,W,Y,G,X,K){var Z,J,Q,ee,te,ie,re,ne,ae,se,le=E.type;if(E.constructor!==void 0)return null;(Z=n.__b)&&Z(E);try{e:if(typeof le=="function"){if(ne=E.props,ae=(Z=le.contextType)&&R[Z.__c],se=Z?ae?ae.props.value:Z.__p:R,F.__c?re=(J=E.__c=F.__c).__p=J.__E:("prototype"in le&&le.prototype.render?E.__c=J=new le(ne,se):(E.__c=J=new m(ne,se),J.constructor=le,J.render=H),ae&&ae.sub(J),J.props=ne,J.state||(J.state={}),J.context=se,J.__n=R,Q=J.__d=!0,J.__h=[]),J.__s==null&&(J.__s=J.state),le.getDerivedStateFromProps!=null&&s$1(J.__s==J.state?J.__s=s$1({},J.__s):J.__s,le.getDerivedStateFromProps(ne,J.__s)),Q)le.getDerivedStateFromProps==null&&J.componentWillMount!=null&&J.componentWillMount(),J.componentDidMount!=null&&Y.push(J);else{if(le.getDerivedStateFromProps==null&&G==null&&J.componentWillReceiveProps!=null&&J.componentWillReceiveProps(ne,se),!G&&J.shouldComponentUpdate!=null&&J.shouldComponentUpdate(ne,J.__s,se)===!1){for(J.props=ne,J.state=J.__s,J.__d=!1,J.__v=E,E.__e=X!=null?X!==F.__e?X:F.__e:null,E.__k=F.__k,Z=0;Z<E.__k.length;Z++)E.__k[Z]&&(E.__k[Z].__p=E);break e}J.componentWillUpdate!=null&&J.componentWillUpdate(ne,J.__s,se)}for(ee=J.props,te=J.state,J.context=se,J.props=ne,J.state=J.__s,(Z=n.__r)&&Z(E),J.__d=!1,J.__v=E,J.__P=V,Z=J.render(J.props,J.state,J.context),E.__k=x(Z!=null&&Z.type==d&&Z.key==null?Z.props.children:Z),J.getChildContext!=null&&(R=s$1(s$1({},R),J.getChildContext())),Q||J.getSnapshotBeforeUpdate==null||(ie=J.getSnapshotBeforeUpdate(ee,te)),b(V,E,F,R,U,W,Y,X,K),J.base=E.__e;Z=J.__h.pop();)J.__s&&(J.state=J.__s),Z.call(J);Q||ee==null||J.componentDidUpdate==null||J.componentDidUpdate(ee,te,ie),re&&(J.__E=J.__p=null)}else E.__e=z(F.__e,E,F,R,U,W,Y,K);(Z=n.diffed)&&Z(E)}catch(oe){n.__e(oe,E,F)}return E.__e}function j(V,E){for(var F;F=V.pop();)try{F.componentDidMount()}catch(R){n.__e(R,F.__v)}n.__c&&n.__c(E)}function z(V,E,F,R,U,W,Y,G){var X,K,Z,J,Q=F.props,ee=E.props;if(U=E.type==="svg"||U,V==null&&W!=null){for(X=0;X<W.length;X++)if((K=W[X])!=null&&(E.type===null?K.nodeType===3:K.localName===E.type)){V=K,W[X]=null;break}}if(V==null){if(E.type===null)return document.createTextNode(ee);V=U?document.createElementNS("http://www.w3.org/2000/svg",E.type):document.createElement(E.type),W=null}return E.type===null?Q!==ee&&(W!=null&&(W[W.indexOf(V)]=null),V.data=ee):E!==F&&(W!=null&&(W=e.slice.call(V.childNodes)),Z=(Q=F.props||f).dangerouslySetInnerHTML,J=ee.dangerouslySetInnerHTML,G||(J||Z)&&(J&&Z&&J.__html==Z.__html||(V.innerHTML=J&&J.__html||"")),C(V,ee,Q,U,G),E.__k=E.props.children,J||b(V,E,F,R,E.type!=="foreignObject"&&U,W,Y,f,G),G||("value"in ee&&ee.value!==void 0&&ee.value!==V.value&&(V.value=ee.value==null?"":ee.value),"checked"in ee&&ee.checked!==void 0&&ee.checked!==V.checked&&(V.checked=ee.checked))),V}function A(V,E,F){try{typeof V=="function"?V(E):V.current=E}catch(R){n.__e(R,F)}}function D(V,E,F){var R,U,W;if(n.unmount&&n.unmount(V),(R=V.ref)&&A(R,null,E),F||typeof V.type=="function"||(F=(U=V.__e)!=null),V.__e=V.l=null,(R=V.__c)!=null){if(R.componentWillUnmount)try{R.componentWillUnmount()}catch(Y){n.__e(Y,E)}R.base=R.__P=null}if(R=V.__k)for(W=0;W<R.length;W++)R[W]&&D(R[W],E,F);U!=null&&a(U)}function H(V,E,F){return this.constructor(V,F)}function I(V,E,F){var R,U,W;n.__p&&n.__p(V,E),U=(R=F===r)?null:F&&F.__k||E.__k,V=h$1(d,null,[V]),W=[],$(E,R?E.__k=V:(F||E).__k=V,U||f,f,E.ownerSVGElement!==void 0,F&&!R?[F]:U?null:e.slice.call(E.childNodes),W,!1,F||f,R),j(W,V)}n={},m.prototype.setState=function(V,E){var F=this.__s!==this.state&&this.__s||(this.__s=s$1({},this.state));(typeof V!="function"||(V=V(F,this.props)))&&s$1(F,V),V!=null&&this.__v&&(this.u=!1,E&&this.__h.push(E),k(this))},m.prototype.forceUpdate=function(V){this.__v&&(V&&this.__h.push(V),this.u=!0,k(this))},m.prototype.render=d,u=[],t=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=n.debounceRendering,n.__e=function(V,E,F){for(var R;E=E.__p;)if((R=E.__c)&&!R.__p)try{if(R.constructor&&R.constructor.getDerivedStateFromError!=null)R.setState(R.constructor.getDerivedStateFromError(V));else{if(R.componentDidCatch==null)continue;R.componentDidCatch(V)}return k(R.__E=R)}catch(U){V=U}throw V},r=f;function _defineProperties(V,E){for(var F=0;F<E.length;F++){var R=E[F];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(V,R.key,R)}}function _createClass(V,E,F){return E&&_defineProperties(V.prototype,E),F&&_defineProperties(V,F),V}function _extends(){return _extends=Object.assign||function(V){for(var E=arguments,F=1;F<arguments.length;F++){var R=E[F];for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(V[U]=R[U])}return V},_extends.apply(this,arguments)}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH_3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH_4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",REGEX_FUNCTIONAL_RGB=new RegExp("rgb"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_RGBA=new RegExp("rgba"+PERMISSIVE_MATCH_4),REGEX_FUNCTIONAL_HSL=new RegExp("hsl"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_HSLA=new RegExp("hsla"+PERMISSIVE_MATCH_4),HEX_START="^(?:#?|0x?)",HEX_INT_SINGLE="([0-9a-fA-F]{1})",HEX_INT_DOUBLE="([0-9a-fA-F]{2})",REGEX_HEX_3=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_4=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_6=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),REGEX_HEX_8=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),KELVIN_MIN=2e3,KELVIN_MAX=4e4,log$1=Math.log,round$3=Math.round,floor=Math.floor;function clamp$1(V,E,F){return Math.min(Math.max(V,E),F)}function parseUnit(V,E){var F=V.indexOf("%")>-1,R=parseFloat(V);return F?E/100*R:R}function parseHexInt(V){return parseInt(V,16)}function intToHex(V){return V.toString(16).padStart(2,"0")}var IroColor=function(){function V(F,R){this.$={h:0,s:0,v:0,a:1},F&&this.set(F),this.onChange=R,this.initialValue=_extends({},this.$)}var E=V.prototype;return E.set=function(R){if(typeof R=="string")/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(R)?this.hexString=R:/^rgba?/.test(R)?this.rgbString=R:/^hsla?/.test(R)&&(this.hslString=R);else if(typeof R=="object")R instanceof V?this.hsva=R.hsva:"r"in R&&"g"in R&&"b"in R?this.rgb=R:"h"in R&&"s"in R&&"v"in R?this.hsv=R:"h"in R&&"s"in R&&"l"in R?this.hsl=R:"kelvin"in R&&(this.kelvin=R.kelvin);else throw new Error("Invalid color value")},E.setChannel=function(R,U,W){var Y;this[R]=_extends({},this[R],(Y={},Y[U]=W,Y))},E.reset=function(){this.hsva=this.initialValue},E.clone=function(){return new V(this)},E.unbind=function(){this.onChange=void 0},V.hsvToRgb=function(R){var U=R.h/60,W=R.s/100,Y=R.v/100,G=floor(U),X=U-G,K=Y*(1-W),Z=Y*(1-X*W),J=Y*(1-(1-X)*W),Q=G%6,ee=[Y,Z,K,K,J,Y][Q],te=[J,Y,Y,Z,K,K][Q],ie=[K,K,J,Y,Y,Z][Q];return{r:clamp$1(ee*255,0,255),g:clamp$1(te*255,0,255),b:clamp$1(ie*255,0,255)}},V.rgbToHsv=function(R){var U=R.r/255,W=R.g/255,Y=R.b/255,G=Math.max(U,W,Y),X=Math.min(U,W,Y),K=G-X,Z=0,J=G,Q=G===0?0:K/G;switch(G){case X:Z=0;break;case U:Z=(W-Y)/K+(W<Y?6:0);break;case W:Z=(Y-U)/K+2;break;case Y:Z=(U-W)/K+4;break}return{h:Z*60%360,s:clamp$1(Q*100,0,100),v:clamp$1(J*100,0,100)}},V.hsvToHsl=function(R){var U=R.s/100,W=R.v/100,Y=(2-U)*W,G=Y<=1?Y:2-Y,X=G<1e-9?0:U*W/G;return{h:R.h,s:clamp$1(X*100,0,100),l:clamp$1(Y*50,0,100)}},V.hslToHsv=function(R){var U=R.l*2,W=R.s*(U<=100?U:200-U)/100,Y=U+W<1e-9?0:2*W/(U+W);return{h:R.h,s:clamp$1(Y*100,0,100),v:clamp$1((U+W)/2,0,100)}},V.kelvinToRgb=function(R){var U=R/100,W,Y,G;return U<66?(W=255,Y=-155.25485562709179-.44596950469579133*(Y=U-2)+104.49216199393888*log$1(Y),G=U<20?0:-254.76935184120902+.8274096064007395*(G=U-10)+115.67994401066147*log$1(G)):(W=351.97690566805693+.114206453784165*(W=U-55)-40.25366309332127*log$1(W),Y=325.4494125711974+.07943456536662342*(Y=U-50)-28.0852963507957*log$1(Y),G=255),{r:clamp$1(floor(W),0,255),g:clamp$1(floor(Y),0,255),b:clamp$1(floor(G),0,255)}},V.rgbToKelvin=function(R){for(var U=R.r,W=R.b,Y=.4,G=KELVIN_MIN,X=KELVIN_MAX,K;X-G>Y;){K=(X+G)*.5;var Z=V.kelvinToRgb(K);Z.b/Z.r>=W/U?X=K:G=K}return K},_createClass(V,[{key:"hsv",get:function(){var R=this.$;return{h:R.h,s:R.s,v:R.v}},set:function(R){var U=this.$;if(R=_extends({},U,R),this.onChange){var W={h:!1,v:!1,s:!1,a:!1};for(var Y in U)W[Y]=R[Y]!=U[Y];this.$=R,(W.h||W.s||W.v||W.a)&&this.onChange(this,W)}else this.$=R}},{key:"hsva",get:function(){return _extends({},this.$)},set:function(R){this.hsv=R}},{key:"hue",get:function(){return this.$.h},set:function(R){this.hsv={h:R}}},{key:"saturation",get:function(){return this.$.s},set:function(R){this.hsv={s:R}}},{key:"value",get:function(){return this.$.v},set:function(R){this.hsv={v:R}}},{key:"alpha",get:function(){return this.$.a},set:function(R){this.hsv=_extends({},this.hsv,{a:R})}},{key:"kelvin",get:function(){return V.rgbToKelvin(this.rgb)},set:function(R){this.rgb=V.kelvinToRgb(R)}},{key:"red",get:function(){var R=this.rgb;return R.r},set:function(R){this.rgb=_extends({},this.rgb,{r:R})}},{key:"green",get:function(){var R=this.rgb;return R.g},set:function(R){this.rgb=_extends({},this.rgb,{g:R})}},{key:"blue",get:function(){var R=this.rgb;return R.b},set:function(R){this.rgb=_extends({},this.rgb,{b:R})}},{key:"rgb",get:function(){var R=V.hsvToRgb(this.$),U=R.r,W=R.g,Y=R.b;return{r:round$3(U),g:round$3(W),b:round$3(Y)}},set:function(R){this.hsv=_extends({},V.rgbToHsv(R),{a:R.a===void 0?1:R.a})}},{key:"rgba",get:function(){return _extends({},this.rgb,{a:this.alpha})},set:function(R){this.rgb=R}},{key:"hsl",get:function(){var R=V.hsvToHsl(this.$),U=R.h,W=R.s,Y=R.l;return{h:round$3(U),s:round$3(W),l:round$3(Y)}},set:function(R){this.hsv=_extends({},V.hslToHsv(R),{a:R.a===void 0?1:R.a})}},{key:"hsla",get:function(){return _extends({},this.hsl,{a:this.alpha})},set:function(R){this.hsl=R}},{key:"rgbString",get:function(){var R=this.rgb;return"rgb("+R.r+", "+R.g+", "+R.b+")"},set:function(R){var U,W,Y,G,X=1;if((U=REGEX_FUNCTIONAL_RGB.exec(R))?(W=parseUnit(U[1],255),Y=parseUnit(U[2],255),G=parseUnit(U[3],255)):(U=REGEX_FUNCTIONAL_RGBA.exec(R))&&(W=parseUnit(U[1],255),Y=parseUnit(U[2],255),G=parseUnit(U[3],255),X=parseUnit(U[4],1)),U)this.rgb={r:W,g:Y,b:G,a:X};else throw new Error("Invalid rgb string")}},{key:"rgbaString",get:function(){var R=this.rgba;return"rgba("+R.r+", "+R.g+", "+R.b+", "+R.a+")"},set:function(R){this.rgbString=R}},{key:"hexString",get:function(){var R=this.rgb;return"#"+intToHex(R.r)+intToHex(R.g)+intToHex(R.b)},set:function(R){var U,W,Y,G,X=255;if((U=REGEX_HEX_3.exec(R))?(W=parseHexInt(U[1])*17,Y=parseHexInt(U[2])*17,G=parseHexInt(U[3])*17):(U=REGEX_HEX_4.exec(R))?(W=parseHexInt(U[1])*17,Y=parseHexInt(U[2])*17,G=parseHexInt(U[3])*17,X=parseHexInt(U[4])*17):(U=REGEX_HEX_6.exec(R))?(W=parseHexInt(U[1]),Y=parseHexInt(U[2]),G=parseHexInt(U[3])):(U=REGEX_HEX_8.exec(R))&&(W=parseHexInt(U[1]),Y=parseHexInt(U[2]),G=parseHexInt(U[3]),X=parseHexInt(U[4])),U)this.rgb={r:W,g:Y,b:G,a:X/255};else throw new Error("Invalid hex string")}},{key:"hex8String",get:function(){var R=this.rgba;return"#"+intToHex(R.r)+intToHex(R.g)+intToHex(R.b)+intToHex(floor(R.a*255))},set:function(R){this.hexString=R}},{key:"hslString",get:function(){var R=this.hsl;return"hsl("+R.h+", "+R.s+"%, "+R.l+"%)"},set:function(R){var U,W,Y,G,X=1;if((U=REGEX_FUNCTIONAL_HSL.exec(R))?(W=parseUnit(U[1],360),Y=parseUnit(U[2],100),G=parseUnit(U[3],100)):(U=REGEX_FUNCTIONAL_HSLA.exec(R))&&(W=parseUnit(U[1],360),Y=parseUnit(U[2],100),G=parseUnit(U[3],100),X=parseUnit(U[4],1)),U)this.hsl={h:W,s:Y,l:G,a:X};else throw new Error("Invalid hsl string")}},{key:"hslaString",get:function(){var R=this.hsla;return"hsla("+R.h+", "+R.s+"%, "+R.l+"%, "+R.a+")"},set:function(R){this.hslString=R}}]),V}(),sliderDefaultOptions={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function getSliderDimensions(V){var E,F=V.width,R=V.sliderSize,U=V.borderWidth,W=V.handleRadius,Y=V.padding,G=V.sliderShape,X=V.layoutDirection==="horizontal";return R=(E=R)!=null?E:Y*2+W*2,G==="circle"?{handleStart:V.padding+V.handleRadius,handleRange:F-Y*2-W*2,width:F,height:F,cx:F/2,cy:F/2,radius:F/2-U/2}:{handleStart:R/2,handleRange:F-R,radius:R/2,x:0,y:0,width:X?R:F,height:X?F:R}}function getCurrentSliderValue(V,E){var F=E.hsva,R=E.rgb;switch(V.sliderType){case"red":return R.r/2.55;case"green":return R.g/2.55;case"blue":return R.b/2.55;case"alpha":return F.a*100;case"kelvin":var U=V.minTemperature,W=V.maxTemperature,Y=W-U,G=(E.kelvin-U)/Y*100;return Math.max(0,Math.min(G,100));case"hue":return F.h/=3.6;case"saturation":return F.s;case"value":default:return F.v}}function getSliderValueFromInput(V,E,F){var R=getSliderDimensions(V),U=R.handleRange,W=R.handleStart,Y;V.layoutDirection==="horizontal"?Y=-1*F+U+W:Y=E-W,Y=Math.max(Math.min(Y,U),0);var G=Math.round(100/U*Y);switch(V.sliderType){case"kelvin":var X=V.minTemperature,K=V.maxTemperature,Z=K-X;return X+Z*(G/100);case"alpha":return G/100;case"hue":return G*3.6;case"red":case"blue":case"green":return G*2.55;default:return G}}function getSliderHandlePosition(V,E){var F=getSliderDimensions(V),R=F.width,U=F.height,W=F.handleRange,Y=F.handleStart,G=V.layoutDirection==="horizontal",X=getCurrentSliderValue(V,E),K=G?R/2:U/2,Z=Y+X/100*W;return G&&(Z=-1*Z+W+Y*2),{x:G?K:Z,y:G?Z:K}}function getSliderGradient(V,E){var F=E.hsv,R=E.rgb;switch(V.sliderType){case"red":return[[0,"rgb("+0+","+R.g+","+R.b+")"],[100,"rgb("+255+","+R.g+","+R.b+")"]];case"green":return[[0,"rgb("+R.r+","+0+","+R.b+")"],[100,"rgb("+R.r+","+255+","+R.b+")"]];case"blue":return[[0,"rgb("+R.r+","+R.g+","+0+")"],[100,"rgb("+R.r+","+R.g+","+255+")"]];case"alpha":return[[0,"rgba("+R.r+","+R.g+","+R.b+",0)"],[100,"rgb("+R.r+","+R.g+","+R.b+")"]];case"kelvin":for(var U=[],W=V.minTemperature,Y=V.maxTemperature,G=8,X=Y-W,K=W,Z=0;K<Y;K+=X/G,Z+=1){var J=IroColor.kelvinToRgb(K),Q=J.r,ee=J.g,te=J.b;U.push([100/G*Z,"rgb("+Q+","+ee+","+te+")"])}return U;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var ie=IroColor.hsvToHsl({h:F.h,s:0,v:F.v}),re=IroColor.hsvToHsl({h:F.h,s:100,v:F.v});return[[0,"hsl("+ie.h+","+ie.s+"%,"+ie.l+"%)"],[100,"hsl("+re.h+","+re.s+"%,"+re.l+"%)"]];case"value":default:var ne=IroColor.hsvToHsl({h:F.h,s:F.s,v:100});return[[0,"#000"],[100,"hsl("+ne.h+","+ne.s+"%,"+ne.l+"%)"]]}}var TAU=Math.PI*2,mod=function(E,F){return(E%F+F)%F},dist=function(E,F){return Math.sqrt(E*E+F*F)};function getHandleRange(V){return V.width/2-V.padding-V.handleRadius-V.borderWidth}function isInputInsideWheel(V,E,F){var R=getWheelDimensions(V),U=R.cx,W=R.cy,Y=V.width/2;return dist(U-E,W-F)<Y}function getWheelDimensions(V){var E=V.width/2;return{width:V.width,radius:E-V.borderWidth,cx:E,cy:E}}function translateWheelAngle(V,E,F){var R=V.wheelAngle,U=V.wheelDirection;return F&&U==="clockwise"?E=R+E:U==="clockwise"?E=360-R+E:F&&U==="anticlockwise"?E=R+180-E:U==="anticlockwise"&&(E=R-E),mod(E,360)}function getWheelHandlePosition(V,E){var F=E.hsv,R=getWheelDimensions(V),U=R.cx,W=R.cy,Y=getHandleRange(V),G=(180+translateWheelAngle(V,F.h,!0))*(TAU/360),X=F.s/100*Y,K=V.wheelDirection==="clockwise"?-1:1;return{x:U+X*Math.cos(G)*K,y:W+X*Math.sin(G)*K}}function getWheelValueFromInput(V,E,F){var R=getWheelDimensions(V),U=R.cx,W=R.cy,Y=getHandleRange(V);E=U-E,F=W-F;var G=translateWheelAngle(V,Math.atan2(-F,-E)*(360/TAU)),X=Math.min(dist(E,F),Y);return{h:Math.round(G),s:Math.round(100/Y*X)}}function getBoxDimensions(V){var E=V.width,F=V.boxHeight,R=V.padding,U=V.handleRadius;return{width:E,height:F!=null?F:E,radius:R+U}}function getBoxValueFromInput(V,E,F){var R=getBoxDimensions(V),U=R.width,W=R.height,Y=R.radius,G=Y,X=U-Y*2,K=W-Y*2,Z=(E-G)/X*100,J=(F-G)/K*100;return{s:Math.max(0,Math.min(Z,100)),v:Math.max(0,Math.min(100-J,100))}}function getBoxHandlePosition(V,E){var F=getBoxDimensions(V),R=F.width,U=F.height,W=F.radius,Y=E.hsv,G=W,X=R-W*2,K=U-W*2;return{x:G+Y.s/100*X,y:G+(K-Y.v/100*K)}}function getBoxGradients(V,E){var F=E.hue;return[[[0,"#fff"],[100,"hsl("+F+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}var BASE_ELEMENTS;function resolveSvgUrl(V){BASE_ELEMENTS||(BASE_ELEMENTS=document.getElementsByTagName("base"));var E=window.navigator.userAgent,F=/^((?!chrome|android).)*safari/i.test(E),R=/iPhone|iPod|iPad/i.test(E),U=window.location;return(F||R)&&BASE_ELEMENTS.length>0?U.protocol+"//"+U.host+U.pathname+U.search+V:V}function getHandleAtPoint(V,E,F,R){for(var U=0;U<R.length;U++){var W=R[U].x-E,Y=R[U].y-F,G=Math.sqrt(W*W+Y*Y);if(G<V.handleRadius)return U}return null}function cssBorderStyles(V){return{boxSizing:"border-box",border:V.borderWidth+"px solid "+V.borderColor}}function cssGradient(V,E,F){return V+"-gradient("+E+", "+F.map(function(R){var U=R[0],W=R[1];return W+" "+U+"%"}).join(",")+")"}function cssValue(V){return typeof V=="string"?V:V+"px"}var iroColorPickerOptionDefaults={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},SECONDARY_EVENTS=["mousemove","touchmove","mouseup","touchend"],IroComponentWrapper=function(V){function E(F){V.call(this,F),this.uid=(Math.random()+1).toString(36).substring(5)}return V&&(E.__proto__=V),E.prototype=Object.create(V&&V.prototype),E.prototype.constructor=E,E.prototype.render=function(R){var U=this.handleEvent.bind(this),W={onMouseDown:U,ontouchstart:U},Y=R.layoutDirection==="horizontal",G=R.margin===null?R.sliderMargin:R.margin,X={overflow:"visible",display:Y?"inline-block":"block"};return R.index>0&&(X[Y?"marginLeft":"marginTop"]=G),h$1(d,null,R.children(this.uid,W,X))},E.prototype.handleEvent=function(R){var U=this,W=this.props.onInput,Y=this.base.getBoundingClientRect();R.preventDefault();var G=R.touches?R.changedTouches[0]:R,X=G.clientX-Y.left,K=G.clientY-Y.top;switch(R.type){case"mousedown":case"touchstart":var Z=W(X,K,0);Z!==!1&&SECONDARY_EVENTS.forEach(function(J){document.addEventListener(J,U,{passive:!1})});break;case"mousemove":case"touchmove":W(X,K,1);break;case"mouseup":case"touchend":W(X,K,2),SECONDARY_EVENTS.forEach(function(J){document.removeEventListener(J,U,{passive:!1})});break}},E}(m);function IroHandle(V){var E=V.r,F=V.url,R=E,U=E;return h$1("svg",{className:"IroHandle IroHandle--"+V.index+" "+(V.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+cssValue(V.x)+", "+cssValue(V.y)+")",willChange:"transform",top:cssValue(-E),left:cssValue(-E),width:cssValue(E*2),height:cssValue(E*2),position:"absolute",overflow:"visible"}},F&&h$1("use",Object.assign({xlinkHref:resolveSvgUrl(F)},V.props)),!F&&h$1("circle",{cx:R,cy:U,r:E,fill:"none","stroke-width":2,stroke:"#000"}),!F&&h$1("circle",{cx:R,cy:U,r:E-2,fill:V.fill,"stroke-width":2,stroke:"#fff"}))}IroHandle.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}};function IroSlider(V){var E=V.activeIndex,F=E!==void 0&&E<V.colors.length?V.colors[E]:V.color,R=getSliderDimensions(V),U=R.width,W=R.height,Y=R.radius,G=getSliderHandlePosition(V,F),X=getSliderGradient(V,F);function K(Z,J,Q){var ee=getSliderValueFromInput(V,Z,J);V.parent.inputActive=!0,F[V.sliderType]=ee,V.onInput(Q,V.id)}return h$1(IroComponentWrapper,Object.assign({},V,{onInput:K}),function(Z,J,Q){return h$1("div",Object.assign({},J,{className:"IroSlider",style:Object.assign({},{position:"relative",width:cssValue(U),height:cssValue(W),borderRadius:cssValue(Y),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},Q)}),h$1("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:cssValue(Y),background:cssGradient("linear",V.layoutDirection==="horizontal"?"to top":"to right",X)},cssBorderStyles(V))}),h$1(IroHandle,{isActive:!0,index:F.index,r:V.handleRadius,url:V.handleSvg,props:V.handleProps,x:G.x,y:G.y}))})}IroSlider.defaultProps=Object.assign({},sliderDefaultOptions);function IroBox(V){var E=getBoxDimensions(V),F=E.width,R=E.height,U=E.radius,W=V.colors,Y=V.parent,G=V.activeIndex,X=G!==void 0&&G<V.colors.length?V.colors[G]:V.color,K=getBoxGradients(V,X),Z=W.map(function(Q){return getBoxHandlePosition(V,Q)});function J(Q,ee,te){if(te===0){var ie=getHandleAtPoint(V,Q,ee,Z);ie!==null?Y.setActiveColor(ie):(Y.inputActive=!0,X.hsv=getBoxValueFromInput(V,Q,ee),V.onInput(te,V.id))}else te===1&&(Y.inputActive=!0,X.hsv=getBoxValueFromInput(V,Q,ee));V.onInput(te,V.id)}return h$1(IroComponentWrapper,Object.assign({},V,{onInput:J}),function(Q,ee,te){return h$1("div",Object.assign({},ee,{className:"IroBox",style:Object.assign({},{width:cssValue(F),height:cssValue(R),position:"relative"},te)}),h$1("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:cssValue(U)},cssBorderStyles(V),{background:cssGradient("linear","to bottom",K[1])+","+cssGradient("linear","to right",K[0])})}),W.filter(function(ie){return ie!==X}).map(function(ie){return h$1(IroHandle,{isActive:!1,index:ie.index,fill:ie.hslString,r:V.handleRadius,url:V.handleSvg,props:V.handleProps,x:Z[ie.index].x,y:Z[ie.index].y})}),h$1(IroHandle,{isActive:!0,index:X.index,fill:X.hslString,r:V.activeHandleRadius||V.handleRadius,url:V.handleSvg,props:V.handleProps,x:Z[X.index].x,y:Z[X.index].y}))})}var HUE_GRADIENT_CLOCKWISE="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",HUE_GRADIENT_ANTICLOCKWISE="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function IroWheel(V){var E=getWheelDimensions(V),F=E.width,R=V.colors;V.borderWidth;var U=V.parent,W=V.color,Y=W.hsv,G=R.map(function(Z){return getWheelHandlePosition(V,Z)}),X={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function K(Z,J,Q){if(Q===0){if(!isInputInsideWheel(V,Z,J))return!1;var ee=getHandleAtPoint(V,Z,J,G);ee!==null?U.setActiveColor(ee):(U.inputActive=!0,W.hsv=getWheelValueFromInput(V,Z,J),V.onInput(Q,V.id))}else Q===1&&(U.inputActive=!0,W.hsv=getWheelValueFromInput(V,Z,J));V.onInput(Q,V.id)}return h$1(IroComponentWrapper,Object.assign({},V,{onInput:K}),function(Z,J,Q){return h$1("div",Object.assign({},J,{className:"IroWheel",style:Object.assign({},{width:cssValue(F),height:cssValue(F),position:"relative"},Q)}),h$1("div",{className:"IroWheelHue",style:Object.assign({},X,{transform:"rotateZ("+(V.wheelAngle+90)+"deg)",background:V.wheelDirection==="clockwise"?HUE_GRADIENT_CLOCKWISE:HUE_GRADIENT_ANTICLOCKWISE})}),h$1("div",{className:"IroWheelSaturation",style:Object.assign({},X,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),V.wheelLightness&&h$1("div",{className:"IroWheelLightness",style:Object.assign({},X,{background:"#000",opacity:1-Y.v/100})}),h$1("div",{className:"IroWheelBorder",style:Object.assign({},X,cssBorderStyles(V))}),R.filter(function(ee){return ee!==W}).map(function(ee){return h$1(IroHandle,{isActive:!1,index:ee.index,fill:ee.hslString,r:V.handleRadius,url:V.handleSvg,props:V.handleProps,x:G[ee.index].x,y:G[ee.index].y})}),h$1(IroHandle,{isActive:!0,index:W.index,fill:W.hslString,r:V.activeHandleRadius||V.handleRadius,url:V.handleSvg,props:V.handleProps,x:G[W.index].x,y:G[W.index].y}))})}function createWidget(V){var E=function(F,R){var U,W=document.createElement("div");I(h$1(V,Object.assign({},{ref:function(G){return U=G}},R)),W);function Y(){var G=F instanceof Element?F:document.querySelector(F);G.appendChild(U.base),U.onMount(G)}return document.readyState!=="loading"?Y():document.addEventListener("DOMContentLoaded",Y),U};return E.prototype=V.prototype,Object.assign(E,V),E.__component=V,E}var IroColorPicker=function(V){function E(F){var R=this;V.call(this,F),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=F.id;var U=F.colors.length>0?F.colors:[F.color];U.forEach(function(W){return R.addColor(W)}),this.setActiveColor(0),this.state=Object.assign({},F,{color:this.color,colors:this.colors,layout:F.layout})}return V&&(E.__proto__=V),E.prototype=Object.create(V&&V.prototype),E.prototype.constructor=E,E.prototype.addColor=function(R,U){U===void 0&&(U=this.colors.length);var W=new IroColor(R,this.onColorChange.bind(this));this.colors.splice(U,0,W),this.colors.forEach(function(Y,G){return Y.index=G}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",W)},E.prototype.removeColor=function(R){var U=this.colors.splice(R,1)[0];U.unbind(),this.colors.forEach(function(W,Y){return W.index=Y}),this.state&&this.setState({colors:this.colors}),U.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",U)},E.prototype.setActiveColor=function(R){this.color=this.colors[R],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},E.prototype.setColors=function(R,U){var W=this;U===void 0&&(U=0),this.colors.forEach(function(Y){return Y.unbind()}),this.colors=[],R.forEach(function(Y){return W.addColor(Y)}),this.setActiveColor(U),this.emit("color:setAll",this.colors)},E.prototype.on=function(R,U){var W=this,Y=this.events;(Array.isArray(R)?R:[R]).forEach(function(G){(Y[G]||(Y[G]=[])).push(U),W.deferredEvents[G]&&(W.deferredEvents[G].forEach(function(X){U.apply(null,X)}),W.deferredEvents[G]=[])})},E.prototype.off=function(R,U){var W=this;(Array.isArray(R)?R:[R]).forEach(function(Y){var G=W.events[Y];G&&G.splice(G.indexOf(U),1)})},E.prototype.emit=function(R){for(var U=this,W=[],Y=arguments.length-1;Y-- >0;)W[Y]=arguments[Y+1];var G=this.activeEvents,X=G.hasOwnProperty(R)?G[R]:!1;if(!X){G[R]=!0;var K=this.events[R]||[];K.forEach(function(Z){return Z.apply(U,W)}),G[R]=!1}},E.prototype.deferredEmit=function(R){for(var U,W=[],Y=arguments.length-1;Y-- >0;)W[Y]=arguments[Y+1];var G=this.deferredEvents;(U=this).emit.apply(U,[R].concat(W)),(G[R]||(G[R]=[])).push(W)},E.prototype.setOptions=function(R){this.setState(R)},E.prototype.resize=function(R){this.setOptions({width:R})},E.prototype.reset=function(){this.colors.forEach(function(R){return R.reset()}),this.setState({colors:this.colors})},E.prototype.onMount=function(R){this.el=R,this.deferredEmit("mount",this)},E.prototype.onColorChange=function(R,U){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",R,U)),this.emit("color:change",R,U)},E.prototype.emitInputEvent=function(R,U){R===0?this.emit("input:start",this.color,U):R===1?this.emit("input:move",this.color,U):R===2&&this.emit("input:end",this.color,U)},E.prototype.render=function(R,U){var W=this,Y=U.layout;if(!Array.isArray(Y)){switch(Y){default:Y=[{component:IroWheel},{component:IroSlider}]}U.transparency&&Y.push({component:IroSlider,options:{sliderType:"alpha"}})}return h$1("div",{class:"IroColorPicker",id:U.id,style:{display:U.display}},Y.map(function(G,X){var K=G.component,Z=G.options;return h$1(K,Object.assign({},U,Z,{ref:void 0,onInput:W.emitInputEvent.bind(W),parent:W,index:X}))}))},E}(m);IroColorPicker.defaultProps=Object.assign({},iroColorPickerOptionDefaults,{colors:[],display:"block",id:null,layout:"default",margin:null});var IroColorPickerWidget=createWidget(IroColorPicker),iro;(function(V){V.version="5.5.2",V.Color=IroColor,V.ColorPicker=IroColorPickerWidget,function(E){E.h=h$1,E.ComponentBase=IroComponentWrapper,E.Handle=IroHandle,E.Slider=IroSlider,E.Wheel=IroWheel,E.Box=IroBox}(V.ui||(V.ui={}))})(iro||(iro={}));var iro$1=iro;const ColorPicker_vue_vue_type_style_index_0_lang="",_sfc_main$$={directives:{ClickOutside},props:["value"],data(){return{showPicker:!1}},mounted(){this.colorPicker=new iro$1.ColorPicker("#c-picker",{width:200,color:this.value,borderWidth:2,borderColor:"#333",wheelLightness:!1,layout:[{component:iro$1.ui.Slider},{component:iro$1.ui.Wheel}]}).on("color:change",V=>{this.$emit("input",V.hexString)})},methods:{clickOutside(){this.showPicker=!1}}};var _sfc_render$$=function(){var E=this,F=E._self._c;return F("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:E.clickOutside,expression:"clickOutside"}],staticClass:"c-picker"},[F("div",{staticClass:"c-picker__square",class:{"c-picker__square--active":E.showPicker},style:`background-color:${E.value};`,on:{click:function(R){E.showPicker=!0}}}),F("transition",{attrs:{name:"fade"}},[F("div",{directives:[{name:"show",rawName:"v-show",value:E.showPicker,expression:"showPicker"}],staticClass:"c-picker__wheel",attrs:{id:"c-picker"}})])],1)},_sfc_staticRenderFns$$=[],__component__$$=normalizeComponent(_sfc_main$$,_sfc_render$$,_sfc_staticRenderFns$$,!1,null,null,null,null);const ColorPicker=__component__$$.exports,FontAwsomeSelector_vue_vue_type_style_index_0_lang="",icons=["fas fa-circle","fas fa-user-tie","fas fa-flag","fas fa-syringe","fas fa-child","fas fa-mask","fas fa-tools","fas fa-hard-hat","fas fa-lock","fas fa-unlock","fas fa-file","fas fa-broom","fas fa-star","fas fa-pencil-alt","fas fa-bolt","fas fa-lightbulb","fas fa-camera","fas fa-chart-bar","fas fa-book","fas fa-map-marker-alt","fas fa-anchor","fas fa-car","fas fa-balance-scale","fas fa-radiation-alt","fas fa-bug","fas fa-clock","fas fa-coffee","fas fa-home","fas fa-carrot","fas fa-briefcase","fas fa-music","fas fa-grin","fas fa-table-tennis","fas fa-phone","fas fa-paw","fas fa-seedling","fas fa-video","fas fa-store","fas fa-crown","fas fa-church","fas fa-piggy-bank","fas fa-wallet","fas fa-credit-card","fas fa-coins","fas fa-gift","fas fa-shopping-cart","fas fa-shuttle-van","fas fa-tshirt","fas fa-bell","fab fa-btc","fas fa-percent","fas fa-archive","fas fa-plane","fas fa-globe","fas fa-birthday-cake","fas fa-wifi","fas fa-server","fas fa-utensils","fas fa-glass-cheers","fas fa-hands-helping","fas fa-calendar-alt","fas fa-certificate","fas fa-ellipsis-h"],_sfc_main$_={icons,props:{value:{type:String},color:{type:String}},data(){return{open:!1}}};var _sfc_render$_=function(){var E=this,F=E._self._c;return F("div",[E.open?E._e():F("div",{staticClass:"flexbox middle space-8"},[F("div",[F("div",{staticClass:"c-icon-item",style:`color: ${E.color};`,on:{click:function(R){E.open=!0}}},[F("i",{class:E.value||E.$options.icons[0]})])]),F("div",[F("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(R){R.preventDefault(),E.open=!0}}},[E._v(E._s(E.$t("change")))])])]),F("div",{directives:[{name:"show",rawName:"v-show",value:E.open,expression:"open"}],staticClass:"c-icon-list"},E._l(E.$options.icons,function(R,U){return F("div",{key:U,staticClass:"c-icon-item",style:`color: ${E.color}`,on:{click:function(W){E.$emit("input",U===0?null:R),E.open=!1}}},[F("i",{class:R})])}),0)])},_sfc_staticRenderFns$_=[],__component__$_=normalizeComponent(_sfc_main$_,_sfc_render$_,_sfc_staticRenderFns$_,!1,null,null,null,null);const FontAwsomeSelector=__component__$_.exports,_sfc_main$Z={components:{ColorPicker,DropdownWa,FontAwsomeSelector},mixins:[updateEntityMixin,rowModificatorMixin],props:{editedItem:{type:Object},type:{type:String,validator:V=>["income","expense"].indexOf(V)!==-1}},data(){return{model:{id:null,name:"",type:"",color:"",is_profit:!1,parent_category_id:null,glyph:null}}},validations:{model:{name:{required:validators_min.exports.required},type:{required:validators_min.exports.required}}},computed:{parentsList(){return this.$store.getters["category/sortedCategories"].filter(V=>{var E;return V.parent_category_id===null&&((E=this.editedItem)==null?void 0:E.id)!==V.id&&V.type===this.model.type&&![-1,-2].includes(V.id)})},showSelectParent(){return this.editedItem?this.$store.getters["category/getChildren"](this.editedItem.id).length<1:!0}},watch:{"model.parent_category_id"(V){this.model.color=V?this.$store.getters["category/getById"](V).color:this.model.type==="income"?"#11CC22":"#EF4B35"},"model.type"(){this.isModeUpdate||(this.model.is_profit=!1)}},created(){this.type&&(this.model.type=this.type,this.model.color=this.model.type==="income"?"#11CC22":"#EF4B35")},mounted(){this.$refs.focus.focus()}};var _sfc_render$Z=function(){var E=this,F=E._self._c;return F("div",{staticClass:"dialog-body",staticStyle:{overflow:"initial"}},[F("div",{staticClass:"dialog-header"},[F("h2",[E._v(" "+E._s(E.isModeUpdate?E.$t("updateCategory"):E.$t("addCategory"))+" ")])]),F("div",{staticClass:"dialog-content"},[F("div",{staticClass:"fields"},[F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("name"))+" ")]),F("div",{staticClass:"value"},[F("input",{directives:[{name:"model",rawName:"v-model",value:E.model.name,expression:"model.name"}],ref:"focus",staticClass:"bold large",class:{"state-error":E.$v.model.name.$error},attrs:{type:"text"},domProps:{value:E.model.name},on:{keyup:function(R){return!R.type.indexOf("key")&&E._k(R.keyCode,"enter",13,R.key,"Enter")?null:E.submit("category")},input:function(R){R.target.composing||E.$set(E.model,"name",R.target.value)}}})])]),F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("type"))+" ")]),F("div",{staticClass:"value"},[F("div",{staticClass:"flexbox middle space-12"},[F("div",{staticClass:"wa-select solid"},[F("select",{directives:[{name:"model",rawName:"v-model",value:E.model.type,expression:"model.type"}],class:{"state-error":E.$v.model.type.$error},on:{change:function(R){var U=Array.prototype.filter.call(R.target.options,function(W){return W.selected}).map(function(W){var Y="_value"in W?W._value:W.value;return Y});E.$set(E.model,"type",R.target.multiple?U:U[0])}}},[F("option",{attrs:{value:"income"}},[E._v(" "+E._s(E.$t("income"))+" ")]),F("option",{attrs:{value:"expense"}},[E._v(" "+E._s(E.$t("expense"))+" ")])])]),E.model.type==="expense"?F("label",{on:{click:function(R){R.preventDefault(),E.model.is_profit=!E.model.is_profit}}},[F("span",{staticClass:"wa-checkbox"},[F("input",{attrs:{type:"checkbox"},domProps:{checked:E.model.is_profit}}),E._m(0)]),E._v(" "+E._s(E.$t("profit"))+" "),E._m(1)]):E._e()]),E.model.type==="income"?F("div",{staticClass:"custom-mt-8"},[F("div",{staticClass:"hint"},[E._v(" "+E._s(E.$t("incomeCategoryExplained"))+" ")])]):E._e(),E.model.type==="expense"&&!E.model.is_profit?F("div",{staticClass:"custom-mt-8"},[F("div",{staticClass:"hint"},[E._v(" "+E._s(E.$t("expenseCategoryExplained"))+" ")])]):E._e(),E.model.is_profit?F("div",{staticClass:"custom-mt-8"},[F("div",{staticClass:"hint"},[E._v(" "+E._s(E.$t("profitCategoryExplained"))+" ")])]):E._e()])]),E.showSelectParent?F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("parentCategory"))+" ")]),F("div",{staticClass:"value"},[F("DropdownWa",{staticClass:"width-100",attrs:{items:E.parentsList,"value-prop-name":"id","row-modificator":E.$_rowModificatorMixin_rowModificator_category,"max-height":200},model:{value:E.model.parent_category_id,callback:function(R){E.$set(E.model,"parent_category_id",R)},expression:"model.parent_category_id"}})],1)]):E._e(),E.model.parent_category_id?E._e():F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("color"))+" ")]),F("div",{staticClass:"value"},[F("ColorPicker",{model:{value:E.model.color,callback:function(R){E.$set(E.model,"color",R)},expression:"model.color"}})],1)]),F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("icon"))+" ")]),F("div",{staticClass:"value"},[F("FontAwsomeSelector",{attrs:{color:E.model.color},model:{value:E.model.glyph,callback:function(R){E.$set(E.model,"glyph",R)},expression:"model.glyph"}})],1)])])]),F("div",{staticClass:"dialog-footer"},[F("div",{staticClass:"flexbox"},[F("div",{staticClass:"flexbox space-12 wide"},[F("button",{staticClass:"button purple",attrs:{disabled:E.controlsDisabled},on:{click:function(R){return E.submit("category")}}},[E._v(" "+E._s(E.isModeUpdate?E.$t("update"):E.$t("add"))+" ")]),F("button",{staticClass:"button light-gray",on:{click:E.close}},[E._v(" "+E._s(E.$t("cancel"))+" ")])]),E.isModeUpdate?F("button",{staticClass:"button outlined red",attrs:{disabled:E.controlsDisabled},on:{click:function(R){return E.remove("category")}}},[F("span",[E._v(E._s(E.$t("delete")))])]):E._e()])])])},_sfc_staticRenderFns$Z=[function(){var V=this,E=V._self._c;return E("span",[E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-check"})])])},function(){var V=this,E=V._self._c;return E("span",{staticClass:"text-blue"},[E("i",{staticClass:"fas fa-coins"})])}],__component__$Z=normalizeComponent(_sfc_main$Z,_sfc_render$Z,_sfc_staticRenderFns$Z,!1,null,null,null,null);const AddCategory=__component__$Z.exports,_sfc_main$Y={components:{Modal:Modal$1,Account:AddAccount,Category:AddCategory},data(){return{open:!1,currentComponentInModal:"",item:null}},created(){this.addEmitterHandlers()},methods:{update(V,E){this.open=!0,this.currentComponentInModal=V,this.item=E},close(){window.emitter.emit("closeDialog")},addEmitterHandlers(){window.emitter.on("openDialog",V=>{const[E="Category",F=null]=Array.isArray(V)?V:[V];["Account","Category"].includes(E)&&typeof F=="object"&&this.update(E,F)}),window.emitter.on("multiSelectEnabled",V=>{this.$store.commit("setMultiSelectMode",V),V||this.$store.commit("transactionBulk/emptySelectedTransactionsIds")})}}};var _sfc_render$Y=function(){var E=this,F=E._self._c;return F("div",{staticClass:"c-mobile-build",attrs:{id:"wa-app"}},[E.$IsOnline.online?E._e():F("div",[F("span",{staticClass:"alert danger custom-mb-0",staticStyle:{"border-radius":"0"}},[E._v(E._s(E.$t("offlineMessage")))])]),F("div",{staticClass:"content blank",staticStyle:{display:"flex","flex-direction":"column","min-height":"100vh"}},[F("router-view")],1),E.open?F("Modal",{on:{close:E.close}},[F(E.currentComponentInModal,{tag:"component",attrs:{"edited-item":E.item}})],1):E._e()],1)},_sfc_staticRenderFns$Y=[],__component__$Y=normalizeComponent(_sfc_main$Y,_sfc_render$Y,_sfc_staticRenderFns$Y,!1,null,null,null,null);const App=__component__$Y.exports;/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function extend$1(V,E){for(var F in E)V[F]=E[F];return V}var encodeReserveRE=/[!'()*]/g,encodeReserveReplacer=function(V){return"%"+V.charCodeAt(0).toString(16)},commaRE=/%2C/g,encode$2=function(V){return encodeURIComponent(V).replace(encodeReserveRE,encodeReserveReplacer).replace(commaRE,",")};function decode(V){try{return decodeURIComponent(V)}catch{}return V}function resolveQuery(V,E,F){E===void 0&&(E={});var R=F||parseQuery,U;try{U=R(V||"")}catch{U={}}for(var W in E){var Y=E[W];U[W]=Array.isArray(Y)?Y.map(castQueryParamValue):castQueryParamValue(Y)}return U}var castQueryParamValue=function(V){return V==null||typeof V=="object"?V:String(V)};function parseQuery(V){var E={};return V=V.trim().replace(/^(\?|#|&)/,""),V&&V.split("&").forEach(function(F){var R=F.replace(/\+/g," ").split("="),U=decode(R.shift()),W=R.length>0?decode(R.join("=")):null;E[U]===void 0?E[U]=W:Array.isArray(E[U])?E[U].push(W):E[U]=[E[U],W]}),E}function stringifyQuery(V){var E=V?Object.keys(V).map(function(F){var R=V[F];if(R===void 0)return"";if(R===null)return encode$2(F);if(Array.isArray(R)){var U=[];return R.forEach(function(W){W!==void 0&&(W===null?U.push(encode$2(F)):U.push(encode$2(F)+"="+encode$2(W)))}),U.join("&")}return encode$2(F)+"="+encode$2(R)}).filter(function(F){return F.length>0}).join("&"):null;return E?"?"+E:""}var trailingSlashRE=/\/?$/;function createRoute(V,E,F,R){var U=R&&R.options.stringifyQuery,W=E.query||{};try{W=clone$1(W)}catch{}var Y={name:E.name||V&&V.name,meta:V&&V.meta||{},path:E.path||"/",hash:E.hash||"",query:W,params:E.params||{},fullPath:getFullPath(E,U),matched:V?formatMatch(V):[]};return F&&(Y.redirectedFrom=getFullPath(F,U)),Object.freeze(Y)}function clone$1(V){if(Array.isArray(V))return V.map(clone$1);if(V&&typeof V=="object"){var E={};for(var F in V)E[F]=clone$1(V[F]);return E}else return V}var START=createRoute(null,{path:"/"});function formatMatch(V){for(var E=[];V;)E.unshift(V),V=V.parent;return E}function getFullPath(V,E){var F=V.path,R=V.query;R===void 0&&(R={});var U=V.hash;U===void 0&&(U="");var W=E||stringifyQuery;return(F||"/")+W(R)+U}function isSameRoute(V,E,F){return E===START?V===E:E?V.path&&E.path?V.path.replace(trailingSlashRE,"")===E.path.replace(trailingSlashRE,"")&&(F||V.hash===E.hash&&isObjectEqual(V.query,E.query)):V.name&&E.name?V.name===E.name&&(F||V.hash===E.hash&&isObjectEqual(V.query,E.query)&&isObjectEqual(V.params,E.params)):!1:!1}function isObjectEqual(V,E){if(V===void 0&&(V={}),E===void 0&&(E={}),!V||!E)return V===E;var F=Object.keys(V).sort(),R=Object.keys(E).sort();return F.length!==R.length?!1:F.every(function(U,W){var Y=V[U],G=R[W];if(G!==U)return!1;var X=E[U];return Y==null||X==null?Y===X:typeof Y=="object"&&typeof X=="object"?isObjectEqual(Y,X):String(Y)===String(X)})}function isIncludedRoute(V,E){return V.path.replace(trailingSlashRE,"/").indexOf(E.path.replace(trailingSlashRE,"/"))===0&&(!E.hash||V.hash===E.hash)&&queryIncludes(V.query,E.query)}function queryIncludes(V,E){for(var F in E)if(!(F in V))return!1;return!0}function handleRouteEntered(V){for(var E=0;E<V.matched.length;E++){var F=V.matched[E];for(var R in F.instances){var U=F.instances[R],W=F.enteredCbs[R];if(!(!U||!W)){delete F.enteredCbs[R];for(var Y=0;Y<W.length;Y++)U._isBeingDestroyed||W[Y](U)}}}}var View={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(E,F){var R=F.props,U=F.children,W=F.parent,Y=F.data;Y.routerView=!0;for(var G=W.$createElement,X=R.name,K=W.$route,Z=W._routerViewCache||(W._routerViewCache={}),J=0,Q=!1;W&&W._routerRoot!==W;){var ee=W.$vnode?W.$vnode.data:{};ee.routerView&&J++,ee.keepAlive&&W._directInactive&&W._inactive&&(Q=!0),W=W.$parent}if(Y.routerViewDepth=J,Q){var te=Z[X],ie=te&&te.component;return ie?(te.configProps&&fillPropsinData(ie,Y,te.route,te.configProps),G(ie,Y,U)):G()}var re=K.matched[J],ne=re&&re.components[X];if(!re||!ne)return Z[X]=null,G();Z[X]={component:ne},Y.registerRouteInstance=function(se,le){var oe=re.instances[X];(le&&oe!==se||!le&&oe===se)&&(re.instances[X]=le)},(Y.hook||(Y.hook={})).prepatch=function(se,le){re.instances[X]=le.componentInstance},Y.hook.init=function(se){se.data.keepAlive&&se.componentInstance&&se.componentInstance!==re.instances[X]&&(re.instances[X]=se.componentInstance),handleRouteEntered(K)};var ae=re.props&&re.props[X];return ae&&(extend$1(Z[X],{route:K,configProps:ae}),fillPropsinData(ne,Y,K,ae)),G(ne,Y,U)}};function fillPropsinData(V,E,F,R){var U=E.props=resolveProps(F,R);if(U){U=E.props=extend$1({},U);var W=E.attrs=E.attrs||{};for(var Y in U)(!V.props||!(Y in V.props))&&(W[Y]=U[Y],delete U[Y])}}function resolveProps(V,E){switch(typeof E){case"undefined":return;case"object":return E;case"function":return E(V);case"boolean":return E?V.params:void 0}}function resolvePath(V,E,F){var R=V.charAt(0);if(R==="/")return V;if(R==="?"||R==="#")return E+V;var U=E.split("/");(!F||!U[U.length-1])&&U.pop();for(var W=V.replace(/^\//,"").split("/"),Y=0;Y<W.length;Y++){var G=W[Y];G===".."?U.pop():G!=="."&&U.push(G)}return U[0]!==""&&U.unshift(""),U.join("/")}function parsePath(V){var E="",F="",R=V.indexOf("#");R>=0&&(E=V.slice(R),V=V.slice(0,R));var U=V.indexOf("?");return U>=0&&(F=V.slice(U+1),V=V.slice(0,U)),{path:V,query:F,hash:E}}function cleanPath(V){return V.replace(/\/(?:\s*\/)+/g,"/")}var isarray=Array.isArray||function(V){return Object.prototype.toString.call(V)=="[object Array]"},pathToRegexp_1=pathToRegexp,parse_1=parse,compile_1=compile,tokensToFunction_1=tokensToFunction,tokensToRegExp_1=tokensToRegExp,PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(V,E){for(var F=[],R=0,U=0,W="",Y=E&&E.delimiter||"/",G;(G=PATH_REGEXP.exec(V))!=null;){var X=G[0],K=G[1],Z=G.index;if(W+=V.slice(U,Z),U=Z+X.length,K){W+=K[1];continue}var J=V[U],Q=G[2],ee=G[3],te=G[4],ie=G[5],re=G[6],ne=G[7];W&&(F.push(W),W="");var ae=Q!=null&&J!=null&&J!==Q,se=re==="+"||re==="*",le=re==="?"||re==="*",oe=G[2]||Y,ue=te||ie;F.push({name:ee||R++,prefix:Q||"",delimiter:oe,optional:le,repeat:se,partial:ae,asterisk:!!ne,pattern:ue?escapeGroup(ue):ne?".*":"[^"+escapeString(oe)+"]+?"})}return U<V.length&&(W+=V.substr(U)),W&&F.push(W),F}function compile(V,E){return tokensToFunction(parse(V,E),E)}function encodeURIComponentPretty(V){return encodeURI(V).replace(/[\/?#]/g,function(E){return"%"+E.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(V){return encodeURI(V).replace(/[?#]/g,function(E){return"%"+E.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(V,E){for(var F=new Array(V.length),R=0;R<V.length;R++)typeof V[R]=="object"&&(F[R]=new RegExp("^(?:"+V[R].pattern+")$",flags(E)));return function(U,W){for(var Y="",G=U||{},X=W||{},K=X.pretty?encodeURIComponentPretty:encodeURIComponent,Z=0;Z<V.length;Z++){var J=V[Z];if(typeof J=="string"){Y+=J;continue}var Q=G[J.name],ee;if(Q==null)if(J.optional){J.partial&&(Y+=J.prefix);continue}else throw new TypeError('Expected "'+J.name+'" to be defined');if(isarray(Q)){if(!J.repeat)throw new TypeError('Expected "'+J.name+'" to not repeat, but received `'+JSON.stringify(Q)+"`");if(Q.length===0){if(J.optional)continue;throw new TypeError('Expected "'+J.name+'" to not be empty')}for(var te=0;te<Q.length;te++){if(ee=K(Q[te]),!F[Z].test(ee))throw new TypeError('Expected all "'+J.name+'" to match "'+J.pattern+'", but received `'+JSON.stringify(ee)+"`");Y+=(te===0?J.prefix:J.delimiter)+ee}continue}if(ee=J.asterisk?encodeAsterisk(Q):K(Q),!F[Z].test(ee))throw new TypeError('Expected "'+J.name+'" to match "'+J.pattern+'", but received "'+ee+'"');Y+=J.prefix+ee}return Y}}function escapeString(V){return V.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(V){return V.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(V,E){return V.keys=E,V}function flags(V){return V&&V.sensitive?"":"i"}function regexpToRegexp(V,E){var F=V.source.match(/\((?!\?)/g);if(F)for(var R=0;R<F.length;R++)E.push({name:R,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(V,E)}function arrayToRegexp(V,E,F){for(var R=[],U=0;U<V.length;U++)R.push(pathToRegexp(V[U],E,F).source);var W=new RegExp("(?:"+R.join("|")+")",flags(F));return attachKeys(W,E)}function stringToRegexp(V,E,F){return tokensToRegExp(parse(V,F),E,F)}function tokensToRegExp(V,E,F){isarray(E)||(F=E||F,E=[]),F=F||{};for(var R=F.strict,U=F.end!==!1,W="",Y=0;Y<V.length;Y++){var G=V[Y];if(typeof G=="string")W+=escapeString(G);else{var X=escapeString(G.prefix),K="(?:"+G.pattern+")";E.push(G),G.repeat&&(K+="(?:"+X+K+")*"),G.optional?G.partial?K=X+"("+K+")?":K="(?:"+X+"("+K+"))?":K=X+"("+K+")",W+=K}}var Z=escapeString(F.delimiter||"/"),J=W.slice(-Z.length)===Z;return R||(W=(J?W.slice(0,-Z.length):W)+"(?:"+Z+"(?=$))?"),U?W+="$":W+=R&&J?"":"(?="+Z+"|$)",attachKeys(new RegExp("^"+W,flags(F)),E)}function pathToRegexp(V,E,F){return isarray(E)||(F=E||F,E=[]),F=F||{},V instanceof RegExp?regexpToRegexp(V,E):isarray(V)?arrayToRegexp(V,E,F):stringToRegexp(V,E,F)}pathToRegexp_1.parse=parse_1;pathToRegexp_1.compile=compile_1;pathToRegexp_1.tokensToFunction=tokensToFunction_1;pathToRegexp_1.tokensToRegExp=tokensToRegExp_1;var regexpCompileCache=Object.create(null);function fillParams(V,E,F){E=E||{};try{var R=regexpCompileCache[V]||(regexpCompileCache[V]=pathToRegexp_1.compile(V));return typeof E.pathMatch=="string"&&(E[0]=E.pathMatch),R(E,{pretty:!0})}catch{return""}finally{delete E[0]}}function normalizeLocation(V,E,F,R){var U=typeof V=="string"?{path:V}:V;if(U._normalized)return U;if(U.name){U=extend$1({},V);var W=U.params;return W&&typeof W=="object"&&(U.params=extend$1({},W)),U}if(!U.path&&U.params&&E){U=extend$1({},U),U._normalized=!0;var Y=extend$1(extend$1({},E.params),U.params);if(E.name)U.name=E.name,U.params=Y;else if(E.matched.length){var G=E.matched[E.matched.length-1].path;U.path=fillParams(G,Y,"path "+E.path)}return U}var X=parsePath(U.path||""),K=E&&E.path||"/",Z=X.path?resolvePath(X.path,K,F||U.append):K,J=resolveQuery(X.query,U.query,R&&R.options.parseQuery),Q=U.hash||X.hash;return Q&&Q.charAt(0)!=="#"&&(Q="#"+Q),{_normalized:!0,path:Z,query:J,hash:Q}}var toTypes=[String,Object],eventTypes=[String,Array],noop$2=function(){},Link={name:"RouterLink",props:{to:{type:toTypes,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:eventTypes,default:"click"}},render:function(E){var F=this,R=this.$router,U=this.$route,W=R.resolve(this.to,U,this.append),Y=W.location,G=W.route,X=W.href,K={},Z=R.options.linkActiveClass,J=R.options.linkExactActiveClass,Q=Z==null?"router-link-active":Z,ee=J==null?"router-link-exact-active":J,te=this.activeClass==null?Q:this.activeClass,ie=this.exactActiveClass==null?ee:this.exactActiveClass,re=G.redirectedFrom?createRoute(null,normalizeLocation(G.redirectedFrom),null,R):G;K[ie]=isSameRoute(U,re,this.exactPath),K[te]=this.exact||this.exactPath?K[ie]:isIncludedRoute(U,re);var ne=K[ie]?this.ariaCurrentValue:null,ae=function(fe){guardEvent(fe)&&(F.replace?R.replace(Y,noop$2):R.push(Y,noop$2))},se={click:guardEvent};Array.isArray(this.event)?this.event.forEach(function(fe){se[fe]=ae}):se[this.event]=ae;var le={class:K},oe=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:X,route:G,navigate:ae,isActive:K[te],isExactActive:K[ie]});if(oe){if(oe.length===1)return oe[0];if(oe.length>1||!oe.length)return oe.length===0?E():E("span",{},oe)}if(this.tag==="a")le.on=se,le.attrs={href:X,"aria-current":ne};else{var ue=findAnchor(this.$slots.default);if(ue){ue.isStatic=!1;var ce=ue.data=extend$1({},ue.data);ce.on=ce.on||{};for(var he in ce.on){var me=ce.on[he];he in se&&(ce.on[he]=Array.isArray(me)?me:[me])}for(var Pe in se)Pe in ce.on?ce.on[Pe].push(se[Pe]):ce.on[Pe]=ae;var we=ue.data.attrs=extend$1({},ue.data.attrs);we.href=X,we["aria-current"]=ne}else le.on=se}return E(this.tag,le,this.$slots.default)}};function guardEvent(V){if(!(V.metaKey||V.altKey||V.ctrlKey||V.shiftKey)&&!V.defaultPrevented&&!(V.button!==void 0&&V.button!==0)){if(V.currentTarget&&V.currentTarget.getAttribute){var E=V.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(E))return}return V.preventDefault&&V.preventDefault(),!0}}function findAnchor(V){if(V){for(var E,F=0;F<V.length;F++)if(E=V[F],E.tag==="a"||E.children&&(E=findAnchor(E.children)))return E}}var _Vue;function install$3(V){if(!(install$3.installed&&_Vue===V)){install$3.installed=!0,_Vue=V;var E=function(U){return U!==void 0},F=function(U,W){var Y=U.$options._parentVnode;E(Y)&&E(Y=Y.data)&&E(Y=Y.registerRouteInstance)&&Y(U,W)};V.mixin({beforeCreate:function(){E(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),V.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,F(this,this)},destroyed:function(){F(this)}}),Object.defineProperty(V.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(V.prototype,"$route",{get:function(){return this._routerRoot._route}}),V.component("RouterView",View),V.component("RouterLink",Link);var R=V.config.optionMergeStrategies;R.beforeRouteEnter=R.beforeRouteLeave=R.beforeRouteUpdate=R.created}}var inBrowser=typeof window<"u";function createRouteMap(V,E,F,R,U){var W=E||[],Y=F||Object.create(null),G=R||Object.create(null);V.forEach(function(Z){addRouteRecord(W,Y,G,Z,U)});for(var X=0,K=W.length;X<K;X++)W[X]==="*"&&(W.push(W.splice(X,1)[0]),K--,X--);return{pathList:W,pathMap:Y,nameMap:G}}function addRouteRecord(V,E,F,R,U,W){var Y=R.path,G=R.name,X=R.pathToRegexpOptions||{},K=normalizePath(Y,U,X.strict);typeof R.caseSensitive=="boolean"&&(X.sensitive=R.caseSensitive);var Z={path:K,regex:compileRouteRegex(K,X),components:R.components||{default:R.component},alias:R.alias?typeof R.alias=="string"?[R.alias]:R.alias:[],instances:{},enteredCbs:{},name:G,parent:U,matchAs:W,redirect:R.redirect,beforeEnter:R.beforeEnter,meta:R.meta||{},props:R.props==null?{}:R.components?R.props:{default:R.props}};if(R.children&&R.children.forEach(function(ie){var re=W?cleanPath(W+"/"+ie.path):void 0;addRouteRecord(V,E,F,ie,Z,re)}),E[Z.path]||(V.push(Z.path),E[Z.path]=Z),R.alias!==void 0)for(var J=Array.isArray(R.alias)?R.alias:[R.alias],Q=0;Q<J.length;++Q){var ee=J[Q],te={path:ee,children:R.children};addRouteRecord(V,E,F,te,U,Z.path||"/")}G&&(F[G]||(F[G]=Z))}function compileRouteRegex(V,E){var F=pathToRegexp_1(V,[],E);return F}function normalizePath(V,E,F){return F||(V=V.replace(/\/$/,"")),V[0]==="/"||E==null?V:cleanPath(E.path+"/"+V)}function createMatcher(V,E){var F=createRouteMap(V),R=F.pathList,U=F.pathMap,W=F.nameMap;function Y(ee){createRouteMap(ee,R,U,W)}function G(ee,te){var ie=typeof ee!="object"?W[ee]:void 0;createRouteMap([te||ee],R,U,W,ie),ie&&ie.alias.length&&createRouteMap(ie.alias.map(function(re){return{path:re,children:[te]}}),R,U,W,ie)}function X(){return R.map(function(ee){return U[ee]})}function K(ee,te,ie){var re=normalizeLocation(ee,te,!1,E),ne=re.name;if(ne){var ae=W[ne];if(!ae)return Q(null,re);var se=ae.regex.keys.filter(function(he){return!he.optional}).map(function(he){return he.name});if(typeof re.params!="object"&&(re.params={}),te&&typeof te.params=="object")for(var le in te.params)!(le in re.params)&&se.indexOf(le)>-1&&(re.params[le]=te.params[le]);return re.path=fillParams(ae.path,re.params),Q(ae,re,ie)}else if(re.path){re.params={};for(var oe=0;oe<R.length;oe++){var ue=R[oe],ce=U[ue];if(matchRoute(ce.regex,re.path,re.params))return Q(ce,re,ie)}}return Q(null,re)}function Z(ee,te){var ie=ee.redirect,re=typeof ie=="function"?ie(createRoute(ee,te,null,E)):ie;if(typeof re=="string"&&(re={path:re}),!re||typeof re!="object")return Q(null,te);var ne=re,ae=ne.name,se=ne.path,le=te.query,oe=te.hash,ue=te.params;if(le=ne.hasOwnProperty("query")?ne.query:le,oe=ne.hasOwnProperty("hash")?ne.hash:oe,ue=ne.hasOwnProperty("params")?ne.params:ue,ae)return W[ae],K({_normalized:!0,name:ae,query:le,hash:oe,params:ue},void 0,te);if(se){var ce=resolveRecordPath(se,ee),he=fillParams(ce,ue);return K({_normalized:!0,path:he,query:le,hash:oe},void 0,te)}else return Q(null,te)}function J(ee,te,ie){var re=fillParams(ie,te.params),ne=K({_normalized:!0,path:re});if(ne){var ae=ne.matched,se=ae[ae.length-1];return te.params=ne.params,Q(se,te)}return Q(null,te)}function Q(ee,te,ie){return ee&&ee.redirect?Z(ee,ie||te):ee&&ee.matchAs?J(ee,te,ee.matchAs):createRoute(ee,te,ie,E)}return{match:K,addRoute:G,getRoutes:X,addRoutes:Y}}function matchRoute(V,E,F){var R=E.match(V);if(R){if(!F)return!0}else return!1;for(var U=1,W=R.length;U<W;++U){var Y=V.keys[U-1];Y&&(F[Y.name||"pathMatch"]=typeof R[U]=="string"?decode(R[U]):R[U])}return!0}function resolveRecordPath(V,E){return resolvePath(V,E.parent?E.parent.path:"/",!0)}var Time=inBrowser&&window.performance&&window.performance.now?window.performance:Date;function genStateKey(){return Time.now().toFixed(3)}var _key=genStateKey();function getStateKey(){return _key}function setStateKey(V){return _key=V}var positionStore=Object.create(null);function setupScroll(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var V=window.location.protocol+"//"+window.location.host,E=window.location.href.replace(V,""),F=extend$1({},window.history.state);return F.key=getStateKey(),window.history.replaceState(F,"",E),window.addEventListener("popstate",handlePopState),function(){window.removeEventListener("popstate",handlePopState)}}function handleScroll(V,E,F,R){if(!!V.app){var U=V.options.scrollBehavior;!U||V.app.$nextTick(function(){var W=getScrollPosition(),Y=U.call(V,E,F,R?W:null);!Y||(typeof Y.then=="function"?Y.then(function(G){scrollToPosition(G,W)}).catch(function(G){}):scrollToPosition(Y,W))})}}function saveScrollPosition(){var V=getStateKey();V&&(positionStore[V]={x:window.pageXOffset,y:window.pageYOffset})}function handlePopState(V){saveScrollPosition(),V.state&&V.state.key&&setStateKey(V.state.key)}function getScrollPosition(){var V=getStateKey();if(V)return positionStore[V]}function getElementPosition(V,E){var F=document.documentElement,R=F.getBoundingClientRect(),U=V.getBoundingClientRect();return{x:U.left-R.left-E.x,y:U.top-R.top-E.y}}function isValidPosition(V){return isNumber$2(V.x)||isNumber$2(V.y)}function normalizePosition(V){return{x:isNumber$2(V.x)?V.x:window.pageXOffset,y:isNumber$2(V.y)?V.y:window.pageYOffset}}function normalizeOffset(V){return{x:isNumber$2(V.x)?V.x:0,y:isNumber$2(V.y)?V.y:0}}function isNumber$2(V){return typeof V=="number"}var hashStartsWithNumberRE=/^#\d/;function scrollToPosition(V,E){var F=typeof V=="object";if(F&&typeof V.selector=="string"){var R=hashStartsWithNumberRE.test(V.selector)?document.getElementById(V.selector.slice(1)):document.querySelector(V.selector);if(R){var U=V.offset&&typeof V.offset=="object"?V.offset:{};U=normalizeOffset(U),E=getElementPosition(R,U)}else isValidPosition(V)&&(E=normalizePosition(V))}else F&&isValidPosition(V)&&(E=normalizePosition(V));E&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:E.x,top:E.y,behavior:V.behavior}):window.scrollTo(E.x,E.y))}var supportsPushState=inBrowser&&function(){var V=window.navigator.userAgent;return(V.indexOf("Android 2.")!==-1||V.indexOf("Android 4.0")!==-1)&&V.indexOf("Mobile Safari")!==-1&&V.indexOf("Chrome")===-1&&V.indexOf("Windows Phone")===-1?!1:window.history&&typeof window.history.pushState=="function"}();function pushState(V,E){saveScrollPosition();var F=window.history;try{if(E){var R=extend$1({},F.state);R.key=getStateKey(),F.replaceState(R,"",V)}else F.pushState({key:setStateKey(genStateKey())},"",V)}catch{window.location[E?"replace":"assign"](V)}}function replaceState(V){pushState(V,!0)}var NavigationFailureType={redirected:2,aborted:4,cancelled:8,duplicated:16};function createNavigationRedirectedError(V,E){return createRouterError(V,E,NavigationFailureType.redirected,'Redirected when going from "'+V.fullPath+'" to "'+stringifyRoute(E)+'" via a navigation guard.')}function createNavigationDuplicatedError(V,E){var F=createRouterError(V,E,NavigationFailureType.duplicated,'Avoided redundant navigation to current location: "'+V.fullPath+'".');return F.name="NavigationDuplicated",F}function createNavigationCancelledError(V,E){return createRouterError(V,E,NavigationFailureType.cancelled,'Navigation cancelled from "'+V.fullPath+'" to "'+E.fullPath+'" with a new navigation.')}function createNavigationAbortedError(V,E){return createRouterError(V,E,NavigationFailureType.aborted,'Navigation aborted from "'+V.fullPath+'" to "'+E.fullPath+'" via a navigation guard.')}function createRouterError(V,E,F,R){var U=new Error(R);return U._isRouter=!0,U.from=V,U.to=E,U.type=F,U}var propertiesToLog=["params","query","hash"];function stringifyRoute(V){if(typeof V=="string")return V;if("path"in V)return V.path;var E={};return propertiesToLog.forEach(function(F){F in V&&(E[F]=V[F])}),JSON.stringify(E,null,2)}function isError(V){return Object.prototype.toString.call(V).indexOf("Error")>-1}function isNavigationFailure(V,E){return isError(V)&&V._isRouter&&(E==null||V.type===E)}function runQueue(V,E,F){var R=function(U){U>=V.length?F():V[U]?E(V[U],function(){R(U+1)}):R(U+1)};R(0)}function resolveAsyncComponents(V){return function(E,F,R){var U=!1,W=0,Y=null;flatMapComponents(V,function(G,X,K,Z){if(typeof G=="function"&&G.cid===void 0){U=!0,W++;var J=once(function(ie){isESModule(ie)&&(ie=ie.default),G.resolved=typeof ie=="function"?ie:_Vue.extend(ie),K.components[Z]=ie,W--,W<=0&&R()}),Q=once(function(ie){var re="Failed to resolve async component "+Z+": "+ie;Y||(Y=isError(ie)?ie:new Error(re),R(Y))}),ee;try{ee=G(J,Q)}catch(ie){Q(ie)}if(ee)if(typeof ee.then=="function")ee.then(J,Q);else{var te=ee.component;te&&typeof te.then=="function"&&te.then(J,Q)}}}),U||R()}}function flatMapComponents(V,E){return flatten$1(V.map(function(F){return Object.keys(F.components).map(function(R){return E(F.components[R],F.instances[R],F,R)})}))}function flatten$1(V){return Array.prototype.concat.apply([],V)}var hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";function isESModule(V){return V.__esModule||hasSymbol&&V[Symbol.toStringTag]==="Module"}function once(V){var E=!1;return function(){for(var F=[],R=arguments.length;R--;)F[R]=arguments[R];if(!E)return E=!0,V.apply(this,F)}}var History$1=function(E,F){this.router=E,this.base=normalizeBase(F),this.current=START,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};History$1.prototype.listen=function(E){this.cb=E};History$1.prototype.onReady=function(E,F){this.ready?E():(this.readyCbs.push(E),F&&this.readyErrorCbs.push(F))};History$1.prototype.onError=function(E){this.errorCbs.push(E)};History$1.prototype.transitionTo=function(E,F,R){var U=this,W;try{W=this.router.match(E,this.current)}catch(G){throw this.errorCbs.forEach(function(X){X(G)}),G}var Y=this.current;this.confirmTransition(W,function(){U.updateRoute(W),F&&F(W),U.ensureURL(),U.router.afterHooks.forEach(function(G){G&&G(W,Y)}),U.ready||(U.ready=!0,U.readyCbs.forEach(function(G){G(W)}))},function(G){R&&R(G),G&&!U.ready&&(!isNavigationFailure(G,NavigationFailureType.redirected)||Y!==START)&&(U.ready=!0,U.readyErrorCbs.forEach(function(X){X(G)}))})};History$1.prototype.confirmTransition=function(E,F,R){var U=this,W=this.current;this.pending=E;var Y=function(ie){!isNavigationFailure(ie)&&isError(ie)&&(U.errorCbs.length?U.errorCbs.forEach(function(re){re(ie)}):console.error(ie)),R&&R(ie)},G=E.matched.length-1,X=W.matched.length-1;if(isSameRoute(E,W)&&G===X&&E.matched[G]===W.matched[X])return this.ensureURL(),E.hash&&handleScroll(this.router,W,E,!1),Y(createNavigationDuplicatedError(W,E));var K=resolveQueue(this.current.matched,E.matched),Z=K.updated,J=K.deactivated,Q=K.activated,ee=[].concat(extractLeaveGuards(J),this.router.beforeHooks,extractUpdateHooks(Z),Q.map(function(ie){return ie.beforeEnter}),resolveAsyncComponents(Q)),te=function(ie,re){if(U.pending!==E)return Y(createNavigationCancelledError(W,E));try{ie(E,W,function(ne){ne===!1?(U.ensureURL(!0),Y(createNavigationAbortedError(W,E))):isError(ne)?(U.ensureURL(!0),Y(ne)):typeof ne=="string"||typeof ne=="object"&&(typeof ne.path=="string"||typeof ne.name=="string")?(Y(createNavigationRedirectedError(W,E)),typeof ne=="object"&&ne.replace?U.replace(ne):U.push(ne)):re(ne)})}catch(ne){Y(ne)}};runQueue(ee,te,function(){var ie=extractEnterGuards(Q),re=ie.concat(U.router.resolveHooks);runQueue(re,te,function(){if(U.pending!==E)return Y(createNavigationCancelledError(W,E));U.pending=null,F(E),U.router.app&&U.router.app.$nextTick(function(){handleRouteEntered(E)})})})};History$1.prototype.updateRoute=function(E){this.current=E,this.cb&&this.cb(E)};History$1.prototype.setupListeners=function(){};History$1.prototype.teardown=function(){this.listeners.forEach(function(E){E()}),this.listeners=[],this.current=START,this.pending=null};function normalizeBase(V){if(!V)if(inBrowser){var E=document.querySelector("base");V=E&&E.getAttribute("href")||"/",V=V.replace(/^https?:\/\/[^\/]+/,"")}else V="/";return V.charAt(0)!=="/"&&(V="/"+V),V.replace(/\/$/,"")}function resolveQueue(V,E){var F,R=Math.max(V.length,E.length);for(F=0;F<R&&V[F]===E[F];F++);return{updated:E.slice(0,F),activated:E.slice(F),deactivated:V.slice(F)}}function extractGuards(V,E,F,R){var U=flatMapComponents(V,function(W,Y,G,X){var K=extractGuard(W,E);if(K)return Array.isArray(K)?K.map(function(Z){return F(Z,Y,G,X)}):F(K,Y,G,X)});return flatten$1(R?U.reverse():U)}function extractGuard(V,E){return typeof V!="function"&&(V=_Vue.extend(V)),V.options[E]}function extractLeaveGuards(V){return extractGuards(V,"beforeRouteLeave",bindGuard,!0)}function extractUpdateHooks(V){return extractGuards(V,"beforeRouteUpdate",bindGuard)}function bindGuard(V,E){if(E)return function(){return V.apply(E,arguments)}}function extractEnterGuards(V){return extractGuards(V,"beforeRouteEnter",function(E,F,R,U){return bindEnterGuard(E,R,U)})}function bindEnterGuard(V,E,F){return function(U,W,Y){return V(U,W,function(G){typeof G=="function"&&(E.enteredCbs[F]||(E.enteredCbs[F]=[]),E.enteredCbs[F].push(G)),Y(G)})}}var HTML5History=function(V){function E(F,R){V.call(this,F,R),this._startLocation=getLocation(this.base)}return V&&(E.__proto__=V),E.prototype=Object.create(V&&V.prototype),E.prototype.constructor=E,E.prototype.setupListeners=function(){var R=this;if(!(this.listeners.length>0)){var U=this.router,W=U.options.scrollBehavior,Y=supportsPushState&&W;Y&&this.listeners.push(setupScroll());var G=function(){var X=R.current,K=getLocation(R.base);R.current===START&&K===R._startLocation||R.transitionTo(K,function(Z){Y&&handleScroll(U,Z,X,!0)})};window.addEventListener("popstate",G),this.listeners.push(function(){window.removeEventListener("popstate",G)})}},E.prototype.go=function(R){window.history.go(R)},E.prototype.push=function(R,U,W){var Y=this,G=this,X=G.current;this.transitionTo(R,function(K){pushState(cleanPath(Y.base+K.fullPath)),handleScroll(Y.router,K,X,!1),U&&U(K)},W)},E.prototype.replace=function(R,U,W){var Y=this,G=this,X=G.current;this.transitionTo(R,function(K){replaceState(cleanPath(Y.base+K.fullPath)),handleScroll(Y.router,K,X,!1),U&&U(K)},W)},E.prototype.ensureURL=function(R){if(getLocation(this.base)!==this.current.fullPath){var U=cleanPath(this.base+this.current.fullPath);R?pushState(U):replaceState(U)}},E.prototype.getCurrentLocation=function(){return getLocation(this.base)},E}(History$1);function getLocation(V){var E=window.location.pathname,F=E.toLowerCase(),R=V.toLowerCase();return V&&(F===R||F.indexOf(cleanPath(R+"/"))===0)&&(E=E.slice(V.length)),(E||"/")+window.location.search+window.location.hash}var HashHistory=function(V){function E(F,R,U){V.call(this,F,R),!(U&&checkFallback(this.base))&&ensureSlash()}return V&&(E.__proto__=V),E.prototype=Object.create(V&&V.prototype),E.prototype.constructor=E,E.prototype.setupListeners=function(){var R=this;if(!(this.listeners.length>0)){var U=this.router,W=U.options.scrollBehavior,Y=supportsPushState&&W;Y&&this.listeners.push(setupScroll());var G=function(){var K=R.current;!ensureSlash()||R.transitionTo(getHash(),function(Z){Y&&handleScroll(R.router,Z,K,!0),supportsPushState||replaceHash(Z.fullPath)})},X=supportsPushState?"popstate":"hashchange";window.addEventListener(X,G),this.listeners.push(function(){window.removeEventListener(X,G)})}},E.prototype.push=function(R,U,W){var Y=this,G=this,X=G.current;this.transitionTo(R,function(K){pushHash(K.fullPath),handleScroll(Y.router,K,X,!1),U&&U(K)},W)},E.prototype.replace=function(R,U,W){var Y=this,G=this,X=G.current;this.transitionTo(R,function(K){replaceHash(K.fullPath),handleScroll(Y.router,K,X,!1),U&&U(K)},W)},E.prototype.go=function(R){window.history.go(R)},E.prototype.ensureURL=function(R){var U=this.current.fullPath;getHash()!==U&&(R?pushHash(U):replaceHash(U))},E.prototype.getCurrentLocation=function(){return getHash()},E}(History$1);function checkFallback(V){var E=getLocation(V);if(!/^\/#/.test(E))return window.location.replace(cleanPath(V+"/#"+E)),!0}function ensureSlash(){var V=getHash();return V.charAt(0)==="/"?!0:(replaceHash("/"+V),!1)}function getHash(){var V=window.location.href,E=V.indexOf("#");return E<0?"":(V=V.slice(E+1),V)}function getUrl(V){var E=window.location.href,F=E.indexOf("#"),R=F>=0?E.slice(0,F):E;return R+"#"+V}function pushHash(V){supportsPushState?pushState(getUrl(V)):window.location.hash=V}function replaceHash(V){supportsPushState?replaceState(getUrl(V)):window.location.replace(getUrl(V))}var AbstractHistory=function(V){function E(F,R){V.call(this,F,R),this.stack=[],this.index=-1}return V&&(E.__proto__=V),E.prototype=Object.create(V&&V.prototype),E.prototype.constructor=E,E.prototype.push=function(R,U,W){var Y=this;this.transitionTo(R,function(G){Y.stack=Y.stack.slice(0,Y.index+1).concat(G),Y.index++,U&&U(G)},W)},E.prototype.replace=function(R,U,W){var Y=this;this.transitionTo(R,function(G){Y.stack=Y.stack.slice(0,Y.index).concat(G),U&&U(G)},W)},E.prototype.go=function(R){var U=this,W=this.index+R;if(!(W<0||W>=this.stack.length)){var Y=this.stack[W];this.confirmTransition(Y,function(){var G=U.current;U.index=W,U.updateRoute(Y),U.router.afterHooks.forEach(function(X){X&&X(Y,G)})},function(G){isNavigationFailure(G,NavigationFailureType.duplicated)&&(U.index=W)})}},E.prototype.getCurrentLocation=function(){var R=this.stack[this.stack.length-1];return R?R.fullPath:"/"},E.prototype.ensureURL=function(){},E}(History$1),VueRouter=function(E){E===void 0&&(E={}),this.app=null,this.apps=[],this.options=E,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=createMatcher(E.routes||[],this);var F=E.mode||"hash";switch(this.fallback=F==="history"&&!supportsPushState&&E.fallback!==!1,this.fallback&&(F="hash"),inBrowser||(F="abstract"),this.mode=F,F){case"history":this.history=new HTML5History(this,E.base);break;case"hash":this.history=new HashHistory(this,E.base,this.fallback);break;case"abstract":this.history=new AbstractHistory(this,E.base);break}},prototypeAccessors$2={currentRoute:{configurable:!0}};VueRouter.prototype.match=function(E,F,R){return this.matcher.match(E,F,R)};prototypeAccessors$2.currentRoute.get=function(){return this.history&&this.history.current};VueRouter.prototype.init=function(E){var F=this;if(this.apps.push(E),E.$once("hook:destroyed",function(){var Y=F.apps.indexOf(E);Y>-1&&F.apps.splice(Y,1),F.app===E&&(F.app=F.apps[0]||null),F.app||F.history.teardown()}),!this.app){this.app=E;var R=this.history;if(R instanceof HTML5History||R instanceof HashHistory){var U=function(Y){var G=R.current,X=F.options.scrollBehavior,K=supportsPushState&&X;K&&"fullPath"in Y&&handleScroll(F,Y,G,!1)},W=function(Y){R.setupListeners(),U(Y)};R.transitionTo(R.getCurrentLocation(),W,W)}R.listen(function(Y){F.apps.forEach(function(G){G._route=Y})})}};VueRouter.prototype.beforeEach=function(E){return registerHook(this.beforeHooks,E)};VueRouter.prototype.beforeResolve=function(E){return registerHook(this.resolveHooks,E)};VueRouter.prototype.afterEach=function(E){return registerHook(this.afterHooks,E)};VueRouter.prototype.onReady=function(E,F){this.history.onReady(E,F)};VueRouter.prototype.onError=function(E){this.history.onError(E)};VueRouter.prototype.push=function(E,F,R){var U=this;if(!F&&!R&&typeof Promise<"u")return new Promise(function(W,Y){U.history.push(E,W,Y)});this.history.push(E,F,R)};VueRouter.prototype.replace=function(E,F,R){var U=this;if(!F&&!R&&typeof Promise<"u")return new Promise(function(W,Y){U.history.replace(E,W,Y)});this.history.replace(E,F,R)};VueRouter.prototype.go=function(E){this.history.go(E)};VueRouter.prototype.back=function(){this.go(-1)};VueRouter.prototype.forward=function(){this.go(1)};VueRouter.prototype.getMatchedComponents=function(E){var F=E?E.matched?E:this.resolve(E).route:this.currentRoute;return F?[].concat.apply([],F.matched.map(function(R){return Object.keys(R.components).map(function(U){return R.components[U]})})):[]};VueRouter.prototype.resolve=function(E,F,R){F=F||this.history.current;var U=normalizeLocation(E,F,R,this),W=this.match(U,F),Y=W.redirectedFrom||W.fullPath,G=this.history.base,X=createHref(G,Y,this.mode);return{location:U,route:W,href:X,normalizedTo:U,resolved:W}};VueRouter.prototype.getRoutes=function(){return this.matcher.getRoutes()};VueRouter.prototype.addRoute=function(E,F){this.matcher.addRoute(E,F),this.history.current!==START&&this.history.transitionTo(this.history.getCurrentLocation())};VueRouter.prototype.addRoutes=function(E){this.matcher.addRoutes(E),this.history.current!==START&&this.history.transitionTo(this.history.getCurrentLocation())};Object.defineProperties(VueRouter.prototype,prototypeAccessors$2);var VueRouter$1=VueRouter;function registerHook(V,E){return V.push(E),function(){var F=V.indexOf(E);F>-1&&V.splice(F,1)}}function createHref(V,E,F){var R=F==="hash"?"#"+E:E;return V?cleanPath(V+"/"+R):R}VueRouter.install=install$3;VueRouter.version="3.6.5";VueRouter.isNavigationFailure=isNavigationFailure;VueRouter.NavigationFailureType=NavigationFailureType;VueRouter.START_LOCATION=START;inBrowser&&window.Vue&&window.Vue.use(VueRouter);/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function applyMixin(V){var E=Number(V.version.split(".")[0]);if(E>=2)V.mixin({beforeCreate:R});else{var F=V.prototype._init;V.prototype._init=function(U){U===void 0&&(U={}),U.init=U.init?[R].concat(U.init):R,F.call(this,U)}}function R(){var U=this.$options;U.store?this.$store=typeof U.store=="function"?U.store():U.store:U.parent&&U.parent.$store&&(this.$store=U.parent.$store)}}var target$1=typeof window<"u"?window:typeof global<"u"?global:{},devtoolHook=target$1.__VUE_DEVTOOLS_GLOBAL_HOOK__;function devtoolPlugin(V){!devtoolHook||(V._devtoolHook=devtoolHook,devtoolHook.emit("vuex:init",V),devtoolHook.on("vuex:travel-to-state",function(E){V.replaceState(E)}),V.subscribe(function(E,F){devtoolHook.emit("vuex:mutation",E,F)},{prepend:!0}),V.subscribeAction(function(E,F){devtoolHook.emit("vuex:action",E,F)},{prepend:!0}))}function find$2(V,E){return V.filter(E)[0]}function deepCopy(V,E){if(E===void 0&&(E=[]),V===null||typeof V!="object")return V;var F=find$2(E,function(U){return U.original===V});if(F)return F.copy;var R=Array.isArray(V)?[]:{};return E.push({original:V,copy:R}),Object.keys(V).forEach(function(U){R[U]=deepCopy(V[U],E)}),R}function forEachValue(V,E){Object.keys(V).forEach(function(F){return E(V[F],F)})}function isObject$4(V){return V!==null&&typeof V=="object"}function isPromise(V){return V&&typeof V.then=="function"}function partial(V,E){return function(){return V(E)}}var Module=function(E,F){this.runtime=F,this._children=Object.create(null),this._rawModule=E;var R=E.state;this.state=(typeof R=="function"?R():R)||{}},prototypeAccessors={namespaced:{configurable:!0}};prototypeAccessors.namespaced.get=function(){return!!this._rawModule.namespaced};Module.prototype.addChild=function(E,F){this._children[E]=F};Module.prototype.removeChild=function(E){delete this._children[E]};Module.prototype.getChild=function(E){return this._children[E]};Module.prototype.hasChild=function(E){return E in this._children};Module.prototype.update=function(E){this._rawModule.namespaced=E.namespaced,E.actions&&(this._rawModule.actions=E.actions),E.mutations&&(this._rawModule.mutations=E.mutations),E.getters&&(this._rawModule.getters=E.getters)};Module.prototype.forEachChild=function(E){forEachValue(this._children,E)};Module.prototype.forEachGetter=function(E){this._rawModule.getters&&forEachValue(this._rawModule.getters,E)};Module.prototype.forEachAction=function(E){this._rawModule.actions&&forEachValue(this._rawModule.actions,E)};Module.prototype.forEachMutation=function(E){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,E)};Object.defineProperties(Module.prototype,prototypeAccessors);var ModuleCollection=function(E){this.register([],E,!1)};ModuleCollection.prototype.get=function(E){return E.reduce(function(F,R){return F.getChild(R)},this.root)};ModuleCollection.prototype.getNamespace=function(E){var F=this.root;return E.reduce(function(R,U){return F=F.getChild(U),R+(F.namespaced?U+"/":"")},"")};ModuleCollection.prototype.update=function(E){update([],this.root,E)};ModuleCollection.prototype.register=function(E,F,R){var U=this;R===void 0&&(R=!0);var W=new Module(F,R);if(E.length===0)this.root=W;else{var Y=this.get(E.slice(0,-1));Y.addChild(E[E.length-1],W)}F.modules&&forEachValue(F.modules,function(G,X){U.register(E.concat(X),G,R)})};ModuleCollection.prototype.unregister=function(E){var F=this.get(E.slice(0,-1)),R=E[E.length-1],U=F.getChild(R);!U||!U.runtime||F.removeChild(R)};ModuleCollection.prototype.isRegistered=function(E){var F=this.get(E.slice(0,-1)),R=E[E.length-1];return F?F.hasChild(R):!1};function update(V,E,F){if(E.update(F),F.modules)for(var R in F.modules){if(!E.getChild(R))return;update(V.concat(R),E.getChild(R),F.modules[R])}}var Vue,Store=function(E){var F=this;E===void 0&&(E={}),!Vue&&typeof window<"u"&&window.Vue&&install$2(window.Vue);var R=E.plugins;R===void 0&&(R=[]);var U=E.strict;U===void 0&&(U=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ModuleCollection(E),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Vue,this._makeLocalGettersCache=Object.create(null);var W=this,Y=this,G=Y.dispatch,X=Y.commit;this.dispatch=function(Q,ee){return G.call(W,Q,ee)},this.commit=function(Q,ee,te){return X.call(W,Q,ee,te)},this.strict=U;var K=this._modules.root.state;installModule(this,K,[],this._modules.root),resetStoreVM(this,K),R.forEach(function(J){return J(F)});var Z=E.devtools!==void 0?E.devtools:Vue.config.devtools;Z&&devtoolPlugin(this)},prototypeAccessors$1={state:{configurable:!0}};prototypeAccessors$1.state.get=function(){return this._vm._data.$$state};prototypeAccessors$1.state.set=function(V){};Store.prototype.commit=function(E,F,R){var U=this,W=unifyObjectStyle(E,F,R),Y=W.type,G=W.payload,X={type:Y,payload:G},K=this._mutations[Y];!K||(this._withCommit(function(){K.forEach(function(J){J(G)})}),this._subscribers.slice().forEach(function(Z){return Z(X,U.state)}))};Store.prototype.dispatch=function(E,F){var R=this,U=unifyObjectStyle(E,F),W=U.type,Y=U.payload,G={type:W,payload:Y},X=this._actions[W];if(!!X){try{this._actionSubscribers.slice().filter(function(Z){return Z.before}).forEach(function(Z){return Z.before(G,R.state)})}catch{}var K=X.length>1?Promise.all(X.map(function(Z){return Z(Y)})):X[0](Y);return new Promise(function(Z,J){K.then(function(Q){try{R._actionSubscribers.filter(function(ee){return ee.after}).forEach(function(ee){return ee.after(G,R.state)})}catch{}Z(Q)},function(Q){try{R._actionSubscribers.filter(function(ee){return ee.error}).forEach(function(ee){return ee.error(G,R.state,Q)})}catch{}J(Q)})})}};Store.prototype.subscribe=function(E,F){return genericSubscribe(E,this._subscribers,F)};Store.prototype.subscribeAction=function(E,F){var R=typeof E=="function"?{before:E}:E;return genericSubscribe(R,this._actionSubscribers,F)};Store.prototype.watch=function(E,F,R){var U=this;return this._watcherVM.$watch(function(){return E(U.state,U.getters)},F,R)};Store.prototype.replaceState=function(E){var F=this;this._withCommit(function(){F._vm._data.$$state=E})};Store.prototype.registerModule=function(E,F,R){R===void 0&&(R={}),typeof E=="string"&&(E=[E]),this._modules.register(E,F),installModule(this,this.state,E,this._modules.get(E),R.preserveState),resetStoreVM(this,this.state)};Store.prototype.unregisterModule=function(E){var F=this;typeof E=="string"&&(E=[E]),this._modules.unregister(E),this._withCommit(function(){var R=getNestedState(F.state,E.slice(0,-1));Vue.delete(R,E[E.length-1])}),resetStore(this)};Store.prototype.hasModule=function(E){return typeof E=="string"&&(E=[E]),this._modules.isRegistered(E)};Store.prototype.hotUpdate=function(E){this._modules.update(E),resetStore(this,!0)};Store.prototype._withCommit=function(E){var F=this._committing;this._committing=!0,E(),this._committing=F};Object.defineProperties(Store.prototype,prototypeAccessors$1);function genericSubscribe(V,E,F){return E.indexOf(V)<0&&(F&&F.prepend?E.unshift(V):E.push(V)),function(){var R=E.indexOf(V);R>-1&&E.splice(R,1)}}function resetStore(V,E){V._actions=Object.create(null),V._mutations=Object.create(null),V._wrappedGetters=Object.create(null),V._modulesNamespaceMap=Object.create(null);var F=V.state;installModule(V,F,[],V._modules.root,!0),resetStoreVM(V,F,E)}function resetStoreVM(V,E,F){var R=V._vm;V.getters={},V._makeLocalGettersCache=Object.create(null);var U=V._wrappedGetters,W={};forEachValue(U,function(G,X){W[X]=partial(G,V),Object.defineProperty(V.getters,X,{get:function(){return V._vm[X]},enumerable:!0})});var Y=Vue.config.silent;Vue.config.silent=!0,V._vm=new Vue({data:{$$state:E},computed:W}),Vue.config.silent=Y,V.strict&&enableStrictMode(V),R&&(F&&V._withCommit(function(){R._data.$$state=null}),Vue.nextTick(function(){return R.$destroy()}))}function installModule(V,E,F,R,U){var W=!F.length,Y=V._modules.getNamespace(F);if(R.namespaced&&(V._modulesNamespaceMap[Y],V._modulesNamespaceMap[Y]=R),!W&&!U){var G=getNestedState(E,F.slice(0,-1)),X=F[F.length-1];V._withCommit(function(){Vue.set(G,X,R.state)})}var K=R.context=makeLocalContext(V,Y,F);R.forEachMutation(function(Z,J){var Q=Y+J;registerMutation(V,Q,Z,K)}),R.forEachAction(function(Z,J){var Q=Z.root?J:Y+J,ee=Z.handler||Z;registerAction(V,Q,ee,K)}),R.forEachGetter(function(Z,J){var Q=Y+J;registerGetter(V,Q,Z,K)}),R.forEachChild(function(Z,J){installModule(V,E,F.concat(J),Z,U)})}function makeLocalContext(V,E,F){var R=E==="",U={dispatch:R?V.dispatch:function(W,Y,G){var X=unifyObjectStyle(W,Y,G),K=X.payload,Z=X.options,J=X.type;return(!Z||!Z.root)&&(J=E+J),V.dispatch(J,K)},commit:R?V.commit:function(W,Y,G){var X=unifyObjectStyle(W,Y,G),K=X.payload,Z=X.options,J=X.type;(!Z||!Z.root)&&(J=E+J),V.commit(J,K,Z)}};return Object.defineProperties(U,{getters:{get:R?function(){return V.getters}:function(){return makeLocalGetters(V,E)}},state:{get:function(){return getNestedState(V.state,F)}}}),U}function makeLocalGetters(V,E){if(!V._makeLocalGettersCache[E]){var F={},R=E.length;Object.keys(V.getters).forEach(function(U){if(U.slice(0,R)===E){var W=U.slice(R);Object.defineProperty(F,W,{get:function(){return V.getters[U]},enumerable:!0})}}),V._makeLocalGettersCache[E]=F}return V._makeLocalGettersCache[E]}function registerMutation(V,E,F,R){var U=V._mutations[E]||(V._mutations[E]=[]);U.push(function(Y){F.call(V,R.state,Y)})}function registerAction(V,E,F,R){var U=V._actions[E]||(V._actions[E]=[]);U.push(function(Y){var G=F.call(V,{dispatch:R.dispatch,commit:R.commit,getters:R.getters,state:R.state,rootGetters:V.getters,rootState:V.state},Y);return isPromise(G)||(G=Promise.resolve(G)),V._devtoolHook?G.catch(function(X){throw V._devtoolHook.emit("vuex:error",X),X}):G})}function registerGetter(V,E,F,R){V._wrappedGetters[E]||(V._wrappedGetters[E]=function(W){return F(R.state,R.getters,W.state,W.getters)})}function enableStrictMode(V){V._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function getNestedState(V,E){return E.reduce(function(F,R){return F[R]},V)}function unifyObjectStyle(V,E,F){return isObject$4(V)&&V.type&&(F=E,E=V,V=V.type),{type:V,payload:E,options:F}}function install$2(V){Vue&&V===Vue||(Vue=V,applyMixin(Vue))}var mapState=normalizeNamespace(function(V,E){var F={};return normalizeMap(E).forEach(function(R){var U=R.key,W=R.val;F[U]=function(){var G=this.$store.state,X=this.$store.getters;if(V){var K=getModuleByNamespace(this.$store,"mapState",V);if(!K)return;G=K.context.state,X=K.context.getters}return typeof W=="function"?W.call(this,G,X):G[W]},F[U].vuex=!0}),F}),mapMutations=normalizeNamespace(function(V,E){var F={};return normalizeMap(E).forEach(function(R){var U=R.key,W=R.val;F[U]=function(){for(var G=[],X=arguments.length;X--;)G[X]=arguments[X];var K=this.$store.commit;if(V){var Z=getModuleByNamespace(this.$store,"mapMutations",V);if(!Z)return;K=Z.context.commit}return typeof W=="function"?W.apply(this,[K].concat(G)):K.apply(this.$store,[W].concat(G))}}),F}),mapGetters=normalizeNamespace(function(V,E){var F={};return normalizeMap(E).forEach(function(R){var U=R.key,W=R.val;W=V+W,F[U]=function(){if(!(V&&!getModuleByNamespace(this.$store,"mapGetters",V)))return this.$store.getters[W]},F[U].vuex=!0}),F}),mapActions=normalizeNamespace(function(V,E){var F={};return normalizeMap(E).forEach(function(R){var U=R.key,W=R.val;F[U]=function(){for(var G=[],X=arguments.length;X--;)G[X]=arguments[X];var K=this.$store.dispatch;if(V){var Z=getModuleByNamespace(this.$store,"mapActions",V);if(!Z)return;K=Z.context.dispatch}return typeof W=="function"?W.apply(this,[K].concat(G)):K.apply(this.$store,[W].concat(G))}}),F}),createNamespacedHelpers=function(V){return{mapState:mapState.bind(null,V),mapGetters:mapGetters.bind(null,V),mapMutations:mapMutations.bind(null,V),mapActions:mapActions.bind(null,V)}};function normalizeMap(V){return isValidMap(V)?Array.isArray(V)?V.map(function(E){return{key:E,val:E}}):Object.keys(V).map(function(E){return{key:E,val:V[E]}}):[]}function isValidMap(V){return Array.isArray(V)||isObject$4(V)}function normalizeNamespace(V){return function(E,F){return typeof E!="string"?(F=E,E=""):E.charAt(E.length-1)!=="/"&&(E+="/"),V(E,F)}}function getModuleByNamespace(V,E,F){var R=V._modulesNamespaceMap[F];return R}function createLogger(V){V===void 0&&(V={});var E=V.collapsed;E===void 0&&(E=!0);var F=V.filter;F===void 0&&(F=function(Z,J,Q){return!0});var R=V.transformer;R===void 0&&(R=function(Z){return Z});var U=V.mutationTransformer;U===void 0&&(U=function(Z){return Z});var W=V.actionFilter;W===void 0&&(W=function(Z,J){return!0});var Y=V.actionTransformer;Y===void 0&&(Y=function(Z){return Z});var G=V.logMutations;G===void 0&&(G=!0);var X=V.logActions;X===void 0&&(X=!0);var K=V.logger;return K===void 0&&(K=console),function(Z){var J=deepCopy(Z.state);typeof K>"u"||(G&&Z.subscribe(function(Q,ee){var te=deepCopy(ee);if(F(Q,J,te)){var ie=getFormattedTime(),re=U(Q),ne="mutation "+Q.type+ie;startMessage(K,ne,E),K.log("%c prev state","color: #9E9E9E; font-weight: bold",R(J)),K.log("%c mutation","color: #03A9F4; font-weight: bold",re),K.log("%c next state","color: #4CAF50; font-weight: bold",R(te)),endMessage(K)}J=te}),X&&Z.subscribeAction(function(Q,ee){if(W(Q,ee)){var te=getFormattedTime(),ie=Y(Q),re="action "+Q.type+te;startMessage(K,re,E),K.log("%c action","color: #03A9F4; font-weight: bold",ie),endMessage(K)}}))}}function startMessage(V,E,F){var R=F?V.groupCollapsed:V.group;try{R.call(V,E)}catch{V.log(E)}}function endMessage(V){try{V.groupEnd()}catch{V.log("\u2014\u2014 log end \u2014\u2014")}}function getFormattedTime(){var V=new Date;return" @ "+pad$1(V.getHours(),2)+":"+pad$1(V.getMinutes(),2)+":"+pad$1(V.getSeconds(),2)+"."+pad$1(V.getMilliseconds(),3)}function repeat$1(V,E){return new Array(E+1).join(V)}function pad$1(V,E){return repeat$1("0",E-V.toString().length)+V}var index$1={Store,install:install$2,version:"3.6.2",mapState,mapMutations,mapGetters,mapActions,createNamespacedHelpers,createLogger};const Vuex=index$1,_sfc_main$X={computed:{...mapState("transaction",["loadingChart"]),chartData(){return this.$store.getters["transaction/getChartDataByCurrentCurrency"]},balanceChangeSignPoint(){var F,R;if(!this.chartData||((F=this.chartData.data[0])==null?void 0:F.balance)===null)return!1;const V=(R=this.chartData.data.filter(U=>U.period<=this.$helper.currentDate).slice(-1)[0])==null?void 0:R.balance;if(!V)return!1;const E=Math.sign(V);return this.chartData.data.filter(U=>this.$moment(U.period)>this.$moment()).find(U=>E===-1&&U.balance>=0||E!==-1&&U.balance<0)},message(){if(this.balanceChangeSignPoint){const V=this.$moment(this.balanceChangeSignPoint.period).diff(this.$moment(),"days")+1,E=this.$moment(this.balanceChangeSignPoint.period).format("LL");return this.$t(this.balanceChangeSignPoint.balance<0?"cashGapIn":"cashGapOut",{inDays:V,date:E})}else return""}}};var _sfc_render$X=function(){var E=this,F=E._self._c;return!E.loadingChart&&E.message?F("div",{staticClass:"alert c-cashgap-prediction-banner",class:E.balanceChangeSignPoint.balance>=0?"success":"danger",staticStyle:{"text-align":"center"}},[F("i",{staticClass:"fas custom-mr-4",class:E.balanceChangeSignPoint.balance>=0?"fa-arrow-circle-up":"fa-exclamation-triangle"}),E._v(" "+E._s(E.message)+" ")]):E._e()},_sfc_staticRenderFns$X=[],__component__$X=normalizeComponent(_sfc_main$X,_sfc_render$X,_sfc_staticRenderFns$X,!1,null,null,null,null);const CashGapMessage=__component__$X.exports,ChartHeader_vue_vue_type_style_index_0_lang="",_sfc_main$W={__name:"ChartHeader",setup(V){return{__sfc:!0}}};var _sfc_render$W=function(){var E=this,F=E._self._c;return E._self._setupProxy,F("div",{staticClass:"c-header custom-m-12 custom-ml-32 custom-ml-12-mobile"},[E.$helper.isDesktopEnv?E._t("title"):E._e(),E._t("controls")],2)},_sfc_staticRenderFns$W=[],__component__$W=normalizeComponent(_sfc_main$W,_sfc_render$W,_sfc_staticRenderFns$W,!1,null,null,null,null);const ChartHeader=__component__$W.exports,_sfc_main$V={computed:{activeCurrencyChart:{get(){return this.$store.state.transaction.chartDataCurrencyIndex},set(V){this.$store.commit("transaction/setChartDataCurrencyIndex",V)}}}};var _sfc_render$V=function(){var E=this,F=E._self._c;return E.$store.state.transaction.chartData.length>1?F("div",{staticClass:"toggle"},E._l(E.$store.state.transaction.chartData,function(R,U){return F("span",{key:R.currency,class:{selected:U===E.activeCurrencyChart},on:{click:function(W){E.activeCurrencyChart=U}}},[E._v(" "+E._s(R.currency)+" ")])}),0):E._e()},_sfc_staticRenderFns$V=[],__component__$V=normalizeComponent(_sfc_main$V,_sfc_render$V,_sfc_staticRenderFns$V,!1,null,null,null,null);const CurrencyToggler=__component__$V.exports,setIntervalDate=(V,E)=>hooks().add(V,E).format("YYYY-MM-DD"),intervals={from:[{key:"-1_M",value:setIntervalDate(-1,"M")},{key:"-3_M",value:setIntervalDate(-3,"M")},{key:"-6_M",value:setIntervalDate(-6,"M")},{key:"-1_Y",value:setIntervalDate(-1,"Y")},{key:"-3_Y",value:setIntervalDate(-3,"Y")},{key:"-5_Y",value:setIntervalDate(-5,"Y")},{key:"-10_Y",value:setIntervalDate(-10,"Y")}],to:[{key:"0_M",value:setIntervalDate(0,"d")},{key:"1_M",value:setIntervalDate(1,"M")},{key:"3_M",value:setIntervalDate(3,"M")},{key:"6_M",value:setIntervalDate(6,"M")},{key:"1_Y",value:setIntervalDate(1,"Y")},{key:"2_Y",value:setIntervalDate(2,"Y")},{key:"3_Y",value:setIntervalDate(3,"Y")}]},getDateFromLocalStorage=V=>{var F;const E=localStorage.getItem(`interval_${V}`);return(F=intervals[V].find(R=>R.key===E))==null?void 0:F.value},Dropdown_vue_vue_type_style_index_0_lang="",_sfc_main$U={props:{type:{type:String,required:!0}},computed:{items(){return intervals[this.type]},value:{get(){return this.$store.state.transaction.chartInterval[this.type]},set(V){localStorage.setItem(`interval_${this.type}`,this.getNameByValue(V)),this.$store.commit("transaction/updateChartInterval",{[this.type]:V})}}},methods:{getNameByValue(V){return this.items.find(E=>E.value===V).key}}};var _sfc_render$U=function(){var E=this,F=E._self._c;return F("div",{staticClass:"wa-select solid"},[F("select",{directives:[{name:"model",rawName:"v-model",value:E.value,expression:"value"}],staticClass:"c-select",on:{change:function(R){var U=Array.prototype.filter.call(R.target.options,function(W){return W.selected}).map(function(W){var Y="_value"in W?W._value:W.value;return Y});E.value=R.target.multiple?U:U[0]}}},E._l(E.items,function(R){return F("option",{key:R.key,domProps:{value:R.value}},[E._v(" "+E._s(E.$t(R.key))+" ")])}),0)])},_sfc_staticRenderFns$U=[],__component__$U=normalizeComponent(_sfc_main$U,_sfc_render$U,_sfc_staticRenderFns$U,!1,null,null,null,null);const Dropdown=__component__$U.exports,amountMixin={computed:{$_amountMixin_amountTypes(){const V=this.$store.getters.getCurrentType;return V!=null&&V.is_profit?["profit"]:V!=null&&V.type?[V.type]:["income","expense","profit"]}},methods:{$_amountMixin_amountDelta(V){return Math.abs(this.$_amountMixin_getTotalByType("income",V))-Math.abs(this.$_amountMixin_getTotalByType("expense",V))-Math.abs(this.$_amountMixin_getTotalByType("profit",V))},$_amountMixin_getTotalByType(V,E){const F=this.$store.state.transaction.chartData[this.$store.state.transaction.chartDataCurrencyIndex];if(!F)return 0;const R=this.$helper.currentDate,U=`amount${V[0].toUpperCase()}${V.slice(1)}`;return F.data.filter(W=>E==="to"?W.period>R:W.period<=R).reduce((W,Y)=>W+Y[U],0)}}},_sfc_main$T={mixins:[amountMixin],props:{period:{type:String,required:!0}},computed:{...mapState("transaction",["chartData","chartDataCurrencyIndex","loadingChart"]),currencyCode(){var V;return(V=this.chartData[this.chartDataCurrencyIndex])==null?void 0:V.currency}}};var _sfc_render$T=function(){var E=this,F=E._self._c;return E.loadingChart?F("div",E._l(E.$_amountMixin_amountTypes.length+1,function(R){return F("div",{key:R,staticClass:"skeleton"},[F("span",{staticClass:"skeleton-line custom-mb-4"})])}),0):F("div",[E._l(E.$_amountMixin_amountTypes,function(R,U){return F("div",{key:U},[F("div",{class:{"text-green":R==="income","text-red":R==="expense","text-blue":R==="profit"},attrs:{title:R==="profit"?E.$t("profit"):R==="income"?E.$t("income"):E.$t("expense")}},[F("div",{staticClass:"custom-ml-12"},[R==="profit"?F("i",{staticClass:"fas fa-coins text-blue smaller"}):E._e(),F("span",{staticClass:"smaller semibold"},[E._v(E._s(E.$helper.toCurrency({value:E.$_amountMixin_getTotalByType(R,E.period),currencyCode:E.currencyCode,prefix:R==="income"?"+ ":R==="expense"?"\u2212 ":" "})))])])])])}),F("div",[E.$_amountMixin_amountTypes.includes("profit")?F("div",{attrs:{title:E.$t("delta")}},[F("div",{staticClass:"custom-ml-12"},[F("span",{staticClass:"smaller semibold gray"},[E._v(" "+E._s(E.$helper.toCurrency({value:E.$_amountMixin_amountDelta(E.period),currencyCode:E.currencyCode,isDynamics:!0,prefix:"\u0394\xA0"}))+" ")])])]):E._e()])],2)},_sfc_staticRenderFns$T=[],__component__$T=normalizeComponent(_sfc_main$T,_sfc_render$T,_sfc_staticRenderFns$T,!1,null,null,null,null);const AmountForPeriod=__component__$T.exports,ChartHeaderControls_vue_vue_type_style_index_0_lang="",_sfc_main$S={components:{CurrencyToggler,Dropdown,AmountForPeriod}};var _sfc_render$S=function(){var E=this,F=E._self._c;return F("div",{staticClass:"c-period-dropdowns-container"},[F("div",{staticClass:"flexbox vertical-mobile space-12",staticStyle:{"align-items":"start"}},[F("CurrencyToggler"),F("div",{staticClass:"c-period-dropdowns flexbox fixed space-12 width-100-mobile"},[F("div",[F("Dropdown",{staticClass:"custom-m-0 custom-mb-8 width-100-mobile",attrs:{type:"from"}}),F("AmountForPeriod",{attrs:{period:"from"}})],1),F("div",[F("Dropdown",{staticClass:"custom-m-0 custom-mb-8 width-100-mobile",attrs:{type:"to"}}),F("AmountForPeriod",{attrs:{period:"to"}})],1)])],1)])},_sfc_staticRenderFns$S=[],__component__$S=normalizeComponent(_sfc_main$S,_sfc_render$S,_sfc_staticRenderFns$S,!1,null,null,null,null);const ChartHeaderControls=__component__$S.exports,_sfc_main$R={mixins:[amountMixin],props:{currencyCode:{type:String}},computed:{average(){const V=this.$_amountMixin_amountDelta("to"),E=Math.ceil(Math.abs(this.$moment().diff(this.$moment(this.$store.state.transaction.chartInterval.to),"months",!0)));return V/E}}};var _sfc_render$R=function(){var E=this,F=E._self._c;return E.average!==0&&!E.$store.state.transaction.loadingChart?F("div",{staticClass:"opacity-50 nowrap custom-mt-4 semibold small",class:E.average>=0?"text-green":"text-red",attrs:{title:E.$t("forecasted")}},[F("i",{staticClass:"fas fa-tachometer-alt"}),E._v(" "+E._s(E.$helper.toCurrency({value:E.average,currencyCode:E.currencyCode,isDynamics:!0}))+"/"+E._s(E.$t("shortMonth"))+" ")]):E._e()},_sfc_staticRenderFns$R=[],__component__$R=normalizeComponent(_sfc_main$R,_sfc_render$R,_sfc_staticRenderFns$R,!1,null,null,null,null);const ChartHeaderTitleAverage=__component__$R.exports,_sfc_main$Q={components:{Modal:Modal$1,Account:AddAccount,Category:AddCategory,ChartHeaderTitleAverage},data(){return{open:!1,currentComponentInModal:"",item:null}},computed:{currentEntity(){return this.$store.state.currentType==="account"||this.$store.state.currentType==="category"?this.$store.getters.getCurrentType:this.$store.getters["balanceFlow/getBalanceFlowByCode"](this.$store.state.currentTypeId)},balance(){var V,E;return((V=this.currentEntity.stat)==null?void 0:V.summary)||((E=this.currentEntity.balances)==null?void 0:E.now.amount)}},methods:{update(V){this.open=!0,this.currentComponentInModal=V.currency?"Account":"Category",this.item=V},close(){this.open=!1,this.currentComponentInModal=""}}};var _sfc_render$Q=function(){var E=this,F=E._self._c;return E.currentEntity?F("div",{staticClass:"custom-pb-16-mobile"},[F("div",[E._v(E._s(E.$moment().format("LL")))]),F("div",{staticClass:"flexbox middle space-12 wrap"},[F("div",{staticClass:"flexbox space-12 middle wrap-mobile"},[F("div",{staticClass:"h2 custom-mb-0"},[E._v(" "+E._s(E.currentEntity.name||E.currentEntity.currency)+" ")]),E.currentEntity.currency?F("div",{staticClass:"h2 nowrap custom-mb-0",class:{"text-green":E.balance>0,"text-red":E.balance<0}},[E._v(" "+E._s(E.$helper.toCurrency({value:E.balance,currencyCode:E.currentEntity.currency}))+" ")]):E._e()]),F("chart-header-title-average",{attrs:{"currency-code":E.$store.getters["transaction/activeCurrencyCode"]}}),E.currentEntity.id>0&&E.$permissions.isAdmin?F("div",[F("button",{staticClass:"button nobutton circle",on:{click:function(R){return E.update(E.currentEntity)}}},[F("i",{staticClass:"fas fa-edit"})])]):E._e()],1),F("portal",[E.open?F("Modal",{on:{close:E.close}},[F(E.currentComponentInModal,{tag:"component",attrs:{"edited-item":E.item}})],1):E._e()],1)],1):E._e()},_sfc_staticRenderFns$Q=[],__component__$Q=normalizeComponent(_sfc_main$Q,_sfc_render$Q,_sfc_staticRenderFns$Q,!1,null,null,null,null);const ChartHeaderTitle=__component__$Q.exports,initialDarkMode=document.documentElement.getAttribute("data-theme")==="dark",DarkModeObserver=new Vue$2({data(){return{darkMode:initialDarkMode}},created(){this.addDarkModeObserver()},beforeDestroy(){this.darkModeObserver&&this.darkModeObserver.disconnect()},methods:{addDarkModeObserver(){const V=document.documentElement;if(V){const E={attributes:!0},F=R=>{for(const U of R)U.attributeName==="data-theme"&&(this.darkMode=V.getAttribute("data-theme")==="dark")};this.darkModeObserver=new MutationObserver(F),this.darkModeObserver.observe(V,E)}}}}),darkModeObserver={install:V=>{V.prototype.$darkModeObserver=DarkModeObserver}};var extendStatics=function(V,E){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,R){F.__proto__=R}||function(F,R){for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(F[U]=R[U])},extendStatics(V,E)};function __extends(V,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");extendStatics(V,E);function F(){this.constructor=V}V.prototype=E===null?Object.create(E):(F.prototype=E.prototype,new F)}var __assign$1=function(){return __assign$1=Object.assign||function(E){for(var F,R=1,U=arguments.length;R<U;R++){F=arguments[R];for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&(E[W]=F[W])}return E},__assign$1.apply(this,arguments)};function __awaiter(V,E,F,R){function U(W){return W instanceof F?W:new F(function(Y){Y(W)})}return new(F||(F=Promise))(function(W,Y){function G(Z){try{K(R.next(Z))}catch(J){Y(J)}}function X(Z){try{K(R.throw(Z))}catch(J){Y(J)}}function K(Z){Z.done?W(Z.value):U(Z.value).then(G,X)}K((R=R.apply(V,E||[])).next())})}function __generator(V,E){var F={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},R,U,W,Y;return Y={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function G(K){return function(Z){return X([K,Z])}}function X(K){if(R)throw new TypeError("Generator is already executing.");for(;Y&&(Y=0,K[0]&&(F=0)),F;)try{if(R=1,U&&(W=K[0]&2?U.return:K[0]?U.throw||((W=U.return)&&W.call(U),0):U.next)&&!(W=W.call(U,K[1])).done)return W;switch(U=0,W&&(K=[K[0]&2,W.value]),K[0]){case 0:case 1:W=K;break;case 4:return F.label++,{value:K[1],done:!1};case 5:F.label++,U=K[1],K=[0];continue;case 7:K=F.ops.pop(),F.trys.pop();continue;default:if(W=F.trys,!(W=W.length>0&&W[W.length-1])&&(K[0]===6||K[0]===2)){F=0;continue}if(K[0]===3&&(!W||K[1]>W[0]&&K[1]<W[3])){F.label=K[1];break}if(K[0]===6&&F.label<W[1]){F.label=W[1],W=K;break}if(W&&F.label<W[2]){F.label=W[2],F.ops.push(K);break}W[2]&&F.ops.pop(),F.trys.pop();continue}K=E.call(V,F)}catch(Z){K=[6,Z],U=0}finally{R=W=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}}function __values(V){var E=typeof Symbol=="function"&&Symbol.iterator,F=E&&V[E],R=0;if(F)return F.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&R>=V.length&&(V=void 0),{value:V&&V[R++],done:!V}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(V,E){var F=typeof Symbol=="function"&&V[Symbol.iterator];if(!F)return V;var R=F.call(V),U,W=[],Y;try{for(;(E===void 0||E-- >0)&&!(U=R.next()).done;)W.push(U.value)}catch(G){Y={error:G}}finally{try{U&&!U.done&&(F=R.return)&&F.call(R)}finally{if(Y)throw Y.error}}return W}function __spread(){for(var V=[],E=0;E<arguments.length;E++)V=V.concat(__read(arguments[E]));return V}typeof SuppressedError=="function"&&SuppressedError;var Percent=function(){function V(E){this._value=E}return Object.defineProperty(V.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),V.prototype.toString=function(){return""+this._value+"%"},V}();function percent(V){return new Percent(V)}function isPercent(V){return V instanceof Percent}function isNaN$1(V){return Number(V)!==V}function getType(V){return{}.toString.call(V)}function castString(V){if(typeof V=="string")return V;if(typeof V=="number")return""+V;throw new Error("Expected a string or number but got "+getType(V))}function toBoolean(V){return!!V}function toNumber(V){if(hasValue(V)&&!isNumber$1(V)){var E=Number(V);return isNaN$1(E)&&isString$2(V)&&V!=""?toNumber(V.replace(/[^0-9.\-]+/g,"")):E}return V}function toText(V){if(hasValue(V)&&!isString$2(V)){if(isNumber$1(V))return castString(V);if(isObject$3(V))return V.toString()}return V}function toNumberOrPercent(V){return!hasValue(V)||isNumber$1(V)||isPercent(V)?V:isString$2(V)&&V.indexOf("%")!=-1?percent(toNumber(V)):toNumber(V)}function hasValue(V){return V!=null}function getValue(V){if(hasValue(V))return V;throw new Error("Value doesn't exist")}function getValueDefault(V,E){return hasValue(V)?V:E}function isDate$1(V){return getType(V)==="[object Date]"}function isString$2(V){return typeof V=="string"}function isNumber$1(V){return typeof V=="number"&&Number(V)==V}function isObject$3(V){return typeof V=="object"&&V!=null}function isArray$2(V){return Array.isArray(V)}var PI=Math.PI,HALFPI=PI/2,RADIANS=PI/180,DEGREES=180/PI;function toNumberRange(V,E,F){return hasValue(V)?(V=toNumber(V),fitToRange(V,E,F)):V}function round$2(V,E,F){if(!isNumber$1(E)||E<=0){var R=Math.round(V);return F&&R-V==.5&&R--,R}else{var U=Math.pow(10,E);return Math.round(V*U)/U}}function ceil(V,E){if(!isNumber$1(E)||E<=0)return Math.ceil(V);var F=Math.pow(10,E);return Math.ceil(V*F)/F}function fitToRange(V,E,F){if(isNumber$1(E)){if(isNumber$1(F)&&F<E){var R=F;F=E,E=R}V<E&&(V=E)}return isNumber$1(F)&&V>F&&(V=F),V}function sin(V){return round$2(Math.sin(RADIANS*V),10)}function tan(V){return round$2(Math.tan(RADIANS*V),10)}function cos(V){return round$2(Math.cos(RADIANS*V),10)}function max$1(V,E){return isNumber$1(V)?isNumber$1(E)&&E>V?E:V:isNumber$1(E)?E:null}function min$1(V,E){return isNumber$1(V)?isNumber$1(E)&&E<V?E:V:isNumber$1(E)?E:null}function closest(V,E){return V.reduce(function(F,R){return Math.abs(R-E)<Math.abs(F-E)?R:F})}function intersect(V,E){var F=getValue(V.start),R=getValue(E.start),U=getValue(V.end),W=getValue(E.end);return Math.max(F,R)<=Math.min(U,W)}function invertRange(V){var E=getValue(V.start),F=getValue(V.end);return{start:1-F,end:1-E}}function intersection(V,E){var F=getValue(V.start),R=getValue(E.start),U=getValue(V.end),W=getValue(E.end),Y=Math.max(F,R),G=Math.min(U,W);if(!(G<Y))return{start:Y,end:G}}function getDistance(V,E){return V?(E||(E={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(V.x-E.x),2)+Math.pow(Math.abs(V.y-E.y),2))):0}function getHorizontalDistance(V,E){return V?(E||(E={x:0,y:0}),Math.abs(V.x-E.x)):0}function getVerticalDistance(V,E){return V?(E||(E={x:0,y:0}),Math.abs(V.y-E.y)):0}function getCubicCurveDistance(V,E,F,R,U){if(!V)return 0;E||(E={x:0,y:0});var W=0,Y=V;if(U>0)for(var G=0;G<=U;G++){var X=getPointOnCubicCurve(V,E,F,R,G/U);W+=getDistance(Y,X),Y=X}return W}function getScale$1(V,E,F,R){var U=getDistance(E,R),W=getDistance(V,F);return Math.abs(W/U)}function getMidPoint(V,E,F){return isNumber$1(F)||(F=.5),{x:V.x+(E.x-V.x)*F,y:V.y+(E.y-V.y)*F}}function getAngle(V,E){E||(E={x:V.x*2,y:V.y*2});var F=E.x-V.x,R=E.y-V.y,U=Math.atan2(R,F)*DEGREES;return U<0&&(U+=360),normalizeAngle(U)}function getBBox(V){if(V){var E=V.length;if(E!==0){for(var F=void 0,R=void 0,U,W=void 0,Y=0;Y<E;Y++){var G=V[Y];(!isNumber$1(R)||G.x>R)&&(R=G.x),(!isNumber$1(F)||G.x<F)&&(F=G.x),(!isNumber$1(U)||G.y<U)&&(U=G.y),(!isNumber$1(W)||G.y>W)&&(W=G.y)}return{x:F,y:U,width:R-F,height:W-U}}}return{x:0,y:0,width:0,height:0}}function getCommonRectangle(V){var E=V.length;if(E!==0){for(var F=void 0,R=void 0,U=void 0,W=void 0,Y=0;Y<E;Y++){var G=V[Y];F=min$1(G.x,F),R=min$1(G.y,R),U=max$1(G.x+G.width,U),W=max$1(G.y+G.height,W)}return{x:F,y:R,width:U-F,height:W-R}}}function getPointOnQuadraticCurve(V,E,F,R){var U=(1-R)*(1-R)*V.x+2*(1-R)*R*F.x+R*R*E.x,W=(1-R)*(1-R)*V.y+2*(1-R)*R*F.y+R*R*E.y;return{x:U,y:W}}function getPointOnCubicCurve(V,E,F,R,U){var W={x:0,y:0},Y=1-U,G=Y*Y,X=G*Y;return W.x=V.x*X+F.x*3*G*U+R.x*3*Y*U*U+E.x*U*U*U,W.y=V.y*X+F.y*3*G*U+R.y*3*Y*U*U+E.y*U*U*U,W}function getCubicControlPointA(V,E,F,R,U,W){return U=adjustTension(U),W=adjustTension(W),{x:(-V.x+E.x/U+F.x)*U,y:(-V.y+E.y/W+F.y)*W}}function getCubicControlPointB(V,E,F,R,U,W){return U=adjustTension(U),W=adjustTension(W),{x:(E.x+F.x/U-R.x)*U,y:(E.y+F.y/W-R.y)*W}}function adjustTension(V){return 1-V+1e-5}function normalizeAngle(V){return V==360?360:V%360}function fitAngleToRange(V,E,F){if(E>F){var R=E;E=F,F=R}V=normalizeAngle(V);var U=(E-normalizeAngle(E))/360;V<E&&(V+=360*(U+1));var W=E+(F-E)/2+180,Y=E+(F-E)/2-180;return V>F&&(V-360>E?V-=360:V<W?V=F:V=E),V<E&&(V>Y?V=E:V=F),V}function getArcRect(V,E,F){var R=Number.MAX_VALUE,U=Number.MAX_VALUE,W=-Number.MAX_VALUE,Y=-Number.MAX_VALUE,G=[];isNumber$1(F)||(F=1),G.push(getArcPoint(F,V)),G.push(getArcPoint(F,E));for(var X=Math.min(Math.floor(V/90)*90,Math.floor(E/90)*90),K=Math.max(Math.ceil(V/90)*90,Math.ceil(E/90)*90),Z=X;Z<=K;Z+=90)Z>=V&&Z<=E&&G.push(getArcPoint(F,Z));for(var J=0;J<G.length;J++){var Q=G[J];Q.x<R&&(R=Q.x),Q.y<U&&(U=Q.y),Q.x>W&&(W=Q.x),Q.y>Y&&(Y=Q.y)}return{x:R,y:U,width:W-R,height:Y-U}}function getArcPoint(V,E){return{x:V*cos(E),y:V*sin(E)}}function isInRectangle(V,E){return V.x>=E.x&&V.x<=E.x+E.width&&V.y>=E.y&&V.y<=E.y+E.height}function indexOf(V,E){for(var F=V.length,R=0;R<F;++R)if(V[R]===E)return R;return-1}function any(V,E){for(var F=V.length,R=0;R<F;++R)if(E(V[R]))return!0;return!1}function map$1(V,E){for(var F=V.length,R=new Array(F),U=0;U<F;++U)R[U]=E(V[U],U);return R}function each$2(V,E){for(var F=V.length,R=0;R<F;++R)E(V[R],R)}function eachReverse(V,E){for(var F=V.length;F--;)E(V[F],F)}function eachContinue$2(V,E){for(var F=V.length,R=0;R<F&&E(V[R],R);++R);}function shiftLeft(V,E){for(var F=V.length,R=E;R<F;++R)V[R-E]=V[R];V.length=F-E}function pushAll(V,E){for(var F=E.length,R=0;R<F;++R)V.push(E[R])}function remove(V,E){var F=!1,R=V.indexOf(E);if(R!==-1){F=!0,V.splice(R,1);for(var U=V.length;R<U;)V[R]===E?(V.splice(R,1),--U):++R}return F}function move(V,E,F){var R=indexOf(V,E);R!==-1&&removeIndex(V,R),F==null?V.push(E):insertIndex(V,F,E)}function add$1(V,E,F){isNumber$1(F)?F===0?V.unshift(E):V.splice(F,0,E):V.push(E)}function replace(V,E,F){var R=V.indexOf(E);R!==-1&&V.splice(R,1),isNumber$1(F)?V.splice(F,0,E):V.push(E)}function toArray$3(V){return Array.isArray(V)?V:[V]}function copy$2(V){for(var E=V.length,F=new Array(E),R=0;R<E;++R)F[R]=V[R];return F}function insertIndex(V,E,F){V.splice(E,0,F)}function removeIndex(V,E){V.splice(E,1)}function getSortedIndex(V,E,F){for(var R=0,U=V.length,W=!1;R<U;){var Y=R+U>>1,G=E(F,V[Y]);G<0?U=Y:(G===0&&(W=!0),R=Y+1)}return{found:W,index:W?R-1:R}}function findIndex$1(V,E){for(var F=V.length,R=0;R<F;++R)if(E(V[R],R))return R;return-1}function keepIf(V,E){for(var F=V.length,R=0;R<F;)E(V[R])?++R:(V.splice(R,1),--F)}var Disposer=function(){function V(E){this._disposed=!1,this._dispose=E}return V.prototype.isDisposed=function(){return this._disposed},V.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},V}(),MultiDisposer=function(V){__extends(E,V);function E(F){return V.call(this,function(){each$2(F,function(R){R.dispose()})})||this}return E}(Disposer),MutableValueDisposer=function(V){__extends(E,V);function E(){var F=V.call(this,function(){hasValue(F._disposer)&&(F._disposer.dispose(),F._disposer=void 0)})||this;return F}return E.prototype.get=function(){return this._value},E.prototype.set=function(F,R){hasValue(this._disposer)&&this._disposer.dispose(),this._disposer=R,this._value=F},E.prototype.reset=function(){this.set(void 0,void 0)},E}(Disposer),CounterDisposer=function(V){__extends(E,V);function E(){var F=V!==null&&V.apply(this,arguments)||this;return F._counter=0,F}return E.prototype.increment=function(){var F=this;return++this._counter,new Disposer(function(){--F._counter,F._counter===0&&F.dispose()})},E}(Disposer),pendingFrame=!1,nextQueue=[],readQueue=[],writeQueue=[],idleQueue=[],fps=1e3/60,raf=typeof requestAnimationFrame=="function"?function(V){requestAnimationFrame(V)}:function(V){setTimeout(V,fps)};function frameLoop(){for(var V=Date.now(),E=nextQueue.length,F=0;F<E;++F)nextQueue[F](V);shiftLeft(nextQueue,E);for(var F=0;F<readQueue.length;++F)readQueue[F](V);readQueue.length=0;for(var F=0;F<writeQueue.length;++F)writeQueue[F](V);writeQueue.length=0,nextQueue.length===0&&readQueue.length===0?pendingFrame=!1:raf(frameLoop)}function pendFrame(){pendingFrame||(pendingFrame=!0,raf(frameLoop))}function readFrame(V){readQueue.push(V),pendFrame()}function writeFrame(V){writeQueue.push(V),pendFrame()}function whenIdle(V){idleQueue.push(V)}function triggerIdle(){for(var V=Date.now(),E=idleQueue.length,F=0;F<E;++F)idleQueue.shift()(V)}var EventDispatcher=function(){function V(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return V.prototype.isDisposed=function(){return this._disposed},V.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var E=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{each$2(E,function(F){F.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}},V.prototype.hasListeners=function(){return this._listeners.length!==0},V.prototype.hasListenersByType=function(E){return any(this._listeners,function(F){return(F.type===null||F.type===E)&&!F.killed})},V.prototype.enable=function(){this._enabled=!0},V.prototype.disable=function(){this._enabled=!1},V.prototype.enableType=function(E){delete this._disabled[E]},V.prototype.disableType=function(E,F){F===void 0&&(F=1/0),this._disabled[E]=F},V.prototype._removeListener=function(E){if(this._iterating===0){var F=this._listeners.indexOf(E);if(F===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(F,1)}else this._killed.push(E)},V.prototype._removeExistingListener=function(E,F,R,U){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(W){W.once===E&&W.type===F&&(R==null||W.callback===R)&&W.context===U&&W.disposer.dispose()})},V.prototype.isEnabled=function(E){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(E)&&this._disabled[E]==null},V.prototype.has=function(E,F,R){var U=findIndex$1(this._listeners,function(W){return W.once!==!0&&W.type===E&&(F==null||W.callback===F)&&W.context===R});return U!==-1},V.prototype._shouldDispatch=function(E){if(this._disposed)throw new Error("EventDispatcher is disposed");var F=this._disabled[E];return isNumber$1(F)?(F<=1?delete this._disabled[E]:--this._disabled[E],!1):this._enabled},V.prototype._eachListener=function(E){var F=this;++this._iterating;try{each$2(this._listeners,E)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(each$2(this._killed,function(R){F._removeListener(R)}),this._killed.length=0)}},V.prototype.dispatchImmediately=function(E,F){this._shouldDispatch(E)&&this._eachListener(function(R){!R.killed&&(R.type===null||R.type===E)&&R.dispatch(E,F)})},V.prototype.dispatch=function(E,F){this._shouldDispatch(E)&&this._eachListener(function(R){!R.killed&&(R.type===null||R.type===E)&&whenIdle(function(){R.killed||R.dispatch(E,F)})})},V.prototype._on=function(E,F,R,U,W,Y){var G=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(E,F,R,U);var X={type:F,callback:R,context:U,shouldClone:W,dispatch:Y,killed:!1,once:E,disposer:new Disposer(function(){X.killed=!0,G._removeListener(X)})};return this._listeners.push(X),X},V.prototype.onAll=function(E,F,R){return R===void 0&&(R=!0),this._on(!1,null,E,F,R,function(U,W){return E.call(F,U,W)}).disposer},V.prototype.on=function(E,F,R,U){return U===void 0&&(U=!0),this._on(!1,E,F,R,U,function(W,Y){return F.call(R,Y)}).disposer},V.prototype.once=function(E,F,R,U){U===void 0&&(U=!0);var W=this._on(!0,E,F,R,U,function(Y,G){W.disposer.dispose(),F.call(R,G)});return W.disposer},V.prototype.off=function(E,F,R){this._removeExistingListener(!1,E,F,R)},V.prototype.copyFrom=function(E){var F=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(E===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");each$2(E._listeners,function(R){!R.killed&&R.shouldClone&&(R.type===null?F.onAll(R.callback,R.context):R.once?F.once(R.type,R.callback,R.context):F.on(R.type,R.callback,R.context))})},V}(),TargetedEventDispatcher=function(V){__extends(E,V);function E(F){var R=V.call(this)||this;return R.target=F,R}return E.prototype.copyFrom=function(F){var R=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(F===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");each$2(F._listeners,function(U){U.context!==F.target&&!U.killed&&U.shouldClone&&(U.type===null?R.onAll(U.callback,U.context):U.once?R.once(U.type,U.callback,U.context):R.on(U.type,U.callback,U.context))})},E}(EventDispatcher);function entries(V){return function(E){for(var F in V)if(hasKey(V,F)&&!E([F,V[F]]))break}}function keys(V){var E=[];for(var F in V)hasKey(V,F)&&E.push(F);return E}function keysOrdered(V,E){return keys(V).sort(E)}function hasKey(V,E){return{}.hasOwnProperty.call(V,E)}function eachContinue$1(V,E){for(var F in V)if(hasKey(V,F)&&!E(F,V[F]))break}function each$1(V,E){eachContinue$1(V,function(F,R){return E(F,R),!0})}function eachOrdered(V,E,F){each$2(keysOrdered(V,F),function(R){E(R,V[R])})}function merge$2(V,E){return Object.assign({},V,E)}function clone(V){return JSON.parse(JSON.stringify(V))}function copyProperties$1(V,E,F){each$2(F,function(R){hasValue(V[R])&&(E[R]=V[R])})}function forceCopyProperties(V,E,F){each$2(F,function(R){E[R]=V[R]})}function copyAllProperties(V,E){copyProperties$1(V,E,keys(V))}function fromArray(V){return function(E){for(var F=V.length,R=0;R<F&&E(V[R]);++R);}}function length(V){var E=0;return V(function(F){return++E,!0}),E}function toArray$2(V){var E=[];return V(function(F){return E.push(F),!0}),E}function eachContinue(V,E){V(E)}function each(V,E){V(function(F){return E(F),!0})}function sort(V,E){return fromArray(toArray$2(V).sort(E))}function map(V,E){return function(F){return V(function(R){return F(E(R))})}}function concat(){for(var V=[],E=0;E<arguments.length;E++)V[E]=arguments[E];return function(F){for(var R=!0,U=function(G){return R=F(G)},W=V.length,Y=0;Y<W&&(V[Y](U),!!R);++Y);}}function flatten(V){return function(E){var F=!0,R=function(U){return F=E(U)};V(function(U){return U(R),F})}}function indexed(V){return function(E){var F=0;V(function(R){return E([F++,R])})}}function find$1(V,E){var F;return V(function(R){return E(R)?(F=R,!1):!0}),F}function contains$1(V,E){var F=!1;return V(function(R){return E(R)?(F=!0,!1):!0}),F}var ListIterator=function(){function V(E,F){this.createNewItems=!1,this.list=E,this._create=F,this.reset()}return V.prototype.reset=function(){this._listCopy=toArray$2(this.list.iterator())},V.prototype.clear=function(){this._listCopy.length=0},V.prototype.getFirst=function(){return this.returnItem(0)},V.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},V.prototype.find=function(E){var F=findIndex$1(this._listCopy,E);if(F!==-1){var R=this._listCopy[F];return remove(this._listCopy,R),R}else return this.getLast()},V.prototype.removeItem=function(E){return remove(this._listCopy,E)},V.prototype.returnItem=function(E){if(E>=0&&E<this._listCopy.length){var F=this._listCopy[E];return remove(this._listCopy,F),F}else if(this.createNewItems)return this._create()},V.prototype.iterator=function(){return fromArray(this._listCopy)},V}();function order$1(V,E){return V===E?0:V<E?-1:1}function repeat(V,E){return new Array(E+1).join(V)}function random(V){for(var E="",F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",R=0;R<V;R++)E+=F.charAt(Math.floor(Math.random()*F.length));return E}var DictionaryDisposer=function(V){__extends(E,V);function E(F){var R=this,U=F.events.on("removed",function(W){W.oldValue.dispose()},void 0,!1);return R=V.call(this,function(){U.dispose(),each(F.iterator(),function(W){var Y=W[1];Y.dispose()})})||this,R}return E}(Disposer),Dictionary=function(){function V(){this.events=new EventDispatcher,this._dictionary={}}return V.prototype.hasKey=function(E){return hasKey(this._dictionary,E)},V.prototype.getKey=function(E){return this._dictionary[E]},V.prototype.insertKey=function(E,F){if(hasKey(this._dictionary,E))throw new Error("Key "+E+" already exists in dictionary");this._dictionary[E]=F,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:E,newValue:F})},V.prototype.setKey=function(E,F){if(hasKey(this._dictionary,E)){var R=this._dictionary[E];R!==F&&(this._dictionary[E]=F,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:E,oldValue:R,newValue:F}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:R}))}else this._dictionary[E]=F,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:E,newValue:F})},V.prototype.updateKey=function(E,F){if(hasKey(this._dictionary,E)){var R=this._dictionary[E],U=F(R);R!==U&&(this._dictionary[E]=U,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:E,oldValue:R,newValue:U}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:R}))}else throw new Error("Key "+E+" doesn't exist in dictionary")},V.prototype.removeKey=function(E){if(hasKey(this._dictionary,E)){var F=this._dictionary[E];delete this._dictionary[E],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:E,oldValue:F}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:F})}},V.prototype.insertKeyIfEmpty=function(E,F){return this.hasKey(E)||this.insertKey(E,F()),this.getKey(E)},V.prototype.clear=function(){var E=this;this.events.isEnabled("removed")&&each$1(this._dictionary,function(F,R){E.events.dispatchImmediately("removed",{type:"removed",target:E,oldValue:R})}),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},V.prototype.copyFrom=function(E){var F=this;each(E.iterator(),function(R){F.setKey(R[0],R[1])})},V.prototype.iterator=function(){return entries(this._dictionary)},V.prototype[Symbol.iterator]=function(){var E,F,R,U;return __generator(this,function(W){switch(W.label){case 0:E=[];for(F in this._dictionary)E.push(F);R=0,W.label=1;case 1:return R<E.length?(U=E[R],hasKey(this._dictionary,U)?[4,[U,this._dictionary[U]]]:[3,3]):[3,4];case 2:W.sent(),W.label=3;case 3:return R++,[3,1];case 4:return[2]}})},V.prototype.each=function(E){each(this.iterator(),function(F){var R=__read(F,2),U=R[0],W=R[1];return E(U,W)})},V.prototype.sortedIterator=function(){return sort(this.iterator(),function(E,F){return order$1(E[0],F[0])})},V}(),DictionaryTemplate=function(V){__extends(E,V);function E(F){var R=V.call(this)||this;return R.template=F,R}return Object.defineProperty(E.prototype,"template",{get:function(){return this._template},set:function(F){F.isTemplate=!0,this._template=F},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){var R=this;each(F.iterator(),function(U){R.setKey(U[0],U[1].clone())})},E.prototype.create=function(F){var R=this;return this.insertKeyIfEmpty(F,function(){return R.template.clone()})},E}(Dictionary),Cache=function(){function V(){this._storage=new Dictionary,this.ttl=1e3}return V.prototype.set=function(E,F,R,U){var W=this._storage.insertKeyIfEmpty(E,function(){return new Dictionary}),Y={touched:new Date().getTime(),ttl:isNumber$1(U)?U:this.ttl,value:R};W.setKey(F,Y)},V.prototype.get=function(E,F,R){if(R===void 0&&(R=void 0),this._storage.hasKey(E)){var U=this._storage.getKey(E);if(U.hasKey(F)){var W=U.getKey(F);return W.ttl&&W.touched+W.ttl<new Date().getTime()&&(W.expired=!0),W.expired?(U.removeKey(F),R):W.value}else return R}else return R},V.prototype.clear=function(E){E?this._storage.removeKey(E):this._storage.clear()},V}(),cache=new Cache,Registry=function(){function V(){var E=this;this.events=new EventDispatcher,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],typeof addEventListener<"u"&&(addEventListener("beforeprint",function(){each$2(E.baseSprites,function(F){var R=F.paper.svg;R.setAttribute("viewBox","0 0 "+R.clientWidth+" "+R.clientHeight)})}),addEventListener("afterprint",function(){each$2(E.baseSprites,function(F){var R=F.paper.svg;R.removeAttribute("viewBox")})}))}return V.prototype.getUniqueId=function(){var E=this._uidCount;return this._uidCount+=1,"id-"+E},Object.defineProperty(V.prototype,"map",{get:function(){return this._map||(this._map=new Dictionary),this._map},enumerable:!0,configurable:!0}),V.prototype.setCache=function(E,F,R){cache.set(this.uid,E,F,R)},V.prototype.getCache=function(E,F){return F===void 0&&(F=void 0),cache.get(this.uid,E,F)},V.prototype.dispatch=function(E,F){this.events.isEnabled(E)&&(F?(F.type=E,F.target=F.target||this,this.events.dispatch(E,{type:E,target:this})):this.events.dispatch(E,{type:E,target:this}))},V.prototype.dispatchImmediately=function(E,F){this.events.isEnabled(E)&&(F?(F.type=E,F.target=F.target||this,this.events.dispatchImmediately(E,F)):this.events.dispatchImmediately(E,{type:E,target:this}))},V.prototype.getPlaceholder=function(E){return hasValue(this._placeholders[E])?this._placeholders[E]:(this._placeholders[E]="__amcharts_"+E+"_"+random(8)+"__",this._placeholders[E])},V.prototype.addToInvalidComponents=function(E){E.baseId?move(this.invalidDatas[E.baseId],E):move(this.invalidDatas.noBase,E)},V.prototype.removeFromInvalidComponents=function(E){E.baseId&&remove(this.invalidDatas[E.baseId],E),remove(this.invalidDatas.noBase,E)},V.prototype.addToInvalidSprites=function(E){E.baseId?add$1(this.invalidSprites[E.baseId],E):add$1(this.invalidSprites.noBase,E)},V.prototype.removeFromInvalidSprites=function(E){E.baseId&&remove(this.invalidSprites[E.baseId],E),remove(this.invalidSprites.noBase,E)},V.prototype.addToInvalidPositions=function(E){E.baseId?add$1(this.invalidPositions[E.baseId],E):add$1(this.invalidPositions.noBase,E)},V.prototype.removeFromInvalidPositions=function(E){E.baseId&&remove(this.invalidPositions[E.baseId],E),remove(this.invalidPositions.noBase,E)},V.prototype.addToInvalidLayouts=function(E){E.baseId?add$1(this.invalidLayouts[E.baseId],E):add$1(this.invalidLayouts.noBase,E)},V.prototype.removeFromInvalidLayouts=function(E){E.baseId&&remove(this.invalidLayouts[E.baseId],E),remove(this.invalidLayouts.noBase,E)},V}(),registry=new Registry;function is(V,E){var F=registry.registeredClasses[E];return F!=null&&V instanceof F}var IndexedIterable=function(){function V(E,F,R){this._array=E,this._start=F,this._end=R}return V.prototype.iterator=function(){var E=this;return function(F){if(E._start!==E._end)if(E._start<E._end)for(var R=E._start;R<E._end&&F(E._array[R]);++R);else for(var R=E._start-1;R>=E._end&&F(E._array[R]);--R);}},V.prototype.backwards=function(){return new V(this._array,this._end,this._start)},V.prototype.range=function(E,F){if(E<=F){if(this._start===this._end)return this;if(this._start<this._end){var R=F-E;return E=Math.max(this._start+E,this._start),F=Math.min(E+R,this._end),new V(this._array,E,F)}else{var R=F-E;return E=Math.max(this._start-E,this._end),F=Math.max(E-R,this._end),new V(this._array,E,F)}}else throw new Error("Start index must be lower than end index")},V}();(function(V){__extends(E,V);function E(F,R,U){var W=V.call(this,[F.events.on("inserted",function(Y){var G=Y.newValue,X=W._getKey(G),K=0;eachContinue(F.iterator(),function(Z){return Z===G?!1:(W._getKey(Z)===X&&++K,!0)}),W._insert(G,X,K)},void 0,!1),F.events.on("removed",function(Y){W._remove(Y.oldValue)},void 0,!1)])||this;return W._keys=[],W._groups={},W._getKey=R,W._sort=U,each(F.iterator(),function(Y){W._insert(Y,R(Y))}),W}return E.prototype._insert=function(F,R,U){if(this._groups[R]==null){this._groups[R]=[];var W=getSortedIndex(this._keys,this._sort,R),Y=W.found,G=W.index;if(Y)throw new Error("Key already exists: "+R);insertIndex(this._keys,G,R)}U==null?this._groups[R].push(F):insertIndex(this._groups[R],U,F)},E.prototype._remove=function(F){var R=this._getKey(F),U=this._groups[R];if(U!=null&&(remove(U,F),U.length===0)){delete this._groups[R];var W=getSortedIndex(this._keys,this._sort,R),Y=W.found,G=W.index;if(Y)removeIndex(this._keys,G);else throw new Error("Key doesn't exist: "+R)}},E.prototype.iterator=function(){var F=this;return flatten(map(fromArray(this._keys),function(R){return fromArray(F._groups[R])}))},E})(MultiDisposer);var ListDisposer=function(V){__extends(E,V);function E(F,R){R===void 0&&(R=!0);var U=this;if(R){var W=F.events.on("removed",function(Y){Y.oldValue.dispose()},void 0,!1);U=V.call(this,function(){W.dispose(),each(F.iterator(),function(Y){Y.dispose()})})||this}else U=V.call(this,function(){each(F.iterator(),function(Y){Y.dispose()})})||this;return U}return E}(Disposer);function checkBounds(V,E){if(!(V>=0&&V<E))throw new Error("Index out of bounds: "+V)}var List=function(){function V(E){E===void 0&&(E=[]),this.events=new EventDispatcher,this._values=E}return Object.defineProperty(V.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),V.prototype.contains=function(E){return this._values.indexOf(E)!==-1},V.prototype.removeValue=function(E){for(var F=0,R=this._values.length;F<R;)this._values[F]===E?(this.removeIndex(F),--R):++F},V.prototype.indexOf=function(E){return indexOf(this._values,E)},Object.defineProperty(V.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),V.prototype.hasIndex=function(E){return E>=0&&E<this._values.length},V.prototype.getIndex=function(E){return this._values[E]},V.prototype.setIndex=function(E,F){checkBounds(E,this._values.length);var R=this._values[E];return R!==F&&(this._values[E]=F,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:E,oldValue:R,newValue:F}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:R}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:F})),R},V.prototype.insertIndex=function(E,F){checkBounds(E,this._values.length+1),insertIndex(this._values,E,F),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:E,newValue:F}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:F})},V.prototype._sortQuicksort=function(E,F,R){if(E<F){var U=this._sortPartition(E,F,R);this._sortQuicksort(E,U,R),this._sortQuicksort(U+1,F,R)}},V.prototype._sortPartition=function(E,F,R){for(var U=this._values,W=U[E],Y=E-1,G=F+1;;){do++Y;while(R(U[Y],W)<0);do--G;while(R(U[G],W)>0);if(Y>=G)return G;this.swap(Y,G)}},V.prototype.sort=function(E){this._sortQuicksort(0,this._values.length-1,E)},V.prototype.swap=function(E,F){var R=this._values.length;if(checkBounds(E,R),checkBounds(F,R),E!==F){var U=this._values[E],W=this._values[F];this._values[E]=W,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:E,oldValue:U,newValue:W}),this._values[F]=U,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:F,oldValue:W,newValue:U})}},V.prototype.removeIndex=function(E){checkBounds(E,this._values.length);var F=this._values[E];return removeIndex(this._values,E),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:E,oldValue:F}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:F}),F},V.prototype.moveValue=function(E,F){var R=this.indexOf(E);if(R!==-1){var U=this._values[R];removeIndex(this._values,R),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:R,oldValue:U})}F==null?(F=this._values.length,this._values.push(E)):insertIndex(this._values,F,E),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:F,newValue:E}),R===-1&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:E})},V.prototype.push=function(E){var F=this._values.push(E)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:F,newValue:E}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:E}),E},V.prototype.unshift=function(E){this.insertIndex(0,E)},V.prototype.pushAll=function(E){var F=this;each$2(E,function(R){F.push(R)})},V.prototype.copyFrom=function(E){this.pushAll(E._values)},V.prototype.pop=function(){var E=this._values.length-1;return E<0?void 0:this.removeIndex(this._values.length-1)},V.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},V.prototype.setAll=function(E){var F=this,R=copy$2(this._values);this._values.length=0,each$2(E,function(U){F._values.push(U)}),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:R,newArray:this._values}),this.events.isEnabled("removed")&&each$2(R,function(U){F.events.dispatchImmediately("removed",{type:"removed",target:F,oldValue:U})}),this.events.isEnabled("inserted")&&each$2(this._values,function(U){F.events.dispatchImmediately("inserted",{type:"inserted",target:F,newValue:U})})},V.prototype.clear=function(){this.setAll([])},V.prototype.iterator=function(){return fromArray(this._values)},V.prototype[Symbol.iterator]=function(){var E,F;return __generator(this,function(R){switch(R.label){case 0:E=this._values.length,F=0,R.label=1;case 1:return F<E?[4,this._values[F]]:[3,4];case 2:R.sent(),R.label=3;case 3:return++F,[3,1];case 4:return[2]}})},V.prototype.each=function(E){each$2(this._values,E)},V.prototype.range=function(E,F){if(E<=F){var R=F-E;return E=Math.max(E,0),F=Math.min(E+R,this._values.length),new IndexedIterable(this._values,E,F)}else throw new Error("Start index must be lower than end index")},V.prototype.backwards=function(){return new IndexedIterable(this._values,this._values.length,0)},V}(),ListTemplate=function(V){__extends(E,V);function E(F){var R=V.call(this)||this;return R.template=F,R}return Object.defineProperty(E.prototype,"template",{get:function(){return this._template},set:function(F){F.isTemplate=!0,this._template=F},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){var R=this;each(F.iterator(),function(U){R.push(U.clone())})},E.prototype.create=function(F){var R=F!=null?new F:this.template.clone();return this.push(R),R},E.prototype.clone=function(){for(var F=new E(this.template),R=this.values,U=R.length,W=0;W<U;++W)F.push(R[W].clone());return F},E}(List),OrderedList=function(){function V(E){this._values=[],this.events=new EventDispatcher,E!=null&&this.setAll(E)}return Object.defineProperty(V.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),V.prototype._insert=function(E){return this._values.push(E),this._values.length-1},Object.defineProperty(V.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),V.prototype.indexOf=function(E){return indexOf(this._values,E)},V.prototype.contains=function(E){return this.indexOf(E)!==-1},V.prototype.getIndex=function(E){return this._values[E]},Object.defineProperty(V.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),V.prototype.insert=function(E){var F=this._insert(E);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:F,newValue:E})},V.prototype.remove=function(E){var F=this.indexOf(E);if(F!==-1){var R=this._values[F];removeIndex(this._values,F),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:F,oldValue:R})}},V.prototype.setAll=function(E){var F=this;eachReverse(this._values,function(R,U){F._values.pop(),F.events.isEnabled("removed")&&F.events.dispatchImmediately("removed",{type:"removed",target:F,index:U,oldValue:R})}),each$2(E,function(R){F.insert(R)})},V.prototype.clear=function(){this.setAll([])},V.prototype.slice=function(E,F){var R=new V;return R._values=this._values.slice(E,F),R},V.prototype.findClosestIndex=function(E,F,R){R===void 0&&(R="any");var U=-1,W,Y,G=0;return eachContinue(this.iterator(),function(X){var K=F(X);if(R==="any"){if(K===E)return U=G,!1;var Z=Math.abs(E-K);(!hasValue(Y)||Y>Z)&&(U=G,W=K,Y=Z)}else R==="left"&&K<E?(!hasValue(W)||W<K)&&(U=G,W=K):R==="right"&&K>=E&&(!hasValue(W)||W>=K)&&(U=G,W=K);return++G,!0}),U===-1&&(R==="left"?U=0:R==="right"&&(U=this.length-1)),U},V.prototype.iterator=function(){return fromArray(this._values)},V.prototype[Symbol.iterator]=function(){var E,F;return __generator(this,function(R){switch(R.label){case 0:E=this._values.length,F=0,R.label=1;case 1:return F<E?[4,this._values[F]]:[3,4];case 2:R.sent(),R.label=3;case 3:return++F,[3,1];case 4:return[2]}})},V.prototype.each=function(E){each$2(this._values,E)},V}(),SortedList=function(V){__extends(E,V);function E(F){var R=V.call(this)||this;return R._ordering=F,R}return E.prototype._insert=function(F){var R=getSortedIndex(this._values,this._ordering,F).index;return insertIndex(this._values,R,F),R},E.prototype.indexOf=function(F){var R=getSortedIndex(this._values,this._ordering,F),U=R.found,W=R.index;return U?W:-1},E.prototype.update=function(F){var R=indexOf(this._values,F);if(R!==-1){var U=this._values.length-1;(R===0||this._ordering(this._values[R-1],F)<0)&&(R===U||this._ordering(F,this._values[R+1])<0)||(removeIndex(this._values,R),this._insert(F))}},E}(OrderedList),OrderedListTemplate=function(V){__extends(E,V);function E(F){var R=V.call(this)||this;return R.template=F,R}return Object.defineProperty(E.prototype,"template",{get:function(){return this._template},set:function(F){F.isTemplate=!0,this._template=F},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){var R=this;each(F.iterator(),function(U){R.insert(U.clone())})},E.prototype.slice=function(F,R){var U=new E(this.template);return U._values=this._values.slice(F,R),U},E.prototype.create=function(F){var R=F!=null?new F:this.template.clone();return this.insert(R),R},E}(OrderedList),SortedListTemplate=function(V){__extends(E,V);function E(F,R){var U=V.call(this,R)||this;return U.template=F,U}return Object.defineProperty(E.prototype,"template",{get:function(){return this._template},set:function(F){F.isTemplate=!0,this._template=F},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){var R=this;each(F.iterator(),function(U){R.insert(U.clone())})},E.prototype.create=function(F){var R=F!=null?new F:this.template.clone();return this.insert(R),R},E}(SortedList);function order(V,E){return V===E?0:V<E?-1:1}function reverse(V){switch(V){case 0:return 0;case-1:return 1;case 1:return-1}}function or(V,E){return V===0?E:V}var GlobalAdapter=function(){function V(){this._callbackId=0,this._callbacks=new SortedList(function(E,F){return or(order(E.priority,F.priority),order(E.id,F.id))})}return V.prototype.addAll=function(E,F,R,U,W){U===void 0&&(U=0),this._callbacks.insert({id:++this._callbackId,key:F,callback:R,priority:U,scope:W,type:E})},V.prototype.isEnabled=function(E,F){return any(this._callbacks.values,function(R){return R.key===F&&E instanceof R.type})},V.prototype.applyAll=function(E,F,R){var U=this._callbacks.values,W=U.length;if(W==0)return R;for(var Y=0;Y<W;++Y){var G=U[Y];G.key===F&&E instanceof G.type&&(R=G.callback.call(G.scope,R,E,F))}return R},V}(),globalAdapter=new GlobalAdapter,Adapter=function(){function V(E){this._callbackId=0,this._callbacks=new SortedList(function(F,R){return or(order(F.priority,R.priority),order(F.id,R.id))}),this._disabled={},this.object=E,this.events=this._callbacks.events}return V.prototype.add=function(E,F,R,U){R===void 0&&(R=0),this._callbacks.insert({id:++this._callbackId,key:E,callback:F,priority:R,scope:U})},V.prototype.has=function(E,F,R,U){return R===void 0&&(R=0),contains$1(this._callbacks.iterator(),function(W){return W.key===E&&W.callback===F&&W.priority===R&&W.scope===U})},V.prototype.remove=function(E,F){var R=this;each$2(toArray$2(this._callbacks.iterator()),function(U){U.key===E&&(!isNumber$1(F)||F===U.priority)&&R._callbacks.remove(U)})},V.prototype.enableKey=function(E){delete this._disabled[E]},V.prototype.disableKey=function(E,F){F===void 0&&(F=1/0),this._disabled[E]=F},V.prototype._hasListenersByType=function(E){return any(this._callbacks.values,function(F){return F.key===E})},V.prototype.isEnabled=function(E){return this._disabled[E]==null&&(this._hasListenersByType(E)||globalAdapter.isEnabled(this.object,E))},V.prototype._shouldDispatch=function(E){var F=this._disabled[E];return isNumber$1(F)?(F<=1?delete this._disabled[E]:--this._disabled[E],!1):!0},V.prototype.apply=function(E,F){if(this._shouldDispatch(E)){var R=this._callbacks.values,U=R.length;if(U>0)for(var W=0;W<U;++W){var Y=R[W];Y.key===E&&(F=Y.callback.call(Y.scope,F,this.object,E))}return F=globalAdapter.applyAll(this.object,E,F),F}else return F},V.prototype.keys=function(){return toArray$2(map(this._callbacks.iterator(),function(E){return E.key}))},V.prototype.copyFrom=function(E){var F=this;each(E._callbacks.iterator(),function(R){F.add(R.key,R.callback,R.priority,R.scope)}),each$1(E._disabled,function(R,U){F._disabled[R]=U})},V.prototype.clear=function(){this._callbacks.clear()},V}(),namedColors={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function rgb(V,E){var F;return namedColors[V]?F=namedColors[V]:V.charAt(0)==="#"?F=hexToRgb(V):V.match(/^rgba?\(/)&&(F=rgbaToRgb(V)),F||(F={r:0,g:0,b:0,a:1}),hasValue(E)&&(F.a=E),F}function hexToRgb(V){var E=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;V=V.replace(E,function(R,U,W,Y){return U+U+W+W+Y+Y});var F=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(V);return F?{r:parseInt(F[1],16),g:parseInt(F[2],16),b:parseInt(F[3],16)}:hexToRgbWithAlpha(V)}function hexToRgbWithAlpha(V){var E=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i;V=V.replace(E,function(R,U,W,Y,G){return U+U+W+W+Y+Y+G+G});var F=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(V);return F?{r:parseInt(F[1],16),g:parseInt(F[2],16),b:parseInt(F[3],16),a:parseInt(F[4],16)/256}:void 0}function rgbaToRgb(V){V=V.replace(/[ ]/g,"");var E=V.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(E)E.push("1");else if(E=V.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!E)return;return{r:parseInt(E[1]),g:parseInt(E[2]),b:parseInt(E[3]),a:parseFloat(E[4])}}function rgbToHex(V){return"#"+pad2(V.r.toString(16))+pad2(V.g.toString(16))+pad2(V.b.toString(16))}function rgbToRGBA(V){return hasValue(V.a)&&V.a!==1?"rgba("+V.r+","+V.g+","+V.b+","+V.a+")":"rgb("+V.r+","+V.g+","+V.b+")"}function pad2(V){return V.length==1?"0"+V:""+V}function interpolate(V,E,F){return F=fitToRange(F,0,1),V?E?{r:V.r+Math.round((E.r-V.r)*F),g:V.g+Math.round((E.g-V.g)*F),b:V.b+Math.round((E.b-V.b)*F),a:(V.a||1)+Math.round(((E.a||1)-(V.a||1))*F)}:V:E||V}function lighten(V,E){return V&&{r:Math.max(0,Math.min(255,V.r+getLightnessStep(V.r,E))),g:Math.max(0,Math.min(255,V.g+getLightnessStep(V.g,E))),b:Math.max(0,Math.min(255,V.b+getLightnessStep(V.b,E))),a:V.a}}function getLightnessStep(V,E){var F=E>0?255-V:V;return Math.round(F*E)}function brighten(V,E){if(V){var F=Math.min(Math.max(V.r,V.g,V.b),230),R=getLightnessStep(F,E);return{r:Math.max(0,Math.min(255,Math.round(V.r+R))),g:Math.max(0,Math.min(255,Math.round(V.g+R))),b:Math.max(0,Math.min(255,Math.round(V.b+R))),a:V.a}}else return V}function saturate(V,E){if(V==null||E==1)return V;var F=rgbToHsl(V);return F.s=E,hslToRgb(F)}function hslToRgb(V){var E,F,R,U=V.h,W=V.s,Y=V.l;if(W==0)E=F=R=Y;else{var G=function(J,Q,ee){return ee<0&&(ee+=1),ee>1&&(ee-=1),ee<.16666666666666666?J+(Q-J)*6*ee:ee<.5?Q:ee<.6666666666666666?J+(Q-J)*(.6666666666666666-ee)*6:J},X=Y<.5?Y*(1+W):Y+W-Y*W,K=2*Y-X;E=G(K,X,U+1/3),F=G(K,X,U),R=G(K,X,U-1/3)}return{r:Math.round(E*255),g:Math.round(F*255),b:Math.round(R*255)}}function rgbToHsl(V){var E=V.r/255,F=V.g/255,R=V.b/255,U=Math.max(E,F,R),W=Math.min(E,F,R),Y=0,G=0,X=(U+W)/2;if(U===W)Y=G=0;else{var K=U-W;switch(G=X>.5?K/(2-U-W):K/(U+W),U){case E:Y=(F-R)/K+(F<R?6:0);break;case F:Y=(R-E)/K+2;break;case R:Y=(E-F)/K+4;break}Y/=6}return{h:Y,s:G,l:X}}function isLight(V){return(V.r*299+V.g*587+V.b*114)/1e3>=128}var Color=function(){function V(E){this._value=E}return Object.defineProperty(V.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"hex",{get:function(){return this._value?rgbToHex(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"rgba",{get:function(){return this._value?rgbToRGBA(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"alpha",{get:function(){return this._value!=null&&this._value.a!=null?this._value.a:1},set:function(E){this._value&&(this._value.a=E)},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new V({r:255,g:255,b:255})),this._lightColor},set:function(E){this._lightColor=E},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new V({r:0,g:0,b:0})),this._darkColor},set:function(E){this._darkColor=E},enumerable:!0,configurable:!0}),V.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},V.prototype.lighten=function(E){return new V(lighten(this.rgb,E))},V.prototype.brighten=function(E){return new V(brighten(this.rgb,E))},V.prototype.saturate=function(E){return new V(saturate(this.rgb,E))},Object.defineProperty(V.prototype,"alternative",{get:function(){if(this.rgb!=null)return isLight(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),V}();function color(V,E){if(!hasValue(V))return new Color(void 0);if(typeof V=="string"){var F="_color_"+V+"_"+(E||"1"),R=registry.getCache(F);if(R)return new Color({r:R.r,g:R.g,b:R.b,a:R.a});var U=rgb(V,E);return registry.setCache(F,U),new Color(U)}return V instanceof Color?(hasValue(E)&&(V.alpha=E),V):new Color(V)}function isColor(V){return V instanceof Color}function castColor(V){return color(V)}function toColor(V){return hasValue(V)&&!isColor(V)?castColor(V):V}var BaseObject=function(){function V(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return V.prototype.debug=function(){},Object.defineProperty(V.prototype,"uid",{get:function(){return this._uid||(this._uid=registry.getUniqueId(),registry.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"id",{get:function(){return this._id},set:function(E){this._id=E},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"map",{get:function(){return this._map||(this._map=new Dictionary),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new Dictionary),this._delayedMap},enumerable:!0,configurable:!0}),V.prototype.addDelayedMap=function(E,F){var R=this.delayedMap;R.hasKey(F)||R.setKey(F,[]);var U=R.getKey(F);U.push({property:E,target:this})},V.prototype.processDelayedMap=function(){var E=this;this.delayedMap.each(function(F,R){if(E.map.hasKey(F)){var U=E.map.getKey(F);each$2(R,function(W){W.target[W.property]=U}),E.delayedMap.removeKey(F)}})},V.prototype.applyTheme=function(){var E=this;if(registry){var F=this.getCurrentThemes();F&&each$2(F,function(R,U){R(E)})}},Object.defineProperty(V.prototype,"themes",{get:function(){return this._themes},set:function(E){this._themes=E},enumerable:!0,configurable:!0}),V.prototype.getCurrentThemes=function(){return this.themes||registry.themes},V.prototype.isDisposed=function(){return this._disposed},V.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var E=this._disposers;for(this._disposers=null;E.length!==0;){var F=E.shift();F.dispose()}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var R=this._uid;R!=null&&registry.map.removeKey(R)}},V.prototype.addDisposer=function(E){this._disposers.push(E)},V.prototype.removeDispose=function(E){if(!this._disposed){var F=indexOf(this._disposers,E);F>-1&&this._disposers.splice(F,1)}E.dispose()},V.prototype.clone=function(E){E||(E="clone-"+registry.getUniqueId());var F=new this.constructor;return F.cloneId=E,F.copyFrom(this),F},Object.defineProperty(V.prototype,"clones",{get:function(){return this._clones||(this._clones=new List),this._clones},enumerable:!0,configurable:!0}),V.prototype.copyFrom=function(E){E.clones.push(this),this.clonedFrom=E},Object.defineProperty(V.prototype,"className",{get:function(){return this._className},set:function(E){this._className=E},enumerable:!0,configurable:!0}),V.prototype.setCache=function(E,F,R){cache.set(this.uid,E,F,R)},V.prototype.getCache=function(E,F){return F===void 0&&(F=void 0),cache.get(this.uid,E,F)},V.prototype.clearCache=function(){cache.clear(this.uid)},V.prototype.setTimeout=function(E,F){var R=this,U=setTimeout(function(){R.removeDispose(W),E()},F),W=new Disposer(function(){clearTimeout(U)});return this._disposers.push(W),W},V.prototype.setInterval=function(E,F){var R=this,U=setInterval(function(){R.removeDispose(W),E()},F),W=new Disposer(function(){clearTimeout(U)});return this._disposers.push(W),W},Object.defineProperty(V.prototype,"config",{set:function(E){try{this.processConfig(E)}catch(F){this.raiseCriticalError(F)}},enumerable:!0,configurable:!0}),V.prototype.processConfig=function(E){var F=this;if(!!E){var R=this;if(eachOrdered(E,function(W,Y){var G=Y;if(W=="callback"&&typeof Y=="function"&&Y.call(R),F.hasProperty(W)){var X;if(isObject$3(G)&&hasValue(G.type)&&(!isObject$3(R[W])||!hasValue(R[W].className)||G.forceCreate||R[W].className!=G.type)&&!F.asIs(W)?(X=F.createClassInstance(G.type),X?R[W]=X:X=R[W]):X=R[W],X instanceof Adapter)F.processAdapters(X,G);else if(X instanceof EventDispatcher)F.processEvents(X,G);else if(W=="locale"&&isString$2(G))window["am4lang_"+G]&&(R[W]=window["am4lang_"+G]);else if(W=="parent"&&isString$2(G)){var K=F.map.getKey(G);K?R[W]=K:F.addDelayedMap("parent",G)}else if(F.asIs(W))R[W]=G;else if(F.asFunction(W)&&isString$2(G))if(hasValue(registry.registeredClasses[G]))R[W]=registry.registeredClasses[G];else throw Error("Invalid easing function: "+G);else if(G instanceof V)R[W]=G;else if(X instanceof V)X.config=G;else if(X instanceof ListTemplate||X instanceof OrderedListTemplate||X instanceof SortedListTemplate){if(isArray$2(G))X instanceof ListTemplate?F.processListTemplate(G,X):F.processOrderedTemplate(G,X);else if(isObject$3(G))if(G instanceof V)X.template=G;else{var Z=void 0;hasValue(G.template)?Z=G.template:Z=G,X.template instanceof V?X.template.config=Z:each$1(Z,function(J,Q){var ee=X.template[J];ee instanceof Adapter?F.processAdapters(ee,Q):ee instanceof EventDispatcher?F.processEvents(ee,Q):ee instanceof DictionaryTemplate?F.processDictionaryTemplate(ee,Q):X.template[J]instanceof V?X.template[J].config=Q:isObject$3(Q)&&hasValue(Q.type)?(ee=F.createClassInstance(Q.type),ee?(ee instanceof V&&(ee.config=Q),X.template[J]=ee):X.template[J]=Q):ee instanceof List?F.processList(Q,ee):X.template[J]=F.maybeColorOrPercent(Q)}),hasValue(G.values)&&(X instanceof ListTemplate?F.processListTemplate(G.values,X):F.processOrderedTemplate(G.values,X))}}else X instanceof List?W=="children"?F.processList(G,X,F):F.processList(G,X):X instanceof DictionaryTemplate?F.processDictionaryTemplate(X,G):X instanceof Dictionary?F.processDictionary(X,G):X instanceof Color||X instanceof Percent?R[W]=F.maybeColorOrPercent(G):isObject$3(X)&&isObject$3(G)?copyAllProperties(G,X):(G=F.maybeColorOrPercent(G),R[W]=G)}else F.isReserved(W)||(R[W]=G)},this.configOrder),this.processingErrors.length){var U=this.processingErrors.join(`
`);throw this._processingErrors=[],Error(U)}}},V.prototype.maybeColorOrPercent=function(E){if(isString$2(E)){if(E.match(/^[\-]?[0-9.]+\%$/))return percent(toNumber(E));if(E.match(/^\#[0-9abcdef]{3,}$/i))return color(E)}return E},V.prototype.processAdapters=function(E,F){var R=this;isArray$2(F)?each$2(F,function(U,W){E.add(U.key,U.callback,U.priority||0,R)}):isObject$3(F)&&each$1(F,function(U,W){E.has(U,W)||E.add(U,W)})},V.prototype.processEvents=function(E,F){var R=this;isArray$2(F)?each$2(F,function(U,W){E.on(U.type,U.callback,R)}):isObject$3(F)&&each$1(F,function(U,W){E.has(U,W)||E.on(U,W)})},V.prototype.processDictionaryTemplate=function(E,F){isObject$3(F)&&each$1(F,function(R,U){var W;R=="template"?W=E.template:E.hasKey(R)?W=E.getKey(R):W=E.create(R),W instanceof V?W.config=U:isObject$3(W)&&isObject$3(U)?copyAllProperties(U,W):W.setKey(R,U)})},V.prototype.processDictionary=function(E,F){isObject$3(F)&&each$1(F,function(R,U){E.setKey(R,U)})},V.prototype.processListTemplate=function(E,F){var R=this;for(each$2(E,function(U,W){var Y=R.getConfigEntryType(U),G;if(F.hasIndex(W)&&!U.forceCreate)G=F.getIndex(W);else if(U instanceof V){F.push(U);return}else Y?G=F.create(Y):G=F.create();U===G||isObject$3(U)&&(G instanceof V?G.config=U:isObject$3(G)&&isObject$3(U)?copyAllProperties(U,G):F.setIndex(F.indexOf(G),U))});E.length>F.length;)F.pop()},V.prototype.processOrderedTemplate=function(E,F){var R=this;each$2(E,function(U,W){var Y=R.getConfigEntryType(U),G;Y?G=F.create(Y):G=F.create(),isObject$3(U)&&(G instanceof V?G.config=U:isObject$3(G)&&isObject$3(U)?copyAllProperties(U,G):F.insert(U))})},V.prototype.processList=function(E,F,R){var U=this;isArray$2(E)||(E=[E]);var W=F.length,Y=0;for(each$2(E,function(G,X){if(isObject$3(G)){var K=void 0;if(X<W&&!G.forceCreate)K=F.getIndex(X);else if(G instanceof V){F.push(G);return}else Y++,K=U.createEntryInstance(G),R?K.parent=R:F.push(K);K instanceof V?K.config=G:isObject$3(K)&&isObject$3(G)&&copyAllProperties(G,K)}else F.hasIndex(X)?F.setIndex(X,G):F.push(G)});!R&&E.length+Y<F.length;)F.pop()},V.prototype.configOrder=function(E,F){return E==F?0:E=="language"?-1:F=="language"?1:0},V.prototype.asIs=function(E){return indexOf(["locale"],E)!=-1},V.prototype.asFunction=function(E){return!1},V.prototype.createClassInstance=function(E){if(hasValue(registry.registeredClasses[E]))return new registry.registeredClasses[E];throw Error('Invalid type: "'+E+'".')},V.prototype.createEntryInstance=function(E){var F;return hasValue(E.type)&&(F=this.createClassInstance(E.type)),F||E},V.prototype.getConfigEntryType=function(E){if(hasValue(E.type)){if(hasValue(registry.registeredClasses[E.type]))return registry.registeredClasses[E.type];throw Error('Invalid type: "'+E.type+'".')}},V.prototype.hasProperty=function(E){return E in this},V.prototype.isReserved=function(E){return["type","forceCreate"].indexOf(E)!==-1},Object.defineProperty(V.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),V}(),BaseObjectEvents=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="BaseObjectEvents",F}return Object.defineProperty(E.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new EventDispatcher,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),E.prototype.dispatch=function(F,R){this._eventDispatcher&&this.events.isEnabled(F)&&(R?(R.type=F,R.target=R.target||this,this.events.dispatch(F,{type:F,target:this})):this.events.dispatch(F,{type:F,target:this}))},E.prototype.dispatchImmediately=function(F,R){this._eventDispatcher&&this.events.isEnabled(F)&&(R?(R.type=F,R.target=R.target||this,this.events.dispatchImmediately(F,R)):this.events.dispatchImmediately(F,{type:F,target:this}))},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),F._eventDispatcher&&this.events.copyFrom(F._eventDispatcher)},E}(BaseObject);function isSafari(){return/apple/i.test(navigator.vendor)}function isInternetExplorer(){return/MSIE |Trident\//.test(navigator.userAgent)}var STRING="string",NUMBER="number",DATE="date",DURATION="duration",PLACEHOLDER="__\xA7\xA7\xA7__",PLACEHOLDER2="__\xA7\xA7\xA7\xA7__";function used(V){}function copyProperties(V,E){return each$1(V,function(F,R){hasValue(R)&&(E[F]=R)}),E}function stripHash(V){return/^[^#]*/.exec(V)[0]}function getBaseURI(){var V="#";if(isSafari()){var E=document.baseURI;if(E){E=stripHash(E);var F=stripHash(location.href);E!==F&&(V=F+V)}}return V}function copy$1(V,E){return each$1(V,function(F,R){E[F]=R}),E}function isNotEmpty(V){return hasValue(V)&&V.toString()!==""}function relativeToValue(V,E){return isNumber$1(V)?V:V!=null&&isNumber$1(V.value)&&isNumber$1(E)?E*V.value:0}function relativeRadiusToValue(V,E,F){var R;return isNumber$1(V)?(R=V,R<0&&(F?R=E+R:R=E-R)):V!=null&&isNumber$1(V.value)&&(R=E*V.value),R}function getPixelRatio(){var V=window.devicePixelRatio||1;return V}function capitalize(V){var E=V.split("");return E[0]=E[0].toUpperCase(),E.join("")}function stringify(V){return JSON.stringify(V)}function escapeForRgex(V){return V.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function splitTextByCharCount(V,E,F,R,U){if(V.length<=E)return[V];var W=[];if(F){for(var Y=-1,G=V.replace(/([,;:!?\\\/]+|[\s])/g,PLACEHOLDER+"$1"+PLACEHOLDER),X=G.split(PLACEHOLDER),K=1;K<X.length;K++){var Z=X[K];(Z=="."||Z==",")&&X[K-1].match(/[\w]+$/)&&(X[K-1]+=Z,X[K]="")}for(var K=0;K<X.length;K++){var Z=X[K],J=Z.length;if(J!==0){if(J>E&&(F!==!0||U!=!1)){R&&(Z=reverseString(Z));var Q=Z.match(new RegExp(".{1,"+E+"}","g"));if(Q){if(R)for(var ee=0;ee<Q.length;ee++)Q[ee]=reverseString(Q[ee]);W=W.concat(Q)}}else Y===-1&&(W.push(""),Y=0),W[Y].length+J+1>E&&W[Y]!==""&&(W.push(""),Y++),W[Y]+=Z;Y=W.length-1}}}else{var Q=V.match(new RegExp(".{1,"+E+"}","g"));if(Q){if(R)for(var ee=0;ee<Q.length;ee++)R||(Q[ee]=reverseString(Q[ee]));W=Q}}return W.length==1&&F&&U&&W[0].length>E&&(W=[]),W}function truncateWithEllipsis(V,E,F,R,U){if(V.length<=E)return V;E-=F.length,E<1&&(E=1);var W=splitTextByCharCount(V,E,R,U);return(W[0]||"")+F}function trim$1(V){return V.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function rtrim(V){return V.replace(/[\s\uFEFF\xA0]+$/g,"")}function ltrim(V){return V.replace(/^[\s\uFEFF\xA0]+/g,"")}function reverseString(V){return V.split("").reverse().join("")}function padString(V,E,F){return E===void 0&&(E=0),F===void 0&&(F="0"),typeof V!="string"&&(V=V.toString()),E>V.length?Array(E-V.length+1).join(F)+V:V}function getFormat(V){if(typeof V>"u")return STRING;V=V.toLowerCase().replace(/^\[[^\]]*\]/,""),V=V.replace(/\[[^\]]+\]/,""),V=V.trim();var E=V.match(/\/(date|number|duration)$/);return E?E[1]:V===NUMBER?NUMBER:V===DATE?DATE:V===DURATION?DURATION:V.match(/[#0]/)?NUMBER:V.match(/[ymwdhnsqaxkzgtei]/)?DATE:STRING}function cleanFormat(V){return V.replace(/\/(date|number|duration)$/i,"")}function stripTags(V){return V&&V.replace(/<[^>]*>/g,"")}function plainText(V){return V&&stripTags((""+V).replace(/[\n\r]+/g,". "))}function numberToString(V){if(isNaN$1(V))return"NaN";if(V===1/0)return"Infinity";if(V===-1/0)return"-Infinity";if(V===0&&1/V===-1/0)return"-0";var E=V<0;V=Math.abs(V);var F=getValue(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+V)),R=F[1],U=F[2]||"",W;if(F[3]==null)W=U===""?R:R+"."+U;else{var Y=+F[3];if(V<1){var G=Y-1;W="0."+repeat("0",G)+R+U}else{var G=Y-U.length;G===0?W=R+U:G<0?W=R+U.slice(0,G)+"."+U.slice(G):W=R+U+repeat("0",G)}}return E?"-"+W:W}function anyToDate(V){if(isDate$1(V)){var E=new Date(V);return E.setMilliseconds(V.getMilliseconds()),E}else{if(isNumber$1(V))return new Date(V);var F=Number(V);return isNumber$1(F)?new Date(F):new Date(V)}}function anyToNumber(V){if(isDate$1(V))return V.getTime();if(isNumber$1(V))return V;if(isString$2(V)){var E=Number(V);return isNumber$1(E)?E:void 0}}function getYearDay(V,E){var F=new Date(V.getFullYear(),0,0),R=V.getTime()-F.getTime()+(F.getTimezoneOffset()-V.getTimezoneOffset())*60*1e3,U=1e3*60*60*24;return Math.floor(R/U)}function getWeek(V,E){var F=new Date(Date.UTC(V.getFullYear(),V.getMonth(),V.getDate())),R=F.getUTCDay()||7;F.setUTCDate(F.getUTCDate()+4-R);var U=new Date(Date.UTC(F.getUTCFullYear(),0,1));return Math.ceil(((F.getTime()-U.getTime())/864e5+1)/7)}function getMonthWeek(V,E){var F=getWeek(new Date(V.getFullYear(),V.getMonth(),1)),R=getWeek(V);return R==1&&(R=53),R-F+1}function getDayFromWeek(V,E,F,R){F===void 0&&(F=1),R===void 0&&(R=!1);var U=new Date(E,0,4,0,0,0,0);R&&U.setUTCFullYear(E);var W=V*7+F-((U.getDay()||7)+3);return W}function get12Hours(V,E){return V>12?V-=12:V===0&&(V=12),hasValue(E)?V+(E-1):V}function getTimeZone(V,E,F,R){if(E===void 0&&(E=!1),F===void 0&&(F=!1),R===void 0&&(R=!1),R)return E?"Coordinated Universal Time":"UTC";var U=V.toLocaleString("UTC"),W=V.toLocaleString("UTC",{timeZoneName:E?"long":"short"}).substr(U.length);return F===!1&&(W=W.replace(/ (standard|daylight|summer|winter) /i," ")),W}function fitNumber(V,E,F){return V>F?F:V<E?E:V}function fitNumberRelative(V,E,F){var R=F-E;return(V>F||V<E)&&(V=E+(V-R*Math.floor(V/R))),V}function svgPointToSprite(V,E){var F=V.x,R=V.y,U=[];if(E){for(;hasValue(E.parent);)U.push(E),E=E.parent;U.reverse();for(var W=0;W<U.length;W++){var Y=U[W],G=Y.rotation,X=F-Y.pixelX-Y.ex,K=R-Y.pixelY-Y.ey;Y.dx&&(F-=Y.dx),Y.dy&&(R-=Y.dy);var Z=Y.scale;Y.group&&(Z=Y.group.scale),F=(cos(-G)*X-sin(-G)*K)/Z-Y.pixelPaddingLeft,R=(cos(-G)*K+sin(-G)*X)/Z-Y.pixelPaddingTop}}return{x:F,y:R}}function spritePointToSvg(V,E){var F=V.x,R=V.y;if(E)for(;hasValue(E.parent);){var U=E.rotation;F+=E.pixelPaddingLeft+E.ex,R+=E.pixelPaddingTop+E.ey;var W=E.scale;E.group&&(W=E.group.scale);var Y=E.pixelX+(F*cos(U)-R*sin(U))*W,G=E.pixelY+(F*sin(U)+R*cos(U))*W;E.dx&&(Y+=E.dx),E.dy&&(G+=E.dy),F=Y,R=G,E=E.parent}return{x:F,y:R}}function spritePointToSprite(V,E,F){return svgPointToSprite(spritePointToSvg(V,E),F)}function spriteRectToSvg(V,E){var F=spritePointToSvg(V,E),R=spritePointToSvg({x:V.x+V.width,y:V.y+V.height},E);return{x:F.x,y:F.y,width:R.x-F.x,height:R.y-F.y}}function documentPointToSvg(V,E,F){try{var R=E.getBoundingClientRect();return isNumber$1(F)||(F=1),{x:(V.x-R.left)/F,y:(V.y-R.top)/F}}catch{return V}}function svgPointToDocument(V,E){try{var F=E.getBoundingClientRect();return{x:V.x+F.left,y:V.y+F.top}}catch{return V}}function documentPointToSprite(V,E){if(E&&E.htmlContainer){var F=documentPointToSvg(V,getValue(E.htmlContainer),E.svgContainer.cssScale);return svgPointToSprite(F,E)}else return V}function spritePointToDocument(V,E){if(E&&E.htmlContainer){var F=spritePointToSvg(V,E);return svgPointToDocument(F,getValue(E.htmlContainer))}else return V}function width(V){var E=getComputedStyle(V),F=parseFloat(E.paddingLeft)+parseFloat(E.paddingRight),R=parseFloat(E.borderLeftWidth)+parseFloat(E.borderRightWidth);return V.clientWidth-F-R}function height(V){var E=getComputedStyle(V),F=parseFloat(E.paddingTop)+parseFloat(E.paddingBottom),R=parseFloat(E.borderTopWidth)+parseFloat(E.borderBottomWidth);return V.clientHeight-F-R}function decimalPlaces(V){var E=(""+V).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return E?Math.max(0,(E[1]?E[1].length:0)-(E[2]?+E[2]:0)):0}var urlRegexp=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function parseUrl(V){var E=urlRegexp.exec(V);return{protocol:E&&E[1]||"",separator:E&&E[2]||"",authority:E&&E[3]||"",domain:E&&E[4]||"",port:E&&E[5]||"",path:E&&E[6]||"",query:E&&E[7]||"",hash:E&&E[8]||""}}function serializeUrl(V){return V.protocol+V.separator+V.authority+V.domain+V.port+V.path+V.query+V.hash}function isRelativeUrl(V){return V.protocol===""&&V.separator===""&&V.authority===""&&V.domain===""&&V.port===""}function joinUrl(V,E){var F=parseUrl(V),R=parseUrl(E);if(isRelativeUrl(F))throw new Error("Left URL is not absolute");if(isRelativeUrl(R)){if(R.path!=="")if(R.path[0]==="/")F.path=R.path;else{var U=F.path.split(/\//),W=R.path.split(/\//);if(U.length===0?W.length!==0&&U.push(""):U.length>1&&U.pop(),pushAll(U,W),F.path=U.join("/"),F.path!==""&&F.path[0]!=="/")throw new Error("URL path must start with /")}return F.query=R.query,F.hash=R.hash,serializeUrl(F)}else return serializeUrl(R)}function isIE(){return!!window.MSInputMethodContext&&!!document.documentMode}function linear(V){return+V}registry.registeredClasses["ease.linear"]=linear;function quadIn(V){return V*V}registry.registeredClasses["ease.quadIn"]=quadIn;function quadOut(V){return V*(2-V)}registry.registeredClasses["ease.quadOut"]=quadOut;function quadInOut(V){return V*=2,(V<=1?V*V:--V*(2-V)+1)/2}registry.registeredClasses["ease.quadInOut"]=quadInOut;function polyIn(V,E){return Math.pow(V,E)}registry.registeredClasses["ease.polyIn"]=polyIn;function polyOut(V,E){return 1-Math.pow(1-V,E)}registry.registeredClasses["ease.polyOut"]=polyOut;function polyInOut(V,E){return V*=2,(V<=1?Math.pow(V,E):2-Math.pow(2-V,E))/2}registry.registeredClasses["ease.polyInOut"]=polyInOut;function polyIn3(V){return polyIn(V,3)}registry.registeredClasses["ease.polyIn3"]=polyIn3;function polyOut3(V){return polyOut(V,3)}registry.registeredClasses["ease.polyOut3"]=polyOut3;function polyInOut3(V){return polyInOut(V,3)}registry.registeredClasses["ease.polyInOut3"]=polyInOut3;function expIn(V){return Math.pow(2,10*V-10)}registry.registeredClasses["ease.expIn"]=expIn;function expOut(V){return 1-Math.pow(2,-10*V)}registry.registeredClasses["ease.expOut"]=expOut;function expInOut(V){return V*=2,(V<=1?Math.pow(2,10*V-10):2-Math.pow(2,10-10*V))/2}registry.registeredClasses["ease.expInOut"]=expInOut;function sinIn(V){return 1-Math.cos(V*HALFPI)}registry.registeredClasses["ease.sinIn"]=sinIn;function sinOut(V){return Math.sin(V*HALFPI)}registry.registeredClasses["ease.sinOut"]=sinOut;function sinInOut(V){return(1-Math.cos(PI*V))/2}registry.registeredClasses["ease.sinInOut"]=sinInOut;function cubicIn(V){return V*V*V}registry.registeredClasses["ease.cubicIn"]=cubicIn;function cubicOut(V){return--V*V*V+1}registry.registeredClasses["ease.cubicOut"]=cubicOut;function cubicInOut(V){return V*=2,(V<=1?V*V*V:(V-=2)*V*V+2)/2}registry.registeredClasses["ease.cubicInOut"]=cubicInOut;function circleIn(V){return 1-Math.sqrt(1-V*V)}registry.registeredClasses["ease.circleIn"]=circleIn;function circleOut(V){return Math.sqrt(1- --V*V)}registry.registeredClasses["ease.circleOut"]=circleOut;function circleInOut(V){return V*=2,(V<=1?1-Math.sqrt(1-V*V):Math.sqrt(1-(V-=2)*V)+1)/2}registry.registeredClasses["ease.circleInOut"]=circleInOut;var b1=4/11,b2=6/11,b3=8/11,b4=3/4,b5=9/11,b6=10/11,b7=15/16,b8=21/22,b9=63/64,b0=1/b1/b1;function bounceIn(V){return 1-bounceOut(1-V)}registry.registeredClasses["ease.bounceIn"]=bounceIn;function bounceOut(V){return V=+V,V<b1?b0*V*V:V<b3?b0*(V-=b2)*V+b4:V<b6?b0*(V-=b5)*V+b7:b0*(V-=b8)*V+b9}registry.registeredClasses["ease.bounceOut"]=bounceOut;function bounceInOut(V){return V*=2,(V<=1?1-bounceOut(1-V):bounceOut(V-1)+1)/2}registry.registeredClasses["ease.bounceInOut"]=bounceInOut;var tau=2*Math.PI,amplitude=1,period=.3/tau,s=Math.asin(1/amplitude)*period;function elasticIn(V){return amplitude*Math.pow(2,10*--V)*Math.sin((s-V)/period)}registry.registeredClasses["ease.elasticIn"]=elasticIn;function elasticOut(V){return 1-amplitude*Math.pow(2,-10*(V=+V))*Math.sin((V+s)/period)}registry.registeredClasses["ease.elasticOut"]=elasticOut;function elasticInOut(V){return V=V*2-1,(V<0?amplitude*Math.pow(2,10*V)*Math.sin((s-V)/period):2-amplitude*Math.pow(2,-10*V)*Math.sin((s+V)/period))/2}registry.registeredClasses["ease.elasticInOut"]=elasticInOut;var SpriteState=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.transitionDuration=0,F.transitionEasing=cubicOut,F.properties={},F.propertyFields={},F.filters=new List,F.isTemplate=!1,F.className="SpriteState",F._disposers.push(new ListDisposer(F.filters)),F.applyTheme(),F}return Object.defineProperty(E.prototype,"adapter",{get:function(){var F=this;return this._adapterO||(this._adapterO=new Adapter(this),this._adapterO.events.on("inserted",function(R){F[R.newValue.key]=F[R.newValue.key]},void 0,!1),this._adapterO.events.on("removed",function(R){F[R.newValue.key]=F[R.newValue.key]},void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),E.prototype.getPropertyValue=function(F){var R=this.properties[F],U=this.sprite;if(U){var W=this.propertyFields[F];if(hasValue(W)&&(U.dataItem&&(R=U.dataItem.dataContext[W]),R==null&&(R="__unset")),hasValue(R))this._adapterO&&(R=this._adapterO.apply(F,R));else{var Y=U.getPropertyValue(F);this._adapterO?R=this._adapterO.apply(F,Y):R=Y,R==Y&&(R=void 0)}}return R},E.prototype.copyFrom=function(F){F&&F!=this&&(this.transitionDuration=F.transitionDuration,this.transitionEasing=F.transitionEasing,copyProperties(F.properties,this.properties),copyProperties(F.propertyFields,this.propertyFields),this.filters.copyFrom(F.filters),F._adapterO&&this.adapter.copyFrom(F._adapterO))},Object.defineProperty(E.prototype,"allValues",{get:function(){var F=this,R={};if(each$1(this.properties,function(Y,G){R[Y]=F.getPropertyValue(Y)}),this._adapterO){var U=this._adapterO.keys();each$1(U,function(Y,G){var X=F.getPropertyValue(G);R[G]=X})}var W=this.propertyFields;return each$1(W,function(Y){var G=F.getPropertyValue(Y);R[Y]=G}),R},enumerable:!0,configurable:!0}),E.prototype.reset=function(){this.properties={},this.filters.clear()},E.prototype.processConfig=function(F){hasValue(F)&&hasValue(F.properties)&&each$1(F.properties,function(R,U){isString$2(U)&&(U.match(/^[0-9.\-]+\%$/)?F.properties[R]=percent(toNumber(U)):U.match(/^\#[0-9abcdef]{3,}$/i)&&(F.properties[R]=toColor(U)))}),V.prototype.processConfig.call(this,F)},E.prototype.asFunction=function(F){return F=="transitionEasing"||V.prototype.asIs.call(this,F)},E}(BaseObject);registry.registeredClasses.SpriteState=SpriteState;var SpriteEventDispatcher=function(V){__extends(E,V);function E(){var F=V!==null&&V.apply(this,arguments)||this;return F._interactionEvents=new Dictionary,F}return E.prototype._dispatchSpriteEvent=function(F){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(F.type)){var R=merge$2(F,{target:this.target});this.target.events.dispatchImmediately(R.type,R)}},E.prototype._dispatchSpritePointEvent=function(F){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(F.type)){var R=merge$2(F,{target:this.target,spritePoint:F.point?documentPointToSprite(F.point,this.target):void 0,svgPoint:this.target.getSvgPoint(F.point)});this.target.events.dispatchImmediately(R.type,R)}},E.prototype._addInteractionObjectEvent=function(F,R,U,W){var Y=this,G=W+"-"+F,X=this._interactionEvents.insertKeyIfEmpty(G,function(){var K=Y.target.interactions.events.on(F,R,U,W);return new CounterDisposer(function(){Y._interactionEvents.removeKey(G),K.dispose()})});return X.increment()},E.prototype._on=function(F,R,U,W,Y,G){var X=V.prototype._on.call(this,F,R,U,W,Y,G),K=[X.disposer];switch(R){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":K.push(this._addInteractionObjectEvent(R,this._dispatchSpritePointEvent,this,Y));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":K.push(this._addInteractionObjectEvent(R,this._dispatchSpriteEvent,this,Y));break}switch(R){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0;break}return X.disposer=new MultiDisposer(K),X},E}(TargetedEventDispatcher),SVGDefaults=function(){function V(){}return V.opacity=1,V.strokeOpacity=1,V.strokeWidth=1,V.fillOpacity=1,V.fill=color("#000000"),V.stroke=color("#000000"),V.focusable=void 0,V.tabindex=0,V}(),options={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function getProgressNumber(V,E,F){return E+(F-E)*V}function getProgressPercent(V,E,F){return new Percent(getProgressNumber(V,E.percent,F.percent))}function getProgressColor(V,E,F){var R=new Color(interpolate(E.rgb,F.rgb,V));return E.alpha!=F.alpha&&(R.alpha=E.alpha+(F.alpha-E.alpha)*V),R}function getHybridProperty(V,E){return E+V.charAt(0).toUpperCase()+V.substr(1)}var AnimationDisposer=function(){function V(E){this._disposer=new Disposer(function(){for(;E.length!==0;)E[0].dispose()})}return V.prototype.isDisposed=function(){return this._disposer.isDisposed()},V.prototype.dispose=function(){this._disposer.dispose()},V}(),Animation=function(V){__extends(E,V);function E(F,R,U,W){var Y=V.call(this)||this;return Y.duration=0,Y.easing=linear,Y.progress=0,Y._loop=0,Y._pause=!1,Y._delayTimeout=null,Y._time=0,Y._isFinished=!1,Y.className="Animation",Y.object=F,Y.animationOptions=toArray$3(R),Y.duration=U,W&&(Y.easing=W),Y.applyTheme(),Y}return E.prototype.debug=function(){},E.prototype.dispose=function(){V.prototype.dispose.call(this),this.pause()},E.prototype.delay=function(F){var R=this;if(F>0){this.pause(),move(this.object.animations,this);var U=setTimeout(function(){R._delayTimeout=null,R.start()},F);this._delayTimeout=new Disposer(function(){clearTimeout(U)})}return this},E.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,move(system$1.animations,this),move(this.object.animations,this),system$1.requestFrame()},E.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var F=this.animationOptions.length-1;F>=0;F--){var R=this.animationOptions[F];if(hasValue(R.from)||(R.childObject?R.from=R.childObject[R.property]:(R.from=this.object[R.property],hasValue(R.from)||(R.from=SVGDefaults[R.property]))),R.from==R.to)remove(this.animationOptions,R);else if(!hasValue(R.from)||!(R.from instanceof Percent)&&R.to instanceof Percent||R.from instanceof Percent&&!(R.to instanceof Percent))this.staticOptions.push(R),remove(this.animationOptions,R);else if(isNumber$1(R.to))if(R.updateMethod=getProgressNumber,R.from instanceof Percent){var U=this.object[getHybridProperty(R.property,"pixel")];isNaN(U)?(this.staticOptions.push(R),remove(this.animationOptions,R)):R.from=U}else isNaN(R.from)&&(this.staticOptions.push(R),remove(this.animationOptions,R));else if(R.to instanceof Color)R.from?R.updateMethod=getProgressColor:(this.staticOptions.push(R),remove(this.animationOptions,R));else if(R.to instanceof Percent){if(R.updateMethod=getProgressPercent,!isNaN(R.from)){var U=this.object[getHybridProperty(R.property,"relative")];isNaN(U)||(R.from=percent(U*100))}}else this.staticOptions.push(R),remove(this.animationOptions,R)}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var W={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",W)}return this.update(),this.duration===0&&this.end(),this},E.prototype.loop=function(F){return isNumber$1(F)||(F=1/0),this._loop=F,this},E.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),remove(system$1.animations,this),remove(this.object.animations,this),this},E.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},E.prototype.end=function(){if(this._loop==0&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var F={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",F)}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},E.prototype.kill=function(){this.pause(),this._isFinished=!0},E.prototype.isFinished=function(){return this._isFinished},E.prototype.applyStaticOptions=function(){var F=this;each$2(this.staticOptions,function(R){R.childObject?R.childObject[R.property]=F.progress==1?R.to:R.from:F.object[R.property]=F.progress==1?R.to:R.from})},E.prototype.stop=function(F){if(this.pause(),!F&&this.events.isEnabled("animationstopped")){var R={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",R)}return this},E.prototype.setProgress=function(F){var R=this;if(this._time=this.duration*F,each$2(this.animationOptions,function(W){if(W.updateMethod&&hasValue(W.from)){var Y=W.updateMethod(F,W.from,W.to);W.childObject?W.childObject[W.property]=Y:R.object[W.property]=Y}}),this.progress=F,this.events.isEnabled("animationprogress")){var U={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",U)}system$1.requestFrame()},E.prototype.update=function(){if(!this._pause){var F=void 0;this._time=fitToRange(Date.now()-this._startTime,0,this.duration);var R=this._time/this.duration;F=this.easing(R),(this.duration==0||!isNumber$1(F)||R>=1)&&(F=1),this.setProgress(F),round$2(this._time/this.duration,6)==1&&this.end()}return this},Object.defineProperty(E.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),E.prototype.stopSameAnimations=function(){var F=this;each$2(copy$2(this.object.animations),function(R){if(R!==F&&!R.delayed){var U=[];each$2(F.animationOptions,function(W){each$2(R.animationOptions,function(Y){W.property==Y.property&&W.childObject==Y.childObject&&(U.push(Y),R.animationOptions.length==0&&R.kill())})}),each$2(U,function(W){remove(R.animationOptions,W)})}})},E.prototype.asFunction=function(F){return F=="easing"||V.prototype.asIs.call(this,F)},E}(BaseObjectEvents),SVGNS="http://www.w3.org/2000/svg",XMLNS="http://www.w3.org/2000/xmlns/",XLINK="http://www.w3.org/1999/xlink";function addEventListener$1(V,E,F,R){return V.addEventListener(E,F,R||!1),new Disposer(function(){V.removeEventListener(E,F,R||!1)})}function getElement(V){if(isString$2(V)){var E=document.getElementById(V);if(E==null&&(E=document.getElementsByClassName(V)[0]),E instanceof HTMLElement)return E}else if(V instanceof HTMLElement)return V}function addClass(V,E){if(!!V)if(V.classList){var F=E.split(" ");each$2(F,function(U){V.classList.add(U)})}else{var R=V.getAttribute("class");R?V.setAttribute("class",R.split(" ").filter(function(U){return U!==E}).join(" ")+" "+E):V.setAttribute("class",E)}}function removeClass(V,E){if(!!V)if(V.classList)V.classList.remove(E);else{var F=V.getAttribute("class");F&&V.setAttribute("class",F.split(" ").filter(function(R){return R!==E}).join(" "))}}function setStyle(V,E,F){V.style[E]=F}function getComputedStyle$2(V,E){return V.currentStyle?V.currentStyle[E]:document.defaultView.getComputedStyle(V,null).getPropertyValue(E)}function blur(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var V=document.createElement("button");V.style.position="fixed",V.style.top="0px",V.style.left="-10000px",document.body.appendChild(V),V.focus(),V.blur(),document.body.removeChild(V)}}function contains(V,E){for(var F=E;;){if(V===F)return!0;if(F.parentNode==null){if(F.host==null)return!1;F=F.host}else F=F.parentNode}}function getShadowRoot(V){for(var E=V;;){if(E.parentNode==null)return E.host!=null?E:null;E=E.parentNode}}function getRoot(V){for(var E=V.ownerDocument,F=V;;){if(F.parentNode==null)return F===E||F.host!=null?F:null;F=F.parentNode}}function eventTarget(V){return typeof V.composedPath=="function"?V.composedPath()[0]:V.target}function fixPixelPerfect(V){readFrame(function(){try{var E=V.getBoundingClientRect(),F=E.left-Math.round(E.left),R=E.top-Math.round(E.top);F!==0&&writeFrame(function(){V.style.left=F+"px"}),R!==0&&writeFrame(function(){V.style.top=R+"px"})}catch{}})}var rootStylesheet;function getStylesheet(V){if(V==null){if(!hasValue(rootStylesheet)){var E=document.createElement("style");E.type="text/css",document.head.appendChild(E),rootStylesheet=E.sheet}return rootStylesheet}else{var E=document.createElement("style");return E.type="text/css",V.appendChild(E),E.sheet}}function appendStylesheet(V,E){var F=V.cssRules.length;return V.insertRule(E+"{}",F),V.cssRules[F]}var StyleRule=function(V){__extends(E,V);function E(F,R,U){var W=this,Y=getStylesheet(F);return W=V.call(this,function(){var G=indexOf(Y.cssRules,W._rule);if(G===-1)throw new Error("Could not dispose StyleRule");Y.deleteRule(G)})||this,W._rule=appendStylesheet(Y,R),each$1(U,function(G,X){W.setStyle(G,X)}),W}return Object.defineProperty(E.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(F){this._rule.selectorText=F},enumerable:!0,configurable:!0}),E.prototype._setVendorPrefixName=function(F,R){var U=this._rule.style;U.setProperty("-webkit-"+F,R,""),U.setProperty("-moz-"+F,R,""),U.setProperty("-ms-"+F,R,""),U.setProperty("-o-"+F,R,""),U.setProperty(F,R,"")},E.prototype.setStyle=function(F,R){F==="transition"?this._setVendorPrefixName(F,R):this._rule.style.setProperty(F,R,"")},E}(Disposer),styleId=0;(function(V){__extends(E,V);function E(F,R,U){var W=this,Y=hasValue(U)?U:"__style_"+ ++styleId+"__";return W=V.call(this,F,"."+Y,R)||this,W._className=Y,W}return Object.defineProperty(E.prototype,"className",{get:function(){return this._className},set:function(F){this._className=F,this.selector="."+F},enumerable:!0,configurable:!0}),E.prototype.toString=function(){return this._className},E})(StyleRule);function ready(V){if(document.readyState!=="loading")V();else{var E=function(){document.readyState!=="loading"&&(document.removeEventListener("readystatechange",E),V())};document.addEventListener("readystatechange",E)}}function findFont(V){var E=getComputedStyle$2(V,"font-family");if(E)return E;var F=V.parentElement||V.parentNode;return F?findFont(F):void 0}function findFontSize(V){var E=getComputedStyle$2(V,"font-size");if(E)return E;var F=V.parentElement||V.parentNode;return F?findFontSize(F):void 0}var AMElement=function(){function V(E){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,typeof E=="string"?this.node=document.createElementNS(SVGNS,E):this.node=E}return V.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(V.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),V.prototype.transform=function(){var E="translate("+this._x+","+this._y+")";if(this._scale!=1&&(E+=(E?" ":"")+"scale("+this._scale+")"),this._rotation!=0){var F="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(F="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),E+=(E?" ":"")+F}this._transformString=E,this.node.setAttribute("transform",E)},V.prototype.getBBox=function(){var E={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var F=this.node.getBBox();E.x=F.x,E.y=F.y,E.width=F.width,E.height=F.height}catch{}return E},V.prototype.moveTo=function(E){if(E){var F=E.x,R=E.y;(this._x!=F||this._y!=R)&&(this._x=F,this._y=R,this.transform())}},Object.defineProperty(V.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(E){this.node.innerHTML=E},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(E){this.node.textContent=E},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"x",{get:function(){return this._x},set:function(E){this._x!=E&&(this._x=E,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"y",{get:function(){return this._y},set:function(E){this._y!=E&&(this._y=E,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"rotation",{get:function(){return this._rotation},set:function(E){this._rotation!=E&&(this._rotation=E,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"rotationX",{get:function(){return this._rotationX},set:function(E){this._rotationX!=E&&(this._rotationX=E,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"rotationY",{get:function(){return this._rotationY},set:function(E){this._rotationY!=E&&(this._rotationY=E,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"scale",{get:function(){return this._scale},set:function(E){this._scale!=E&&(this._scale=E,this.transform())},enumerable:!0,configurable:!0}),V.prototype.removeAttr=function(E){this.node.removeAttribute(E)},V.prototype.attr=function(E){var F=this;return each$1(E,function(R,U){hasValue(U)?F.node.setAttribute(R,U):F.node.removeAttribute(R)}),this},V.prototype.getAttr=function(E){return this.node.getAttribute(E)},V.prototype.attrNS=function(E,F,R){return this.node.setAttributeNS(E,F,R),this},V.prototype.getAttrNS=function(E,F){return this.node.getAttributeNS(E,F)},V.prototype.removeStyle=function(E){this.node.style[E]=null,delete this.node.style[E]},V.prototype.getStyle=function(E){return this.node.style[E]},V.prototype.addStyle=function(E){var F=this;return each$1(E,function(R,U){hasValue(U)?F.node.style[R]=U:F.removeStyle(R)}),this},V.prototype.addClass=function(E){addClass(this.node,E)},V.prototype.removeClass=function(E){removeClass(this.node,E)},V.prototype.setClass=function(E){this.node.setAttribute("class",E)},V.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},V.prototype.isDisposed=function(){return this._isDisposed},V.prototype.dispose=function(){this.removeNode()},V}(),Group=function(V){__extends(E,V);function E(F){return V.call(this,F)||this}return E.prototype.add=function(F){F&&this.node.appendChild(F.node)},E.prototype.addToBack=function(F){if(F){var R=this.node.childNodes[0];R?R!=F.node&&this.node.insertBefore(F.node,R):this.node.appendChild(F.node)}},E.prototype.removeElement=function(F){if(F)try{F.node&&F.node.parentNode==this.node&&this.node.removeChild(F.node)}catch{}},E.prototype.hasChild=function(F){for(var R=0;R<this.node.childNodes.length;R++)if(this.node.childNodes[R]==F.node)return!0;return!1},Object.defineProperty(E.prototype,"content",{get:function(){return this.node.innerHTML},set:function(F){this.node.innerHTML=F},enumerable:!0,configurable:!0}),E.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var F=this.node.firstChild;F&&F.parentNode&&F.parentNode.removeChild(F)}},E.prototype.removeChildrenByTag=function(F){if(this.node.childNodes)for(var R=this.node.getElementsByTagName(F),U=0;U<R.length;U++)this.node.removeChild(R[U])},E}(AMElement),InterfaceColorSet=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._purposes={stroke:color("#e5e5e5"),fill:color("#f3f3f3"),primaryButton:color("#6794dc"),primaryButtonHover:color("#6771dc"),primaryButtonDown:color("#68dc75"),primaryButtonActive:color("#68dc75"),primaryButtonText:color("#FFFFFF"),primaryButtonStroke:color("#FFFFFF"),secondaryButton:color("#d9d9d9"),secondaryButtonHover:color("#d9d9d9").brighten(-.25),secondaryButtonDown:color("#d9d9d9").brighten(-.35),secondaryButtonActive:color("#d9d9d9").brighten(.35),secondaryButtonText:color("#000000"),secondaryButtonStroke:color("#FFFFFF"),grid:color("#000000"),background:color("#ffffff"),alternativeBackground:color("#000000"),text:color("#000000"),alternativeText:color("#FFFFFF"),disabledBackground:color("#999999"),positive:color("#67dc75"),negative:color("#dc6788")},F.className="InterfaceColorSet",F.applyTheme(),F}return E.prototype.debug=function(){},E.prototype.getFor=function(F){return this._purposes[F]},E.prototype.setFor=function(F,R){this._purposes[F]=R},E}(BaseObject);registry.registeredClasses.InterfaceColorSet=InterfaceColorSet;var rules$1=new Dictionary;function popupCSS(V,E){E||(E="ampopup");var F=new InterfaceColorSet,R=F.getFor("text"),U=F.getFor("background");U.alpha=.8;var W=F.getFor("alternativeBackground");W.alpha=.05;var Y=rules$1.insertKeyIfEmpty(E,function(){var G=new MultiDisposer([new StyleRule(V,"."+E,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new StyleRule(V,"."+E+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":U.hex,opacity:"0.5"}),new StyleRule(V,"."+E+"-header",{display:"block",width:"100%","min-height":"1.8em",background:W.rgba}),new StyleRule(V,"."+E+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new StyleRule(V,"."+E+"-content",{background:U.hex,"background-color":U.rgba,color:R.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new StyleRule(V,"."+E+"-inside",{padding:"1em"}),new StyleRule(V,"."+E+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new CounterDisposer(function(){rules$1.removeKey(E),G.dispose()})});return Y.increment()}var InteractionObjectEventDispatcher=function(V){__extends(E,V);function E(){var F=V!==null&&V.apply(this,arguments)||this;return F._domEvents={},F}return E.prototype._addDOMEvent=function(F,R,U,W){var Y=this;if(!this._domEvents[F]){var G=function(X){U.call(W,R,X)};this.target.element.addEventListener(F,G,!1),this._domEvents[F]=new CounterDisposer(function(){delete Y._domEvents[F],Y.target.element.removeEventListener(F,G,!1)})}return this._domEvents[F].increment()},E.prototype._dispatchKeyboardEvent=function(F,R){this.target.events.isEnabled(F)&&this.target.events.dispatchImmediately(F,{type:F,target:this.target,event:R})},E.prototype._on=function(F,R,U,W,Y,G){var X=V.prototype._on.call(this,F,R,U,W,Y,G),K=[X.disposer];switch(R){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":K.push(this._addDOMEvent(R,R,this._dispatchKeyboardEvent,this));break;case"keyup":K.push(this._addDOMEvent(R,R,this._dispatchKeyboardEvent,this));break;case"keypress":K.push(this._addDOMEvent(R,R,this._dispatchKeyboardEvent,this));break;case"input":K.push(this._addDOMEvent(R,R,this._dispatchKeyboardEvent,this));break}return X.disposer=new MultiDisposer(K),X},E}(TargetedEventDispatcher),InteractionObject=function(V){__extends(E,V);function E(F){var R=V.call(this)||this;return R._eventDispatcher=new InteractionObjectEventDispatcher(R),R.eventDisposers=new Dictionary,R.replacedStyles=new Dictionary,R._clickable=!1,R._contextMenuDisabled=!1,R._hoverable=!1,R._trackable=!1,R._draggable=!1,R._swipeable=!1,R._resizable=!1,R._wheelable=!1,R._inert=!1,R._isHover=!1,R.isRealHover=!1,R._isHoverByTouch=!1,R._isDown=!1,R._isFocused=!1,R._isTouchProtected=!1,R._inertiaOptions=new Dictionary,R.inertias=new Dictionary,R._hitOptions={},R._hoverOptions={},R._swipeOptions={},R._keyboardOptions={},R._mouseOptions={},R._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},R._disposers.push(R._eventDispatcher),R._element=F,R.className="InteractionObject",R._disposers.push(new DictionaryDisposer(R.inertias)),R._disposers.push(new DictionaryDisposer(R.eventDisposers)),R.applyTheme(),R}return Object.defineProperty(E.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isHover",{get:function(){return this._isHover},set:function(F){this.isHover!=F&&(this._isHover=F,F?getInteraction().overObjects.moveValue(this):(this.isRealHover=!1,getInteraction().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(F){this.isHoverByTouch!=F&&(this._isHoverByTouch=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new List),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isDown",{get:function(){return this._isDown},set:function(F){this.isDown!=F&&(this._isDown=F,F?getInteraction().downObjects.moveValue(this):getInteraction().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new List),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isFocused",{get:function(){return this._isFocused},set:function(F){this.isFocused!=F&&(this._isFocused=F,F?getInteraction().focusedObject=this:getInteraction().focusedObject=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(F){this._isTouchProtected!=F&&(this._isTouchProtected=F,F?getInteraction().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&getInteraction().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"clickable",{get:function(){return this._clickable},set:function(F){this._clickable!==F&&(this._clickable=F,getInteraction().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(F){this._contextMenuDisabled!==F&&(this._contextMenuDisabled=F,getInteraction().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hoverable",{get:function(){return this._hoverable},set:function(F){this._hoverable!==F&&(this._hoverable=F,getInteraction().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"trackable",{get:function(){return this._trackable},set:function(F){this._trackable!==F&&(this._trackable=F,getInteraction().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"draggable",{get:function(){return this._draggable},set:function(F){this._draggable!==F&&(this._draggable=F,getInteraction().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"swipeable",{get:function(){return this._swipeable},set:function(F){this._swipeable!==F&&(this._swipeable=F,getInteraction().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"resizable",{get:function(){return this._resizable},set:function(F){this._resizable!==F&&(this._resizable=F,getInteraction().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"wheelable",{get:function(){return this._wheelable},set:function(F){this._wheelable!==F&&(this._wheelable=F,getInteraction().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"inert",{get:function(){return this._inert},set:function(F){this._inert!==F&&(this._inert=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"focusable",{get:function(){return this._focusable},set:function(F){this._focusable!==F&&(this._focusable=F,this._focusable&&this.tabindex==-1&&(this._tabindex=1),getInteraction().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tabindex",{get:function(){return getValueDefault(this._tabindex,-1)},set:function(F){this._tabindex!==F&&(this._tabindex=F,F>-1&&(this.focusable=!0),getInteraction().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"element",{get:function(){return this._element},set:function(F){this._element=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(F){this._originalPosition=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"originalScale",{get:function(){return getValueDefault(this._originalScale,1)},set:function(F){this._originalScale!==F&&(this._originalScale=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"originalAngle",{get:function(){return getValueDefault(this._originalAngle,0)},set:function(F){this._originalAngle!==F&&(this._originalAngle=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(F){this._inertiaOptions=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(F){this._hitOptions=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(F){this._hoverOptions=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(F){this._swipeOptions=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(F){this._keyboardOptions=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(F){this._mouseOptions=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(F){this._cursorOptions=F},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.inertiaOptions=F.inertiaOptions,this.hitOptions=F.hitOptions,this.hoverOptions=F.hoverOptions,this.swipeOptions=F.swipeOptions,this.keyboardOptions=F.keyboardOptions,this.cursorOptions=F.cursorOptions,this.contextMenuDisabled=F.contextMenuDisabled,getInteraction().applyCursorOverStyle(this)},E.prototype.setEventDisposer=function(F,R,U){var W=this.eventDisposers.getKey(F);R?W==null&&this.eventDisposers.setKey(F,U()):W!=null&&(W.dispose(),this.eventDisposers.removeKey(F))},E.prototype.dispose=function(){V.prototype.dispose.call(this);var F=getInteraction();F.overObjects.removeValue(this),F.downObjects.removeValue(this),F.trackedObjects.removeValue(this),F.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&F.unlockWheel(),F.focusedObject===this&&(F.focusedObject=void 0)},E}(BaseObjectEvents),InteractionKeyboardObject=function(){function V(E,F){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=E,this.keyboardEvent=F,this._startedOn=new Date().getTime(),getInteraction().processDragStart(E),system$1.animations.push(this),this.update()}return V.prototype.update=function(){var E=this.interaction,F=getInteraction().getKeyboardOption(E,"speed"),R=getInteraction().getKeyboardOption(E,"accelleration"),U=getInteraction().getKeyboardOption(E,"accellerationDelay"),W={x:0,y:0};this.keyboardEvent.shiftKey?(F*=.5,R=1):this.keyboardEvent.ctrlKey&&(F*=2);var Y=new Date().getTime()-this._startedOn,G=Y-U;if(R>0&&G>0){var X=Y/U;Y=U,W.x+=this.directionX*(F*R*X*G),W.y+=this.directionY*(F*R*X*G)}W.x+=this.directionX*(F*Y),W.y+=this.directionY*(F*Y),getInteraction().handleTransformMove(E,W,{x:0,y:0},this.keyboardEvent,!0,!1)},V.prototype.isDisposed=function(){return this._disposed},V.prototype.dispose=function(){this._disposed||(getInteraction().processDragStop(this.interaction),remove(system$1.animations,this))},V}(),Inertia=function(V){__extends(E,V);function E(F,R,U,W){var Y=V.call(this)||this;return Y.animations=[],Y.className="Inertia",Y.interaction=F,Y.type=R,Y.point=U,Y.startPoint=W,Y._disposers.push(new AnimationDisposer(Y.animations)),Y}return Object.defineProperty(E.prototype,"x",{get:function(){return this.point.x},set:function(F){isNumber$1(F)&&(this.point.x=F,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"y",{get:function(){return this.point.y},set:function(F){isNumber$1(F)&&(this.point.y=F,this.handleMove())},enumerable:!0,configurable:!0}),E.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var F={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",F)}},E.prototype.done=function(){this.interaction.inertias.removeKey(this.type),this.type==="move"&&getInteraction().processDragStop(this.interaction),this.dispose()},E}(BaseObject),Keyboard=function(){function V(){}return V.prototype.getEventKey=function(E){var F=E.keyCode||E.which,R;switch(F){case 38:R="up";break;case 40:R="down";break;case 37:R="left";break;case 39:R="right";break;case 13:R="enter";break;case 27:R="esc";break;case 36:R="home";break;case 35:R="end";break;case 9:R="tab";break;case 17:R="ctrl";break;case 18:R="alt";break;case 16:R="shift";break;case 32:R="space";break;case 36:R="home";break;case 35:R="end";break;case 33:R="pgup";break;case 34:R="pgdn";break;case 45:R="ins";break;case 46:R="del";break;case 107:R="plus";break;case 109:R="minus";break;default:R="other";break}return R},V.prototype.isKey=function(E,F){var R=this.getEventKey(E);return isString$2(F)&&(F=[F]),F.indexOf(R)!==-1},V.prototype.shiftKey=function(E){return E.shiftKey},V.prototype.ctrlKey=function(E){return E.ctrlKey},V.prototype.altKey=function(E){return E.altKey},V.prototype.metaKey=function(E){return E.metaKey},V}(),keyboard=new Keyboard,timeUnitDurations={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function getNextUnit(V){switch(V){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function getDuration(V,E){return hasValue(E)||(E=1),timeUnitDurations[V]*E}function now(){return new Date}function getTime(){return now().getTime()}function copy(V){return new Date(V.getTime())}function checkChange(V,E,F,R){V=new Date(V.getTime()),E=new Date(E.getTime());var U=0,W=0;!R&&F!="millisecond"&&(U=V.getTimezoneOffset(),V.setUTCMinutes(V.getUTCMinutes()-U),W=E.getTimezoneOffset(),E.setUTCMinutes(E.getUTCMinutes()-W));var Y=!1;switch(F){case"year":V.getUTCFullYear()!=E.getUTCFullYear()&&(Y=!0);break;case"month":(V.getUTCFullYear()!=E.getUTCFullYear()||V.getUTCMonth()!=E.getUTCMonth())&&(Y=!0);break;case"day":(V.getUTCMonth()!=E.getUTCMonth()||V.getUTCDate()!=E.getUTCDate())&&(Y=!0);break;case"hour":V.getUTCHours()!=E.getUTCHours()&&(Y=!0);break;case"minute":V.getUTCMinutes()!=E.getUTCMinutes()&&(Y=!0);break;case"second":V.getUTCSeconds()!=E.getUTCSeconds()&&(Y=!0);break;case"millisecond":V.getTime()!=E.getTime()&&(Y=!0);break}if(Y)return!0;var G=getNextUnit(F);return G?(V.setUTCMinutes(V.getUTCMinutes()+U),E.setUTCMinutes(E.getUTCMinutes()+W),checkChange(V,E,G,R)):!1}function add(V,E,F,R){var U=0;switch(!R&&E!="millisecond"&&(U=V.getTimezoneOffset(),V.setUTCMinutes(V.getUTCMinutes()-U)),E){case"day":var W=V.getUTCDate();V.setUTCDate(W+F);break;case"second":var Y=V.getUTCSeconds();V.setUTCSeconds(Y+F);break;case"millisecond":var G=V.getUTCMilliseconds();V.setUTCMilliseconds(G+F);break;case"hour":var X=V.getUTCHours();V.setUTCHours(X+F);break;case"minute":var K=V.getUTCMinutes();V.setUTCMinutes(K+F);break;case"year":var Z=V.getUTCFullYear();V.setUTCFullYear(Z+F);break;case"month":var J=V.getUTCMonth();V.setUTCMonth(J+F);break;case"week":var Q=V.getUTCDate();V.setUTCDate(Q+F*7);break}if(!R&&E!="millisecond"&&(V.setUTCMinutes(V.getUTCMinutes()+U),E=="day"||E=="week"||E=="month"||E=="year")){var ee=V.getTimezoneOffset();if(ee!=U){var te=ee-U;V.setUTCMinutes(V.getUTCMinutes()+te),V.getTimezoneOffset()!=ee&&V.setUTCMinutes(V.getUTCMinutes()-te)}}return V}function round$1(V,E,F,R,U,W,Y,G){Y===void 0&&(Y=0),isNumber$1(F)||(F=1);var X=0;switch(G&&["day","month","week","year"].indexOf(E)!=-1&&(V=setTimezone(V,G)),!U&&E!="millisecond"&&(X=V.getTimezoneOffset(),V.setUTCMinutes(V.getUTCMinutes()-X)),E){case"day":var K=V.getUTCDate();if(F>1){if(W){W=round$1(W,"day",1);var Z=V.getTime()-W.getTime(),J=Math.floor(Z/getDuration("day")/F),Q=getDuration("day",J*F);V.setTime(W.getTime()+Q-X*getDuration("minute"))}}else V.setUTCDate(K);V.setUTCHours(0,0,0,0);break;case"second":var ee=V.getUTCSeconds();F>1&&(ee=Math.floor(ee/F)*F),V.setUTCSeconds(ee,0);break;case"millisecond":if(F==1)return V;var te=V.getUTCMilliseconds();te=Math.floor(te/F)*F,V.setUTCMilliseconds(te);break;case"hour":var ie=V.getUTCHours();F>1&&(ie=Math.floor(ie/F)*F),V.setUTCHours(ie,Y,0,0);break;case"minute":var re=V.getUTCMinutes();te=V.getUTCMilliseconds(),F>1&&(re=Math.floor(re/F)*F),V.setUTCMinutes(re,0,0);break;case"month":var ne=V.getUTCMonth();F>1&&(ne=Math.floor(ne/F)*F),V.setUTCMonth(ne,1),V.setUTCHours(0,Y,0,0);break;case"year":var ae=V.getUTCFullYear();F>1&&(ae=Math.floor(ae/F)*F),V.setUTCFullYear(ae,0,1),V.setUTCHours(0,Y,0,0);break;case"week":var se=V.getUTCDate(),le=V.getUTCDay();isNumber$1(R)||(R=1),le>=R?se=se-le+R:se=se-(7+le)+R,V.setUTCDate(se),V.setUTCHours(0,Y,0,0);break}if(!U&&E!="millisecond"&&(V.setUTCMinutes(V.getUTCMinutes()+X),E=="day"||E=="week"||E=="month"||E=="year")){var oe=V.getTimezoneOffset();if(oe!=X){var ue=oe-X;V.setUTCMinutes(V.getUTCMinutes()+ue)}}return V}function setTimezone(V,E){var F=new Date(V.toLocaleString("en-US",{timeZone:E}));return F}function getTimezoneMinutes(V){var E=new Date;E.setHours(0,0,0,0);var F=setTimezone(E,V);return F.getMinutes()}var Interaction=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._globalEventsAdded=!1,F._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},F._usePointerEventsOnly=!1,F._useTouchEventsOnly=!1,F._addHoverEvents=!0,F._passiveSupported=!1,F._delayedEvents={out:[]},F.overObjects=new List,F.downObjects=new List,F.trackedObjects=new List,F.transformedObjects=new List,F.pointers=new Dictionary,F.inertiaOptions=new Dictionary,F.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},F.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},F.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},F.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},F.mouseOptions={sensitivity:1},F.className="Interaction",F.body=F.getInteraction(document.body),F._disposers.push(F.body),window.hasOwnProperty("PointerEvent")?(F._pointerEvents.pointerdown="pointerdown",F._pointerEvents.pointerup="pointerup",F._pointerEvents.pointermove="pointermove",F._pointerEvents.pointercancel="pointercancel",F._pointerEvents.pointerover="pointerover",F._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(F._pointerEvents.pointerdown="MSPointerDown",F._pointerEvents.pointerup="MSPointerUp",F._pointerEvents.pointermove="MSPointerMove",F._pointerEvents.pointercancel="MSPointerUp",F._pointerEvents.pointerover="MSPointerOver",F._pointerEvents.pointerout="MSPointerOut"):typeof matchMedia<"u"&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(F._addHoverEvents=!1,F._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||F.fullFF()?F._usePointerEventsOnly=!0:F._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?F._pointerEvents.wheel="wheel":hasValue(document.onmousewheel)&&(F._pointerEvents.wheel="mousewheel"),F.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:polyOut3}),F.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:polyOut3}),F._passiveSupported=E.passiveSupported,F.applyTheme(),F}return E.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},E.prototype.debug=function(){},E.prototype.addGlobalEvents=function(){var F=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(addEventListener$1(document,this._pointerEvents.pointerdown,function(R){F.handleGlobalPointerDown(R)})),this._disposers.push(addEventListener$1(document,this._pointerEvents.pointermove,function(R){F.handleGlobalPointerMove(R)})),this._disposers.push(addEventListener$1(document,this._pointerEvents.pointerup,function(R){F.handleGlobalPointerUp(R)})),this._disposers.push(addEventListener$1(document,this._pointerEvents.pointercancel,function(R){F.handleGlobalPointerUp(R,!0)})),this._disposers.push(addEventListener$1(document,"mouseenter",function(R){!hasValue(R.relatedTarget)&&(R.buttons==0||R.which==0)&&F.handleDocumentLeave(R)}))),this._usePointerEventsOnly||(this._disposers.push(addEventListener$1(document,"touchstart",function(R){F.handleGlobalTouchStart(R)})),this._disposers.push(addEventListener$1(document,"touchmove",function(R){F.handleGlobalTouchMove(R)})),this._disposers.push(addEventListener$1(document,"touchend",function(R){F.handleGlobalTouchEnd(R)}))),this._disposers.push(addEventListener$1(document,"keydown",function(R){F.handleGlobalKeyDown(R)})),this._disposers.push(addEventListener$1(document,"keyup",function(R){F.handleGlobalKeyUp(R)})),this._globalEventsAdded=!0)},E.prototype.processClickable=function(F){this.processTouchable(F)},E.prototype.processContextMenu=function(F){F.contextMenuDisabled?F.eventDisposers.hasKey("contextMenuDisabled")||F.eventDisposers.setKey("contextMenuDisabled",addEventListener$1(F.element,"contextmenu",function(R){R.preventDefault()})):F.eventDisposers.hasKey("contextMenuDisabled")&&F.eventDisposers.getKey("contextMenuDisabled").dispose()},E.prototype.processHoverable=function(F){var R=this;if(F.hoverable||F.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(F),!F.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&F.eventDisposers.setKey("hoverable",new MultiDisposer([addEventListener$1(F.element,this._pointerEvents.pointerout,function(W){return R.handlePointerOut(F,W)}),addEventListener$1(F.element,this._pointerEvents.pointerover,function(W){return R.handlePointerOver(F,W)})])),F.trackable;else{var U=F.eventDisposers.getKey("hoverable");U!=null&&(U.dispose(),F.eventDisposers.removeKey("hoverable"))}this.processTouchable(F)},E.prototype.processMovable=function(F){(F.draggable||F.swipeable||F.trackable||F.resizable)&&(!this.isGlobalElement(F)&&!F.isTouchProtected&&this.prepElement(F),this.applyCursorOverStyle(F)),this.processTouchable(F)},E.prototype.processTrackable=function(F){this.processHoverable(F),this.processMovable(F),F.trackable?this.trackedObjects.moveValue(F):this.trackedObjects.removeValue(F)},E.prototype.processDraggable=function(F){this.processMovable(F)},E.prototype.processSwipeable=function(F){this.processMovable(F)},E.prototype.processResizable=function(F){this.processMovable(F)},E.prototype.processWheelable=function(F){var R=this;if(F.wheelable)F.eventDisposers.hasKey("wheelable")||F.eventDisposers.setKey("wheelable",new MultiDisposer([addEventListener$1(F.element,this._pointerEvents.wheel,function(W){return R.handleMouseWheel(F,W)},this._passiveSupported?{passive:!1}:!1),F.events.on("out",function(W){F.wheelable&&R.unlockWheel()}),F.events.on("over",function(W){F.wheelable&&R.lockWheel()})]));else{var U=F.eventDisposers.getKey("wheelable");U!=null&&(U.dispose(),F.eventDisposers.removeKey("wheelable"))}},E.prototype.processFocusable=function(F){var R=this;if(F.focusable===!0&&F.tabindex>-1&&!this._useTouchEventsOnly)F.eventDisposers.hasKey("focusable")||F.eventDisposers.setKey("focusable",new MultiDisposer([addEventListener$1(F.element,"focus",function(W){return R.handleFocus(F,W)}),addEventListener$1(F.element,"blur",function(W){return R.handleBlur(F,W)}),addEventListener$1(F.element,this._pointerEvents.pointerdown,function(W){return R.handleFocusBlur(F,W)}),addEventListener$1(F.element,"touchstart",function(W){return R.handleFocusBlur(F,W)},this._passiveSupported?{passive:!1}:!1)]));else{var U=F.eventDisposers.getKey("focusable");U!=null&&(U.dispose(),F.eventDisposers.removeKey("focusable"))}},E.prototype.processTouchable=function(F){var R=this;if(F.clickable||F.hoverable||F.trackable||F.draggable||F.swipeable||F.resizable)this.addGlobalEvents(),F.eventDisposers.hasKey("touchable")||(!this._useTouchEventsOnly&&!this._usePointerEventsOnly?F.eventDisposers.setKey("touchable",new MultiDisposer([addEventListener$1(F.element,this._pointerEvents.pointerdown,function(W){return R.handlePointerDown(F,W)}),addEventListener$1(F.element,"touchstart",function(W){return R.handleTouchDown(F,W)},this._passiveSupported?{passive:!1}:!1)])):this._useTouchEventsOnly?this._usePointerEventsOnly||F.eventDisposers.setKey("touchable",addEventListener$1(F.element,"touchstart",function(W){return R.handleTouchDown(F,W)},this._passiveSupported?{passive:!1}:!1)):F.eventDisposers.setKey("touchable",addEventListener$1(F.element,this._pointerEvents.pointerdown,function(W){return R.handlePointerDown(F,W)})));else{var U=F.eventDisposers.getKey("touchable");U!=null&&(U.dispose(),F.eventDisposers.removeKey("touchable"))}},E.prototype.handleFocus=function(F,R){if(!F.focusable){R.preventDefault();return}if(F.isFocused=!0,F.events.isEnabled("focus")&&!system$1.isPaused){var U={type:"focus",target:F,event:R};F.events.dispatchImmediately("focus",U)}},E.prototype.handleFocusBlur=function(F,R){F.focusable!==!1&&this.getHitOption(F,"noFocus")&&F.events.once("focus",function(){F.events.disableType("blur"),blur(),F.sprite&&F.sprite.handleBlur(),F.events.enableType("blur")})},E.prototype.handleBlur=function(F,R){if(!F.focusable){R.preventDefault();return}if(F.isFocused=!1,F.events.isEnabled("blur")&&!system$1.isPaused){var U={type:"blur",target:F,event:R};F.events.dispatchImmediately("blur",U)}},E.prototype.handleGlobalKeyDown=function(F){if(this.focusedObject){if(keyboard.isKey(F,"esc"))blur();else if(this.focusedObject.draggable&&keyboard.isKey(F,["up","down","left","right"])){F.preventDefault();var R=this.focusedObject,U="interactionKeyboardObject";if(R.eventDisposers.hasKey(U))return;var W=new InteractionKeyboardObject(R,F);switch(R.eventDisposers.setKey(U,W),keyboard.getEventKey(F)){case"up":W.directionY=-1;break;case"down":W.directionY=1;break;case"left":W.directionX=-1;break;case"right":W.directionX=1;break}}}},E.prototype.handleGlobalKeyUp=function(F){var R="interactionKeyboardObject";if(this.focusedObject){var U=this.focusedObject.eventDisposers.getKey(R);U!=null&&(F.preventDefault(),U.dispose(),this.focusedObject.eventDisposers.removeKey(R));var W=this.focusedObject.sprite;keyboard.isKey(F,"enter")&&W&&(W.events.isEnabled("hit")||W.events.isEnabled("toggled")?this.focusedObject.dispatchImmediately("hit"):W.showTooltipOn=="hit"&&this.focusedObject.dispatchImmediately("up"))}},E.prototype.handleGlobalPointerMove=function(F){var R=this.getPointer(F);if(R.point=this.getPointerPoint(F),this.events.isEnabled("track")&&!system$1.isPaused){var U={type:"track",target:this,event:F,pointer:R,touch:R.touch};this.events.dispatchImmediately("track",U)}this.addBreadCrumb(R,R.point),this.handleGlobalMove(R,F)},E.prototype.handleGlobalPointerDown=function(F){this.processDelayed();var R=this.getPointer(F);if(this.events.isEnabled("down")&&!system$1.isPaused){var U={type:"down",target:this,event:F,pointer:R,touch:R.touch};this.events.dispatchImmediately("down",U)}},E.prototype.preventTouchAction=function(F){F.defaultPrevented||F.preventDefault()},E.prototype.handleGlobalPointerUp=function(F,R){R===void 0&&(R=!1);var U=this.getPointer(F);if(this.events.isEnabled("up")&&!system$1.isPaused){var W={type:"up",target:this,event:F,pointer:U,touch:U.touch};this.events.dispatchImmediately("up",W)}this.handleGlobalUp(U,F,R)},E.prototype.handleGlobalTouchMove=function(F){for(var R=0;R<F.changedTouches.length;R++){var U=this.getPointer(F.changedTouches[R]);if(U.point=this.getPointerPoint(F.changedTouches[R]),this.events.isEnabled("track")&&!system$1.isPaused){var W={type:"track",target:this,event:F,pointer:U,touch:U.touch};this.events.dispatchImmediately("track",W)}this.addBreadCrumb(U,U.point),this.handleGlobalMove(U,F)}},E.prototype.handleGlobalTouchStart=function(F){this.processDelayed();for(var R=0;R<F.changedTouches.length;R++){var U=this.getPointer(F.changedTouches[R]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!system$1.isPaused){var W={type:"down",target:this,event:F,pointer:U,touch:U.touch};this.events.dispatchImmediately("down",W)}}},E.prototype.handleGlobalTouchEnd=function(F){for(var R=0;R<F.changedTouches.length;R++){var U=this.getPointer(F.changedTouches[R]);if(this.events.isEnabled("up")&&!system$1.isPaused){var W={type:"up",target:this,event:F,pointer:U,touch:U.touch};this.events.dispatchImmediately("up",W)}this.handleGlobalUp(U,F)}},E.prototype.handlePointerDown=function(F,R){var U=this.getPointer(R);!U.touch&&R.which!=1&&R.which!=3||(U.button=R.which,this.resetPointer(U,R),this.handleDown(F,U,R))},E.prototype.handlePointerOver=function(F,R){var U=this.getPointer(R);this.handleOver(F,U,R)},E.prototype.handlePointerOut=function(F,R){var U=this.getPointer(R);this.handleOut(F,U,R)},E.prototype.handleMouseWheel=function(F,R){var U=this.getPointer(R);U.point=this.getPointerPoint(R);var W=0,Y=0,G=1;if(R.deltaMode==1&&(G=50),G*=this.getMouseOption(F,"sensitivity"),R instanceof WheelEvent)W=Math.round(-1*R.wheelDeltaX||R.deltaX*G),Y=Math.round(-1*R.wheelDeltaY||R.deltaY*G);else throw new Error("Invalid event type");this.handleWheel(F,U,W,Y,R)},E.prototype.handleTouchDown=function(F,R){for(var U=0;U<R.changedTouches.length;U++){var W=this.getPointer(R.changedTouches[U]);this.maybePreventDefault(F,R,W),this.resetPointer(W,R.changedTouches[U]),this.handleDown(F,W,R)}},E.prototype.handleHit=function(F,R,U){var W=getTime();if(F.lastHit&&F.lastHit>=W-this.getHitOption(F,"doubleHitTime")){if(W-F.lastHit<100)return;if(F.lastHit=void 0,F.lastHitPointer=void 0,F.events.isEnabled("doublehit")&&!system$1.isPaused){var Y={type:"doublehit",target:F,point:R.point,event:U,touch:R.touch};F.events.dispatchImmediately("doublehit",Y)}}else if(F.lastHit=W,F.lastHitPointer=R,R.button===3){if(F.events.isEnabled("rightclick")&&!system$1.isPaused){var Y={type:"rightclick",target:F,event:U};F.events.dispatchImmediately("rightclick",Y)}}else if(F.events.isEnabled("hit")&&!system$1.isPaused){var Y={type:"hit",target:F,event:U,point:R.point,touch:R.touch};F.events.dispatchImmediately("hit",Y)}},E.prototype.handleOver=function(F,R,U,W){if(!!F.hoverable){var Y=!1;if(this.shouldCancelHovers(R)&&this.areTransformed()&&this.moved(R,this.getHitOption(F,"hitTolerance"))&&(Y=!0,this.cancelAllHovers(U)),this.processDelayed(),F.overPointers.moveValue(R),!F.isRealHover&&(Y||(F.isHover=!0,F.isRealHover=!0,this.overObjects.moveValue(F)),this.handleTrack(this.body,R,U,!0),F.events.isEnabled("over")&&!system$1.isPaused&&!Y)){var G={type:"over",target:F,event:U,pointer:R,touch:R.touch};F.events.dispatchImmediately("over",G)}}},E.prototype.handleOut=function(F,R,U,W,Y){var G=this;if(W===void 0&&(W=!1),Y===void 0&&(Y=!1),!!F.hoverable&&(F.overPointers.removeValue(R),F.isHover&&(!F.hasDelayedOut||Y))){if(W&&F.overPointers.length)return;if(R&&R.touch&&!Y&&!this.old(R)){var X=this.getHoverOption(F,"touchOutBehavior");if(X=="leave"){this._delayedEvents.out.push({type:"out",io:F,pointer:R,event:U,keepUntil:getTime()+500}),F.hasDelayedOut=!0;return}else if(X=="delay"&&this.getHoverOption(F,"touchOutDelay")){this._delayedEvents.out.push({type:"out",io:F,pointer:R,event:U,keepUntil:getTime()+500,timeout:this.setTimeout(function(){G.handleOut(F,R,U,!0)},this.getHoverOption(F,"touchOutDelay"))});return}}if(F.isHover=!1,this.overObjects.removeValue(F),!F.isDisposed()&&F.events.isEnabled("out")&&!system$1.isPaused){var K={type:"out",target:F,event:U,pointer:R,touch:R.touch};F.events.dispatchImmediately("out",K)}F.overPointers.clear(),F.hasDelayedOut=!1}},E.prototype.processDelayed=function(){for(var F;F=this._delayedEvents.out.pop(),!!F;)F.timeout&&F.timeout.dispose(),this.handleOut(F.io,F.pointer,F.event,!1,!0)},E.prototype.handleDown=function(F,R,U){if(this.maybePreventDefault(F,U,R),F.inert&&this.stopInertia(F),this.handleOver(F,R,U,!0),F.downPointers.moveValue(R),this.applyCursorDownStyle(F,R),F.isDown||(F.focusable!==!1&&this.getHitOption(F,"noFocus")&&this.focusedObject&&blur(),F.isDown=!0,this.downObjects.moveValue(F),F.draggable&&this.processDragStart(F,R,U),F.resizable&&this.processResizeStart(F,R,U)),F.events.isEnabled("down")&&!system$1.isPaused){var W={type:"down",target:F,event:U,pointer:R,touch:R.touch};F.events.dispatchImmediately("down",W)}},E.prototype.handleGlobalUp=function(F,R,U){var W=this;U===void 0&&(U=!1);var Y=this.downObjects.values.slice();Y.sort(function(G,X){if(G&&X){var K=G.element.compareDocumentPosition(X.element);return K&Node.DOCUMENT_POSITION_CONTAINED_BY?1:K&Node.DOCUMENT_POSITION_CONTAINS?-1:0}else return 0}),each$2(Y,function(G){G&&G.downPointers.contains(F)&&W.handleUp(G,F,R,U)})},E.prototype.handleDocumentLeave=function(F){var R=this;each(this.downObjects.backwards().iterator(),function(U){U.downPointers.each(function(W){R.handleUp(U,W,F)})})},E.prototype.handleUp=function(F,R,U,W){if(W===void 0&&(W=!1),this.restoreCursorDownStyle(F,R),F.downPointers.removeValue(R),(R&&R.touch||this._useTouchEventsOnly)&&this.handleOut(F,R,U,!0),F.isDown){if(F.downPointers.length==0&&(F.isDown=!1,this.downObjects.removeValue(F)),F.events.isEnabled("up")&&!system$1.isPaused&&R){var Y={type:"up",target:F,event:U,pointer:R,touch:R.touch};F.events.dispatchImmediately("up",Y)}W||(F.swipeable&&this.swiped(F,R)?this.handleSwipe(F,R,U):(F.clickable&&!this.moved(R,this.getHitOption(F,"hitTolerance"))&&this.handleHit(F,R,U),F.inert&&this.moved(R,this.getHitOption(F,"hitTolerance"))?this.handleInertia(F,R):F.draggable&&this.processDragStop(F,R,U),F.resizable&&this.processResizeStop(F,R,U)))}},E.prototype.maybePreventDefault=function(F,R,U){hasValue(R)&&(F.draggable||F.swipeable||F.trackable||F.resizable)&&!this.isGlobalElement(F)&&R.cancelable!==!1&&(!F.isTouchProtected||!U||!U.touch)&&R.preventDefault()},E.prototype.cancelAllHovers=function(F){var R=this;each(this.overObjects.backwards().iterator(),function(U){if(U){var W=U.overPointers.getIndex(0);R.handleOut(U,W,F,!0,!0)}})},E.prototype.shouldCancelHovers=function(F){return options.disableHoverOnTransform=="touch"},E.prototype.handleGlobalMove=function(F,R){var U=this;if(!F.touch){var W=eventTarget(F.lastEvent);each(this.overObjects.backwards().iterator(),function(Y){if(Y&&Y.overPointers.contains(F)&&Y.hoverable){var G=!1;Y.element&&F.lastEvent&&contains(Y.element,W)||(G=!0),G&&U.handleOut(Y,F,R,!0)}})}each(this.transformedObjects.backwards().iterator(),function(Y){Y.downPointers.contains(F)&&!(Y.swipeable&&U.swiping(Y,F))&&(Y.draggable||Y.resizable)&&U.handleTransform(Y,R)}),each(this.trackedObjects.backwards().iterator(),function(Y){Y.overPointers.contains(F)||U.handleTrack(Y,F,R)})},E.prototype.handleTrack=function(F,R,U,W){if(W===void 0&&(W=!1),!(!W&&!this.moved(R,0))&&F.events.isEnabled("track")&&!system$1.isPaused){var Y={type:"track",target:F,event:U,point:R.point,pointer:R,touch:R.touch};F.events.dispatchImmediately("track",Y)}},E.prototype.handleSwipe=function(F,R,U){if(F.events.isEnabled("swipe")&&!system$1.isPaused){var W={type:"swipe",target:F,event:U,touch:R.touch};F.events.dispatchImmediately("swipe",W)}if(R.startPoint.x<R.point.x){if(F.events.isEnabled("swiperight")&&!system$1.isPaused){var W={type:"swiperight",target:F,event:U,touch:R.touch};F.events.dispatchImmediately("swiperight",W)}}else if(F.events.isEnabled("swipeleft")&&!system$1.isPaused){var W={type:"swipeleft",target:F,event:U,touch:R.touch};F.events.dispatchImmediately("swipeleft",W)}},E.prototype.handleWheel=function(F,R,U,W,Y){var G={x:U,y:W};F.events.isEnabled("wheel")&&!system$1.isPaused&&F.events.dispatchImmediately("wheel",{type:"wheel",target:F,event:Y,point:R.point,shift:G}),U<0?F.events.isEnabled("wheelleft")&&!system$1.isPaused&&F.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:F,event:Y,point:R.point,shift:G}):U>0?F.events.isEnabled("swiperight")&&!system$1.isPaused&&F.events.dispatchImmediately("wheelright",{type:"wheelright",target:F,event:Y,point:R.point,shift:G}):W<0?F.events.isEnabled("wheelup")&&!system$1.isPaused&&F.events.dispatchImmediately("wheelup",{type:"wheelup",target:F,event:Y,point:R.point,shift:G}):W>0&&F.events.isEnabled("wheeldown")&&!system$1.isPaused&&F.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:F,event:Y,point:R.point,shift:G})},E.prototype.handleInertia=function(F,R){F.draggable&&F.downPointers.length===0&&this.handleMoveInertia(F,R),F.resizable&&F.downPointers.length>1&&this.handleResizeInertia(F,R)},E.prototype.handleMoveInertia=function(F,R){var U=F,W="move",Y={x:R.point.x,y:R.point.y},G={x:R.startPoint.x,y:R.startPoint.y},X=new Inertia(U,W,Y,G),K=this.getTrailPoint(R,getTime()-this.getInertiaOption(F,"move","time"));if(typeof K>"u"){this.processDragStop(F,R,R.lastUpEvent);return}var Z=this.getInertiaOption(F,"move","factor"),J=[{to:R.point.x+(R.point.x-K.point.x)*Z,property:"x"},{to:R.point.y+(R.point.y-K.point.y)*Z,property:"y"}],Q=new Animation(X,J,this.getInertiaOption(F,"move","duration"),this.getInertiaOption(F,"move","easing")).start();this._disposers.push(Q.events.on("animationended",function(ee){X.done()})),F.inertias.setKey("move",X)},E.prototype.handleResizeInertia=function(F,R){},E.prototype.handleTransform=function(F,R){var U=F.downPointers.getIndex(0),W=null,Y=null;U&&(W=U.point,Y=U.startPoint);var G,X,K;X={x:F.originalPosition.x,y:F.originalPosition.y},K=X;for(var Z=!0,J=1;J<F.downPointers.length;J++){var Q=F.downPointers.getIndex(J);if(Y.x!=Q.startPoint.x&&Y.y!=Q.startPoint.y){Z=!1,G=Q,X=G.point,K=G.startPoint;break}}var ee=U&&this.moved(U,0);if(F.draggable&&U&&U.dragStartEvents&&U.dragStartEvents.length&&ee&&F.events.isEnabled("dragstart")&&!system$1.isPaused&&F.events.dispatchImmediately("dragstart",U.dragStartEvents.shift()),Z&&F.draggable)this.handleTransformMove(F,W,Y,R,ee,U.touch),this.shouldCancelHovers(U)&&this.moved(U,this.getHitOption(F,"hitTolerance"))&&this.cancelAllHovers(R);else{var te=G&&this.moved(G,0);(this.shouldCancelHovers(U)&&this.moved(U,this.getHitOption(F,"hitTolerance"))||this.shouldCancelHovers(G)&&this.moved(G,this.getHitOption(F,"hitTolerance")))&&this.cancelAllHovers(R),F.draggable&&F.resizable?(this.handleTransformMove(F,W,Y,R,ee&&te,U.touch),this.handleTransformResize(F,W,Y,X,K,R,ee&&te,U.touch)):(F.draggable&&this.handleTransformMove(F,W,Y,R,ee,U.touch),F.resizable&&(!Z||R.ctrlKey)&&this.handleTransformResize(F,W,Y,X,K,R,ee&&te,U.touch))}},E.prototype.handleTransformMove=function(F,R,U,W,Y,G){if(Y&&F.events.isEnabled("drag")&&!system$1.isPaused&&(!F.isTouchProtected||!G)){var X={type:"drag",target:F,event:W,shift:{x:R.x-U.x,y:R.y-U.y},startPoint:U,point:R,touch:G};F.events.dispatchImmediately("drag",X)}},E.prototype.handleTransformResize=function(F,R,U,W,Y,G,X,K){if(F.events.isEnabled("resize")&&!system$1.isPaused&&(!F.isTouchProtected||!K)){var Z={type:"resize",target:F,event:G,scale:getScale$1(R,U,W,Y),startPoint1:U,point1:R,startPoint2:Y,point2:W,touch:K};F.events.dispatchImmediately("resize",Z)}},E.prototype.processDragStart=function(F,R,U){this.transformedObjects.moveValue(F),this.shouldCancelHovers(R)&&this.cancelAllHovers(U);var W={type:"dragstart",target:F,event:U,touch:R?R.touch:!1};R&&(R.dragTarget=F),R&&R.dragStartEvents?R.dragStartEvents.push(W):system$1.isPaused||F.dispatchImmediately("dragstart",W)},E.prototype.processDragStop=function(F,R,U){if(R||(R=this.getDragPointer(F)),R&&(R.dragTarget=void 0),this.transformedObjects.removeValue(F),(!R||this.moved(R,0))&&F.events.isEnabled("dragstop")&&!system$1.isPaused){var W={type:"dragstop",target:F,touch:R?R.touch:!1};F.events.dispatchImmediately("dragstop",W)}},E.prototype.processResizeStart=function(F,R,U){this.transformedObjects.moveValue(F)},E.prototype.processResizeStop=function(F,R,U){this.transformedObjects.removeValue(F)},E.prototype.dragStart=function(F,R){R||(R=this.getDragPointer(F)),R&&this.handleDown(F,R,R.lastDownEvent)},E.prototype.dragStop=function(F,R,U){R||(R=this.getDragPointer(F)),R&&!U&&this.handleGlobalUp(R,R.lastUpEvent,U)},E.prototype.getDragPointer=function(F){return F?F.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},E.prototype.getPointerId=function(F){var R="";return hasValue(F.identifier)?R=""+F.identifier:hasValue(F.pointerId)?R=""+F.pointerId:R="m",R.replace("-","")},E.prototype.getPointerPoint=function(F){return{x:F.clientX,y:F.clientY}},E.prototype.getPointer=function(F){var R=this.getPointerId(F),U=this.getPointerPoint(F),W;return this.pointers.hasKey(R)?(W=this.pointers.getKey(R),W.touch=this.isPointerTouch(F)):(W={id:R,touch:this.isPointerTouch(F),startPoint:U,startTime:getTime(),point:U,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(W,U),this.pointers.setKey(R,W)),W.lastEvent=F,this.lastPointer=W,W},E.prototype.isPointerTouch=function(F){if(typeof Touch<"u"&&F instanceof Touch)return!0;if(typeof PointerEvent<"u"&&F instanceof PointerEvent&&hasValue(F.pointerType))switch(F.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(F instanceof MouseEvent)}else if(hasValue(F.type)&&F.type.match(/^mouse/))return!1;return!0},E.prototype.resetPointer=function(F,R){var U=this.getPointerPoint(R);F.startTime=getTime(),F.startPoint={x:U.x,y:U.y},F.point={x:U.x,y:U.y},F.track=[],F.swipeCanceled=!1},E.prototype.addBreadCrumb=function(F,R){F.track.push({timestamp:getTime(),point:R})},E.prototype.lockDocument=function(){this.prepElement(this.body)},E.prototype.unlockDocument=function(){this.transformedObjects.length==0&&this.restoreAllStyles(this.body)},E.prototype.lockElement=function(F){this.prepElement(F)},E.prototype.unlockElement=function(F){this.restoreAllStyles(F)},E.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,this._passiveSupported?{passive:!1}:!1)},E.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},E.prototype.isLocalElement=function(F,R,U){var W=this.getCache("local_pointer_"+F.id);if(hasValue(W))return W;var Y=getRoot(R)||document;if(Y.elementFromPoint){var G=Y.elementFromPoint(F.point.x,F.point.y),X=G&&contains(R,G);return this.setCache("local_pointer_"+F.id+"_"+U,X,100),X}return!1},E.prototype.wheelLockEvent=function(F){return F.preventDefault(),!1},E.prototype.prepElement=function(F){var R=F.element;if(R){for(var U=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],W=0;W<U.length;W++)U[W]in R.style&&this.setTemporaryStyle(F,U[W],"none");this.setTemporaryStyle(F,"tapHighlightColor","rgba(0, 0, 0, 0)")}},E.prototype.unprepElement=function(F){var R=F.element;if(R){for(var U=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],W=0;W<U.length;W++)U[W]in R.style&&this.restoreStyle(F,U[W]);this.restoreStyle(F,"tapHighlightColor")}},E.prototype.getHitOption=function(F,R){var U=F.hitOptions[R];return typeof U>"u"&&(U=this.hitOptions[R]),U},E.prototype.getHoverOption=function(F,R){var U=F.hoverOptions[R];return typeof U>"u"&&(U=this.hoverOptions[R]),U},E.prototype.getSwipeOption=function(F,R){var U=F.swipeOptions[R];return typeof U>"u"&&(U=this.swipeOptions[R]),U},E.prototype.getKeyboardOption=function(F,R){var U=F.keyboardOptions[R];return typeof U>"u"&&(U=this.keyboardOptions[R]),U},E.prototype.getMouseOption=function(F,R){var U=F.mouseOptions[R];return typeof U>"u"&&(U=this.mouseOptions[R]),U},E.prototype.getInertiaOption=function(F,R,U){var W=F.inertiaOptions.getKey(R),Y;return W&&hasValue(W[U])?Y=W[U]:Y=this.inertiaOptions.getKey(R)[U],Y},E.prototype.stopInertia=function(F){for(var R,U=["move","resize"],W=0;W<U.length;W++)if(R=U[W],F.inertias.hasKey(R)){var Y=F.inertias.getKey(R);if(Y){Y.dispose();continue}}},E.prototype.swiping=function(F,R){var U=getTime();return R.swipeCanceled||!F.swipeable?!1:Math.abs(R.startPoint.y-R.point.y)<this.getSwipeOption(F,"verticalThreshold")&&R.startTime>U-this.getSwipeOption(F,"time")},E.prototype.swiped=function(F,R){var U=getTime();return R.swipeCanceled?!1:Math.abs(R.startPoint.x-R.point.x)>this.getSwipeOption(F,"horizontalThreshold")&&Math.abs(R.startPoint.y-R.point.y)<this.getSwipeOption(F,"verticalThreshold")&&R.startTime>U-this.getSwipeOption(F,"time")},E.prototype.applyCursorOverStyle=function(F){var R=F.cursorOptions;if(!!hasValue(R.overStyle))for(var U=0;U<R.overStyle.length;U++)setStyle(F.element,R.overStyle[U].property,R.overStyle[U].value)},E.prototype.applyCursorDownStyle=function(F,R){if(!(R&&R.touch)){var U=F.cursorOptions.downStyle;if(F.downPointers.contains(R)&&hasValue(U))for(var W=0;W<U.length;W++)this.setTemporaryStyle(this.body,U[W].property,U[W].value),this.setTemporaryStyle(F,U[W].property,U[W].value)}},E.prototype.restoreCursorDownStyle=function(F,R){if(!(R&&R.touch)){var U=F.cursorOptions.downStyle;if(F.downPointers.contains(R)&&hasValue(U))for(var W=0;W<U.length;W++)this.restoreStyle(this.body,U[W].property),this.restoreStyle(F,U[W].property)}},E.prototype.setGlobalStyle=function(F){for(var R=getInteraction().body,U=isArray$2(F)?F:[F],W=0;W<U.length;W++)this.setTemporaryStyle(R,U[W].property,U[W].value)},E.prototype.restoreGlobalStyle=function(F){for(var R=getInteraction().body,U=isArray$2(F)?F:[F],W=0;W<U.length;W++)this.restoreStyle(R,U[W].property)},E.prototype.isGlobalElement=function(F){return document.body===F.element},E.prototype.moved=function(F,R,U){var W=this.getShift(F);return Math.abs(W.x)>R||Math.abs(W.y)>R},E.prototype.old=function(F,R){return R===void 0&&(R=300),getTime()-F.startTime>R},E.prototype.getShift=function(F){return{x:F.startPoint.x-F.point.x,y:F.startPoint.y-F.point.y}},E.prototype.getTrailPoint=function(F,R){for(var U,W=0;W<F.track.length;W++)if(F.track[W].timestamp>=R){U=F.track[W];break}return U},E.prototype.pointerExists=function(F,R){var U=!1;return F.each(function(W){W!=R&&(U=W.point.x==R.point.x&&W.point.y==R.point.y)}),U},E.prototype.getInteraction=function(F){return new InteractionObject(F)},E.prototype.setTemporaryStyle=function(F,R,U){var W=F.element;hasValue(W.style[R])&&!F.replacedStyles.hasKey(R)&&F.replacedStyles.setKey(R,W.style[R]),setStyle(W,R,U)},E.prototype.restoreStyle=function(F,R){F.replacedStyles.hasKey(R)?(F.element.style[R]=F.replacedStyles.getKey(R),F.replacedStyles.removeKey(R)):delete F.element.style[R]},E.prototype.restoreAllStyles=function(F){each(F.replacedStyles.iterator(),function(R){var U=R[0],W=R[1];F.element.style[U]=W,F.replacedStyles.removeKey(U)})},E.prototype.dispose=function(){this.isDisposed()||(V.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},E.prototype.log=function(F,R,U){{if(R.changedTouches){for(var W=0;W<R.changedTouches.length;W++)this.logTouch(F,R.type,R.changedTouches[W]);return}var Y="";if(R.pointerType)switch(R.pointerType){case 2:Y="touch";break;case 4:Y="mouse";break;default:Y=R.pointerType;break}else typeof TouchEvent<"u"&&R instanceof TouchEvent?Y="touch":R.type.match(/^mouse/)?Y="mouse":Y="???";var G="";hasValue(R.identifier)?G=R.identifier:hasValue(R.pointerId)?G=R.pointerId:G="???",console.log(U?F+" ("+U.uid+")  "+R.type+"  "+Y+"  "+G:F+"  "+R.type+"  "+Y+"  "+G)}},E.prototype.areTransformed=function(F){var R=this.transformedObjects.length;if(F)for(var U=isArray$2(F)?F:[F],W=0;W<U.length;W++)this.transformedObjects.contains(U[W])&&R--;return R>0},E.prototype.logTouch=function(F,R,U){console.log(F+"  "+R+"  touch  "+U.identifier)},Object.defineProperty(E,"passiveSupported",{get:function(){var F=this;if(this._passiveSupported==null)try{var R=Object.defineProperty({},"passive",{get:function(){F._passiveSupported=!0}});window.addEventListener("test",R,R),window.removeEventListener("test",R,R)}catch{this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),E}(BaseObjectEvents),interaction=null;function getInteraction(){return interaction==null&&(interaction=new Interaction),interaction}var Popup=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.adapter=new Adapter(F),F._elements={},F._IOs={},F._content="",F._title="",F._classPrefix="ampopup",F._defaultStyles=!0,F._showCurtain=!1,F._draggable=!0,F._align="center",F._dynamicResize=!0,F._verticalAlign="middle",F._shift={x:0,y:0},F._tempShift={x:0,y:0},F._readerTitle="",F._closable=!0,F._cssLoaded=!1,F._fitTo="window",F.isTemplate=!1,F._sized=!1,F.className="Popup",F}return E.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},E.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},E.prototype.dispose=function(){this.close(),V.prototype.dispose.call(this)},E.prototype.positionElement=function(F){var R=this;F===void 0&&(F=!0),this._elements.wrapper&&setTimeout(function(){if(!!R._elements.wrapper){if(F||!R._sized){R._elements.wrapper.style.opacity="0.01",R._elements.wrapper.style.left="0",R._elements.wrapper.style.top="0",R._elements.wrapper.style.margin="0 0 0 0",R._elements.wrapper.style.width="",R._elements.wrapper.style.height="";var U=R._elements.wrapper.getBoundingClientRect();R._elements.wrapper.style.width=U.width+"px",R._elements.wrapper.style.height=U.height+"px",R._sized=!0}if(R.dynamicResize)for(var W=R._elements.wrapper.getElementsByTagName("img"),Y=0;Y<W.length;Y++){var G=W[Y];if(!G.complete){G.addEventListener("load",function(){R.positionElement(!0)});break}}setTimeout(function(){if(!!R._elements.wrapper){var X;switch((F||!R._sized)&&R._bbox?X=R._bbox:(X=R._elements.wrapper.getBoundingClientRect(),R._elements.wrapper.style.opacity=""),R.align){case"left":R._elements.wrapper.style.left="0",R._elements.wrapper.style.right="auto",R._elements.wrapper.style.marginLeft=R.toStyle(R._shift.x+R._tempShift.x);break;case"center":R._elements.wrapper.style.left="50%",R._elements.wrapper.style.right="auto",R._elements.wrapper.style.marginLeft=R.toStyle(Math.round(-X.width/2)+(R._shift.x+R._tempShift.x));break;case"right":R._elements.wrapper.style.left="auto",R._elements.wrapper.style.right="0",R._elements.wrapper.style.marginLeft=R.toStyle(R._shift.x+R._tempShift.x);break;default:R._elements.wrapper.style.left=R.toStyle(R.left)||"auto",R._elements.wrapper.style.right=R.toStyle(R.right)||"auto",R._elements.wrapper.style.marginLeft=R.toStyle(R._shift.x+R._tempShift.x);break}switch(R.verticalAlign){case"top":R._elements.wrapper.style.top="0",R._elements.wrapper.style.bottom="auto",R._elements.wrapper.style.marginTop=R.toStyle(R._shift.y+R._tempShift.y);break;case"middle":R._elements.wrapper.style.top="50%",R._elements.wrapper.style.bottom="auto",R._elements.wrapper.style.marginTop=R.toStyle(Math.round(-X.height/2)+(R._shift.y+R._tempShift.y));break;case"bottom":R._elements.wrapper.style.top="auto",R._elements.wrapper.style.bottom="0",R._elements.wrapper.style.marginTop=R.toStyle(R._shift.y+R._tempShift.y);break;default:R._elements.wrapper.style.top=R.toStyle(R.top)||"auto",R._elements.wrapper.style.bottom=R.toStyle(R.bottom)||"auto",R._elements.wrapper.style.marginTop=R.toStyle(R._shift.y+R._tempShift.y);break}}},1)}},1)},E.prototype.setupDragging=function(){var F=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",function(R){F._tempShift.x=R.shift.x,F._tempShift.y=R.shift.y,F.positionElement(!1)}),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",function(R){F._shift.x+=F._tempShift.x,F._shift.y+=F._tempShift.y,F._tempShift.x=0,F._tempShift.y=0,F.positionElement(!1)})):this._IOs.header&&(getInteraction().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},E.prototype.toStyle=function(F){return hasValue(F)?isNumber$1(F)?""+F+"px":F.toString():null},Object.defineProperty(E.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(F){this._classPrefix=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(F){this._content!=F&&(this._content=F,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=F,this.positionElement())},enumerable:!0,configurable:!0}),E.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},E.prototype.createContentElement=function(){if(!this._elements.wrapper){var F=this.getClassNames(),R=document.createElement("div");R.className=F.contentClass,R.style.opacity="0.01";var U=document.createElement("a");U.className=F.closeClass;var W=document.createElement("div");W.className=F.headerClass;var Y=document.createElement("div");Y.innerHTML=this.title,Y.className=F.titleClass,this.title||(Y.style.display="none");var G=document.createElement("div");G.className=F.insideClass,G.innerHTML=this.content,this._IOs.wrapper=getInteraction().getInteraction(R),this._IOs.header=getInteraction().getInteraction(W),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=getInteraction().getInteraction(U),this._disposers.push(this._IOs.close),U.style.visibility="hidden",R.setAttribute("role","dialog"),W.appendChild(U),W.appendChild(Y),R.appendChild(W),R.appendChild(G),this.container.appendChild(R),this._elements.wrapper=R,this._elements.header=W,this._elements.content=G,this._elements.title=Y,this._elements.close=U,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(E.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(F){this._title!=F&&(this._title=F,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=F,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",this._readerTitle!=""?this._readerTitle:this.title)},set:function(F){this._readerTitle!=F&&(this._readerTitle=F,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(F){F!==this._closable&&(this._closable=F,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(F){F!=this._fitTo&&(this._fitTo=F,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(F){this._defaultStyles!=F&&(this._defaultStyles=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(F){this._showCurtain!=F&&(this._showCurtain=F,this._elements.curtain&&(this._elements.curtain.style.display=F?"block":"none"))},enumerable:!0,configurable:!0}),E.prototype.createCurtainElement=function(){var F=this.getClassNames(),R=document.createElement("div");R.className=F.curtainClass,this.container.appendChild(R),this._IOs.curtain=getInteraction().getInteraction(R),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),R.style.display=this.showCurtain?"block":"none",this._elements.curtain=R},Object.defineProperty(E.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(F){this._draggable!=F&&(this._draggable=F,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(F){this._dynamicResize!=F&&(this._dynamicResize=F,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(F){this._align!=F&&(this._align=F,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(F){this._verticalAlign!=F&&(this._verticalAlign=F,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(F){this.left!=F&&(this._left=F,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(F){this.right!=F&&(this._right=F,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(F){this.top!=F&&(this._top=F,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(F){this.bottom!=F&&(this._bottom=F,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),E.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(popupCSS(getShadowRoot(this.container),this.classPrefix)),each$1(this._elements,function(F,R){R.style.display=""}),this._cssLoaded=!0)},E.prototype.applyEvents=function(){var F=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var R=[getInteraction().body.events.on("keyup",function(U){keyboard.isKey(U.event,"esc")&&F.closable&&F.close()}),this._IOs.close.events.on("hit",function(U){F.close()})];R.push(this._IOs.curtain.events.on("hit",function(U){F.showCurtain&&F.closable&&F.close()})),this._disposers.push(new MultiDisposer(R))}else this._IOs.close.element.style.visibility="hidden"},E.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},E.prototype.releasePointers=function(){hasValue(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},E.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.container=F.container,this.sprite=F.sprite,this.classPrefix=F.classPrefixRaw,this.content=F.content,this.title=F.title,this.readerTitle=F.readerTitle,this.defaultStyles=F.defaultStyles,this.showCurtain=F.showCurtain,this.align=F.align,this.verticalAlign=F.verticalAlign,this.left=F.left,this.right=F.right,this.top=F.top,this.bottom=F.bottom,this.adapter.copyFrom(F.adapter)},E}(BaseObjectEvents),Modal=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.adapter=new Adapter(F),F.className="Modal",F.showCurtain=!0,F.draggable=!1,F}return E}(Popup);function log(){for(var V=[],E=0;E<arguments.length;E++)V[E]=arguments[E];console&&console.log.apply(console,__spread(V))}function warn$1(){for(var V=[],E=0;E<arguments.length;E++)V[E]=arguments[E];console&&console.warn.apply(console,__spread(V))}var Native=function(){function V(){var E=this;this._targets=[],this._observer=new ResizeObserver(function(F){each$2(F,function(R){each$2(E._targets,function(U){U.target===R.target&&U.callback()})})})}return V.prototype.addTarget=function(E,F){this._observer.observe(E,{box:"content-box"}),this._targets.push({target:E,callback:F})},V.prototype.removeTarget=function(E){this._observer.unobserve(E),keepIf(this._targets,function(F){return F.target!==E})},V}(),Raf=function(){function V(){this._targets=[]}return V.prototype.addTarget=function(E,F){var R=this;if(this._targets.length===0){var U=null,W=function(){var G=Date.now();(U===null||G>U+V.delay)&&(U=G,each$2(R._targets,function(X){var K=X.target.getBoundingClientRect();(K.width!==X.size.width||K.height!==X.size.height)&&(X.size=K,X.callback())})),R._timer=requestAnimationFrame(W)};this._timer=requestAnimationFrame(W)}var Y=E.getBoundingClientRect();this._targets.push({target:E,callback:F,size:Y})},V.prototype.removeTarget=function(E){keepIf(this._targets,function(F){return F.target!==E}),this._targets.length===0&&cancelAnimationFrame(this._timer)},V.delay=200,V}(),observer=null;function makeSensor(){return observer===null&&(typeof ResizeObserver<"u"?observer=new Native:observer=new Raf),observer}var ResizeSensor=function(){function V(E,F){this._disposed=!1,this._sensor=makeSensor(),this._element=E,this._sensor.addTarget(E,F)}return V.prototype.isDisposed=function(){return this._disposed},V.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(V.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),V.prototype.reset=function(){warn$1("resizeSensor.reset() is no longer needed and can be removed")},V}(),svgContainers=[],SVGContainer=function(){function V(E,F){var R=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=E,F||(this._printing=!1,this.initSensor(),this._disposers.push(addEventListener$1(window,"beforeprint",function(){R._printing=!0})),this._disposers.push(addEventListener$1(window,"afterprint",function(){R._printing=!1}))),svgContainers.push(this);var U=document.createElement("div"),W=U.style;W.width="100%",W.height="100%",W.position="relative",E.appendChild(U),this.SVGContainer=U}return V.prototype.initSensor=function(){var E=this;this.resizeSensor&&this.resizeSensor.dispose();var F=function(){E.autoResize&&!E._printing&&E.measure()};this.resizeSensor=new ResizeSensor(this.htmlElement,F),this._disposers.push(this.resizeSensor)},V.prototype.measure=function(){var E=width(this.htmlElement),F=height(this.htmlElement),R=this.container;R&&((this.width!=E||this.height!=F)&&(this.width=E,this.height=F,E>0&&(R.maxWidth=E),F>0&&(R.maxHeight=F),fixPixelPerfect(this.SVGContainer)),R.maxWidth||(R.maxWidth=0),R.maxHeight||(R.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(V.prototype,"container",{get:function(){return this._container},set:function(E){this._container=E,this.measure()},enumerable:!0,configurable:!0}),V.prototype.isDisposed=function(){return this._disposed},V.prototype.dispose=function(){this._disposed||remove(svgContainers,this),each$2(this._disposers,function(E){E.dispose()})},Object.defineProperty(V.prototype,"hideOverflow",{set:function(E){E?this.SVGContainer.style.overflow="hidden":this.SVGContainer.style.overflow=""},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"modal",{get:function(){return hasValue(this._modal)||(this._modal=new Modal,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),V.prototype.openModal=function(E,F){this.closeModal();var R=this.modal;return R.content=E,R.readerTitle=F||"",R.title=F||"",R.open(),R},V.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(V.prototype,"popups",{get:function(){if(!hasValue(this._popups)){var E=new Popup;E.container=this.SVGContainer,this._popups=new ListTemplate(E),this._disposers.push(new ListDisposer(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),V.prototype.openPopup=function(E,F){var R=this.popups.create();return R.content=E,hasValue(F)&&(R.title=F),R.open(),R},V.prototype.closeAllPopups=function(){this.popups.each(function(E){E.close()})},Object.defineProperty(V.prototype,"readerAlertElement",{get:function(){if(!hasValue(this._readerAlertElement)){var E=document.createElement("div");E.setAttribute("role","alert"),E.style.zIndex="-100000",E.style.opacity="0",E.style.position="absolute",E.style.top="0",this.SVGContainer.appendChild(E),this._readerAlertElement=E}return this._readerAlertElement},enumerable:!0,configurable:!0}),V.prototype.readerAlert=function(E){this.readerAlertElement.innerHTML=E},V.prototype.checkTransform=function(E){if(window.getComputedStyle){if(E&&E.style){var F=window.getComputedStyle(E,null);if(F){var R=F.getPropertyValue("-webkit-transform")||F.getPropertyValue("-moz-transform")||F.getPropertyValue("-ms-transform")||F.getPropertyValue("-o-transform")||F.getPropertyValue("transform");if(R&&R!=="none"){var U=R.split("(")[1].split(")")[0].split(","),W=Number(U[0]),Y=Number(U[1]),G=Math.sqrt(W*W+Y*Y);isNaN(G)||(this.cssScale*=G)}}}E.parentNode&&E.parentNode instanceof HTMLElement&&this.checkTransform(E.parentNode)}},V}(),Paper=function(){function V(E,F){this.container=E,this.id=F;var R=document.createElementNS(SVGNS,"svg");R.setAttribute("version","1.1"),R.setAttributeNS(XMLNS,"xmlns",SVGNS),R.setAttributeNS(XMLNS,"xmlns:xlink",XLINK),R.setAttribute("role","group"),this.container.appendChild(R),this.defs=document.createElementNS(SVGNS,"defs"),R.appendChild(this.defs),R.style.width="100%",R.style.height="100%",R.style.overflow="visible",this.svg=R}return V.prototype.add=function(E){return new AMElement(E)},V.prototype.addGroup=function(E){return new Group(E)},V.prototype.append=function(E){E&&this.svg.appendChild(E.node)},V.prototype.appendDef=function(E){E&&this.defs.appendChild(E.node)},V.prototype.foreignObject=function(){var E=new AMElement("foreignObject");return E},V.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},V}(),ghostPaper=null;function getGhostPaper(){if(ghostPaper===null){var V=document.createElement("div");V.hidden=!0,V.style.width="1px",V.style.height="1px",V.style.position="absolute",V.style.zIndex="-1000000",document.body.appendChild(V);var E=new SVGContainer(V,!0);ghostPaper=new Paper(E.SVGContainer,"ghost")}return ghostPaper}var Pattern=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._elements=new List,F.properties={},F.className="Pattern",F.width=10,F.height=10,F.x=0,F.y=0,F.patternUnits="userSpaceOnUse";var R=new InterfaceColorSet;return F.backgroundFill=R.getFor("background"),F.backgroundOpacity=0,F.fillOpacity=1,F.fill=R.getFor("alternativeBackground"),F.stroke=R.getFor("alternativeBackground"),F.strokeOpacity=1,F.strokeWidth=1,F.shapeRendering="crispEdges",F.rotation=0,F.element=F.paper.addGroup("pattern"),F.id="pattern-"+registry.getUniqueId(),F.element.attr({id:F.id}),F._disposers.push(F.element),F._disposers.push(new ListDisposer(F._elements)),F.patternUnits=F.patternUnits,F.width=F.width,F.height=F.height,F.applyTheme(),F}return E.prototype.draw=function(){var F=this,R=this.element;if(R){R.removeChildNodes();var U=this.paper.add("rect");U.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),R.add(U),R.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),each(this._elements.iterator(),function(W){W.rotation=F.rotation,W.rotationX=F.properties.rotationX,W.rotationY=F.properties.rotationY,F.element.add(W)})}},E.prototype.animate=function(F,R,U){return new Animation(this,F,R,U).start()},E.prototype.addElement=function(F){this._elements.push(F),this._disposers.push(F)},E.prototype.removeElement=function(F){this._elements.removeValue(F),this.removeDispose(F)},Object.defineProperty(E.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(F){this.properties.fillOpacity=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fill",{get:function(){return this.properties.fill},set:function(F){this.properties.fill=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(F){this.properties.backgroundFill=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(F){this.properties.backgroundOpacity=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(F){this.properties.stroke=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(F){this.properties.strokeOpacity=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(F){this.properties.strokeWidth=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(F){this.properties.shapeRendering=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(F){this.properties.rotation=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(F){this.properties.patternUnits=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"width",{get:function(){return this.properties.width},set:function(F){this.properties.width=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"height",{get:function(){return this.properties.height},set:function(F){this.properties.height=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"x",{get:function(){return this.properties.x},set:function(F){this.properties.x=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"y",{get:function(){return this.properties.y},set:function(F){this.properties.y=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(F){this._paper!=F&&(this._paper=F,this.draw(),F.appendDef(this.element))},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){var R=this;V.prototype.copyFrom.call(this,F),each$1(F.properties,function(U,W){R[U]=W})},Object.defineProperty(E.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(F){this.properties.strokeDashArray=F,this.draw()},enumerable:!0,configurable:!0}),E.prototype.processConfig=function(F){if(F&&hasValue(F.elements)&&isArray$2(F.elements))for(var R=0,U=F.elements.length;R<U;R++){var W=F.elements[R];if(hasValue(W.type)){var Y=this.createEntryInstance(W);Y instanceof BaseObject&&(Y.config=W),this.addElement(hasValue(W.typeProperty)?Y[W.typeProperty]:Y.element)}}V.prototype.processConfig.call(this,F)},E}(BaseObject);registry.registeredClasses.Pattern=Pattern;var LinearGradient=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._stops=new List,F._rotation=0,F.className="LinearGradient",F._stops.events.on("setIndex",F.validate,F),F._stops.events.on("inserted",F.validate,F),F.element=F.paper.addGroup("linearGradient"),F.id="gradient-"+registry.getUniqueId(),F.element.attr({id:F.id}),F._disposers.push(F.element),F.applyTheme(),F}return E.prototype.validate=function(){var F=this,R=(this._rotation+90)*RADIANS,U=Math.round(50+Math.sin(R+Math.PI)*50)+"%",W=Math.round(50+Math.cos(R)*50)+"%",Y=Math.round(50+Math.sin(R)*50)+"%",G=Math.round(50+Math.cos(R+Math.PI)*50)+"%",X=this.element;X.removeChildNodes(),X.attr({x1:U,x2:Y,y1:W,y2:G}),each(indexed(this._stops.iterator()),function(K){var Z=K[0],J=K[1],Q=J.offset;isNumber$1(Q)||(Q=Z/(F._stops.length-1));var ee=F.paper.add("stop");hasValue(J.color)&&ee.attr({"stop-color":J.color.toString()}),isNumber$1(J.opacity)&&ee.attr({"stop-opacity":J.opacity}),isNumber$1(Q)&&ee.attr({offset:Q}),X.add(ee)})},E.prototype.clear=function(){this._stops.clear()},E.prototype.addColor=function(F,R,U){this._stops.push({color:F,opacity:R,offset:U})},Object.defineProperty(E.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(F){this._paper!=F&&(this._paper=F,this.validate(),F.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rotation",{get:function(){return this._rotation},set:function(F){this._rotation=F,this.validate()},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.stops.copyFrom(F.stops),this._rotation=F.rotation},Object.defineProperty(E.prototype,"gradientUnits",{set:function(F){this.element.attr({gradientUnits:F})},enumerable:!0,configurable:!0}),E}(BaseObject);registry.registeredClasses.LinearGradient=LinearGradient;var RadialGradient=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._stops=new List,F.element=F.paper.addGroup("radialGradient"),F.id="gradient-"+registry.getUniqueId(),F.element.attr({id:F.id}),F._disposers.push(F.element),F.applyTheme(),F}return E.prototype.draw=function(){var F=this,R=this.element;if(isNumber$1(this.cx)){var U=this.cx;U instanceof Percent&&(U=U.percent+"%"),R.attr({cx:U})}if(isNumber$1(this.cy)){var U=this.cy;U instanceof Percent&&(U=U.percent+"%"),R.attr({cy:U})}if(this.fx){var U=this.fx;U instanceof Percent&&(U=U.percent+"%"),R.attr({fx:U})}if(this.fy){var U=this.fy;U instanceof Percent&&(U=U.percent+"%"),R.attr({fy:U})}R.removeChildNodes(),each(indexed(this._stops.iterator()),function(W){var Y=W[0],G=W[1],X=G.offset;isNumber$1(X)||(X=Y/(F._stops.length-1));var K=F.paper.add("stop");hasValue(G.color)&&K.attr({"stop-color":G.color.toString()}),isNumber$1(G.opacity)&&K.attr({"stop-opacity":G.opacity}),isNumber$1(X)&&K.attr({offset:X}),R.add(K)})},E.prototype.addColor=function(F,R,U){this._stops.push({color:F,opacity:R,offset:U}),this.draw()},Object.defineProperty(E.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(F){this._paper!=F&&(this._paper=F,this.draw(),F.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cx",{get:function(){return this._cx},set:function(F){this._cx=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cy",{get:function(){return this._cy},set:function(F){this._cy=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fx",{get:function(){return this._fx},set:function(F){this._fx=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fy",{get:function(){return this._fy},set:function(F){this._fy=F,this.draw()},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.stops.copyFrom(F.stops),this.cx=F.cx,this.cy=F.cy,this.fx=F.fx,this.fy=F.fy},Object.defineProperty(E.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),E.prototype.clear=function(){this._stops.clear()},E}(BaseObject);registry.registeredClasses.RadialGradient=RadialGradient;var MouseCursorStyle=function(){function V(){}return V.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],V.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],V.pointer=[{property:"cursor",value:"pointer"}],V.default=[{property:"cursor",value:"default"}],V.horizontalResize=[{property:"cursor",value:"ew-resize"}],V.verticalResize=[{property:"cursor",value:"ns-resize"}],V.notAllowed=[{property:"cursor",value:"not-allowed"}],V.text=[{property:"cursor",value:"text"}],V}();const en={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(V){var E="th";if(V<11||V>13)switch(V%10){case 1:E="st";break;case 2:E="nd";break;case 3:E="rd";break}return E},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};var Language=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.adapter=new Adapter(F),F._locale=en,F._defaultLocale=en,F.className="Language",hasValue(options.defaultLocale)&&(F.locale=options.defaultLocale),F.applyTheme(),F}return E.prototype.getLocale=function(F){return F==null&&(F=this._locale),this.adapter.apply("locale",{locale:F}).locale},E.prototype.translate=function(F,R){for(var U=[],W=2;W<arguments.length;W++)U[W-2]=arguments[W];R=this.getLocale(R);var Y=F,G=this.getTranslations(R),X=G[F];if(X===null)Y="";else if(hasValue(X))X&&(Y=X);else if(R!==this._defaultLocale)return this.translate.apply(this,__spread([F,this._defaultLocale],U));if(U.length)for(var K=U.length,Z=0;Z<K;++Z)Y=Y.split("%"+(Z+1)).join(U[Z]);return this.adapter.apply("translate",{translation:Y,locale:R}).translation},E.prototype.translateAny=function(F,R){for(var U=[],W=2;W<arguments.length;W++)U[W-2]=arguments[W];return this.translate.apply(this,__spread([F,R],U))},E.prototype.setTranslationAny=function(F,R,U){var W=U||this.locale;W[F]=R},E.prototype.translateEmpty=function(F,R){for(var U=[],W=2;W<arguments.length;W++)U[W-2]=arguments[W];var Y=this.translate.apply(this,__spread([F,R],U));return Y==F?"":Y},E.prototype.translateFunc=function(F,R){R=this.getLocale(R);var U=this.getTranslations(R),W=U[F];return W!=null?W:R!==this._defaultLocale?this.translateFunc(F,this._defaultLocale):function(){return""}},E.prototype.translateAll=function(F,R){var U=this;return this.isDefault()?F:map$1(F,function(W){return U.translate(W,R)})},E.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(E.prototype,"locale",{get:function(){return this._locale},set:function(F){if(this._locale!=F&&(this._locale=F,this.events.isEnabled("localechanged"))){var R={type:"localechanged",locale:F,target:this};this.events.dispatchImmediately("localechanged",R)}},enumerable:!0,configurable:!0}),E.prototype.getTranslations=function(F){return this.adapter.apply("translations",{translations:F,locale:F}).translations},E}(BaseObjectEvents),TextFormatter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.adapter=new Adapter(F),F.className="TextFormatter",F.applyTheme(),F}return E.prototype.debug=function(){},E.prototype.format=function(F,R){hasValue(R)||(R="svg");var U="";F=this.escape(F);var W=F.match(/\[([^\]]*?)\]/gm);if(!W)return this.wrap(F,"",R);for(var Y=F.split(/\[[^\[\]]*\]/),G=0,X=Y.length;G<X;G++){var K=Y[G];if(K!==""){K=this.adapter.apply("chunk",K);var Z="";G>0&&(Z=W[G-1].replace("[","").replace("]","")),U+=this.wrap(K,Z,R)}}return U=this.unescape(U),this.cleanUp(U)},E.prototype.escape=function(F){return F.replace(/\[\[/g,registry.getPlaceholder("1")).replace(/([^\/\]]{1})\]\]/g,"$1"+registry.getPlaceholder("2")).replace(/\]\]/g,registry.getPlaceholder("2")).replace(/\{\{/g,registry.getPlaceholder("3")).replace(/\}\}/g,registry.getPlaceholder("4")).replace(/\'\'/g,registry.getPlaceholder("5"))},E.prototype.unescape=function(F){return F.replace(new RegExp(registry.getPlaceholder("1"),"g"),"[[").replace(new RegExp(registry.getPlaceholder("2"),"g"),"]]").replace(new RegExp(registry.getPlaceholder("3"),"g"),"{{").replace(new RegExp(registry.getPlaceholder("4"),"g"),"}}").replace(new RegExp(registry.getPlaceholder("5"),"g"),"''")},E.prototype.cleanUp=function(F){return F.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},E.prototype.wrap=function(F,R,U){switch((R===""||R==="/")&&(R=""),U){case"html":return this.wrapHtml(F,this.translateStyleShortcuts(R));default:return this.wrapSvg(F,this.translateStyleShortcuts(R))}},E.prototype.wrapSvg=function(F,R){return R===""?"<tspan>"+F+"</tspan>":"<tspan style='"+R+"'>"+F+"</tspan>"},E.prototype.getSvgElement=function(F,R){var U=new AMElement("tspan");return U.textContent=F,R&&U.node.setAttribute("style",R),U},E.prototype.wrapHtml=function(F,R){return R===""?"<span>"+F+"</span>":"<span style='"+this.styleSvgToHtml(R)+"'>"+F+"</span>"},E.prototype.getHtmlElement=function(F,R){var U=document.createElement("span");return U.innerHTML=F,R&&U.setAttribute("style",R),U},E.prototype.styleSvgToHtml=function(F){return F=F.replace(/fill:/,"color:"),F},E.prototype.translateStyleShortcuts=function(F){if(F==""||F=="[ ]")return"";var R=registry.getCache("translateStyleShortcuts_"+F);if(R)return R;var U=F.match(/('[^']*')|("[^"]*")/gi);if(U)for(var W=0;W<U.length;W++)F=F.replace(U[W],U[W].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var Y=F.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!Y)return F;for(var W=0;W<Y.length;W++)Y[W].match(/^bold$/i)?Y[W]="font-weight:"+Y[W]:Y[W]=="/"?Y[W]="":Y[W].match(/:/)?Y[W]=Y[W].replace(/\+/g," "):Y[W]="fill:"+Y[W];var G=Y.join(";");return registry.setCache("translateStyleShortcuts_"+F,G),G},E.prototype.chunk=function(F,R,U){R===void 0&&(R=!1),U===void 0&&(U=!1);var W=[];F=this.escape(F);for(var Y=R?F.split("'"):[F],G=0;G<Y.length;G++){var X=Y[G];if(X!=="")if(G%2===0){X=X.replace(/\]\[/g,"]"+PLACEHOLDER+"["),X=X.replace(/\[\]/g,"[ ]");for(var K=X.split(/[\[\]]+/),Z=0;Z<K.length;Z++){var J=this.cleanUp(this.unescape(K[Z]));J!==PLACEHOLDER&&J!==""&&(Z%2===0?W.push({type:"value",text:this.adapter.apply("chunk",J)}):W.push({type:U?"value":"format",text:"["+J+"]"}))}}else for(var K=X.split(/[\[\]]+/),Z=0;Z<K.length;Z++){var J=this.cleanUp(this.unescape(K[Z]));J!==""&&(Z%2===0?W.push({type:"text",text:J}):this.isImage(J)?W.push({type:"image",text:"["+J+"]"}):W.push({type:"format",text:"["+J+"]"}))}}return W},E.prototype.isImage=function(F){return!!F.match(/img[ ]?:/)},E}(BaseObject),formatter;function getTextFormatter(){return formatter==null&&(formatter=new TextFormatter),formatter}registry.registeredClasses.TextFormatter=TextFormatter;var NumberFormatter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._negativeBase=0,F._numberFormat="#,###.#####",F._outputFormat="svg",F._smallNumberThreshold=1,F._forceLTR=!1,F.className="NumberFormatter",F.applyTheme(),F}return E.prototype.dispose=function(){V.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(E.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new Language),this._language},set:function(F){this._language=F},enumerable:!0,configurable:!0}),E.prototype.format=function(F,R,U){(typeof R>"u"||isString$2(R)&&R.toLowerCase()==="number")&&(R=this._numberFormat);var W,Y=Number(F);if(isObject$3(R))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,R).format(Y):new Intl.NumberFormat(void 0,R).format(Y)}catch{return"Invalid"}else{R=cleanFormat(R);var G=this.parseFormat(R,this.language),X=void 0;Y>this._negativeBase?X=G.positive:Y<this._negativeBase?X=G.negative:X=G.zero,hasValue(U)&&!X.mod&&(X=clone(X),X.decimals.active=Y==0?0:U),W=X.template.split(PLACEHOLDER).join(this.applyFormat(Y,X))}return this.forceLTR&&(W="\u200E"+W),W},E.prototype.parseFormat=function(F,R){var U=this,W=this.getCache(F);if(hasValue(W))return W;var Y={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:R.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:R.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:R.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:R.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:R.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:R.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}};F=F.replace("||",PLACEHOLDER2);var G=F.split("|");return Y.positive.source=G[0],typeof G[2]>"u"?Y.zero=Y.positive:Y.zero.source=G[2],typeof G[1]>"u"?Y.negative=Y.positive:Y.negative.source=G[1],each$1(Y,function(X,K){if(!K.parsed){if(typeof U.getCache(K.source)<"u"){Y[X]=U.getCache(K.source);return}var Z=K.source;Z.toLowerCase()==="number"&&(Z=isString$2(U._numberFormat)?U._numberFormat:"#,###.#####");for(var J=getTextFormatter().chunk(Z,!0),Q=0;Q<J.length;Q++){var ee=J[Q];if(ee.text=ee.text.replace(PLACEHOLDER2,"|"),ee.type==="value"){var te=ee.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(te)if(te===null||te[0]==="")K.template+=ee.text;else{var ie=te[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);ie&&(K.mod=ie[0].toLowerCase(),K.modSpacing=!!te[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));var re=te[0].split(".");if(re[0]!==""){K.thousands.active=(re[0].match(/0/g)||[]).length,K.thousands.passive=(re[0].match(/\#/g)||[]).length+K.thousands.active;var ne=re[0].split(",");ne.length===1||(K.thousands.interval=getValue(ne.pop()).length,K.thousands.interval===0&&(K.thousands.interval=-1))}typeof re[1]>"u"||(K.decimals.active=(re[1].match(/0/g)||[]).length,K.decimals.passive=(re[1].match(/\#/g)||[]).length+K.decimals.active),K.template+=ee.text.split(te[0]).join(PLACEHOLDER)}}else K.template+=ee.text}U.setCache(K.source,K),K.parsed=!0}}),this.setCache(F,Y),Y},E.prototype.applyFormat=function(F,R){var U=F<0;F=Math.abs(F);var W="",Y="",G=R.mod?R.mod.split(""):[];if(G.indexOf("b")!==-1){var X=this.applyPrefix(F,this.bytePrefixes,G.indexOf("!")!==-1);F=X[0],W=X[1],Y=X[2],R.modSpacing&&(Y=" "+Y)}else if(G.indexOf("a")!==-1){var K=this.applyPrefix(F,F<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,G.indexOf("!")!==-1);F=K[0],W=K[1],Y=K[2],R.modSpacing&&(Y=" "+Y)}else if(G.indexOf("p")!==-1){var Z=Math.min(F.toString().length+2,21);F=parseFloat(F.toPrecision(Z)),W=this.language.translate("_percentPrefix")||"",Y=this.language.translate("_percentSuffix")||"",W==""&&Y==""&&(Y="%")}else if(G.indexOf("%")!==-1){var Z=min$1(F.toString().length+2,21);F*=100,F=parseFloat(F.toPrecision(Z)),Y="%"}else if(G.indexOf("\u2030")!==-1){var Z=min$1(F.toString().length+3,21);F*=1e3,F=parseFloat(F.toPrecision(Z)),Y="\u2030"}if(G.indexOf("e")!==-1){var J=void 0;R.decimals.passive>=0?J=F.toExponential(R.decimals.passive).split("e"):J=F.toExponential().split("e"),F=Number(J[0]),Y="e"+J[1],R.modSpacing&&(Y=" "+Y)}else if(R.decimals.passive===0)F=Math.round(F);else if(R.decimals.passive>0){var Q=Math.pow(10,R.decimals.passive);F=Math.round(F*Q)/Q}var ee="",te=numberToString(F).split("."),ie=te[0];if(ie.length<R.thousands.active&&(ie=Array(R.thousands.active-ie.length+1).join("0")+ie),R.thousands.interval>0){for(var re=[],ne=ie.split("").reverse().join(""),ae=0,se=ie.length;ae<=se;ae+=R.thousands.interval){var le=ne.substr(ae,R.thousands.interval).split("").reverse().join("");le!==""&&re.unshift(le)}ie=re.join(R.thousands.separator)}ee+=ie,te.length===1&&te.push("");var oe=te[1];return oe.length<R.decimals.active&&(oe+=Array(R.decimals.active-oe.length+1).join("0")),oe!==""&&(ee+=R.decimals.separator+oe),ee===""&&(ee="0"),F!==0&&U&&G.indexOf("s")===-1&&(ee="-"+ee),W&&(ee=W+ee),Y&&(ee+=Y),ee},E.prototype.applyPrefix=function(F,R,U){U===void 0&&(U=!1);for(var W=F,Y="",G="",X=!1,K=1,Z=0,J=R.length;Z<J;Z++)R[Z].number<=F&&(R[Z].number===0?W=0:(W=F/R[Z].number,K=R[Z].number),Y=R[Z].prefix,G=R[Z].suffix,X=!0);return!X&&U&&R.length&&F!=0&&(W=F/R[0].number,Y=R[0].prefix,G=R[0].suffix,X=!0),X&&(W=parseFloat(W.toPrecision(min$1(K.toString().length+Math.floor(W).toString().replace(/[^0-9]*/g,"").length,21)))),[W,Y,G]},E.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(E.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(F){this._numberFormat=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(F){this._intlLocales=F,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(F){this._negativeBase=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bigNumberPrefixes",{get:function(){return hasValue(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(F){this._bigNumberPrefixes=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"smallNumberPrefixes",{get:function(){return hasValue(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(F){this._smallNumberPrefixes=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(F){this._smallNumberThreshold=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bytePrefixes",{get:function(){return hasValue(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(F){this._bytePrefixes=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(F){this._outputFormat=F.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"forceLTR",{get:function(){return this._forceLTR},set:function(F){this._forceLTR=F,this.invalidateSprite()},enumerable:!0,configurable:!0}),E.prototype.escape=function(F){return F.replace("||",PLACEHOLDER2)},E.prototype.unescape=function(F){return F.replace(PLACEHOLDER2,"|")},E}(BaseObject);registry.registeredClasses.NumberFormatter=NumberFormatter;var DateFormatter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._dateFormat="yyyy-MM-dd",F._inputDateFormat="yyyy-MM-dd",F._utc=!1,F.timezoneMinutes=0,F._firstDayOfWeek=1,F.months=["January","February","March","April","May","June","July","August","September","October","November","December"],F.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],F.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],F.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],F._outputFormat="svg",F.capitalize=!0,F.className="DateFormatter",F.applyTheme(),F}return Object.defineProperty(E.prototype,"language",{get:function(){return this._language},set:function(F){this._language=F,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),E.prototype.format=function(F,R,U){this.language||(this.sprite?this.language=this.sprite.language:this.language=new Language),(typeof R>"u"||R==="")&&(R=this._dateFormat);var W,Y;if(isString$2(F)?Y=this.parse(F):Y=anyToDate(F),isObject$3(R))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,R).format(Y):new Intl.DateTimeFormat(void 0,R).format(Y)}catch{return"Invalid"}else{R=cleanFormat(R);var G=this.parseFormat(R);if(hasValue(this.timezoneOffset)?Y.setMinutes(Y.getMinutes()+Y.getTimezoneOffset()-this.timezoneOffset):hasValue(this.timezone)&&U!==!1&&(Y=setTimezone(Y,this.timezone)),!isNumber$1(Y.getTime()))return this.language.translate("Invalid date");W=this.applyFormat(Y,G,this.language),this.capitalize&&(W=W.replace(/^.{1}/,W.substr(0,1).toUpperCase()))}return W},E.prototype.parseFormat=function(F){var R=this.getCache(F);if(hasValue(R))return R;for(var U={template:"",parts:[]},W=getTextFormatter().chunk(F,!0),Y=0;Y<W.length;Y++){var G=W[Y];if(G.type==="value"){G.text.match(/^date$/i)&&isString$2(this._dateFormat)&&(G.text=this._dateFormat);var X=G.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(X)for(var K=0;K<X.length;K++)U.parts.push(X[K]),G.text=G.text.replace(X[K],PLACEHOLDER)}U.template+=G.text}return this.setCache(F,U),U},E.prototype.applyFormat=function(F,R,U){var W=R.template,Y,G,X,K,Z,J,Q,ee,te=F.getTimezoneOffset(),ie=F.getTime();this.utc?(Y=F.getUTCFullYear(),G=F.getUTCMonth(),X=F.getUTCDay(),K=F.getUTCDate(),Z=F.getUTCHours(),J=F.getUTCMinutes(),Q=F.getUTCSeconds(),ee=F.getUTCMilliseconds()):(Y=F.getFullYear(),G=F.getMonth(),X=F.getDay(),K=F.getDate(),Z=F.getHours(),J=F.getMinutes(),Q=F.getSeconds(),ee=F.getMilliseconds());for(var re=0,ne=R.parts.length;re<ne;re++){var ae="";switch(R.parts[re]){case"G":ae=U.translate(Y<0?"_era_bc":"_era_ad");break;case"yyyy":ae=Math.abs(Y).toString(),Y<0&&(ae+=U.translate("_era_bc"));break;case"yyy":case"yy":case"y":ae=Math.abs(Y).toString().substr(-R.parts[re].length),Y<0&&(ae+=U.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var se=getWeek(F),le=Y;se==1&&X>4&&le--,R.parts[re]=="YYYY"?ae=Math.abs(le).toString():ae=Math.abs(le).toString().substr(-R.parts[re].length),le<0&&(ae+=U.translate("_era_bc"));break;case"u":break;case"q":ae=""+Math.ceil((F.getMonth()+1)/3);break;case"MMMMM":ae=U.translate(this.months[G]).substr(0,1);break;case"MMMM":ae=U.translate(this.months[G]);break;case"MMM":ae=U.translate(this.monthsShort[G]);break;case"MM":ae=padString(G+1,2,"0");break;case"M":ae=(G+1).toString();break;case"ww":ae=padString(getWeek(F,this.utc),2,"0");break;case"w":ae=getWeek(F,this.utc).toString();break;case"W":ae=getMonthWeek(F,this.utc).toString();break;case"dd":ae=padString(K,2,"0");break;case"d":ae=K.toString();break;case"DD":case"DDD":ae=padString(getYearDay(F,this.utc).toString(),R.parts[re].length,"0");break;case"D":ae=getYearDay(F,this.utc).toString();break;case"F":break;case"g":break;case"t":ae=U.translateFunc("_dateOrd").call(this,K);break;case"E":ae=(X||7).toString();break;case"EE":ae=padString((X||7).toString(),2,"0");break;case"EEE":case"eee":ae=U.translate(this.weekdaysShort[X]);break;case"EEEE":case"eeee":ae=U.translate(this.weekdays[X]);break;case"EEEEE":case"eeeee":ae=U.translate(this.weekdays[X]).substr(0,1);break;case"e":case"ee":ae=(X-this.firstDayOfWeek+1).toString(),R.parts[re]=="ee"&&(ae=padString(ae,2,"0"));break;case"a":Z>=12?ae=U.translate("PM"):ae=U.translate("AM");break;case"aa":Z>=12?ae=U.translate("P.M."):ae=U.translate("A.M.");break;case"aaa":Z>=12?ae=U.translate("P"):ae=U.translate("A");break;case"h":ae=get12Hours(Z).toString();break;case"hh":ae=padString(get12Hours(Z),2,"0");break;case"H":ae=Z.toString();break;case"HH":ae=padString(Z,2,"0");break;case"K":ae=get12Hours(Z,0).toString();break;case"KK":ae=padString(get12Hours(Z,0),2,"0");break;case"k":ae=(Z+1).toString();break;case"kk":ae=padString(Z+1,2,"0");break;case"m":ae=J.toString();break;case"mm":ae=padString(J,2,"0");break;case"s":ae=Q.toString();break;case"ss":ae=padString(Q,2,"0");break;case"S":case"SS":case"SSS":ae=Math.round(ee/1e3*Math.pow(10,R.parts[re].length)).toString();break;case"x":ae=ie.toString();break;case"n":case"nn":case"nnn":ae=padString(ee,R.parts[re].length,"0");break;case"z":ae=getTimeZone(F,!1,!1,this.utc);break;case"zz":ae=getTimeZone(F,!0,!1,this.utc);break;case"zzz":ae=getTimeZone(F,!1,!0,this.utc);break;case"zzzz":ae=getTimeZone(F,!0,!0,this.utc);break;case"Z":case"ZZ":var oe=Math.abs(te)/60,ue=Math.floor(oe),ce=oe*60-ue*60;this.utc&&(ue=0,ce=0),R.parts[re]=="Z"?(ae="GMT",ae+=te>0?"-":"+",ae+=padString(ue,2)+":"+padString(ce,2)):(ae=te>0?"-":"+",ae+=padString(ue,2)+padString(ce,2));break;case"i":ae=F.toISOString();break;case"I":ae=F.toUTCString();break}W=W.replace(PLACEHOLDER,ae)}return W},E.prototype.parse=function(F,R){if(hasValue(R)||(R=this.inputDateFormat),F instanceof Date)return F;if(typeof F=="number")return new Date(F);typeof F!="string"&&(F=F.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new Language);var U,W="";R=cleanFormat(R),R=R.substr(0,F.length);for(var Y=this.parseFormat(R),G={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},X={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},K=0,Z=0,J=0;J<Y.parts.length;J++){switch(Z=J+K+1,Y.parts[J]){case"yyyy":case"YYYY":W+="([0-9]{4})",G.year=Z;break;case"yyy":case"YYY":W+="([0-9]{3})",G.year3=Z;break;case"yy":case"YY":W+="([0-9]{2})",G.year2=Z;break;case"y":case"Y":W+="([0-9]{1})",G.year1=Z;break;case"MMMM":W+="("+this.getStringList(this.months).join("|")+")",G.monthLong=Z;break;case"MMM":W+="("+this.getStringList(this.monthsShort).join("|")+")",G.monthShort=Z;break;case"MM":case"M":W+="([0-9]{2}|[0-9]{1})",G.month=Z;break;case"ww":case"w":W+="([0-9]{2}|[0-9]{1})",G.week=Z;break;case"dd":case"d":W+="([0-9]{2}|[0-9]{1})",G.day=Z;break;case"DDD":case"DD":case"D":W+="([0-9]{3}|[0-9]{2}|[0-9]{1})",G.yearDay=Z;break;case"dddd":W+="("+this.getStringList(this.weekdays).join("|")+")",G.weekdayLong=Z;break;case"ddd":W+="("+this.getStringList(this.weekdaysShort).join("|")+")",G.weekdayShort=Z;break;case"aaa":case"aa":case"a":W+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",G.am=Z;break;case"hh":case"h":W+="([0-9]{2}|[0-9]{1})",G.hour12Base1=Z;break;case"HH":case"H":W+="([0-9]{2}|[0-9]{1})",G.hourBase0=Z;break;case"KK":case"K":W+="([0-9]{2}|[0-9]{1})",G.hour12Base0=Z;break;case"kk":case"k":W+="([0-9]{2}|[0-9]{1})",G.hourBase1=Z;break;case"mm":case"m":W+="([0-9]{2}|[0-9]{1})",G.minute=Z;break;case"ss":case"s":W+="([0-9]{2}|[0-9]{1})",G.second=Z;break;case"SSS":case"SS":case"S":W+="([0-9]{3}|[0-9]{2}|[0-9]{1})",G.millisecond=Z,G.millisecondDigits=Y.parts[J].length;break;case"nnn":case"nn":case"n":W+="([0-9]{3}|[0-9]{2}|[0-9]{1})",G.millisecond=Z;break;case"x":W+="([0-9]{1,})",G.timestamp=Z;break;case"Z":W+="GMT([-+]+[0-9]{2}:[0-9]{2})",G.zone=Z;break;case"ZZ":W+="([\\-+]+[0-9]{2}[0-9]{2})",G.zone=Z;break;case"i":W+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",G.iso=Z,K+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":K--;break}W+="[^0-9]*"}var Q=new RegExp(W),ee=F.match(Q);if(ee){if(G.year>-1&&(X.year=parseInt(ee[G.year])),G.year3>-1){var te=parseInt(ee[G.year3]);te+=1e3,X.year=te}if(G.year2>-1){var te=parseInt(ee[G.year2]);te>50?te+=1e3:te+=2e3,X.year=te}if(G.year1>-1){var te=parseInt(ee[G.year1]);te=Math.floor(new Date().getFullYear()/10)*10+te,X.year=te}if(G.monthLong>-1&&(X.month=this.resolveMonth(ee[G.monthLong])),G.monthShort>-1&&(X.month=this.resolveShortMonth(ee[G.monthShort])),G.month>-1&&(X.month=parseInt(ee[G.month])-1),G.week>-1&&G.day===-1&&(X.month=0,X.day=getDayFromWeek(parseInt(ee[G.week]),X.year,1,this.utc)),G.day>-1&&(X.day=parseInt(ee[G.day])),G.yearDay>-1&&(X.month=0,X.day=parseInt(ee[G.yearDay])),G.hourBase0>-1&&(X.hour=parseInt(ee[G.hourBase0])),G.hourBase1>-1&&(X.hour=parseInt(ee[G.hourBase1])-1),G.hour12Base0>-1){var te=parseInt(ee[G.hour12Base0]);te==11&&(te=0),G.am>-1&&!this.isAm(ee[G.am])&&(te+=12),X.hour=te}if(G.hour12Base1>-1){var te=parseInt(ee[G.hour12Base1]);te==12&&(te=0),G.am>-1&&!this.isAm(ee[G.am])&&(te+=12),X.hour=te}if(G.minute>-1&&(X.minute=parseInt(ee[G.minute])),G.second>-1&&(X.second=parseInt(ee[G.second])),G.millisecond>-1){var te=parseInt(ee[G.millisecond]);G.millisecondDigits==2?te*=10:G.millisecondDigits==1&&(te*=100),X.millisecond=te}if(G.timestamp>-1){X.timestamp=parseInt(ee[G.timestamp]);var ie=new Date(X.timestamp);X.year=ie.getUTCFullYear(),X.month=ie.getUTCMonth(),X.day=ie.getUTCDate(),X.hour=ie.getUTCHours(),X.minute=ie.getUTCMinutes(),X.second=ie.getUTCSeconds(),X.millisecond=ie.getUTCMilliseconds()}G.zone>-1&&(X.offset=this.resolveTimezoneOffset(new Date(X.year,X.month,X.day),ee[G.zone])),G.iso>-1&&(X.year=toNumber(ee[G.iso+0]),X.month=toNumber(ee[G.iso+1])-1,X.day=toNumber(ee[G.iso+2]),X.hour=toNumber(ee[G.iso+3]),X.minute=toNumber(ee[G.iso+4]),X.second=toNumber(ee[G.iso+5]),X.millisecond=toNumber(ee[G.iso+6]),ee[G.iso+7]=="Z"||ee[G.iso+7]=="z"?X.utc=!0:ee[G.iso+7]!=""&&(X.offset=this.resolveTimezoneOffset(new Date(X.year,X.month,X.day),ee[G.iso+7]))),X.utc?U=new Date(Date.UTC(X.year,X.month,X.day,X.hour,X.minute,X.second,X.millisecond)):U=new Date(X.year,X.month,X.day,X.hour,X.minute+X.offset,X.second,X.millisecond)}else U=new Date(F);return U},E.prototype.resolveTimezoneOffset=function(F,R){var U=R.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);if(U){var W=getValue(R.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),Y=W[1],G=W[2],X=W[3],K=parseInt(G)*60+parseInt(X);Y=="+"&&(K*=-1);var Z=(F||new Date).getTimezoneOffset(),J=K-Z;return J}return 0},E.prototype.resolveMonth=function(F){var R=this.months.indexOf(F);return R>-1||this.language&&!this.language.isDefault()&&(R=this.language.translateAll(this.months).indexOf(F),R>-1)?R:0},E.prototype.resolveShortMonth=function(F){var R=this.monthsShort.indexOf(F);return R>-1||(R=this.months.indexOf(F),R>-1)||this.language&&!this.language.isDefault()&&(R=this.language.translateAll(this.monthsShort).indexOf(F),R>-1)?R:0},E.prototype.isAm=function(F){var R=this.getStringList(["AM","A.M.","A"]);return R.indexOf(F.toUpperCase())>-1},E.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},E.prototype.getStringList=function(F){for(var R=[],U=0;U<F.length;U++)this.language?R.push(escapeForRgex(this.language.translate(F[U]))):R.push(escapeForRgex(F[U]));return R},Object.defineProperty(E.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(F){this._dateFormat=F,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(F){this._inputDateFormat=F,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(F){this._intlLocales=F,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"utc",{get:function(){return this._utc},set:function(F){this._utc=F,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(F){this._timezoneOffset!=F&&(this._timezoneOffset=F,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"timezone",{get:function(){return this._timezone},set:function(F){this._timezone!=F&&(this._timezone=F,this.timezoneMinutes=getTimezoneMinutes(F),this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(F){this._firstDayOfWeek=F,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(F){this._outputFormat=F.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),E}(BaseObject);registry.registeredClasses.DateFormatter=DateFormatter;var DurationFormatter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._negativeBase=0,F._baseUnit="second",F._outputFormat="svg",F._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},F._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},F.className="DurationFormatter",F.applyTheme(),F}return E.prototype.format=function(F,R,U){this.language||(this.sprite?this.language=this.sprite.language:this.language=new Language);var W=U||this._baseUnit;(typeof R>"u"||R==="")&&(hasValue(this.durationFormat)?R=this.durationFormat:R=this.getFormat(toNumber(F),null,W)),R=cleanFormat(R);var Y=this.parseFormat(R,W),G=Number(F),X;G>this._negativeBase?X=Y.positive:G<this._negativeBase?X=Y.negative:X=Y.zero;var K=this.applyFormat(G,X);return X.color!==""&&(this._outputFormat==="svg"?K="<tspan fill='"+X.color+"'>"+K+"</tspan>":this._outputFormat==="html"&&(K="<span style='color: "+X.color+";'>"+K+"</span>")),K},E.prototype.parseFormat=function(F,R){var U=this,W=this.getCache(F);if(hasValue(W))return W;var Y=R||this._baseUnit,G={positive:{color:"",template:"",parts:[],source:"",baseUnit:Y,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:Y,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:Y,parsed:!1,absolute:!1}};F=F.replace("||",PLACEHOLDER2);var X=F.split("|");return G.positive.source=X[0],typeof X[2]>"u"?G.zero=G.positive:G.zero.source=X[2],typeof X[1]>"u"?G.negative=G.positive:G.negative.source=X[1],each$1(G,function(K,Z){if(!Z.parsed){if(typeof U.getCache(Z.source)<"u"){G[K]=U.getCache(Z.source);return}var J=Z.source,Q=[];Q=Z.source.match(/^\[([^\]]*)\]/),Q&&Q.length&&Q[0]!==""&&(J=Z.source.substr(Q[0].length),Z.color=Q[1]);for(var ee=getTextFormatter().chunk(J,!0),te=0;te<ee.length;te++){var ie=ee[te];if(ie.text=ie.text.replace(PLACEHOLDER2,"|"),ie.type==="value"){ie.text.match(/[yYMdDwhHKkmsSn]+a/)&&(Z.absolute=!0,ie.text=ie.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var re=ie.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(re)for(var ne=0;ne<re.length;ne++)hasValue(re[ne])||(re[ne]=U._unitAliases[re[ne]]),Z.parts.push(re[ne]),ie.text=ie.text.replace(re[ne],PLACEHOLDER)}Z.template+=ie.text}U.setCache(Z.source,Z),Z.parsed=!0}}),this.setCache(F,G),G},E.prototype.applyFormat=function(F,R){var U=!R.absolute&&F<this._negativeBase;F=Math.abs(F);for(var W=this.toTimeStamp(F,R.baseUnit),Y=R.template,G=0,X=R.parts.length;G<X;G++){var K=R.parts[G],Z=this.toTimeUnit(K.substr(0,1)),J=K.length,Q=Math.floor(W/this._unitValues[Z]);Y=Y.replace(PLACEHOLDER,padString(Q,J,"0")),W-=Q*this._unitValues[Z]}return U&&(Y="-"+Y),Y},E.prototype.toTimeStamp=function(F,R){return F*this._unitValues[R]},E.prototype.toTimeUnit=function(F){switch(F){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},E.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(E.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(F){this._baseUnit=F,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(F){this._outputFormat=F.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),E.prototype.getFormat=function(F,R,U){if(hasValue(this.durationFormat))return this.durationFormat;if(U||(U=this.baseUnit),hasValue(R)&&F!=R){F=Math.abs(F),R=Math.abs(R);var W=this.getValueUnit(max$1(F,R),U);return this.durationFormats[U][W]}else{var Y=this.getValueUnit(F,U);return this.durationFormats[U][Y]}},E.prototype.getValueUnit=function(F,R){R||(R=this.baseUnit);var U,W=this.getMilliseconds(F,R);return eachContinue$1(this._unitValues,function(Y,G){if(Y==R||U){var X=W/G;if(X<=1)return U||(U=Y),!1;U=Y}return!0}),U},E.prototype.getMilliseconds=function(F,R){return R||(R=this.baseUnit),F*this._unitValues[R]},Object.defineProperty(E.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(F){this._durationFormat!=F&&(this._durationFormat=F,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(F){this._durationFormats=F,this.invalidateSprite()},enumerable:!0,configurable:!0}),E}(BaseObject);registry.registeredClasses.DurationFormatter=DurationFormatter;const scriptRel="modulepreload",assetsURL=function(V){return"/"+V},seen={},__vitePreload=function(E,F,R){if(!F||F.length===0)return E();const U=document.getElementsByTagName("link");return Promise.all(F.map(W=>{if(W=assetsURL(W),W in seen)return;seen[W]=!0;const Y=W.endsWith(".css"),G=Y?'[rel="stylesheet"]':"";if(!!R)for(let Z=U.length-1;Z>=0;Z--){const J=U[Z];if(J.href===W&&(!Y||J.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${W}"]${G}`))return;const K=document.createElement("link");if(K.rel=Y?"stylesheet":scriptRel,Y||(K.as="script",K.crossOrigin=""),K.href=W,document.head.appendChild(K),Y)return new Promise((Z,J)=>{K.addEventListener("load",Z),K.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${W}`)))})})).then(()=>E())};var rules=new Dictionary;function exportCSS(V,E){var F=E||"amexport",R=new InterfaceColorSet,U=rules.insertKeyIfEmpty(F,function(){var W=new MultiDisposer([new StyleRule(V,"."+F+"-menu *",{"box-sizing":"border-box"}),new StyleRule(V,"."+F+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new StyleRule(V,"."+F+"-menu-level-0."+F+"-left",{right:"auto",left:"5px"}),new StyleRule(V,"."+F+"-menu-level-0."+F+"-right",{right:"5px",left:"auto"}),new StyleRule(V,"."+F+"-menu-level-0."+F+"-top",{top:"5px",bottom:"auto"}),new StyleRule(V,"."+F+"-menu-level-0."+F+"-bottom",{top:"auto",bottom:"5px"}),new StyleRule(V,"."+F+"-item."+F+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new StyleRule(V,"div:hover > div > ."+F+"-menu ."+F+"-item."+F+"-item-level-0, ."+F+"-item."+F+"-item-level-0.active",{opacity:"0.9"}),new StyleRule(V,"."+F+"-item."+F+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new StyleRule(V,"."+F+"-item."+F+"-item-level-0:before",{display:"block"}),new StyleRule(V,"."+F+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":R.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:R.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new StyleRule(V,"."+F+"-left ."+F+"-item",{margin:"1px 0 0 1px"}),new StyleRule(V,"."+F+"-item:hover, ."+F+"-item.active",{background:R.getFor("secondaryButtonHover").hex,color:R.getFor("secondaryButtonText").hex}),new StyleRule(V,"."+F+"-item > ."+F+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new StyleRule(V,"."+F+"-left ."+F+"-item > ."+F+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new StyleRule(V,"."+F+"-right ."+F+"-item > ."+F+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new StyleRule(V,"."+F+"-top ."+F+"-item > ."+F+"-menu",{top:"-1px",bottom:"auto"}),new StyleRule(V,"."+F+"-bottom ."+F+"-item > ."+F+"-menu",{top:"auto",bottom:"0"}),new StyleRule(V,"."+F+"-item > ."+F+"-menu",{display:"none"}),new StyleRule(V,"."+F+"-item:hover > ."+F+"-menu, ."+F+"-item.active > ."+F+"-menu",{display:"block"}),new StyleRule(V,"."+F+"-item:hover > ."+F+"-menu > ."+F+"-item, ."+F+"-item.active > ."+F+"-menu > ."+F+"-item",{opacity:"1"}),new StyleRule(V,"."+F+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new StyleRule(V,"."+F+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new StyleRule(V,"."+F+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new StyleRule(V,"."+F+"-item-level-0 > ."+F+"-icon",{padding:"0.1em 0.2em"}),new StyleRule(V,"."+F+"-clickable",{cursor:"pointer"})]);return new CounterDisposer(function(){rules.removeKey(F),W.dispose()})});return U.increment()}var Validatable=function(V){__extends(E,V);function E(){var F=V!==null&&V.apply(this,arguments)||this;return F._validateDisposer=null,F}return E.prototype.invalidate=function(){this._validateDisposer===null&&(this._validateDisposer=registry.events.on("exitframe",this.validate,this))},E.prototype.validate=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null)},E.prototype.dispose=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null),V.prototype.dispose.call(this)},E}(BaseObjectEvents),ExportMenu=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.adapter=new Adapter(F),F.closeDelay=1e3,F.closeOnClick=!0,F._language=new MutableValueDisposer,F._menuTag="ul",F._itemTag="li",F._labelTag="a",F._iconTag="img",F._classPrefix="amexport",F._defaultStyles=!0,F._align="right",F._verticalAlign="top",F._tabindex=0,F._ignoreNextClose=!1,F._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],F.className="ExportMenu",F._disposers.push(F._language),F.invalidate(),F.applyTheme(),F}return E.prototype.validate=function(){this.draw(),V.prototype.validate.call(this)},E.prototype.draw=function(){var F=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),getValue(this._container).appendChild(this._element);for(var R=this.adapter.apply("items",{items:this._items}).items,U=R.length,W=0;W<U;W++)this.drawBranch(this._element,R[W],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(getInteraction().body.events.on("down",function(Y){Y.pointer.touch||(F._ignoreNextClose=!1),F.close()})),this._disposers.push(getInteraction().body.events.on("keydown",function(Y){var G=keyboard.getEventKey(Y.event);switch(G){case"esc":F.close();break;case"up":case"down":case"left":case"right":F._currentSelection&&Y.event.preventDefault(),F.moveSelection(G);break}})),this.defaultStyles&&this.loadDefaultCSS()},E.prototype.drawBranch=function(F,R,U){var W=this;if(R=this.adapter.apply("branch",{branch:R,level:U}).branch,R.unsupported!==!0){R.ascendants||(R.ascendants=new List);var Y=R.type,G=this.createItemElement(U,Y),X;R.icon?(X=this.createIconElement(U,Y),X.src=R.icon,(R.label||R.title)&&(X.title=R.title||R.label)):R.svg?(X=this.createSvgElement(U,Y,R.svg),(R.label||R.title)&&(X.title=R.title||R.label)):(X=this.createLabelElement(U,Y),X.innerHTML=R.label?this.language.translate(R.label):"",R.title&&(X.title=R.title));var K=this.getReaderLabel(R,X.innerHTML);X.setAttribute("aria-label",K),G.appendChild(X),R.interactions=getInteraction().getInteraction(G),R.element=G,this.typeClickable(Y)&&(R.interactions.events.on("hit",function(re){if(W.events.isEnabled("hit")&&!W.isDisposed()){var ne={type:"hit",event:re.event,target:W,branch:R};W.events.dispatchImmediately("hit",ne)}}),R.interactions.events.on("keyup",function(re){if(keyboard.isKey(re.event,"enter")&&W.events.isEnabled("enter")){var ne={type:"enter",event:re.event,target:W,branch:R};W.events.dispatchImmediately("enter",ne)}}));{var Z=this.getSubMenu(R);Z!=null&&(R.interactions.events.on("keyup",function(re){keyboard.isKey(re.event,"enter")&&(W.selectBranch(Z[0]),W.setFocus(Z[0]))}),R.interactions.events.on("hit",function(re){W.selectBranch(R)}))}R.interactions.events.on("over",function(re){if(re.pointer.touch&&(W._ignoreNextClose=!0),W.selectBranch(R),W.events.isEnabled("over")){var ne={type:"over",event:re.event,target:W,branch:R};W.events.dispatchImmediately("over",ne)}}),R.interactions.events.on("out",function(re){if(!W.isDisposed()&&(re.pointer.touch||W.delayUnselectBranch(R),W.events.isEnabled("out"))){var ne={type:"out",event:re.event,target:W,branch:R};W.events.dispatchImmediately("out",ne)}}),R.interactions.events.on("focus",function(re){W.selectBranch(R)}),R.interactions.events.on("blur",function(re){W.delayUnselectBranch(R)});var J=U+1;if(R.menu){var Q=this.createMenuElement(J);R.submenuElement=Q;for(var ee=R.menu.length,te=0;te<ee;te++){var ie=new List;R.menu[te].ascendants=ie,R.ascendants.length&&ie.copyFrom(R.ascendants),ie.push(R),this.drawBranch(Q,R.menu[te],J)}if(Q.innerHTML=="")return;G.appendChild(Q)}R.hidden&&this.hideBranch(R),R.id&&G.setAttribute("id",R.id),R.color&&(G.style.backgroundColor=R.color.hex),F.appendChild(G)}},E.prototype.createMenuElement=function(F){var R=document.createElement(this.menuTag);return R.className=this.getMenuItemClass(F),F===0?R.setAttribute("role","menubar"):R.setAttribute("role","menu"),R},E.prototype.getMenuItemClass=function(F){var R=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+F;return F===0&&(R+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:R,level:F}).className},E.prototype.createItemElement=function(F,R){var U=document.createElement(this.itemTag),W=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+F+" "+this.classPrefix+"-item-"+(R||"blank");return U.className=this.adapter.apply("itemClass",{className:W,level:F,type:R}).className,U.setAttribute("role","menuitem"),U.setAttribute("tabindex",this.tabindex.toString()),U},E.prototype.createLabelElement=function(F,R){var U=document.createElement(this.labelTag),W=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+F+" "+this.classPrefix+"-item-"+(R||"blank");return this.typeClickable(R)&&(W+=" "+this.classPrefix+"-clickable"),U.className=this.adapter.apply("labelClass",{className:W,level:F,type:R}).className,U},E.prototype.createIconElement=function(F,R){var U=document.createElement(this.iconTag),W=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+F+" "+this.classPrefix+"-item-"+(R||"blank");return this.typeClickable(R)&&(W+=" "+this.classPrefix+"-clickable"),U.className=this.adapter.apply("labelClass",{className:W,level:F,type:R}).className,U.setAttribute("tabindex",this.tabindex.toString()),U.setAttribute("role","menuitem"),U},E.prototype.createSvgElement=function(F,R,U){var W=new DOMParser,Y=W.parseFromString(U,"image/svg+xml").documentElement,G=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+F+" "+this.classPrefix+"-item-"+(R||"blank");return this.typeClickable(R)&&(G+=" "+this.classPrefix+"-clickable"),Y.setAttribute("class",this.adapter.apply("labelClass",{className:G,level:F,type:R}).className),Y.setAttribute("tabindex",this.tabindex.toString()),Y.setAttribute("role","menuitem"),Y},E.prototype.dispose=function(){this._disposed||(V.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},E.prototype.typeClickable=function(F){return hasValue(F)},E.prototype.hasSubMenu=function(F){return!!(F.menu&&F.menu.length)},E.prototype.getSubMenu=function(F){if(F.menu&&F.menu.length)return F.menu},E.prototype.getReaderLabel=function(F,R){return R=stripTags(R),F.ascendants.length==0?(R=R=="..."?this.language.translate("Export"):R,R+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(F)?R+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":F.type=="print"?R=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(F.type)&&(R=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,R)),this.adapter.apply("rederLabel",{label:R,branch:F}).label},Object.defineProperty(E.prototype,"container",{get:function(){return this._container},set:function(F){this._container=F,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"items",{get:function(){return this._items},set:function(F){this._items=F,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tag",{set:function(F){this._menuTag=F,this._itemTag=F=="ul"?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(F){this._align=F,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(F){this._verticalAlign=F,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(F){this._classPrefix=F,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(F){this._defaultStyles!=F&&(this._defaultStyles=F,F&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),E.prototype.loadDefaultCSS=function(){this._disposers.push(exportCSS(getShadowRoot(this.container),this.classPrefix)),this._element&&(this._element.style.display="")},Object.defineProperty(E.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(F){this._tabindex=F,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"language",{get:function(){var F=this,R=this._language.get();return R==null&&(R=new Language,this._language.set(R,R.events.on("localechanged",function(U){F.invalidate()}))),R},set:function(F){var R=this;this._language.set(F,F.events.on("localechanged",function(U){R.invalidate()})),this.invalidate()},enumerable:!0,configurable:!0}),E.prototype.close=function(){var F=this;if(!this.isDisposed()){if(this._ignoreNextClose){this._ignoreNextClose=!1;return}if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout(function(){F._element.style.pointerEvents="auto"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var R=this._element.getElementsByClassName("active"),U=R.length,W=U-1;W>=0;W--)R[W]&&removeClass(R[W],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},E.prototype.selectBranch=function(F){var R=this;if(!this.isDisposed()&&(F.closeTimeout&&(this.removeDispose(F.closeTimeout),F.closeTimeout=void 0),addClass(F.element,"active"),F.submenuElement&&F.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==F&&this._currentSelection.ascendants&&each(concat(fromArray([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(W){!F.ascendants.contains(W)&&F!==W&&R.unselectBranch(W,!0)}),each(F.ascendants.iterator(),function(W){W.closeTimeout&&(R.removeDispose(W.closeTimeout),W.closeTimeout=void 0),addClass(W.element,"active")}),this._currentSelection=F,this.events.isEnabled("branchselected"))){var U={type:"branchselected",target:this,branch:F};this.events.dispatchImmediately("branchselected",U)}},E.prototype.unselectBranch=function(F,R){if(!this.isDisposed()&&(removeClass(F.element,"active"),F.submenuElement&&F.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==F&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))){var U={type:"branchunselected",target:this,branch:F};this.events.dispatchImmediately("branchunselected",U)}},E.prototype.delayUnselectBranch=function(F,R){var U=this;this.isDisposed()||(F.closeTimeout&&(this.removeDispose(F.closeTimeout),F.closeTimeout=void 0),F.closeTimeout=this.setTimeout(function(){U.unselectBranch(F,R)},this.closeDelay),R!==!0&&F.ascendants&&each(F.ascendants.iterator(),function(W){U.delayUnselectBranch(W,!0)}))},E.prototype.moveSelection=function(F){if(!this.isDisposed()&&!!this._currentSelection){var R;if(F=="up")R=this.getPrevSibling(this._currentSelection);else if(F=="down")R=this.getNextSibling(this._currentSelection);else if(F=="left"&&this.align=="right"||F=="right"&&this.align=="left"){var U=this.getSubMenu(this._currentSelection);U!=null&&(R=U[0])}else(F=="right"&&this.align=="right"||F=="left"&&this.align=="left")&&(R=this.getParentItem(this._currentSelection));R&&R!==this._currentSelection&&(this.selectBranch(R),this.setFocus(R),this._currentSelection=R)}},E.prototype.getSiblings=function(F){var R=this.getParentItem(F);return R&&R.menu?R.menu:[]},E.prototype.getParentItem=function(F){if(F.ascendants&&F.ascendants.length)return F.ascendants.getIndex(F.ascendants.length-1)},E.prototype.getNextSibling=function(F){var R=this.getSiblings(F);if(R.length>1){var U=R.indexOf(F)+1;return U=R.length==U?0:U,R[U].unsupported?this.getNextSibling(R[U]):R[U]}else return F},E.prototype.getPrevSibling=function(F){var R=this.getSiblings(F);if(R.length>1){var U=R.indexOf(F)-1;return U=U==-1?R.length-1:U,R[U].unsupported?this.getPrevSibling(R[U]):R[U]}else return F},E.prototype.setFocus=function(F){if(F.interactions)try{F.interactions.element.focus()}catch{}},E.prototype.setBlur=function(F){if(F.interactions)try{F.interactions.element.blur()}catch{}},E.prototype.hideBranch=function(F){F.element.style.display="none"},E.prototype.showBranch=function(F){F.element.style.display=""},Object.defineProperty(E.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),E}(Validatable);function load(V,E,F){return new Promise(function(R,U){var W=hasValue(F)&&F.responseType=="blob",Y=new XMLHttpRequest;if(Y.onload=function(){if(Y.status===200){var K=void 0,Z;if(W){Z=Y.response,readBlob(Z).then(function(Q){var ee={xhr:Y,error:!1,response:Q,blob:Z,type:Y.getResponseHeader("Content-Type"),target:E};R(ee)});return}else K=Y.responseText||Y.response;var J={xhr:Y,error:!1,response:K,blob:Z,type:Y.getResponseHeader("Content-Type"),target:E};R(J)}else U({xhr:Y,error:!0,type:Y.getResponseHeader("Content-Type"),target:E})},Y.onerror=function(){U({xhr:Y,error:!0,type:Y.getResponseHeader("Content-Type"),target:E})},Y.open("GET",V,!0),F&&F.withCredentials&&(Y.withCredentials=!0),hasValue(F)){if(hasValue(F.requestHeaders))for(var G=0;G<F.requestHeaders.length;G++){var X=F.requestHeaders[G];Y.setRequestHeader(X.key,X.value)}hasValue(F.responseType)&&(Y.responseType=F.responseType)}Y.send()})}function readBlob(V){return new Promise(function(E,F){var R=new FileReader;R.onload=function(U){E(R.result)},R.onerror=function(U){F(U)},R.readAsText(V)})}var pdfmakePromise;function _pdfmake(){return __awaiter(this,void 0,void 0,function(){var V,E,F,R;return __generator(this,function(U){switch(U.label){case 0:return[4,Promise.all([__vitePreload(()=>import("pdfmake/build/pdfmake.js"),[]),__vitePreload(()=>import("../node_modules/@amcharts/amcharts4/.internal/pdfmake/vfs_fonts"),[])])];case 1:return V=U.sent(),E=V[0].default||V[0],F=V[1].default||V[1],R=window,R.pdfMake=R.pdfMake||{},R.pdfMake.vfs=F,E.vfs=F,[2,E]}})})}var fontFamilySrcRegexp=/src: ([^;]+);/;function supportsBlobUri(){return window.navigator.msSaveOrOpenBlob!=null}function blobToDataUri(V){return new Promise(function(E,F){var R=new FileReader;R.onload=function(U){E(R.result)},R.onerror=function(U){F(U)},R.readAsDataURL(V)})}function getCssRules(V){return __awaiter(this,void 0,void 0,function(){var E;return __generator(this,function(F){switch(F.label){case 0:E=V.sheet,F.label=1;case 1:return F.trys.push([1,2,,4]),[2,E.cssRules];case 2:return F.sent(),[4,new Promise(function(R,U){V.addEventListener("load",function(){R(E.cssRules)},!0),V.addEventListener("error",function(W){U(W)},!0),setTimeout(function(){U(new Error("Timeout while waiting for <style> to load"))},1e4)})];case 3:return[2,F.sent()];case 4:return[2]}})})}function loadStylesheet(V,E,F){return __awaiter(this,void 0,void 0,function(){var R,U,W,Y;return __generator(this,function(G){switch(G.label){case 0:return G.trys.push([0,2,,3]),[4,load(E)];case 1:return R=G.sent(),[3,3];case 2:return U=G.sent(),console.error("Failed to load stylesheet",E,U),[2];case 3:W=V.createElement("style"),W.textContent=R.response,V.head.appendChild(W),G.label=4;case 4:return G.trys.push([4,,7,8]),[4,getCssRules(W)];case 5:return Y=G.sent(),[4,eachStylesheet(V,E,Y,F)];case 6:return G.sent(),[3,8];case 7:return V.head.removeChild(W),[7];case 8:return[2]}})})}function eachStylesheet(V,E,F,R){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X;return __generator(this,function(K){switch(K.label){case 0:for(U=[],W=F.length,Y=0;Y<W;Y++)G=F[Y],G.type===CSSRule.IMPORT_RULE?(X=G.href,X&&(X=joinUrl(E,X),U.push(loadStylesheet(V,X,R)))):R(E,G);return U.length?[4,Promise.all(U)]:[3,2];case 1:K.sent(),K.label=2;case 2:return[2]}})})}function eachStylesheets(V){return __awaiter(this,void 0,void 0,function(){var E,F;return __generator(this,function(R){switch(R.label){case 0:E=document.createElement("iframe"),E.src="about:blank",E.setAttribute("title",""),document.head.appendChild(E),R.label=1;case 1:return R.trys.push([1,,3,4]),F=E.contentDocument,[4,Promise.all(map$1(document.styleSheets,function(U){var W=U.href;return W==null?eachStylesheet(F,location.href,U.cssRules,V):(W=joinUrl(location.href,W),loadStylesheet(F,W,V))}))];case 2:return R.sent(),[3,4];case 3:return document.head.removeChild(E),[7];case 4:return[2]}})})}var Export=function(V){__extends(E,V);function E(F){var R=V.call(this)||this;return R.adapter=new Adapter(R),R._formatOptions=new Dictionary,R._extraSprites=[],R._validateSprites=[],R.dataFieldsOrder=[],R._dynamicDataFields=!0,R._removedObjects=new List,R._hiddenObjects=[],R._objectsAlreadyHidden=!1,R._filePrefix="amCharts",R.useWebFonts=!0,R.useRetina=!0,R.useSimplifiedExport=!0,R.timeoutDelay=2e3,R._exportRunning=!1,R._prevHasData=!1,R._container=F,R.className="Export",R._formatOptions.setKey("png",{}),R._formatOptions.setKey("jpg",{quality:.8}),R._formatOptions.setKey("gif",{}),R._formatOptions.setKey("svg",{}),R._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),R._formatOptions.setKey("json",{indent:2,useLocale:!0}),R._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:"",addBOM:!0}),R._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),R._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),R._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),R._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),R.adapter.add("options",function(U){var W=R._formatOptions.getKey(U.type);return U.options?U.options=merge$2(W,U.options):U.options=W,U}),R.applyTheme(),R.dispatchImmediately("inited"),R}return Object.defineProperty(E.prototype,"menu",{get:function(){return this._menu},set:function(F){var R=this;this._menu&&this.removeDispose(this._menu),this._menu=F,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",function(U){return U.branch.unsupported=!R.typeSupported(U.branch.type),U}),this._menu.events.on("hit",function(U){R.export(U.branch.type,U.branch.options),R.menu.close()}),this._menu.events.on("enter",function(U){R.export(U.branch.type,U.branch.options),R.menu.close()}),this._menu.events.on("over",function(U){R._disablePointers()}),this._menu.events.on("out",function(U){setTimeout(function(){R._releasePointers()},10)}),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",function(U){return U.classPrefix=options.classNamePrefix+U.classPrefix,U}),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),E.prototype.typeSupported=function(F){var R=!0,U=this.getFormatOptions(F);return hasValue(U)&&U.disabled?R=!1:F==="pdf"||(F==="xlsx"?R=!!this._hasData():(F=="print"&&!window.print||["json","csv","html","pdfdata"].indexOf(F)!==-1&&!this._hasData())&&(R=!1)),this.adapter.apply("supported",{supported:R,type:F}).supported},E.prototype._hasData=function(){return this.data&&this.data.length},E.prototype._getFunction=function(F){switch(F){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},E.prototype.export=function(F,R){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X,K=this;return __generator(this,function(Z){switch(Z.label){case 0:return F=="custom"?(this.handleCustom(R),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(U={type:"exportstarted",target:this,format:F,options:R},this.events.dispatchImmediately("exportstarted",U)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){if(K.events.isEnabled("exporttimedout")){var J={type:"exporttimedout",target:K,format:F,options:R};K.events.dispatchImmediately("exporttimedout",J)}K.showTimeout()},this.timeoutDelay)),this.hideNonExportableSprites(),W=this._getFunction(F),R=this.adapter.apply("options",{options:R,type:F}).options,W=this.adapter.apply("exportFunction",{func:W,type:F,options:R}).func,[4,W.call(this,F,R)]);case 1:return Y=Z.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),Y?(this.events.isEnabled("exportfinished")&&(G={type:"exportfinished",target:this,format:F,options:R},this.events.dispatchImmediately("exportfinished",G)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),F==="print"?[2,this.print(Y,R,this.adapter.apply("title",{title:this.title,options:R}).title)]:F=="pdfdata"?[2,this.download(Y,this.filePrefix+".pdf")]:[2,this.download(Y,this.filePrefix+"."+F,R&&R.addBOM)]):(this.events.isEnabled("error")&&(X={type:"error",target:this,format:F,options:R},this.events.dispatchImmediately("error",X)),[2,!1])}})})},E.prototype.unsupported=function(F,R){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(U){return[2,""]})})},E.prototype.handleCustom=function(F){hasValue(F)&&hasValue(F.callback)&&F.callback.call(F.callbackTarget||this,F)},E.prototype.getPrint=function(F,R){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(U){return[2,this.getImage("png",R)]})})},E.prototype.getFontFamilies=function(){return __awaiter(this,void 0,void 0,function(){var F,R,U,W,Y=this;return __generator(this,function(G){switch(G.label){case 0:return F=this.getDOMURL(),R=[],U=[],[4,eachStylesheets(function(X,K){if(K.type===CSSRule.FONT_FACE_RULE){var Z=K.cssText,J=fontFamilySrcRegexp.exec(Z);if(J!==null){var Q=J[1].split(/ *, */).map(function(ee){return __awaiter(Y,void 0,void 0,function(){var te,ie,re,ne,ae,se;return __generator(this,function(le){switch(le.label){case 0:return te=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(ee),te!==null?[3,1]:[2,ee];case 1:if(ie=te[2],re=joinUrl(X,te[1]),this.webFontFilter&&!re.match(this.webFontFilter))return[2,null];le.label=2;case 2:return le.trys.push([2,7,,8]),[4,load(re,void 0,{responseType:"blob"})];case 3:return ne=le.sent(),supportsBlobUri()?(ae=F.createObjectURL(ne.blob),R.push(ae),[3,6]):[3,4];case 4:return[4,blobToDataUri(ne.blob)];case 5:ae=le.sent(),le.label=6;case 6:return[2,'url("'+ae+'")'+ie];case 7:return se=le.sent(),console.error("Failed to load font",re,se),[2,null];case 8:return[2]}})})});U.push(Promise.all(Q).then(function(ee){return ee=ee.filter(function(te){return te!=null}),ee.length===0?"":Z.replace(fontFamilySrcRegexp,"src: "+ee.join(", ")+";")}))}}})];case 1:return G.sent(),[4,Promise.all(U)];case 2:return W=G.sent(),[2,{blobs:R,cssText:W.filter(function(X){return!!X}).join(`
`)}]}})})},E.prototype.getImage=function(F,R,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,Z;return __generator(this,function(J){switch(J.label){case 0:return W=this._objectsAlreadyHidden,W||this.hideNonExportableSprites(),hasValue(R)||(R=this.getFormatOptions(F)),[4,this.awaitValidSprites()];case 1:return J.sent(),[4,this.simplifiedImageExport()];case 2:if(!J.sent())return[3,10];Y=void 0,J.label=3;case 3:return J.trys.push([3,7,,9]),[4,this.getCanvas(R)];case 4:return Y=J.sent(),U===!1?[3,6]:[4,this.addExtras(Y,R)];case 5:G=J.sent(),this.disposeCanvas(Y),Y=G,J.label=6;case 6:return X=Y.toDataURL(this.getContentType(F),R.quality),this.disposeCanvas(Y),W||this.restoreNonExportableSprites(),[2,X];case 7:return K=J.sent(),console.error(K.message+`
`+K.stack),warn$1("Simple export failed, falling back to advanced export"),Y&&this.disposeCanvas(Y),[4,this.getImageAdvanced(F,R,U)];case 8:return Z=J.sent(),W||this.restoreNonExportableSprites(),[2,Z];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(F,R,U)];case 11:return Z=J.sent(),W||this.restoreNonExportableSprites(),[2,Z];case 12:return[2]}})})},E.prototype.addExtras=function(F,R,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee,te,ie,re,ne,ae,se=this;return __generator(this,function(le){switch(le.label){case 0:return this.extraSprites.length?(W=0,Y=0,G=F.width,X=F.height,K=0,Z=0,[4,Promise.all(map$1(this.extraSprites,function(oe){return __awaiter(se,void 0,void 0,function(){var ue,ce,he,me;return __generator(this,function(Pe){switch(Pe.label){case 0:return oe instanceof Sprite?ue={sprite:oe,position:"bottom"}:ue=oe,ue.position=ue.position||"bottom",ue.marginTop=ue.marginTop||0,ue.marginRight=ue.marginRight||0,ue.marginBottom=ue.marginBottom||0,ue.marginLeft=ue.marginLeft||0,U?[4,ue.sprite.exporting.getCanvasAdvanced(R)]:[3,2];case 1:return ce=Pe.sent(),[3,4];case 2:return[4,ue.sprite.exporting.getCanvas(R)];case 3:ce=Pe.sent(),Pe.label=4;case 4:return he=ce.width+ue.marginLeft+ue.marginRight,me=ce.height+ue.marginTop+ue.marginBottom,ue.position=="top"?(G=ue.crop?X:max$1(G,he),Y+=me):ue.position=="right"?(X=ue.crop?X:max$1(X,me),K+=he):ue.position=="left"?(X=ue.crop?X:max$1(X,me),W+=he):ue.position==="bottom"&&(G=ue.crop?X:max$1(G,he),Z+=me),[2,{canvas:ce,position:ue.position,left:ue.marginLeft,top:ue.marginTop,width:he,height:me}]}})})}))]):[3,2];case 1:return J=le.sent(),Q=this.getDisposableCanvas(),Q.width=W+G+K,Q.height=Y+X+Z,ee=Q.getContext("2d"),te=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),te&&(ee.fillStyle=te.toString(),ee.fillRect(0,0,Q.width,Q.height)),ie=W,re=Y,ne=ie+G,ae=re+X,each$2(J,function(oe){oe.position=="top"?(re-=oe.height,ee.drawImage(oe.canvas,W+oe.left,re+oe.top)):oe.position=="right"?(ee.drawImage(oe.canvas,ne+oe.left,Y+oe.top),ne+=oe.width):oe.position=="left"?(ie-=oe.width,ee.drawImage(oe.canvas,ie+oe.left,Y+oe.top)):oe.position==="bottom"&&(ee.drawImage(oe.canvas,W+oe.left,ae+oe.top),ae+=oe.height),se.disposeCanvas(oe.canvas)}),ee.drawImage(F,W,Y),[2,Q];case 2:return[2,F]}})})},E.prototype.getCanvas=function(F){return __awaiter(this,void 0,void 0,function(){var R,U,W,Y,G,X,K,Z,J,Q,ee,te,ie,re,ne,ae,se;return __generator(this,function(le){switch(le.label){case 0:hasValue(F)||(F={}),R=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),U=this.getDOMURL(),W=null,Y=null,le.label=1;case 1:return le.trys.push([1,,4,5]),X=this.sprite.pixelWidth,K=this.sprite.pixelHeight,Z=findFont(this.sprite.dom),J=findFontSize(this.sprite.dom),Q=F.scale||1,ee=this.getPixelRatio(F),Q=this.getAdjustedScale(X*ee,K*ee,Q,F),G=this.getDisposableCanvas(),G.style.width=X*Q+"px",G.style.height=K*Q+"px",G.width=X*Q,G.height=K*Q,te=G.getContext("2d"),R&&(te.fillStyle=R.toString(),te.fillRect(0,0,X*Q,K*Q)),ie=[],this.useWebFonts&&ie.push(this.getFontFamilies().then(function(oe){return Y=oe.blobs,oe.cssText})),ie.push(this.imagesToDataURI(this.sprite.dom,F)),ie.push(this.prepForeignObjects(this.sprite.dom,F)),[4,Promise.all(ie)];case 2:return re=le.sent(),ne=this.normalizeSVG("<style>"+re[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),F,X,K,Q,Z,J),ae=new Blob([ne],{type:"image/svg+xml"}),W=U.createObjectURL(ae),[4,this.loadNewImage(W,X*Q*ee,K*Q*ee,"anonymous")];case 3:return se=le.sent(),te.drawImage(se,0,0),[3,5];case 4:return W!==null&&U.revokeObjectURL(W),Y!==null&&each$2(Y,function(oe){U.revokeObjectURL(oe)}),this.restoreRemovedObjects(),[7];case 5:return[2,G]}})})},E.prototype.getCanvasAdvanced=function(F){return __awaiter(this,void 0,void 0,function(){var R,U,W,Y,G,X,K,Z,J,Q,ee;return __generator(this,function(te){switch(te.label){case 0:return hasValue(F)||(F={}),[4,this.imagesToDataURI(this.sprite.dom,F)];case 1:return te.sent(),R=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return U=te.sent(),W=this.sprite.pixelWidth,Y=this.sprite.pixelHeight,G=findFont(this.sprite.dom),X=findFontSize(this.sprite.dom),K=F.scale||1,Z=this.getPixelRatio(F),K=this.getAdjustedScale(W*Z,Y*Z,K,F),J=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),F,W,Y,K,G,X,R),Q=this.getDisposableCanvas(),Q.style.width=W*Z*K+"px",Q.style.height=Y*Z*K+"px",Q.width=W*Z*K,Q.height=Y*Z*K,ee={useCORS:!0},Z!=1&&(ee.ignoreDimensions=!0,ee.scaleWidth=W*Z*K,ee.scaleHeight=Y*Z*K),[4,U.fromString(Q.getContext("2d"),J,ee).render()];case 3:return te.sent(),[2,Q]}})})},E.prototype.getImageAdvanced=function(F,R,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G;return __generator(this,function(X){switch(X.label){case 0:return W=this._objectsAlreadyHidden,W||this.hideNonExportableSprites(),hasValue(R)||(R=this.getFormatOptions(F)),[4,this.getCanvasAdvanced(R)];case 1:return Y=X.sent(),U===!1?[3,3]:[4,this.addExtras(Y,R,!0)];case 2:Y=X.sent(),X.label=3;case 3:return G=Y.toDataURL(this.getContentType(F),R.quality),this.disposeCanvas(Y),W||this.restoreNonExportableSprites(),[2,G]}})})},E.prototype.getDisposableCanvas=function(){var F=document.createElement("canvas");return F.style.position="fixed",F.style.top="-10000px",document.body.appendChild(F),F},E.prototype.disposeCanvas=function(F){document.body.contains(F)&&document.body.removeChild(F)},E.prototype.getPixelRatio=function(F){return this.useRetina?getPixelRatio():1},E.prototype.getAdjustedScale=function(F,R,U,W){if(!W)return U;var Y=F*U,G=F*U,X,K;return W.maxWidth&&Y>W.maxWidth&&(X=W.maxWidth/F),W.maxHeight&&G>W.maxHeight&&(K=W.maxHeight/R),X||K?min$1(X,K):(W.minWidth&&Y<W.minWidth&&(X=W.minWidth/F),W.minHeight&&G<W.minHeight&&(K=W.minHeight/R),X||K?max$1(X,K):U)},E.prototype.imagesToDataURI=function(F,R){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X,K;return __generator(this,function(Z){switch(Z.label){case 0:if(U=F.querySelectorAll("image"),!U.length)return[3,2];for(W=[],Y=U.length,G=0;G<Y;G++)X=U[G],K=X.getAttributeNS(E.XLINK,"href"),K&&(K.indexOf("data:image")!==-1||(K.indexOf(".svg")!==-1?W.push(this.svgToDataURI(X,R)):W.push(this.imageToDataURI(X,R))));return[4,Promise.all(W)];case 1:return Z.sent(),[2];case 2:return[2]}})})},E.prototype.prepForeignObjects=function(F,R){return __awaiter(this,void 0,void 0,function(){var U,W,Y;return __generator(this,function(G){if(U=F.querySelectorAll("foreignObject"),U.length)for(W=U.length,Y=0;Y<W;Y++)this.temporarilyRemoveObject(U[Y]);return[2]})})},E.prototype.imageToDataURI=function(F,R){return __awaiter(this,void 0,void 0,function(){var U,W,Y;return __generator(this,function(G){switch(G.label){case 0:return G.trys.push([0,2,,3]),[4,this.loadNewImage(F.getAttributeNS(E.XLINK,"href"),null,null,"anonymous")];case 1:U=G.sent(),W=document.createElement("canvas"),W.width=U.width,W.height=U.height,W.getContext("2d").drawImage(U,0,0);try{return Y=W.toDataURL(),F.setAttribute("href",Y),[2,Y]}catch{return R.keepTainted!==!1&&this.temporarilyRemoveObject(F),[2,void 0]}return[3,3];case 2:return G.sent(),(!R||R.keepTainted!==!1)&&this.temporarilyRemoveObject(F),[2,void 0];case 3:return[2]}})})},E.prototype.svgToDataURI=function(F,R){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G;return __generator(this,function(X){switch(X.label){case 0:U=F.getAttributeNS(E.XLINK,"href"),X.label=1;case 1:return X.trys.push([1,3,,4]),[4,load(U)];case 2:return W=X.sent(),Y=this.adapter.apply("charset",{charset:"base64",type:"svg",options:R}).charset,G=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+Y+","+btoa(W.response),options:R}).data,F.setAttributeNS(E.XLINK,"href",G),[2,G];case 3:return X.sent(),(!R||R.keepTainted!==!1)&&this.temporarilyRemoveObject(F),[2,void 0];case 4:return[2]}})})},E.prototype.temporarilyRemoveObject=function(F,R){var U=F.parentElement||F.parentNode;R||(R=this.sprite.paper.add("g").node),U.insertBefore(R,F),F.textContent,U.removeChild(F),this._removedObjects.push({element:F,placeholder:R})},E.prototype.restoreRemovedObjects=function(){for(var F;F=this._removedObjects.pop(),!!F;){var R=F.placeholder.parentElement||F.placeholder.parentNode;R.insertBefore(F.element,F.placeholder)}},E.prototype.simplifiedImageExport=function(){return __awaiter(this,void 0,void 0,function(){var F,R,U,W,Y,G,X;return __generator(this,function(K){switch(K.label){case 0:if(this.useSimplifiedExport===!1)return[2,!1];if(F=registry.getCache("simplifiedImageExport"),F===!1||F===!0)return[2,F];K.label=1;case 1:K.trys.push([1,6,,7]),R=document.createElement("canvas"),R.width=1,R.height=1,U=R.getContext("2d"),W=this.getDOMURL(),Y=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),G=W.createObjectURL(Y),X=void 0,K.label=2;case 2:return K.trys.push([2,4,,5]),[4,this.loadNewImage(G,1,1)];case 3:return X=K.sent(),[3,5];case 4:return K.sent(),[2,!1];case 5:U.drawImage(X,0,0),W.revokeObjectURL(G);try{return registry.setCache("simplifiedImageExport",!0),[2,!0]}catch{return registry.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return K.sent(),registry.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}})})},E.prototype.loadNewImage=function(F,R,U,W){return new Promise(function(Y,G){var X;R&&U?X=new Image(R,U):X=new Image,W&&X.setAttribute("crossOrigin",W),X.onload=function(){Y(X)};function K(){if(W){var Z=X.src;X.onerror=function(){G(new Error('Loading image "'+F+'" failed'))},X.removeAttribute("crossorigin"),X.src="",X.src=Z}else G(new Error('Loading image "'+F+'" failed'))}X.onabort=K,X.onerror=K,X.src=F})},E.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},E.prototype.getSVG=function(F,R,U){return U===void 0&&(U=!0),__awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee,te;return __generator(this,function(ie){switch(ie.label){case 0:return W=this._objectsAlreadyHidden,W||this.hideNonExportableSprites(),hasValue(R)||(R=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return ie.sent(),Y=this.sprite.pixelWidth,G=this.sprite.pixelHeight,X=findFont(this.sprite.dom),K=findFontSize(this.sprite.dom),Z=R.scale||1,J=this.getPixelRatio(R),Z=this.getAdjustedScale(Y*J,G*J,Z,R),Q=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),R,Y,G,Z,X,K),ee=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:R}).charset,te=this.adapter.apply("getSVG",{data:U?"data:"+this.getContentType(F)+";"+ee+","+encodeURIComponent(Q):Q,options:R}).data,W||this.restoreNonExportableSprites(),[2,te]}})})},E.prototype.normalizeSVG=function(F,R,U,W,Y,G,X,K){var Z="";U&&(Z+='width="'+Math.round(U*(Y||1))+'px" '),W&&(Z+='height="'+Math.round(W*(Y||1))+'px" ');var J="";G&&(J+="font-family: "+G.replace(/"/g,"")+";"),X&&(J+="font-size: "+X+";"),Y&&(Z+='viewBox="0 0 '+U+" "+W+'" ');var Q=[],ee=F.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(ee)for(var te=0;te<ee.length;te++)F=F.replace(ee[te],PLACEHOLDER),Q.push(ee[te]);F.match(/<svg/)?Z!==""&&(F=F.replace(/(<svg[^>]*)width="[^"]*"/,"$1"),F=F.replace(/(<svg[^>]*)height="[^"]*"/,"$1"),F=F.replace(/(<svg)/,"$1"+Z)):F='<?xml version="1.0" encoding="utf-8"?><svg '+Z+' style="'+J+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+F+"</svg>",K&&(F=F.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+K.rgba+'"/>')),isInternetExplorer()&&(F=F.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var ie=new RegExp("url\\("+escapeForRgex(getBaseURI()),"g");if(F=F.replace(ie,"url(#"),F=F.replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),Q.length)for(var te=0;te<Q.length;te++)F=F.replace(PLACEHOLDER,Q[te]);return F=this.adapter.apply("normalizeSVG",{data:F,options:R}).data,F},E.prototype.serializeElement=function(F){return new XMLSerializer().serializeToString(F)},E.prototype.getPDF=function(F,R){return __awaiter(this,void 0,void 0,function(){function U(re){var ne={};ne.normal=re.normal.path,ie[re.normal.path]=re.normal.bytes,re.bold?(ne.bold=re.bold.path,ie[re.bold.path]=re.bold.bytes):ne.bold=re.normal.path,re.italics?(ne.italics=re.italics.path,ie[re.italics.path]=re.italics.bytes):ne.italics=re.normal.path,re.bolditalics?(ne.bolditalics=re.bolditalics.path,ie[re.bolditalics.path]=re.bolditalics.bytes):ne.bolditalics=re.normal.path,te[re.name]=ne}var W,Y,G,X,K,Z,J,Q,ee,te,ie;return __generator(this,function(re){switch(re.label){case 0:return[4,this.getImage(R.imageFormat||"png",R)];case 1:return W=re.sent(),[4,this.pdfmake];case 2:return Y=re.sent(),G=[30,30,30,30],X={pageSize:R.pageSize||"A4",pageOrientation:R.pageOrientation||"portrait",pageMargins:R.pageMargins||G,defaultStyle:{font:R.font?R.font.name:void 0},content:[]},K=this.adapter.apply("title",{title:this.title,options:R}).title,Z=0,K&&(X.content.push({text:K,fontSize:R.fontSize||14,bold:!0,margin:[0,0,0,15]}),Z+=50),R.addURL&&(X.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:R.fontSize,margin:[0,0,0,15]}),Z+=50),F!="pdfdata"&&X.content.push({image:W,alignment:R.align||"left",fit:this.getPageSizeFit(X.pageSize,X.pageMargins,Z)}),F=="pdfdata"||R.addData?(Q=(J=X.content).push,ee={},[4,this.getPDFData("pdf",R)]):[3,4];case 3:Q.apply(J,[(ee.table=re.sent(),ee.fontSize=R.fontSize||14,ee)]),re.label=4;case 4:return X=this.adapter.apply("pdfmakeDocument",{doc:X,options:R}).doc,te=null,ie=null,R.font&&(te={},ie={},U(R.font),R.extraFonts&&each$2(R.extraFonts,U)),[4,new Promise(function(ne,ae){Y.createPdf(X,null,te,ie).getDataUrl(function(se){ne(se)})})];case 5:return[2,re.sent()]}})})},E.prototype.getPDFData=function(F,R){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X,K,Z=this;return __generator(this,function(J){if(U={body:[]},W=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,Y=this.data,R.pivot)G=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,eachOrdered(W,function(Q,ee){var te=[];R.addColumnNames&&te.push(ee);for(var ie=Y.length,re=0;re<ie;re++){var ne=Y[re][Q];te.push(Z.convertToSpecialFormat(Q,ne,R,!0))}U.body.push(Z.getPDFDataRow(te,R,void 0,!0))},function(Q,ee){var te=G.indexOf(Q),ie=G.indexOf(ee);return te>ie?1:te<ie?-1:0});else for(R.addColumnNames&&(U.body.push(this.getPDFDataRow(W,R,void 0,!0)),U.headerRows=1),X=Y.length,K=0;K<X;K++)U.body.push(this.getPDFDataRow(Y[K],R,W));return[2,this.adapter.apply("pdfmakeTable",{table:U,options:R}).table]})})},E.prototype.getPDFDataRow=function(F,R,U,W){var Y=this;W===void 0&&(W=!1);var G=[];U||(U=F);var X=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return eachOrdered(U,function(K,Z){var J=Y.convertEmptyValue(K,F[K],R),Q=W?J:Y.convertToSpecialFormat(K,J,R);Q=""+Q,G.push(Q)},function(K,Z){var J=X.indexOf(K),Q=X.indexOf(Z);return J>Q?1:J<Q?-1:0}),G},E.prototype.getPageSizeFit=function(F,R,U){U===void 0&&(U=0);var W=[0,0,0,0];typeof R=="number"?W=[R,R,R,R]:R.length==2?W=[R[0],R[1],R[0],R[1]]:R.length==4&&(W=R);var Y={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},G=Y[F];return G[0]-=W[0]+W[2],G[1]-=W[1]+W[3]+U,G},E.prototype.getExcel=function(F,R){return __awaiter(this,void 0,void 0,function(){var U,W,Y,G,X,K,Z,J,Q,ee,te=this;return __generator(this,function(ie){switch(ie.label){case 0:return hasValue(R)||(R=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(U=ie.sent(),W=this.adapter.apply("xlsxWorkbookOptions",{xlsx:U,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,Y=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:U,name:this.title||this.language.translate("Data")}).name),G={SheetNames:[Y],Sheets:{}},X=[],K=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,R.pivot)Z=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,eachOrdered(K,function(re,ne){var ae=[];R.addColumnNames&&ae.push(ne);for(var se=te.data.length,le=0;le<se;le++){var oe=te.data[le][re];ae.push(te.convertToSpecialFormat(re,oe,R,!0))}X.push(te.getExcelRow(ae,R,void 0,!0))},function(re,ne){var ae=Z.indexOf(re),se=Z.indexOf(ne);return ae>se?1:ae<se?-1:0});else for(R.addColumnNames&&X.push(this.getExcelRow(K,R,void 0,!0)),J=this.data.length,Q=0;Q<J;Q++)X.push(this.getExcelRow(this.data[Q],R,K));return G.Sheets[Y]=U.utils.aoa_to_sheet(X),G=this.adapter.apply("xlsxWorkbook",{xlsx:U,workbook:G,options:R}).workbook,ee=this.adapter.apply("getExcel",{data:"data:"+this.getContentType(F)+";base64,"+U.write(G,W),options:R}).data,[2,ee]}})})},E.prototype.normalizeExcelSheetName=function(F){return F=F.replace(/([:\\\/?*\[\]]+)/g," "),truncateWithEllipsis(F,31,"...",!0)},E.prototype.getExcelRow=function(F,R,U,W){var Y=this;W===void 0&&(W=!1);var G=[];U||(U=F);var X=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return eachOrdered(U,function(K,Z){var J=Y.convertEmptyValue(K,F[K],R),Q=W?J:Y.convertToSpecialFormat(K,J,R,!0);G.push(Q)},function(K,Z){var J=X.indexOf(K),Q=X.indexOf(Z);return J>Q?1:J<Q?-1:0}),G},E.prototype.getCSV=function(F,R,U){return U===void 0&&(U=!0),__awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee,te,ie=this;return __generator(this,function(re){if(hasValue(R)||(R=this.getFormatOptions("csv")),W="",Y=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,G="",X=this.data,R.pivot)K=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,eachOrdered(Y,function(ne,ae){var se=[];R.addColumnNames&&se.push(ae);for(var le=X.length,oe=0;oe<le;oe++){var ue=X[oe][ne];se.push(ie.convertToSpecialFormat(ne,ue,R,!0))}W+=G+ie.getCSVRow(se,R,void 0,!0),G=`
`},function(ne,ae){var se=K.indexOf(ne),le=K.indexOf(ae);return se>le?-1:se<le?1:0});else{for(Z=X.length,J=0;J<Z;J++)Q=this.getCSVRow(X[J],R,Y),R.reverse?W=Q+G+W:W+=G+Q,G=`
`;R.addColumnNames&&(W=this.getCSVRow(Y,R,void 0,!0)+G+W)}return ee=this.adapter.apply("charset",{charset:"charset=utf-8",type:F,options:R}).charset,te=this.adapter.apply("getCSV",{data:U?"data:"+this.getContentType(F)+";"+ee+","+encodeURIComponent(W):W,options:R}).data,[2,te]})})},E.prototype.getCSVRow=function(F,R,U,W){var Y=this;W===void 0&&(W=!1);var G=R.separator||",",X=[];U||(U=F);var K=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return eachOrdered(U,function(Z,J){var Q=Y.convertEmptyValue(Z,F[Z],R),ee=W?Q:Y.convertToSpecialFormat(Z,Q,R);ee=""+ee,ee=ee.replace(/"/g,'""'),(R.forceQuotes||ee.search(new RegExp(`"|
|`+G,"g"))>=0)&&(ee='"'+ee+'"'),X.push(ee)},function(Z,J){var Q=K.indexOf(Z),ee=K.indexOf(J);return Q>ee?1:Q<ee?-1:0}),X.join(G)},E.prototype.getHTML=function(F,R,U){return U===void 0&&(U=!0),__awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee=this;return __generator(this,function(te){if(hasValue(R)||(R=this.getFormatOptions("html")),W="<table>",R.tableClass&&(W='<table class="'+R.tableClass+'">'),Y=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,G=this.data,R.pivot)X=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,W+=`
<tbody>`,eachOrdered(Y,function(ie,re){var ne=[];R.addColumnNames&&ne.push(re);for(var ae=G.length,se=0;se<ae;se++){var le=G[se][ie];ne.push(ee.convertToSpecialFormat(ie,le,R,!0))}W+=`
`+ee.getHTMLRow(ne,R,void 0,!0)},function(ie,re){var ne=X.indexOf(ie),ae=X.indexOf(re);return ne>ae?-1:ne<ae?1:0}),W+=`
</tbody>`;else{for(R.addColumnNames&&(W+=`
<thead>
`+this.getHTMLRow(Y,R,void 0,!0,!0)+`
</thead>`),W+=`
<tbody>`,K=G.length,Z=0;Z<K;Z++)W+=`
`+this.getHTMLRow(G[Z],R,Y);W+=`
</tbody>`}return W+=`
</table>`,J=this.adapter.apply("charset",{charset:"charset=utf-8",type:F,options:R}).charset,Q=this.adapter.apply("getHTML",{data:U?"data:"+this.getContentType(F)+";"+J+","+encodeURIComponent(W):W,options:R}).data,[2,Q]})})},E.prototype.getHTMLRow=function(F,R,U,W,Y){var G=this;W===void 0&&(W=!1),Y===void 0&&(Y=!1);var X="	<tr>";R.rowClass&&(X='	<tr class="'+R.rowClass+'">'),U||(U=F);var K=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,Z=Y?"th":"td",J=!0;return eachOrdered(U,function(Q,ee){var te=G.convertEmptyValue(Q,F[Q],R),ie=W?te:G.convertToSpecialFormat(Q,te,R);ie=""+ie,ie=ie.replace(/[\u00A0-\u9999<>\&]/gim,function(ne){return"&#"+ne.charCodeAt(0)+";"});var re=Z;R.pivot&&J&&(re="th"),R.cellClass?X+=`
		<`+re+' class="'+R.cellClass+'">'+ie+"</"+re+">":X+=`
		<`+re+">"+ie+"</"+re+">",J=!1},function(Q,ee){var te=K.indexOf(Q),ie=K.indexOf(ee);return te>ie?1:te<ie?-1:0}),X+=`
	</tr>`,X},E.prototype.getJSON=function(F,R,U){return U===void 0&&(U=!0),__awaiter(this,void 0,void 0,function(){var W,Y,G,X,K,Z,J,Q,ee,te=this;return __generator(this,function(ie){if(hasValue(R)||(R=this.getFormatOptions("json")),Y=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)W=this.data;else for(W=[],G=this.data,X=function(re,ne){var ae=G[ne];if(typeof ae=="object"){var se={};each$1(ae,function(le,oe){hasValue(Y[le])&&(se[Y[le]]=te.convertToSpecialFormat(le,oe,R))}),W.push(se)}},K=G.length,Z=0;Z<K;Z++)X(K,Z);return J=JSON.stringify(W,function(re,ne){return typeof ne=="object"&&each$1(ne,function(ae,se){ne[ae]=te.convertToSpecialFormat(ae,se,R)}),ne},R.indent),Q=this.adapter.apply("charset",{charset:"charset=utf-8",type:F,options:R}).charset,ee=this.adapter.apply("getJSON",{data:U?"data:"+this.getContentType(F)+";"+Q+","+encodeURIComponent(J):J,options:R}).data,[2,ee]})})},E.prototype.convertToSpecialFormat=function(F,R,U,W){if(typeof R=="number")if(this.isDateField(F))R=new Date(R);else{if(this.isDurationField(F))return this.durationFormatter.format(R,this.durationFormat);if(this.isNumberField(F)&&this.numberFormat)return this.numberFormatter.format(R,this.numberFormat)}return R instanceof Date?U.useTimestamps?R=R.getTime():U.useLocale?W||(R=R.toLocaleString()):R=this.dateFormatter.format(R,this.dateFormat):isString$2(R)&&this.isDateField(F)&&this.dateFormat&&(R=this.dateFormatter.format(this.dateFormatter.parse(R),this.dateFormat)),R},E.prototype.convertEmptyValue=function(F,R,U){return hasValue(R)?R:U.emptyAs},E.prototype.download=function(F,R,U){return U===void 0&&(U=!1),__awaiter(this,void 0,void 0,function(){var re,ne,G,W,Z,J,Q,ee,Y,re,ne,G,X,K,Z,J,Q,ee,te,ie,re,ne,ae,se;return __generator(this,function(le){if(this.msBlobDownloadSupport()){if(re=F.split(";"),ne=re.shift().replace(/data:/,""),F=decodeURIComponent(re.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv"].indexOf(ne)==-1)try{G=atob(F),F=G}catch{return[2,!1]}else return W=new Blob([F],{type:ne}),window.navigator.msSaveBlob(W,R),[2,!0];for(Z=new Array(F.length),J=0;J<F.length;++J)Q=F.charCodeAt(J),Z[J]=Q;ee=new Blob([new Uint8Array(Z)],{type:ne}),window.navigator.msSaveBlob(ee,R)}else if(this.blobDownloadSupport()){if(Y=document.createElement("a"),Y.download=R,document.body.appendChild(Y),re=F.split(";"),ne=re.shift().replace(/data:/,""),F=decodeURIComponent(re.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv","text/html"].indexOf(ne)==-1)try{G=atob(F),F=G}catch{return[2,!1]}else return U&&(F="\uFEFF"+F),X=new Blob([F],{type:ne}),K=window.URL.createObjectURL(X),Y.href=K,Y.download=R,Y.click(),setTimeout(function(){document.body.removeChild(Y),window.URL.revokeObjectURL(K)},100),[2,!0];for(Z=new Array(F.length),J=0;J<F.length;++J)Q=F.charCodeAt(J),Z[J]=Q;U&&(Z=[239,187,191].concat(Z)),ee=new Blob([new Uint8Array(Z)],{type:ne}),te=window.URL.createObjectURL(ee),Y.href=te,Y.download=R,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),setTimeout(function(){window.URL.revokeObjectURL(te)},100)}else this.linkDownloadSupport()?(ie=document.createElement("a"),ie.download=R,ie.href=F,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)):this.legacyIE()?(re=F.match(/^data:(.*);[ ]*([^,]*),(.*)$/),re.length===4&&(re[2]=="base64"?re[1].match(/^image\//)&&this.showModal('<img src="'+F+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(ne=void 0,R.match(/\.svg$/)?ne="image/svg+xml":(ne="text/plain",R+=".txt"),ae=document.createElement("iframe"),ae.width="1px",ae.height="1px",ae.style.display="none",document.body.appendChild(ae),se=ae.contentDocument,se.open(ne,"replace"),se.write(decodeURIComponent(re[3])),se.close(),se.execCommand("SaveAs",!0,R),document.body.removeChild(ae)))):window.location.href=F;return[2,!0]})})},E.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},E.prototype.linkDownloadSupport=function(){var F=registry.getCache("linkDownloadSupport");if(F===!1||F===!0)return F;var R=document.createElement("a"),U=typeof R.download<"u";return registry.setCache("linkDownloadSupport",U),U},E.prototype.blobDownloadSupport=function(){return hasValue(window.Blob)},E.prototype.msBlobDownloadSupport=function(){return hasValue(window.navigator.msSaveOrOpenBlob)},E.prototype.legacyIE=function(){var F=document.createElement("div");return F.innerHTML="<!--[if lt IE 10]><i></i><![endif]-->",F.getElementsByTagName("i").length==1},E.prototype.print=function(F,R,U){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(W){return R.printMethod=="css"?[2,this.printViaCSS(F,R,U)]:[2,this.printViaIframe(F,R,U)]})})},E.prototype.printViaCSS=function(F,R,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G,X,K;return __generator(this,function(Z){return W=document.documentElement.scrollTop||document.body.scrollTop,Y=new StyleRule(getShadowRoot(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),U&&document&&document.title&&(G=document.title,document.title=U),X=new Image,X.src=F,X.style.maxWidth="100%",X.style.display="block",X.style.position="relative",X.style.visibility="visible",X.style.opacity="1",X.style.clipPath="none",document.body.appendChild(X),this.setTimeout(function(){window.print()},50),K=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,K&&R.delay<1e3?R.delay=1e3:R.delay<100&&(R.delay=100),this.setTimeout(function(){document.body.removeChild(X),Y.dispose(),G&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=W},R.delay||500),[2,!0]})})},E.prototype.printViaIframe=function(F,R,U){return __awaiter(this,void 0,void 0,function(){var W,Y,G;return __generator(this,function(X){return W=document.createElement("iframe"),W.style.visibility="hidden",document.body.appendChild(W),W.contentWindow.document.open(),W.contentWindow.document.close(),Y=new Image,Y.src=F,Y.style.maxWidth="100%",Y.style.height="auto",U&&(W.contentWindow.document.title=U),W.contentWindow.document.body.appendChild(Y),W.load=function(){W.contentWindow.document.body.appendChild(Y)},this.setTimeout(function(){try{W.contentWindow.document.execCommand("print",!1,null)||W.contentWindow.print()}catch{W.contentWindow.print()}},R.delay||50),G=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,G&&R.delay<1e3?R.delay=1e3:R.delay<100&&(R.delay=100),this.setTimeout(function(){document.body.removeChild(W)},R.delay+50||100),[2,!0]})})},E.prototype.findBackgroundColor=function(F){var R=1,U=getComputedStyle$2(F,"background-color");if((U.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||U=="transparent")&&(R=0),R==0){var W=F.parentElement;return W?this.findBackgroundColor(W):color("#fff")}else return color(U,R)},Object.defineProperty(E.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(F){this._container=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(F){this._sprite=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(F){this._extraSprites=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(F){this._validateSprites=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(F){this._data=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(F){this._dataFields=F,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),E.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var F=this.data.length>0;this._prevHasData!=F&&(this._prevHasData=F,this.menu&&this.menu.invalidate())},Object.defineProperty(E.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new DateFormatter,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(F){this._dateFormatter=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(F){this._dateFormat=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new List),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(F){this._dateFields=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new NumberFormatter,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(F){this._numberFormatter=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(F){this._numberFormat=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new List),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(F){this._numberFields=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new DurationFormatter,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(F){this._durationFormatter=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(F){this._durationFormat=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new List),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(F){this._durationFields=F},enumerable:!0,configurable:!0}),E.prototype.generateDataFields=function(){var F=this;this._dataFields={},this.data.length&&each$2(this.data,function(R){each$1(R,function(U,W){hasValue(F._dataFields[U])||(F._dataFields[U]=F.adapter.apply("dataFieldName",{name:U,field:U}).name)})})},E.prototype.isDateField=function(F){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(F),field:F}).isDateField},E.prototype.isNumberField=function(F){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(F),field:F}).isNumberField},E.prototype.isDurationField=function(F){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(F),field:F}).isDurationField},E.prototype.getContentType=function(F){var R="";switch(F){case"png":case"gif":R="image/"+F;break;case"jpg":R="image/jpeg";break;case"svg":R="image/svg+xml";break;case"csv":R="text/csv";break;case"json":R="application/json";break;case"html":R="text/html";break;case"pdf":case"pdfdata":R="application/pdf";break;case"xlsx":R="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break}return this.adapter.apply("contentType",{contentType:R,type:F}).contentType},Object.defineProperty(E.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(F){this._filePrefix=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(F){this._backgroundColor=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(F){this._title=F},enumerable:!0,configurable:!0}),E.prototype.showPreloader=function(){var F=this.preloader;F&&(F.progress=.5,F.label.text="...")},E.prototype.hidePreloader=function(){var F=this.preloader;F&&(F.progress=1)},Object.defineProperty(E.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),E.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},E.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(E.prototype,"language",{get:function(){return this._language||(this._language=new Language),this._language},set:function(F){this._language=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"modal",{get:function(){return this._modal||(this._modal=new Modal,this._modal.adapter.add("classPrefix",function(F){return F=options.classNamePrefix+F,F})),this._modal},enumerable:!0,configurable:!0}),E.prototype.showModal=function(F,R){this.hideModal(),this.hidePreloader();var U=this.modal;U.container=this.sprite.svgContainer.SVGContainer,U.content=F,U.readerTitle=R,U.open()},E.prototype.hideModal=function(){this._modal&&this.modal.close()},E.prototype._canvg=function(){return __awaiter(this,void 0,void 0,function(){var F;return __generator(this,function(R){switch(R.label){case 0:return[4,__vitePreload(()=>import("../node_modules/@amcharts/amcharts4/.internal/canvg/index.js"),[])];case 1:return F=R.sent(),F.default!=null?[2,F.default]:[2,F]}})})},Object.defineProperty(E.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pdfmake",{get:function(){return pdfmakePromise==null&&(pdfmakePromise=_pdfmake()),pdfmakePromise},enumerable:!0,configurable:!0}),E.prototype._xlsx=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(F){switch(F.label){case 0:return[4,__vitePreload(()=>import("../node_modules/@amcharts/amcharts4/.internal/bundled/xlsx"),[])];case 1:return[2,F.sent()]}})})},Object.defineProperty(E.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),E.prototype.setFormatOptions=function(F,R){this._formatOptions.setKey(F,R)},E.prototype.getFormatOptions=function(F){return this._formatOptions.getKey(F)},Object.defineProperty(E.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),E.prototype._disablePointers=function(){hasValue(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},E.prototype._releasePointers=function(){hasValue(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},E.prototype.hideNonExportableSprites=function(){var F=this;if(!this._objectsAlreadyHidden){var R=this.sprite.svgContainer;R&&each$2(R.nonExportableSprites,function(U){!U.isHidden&&!U.isHiding&&U.visible&&F._hiddenObjects.push(U),U.hide(0)}),this._objectsAlreadyHidden=!0}},E.prototype.restoreNonExportableSprites=function(){!this._objectsAlreadyHidden||(each$2(this._hiddenObjects,function(F){F.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},E.prototype.awaitValidSprites=function(){return __awaiter(this,void 0,void 0,function(){var F;return __generator(this,function(R){switch(R.label){case 0:return F=[],this.validateSprites.length&&each$2(this.validateSprites,function(U,W){U.invalid&&F.push(new Promise(function(Y,G){U.events.once("validated",function(X){Y()})}))}),F.length?[4,Promise.all(F)]:[3,2];case 1:R.sent(),R.label=2;case 2:return[2]}})})},E.prototype.processConfig=function(F){registry.registeredClasses.ExportMenu=ExportMenu,F&&(hasValue(F.menu)&&!hasValue(F.menu.type)&&(F.menu.type="ExportMenu"),hasValue(F.dataFields)&&isObject$3(F.dataFields)&&(this.dataFields=F.dataFields,delete F.dataFields)),V.prototype.processConfig.call(this,F)},E.XLINK="http://www.w3.org/1999/xlink",E}(Validatable),visualProperties=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],Sprite=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.properties={},F._eventDispatcher=new SpriteEventDispatcher(F),F._bindings={},F._isTemplate=!1,F._isPath=!1,F._inited=!1,F._ready=!1,F.isHiding=!1,F._isHidden=!1,F.isShowing=!1,F.isStandaloneInstance=!1,F._isActive=!1,F._mask=new MutableValueDisposer,F._positionPrecision=3,F._language=new MutableValueDisposer,F._exporting=new MutableValueDisposer,F._exportable=!0,F._bbox={x:0,y:0,width:0,height:0},F.invalid=!1,F.positionInvalid=!1,F.propertyFields={},F.applyOnClones=!1,F._measuredWidthSelf=0,F._measuredHeightSelf=0,F.maxLeft=0,F.maxRight=0,F.maxTop=0,F.maxBottom=0,F.maxLeftSelf=0,F.maxRightSelf=0,F.maxTopSelf=0,F.maxBottomSelf=0,F._isDragged=!1,F._isResized=!1,F._disabled=!1,F._internalDisabled=!1,F._updateDisabled=!1,F._internalDefaultsApplied=!1,F.rollOutDelay=0,F.isBaseSprite=!1,F.shouldClone=!0,F.appeared=!1,F.ex=0,F.ey=0,F.dragWhileResize=!1,F.measureFailed=!1,F.preventShow=!1,F.cloneTooltip=!0,F.className="Sprite",F._disposers.push(F._eventDispatcher),F.uid,F.group=F.paper.addGroup("g"),F.setPropertyValue("scale",1),F.setPropertyValue("rotation",0),F.setPropertyValue("align","none"),F.setPropertyValue("valign","none"),F.setPropertyValue("pixelPerfect",!1),F.setPropertyValue("visible",!0),F.setPropertyValue("tooltipPosition","fixed"),F.setPropertyValue("verticalCenter","none"),F.setPropertyValue("horizontalCenter","none"),F.setPropertyValue("tooltipX",percent(50)),F.setPropertyValue("tooltipX",percent(50)),F.setPropertyValue("marginTop",0),F.setPropertyValue("marginBottom",0),F.setPropertyValue("marginLeft",0),F.setPropertyValue("marginRight",0),F.setPropertyValue("dx",0),F.setPropertyValue("dy",0),F.setPropertyValue("paddingTop",0),F.setPropertyValue("paddingBottom",0),F.setPropertyValue("paddingRight",0),F.setPropertyValue("paddingLeft",0),F.setPropertyValue("togglable",!1),F.setPropertyValue("hidden",!1),F.setPropertyValue("urlTarget","_self"),F.setPropertyValue("alwaysShowTooltip",!1),F.setPropertyValue("showTooltipOn","hover"),F._prevMeasuredWidth=0,F._prevMeasuredHeight=0,F._measuredWidth=0,F._measuredHeight=0,F._isMeasured=!0,F.invalidate(),F.applyTheme(),F._disposers.push(F.events),F._disposers.push(F.group),F._disposers.push(F._mask),F._disposers.push(F._language),F._disposers.push(F._exporting),F._disposers.push(new Disposer(function(){each$1(F._bindings,function(R,U){U.dispose()})})),F.setPropertyValue("interactionsEnabled",!0),F}return Object.defineProperty(E.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Adapter(this)),this._adapterO},enumerable:!0,configurable:!0}),E.prototype.applyTheme=function(){V.prototype.applyTheme.call(this)},E.prototype.getCurrentThemes=function(){var F=this._themes;if(F)return F;var R=this._parent;return R?R.getCurrentThemes():registry.themes},E.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},E.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,registry.addToInvalidSprites(this),system$1.requestFrame())},E.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,registry.removeFromInvalidSprites(this),this.afterDraw()},E.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,registry.addToInvalidPositions(this),system$1.requestFrame())},E.prototype.validatePosition=function(){var F=this.pixelX,R=this.pixelY,U=this.dx,W=this.dy,Y=F+U,G=R+W;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var X=this.measure(),K=this.group.transformString;this.group.moveTo({x:Y,y:G}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(K!=this.group.transformString||X)&&(K==null?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),(this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.updateTooltipPosition()),F+U==Y&&R+W==G&&(registry.removeFromInvalidPositions(this),this.positionInvalid=!1);var Z=this._maskRectangle;Z&&this._clipElement.moveTo({x:Z.x-F,y:Z.y-R})},E.prototype.beforeDraw=function(){},E.prototype.draw=function(){},E.prototype.afterDraw=function(){var F,R;if((this.isMeasured||this.horizontalCenter!=="none"||this.verticalCenter!=="none")&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var U=__values(this._adapterO.keys()),W=U.next();!W.done;W=U.next()){var Y=W.value;switch(Y){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[Y]=this[Y];break}}}catch(G){F={error:G}}finally{try{W&&!W.done&&(R=U.return)&&R.call(U)}finally{if(F)throw F.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}this.showTooltipOn=="always"&&(this.visible&&!this.disabled&&!this.__disabled?this.showTooltip():this.hideTooltip(0))},E.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},E.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},E.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},E.prototype.updateFilterScale=function(){var F=this;each(this.filters.iterator(),function(R){R.scale=F.globalScale})},E.prototype.removeFromInvalids=function(){registry.removeFromInvalidSprites(this),registry.removeFromInvalidPositions(this)},E.prototype.copyFrom=function(F){var R=this;V.prototype.copyFrom.call(this,F),this.isMeasured=F.isMeasured,this.states.copyFrom(F.states),F.filters.length>0&&F.filters.each(function(U){R.filters.push(U.clone())}),F._adapterO&&this.adapter.copyFrom(F._adapterO),F._interaction&&this.interactions.copyFrom(F.interactions),F._plugins&&this.plugins.copyFrom(F.plugins),this.configField=F.configField,this.applyOnClones=F.applyOnClones,this.disabled=F.disabled,this.virtualParent=F.virtualParent,this.exportable=F.exportable,F._tooltip&&(this._tooltip?this._tooltip.copyFrom(F.tooltip):F.cloneTooltip?this.tooltip=F.tooltip.clone():this._tooltip=F.tooltip),this._showSystemTooltip=F.showSystemTooltip,copyProperties(F.propertyFields,this.propertyFields),copyProperties(F.properties,this),F.fillModifier&&(this.fillModifier=F.fillModifier.clone()),F.strokeModifier&&(this.strokeModifier=F.strokeModifier.clone()),F.focusFilter&&(this.focusFilter=F.focusFilter.clone())},E.prototype.dispose=function(){if(!this.isDisposed()){if(this.showTooltipOn=="always"&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(V.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var F=this._clones.length-1;F>=0;F--){var R=this._clones.getIndex(F);R.dispose()}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var U=this.stroke;U&&!(U instanceof Color)&&U.dispose&&(this.clonedFrom&&this.clonedFrom.stroke==U||U.dispose());var W=this.fill;if(W&&!(W instanceof Color)&&W.dispose&&(this.clonedFrom&&this.clonedFrom.fill==W||W.dispose()),hasValue(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var Y=this._filters.getIndex(0);Y.dispose(),this._filters.removeValue(Y)}this._alwaysShowDisposers=void 0}},Object.defineProperty(E.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(F){F=toBoolean(F),this._isTemplate!=F&&(this._isTemplate=F,this instanceof Container&&each(this.children.iterator(),function(R){R.isTemplate=F}),F?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showSystemTooltip",{get:function(){return hasValue(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:this._parent?this._parent.showSystemTooltip:!1},set:function(F){F=toBoolean(F),this._showSystemTooltip!=F&&(this._showSystemTooltip=F,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"topParent",{get:function(){if(this._topParent)return this._topParent;if(this._parent)return this._parent.topParent},set:function(F){this._topParent=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"parent",{get:function(){return this._parent},set:function(F){if(!this._isTemplate){this.paper;var R=this._parent;R!=F&&(R&&R.children.removeValue(this),this._parent=F,F?(this.topParent=F.topParent,F.isTemplate&&(this.isTemplate=!0),this.baseId=F.baseId,F.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=F.tooltipContainer),this._dataItem||(this.dataItem=F.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),E.prototype.handleAlwaysShow=function(){this.showTooltip()},E.prototype.handleAlwaysShowTooltip=function(){var F=this,R=this._alwaysShowDisposers;if(R&&each$2(R,function(W){W.dispose()}),this._alwaysShowDisposers=[],this.showTooltipOn=="always")for(;F!=null;){var U=F.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(U),this._alwaysShowDisposers.push(U),F=F.parent}},Object.defineProperty(E.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(F){this._virtualParent=F,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),E.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var F=this.fill;F&&F.element&&this.paper.appendDef(F.element);var R=this.stroke;if(R&&R.element&&this.paper.appendDef(R.element),this.fillModifier&&this.fill instanceof Color){var U=this.fillModifier.modify(this.fill);U&&U.element&&this.paper.appendDef(U.element)}if(this.strokeModifier&&this.stroke instanceof Color){var W=this.strokeModifier.modify(this.stroke);W&&W.element&&this.paper.appendDef(W.element)}this._clipPath&&this.paper.appendDef(this._clipPath),this._exportable===!1&&(this.exportable=!1)},Object.defineProperty(E.prototype,"map",{get:function(){var F=this.topParent;return F?F.map:(this._map||(this._map=new Dictionary),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"delayedMap",{get:function(){var F=this.topParent;return F?F.delayedMap:(this._delayedMap||(this._delayedMap=new Dictionary),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"id",{get:function(){return this._id},set:function(F){if(this._id!=F){if(this._id=F,this.map.hasKey(F))throw Error("Duplicate id ("+F+") used on multiple objects.");this.map.setKey(F,this)}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"paper",{get:function(){if(this._paper)return this._paper;var F=this._parent;return F?F.paper:getGhostPaper()},set:function(F){this.setPaper(F)},enumerable:!0,configurable:!0}),E.prototype.setPaper=function(F){var R=this._paper;return R!=F?(this._paper=F,this.appendDefs(),!0):!1},Object.defineProperty(E.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var F=this._parent;if(F)return F.htmlContainer},set:function(F){this._htmlContainer=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"filters",{get:function(){return this._filters||(this._filters=new List,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new ListDisposer(this._filters))),this._filters},enumerable:!0,configurable:!0}),E.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},E.prototype.setSVGAttribute=function(F){this.group.attr(F)},E.prototype.removeSVGAttribute=function(F){this.group.removeAttr(F)},E.prototype.setClassName=function(){var F=this.className,R=options.classNamePrefix;this.element&&this.element.addClass(R+F),this.group.addClass(R+F+"-group"),hasValue(this.id)&&this.group.addClass(R+this.id),this.userClassName&&this.group.addClass(this.userClassName)},E.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},E.prototype.updateClipPath=function(){var F=this._clipElement;F&&F.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},E.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var F=registry.getUniqueId();this._clipPath.attr({id:F}),this.group.attr({"clip-path":'url("'+getBaseURI()+F+'")'})}},E.prototype.applyMask=function(){var F=this.mask;if(this._clipPath&&F)if(F instanceof Container){this._clipElement.attr({width:max$1(0,F.pixelWidth),height:max$1(0,F.pixelHeight)});var R=spritePointToSprite({x:F.pixelX,y:F.pixelY},F.parent,this);this._clipPath.x=R.x,this._clipPath.y=R.y}else F.element&&F.element!=this._clipElement&&(this._clipElement=F.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=F.scale,this._clipPath.x=F.pixelX,this._clipPath.y=F.pixelY,this._clipPath.rotation=F.rotation},E.prototype.applyFilters=function(){var F=this;if(this._filters&&this._filters.length>0){var R=100,U=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var W="filter-"+this.uid;this.filterElement.attr({id:W}),each(this.filters.iterator(),function(X){X.sprite=F,X.paper=F.paper,F.filterElement.attr({filterUnits:X.filterUnits}),X.appendPrimitives(F.filterElement),X.width>R&&(R=X.width),X.height>U&&(U=X.height),X.scale=F.globalScale});var Y=R+"%",G=U+"%";this.filterElement.attr({width:Y,height:G,x:-(R-100)/2+"%",y:-(U-100)/2+"%"}),this.group.attr({filter:'url("'+getBaseURI()+W+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},E.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},E.prototype.setElement=function(F){this.element=F,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(E.prototype,"element",{get:function(){return this._element},set:function(F){this.removeElement(),this._element=F,this.group.add(F),F.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"svgContainer",{get:function(){if(this._svgContainer)return this._svgContainer;if(this._parent)return this._parent.svgContainer},set:function(F){this._svgContainer=F},enumerable:!0,configurable:!0}),E.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var F=this.element.getBBox();this._bbox={x:F.x,y:F.y,width:F.width,height:F.height}}},E.prototype.updateCenter=function(){if(this.element){var F=this.element.transformString,R=this.bbox,U=0,W=0,Y=R.x,G=R.y,X=R.width,K=R.height,Z=this.pixelPaddingLeft,J=this.pixelPaddingRight,Q=this.pixelPaddingTop,ee=this.pixelPaddingBottom,te=max$1(X+Z+J,this.pixelWidth),ie=max$1(K+Q+ee,this.pixelHeight),re=R.x,ne=R.x+te,ae=R.y,se=R.y+ie,le=this.horizontalCenter,oe=this.verticalCenter;switch(le){case"none":U=Y+Z;break;case"left":U=Z;break;case"middle":U=Z-(X+J+Z)/2;break;case"right":U=-J-X;break}switch(oe){case"none":W=G+Q;break;case"top":W=Q;break;case"middle":W=Q-(K+ee+Q)/2;break;case"bottom":W=-ee-K;break}this._measuredHeight=ie,this._measuredWidth=te;var ue=round$2(U-Y,this._positionPrecision,!0),ce=round$2(W-G,this._positionPrecision,!0);this.ex=ue-Z,this.ey=ce-Q,this.maxLeft=re+ue-Z,this.maxRight=ne+ue-Z,this.maxTop=ae+ce-Q,this.maxBottom=se+ce-Q,this.pixelPerfect&&options.pixelPerfectPrecision==0&&(ue-=.5,ce-=.5),this.element.moveTo({x:ue,y:ce}),F!=this.element.transformString&&this.dispatchImmediately("transformed")}},E.prototype.measure=function(){this.updateCenter();var F=this._measuredWidth,R=this._measuredHeight,U=this.maxLeft,W=this.maxRight,Y=this.maxTop,G=this.maxBottom;this._measuredWidthSelf=F,this._measuredHeightSelf=R;var X=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,this.rotation!==0||this.scale!==1||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var K=this.paper.svg,Z=K.createSVGMatrix(),J=this.rotation,Q=this.scale;this.nonScaling&&(Q=this.scale/this.globalScale),Z.a=cos(J)*Q,Z.c=-sin(J)*Q,Z.e=0,Z.b=sin(J)*Q,Z.d=cos(J)*Q,Z.f=0;var ee=K.createSVGPoint();ee.x=U,ee.y=Y;var te=K.createSVGPoint();te.x=W,te.y=Y;var ie=K.createSVGPoint();ie.x=W,ie.y=G;var re=K.createSVGPoint();re.x=U,re.y=G;var ne=ee.matrixTransform(Z),ae=te.matrixTransform(Z),se=ie.matrixTransform(Z),le=re.matrixTransform(Z);U=Math.min(ne.x,ae.x,se.x,le.x),W=Math.max(ne.x,ae.x,se.x,le.x),Y=Math.min(ne.y,ae.y,se.y,le.y),G=Math.max(ne.y,ae.y,se.y,le.y),F=W-U,R=G-Y,this.maxLeft=round$2(U,X,!0),this.maxRight=round$2(W,X,!0),this.maxTop=round$2(Y,X,!0),this.maxBottom=round$2(G,X,!0)}return this._measuredWidth=round$2(F,X,!0),this._measuredHeight=round$2(R,X,!0),this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight?(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.tooltip&&this.tooltip.visible&&(hasValue(this.tooltipText)||hasValue(this.tooltipHTML))&&this.updateTooltipPosition(),!0):!1},E.prototype.insertBefore=function(F){var R=this._parent;if(R){var U=R.children.indexOf(F);U!==-1&&(R.children.moveValue(this,U),R.sortChildren())}return this},E.prototype.insertAfter=function(F){var R=this._parent;if(R){var U=R.children.indexOf(F);U!==-1&&(R.children.moveValue(this,U+1),R.sortChildren())}return this},E.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},E.prototype.getRelativeX=function(F){return F instanceof Percent?F.value:this._parent?F/this._parent.innerWidth:0},E.prototype.getRelativeY=function(F){return F instanceof Percent?F.value:this._parent?F/this._parent.innerHeight:0},E.prototype.getPixelX=function(F){var R=0;if(isNumber$1(F))R=F;else if(F instanceof Percent){var U=F.value;this._parent&&(R=round$2(this._parent.innerWidth*U,this._positionPrecision,!0))}return R},E.prototype.getPixelY=function(F){var R=0;if(isNumber$1(F))R=F;else if(F instanceof Percent){var U=F.value;this._parent&&(R=round$2(this._parent.innerHeight*U,this._positionPrecision,!0))}return R},E.prototype.moveTo=function(F,R,U,W){this.isDragged&&!W||(F&&(isNumber$1(F.x)&&this.setPropertyValue("x",round$2(F.x,this._positionPrecision,!0)),isNumber$1(F.y)&&this.setPropertyValue("y",round$2(F.y,this._positionPrecision,!0))),isNumber$1(R)&&(this.rotation=R),isNumber$1(U)&&(this.scale=U),this.invalidatePosition())},Object.defineProperty(E.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(F){var R=this;this._mask.get()!==F&&(F?(this.createClipPath(),F instanceof Container?this._clipElement=this.paper.add("rect"):(F.isMeasured=!1,F.element&&(this._clipElement=F.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(F,new MultiDisposer([F.events.on("maxsizechanged",function(){R.inited&&R.applyMask()},void 0,!1),F.events.on("validated",this.applyMask,this,!1),F.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(F){F?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:F.width,height:F.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(F){F=toBoolean(F),F||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=F&&(this._isMeasured=F,this.invalidatePosition())},enumerable:!0,configurable:!0}),E.prototype.hitTest=function(F){this.invalid&&this.validate(),F.invalid&&F.validate();var R=this.pixelX+this.maxLeft,U=this.pixelY+this.maxTop,W=R+this.maxRight,Y=U+this.maxBottom,G=F.pixelX+F.maxLeft,X=F.pixelY+F.maxTop,K=G+F.maxRight,Z=X+F.maxBottom;return!(G>W||K<R||X>Y||Z<U)},Object.defineProperty(E.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),E.prototype.isReady=function(){return this._ready},Object.defineProperty(E.prototype,"states",{get:function(){if(!this._states){var F=new SpriteState;this._states=new DictionaryTemplate(F),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new DictionaryDisposer(this._states)),this._disposers.push(F)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var F=this.states.create("hidden");F.properties.opacity=0,F.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"defaultState",{get:function(){if(!this.states.getKey("default")){var F=this.states.create("default");F.properties.opacity=1}return this.states.getKey("default")},enumerable:!0,configurable:!0}),E.prototype.processState=function(F){var R=F.newValue;if(R.sprite=this,R.name=F.key,(this.states.hasKey("hover")||this.showTooltipOn=="hover"&&(hasValue(this.tooltipHTML)||hasValue(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||this.showTooltipOn=="hover"&&(hasValue(this.tooltipHTML)||hasValue(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var U=this.clones.values,W=U.length,Y=0;Y<W;++Y){var G=U[Y];G.isDisposed()||G.states.setKey(R.name,R)}},Object.defineProperty(E.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),E.prototype.getSvgPoint=function(F){try{var R=this.htmlContainer.getBoundingClientRect();return{x:F.x-R.left,y:F.y-R.top}}catch{return F}},E.prototype.animate=function(F,R,U){return new Animation(this,F,R,U).start()},E.prototype.setState=function(F,R,U){var W;if(F instanceof SpriteState)this.states.setKey(F.name,F),W=F;else if(W=this.states.getKey(F),!W)return;if(W.name=="hover"){if(this.isHidden)return;this.isHover=!0}return W.name=="hidden"?this.isHiding=!0:this.visible||this.setVisibility(W.properties.visible||this.defaultState.properties.visible),W.name=="active"&&(this.isActive=!0),isNumber$1(R)||(R=W.transitionDuration),hasValue(U)||(U=W.transitionEasing),this.transitTo(W,R,U)},E.prototype.applyCurrentState=function(F){var R=this.setState(this.defaultState,F);return this.isHover&&(R=this.setState("hover",F)),this.isDown&&this.interactions.downPointers.length&&(R=this.setState("down",F)),this.isFocused=this.isFocused,this.isActive&&(R=this.setState("active",F),this.isHover&&this.states.hasKey("hoverActive")&&(R=this.setState("hoverActive",F))),R},E.prototype.transitTo=function(F,R,U){var W=this,Y=[],G=F.allValues,X;if(each$1(G,function(Z,J){var Q=W[Z];if(J!=Q&&W.defaultState.properties[Z]==null&&(W.defaultState.properties[Z]=Q),J!="__unset"){var ee={from:Q,to:J,property:Z};Y.push(ee)}}),Y.length>0&&(X=this.animate(Y,R,U),X&&!X.isFinished()?this._disposers.push(X.events.on("animationended",function(){W.dispatchImmediately("transitionended")})):this.dispatchImmediately("transitionended")),F.filters.length>0){var K=[];each(F.filters.iterator(),function(Z){var J=Z.clone();K.push(J);var Q=[];each(W.filters.iterator(),function(ee){ee.className==J.className&&(contains$1(W.defaultState.filters.iterator(),function(te){return te.className===J.className})||W.defaultState.filters.push(ee),each$1(J.properties,function(te,ie){var re=ee.properties[te];re!=ie&&Q.push({property:te,from:re,to:ie})}))}),J.animate(Q,R,U)}),this.filters.clear(),this.filters.pushAll(K)}return X},E.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(E.prototype,"isHover",{get:function(){return this.isInteractive()?this.interactions.isHover:!1},set:function(F){F=toBoolean(F),F!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=F,F?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isDown",{get:function(){return this.isInteractive()?this.interactions.isDown:!1},set:function(F){F=toBoolean(F),this.isInteractive()&&this.isDown!=F&&(this.interactions.isDown=F,F?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isFocused",{get:function(){return this.isInteractive()?this.interactions.isFocused:!1},set:function(F){F=toBoolean(F),this.focusable&&this.isFocused!=F&&this.isInteractive()&&(this.interactions.isFocused=F,F===!0?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isActive",{get:function(){return this._isActive},set:function(F){this.setActive(F)},enumerable:!0,configurable:!0}),E.prototype.setActive=function(F){F=toBoolean(F),this._isActive!==F&&(this._isActive=F,F&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(E.prototype,"disabled",{get:function(){var F=this.getPropertyValue("disabled");return hasValue(F)?F:this.virtualParent?this.virtualParent.disabled:this._parent?this._parent.disabled:!1},set:function(F){this.setDisabled(F)},enumerable:!0,configurable:!0}),E.prototype.setDisabled=function(F){F=toBoolean(F);var R=this.getPropertyValue("disabled");if(R!=F){if(this.setPropertyValue("disabled",F,!0),F)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var U=this._parent.element;U.hasChild(this.group)||U.add(this.group)}this instanceof Container?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),system$1.requestFrame(),!0}return!1},Object.defineProperty(E.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(F){this._internalDisabled!=F&&(this._internalDisabled=F,this._updateDisabled=!0,this.invalidatePosition(),F||this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new NumberFormatter,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(F){this._numberFormatter=F,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new DateFormatter,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(F){this._dateFormatter=F,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new DurationFormatter,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(F){this._durationFormatter=F,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"language",{get:function(){var F=this._language.get();return F||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(F=new Language,this.language=F,F))},set:function(F){var R=this;this._language.get()!==F&&this._language.set(F,F.events.on("localechanged",function(U){if(R._numberFormatter&&(R._numberFormatter.language=R.language),R._dateFormatter&&(R._dateFormatter.language=R.language),R._durationFormatter&&(R._durationFormatter.language=R.language),R._exporting.get()){var W=R._exporting.get();W.numberFormatter.language=R.language,W.dateFormatter.language=R.language,W.durationFormatter.language=R.language,W.language=R.language}R instanceof Container&&R.deepInvalidate()}))},enumerable:!0,configurable:!0}),E.prototype.populateString=function(F,R){if(hasValue(F)){F=castString(F),F=getTextFormatter().escape(F);var U=F.match(/\{([^}]+)\}/g),W=void 0;if(U)for(W=0;W<U.length;W++){var Y=U[W].replace(/\{([^}]+)\}/,"$1"),G=this.getTagValue(Y,"",R);hasValue(G)||(G=""),F=F.split(U[W]).join(G)}F=getTextFormatter().unescape(F)}else F="";return this._adapterO?this._adapterO.apply("populateString",F):F},E.prototype.getTagValue=function(F,R,U){var W;hasValue(U)||(U=this.dataItem);for(var Y=[],G=/([^.]+)\(([^)]*)\)|([^.]+)/g,X;X=G.exec(F),X!==null;)if(X[3])Y.push({prop:X[3]});else{var K=[];if(trim$1(X[2])!="")for(var Z=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,J=void 0;J=Z.exec(X[2]),J!==null;)K.push(J[1]||J[2]||J[3]);Y.push({method:X[1],params:K})}if(U){W=this.getTagValueFromObject(Y,U.values),(!hasValue(W)||isObject$3(W))&&(W=this.getTagValueFromObject(Y,U));var Q=U.dataContext;!hasValue(W)&&Q&&(W=this.getTagValueFromObject(Y,U.dataContext),hasValue(W)||(W=this.getTagValueFromObject([{prop:F}],Q)),!hasValue(W)&&Q.dataContext&&(W=this.getTagValueFromObject(Y,Q.dataContext))),!hasValue(W)&&U.component&&U.component.dataItem!==U&&(W=U.component.getTagValue(F,R))}return hasValue(W)||(W=this.getTagValueFromObject(Y,this.populateStringFrom||this)),!hasValue(W)&&this._parent&&(W=this._parent.getTagValue(F,R)),W},E.prototype.getTagValueFromObject=function(F,R,U){for(var W=R,Y=!1,G=0,X=F.length;G<X;G++){var K=F[G];if(K.prop){if(W=W[K.prop],!hasValue(W))return}else switch(K.method){case"formatNumber":var Z=anyToNumber(W);hasValue(Z)&&(W=this.numberFormatter.format(Z,U||K.params[0]||void 0),Y=!0);break;case"formatDate":var J=void 0;if(isString$2(W)?J=this.dateFormatter.parse(W):J=anyToDate(W),!isDate$1(J)||isNaN$1(J.getTime()))return;hasValue(J)&&(W=this.dateFormatter.format(J,U||K.params[0]||void 0),Y=!0);break;case"formatDuration":var Q=anyToNumber(W);hasValue(Q)&&(W=this.durationFormatter.format(Q,U||K.params[0]||void 0,K.params[1]||void 0),Y=!0);break;case"urlEncode":case"encodeURIComponent":W=encodeURIComponent(W);break;default:W[K.method]&&W[K.method].apply(this,K.params);break}}if(!Y){var ee=[{method:"",params:U}];if(!hasValue(U))isNumber$1(W)?(ee[0].method="formatNumber",ee[0].params=""):isDate$1(W)&&(ee[0].method="formatDate",ee[0].params="");else{var te=getFormat(U);te===NUMBER?ee[0].method="formatNumber":te===DATE?ee[0].method="formatDate":te===DURATION&&(ee[0].method="formatDuration")}ee[0].method&&(W=this.getTagValueFromObject(ee,W))}return W},Object.defineProperty(E.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(F){this.setDataItem(F)},enumerable:!0,configurable:!0}),E.prototype.setDataItem=function(F){var R=this;if(this._dataItem!=F){if(this._dataItem=F,F){if(this.configField){var U=F.dataContext;U&&(this.config=U[this.configField],!this.config&&U.dataContext&&(this.config=U.dataContext[this.configField]))}var W=F.dataContext;if(W){var Y=W.dataContext;each$1(this.propertyFields,function(G,X){if(hasValue(W[X])){var K=R;K[G]=W[X]}else if(Y){var Z=Y[X];if(hasValue(Z)){var K=R;K[G]=Z}}})}}this.invalidate()}},E.prototype.getPropertyValue=function(F){var R=this.properties[F];return this._isTemplate||(this._adapterO&&(R=this._adapterO.apply(F,R)),R=globalAdapter.applyAll(this,F,R)),R},E.prototype.setColorProperty=function(F,R,U){var W=this.properties[F];return R instanceof Color&&W instanceof Color&&R.toString()==W.toString()?!1:this.setPropertyValue(F,R,U)},E.prototype.setPercentProperty=function(F,R,U,W,Y,G){if(R=toNumberOrPercent(R),isNumber$1(R))return isNumber$1(Y)&&(R=round$2(R,Y,G)),this.setPropertyValue(F,R,U,W);var X=this.properties[F];return R instanceof Percent&&X instanceof Percent&&R.value==X.value?!1:this.setPropertyValue(F,R,U,W)},E.prototype.setPropertyValue=function(F,R,U,W){if(this.properties[F]!==R&&!this.isDisposed()){if(this.properties[F]=R,this.events.isEnabled("propertychanged")){var Y={type:"propertychanged",target:this,property:F};this.events.dispatchImmediately("propertychanged",Y)}if(U&&this.invalidate(),W&&this.invalidatePosition(),this.applyOnClones)for(var G=this.clones.values,X=G.length,K=0;K<X;++K){var Z=G[K];Z.isDisposed()||(Z[F]=R)}return!0}return!1},E.prototype.bind=function(F,R,U,W){var Y=this;U===void 0&&(U=F),hasValue(this._bindings[F])&&this._bindings[F].dispose(),this[F]=R[U],this._bindings[F]=R.events.on("propertychanged",function(G){if(G.property===U){var X=R[U];W&&(X=W(X)),Y[F]=X}})},E.prototype.observe=function(F,R,U,W){var Y=this;return new MultiDisposer(map$1(toArray$3(F),function(G){return Y.events.on("propertychanged",function(X){X.property===G&&R.call(U,X)},U,W)}))},E.prototype.applyAccessibility=function(){var F=this.readerTitle,R=this.readerDescription,U=this.role,W=this.readerHidden,Y=this.readerChecked,G=this.readerControls,X=this.readerLive,K=this.readerOrientation,Z=this.readerValueNow,J=this.readerValueText,Q=[],ee=[],te=this.readerLabelledBy;te&&Q.push(te);var ie=this.readerDescribedBy;if(ie&&ee.push(ie),F)if(Q.length||this.showSystemTooltip){var re=this.titleElement,ne=this.uid+"-title";re.node.textContent!=F&&(re.node.textContent=F,re.attr({id:ne})),Q.push(ne)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":F});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(R){var ae=this.descriptionElement,se=this.uid+"-description";ae.node.textContent!=R&&(ae.node.textContent=R,ae.attr({id:se})),ee.push(se)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);Q.length?this.setSVGAttribute({"aria-labelledby":Q.join(" ")}):this.removeSVGAttribute("aria-labelledby"),ee.length?this.setSVGAttribute({"aria-describedby":ee.join(" ")}):this.removeSVGAttribute("aria-describedby"),U?this.setSVGAttribute({role:U}):this.removeSVGAttribute("role"),W?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),Y?this.setSVGAttribute({"aria-checked":"true"}):Y===!1?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),G?this.setSVGAttribute({"aria-controls":G}):this.removeSVGAttribute("aria-controls"),X?this.setSVGAttribute({"aria-live":X}):this.removeSVGAttribute("aria-live"),K?this.setSVGAttribute({"aria-orientation":K}):this.removeSVGAttribute("aria-orientation"),Z?this.setSVGAttribute({"aria-valuenow":Z}):this.removeSVGAttribute("aria-valuenow"),J?this.setSVGAttribute({"aria-valuetext":J}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(E.prototype,"readerTitle",{get:function(){var F=this.getPropertyValue("readerTitle");return hasValue(F)&&this.dataItem?this.populateString(F):F},set:function(F){F=toText(F),this.setPropertyValue("readerTitle",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerDescription",{get:function(){var F=this.getPropertyValue("readerDescription");return hasValue(F)&&this.dataItem?this.populateString(F):this.getPropertyValue("readerDescription")},set:function(F){F=toText(F),this.setPropertyValue("readerDescription",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(F){F=toText(F),this.setPropertyValue("role",F)&&(this.applyAccessibility(),F=="slider"&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(F){F=toBoolean(F),this.setPropertyValue("readerHidden",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(F){F=toBoolean(F),this.setPropertyValue("readerChecked",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(F){F=toText(F),this.setPropertyValue("readerControls",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(F){F=toText(F),this.setPropertyValue("readerLive",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(F){F=toText(F),this.setPropertyValue("readerLabelledBy",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(F){F=toText(F),this.setPropertyValue("readerDescribedBy",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(F){F=toText(F),this.setPropertyValue("readerOrientation",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(F){F=toText(F),this.setPropertyValue("readerValueNow",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(F){F=toText(F),this.setPropertyValue("readerValueText",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"interactions",{get:function(){if(!this._interaction){var F=getInteraction().getInteraction(this.dom);this._interaction=F,F.clickable=this.clickable,F.hoverable=this.hoverable,F.trackable=this.trackable,F.draggable=this.draggable,F.swipeable=this.swipeable,F.resizable=this.resizable,F.wheelable=this.wheelable,F.contextMenuDisabled=this.contextMenuDisabled,F.inert=this.inert,F.sprite=this,this._disposers.push(F)}return this._interaction},enumerable:!0,configurable:!0}),E.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(E.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(F){var R=this;F=toBoolean(F),this.setPropertyValue("focusable",F)&&(!F&&!this.isInteractive()||(this.interactions.focusable=F,F?(this.setSVGAttribute({focusable:F}),hasValue(this._tabindex)||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",F,function(){return new MultiDisposer([R.events.on("blur",R.handleBlur,R,!1),R.events.on("focus",R.handleFocus,R,!1)])})))},enumerable:!0,configurable:!0}),E.prototype.handleFocus=function(F){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},E.prototype.handleBlur=function(F){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(E.prototype,"focusFilter",{get:function(){var F=this._focusFilter;if(F)return F;if(this.virtualParent)return this.virtualParent.focusFilter;if(this._parent)return this._parent.focusFilter},set:function(F){this._focusFilter=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(F){F!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tabindex",{get:function(){var F=this._tabindex;if(F!=null)return F;if(this.virtualParent)return this.virtualParent.tabindex;if(this._parent)return this._parent.tabindex},set:function(F){F=toNumber(F),this.setPropertyValue("tabindex",F)&&isNumber$1(F)&&(this.interactions.tabindex=F,this.setSVGAttribute({tabindex:F}),this._tabindex=F,this.focusable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(F){var R=this;F=toBoolean(F),this.setPropertyValue("draggable",F)&&(!F&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.draggable=F,this.interactions.setEventDisposer("sprite-draggable",F,function(){return new MultiDisposer([R.events.on("down",R.handleDown,R,!1),R.events.on("dragstart",R.handleDragStart,R,!1),R.events.on("drag",R.handleDragMove,R,!1),R.events.on("dragstop",R.handleDragStop,R,!1)])})))},enumerable:!0,configurable:!0}),E.prototype.handleDragStart=function(F){(!this.interactions.isTouchProtected||!F.touch)&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},E.prototype.dragStart=function(F){this._isDragged=!0,getInteraction().dragStart(this.interactions,F)},E.prototype.handleDragStop=function(F){(!this.interactions.isTouchProtected||!F.touch)&&(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},E.prototype.dragStop=function(F,R){this._isDragged=!1,getInteraction().dragStop(this.interactions,F,R)},E.prototype.handleDragMove=function(F){if(!this.interactions.isTouchProtected||!F.touch){var R=this.interactions.originalPosition;if(R&&this._isDragged){var U=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:R.x+F.shift.x/U,y:R.y+F.shift.y/U},void 0,void 0,!0)}this.dispatchImmediately("dragged",F)}},Object.defineProperty(E.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(F){F=toBoolean(F),this.setPropertyValue("inert",F)&&(!F&&!this.isInteractive()||(this.interactions.inert=F))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(F){var R=this;F=toBoolean(F),this.setPropertyValue("hoverable",F)&&(!F&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.hoverable=F,this.interactions.setEventDisposer("sprite-hoverable",F,function(){return new MultiDisposer([R.events.on("over",R.handleOver,R,!1),R.events.on("out",R.handleOut,R,!1)])})))},enumerable:!0,configurable:!0}),E.prototype.handleOver=function(F){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var R=void 0;F&&F.pointer&&(R=documentPointToSvg(F.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),this.showTooltipOn=="hover"&&this.showTooltip(R)}else this.showTooltipOn=="hover"&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},E.prototype.handleOut=function(F){var R=this;if(this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover){this._outTimeout=this.setTimeout(function(){R.tooltip.isHover||(R.tooltip.targetSprite==R&&R.hideTooltip(),R._outTimeout=R.setTimeout(R.handleOutReal.bind(R),R.rollOutDelay))},10);return}this.showTooltipOn=="hover"&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay)},E.prototype.handleOutReal=function(){!this.isHidden&&!this.isHiding&&this.states.hasKey("hover")&&this.applyCurrentState()},Object.defineProperty(E.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),E.prototype.handleDown=function(F){this.interactions.downPointers.length===1&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},E.prototype.handleUp=function(F){var R=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),this.showTooltipOn=="hit"&&(this.updateTooltipPosition(F.pointer?F.pointer.point:void 0),this._disposers.push(registry.events.once("exitframe",function(){R.showTooltip()})),this._disposers.push(getInteraction().body.events.once("down",function(U){R.hideTooltip()})))},Object.defineProperty(E.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(F){var R=this;F=toBoolean(F),this.setPropertyValue("clickable",F)&&(!F&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.clickable=F,this.interactions.setEventDisposer("sprite-clickable",F,function(){return new MultiDisposer([R.events.on("down",R.handleDown,R,!1),R.events.on("up",R.handleUp,R,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(F){var R=this;F=toBoolean(F),this.setPropertyValue("togglable",F)&&(!F&&!this.isInteractive()||this.interactions.setEventDisposer("sprite-togglable",F,function(){return R.events.on("hit",R.handleToggle,R,!1)}))},enumerable:!0,configurable:!0}),E.prototype.handleToggle=function(F){this.isActive=!this.isActive},Object.defineProperty(E.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(F){F=toBoolean(F),this.setPropertyValue("contextMenuDisabled",F)&&(this.interactions.contextMenuDisabled=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(F){this.setPropertyValue("url",F)&&(this._urlDisposer&&this._urlDisposer.dispose(),isNotEmpty(F)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=MouseCursorStyle.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(F){this.setBaseId(F)},enumerable:!0,configurable:!0}),E.prototype.setBaseId=function(F){F!=this._baseId&&(this.invalid&&(this.invalid=!1,registry.removeFromInvalidSprites(this),this.invalidate()),this._baseId=F)},Object.defineProperty(E.prototype,"baseSprite",{get:function(){if(this.isBaseSprite)return this;if(this._parent)return this._parent.baseSprite},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(F){this.setPropertyValue("urlTarget",F)},enumerable:!0,configurable:!0}),E.prototype.urlHandler=function(F){if(isNotEmpty(this.url)){var R=this.populateString(this.url);this.urlTarget==="_self"?window.location.href=R:window.open(R,this.urlTarget)}},Object.defineProperty(E.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(F){F=toBoolean(F),this.setPropertyValue("swipeable",F)&&(this.applyCursorStyle(),!F&&!this.isInteractive()||(this.interactions.swipeable=F))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(F){F=toBoolean(F),this.setPropertyValue("trackable",F)&&(!F&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.trackable=F))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(F){this.setPropertyValue("wheelable",F)&&(!F&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.wheelable=F))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(F){var R=this;F=toBoolean(F),this.setPropertyValue("resizable",F)&&(!F&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.resizable=F,this.interactions.setEventDisposer("sprite-resizable",F,function(){return new MultiDisposer([R.events.on("down",R.handleDown,R,!1),R.events.on("resize",R.handleResize,R,!1)])})))},enumerable:!0,configurable:!0}),E.prototype.handleResize=function(F){if((!this.interactions.isTouchProtected||!F.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*F.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var R=documentPointToSvg(F.point1,this.htmlContainer,this.svgContainer.cssScale),U=documentPointToSvg(F.point2,this.htmlContainer,this.svgContainer.cssScale),W=getMidPoint(R,U),Y=documentPointToSprite(F.startPoint1,this._parent),G=documentPointToSprite(F.startPoint2,this._parent),X=this.interactions.originalPosition,K=this.interactions.originalScale;if(X){var Z={x:(Y.x-X.x)/K,y:(Y.y-X.y)/K},J={x:(G.x-X.x)/K,y:(G.y-X.y)/K},Q=getMidPoint(Z,J),ee=svgPointToSprite(W,this._parent);this.moveTo({x:ee.x-Q.x*this.scale,y:ee.y-Q.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(E.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cursorOverStyle",{set:function(F){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=F,getInteraction().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cursorDownStyle",{set:function(F){this.cursorOptions.downStyle=F},enumerable:!0,configurable:!0}),E.prototype.applyCursorStyle=function(){},Object.defineProperty(E.prototype,"interactionsEnabled",{get:function(){var F=this.getPropertyValue("interactionsEnabled");return F===!1?!1:this.virtualParent?this.virtualParent.interactionsEnabled:this._parent?this._parent.interactionsEnabled:!0},set:function(F){if(F=toBoolean(F),this.setPropertyValue("interactionsEnabled",F)){var R=null;F?this.group.node.style.pointerEvents="":R="none",this.group.node.style.pointerEvents=R}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"exporting",{get:function(){return this.getExporting()},set:function(F){this._exporting.set(F,F)},enumerable:!0,configurable:!0}),E.prototype.getExporting=function(){var F=this._exporting.get();if(F)return F;if(this.isStandaloneInstance||!this._parent)F=new Export(this.svgContainer.SVGContainer),F.sprite=this,F.language=this.language,F.numberFormatter=this.numberFormatter,F.dateFormatter=this.dateFormatter,F.durationFormatter=this.durationFormatter,this._exporting.set(F,F);else return this._parent.exporting;return F},Object.defineProperty(E.prototype,"exportable",{get:function(){return this._exportable},set:function(F){var R=this.svgContainer;this._exportable=F,R&&(F?remove(R.nonExportableSprites,this):indexOf(R.nonExportableSprites,this)==-1&&R.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),E.prototype.modalPrefix=function(F){return F=options.classNamePrefix+F,F},Object.defineProperty(E.prototype,"modal",{get:function(){var F=this.svgContainer;if(F){var R=F.modal;return R.adapter.has("classPrefix",this.modalPrefix)||R.adapter.add("classPrefix",this.modalPrefix),R}},enumerable:!0,configurable:!0}),E.prototype.openModal=function(F,R){var U=this.svgContainer;if(U)return U.openModal(F,R)},E.prototype.closeModal=function(){var F=this.svgContainer;F&&F.closeModal()},Object.defineProperty(E.prototype,"popups",{get:function(){var F=this.svgContainer;if(F){var R=F.popups;return R.template.sprite=this,R.template.adapter.has("classPrefix",this.modalPrefix)||R.template.adapter.add("classPrefix",this.modalPrefix),R}},enumerable:!0,configurable:!0}),E.prototype.openPopup=function(F,R){var U=this.svgContainer;if(U)return U.openPopup(F,R)},E.prototype.closeAllPopups=function(){var F=this.svgContainer;F&&F.closeAllPopups()},Object.defineProperty(E.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(F){this.isDragged||this.setPercentProperty("x",F,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelX",{get:function(){var F=fitToRange(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(F){isNumber$1(F)&&(F=round$2(F,this._positionPrecision,!0),this.setPropertyValue("minX",F,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(F){isNumber$1(F)&&(F=round$2(F,this._positionPrecision,!0),this.setPropertyValue("maxX",F,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(F){this.isDragged||this.setPercentProperty("y",F,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelY",{get:function(){var F=fitToRange(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(F){isNumber$1(F)&&(F=round$2(F,this._positionPrecision,!0),this.setPropertyValue("minY",F,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(F){isNumber$1(F)&&(F=round$2(F,this._positionPrecision,!0),this.setPropertyValue("maxY",F,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(F){isNumber$1(F)&&(F=round$2(F,this._positionPrecision,!0),this.setPropertyValue("dx",F,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(F){isNumber$1(F)&&(F=round$2(F,this._positionPrecision,!0),this.setPropertyValue("dy",F,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(F){F=toNumber(F),isNumber$1(F)||(F=0),this.setPropertyValue("rotation",F,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(F){F=toText(F),this.setPropertyValue("align",F)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(F){F=toText(F),this.setPropertyValue("valign",F)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(F){F=toText(F),this.setPropertyValue("horizontalCenter",F)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(F){F=toText(F),this.setPropertyValue("verticalCenter",F)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxWidth",{get:function(){var F=this.getPropertyValue("maxWidth");if(!isNumber$1(F)&&this._parent){var R=this._parent.maxWidth;return this._parent.layout!="absolute"&&this.align!="none"&&this.align!=null&&(R=R-this.pixelMarginLeft-this.pixelMarginRight),R}return F},set:function(F){this.setMaxWidth(F)},enumerable:!0,configurable:!0}),E.prototype.setMaxWidth=function(F){var R=this.maxWidth,U=this.maxHeight;if(this.setPropertyValue("maxWidth",F)){isNumber$1(this.relativeWidth)&&this.invalidate();var W={type:"maxsizechanged",target:this,previousWidth:R,previousHeight:U};this.dispatchImmediately("maxsizechanged",W)}},Object.defineProperty(E.prototype,"maxHeight",{get:function(){var F=this.getPropertyValue("maxHeight");if(!isNumber$1(F)&&this._parent){var R=this._parent.maxHeight;return this._parent.layout!="absolute"&&this.valign!="none"&&this.valign!=null&&(R=R-this.pixelMarginTop-this.pixelMarginBottom),R}return F},set:function(F){this.setMaxHeight(F)},enumerable:!0,configurable:!0}),E.prototype.setMaxHeight=function(F){var R=this.maxWidth,U=this.maxHeight;if(this.setPropertyValue("maxHeight",F)){isNumber$1(this.relativeHeight)&&this.invalidate();var W={type:"maxsizechanged",target:this,previousWidth:R,previousHeight:U};this.dispatchImmediately("maxsizechanged",W)}},Object.defineProperty(E.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(F){this.setPropertyValue("minWidth",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(F){this.setPropertyValue("minHeight",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(F){var R=this.setPercentProperty("width",F,!0,!1,this._positionPrecision,!0);R&&(this.percentWidth=void 0,this.relativeWidth=void 0,F instanceof Percent?(this.percentWidth=F.percent,isNumber$1(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(F),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(F){var R=this.setPercentProperty("height",F,!0,!1,this._positionPrecision,!0);R&&(this.percentHeight=void 0,this._relativeHeight=void 0,F instanceof Percent?(this.percentHeight=F.percent,isNumber$1(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(F),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelWidth",{get:function(){var F;isNumber$1(this.percentWidth)?F=this.maxWidth:isNumber$1(this._pixelWidth)?F=this._pixelWidth:F=0;var R=this.minWidth;R!=null&&F<R&&(F=R);var U=round$2(F,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",U):U},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelHeight",{get:function(){var F;isNumber$1(this.percentHeight)?F=this.maxHeight:isNumber$1(this._pixelHeight)?F=this._pixelHeight:F=0;var R=this.minHeight;R!=null&&F<R&&(F=R);var U=round$2(F,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",U):U},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativeWidth",{get:function(){var F=this._relativeWidth;if(isNumber$1(F))return this._adapterO?this._adapterO.apply("relativeWidth",F):F},set:function(F){this._relativeWidth!=F&&(this._relativeWidth=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativeHeight",{get:function(){var F=this._relativeHeight;if(isNumber$1(F))return this._adapterO?this._adapterO.apply("relativeHeight",F):F},set:function(F){this._relativeHeight!=F&&(this._relativeHeight=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"outerWidth",{get:function(){var F=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"outerHeight",{get:function(){var F=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerWidth",{get:function(){var F=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerHeight",{get:function(){var F=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"globalScale",{get:function(){var F=this.scale;return this._parent&&(F=F*this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(F){F=toNumber(F),F<0&&(F=0),F!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",F,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),E.prototype.margin=function(F,R,U,W){return this.marginTop=F,this.marginRight=R,this.marginBottom=U,this.marginLeft=W,this},Object.defineProperty(E.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(F){this.setPercentProperty("marginLeft",F,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(F){this.setPercentProperty("marginRight",F,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(F){this.setPercentProperty("marginTop",F,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(F){this.setPercentProperty("marginBottom",F,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelMarginRight",{get:function(){var F=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativeMarginRight",{get:function(){var F=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelMarginLeft",{get:function(){var F=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativeMarginLeft",{get:function(){var F=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelMarginTop",{get:function(){var F=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativeMarginTop",{get:function(){var F=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelMarginBottom",{get:function(){var F=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",F):F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativeMarginBottom",{get:function(){var F=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",F):F},enumerable:!0,configurable:!0}),E.prototype.padding=function(F,R,U,W){return this.paddingTop=F,this.paddingRight=R,this.paddingBottom=U,this.paddingLeft=W,this},Object.defineProperty(E.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(F){this.setPercentProperty("paddingLeft",F,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(F){this.setPercentProperty("paddingRight",F,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(F){this.setPercentProperty("paddingTop",F,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(F){this.setPercentProperty("paddingBottom",F,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(F){this.setPath(F)},enumerable:!0,configurable:!0}),E.prototype.setPath=function(F){return this.setPropertyValue("path",F)?(this._adapterO&&(F=this._adapterO.apply("path",F)),this._isPath||((!this.element||this.element.node&&!(this.element.node instanceof SVGPathElement))&&(this.element=this.paper.add("path")),this._isPath=!0),hasValue(F)?this.element.attr({d:F}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0):!1},Object.defineProperty(E.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(F){this.setPropertyValue("fillModifier",F)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(F){this.setPropertyValue("strokeModifier",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(F){F=toNumberRange(F,0,1),this.setPropertyValue("fillOpacity",F)&&this.setSVGAttribute({"fill-opacity":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(F){this.setFill(F)},enumerable:!0,configurable:!0}),E.prototype.setFill=function(F){if((!isObject$3(F)||"r"in F)&&(F=toColor(F)),this.setColorProperty("fill",F)||this.fillModifier){if(F instanceof Color&&this.fillModifier&&(F=this.fillModifier.modify(F)),this.realFill=F,F instanceof Color)this.setSVGAttribute({fill:F.toString()});else if(!hasValue(F))this.removeSVGAttribute("fill");else if(F instanceof Pattern||F instanceof LinearGradient||F instanceof RadialGradient){var R=F;R.paper=this.paper,this.setSVGAttribute({fill:'url("'+getBaseURI()+R.id+'")'})}}},Object.defineProperty(E.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(F){F=toNumberRange(F,0,1),this.setPropertyValue("opacity",F)&&this.setSVGAttribute({opacity:F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(F){this.setStroke(F)},enumerable:!0,configurable:!0}),E.prototype.setStroke=function(F){if((!isObject$3(F)||"r"in F)&&(F=toColor(F)),this.setColorProperty("stroke",F)||this.strokeModifier){if(F instanceof Color&&this.strokeModifier&&(F=this.strokeModifier.modify(F)),this.realStroke=F,F instanceof Color)F.hex=="none"?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:F.toString()});else if(!hasValue(F))this.removeSVGAttribute("stroke");else if(F instanceof Pattern||F instanceof LinearGradient||F instanceof RadialGradient){var R=F;R.paper=this.paper,this.setSVGAttribute({stroke:'url("'+getBaseURI()+R.id+'")'})}}},Object.defineProperty(E.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(F){F=toNumberRange(F,0,1),this.setPropertyValue("strokeOpacity",F)&&this.setSVGAttribute({"stroke-opacity":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(F){F=toBoolean(F),this.setPropertyValue("nonScalingStroke",F)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(F){F=toBoolean(F),this.setPropertyValue("nonScaling",F,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(F){F=toNumber(F),this.setPropertyValue("strokeWidth",F,!0),this.nonScalingStroke&&(isNumber$1(F)||(F=1),F=F/this.globalScale),this.setSVGAttribute({"stroke-width":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(F){F=toText(F),this.setPropertyValue("strokeDasharray",F)&&this.setSVGAttribute({"stroke-dasharray":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(F){F=toNumber(F),this.setPropertyValue("strokeDashoffset",F)&&this.setSVGAttribute({"stroke-dashoffset":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(F){this.setPropertyValue("strokeLinecap",F)&&this.setSVGAttribute({"stroke-linecap":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(F){this.setPropertyValue("strokeLinejoin",F)&&this.setSVGAttribute({"stroke-linejoin":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(F){F=toText(F),this.setPropertyValue("shapeRendering",F)&&this.setSVGAttribute({"shape-rendering":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(F){F=toBoolean(F),F?this._positionPrecision=options.pixelPerfectPrecision:this._positionPrecision=3,this.setPropertyValue("pixelPerfect",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rtl",{get:function(){return hasValue(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(F){F=toBoolean(F),this.isBaseSprite&&(this.topParent.rtl=F),this._rtl=F},enumerable:!0,configurable:!0}),E.prototype.show=function(F){return this.showReal(F)},E.prototype.showReal=function(F){var R=this;if(!this.preventShow){var U,W=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||W.opacity!=null&&this.opacity<W.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),isNumber$1(F)||(F=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,U=this.applyCurrentState(F),U&&!U.isFinished()?(this._showHideDisposer=U.events.on("animationended",function(){R.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var Y=this.defaultState.properties.visible;hasValue(Y)||(Y=!0),this.visible=Y,this.readerHidden=!1,this.dispatchImmediately("shown")}return U}},E.prototype.hide=function(F){return this.hideReal(F)},E.prototype.hideReal=function(F){var R=this,U;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var W=this.hiddenState;W?(U=this.setState(W,F,void 0),U&&!U.isFinished()?(this._hideAnimation=U,this._showHideDisposer=U.events.on("animationended",function(){R.isHiding=!1,R._isHidden=!0,W.properties.visible==!1&&(R.visible=!1)},this),this._disposers.push(this._showHideDisposer),this._disposers.push(U)):(this.isHiding=!1,this._isHidden=!0)):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return isNumber$1(F)||(F=this.hiddenState.transitionDuration),U},Object.defineProperty(E.prototype,"visible",{get:function(){return this.getVisibility()},set:function(F){F=toBoolean(F),this.setVisibility(F)},enumerable:!0,configurable:!0}),E.prototype.getVisibility=function(){var F=this.getPropertyValue("visible");return hasValue(F)||(F=!0),F},E.prototype.setVisibility=function(F){if(this.setPropertyValue("visible",F)&&(F?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var R={type:"visibilitychanged",target:this,visible:F};this.events.dispatchImmediately("visibilitychanged",R)}},Object.defineProperty(E.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(F){F=toNumber(F),this.setPropertyValue("zIndex",F)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),E.prototype.toFront=function(){var F=this._parent;F&&F.children.indexOf(this)!=F.children.length-1&&(F.children.moveValue(this,F.children.length-1),this.dispatch("zIndexChanged"))},E.prototype.toBack=function(){var F=this._parent;F&&F.children.indexOf(this)!=0&&(F.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(E.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(F){this.setPropertyValue("userClassName",F)&&(!F&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltip",{get:function(){if(this._tooltip)return this._tooltip;if(this.virtualParent)return this.virtualParent.tooltip;if(this._parent)return this._parent.tooltip},set:function(F){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=F,F&&(F.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipDataItem",{get:function(){var F=this._tooltipDataItem;return F||this.dataItem},set:function(F){this._tooltipDataItem=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(F){this._tooltipColorSource=F},enumerable:!0,configurable:!0}),E.prototype.showTooltip=function(F){this.showTooltipOn=="always"&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!F&&this.tooltipPosition=="pointer"&&this.isHover&&(F=documentPointToSvg(getInteraction().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var R=this;R!=null;){if(!R.visible||R.disabled||R.__disabled){this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0);return}R=R.parent}if(hasValue(this.tooltipText)||hasValue(this.tooltipHTML)){var U=this.tooltip,W=this.tooltipDataItem;if(U){U.targetSprite=this;var Y=this,G=this.tooltipColorSource;if((U.getStrokeFromObject||U.getFillFromObject)&&G&&(G.isTemplate?W&&eachContinue$2(W.sprites,function(ee){return ee.clonedFrom==G?(Y=ee,!1):!0}):Y=G),U.getStrokeFromObject){for(var X=this.stroke,K=Y;K.parent!=null&&(X=K.stroke,X==null&&(K=K.parent),X==null););X instanceof Color?U.background.animate({property:"stroke",to:X},U.animationDuration):U.background.stroke=X}if(U.dataItem=W,U.label.populateStringFrom=this,U.getFillFromObject){for(var Z=this.fill,K=Y;K.parent!=null;)if(Z=K.fill,Z==null||Z instanceof Color&&Z.rgb==null)K=K.parent;else if(Z!=null)break;Z==null&&(Z=color("#000000")),Z instanceof Color&&U.visible?U.background.animate({property:"fill",to:Z},U.animationDuration):U.background.fill=Z,U.autoTextColor&&Z instanceof Color&&(U.label.fill=Z.alternative)}var J="";if(this.tooltipHTML&&(U.html=this.tooltipHTML,J=this.tooltipHTML),this.tooltipText&&(U.text=this.tooltipText,J=this.tooltipText),this.updateTooltipPosition(F))if(U.readerDescribedBy=this.uidAttr(),U.label.invalid&&U.label.validate(),J!=null&&J!=""&&U.label.currentText!=""){U&&!U.parent&&(U.parent=this.tooltipContainer);var Q=U.defaultState.transitionDuration;return Q<=0&&(Q=1),U.show(Q),U.currentSprite=this,!0}else this.hideTooltip(0);else this.hideTooltip(0)}}return!1},E.prototype.updateTooltipPosition=function(F){var R=this;if(this.tooltipPosition=="pointer"){if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=getInteraction().body.events.on("track",function(W){return R.pointTooltipTo(documentPointToSvg(W.point,R.svgContainer.SVGContainer,R.svgContainer.cssScale),!0)}),F)return this.pointTooltipTo(F,!0)}else{var U=spritePointToSvg({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(U)}},E.prototype.pointTooltipTo=function(F,R){var U=this.tooltip;return U&&this.topParent&&(U.showInViewport||isInRectangle(F,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))?(U.pointTo(F,R),!0):!1},E.prototype.hideTooltip=function(F){if(this.showTooltipOn!="always"){var R=this.tooltip;R&&(R.targetSprite==this&&(R.targetSprite=void 0),R.hide(F),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(E.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(F){F=toText(F),this.hoverable=!0,this.setPropertyValue("tooltipHTML",F)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(F){F=toText(F),F&&(this.hoverable=!0),this.setPropertyValue("tooltipText",F)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipContainer",{get:function(){if(this._tooltipContainer)return this._tooltipContainer;if(this._parent)return this._parent.tooltipContainer},set:function(F){this._tooltipContainer=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(F){this.setPercentProperty("tooltipX",F)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"alwaysShowTooltip",{get:function(){return this.getPropertyValue("showTooltipOn")=="always"},set:function(F){F=toBoolean(F),F&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(F){this.setPropertyValue("showTooltipOn",F)&&(F=="hit"&&(this.clickable=!0),this.tooltip&&(F=="always"?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(F){this.setPropertyValue("tooltipPosition",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(F){this.setPercentProperty("tooltipY",F)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),E.prototype.getTooltipX=function(){var F=this.getPropertyValue("tooltipX");hasValue(F)||(F=percent(50));var R;return isNumber$1(F)&&(R=F),F instanceof Percent&&(R=this.maxLeftSelf+this._measuredWidthSelf*F.value-this.pixelPaddingLeft-this.ex),isNumber$1(R)||(R=0),R},E.prototype.getTooltipY=function(){var F=this.getPropertyValue("tooltipY");hasValue(F)||(F=percent(50));var R;return isNumber$1(F)&&(R=F),F instanceof Percent&&(R=this.maxTopSelf+this._measuredHeightSelf*F.value-this.pixelPaddingTop-this.ey),isNumber$1(R)||(R=0),R},E.prototype.raiseCriticalError=function(F,R){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",F).message:this.modal.content=F.message,R?this.modal.closable=!0:this.disabled=!0,this.modal.open()),console.log(F)},E.prototype.processConfig=function(F){F&&(hasValue(F.tooltipColorSource)&&isString$2(F.tooltipColorSource)&&this.map.hasKey(F.tooltipColorSource)&&(F.tooltipColorSource=this.map.getKey(F.tooltipColorSource)),hasValue(F.cursorOverStyle)&&isString$2(F.cursorOverStyle)&&(F.cursorOverStyle=this.getCursorStyle(F.cursorOverStyle)),hasValue(F.cursorDowntyle)&&isString$2(F.cursorDowntyle)&&(F.cursorDowntyle=this.getCursorStyle(F.cursorDowntyle)),hasValue(F.cursorOptions)&&(hasValue(F.cursorOptions.overStyle)&&isString$2(F.cursorOptions.overStyle)&&(F.cursorOptions.overStyle=this.getCursorStyle(F.cursorOptions.overStyle)),hasValue(F.cursorOptions.downStyle)&&isString$2(F.cursorOptions.downStyle)&&(F.cursorOptions.downStyle=this.getCursorStyle(F.cursorOptions.downStyle)))),V.prototype.processConfig.call(this,F),this.processDelayedMap()},E.prototype.getCursorStyle=function(F){switch(F){case"grab":return MouseCursorStyle.grab;case"grabbing":return MouseCursorStyle.grabbing;case"pointer":return MouseCursorStyle.pointer;case"horizontalResize":return MouseCursorStyle.horizontalResize;case"verticalResize":return MouseCursorStyle.verticalResize;default:return MouseCursorStyle.default}},E.prototype.configOrder=function(F,R){return F==R?0:F=="tooltipColorSource"?1:R=="tooltipColorSource"?-1:V.prototype.configOrder.call(this,F,R)},Object.defineProperty(E.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:this._parent?this._parent.isHidden:!1},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(F){F=toBoolean(F),this.setShowOnInit(F)},enumerable:!0,configurable:!0}),E.prototype.setShowOnInit=function(F){this.setPropertyValue("showOnInit",F)&&(this.isTemplate||(F&&!this.inited&&!this.hidden?(this._showOnInitDisposer=new MultiDisposer([registry.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer)):this._showOnInitDisposer&&this._showOnInitDisposer.dispose()))},E.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},E.prototype.appear=function(){var F=this;if(this.appeared=!1,!this.hidden&&!this.isHidden&&this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var R=this.show();R&&!R.isFinished()?this.addDisposer(R.events.on("animationended",function(){F.appeared=!0,F.dispatch("appeared")})):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(E.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(F){F=toBoolean(F),this.setPropertyValue("hidden",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"plugins",{get:function(){var F=this;return this._plugins||(this._plugins=new List,this._disposers.push(this._plugins.events.on("inserted",function(R){R.newValue.target=F,R.newValue.init()})),this._disposers.push(new ListDisposer(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),E.prototype._systemUpdate=function(F){this.validate()},E.prototype._systemCheckIfValidate=function(){return!0},E.prototype._systemValidatePositions=function(){this.validatePosition()},E.prototype._systemValidateLayouts=function(){},E}(BaseObjectEvents);registry.registeredClasses.Sprite=Sprite;var Rectangle=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Rectangle",F.element=F.paper.add("rect"),F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this._positionPrecision;this.pixelPerfect&&(F=0);var R=round$2(this.innerWidth,F),U=round$2(this.innerHeight,F);this.element.attr({width:R,height:U})},E.prototype.measureElement=function(){},Object.defineProperty(E.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),E}(Sprite);registry.registeredClasses.Rectangle=Rectangle;var Container=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._childrenByLayout=[],F._childrenDisposers=new Dictionary,F.hasFocused=!1,F.setStateOnSprites=[],F.layoutInvalid=!1,F._absoluteWidth=0,F._absoluteHeight=0,F._shouldBeReady=[],F._tapToActivate=!1,F.tapTimeout=3e3,F.className="Container",F._element=F.paper.addGroup("g"),F.group.add(F.element),F.setPropertyValue("pixelPerfect",!1),F.setPropertyValue("layout","absolute"),F.setPropertyValue("fixedWidthGrid",!1),F.setPropertyValue("verticalCenter","none"),F.setPropertyValue("horizontalCenter","none"),F._positionPrecision=4,F._disposers.push(new DictionaryDisposer(F._childrenDisposers)),F.children.events.on("inserted",F.handleChildAdded,F),F.children.events.on("removed",F.handleChildRemoved,F),F.applyTheme(),F}return E.prototype.handleChildAdded=function(F){this.processChild(F.newValue)},E.prototype.processChild=function(F){try{this._childrenDisposers.insertKey(F.uid,new MultiDisposer([F.events.on("transformed",this.handleChildTransform,this),F.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch{}if(this.element){var R=this.element;R.add(F.group)}F.parent=this,F.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:F}),this.invalidate()},E.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},E.prototype.handleChildRemoved=function(F){var R=F.oldValue;if(this._childrenDisposers.removeKey(R.uid),this.element){var U=this.element;U.removeElement(R.group)}R.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:R})},E.prototype.handleChildTransform=function(F){var R=F.target;R.isMeasured&&this.invalidateLayout()},E.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||(this.layoutInvalid=!0,registry.addToInvalidLayouts(this),system$1.requestFrame())},E.prototype.invalidate=function(){V.prototype.invalidate.call(this),this.invalidateLayout()},E.prototype.deepInvalidate=function(){V.prototype.invalidate.call(this),each$2(this._childrenByLayout,function(F){F instanceof E?F.deepInvalidate():F.invalidate()}),this.invalidateLayout()},Object.defineProperty(E.prototype,"children",{get:function(){return this._children||(this._children=new List),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(F){this.setPropertyValue("minWidth",F)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(F){this.setPropertyValue("minHeight",F)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),E.prototype.removeElement=function(){},E.prototype.sortChildren=function(){var F=this;if(this._childrenByLayout=[],this.layout=="none"||this.layout=="absolute"||!this.layout)this._childrenByLayout=this.children.values;else{var R=[],U=[];each(this.children.iterator(),function(W){F.layout=="horizontal"||F.layout=="grid"?isNumber$1(W.percentWidth)?U.push(W):R.push(W):F.layout=="vertical"&&isNumber$1(W.percentHeight)?U.push(W):R.push(W)}),this._childrenByLayout=R.concat(U)}this.calculateRelativeSize()},E.prototype.calculateRelativeSize=function(){var F=this,R=0,U=0;each$2(this._childrenByLayout,function(W){W.isMeasured&&(isNumber$1(W.percentWidth)&&(R+=W.percentWidth),isNumber$1(W.percentHeight)&&(U+=W.percentHeight))}),each$2(this._childrenByLayout,function(W){W.isMeasured&&(F.layout=="horizontal"&&(isNumber$1(W.percentWidth)&&(W.relativeWidth=W.percentWidth/R),isNumber$1(W.percentHeight)&&(W.relativeHeight=W.percentHeight/100)),F.layout=="vertical"&&(isNumber$1(W.percentHeight)&&(W.relativeHeight=W.percentHeight/U),isNumber$1(W.percentWidth)&&(W.relativeWidth=W.percentWidth/100)),F.layout=="grid"&&(isNumber$1(W.percentHeight)&&(W.relativeHeight=W.percentHeight/100),isNumber$1(W.percentWidth)&&(W.relativeWidth=W.percentWidth/100))),(F.layout=="absolute"||!W.isMeasured)&&(isNumber$1(W.percentWidth)&&(W.relativeWidth=W.percentWidth/100),isNumber$1(W.percentHeight)&&(W.relativeHeight=W.percentHeight/100))})},E.prototype.addChildren=function(){if(this.element){var F=copy$2(this.children.values),R=F.map(function(X,K){return{idx:K,data:X}});R.sort(function(X,K){var Z=X.data.zIndex||0,J=K.data.zIndex||0;return Z<J?-1:Z>J?1:X.idx-K.idx}),F=R.map(function(X){return X.data});var U=this.element,W=!0;if(U.node&&U.node.childNodes){for(var Y=0,G=U.node.childNodes.length;Y<G;Y++)if(U.node.childNodes[Y]!=F[Y].group.node){W=!1;break}}W||(each$2(F,function(X){X.group&&U.add(X.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},E.prototype.createChild=function(F){var R=new F;return R.parent=this,R},E.prototype.removeChildren=function(){for(;this.children.length>0;){var F=this.children.getIndex(0);F.parent=void 0,this.children.removeValue(F)}},E.prototype.disposeChildren=function(){for(;this.children.length>0;){var F=this.children.getIndex(0);F.dispose(),this.children.removeValue(F)}},Object.defineProperty(E.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(F){this._background&&this.background!=F&&this.removeDispose(this._background),F&&(this._background=F,this._disposers.push(F),this.processBackground())},enumerable:!0,configurable:!0}),E.prototype.handleGlobalScale=function(){V.prototype.handleGlobalScale.call(this),this.children.each(function(F){F.handleGlobalScale()})},E.prototype.createBackground=function(){return new Rectangle},E.prototype.processBackground=function(){var F=this._background;F&&(F.isMeasured=!1,this._background.fill=new InterfaceColorSet().getFor("background"),F.parent=this,F.isMeasured=!1,this.children.removeValue(F),this._disposers.push(F),this.group.addToBack(this._background.group))},E.prototype.validateLayout=function(){var F=this;registry.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var R=0,U=0,W=!0;this.children&&(this.sortChildren(),each$2(this._childrenByLayout,function(Y){var G,X;if(isNumber$1(Y.relativeWidth)?(G=round$2(F._availableWidth*Y.relativeWidth,2),F.layout=="horizontal"&&(G-=Y.pixelMarginRight+Y.pixelMarginLeft)):F.layout=="horizontal"&&Y.invalid&&Y.validate(),isNumber$1(Y.relativeHeight)?(X=round$2(F._availableHeight*Y.relativeHeight,2),F.layout=="vertical"&&(X-=Y.pixelMarginTop+Y.pixelMarginBottom)):F.layout=="vertical"&&Y.invalid&&Y.validate(),Y.invalid==!1){if(isNumber$1(Y.relativeWidth)&&(Y.maxWidth=G),isNumber$1(Y.relativeHeight)&&(Y.maxHeight=X),Y.isMeasured){F.layout=="horizontal"&&(isNumber$1(Y.percentWidth)||Y.measuredWidth>0&&(F._availableWidth-=Y.measuredWidth+Y.pixelMarginLeft+Y.pixelMarginRight)),F.layout=="vertical"&&(isNumber$1(Y.percentHeight)||Y.measuredHeight>0&&(F._availableHeight-=Y.measuredHeight+Y.pixelMarginTop+Y.pixelMarginBottom));var K=Y.measuredWidth,Z=Y.measuredHeight;Y.align!="none"&&(K+=Y.pixelMarginLeft+Y.pixelMarginRight),Y.valign!="none"&&(Z+=Y.pixelMarginTop+Y.pixelMarginBottom),R=Math.max(R,K),U=Math.max(U,Z)}}else Y.isMeasured&&(isNumber$1(Y.relativeWidth)&&Y.maxWidth!=G&&(Y.maxWidth=G,W=!1),isNumber$1(Y.relativeHeight)&&Y.maxHeight!=X&&(Y.maxHeight=X,W=!1))})),this._absoluteWidth=R,this._absoluteHeight=U,W&&this.arrange()},E.prototype.arrange=function(){var F=this,R=this.children,U=0,W=0,Y=max$1(this.innerWidth,this._absoluteWidth),G=max$1(this.innerHeight,this._absoluteHeight),X,K,Z,J,Q=this.pixelPaddingLeft,ee=this.pixelPaddingRight,te=this.pixelPaddingTop,ie=this.pixelPaddingBottom,re=0,ne=0,ae=0,se=0,le=[],oe=[],ue,ce,he,me=this.maxWidth,Pe=this.maxHeight,we=this.minWidth,fe=this.minHeight,ye=copy$2(R.values);if(this.reverseOrder&&ye.reverse(),this.layout=="grid"){ce=me,ue=1;for(var _e=0,ve=ye.length;_e<ve;_e++){var ge=ye[_e];if(ge.isMeasured&&!ge.disabled&&!ge.__disabled){var be=ge.measuredWidth;be<ce&&(ce=be),be>ue&&(ue=be)}}ce=fitToRange(ce,1,me),ue=fitToRange(ue,1,me),this.fixedWidthGrid?he=me/ue:he=me/ce,he=max$1(1,Math.floor(he)),he=min$1(this.maxColumns,he),le=this.getColumnWidth(ye,he,ue)}for(var xe,Se,De,Ae,_e=0,ve=ye.length;_e<ve;_e++){var ge=ye[_e];if(ge.isMeasured&&!ge.disabled&&!ge.__disabled){var Te=void 0,Fe=void 0,Oe=ge.pixelMarginLeft,ke=ge.pixelMarginRight,Ee=ge.pixelMarginTop,Ve=ge.pixelMarginBottom,Be=ge.measuredWidth,He=ge.measuredHeight,Ne=void 0,Ye=void 0,Ke=void 0,Je=void 0;switch(this.layout){case"none":break;case"absolute":switch(ge.align){case"left":Te=Oe-ge.maxLeft;break;case"center":Te=(Y-Be)/2-ge.maxLeft;break;case"right":Te=Y-ke-ge.maxRight;break;default:ge.x instanceof Percent||(Te=ge.pixelX);break}switch(ge.valign){case"top":Fe=Ee-ge.maxTop;break;case"middle":Fe=(G-He)/2-ge.maxTop;break;case"bottom":Fe=G-Ve-ge.maxBottom;break;default:ge.y instanceof Percent||(Fe=ge.pixelY);break}break;case"vertical":switch(ge.align){case"left":Te=Oe-ge.maxLeft;break;case"center":Te=(Y-Be)/2-ge.maxLeft;break;case"right":Te=Y-ke-ge.maxRight;break;default:Te=ge.pixelX;break}Fe=ne+Ee-ge.maxTop,ne=Fe+ge.maxBottom+Ve;break;case"horizontal":switch(ge.valign){case"top":Fe=Ee-ge.maxTop;break;case"middle":Fe=(G-He)/2-ge.maxTop;break;case"bottom":Fe=G-Ve-ge.maxBottom;break;default:Fe=ge.pixelY;break}Te=re+Oe-ge.maxLeft,re=Te+ge.maxRight+ke;break;case"grid":switch(Te=re+Oe-ge.maxLeft,ge.valign){case"top":Fe=ne+Ee-ge.maxTop;break;case"middle":Fe=ne+(G-He)/2-ge.maxTop;break;case"bottom":Fe=ne+G-Ve-ge.maxBottom;break;default:Fe=ne-ge.maxTop;break}re+=le[se],oe[ae]=max$1(oe[ae],He),se++;var dt=le[se];if(isNumber$1(dt)||(dt=ue),re>min$1(this.innerWidth,me)-dt+1&&se<he){he=se,re=0,ne=0,ae=0,se=0,le=this.getColumnWidth(ye,he,ue),oe=[],_e=-1;continue}se>=he&&(se=0,ne+=oe[ae],ae++,re=0);break}this.layout!=="none"&&(ge.moveTo({x:Te,y:Fe}),Ne=Te+ge.maxLeft-Oe,Ye=Te+ge.maxRight+ke,Ke=Fe+ge.maxTop-Ee,Je=Fe+ge.maxBottom+Ve,(Ye>K||!isNumber$1(K))&&(K=Ye),(Ne<X||!isNumber$1(X))&&(X=Ne),(Ke<Z||!isNumber$1(Z))&&(Z=Ke),(Je>J||!isNumber$1(J))&&(J=Je),(Ye>Se||!isNumber$1(Se))&&(Se=Ye),(Ne<xe||!isNumber$1(xe))&&(xe=Ne),(Ke<De||!isNumber$1(De))&&(De=Ke),(Je>Ae||!isNumber$1(Ae))&&(Ae=Ae))}else ge.validatePosition()}if(this.layout=="none"){var et=this.bbox;X=et.x,K=et.x+et.width,Z=et.y,J=et.y+et.height}isNumber$1(X)||(X=0,xe=0),isNumber$1(K)||(K=this._availableWidth,Se=K),isNumber$1(Z)||(Z=0,De=0),isNumber$1(J)||(J=this._availableHeight,Ae=J),isNumber$1(De)||(De=0),isNumber$1(Ae)||(Ae=De),isNumber$1(xe)||(xe=0),isNumber$1(Se)||(Se=xe),U=K-X,W=J-Z,isNumber$1(this.relativeWidth)&&(U=me-Q-ee,X=0,K=U),isNumber$1(this.relativeHeight)&&(W=Pe-te-ie,Z=0,J=W),isNumber$1(this._pixelWidth)&&(X=0,U=this._pixelWidth-Q-ee),isNumber$1(we)&&U<we&&(X=0,U=this.minWidth-Q-ee),isNumber$1(this._pixelHeight)&&(Z=0,W=this._pixelHeight-te-ie),isNumber$1(fe)&&W<fe&&(Z=0,W=fe-te-ie);var st=Se-xe,nt=Ae-De;if(this.layout!="none"&&(this.contentAlign||this.contentValign)&&R.length>0){var at,tt,ot=U,lt=W;ot<st&&(ot=st),lt<nt&&(lt=nt),this.contentAlign=="center"&&(at=(ot-st)/2),this.contentAlign=="right"&&(at=ot-st),this.contentValign=="middle"&&(tt=(lt-nt)/2),this.contentValign=="bottom"&&(tt=lt-nt),isNumber$1(at)&&each(R.iterator(),function(Ge){var it=Ge.maxLeft,qe=at;F.layout=="horizontal"&&(Ge.x=Ge.pixelX+qe),F.layout=="grid"&&(Ge.x=Ge.pixelX+qe),F.layout=="vertical"&&(qe+=Ge.pixelMarginLeft,Ge.align=="none"&&(Ge.x=qe-it)),F.layout=="absolute"&&(qe+=Ge.pixelMarginLeft,Ge.align=="none"&&(Ge.x=qe-it))}),isNumber$1(tt)&&each(R.iterator(),function(Ge){var it=Ge.maxTop,qe=tt;F.layout=="horizontal"&&(qe+=Ge.pixelMarginTop,Ge.valign=="none"&&(Ge.y=qe-it)),F.layout=="grid"&&(qe+=Ge.pixelMarginTop,Ge.y=qe-it),F.layout=="vertical"&&(Ge.y=Ge.pixelY+qe),F.layout=="absolute"&&(qe+=Ge.pixelMarginTop,Ge.valign=="none"&&(Ge.y=qe-it))})}var ut=this.bbox;U=max$1(U,we),W=max$1(W,fe),this.contentWidth=U,this.contentHeight=W,U=min$1(U,me),W=min$1(W,Pe),this._bbox={x:X,y:Z,width:U,height:W};var ft=this.maxLeft,gt=this.maxTop,ct=this.maxBottom,vt=this.maxRight;if(this.measure(),(ft!=this.maxLeft||vt!=this.maxRight||gt!=this.maxTop||ct!=this.maxBottom)&&this.events.isEnabled("transformed")){var pt={type:"transformed",target:this};ut&&(pt.dummyData=ut.width+" "+U+"  "+ut.height+" "+W),this.events.dispatchImmediately("transformed",pt)}this.dispatchImmediately("layoutvalidated")},E.prototype.updateCenter=function(){V.prototype.updateCenter.call(this),this.updateBackground()},E.prototype.updateBackground=function(){var F=this._background;F&&(F.x=this.maxLeft,F.y=this.maxTop,F.width=this.maxRight-this.maxLeft,F.height=this.maxBottom-this.maxTop)},E.prototype.getColumnWidth=function(F,R,U){var W=this,Y=[],G=0;return each$2(F,function(X){X.isMeasured&&!X.disabled&&!X.__disabled&&(W.fixedWidthGrid?Y[G]=U:Y[G]=max$1(Y[G],X.measuredWidth+X.pixelMarginRight+X.pixelMarginLeft),G++,G==R&&(G=0))}),Y},Object.defineProperty(E.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(F){this.setPropertyValue("layout",F)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(F){this.setPropertyValue("contentValign",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(F){this.setPropertyValue("contentAlign",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(F){this.setPropertyValue("fixedWidthGrid",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(F){this.setPropertyValue("maxColumns",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(F){this.setPropertyValue("reverseOrder",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(F){this.setPropertyValue("setStateOnChildren",F,!0)},enumerable:!0,configurable:!0}),E.prototype.fitsToBounds=function(F){var R=F.x,U=F.y,W=.5;return R>=-W&&R<=this.pixelWidth+W&&U>=-W&&U<=this.pixelHeight+W},E.prototype.copyFrom=function(F){var R=this;V.prototype.copyFrom.call(this,F),this.layout=F.layout,this.setStateOnChildren=F.setStateOnChildren,F._background&&(this.background=F._background.clone(),this.background.copyFrom(F._background)),each(F.children.iterator(),function(U){if(U.shouldClone){var W=U.clone();W.parent=R}})},Object.defineProperty(E.prototype,"preloader",{get:function(){var F=this._preloader;if(F)return F;if(this.parent)return this.parent.preloader},set:function(F){this._preloader&&this.removeDispose(this._preloader),this._preloader=F,F&&(F.parent=this.tooltipContainer,this._disposers.push(F))},enumerable:!0,configurable:!0}),E.prototype.setPaper=function(F){var R=this,U=V.prototype.setPaper.call(this,F);return U&&(this._background&&(this._background.paper=F,this._background.topParent=this.topParent),this.children.each(function(W){W.setPaper(F),W.topParent=R.topParent})),U},E.prototype.removeFromInvalids=function(){V.prototype.removeFromInvalids.call(this),registry.removeFromInvalidLayouts(this)},E.prototype.setDataItem=function(F){this._dataItem!=F&&(each(this.children.iterator(),function(R){R.dataItem=F}),this._background&&(this._background.dataItem=F)),V.prototype.setDataItem.call(this,F)},E.prototype.measureElement=function(){this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||this.validateLayout()},Object.defineProperty(E.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(F){this.setPropertyValue("fontFamily",F,!0)&&(this.setSVGAttribute({"font-family":F}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(F){this.setPropertyValue("fontSize",F,!0)&&(this.setSVGAttribute({"font-size":F}),this.invalidateLabels())},enumerable:!0,configurable:!0}),E.prototype.invalidateLabels=function(){this.children.each(function(F){F.hardInvalidate?(F.hardInvalidate(),F.events.once("validated",F.handleValidate,F,!1)):F instanceof E&&F.invalidateLabels()})},Object.defineProperty(E.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(F){this.setPropertyValue("fontWeight",F),this.setSVGAttribute({"font-weight":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(F){this.setPropertyValue("textDecoration",F),this.setSVGAttribute({"text-decoration":F})},enumerable:!0,configurable:!0}),E.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),V.prototype.dispose.call(this)},E.prototype.setState=function(F,R,U){var W=F;return F instanceof SpriteState&&(W=F.name),this.setStateOnChildren&&each(this.children.iterator(),function(Y){Y.setState(W,R,U),W!="active"&&(Y.isActive=!1)}),this._background&&this._background.setState(W),this.setStateOnSprites.length&&each$2(this.setStateOnSprites,function(Y){Y.setState(W,R,U)}),V.prototype.setState.call(this,F,R,U)},E.prototype.setActive=function(F){V.prototype.setActive.call(this,F),this._background&&(this._background.isActive=F)},E.prototype.dispatchReady=function(){var F=this;if(!this.isReady()&&!this.isDisposed()){var R=!0;eachContinue(this.children.iterator(),function(U){return!U.__disabled&&!U.disabled&&!U.isReady()?(R=!1,!1):!0}),eachContinue$2(this._shouldBeReady,function(U){return!U.__disabled&&!U.disabled&&!U.isReady()?(R=!1,!1):!0}),R?V.prototype.dispatchReady.call(this):registry.events.once("exitframe",function(){F.dispatchReady(),system$1.requestFrame()},void 0,!1)}},E.prototype._systemUpdate=function(F){this.children.each(function(R){R.invalid&&(R._systemCheckIfValidate()?R.dataItem&&R.dataItem.component&&R.dataItem.component.dataInvalid?F.push(R):R.validate():F.push(R))}),V.prototype._systemUpdate.call(this,F)},E.prototype._systemValidatePositions=function(){this.children.each(function(F){F.positionInvalid&&F.validatePosition()}),V.prototype._systemValidatePositions.call(this)},E.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(E.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(F){this._tapToActivate!=F&&this.setTapToActivate(F)},enumerable:!0,configurable:!0}),E.prototype.setTapToActivate=function(F){var R=this;this._tapToActivate=F,this.interactions.isTouchProtected=F,F&&this.interactions.setEventDisposer("container-tapToActivate",F,function(){return new MultiDisposer([R.events.on("hit",R.handleTapToActivate,R,!1),R.events.on("down",R.initTapTimeout,R,!1),R.events.on("track",R.initTapTimeout,R,!1),getInteraction().body.events.on("down",function(U){getInteraction().isLocalElement(U.pointer,R.paper.svg,R.uid)||R.handleTapToActivateDeactivation()},R,!1)])}),getInteraction()},E.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},E.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},E.prototype.initTapTimeout=function(){var F=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){F.handleTapToActivateDeactivation()},this.tapTimeout))},E.prototype.moveHtmlContainer=function(F){var R=getElement(F);if(R){this.htmlContainer=R;var U=this.svgContainer;U.htmlElement=R,U.htmlElement.appendChild(U.SVGContainer),U.initSensor(),U.measure()}else isString$2(F)&&F!=""&&system$1.log("html container '"+F+"' not found")},E.prototype.hasLicense=function(){for(var F=0;F<options.licenses.length;F++)if(options.licenses[F].match(/^CH.{5,}/i))return!0;return!1},E}(Sprite);registry.registeredClasses.Container=Container;var System=function(){function V(){this._isPaused=!1,this.animations=[],this.uid=registry.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return V.prototype.reportTime=function(E,F){this.dummyCounter<6,F&&(this.time=Date.now())},V.prototype.update=function(){var E=this;if(!this._isPaused){this._frameRequested=!1;var F=Date.now();registry.dispatchImmediately("enterframe");var R=[];for(var U in registry.invalidDatas)if(hasKey(registry.invalidDatas,U)){for(var W=registry.invalidDatas[U];W.length>0;){var Y=W[0],G=Y.dataProvider;if(Y.isDisposed())remove(W,Y);else if(G&&G.dataInvalid)try{if(G.validateData(),G.dataValidationProgress<1)break}catch(J){remove(W,G),G.raiseCriticalError(J)}else try{if(Y.validateData(),Y.dataValidationProgress<1)break}catch(J){remove(W,Y),Y.raiseCriticalError(J)}}if(Date.now()-F>this.updateStepDuration)break}for(;registry.invalidRawDatas.length>0;){var Y=registry.invalidRawDatas[0];if(Y.isDisposed())remove(registry.invalidRawDatas,Y);else try{Y.validateRawData()}catch(Q){remove(registry.invalidRawDatas,Y),Y.raiseCriticalError(Q)}}for(;registry.invalidDataItems.length>0;){var Y=registry.invalidDataItems[0],G=Y.dataProvider;if(!(Y.isDisposed()||Y.dataInvalid||G&&G.dataInvalid))try{Y.validateDataItems()}catch(ee){remove(registry.invalidDataItems,Y),Y.raiseCriticalError(ee)}remove(registry.invalidDataItems,Y)}for(;registry.invalidDataRange.length>0;){var Y=registry.invalidDataRange[0],G=Y.dataProvider;if(!(Y.isDisposed()||Y.dataInvalid||G&&G.dataInvalid))try{Y.validateDataRange(),Y.skipRangeEvent||Y.dispatchImmediately("datarangechanged"),Y.skipRangeEvent=!1}catch(ee){remove(registry.invalidDataRange,Y),Y.raiseCriticalError(ee)}remove(registry.invalidDataRange,Y)}var X=[];each$1(registry.invalidLayouts,function(J){E.validateLayouts(J)}),each$1(registry.invalidPositions,function(J){E.validatePositions(J)});var K=!1;if(F=Date.now(),each$1(registry.invalidSprites,function(J,Q){for(var ee=0;Q.length>0;){if(E.validateLayouts(J),E.validatePositions(J),ee++,ee==5){if(Date.now()-F>E.updateStepDuration)break;ee=0}var te=Q[Q.length-1];if(te&&!te.isDisposed()){if(!te._systemCheckIfValidate())X.push(te);else if(!E.checkIfValidate2(te))X.push(te);else try{te._systemUpdate(X)}catch(ie){te.invalid=!1,remove(Q,te),te.raiseCriticalError(ie)}te.invalid=!1}remove(Q,te)}registry.invalidSprites[J]=registry.invalidSprites[J].concat(X)}),each$1(registry.invalidSprites,function(J,Q){Q.length>0&&(K=!0)}),each$1(registry.invalidDatas,function(J,Q){Q.length>0&&(K=!0)}),each$2(copy$2(this.animations),function(J){J.update()}),each$1(registry.invalidLayouts,function(J){E.validateLayouts(J)}),each$1(registry.invalidPositions,function(J){E.validatePositions(J)}),triggerIdle(),each$1(registry.invalidLayouts,function(J){E.validateLayouts(J)}),each$1(registry.invalidPositions,function(J){E.validatePositions(J)}),registry.dispatchImmediately("exitframe"),(K||this.animations.length>0||R.length>0)&&this.requestFrame(),this.updateStepDuration<200){var Z=!0;each$1(registry.invalidDatas,function(J,Q){Q.length>0&&(Z=!1)}),each$1(registry.invalidSprites,function(J,Q){Q.length>0&&(Z=!1)}),Z&&(this.updateStepDuration=200)}}},V.prototype.checkIfValidate2=function(E){return!(E.dataItem&&E.dataItem.component&&E.dataItem.component.dataInvalid&&!E.dataItem.component.isTemplate)},V.prototype.requestFrame=function(){var E=this;this._frameRequested||(raf(function(){E.update()}),this._frameRequested=!0)},V.prototype.softInvalidate=function(E){var F=this;E.children.each(function(R){R instanceof Container&&F.softInvalidate(R),R.measureFailed&&(is(R,"Label")?R.hardInvalidate():R.invalidate(),R.measureFailed=!1)})},V.prototype.validatePositions=function(E){for(var F=registry.invalidPositions[E];F.length>0;){var R=F[F.length-1];if(R.isDisposed())remove(F,R);else try{R._systemValidatePositions()}catch(U){R.positionInvalid=!1,remove(F,R),R.raiseCriticalError(U)}}},V.prototype.validateLayouts=function(E){for(var F=registry.invalidLayouts[E];F.length>0;){var R=F[F.length-1];if(R.isDisposed())remove(F,R);else try{R.children.each(function(U){U._systemValidateLayouts()}),R.validateLayout()}catch(U){R.layoutInvalid=!1,remove(F,R),R.raiseCriticalError(U)}}},V.prototype.log=function(E){log(E)},Object.defineProperty(V.prototype,"isPaused",{get:function(){return this._isPaused},set:function(E){this._isPaused=E,E||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),V.VERSION="4.10.38",V}(),system$1=new System,DataParser=function(){function V(){}return V.prototype.parse=function(E){return[]},Object.defineProperty(V.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),V.prototype.maybeToNumber=function(E,F){return this.options.numberFields.indexOf(E)!==-1?anyToNumber(F):F},Object.defineProperty(V.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),V.prototype.maybeToDate=function(E,F){return this.options.dateFields.indexOf(E)!==-1?this.options.dateFormatter.parse(F,this.dateFormat):F},V.prototype.maybeToEmpty=function(E){return(!hasValue(E)||E=="")&&hasValue(this.options.emptyAs)?this.options.emptyAs:E},Object.defineProperty(V.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new DateFormatter,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),V}(),separators=[",",";","	"],CSVParser=function(V){__extends(E,V);function E(){var F=V!==null&&V.apply(this,arguments)||this;return F.contentType="text/csv",F.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},F}return E.isCSV=function(F){return!!E.getDelimiterFromData(F)},E.getDelimiterFromData=function(F){var R=F.split(`
`),U=R.length,W;return each$2(separators,function(Y){for(var G=0,X=0,K=0;K<U;++K)if(G=R[K].split(Y).length,G>1){if(X===0)X=G;else if(G!=X){X=0;break}}else{X=0;break}X&&(W=Y)}),W},E.prototype.parse=function(F){this.options.delimiter||(this.options.delimiter=E.getDelimiterFromData(F));var R=this.CSVToArray(F,this.options.delimiter),U=hasValue(this.options.emptyAs),W=this.parsableNumbers,Y=this.parsableDates,G=[],X=[],K,Z;for(Z=0;Z<this.options.skipRows;Z++)R.shift();if(this.options.useColumnNames){X=R.shift();for(var J=0;J<X.length;J++)K=hasValue(X[J])?X[J].replace(/^\s+|\s+$/gm,""):"",K===""&&(K="col"+J),X[J]=K}for(var Q;Q=this.options.reverse?R.pop():R.shift(),!!Q;)if(!(this.options.skipEmpty&&Q.length===1&&Q[0]==="")){var ee={};for(Z=0;Z<Q.length;Z++)K=X[Z]===void 0?"col"+Z:X[Z],ee[K]=Q[Z]===""?this.options.emptyAs:Q[Z],U&&(ee[K]=this.maybeToEmpty(ee[K])),W&&(ee[K]=this.maybeToNumber(K,ee[K])),Y&&(ee[K]=this.maybeToDate(K,ee[K]));G.push(ee)}return G},E.prototype.CSVToArray=function(F,R){R=R||",";for(var U=new RegExp("(\\"+R+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+R+"\\r\\n]*))","gi"),W=[[]],Y=null;Y=U.exec(F),!!Y;){var G=Y[1];G.length&&G!==R&&W.push([]);var X=void 0;Y[2]?X=Y[2].replace(new RegExp('""',"g"),'"'):X=Y[3],W[W.length-1].push(X)}return W},E}(DataParser),JSONParser=function(V){__extends(E,V);function E(){var F=V!==null&&V.apply(this,arguments)||this;return F.contentType="application/json",F.options={},F}return E.isJSON=function(F){try{return JSON.parse(F),!0}catch{return!1}},E.prototype.parse=function(F){var R=this,U;try{hasValue(JSON)&&(U=JSON.parse(F))}catch{return}var W=hasValue(this.options.emptyAs),Y=this.parsableNumbers,G=this.parsableDates;if(Array.isArray(U)&&(Y||G||W))for(var X=function(J,Q){var ee=U[J];each$1(ee,function(te,ie){W&&(ee[te]=R.maybeToEmpty(ee[te])),Y&&(ee[te]=R.maybeToNumber(te,ee[te])),G&&(ee[te]=R.maybeToDate(te,ee[te]))})},K=0,Z=U.length;K<Z;K++)X(K,Z);return U},E}(DataParser),DataLoader=function(){function V(){this.adapter=new Adapter(this)}return V.prototype.load=function(E){var F=Array.isArray(E)?E:[E],R=map$1(F,function(U){return U.dispatchImmediately("started"),U.dispatchImmediately("loadstarted"),load(U.url,U,U.requestOptions)});Promise.all(R).then(function(U){each$2(U,function(W){var Y=W.target;Y.dispatchImmediately("loadended"),W.error?Y.events.isEnabled("error")&&Y.events.dispatchImmediately("error",{type:"error",code:W.xhr.status,message:Y.language.translate("Unable to load file: %1",null,Y.url),target:Y}):Y.processData(W.response,W.type),Y.dispatchImmediately("ended")})}).catch(function(U){U.target&&(U.target.dispatchImmediately("loadended"),U.target.events.isEnabled("error")&&U.target.events.dispatchImmediately("error",{type:"error",code:U.xhr.status,message:U.target.language.translate("Unable to load file: %1",null,U.target.url),target:U.target}),U.target.dispatchImmediately("ended"))})},V.prototype.getParserByType=function(E){var F=this.adapter.apply("getParserByType",{parser:null,type:E}).parser;if(F)return F;if(E=="csv"||E=="text/csv"||E=="application/vnd.ms-excel")return new CSVParser;if(E=="json"||E=="application/json")return new JSONParser},V.prototype.getParserByData=function(E,F){var R=this.adapter.apply("getParserByData",{parser:null,data:E,type:F}).parser;if(!R){if(R=this.getParserByType(F),R)return R;if(JSONParser.isJSON(E))return this.getParserByType("json");if(CSVParser.isCSV(E))return this.getParserByType("csv")}return R},V}(),dataLoader=new DataLoader,DataSource=function(V){__extends(E,V);function E(F,R){var U=V.call(this)||this;return U.adapter=new Adapter(U),U._requestOptions={},U._incremental=!1,U._incrementalParams={},U._keepCount=!1,U._updateCurrentData=!1,U.showPreloader=!0,U.className="DataSource",F&&(U.url=F),R&&(typeof R=="string"?U.parser=dataLoader.getParserByType(R):U.parser=R),U}return E.prototype.processData=function(F,R){if(this.dispatchImmediately("parsestarted"),!this.parser&&(this.parser=dataLoader.getParserByData(F,R),!this.parser)){if(this.events.isEnabled("parseerror")){var U={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",U)}this.dispatchImmediately("parseended");return}if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",F))),!hasValue(this.data)&&this.events.isEnabled("parseerror")){var W={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",W)}this.dispatchImmediately("parseended"),hasValue(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date},Object.defineProperty(E.prototype,"url",{get:function(){var F=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(F=this.addUrlParams(F,this.incrementalParams)),this.adapter.apply("url",F)},set:function(F){this._url=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(F){this._requestOptions=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"parser",{get:function(){return this._parser||(this._parser=new JSONParser),this.adapter.apply("parser",this._parser)},set:function(F){this._parser=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(F){var R=this;this._reloadFrequency!=F&&(this._reloadFrequency=F,F?hasValue(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",function(U){R._reloadTimeout=setTimeout(function(){R.load()},R.reloadFrequency)})):hasValue(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(F){this._incremental=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(F){this._incrementalParams=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(F){this._keepCount=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(F){this._updateCurrentData=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new Language,this.language)},set:function(F){this._language=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new DateFormatter,this.dateFormatter)},set:function(F){this._dateFormatter=F},enumerable:!0,configurable:!0}),E.prototype.timestampUrl=function(F){var R=new Date().getTime().toString(),U={};return U[R]="",this.addUrlParams(F,U)},E.prototype.dispose=function(){V.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),hasValue(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},E.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),dataLoader.load(this))},E.prototype.addUrlParams=function(F,R){var U=F.match(/\?/)?"&":"?",W=[];return each$1(R,function(Y,G){G!=""?W.push(Y+"="+encodeURIComponent(G)):W.push(Y)}),W.length?F+U+W.join("&"):F},E.prototype.processConfig=function(F){registry.registeredClasses.json=JSONParser,registry.registeredClasses.JSONParser=JSONParser,registry.registeredClasses.csv=CSVParser,registry.registeredClasses.CSVParser=CSVParser,V.prototype.processConfig.call(this,F)},E}(BaseObjectEvents),Responsive=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._rules=new List,F._appliedRules={},F._appliedTargets=[],F._useDefault=!0,F.adapter=new Adapter(F),F._enabled=!1,F._responsiveDisposers=[],F._noStates=[],F.className="Responsive",F.rules.events.on("inserted",function(){F.checkRules()},!0),F.rules.events.on("removed",function(){F.checkRules()},!0),F._disposers.push(F.rules.events),F.applyTheme(),F}return Object.defineProperty(E.prototype,"component",{get:function(){return this._component},set:function(F){var R=this;F!=this._component&&(this.disposeResponsiveHandlers(),this._component=F,this._responsiveDisposers.push(getValue(this.component).events.on("sizechanged",function(){R.checkRules()},this)),this._responsiveDisposers.push(getValue(this.component).events.once("datavalidated",function(){R._component.isReady()&&R.checkRules(!0)},this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(F){this._enabled!=F&&(this._enabled=F,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(F){this._useDefault!=F&&(this._useDefault=F,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(F){this._rules=F,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",defaultRules)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"allRules",{get:function(){var F=new List;return this.useDefault&&F.copyFrom(this.defaultRules),F.copyFrom(this.rules),this.adapter.apply("allRules",F)},enumerable:!0,configurable:!0}),E.prototype.isApplied=function(F){var R=this._appliedRules[F];return hasValue(R)?R:!1},E.prototype.checkRules=function(F){var R=this;F===void 0&&(F=!1);var U=this.allRules;if(!(!U||U.length==0)){var W=!1,Y=getValue(this.component);if(!(Y.pixelWidth==0||Y.pixelHeight==0)&&(each(U.iterator(),function(G){G.id||(G.id=registry.getUniqueId());var X=G.relevant(Y);(X&&!R.isApplied(G.id)||!X&&R.isApplied(G.id))&&(W=!0),R._appliedRules[G.id]=X}),F&&(W=!0),W)){if(!this.component.isReady()){Y.hidden=!0,Y.events.once("ready",function(G){G.target.show(0),R._applyRules()});return}this.dispatchImmediately("ruleschanged"),this._applyRules()}}},E.prototype._applyRules=function(){var F=this;this._timeout&&this._timeout.dispose(),this._timeout=this.setTimeout(function(){F.applyRules()},10)},E.prototype.applyRules=function(F){var R=this,U=hasValue(F)?F:getValue(this.component),W=!1;if(this.enabled){var Y=!1;each(this.allRules.iterator(),function(G){var X=R.getState(G,U);X&&(W||(indexOf(R._appliedTargets,U.uid)!==-1&&U.setState(R.getDefaultState(U),0),W=!0),R.isApplied(getValue(G.id))&&(X.transitionDuration=0,R.setTargetState(U,X),R.dispatchImmediately("ruleapplied",{rule:G}),Y=!0))}),Y?replace(this._appliedTargets,U.uid):remove(this._appliedTargets,U.uid)}U.children&&each(U.children.iterator(),function(G){R.applyRules(G)})},E.prototype.getState=function(F,R){var U="responsive-"+F.id,W=R.uid+"_"+U;if(indexOf(this._noStates,W)===-1){if(R.states.hasKey(U))return R.states.getKey(U);var Y=F.state(R,U);return Y||this._noStates.push(W),Y}},E.prototype.getDefaultState=function(F){return F.states.hasKey("responsive-default")?F.states.getKey("responsive-default"):F.states.create("responsive-default")},E.prototype.setTargetState=function(F,R){var U=this,W=this.getDefaultState(F);each$1(R.properties,function(Y,G){hasValue(W.properties[Y])||(W.properties[Y]=U.getValue(F,Y))}),F.setState(R)},E.prototype.getValue=function(F,R){var U=F.getPropertyValue(R);return!hasValue(U)&&hasValue(F[R])&&(U=F[R]),U},E.prototype.dispose=function(){this.disposeResponsiveHandlers(),V.prototype.dispose.call(this)},E.prototype.disposeResponsiveHandlers=function(){for(var F=this._responsiveDisposers.pop();F;)F.dispose(),F=this._responsiveDisposers.pop()},E}(BaseObjectEvents),defaultRules=new List;defaultRules.events.on("inserted",function(V){V.newValue.id=registry.getUniqueId()});var ResponsiveBreakpoints=function(){function V(){}return V.widthXXS=function(E){return E.pixelWidth<=V.XXS},V.widthXS=function(E){return E.pixelWidth<=V.XS},V.widthS=function(E){return E.pixelWidth<=V.S},V.widthM=function(E){return E.pixelWidth<=V.M},V.widthL=function(E){return E.pixelWidth<=V.L},V.widthXL=function(E){return E.pixelWidth<=V.XL},V.widthXXL=function(E){return E.pixelWidth<=V.XXL},V.heightXXS=function(E){return E.pixelHeight<=V.XXS},V.heightXS=function(E){return E.pixelHeight<=V.XS},V.heightS=function(E){return E.pixelHeight<=V.S},V.heightM=function(E){return E.pixelHeight<=V.M},V.heightL=function(E){return E.pixelHeight<=V.L},V.heightXL=function(E){return E.pixelHeight<=V.XL},V.heightXXL=function(E){return E.pixelHeight<=V.XXL},V.isXXS=function(E){return E.pixelWidth<=V.XXS&&E.pixelHeight<=V.XXS},V.isXS=function(E){return E.pixelWidth<=V.XS&&E.pixelHeight<=V.XS},V.isS=function(E){return E.pixelWidth<=V.S&&E.pixelHeight<=V.S},V.isM=function(E){return E.pixelWidth<=V.M&&E.pixelHeight<=V.M},V.isL=function(E){return E.pixelWidth<=V.L&&E.pixelHeight<=V.L},V.isXL=function(E){return E.pixelWidth<=V.XL&&E.pixelHeight<=V.XL},V.isXXL=function(E){return E.pixelWidth<=V.XXL&&E.pixelHeight<=V.XXL},V.maybeXXS=function(E){return E.pixelWidth<=V.XXS||E.pixelHeight<=V.XXS},V.maybeXS=function(E){return E.pixelWidth<=V.XS||E.pixelHeight<=V.XS},V.maybeS=function(E){return E.pixelWidth<=V.S||E.pixelHeight<=V.S},V.maybeM=function(E){return E.pixelWidth<=V.M||E.pixelHeight<=V.M},V.maybeL=function(E){return E.pixelWidth<=V.L||E.pixelHeight<=V.L},V.maybeXL=function(E){return E.pixelWidth<=V.XL||E.pixelHeight<=V.XL},V.maybeXXL=function(E){return E.pixelWidth<=V.XXL||E.pixelHeight<=V.XXL},V.XXS=100,V.XS=200,V.S=300,V.M=400,V.L=600,V.XL=800,V.XXL=1e3,V}(),DataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._disabled=!1,F.hasProperties=!1,F.values={},F.categories={},F.dates={},F.locations={},F.workingLocations={},F.properties={},F.sprites=[],F.isTemplate=!1,F._index=null,F._visible=!0,F._hidden=!1,F._ignoreMinMax=!1,F.hasChildren={},F.isHiding=!1,F._valueAnimations={},F._locationAnimations={},F.className="DataItem",F.applyTheme(),F}return Object.defineProperty(E.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Adapter(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"index",{get:function(){return this.component&&this._index!=null?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"visible",{get:function(){return this._hidden?!1:this._visible},set:function(F){F&&(this.hidden=!1),this._visible!=F&&this.setVisibility(F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hidden",{get:function(){return this._hidden},set:function(F){this._hidden!=F&&(this._hidden=F,F?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"__disabled",{get:function(){return this._disabled},set:function(F){this._disabled=F,each$2(this.sprites,function(R){R.__disabled=F})},enumerable:!0,configurable:!0}),E.prototype.setVisibility=function(F,R){if(each$2(this.sprites,function(W){F?W.visible=W.defaultState.properties.visible:W.hiddenState?W.visible=W.hiddenState.properties.visible:W.visible=!1}),this._visible=F,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var U={type:"visibilitychanged",target:this,visible:F};this.events.dispatchImmediately("visibilitychanged",U)}},E.prototype.show=function(F,R,U){var W=this;if(!this.hidden){this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer);var Y;return U&&each$2(U,function(G){Y=W.setWorkingValue(G,W.values[G].value,F,R)}),each$2(this.sprites,function(G){var X=G.show(F);X!=null&&!X.isFinished()&&(W._disposers.push(X),R!=null&&R>0&&X.delay(R))}),Y}},E.prototype.dispose=function(){V.prototype.dispose.call(this),each$2(this.sprites,function(F){F.dispose()}),this.sprites=[]},E.prototype.hide=function(F,R,U,W){var Y=this;if(this.isHiding=!0,each$2(this.sprites,function(X){var K=X.hide(F);K!=null&&!K.isFinished()&&(Y._disposers.push(K),R!=null&&R>0&&K.delay(R))}),isNumber$1(U)&&W){var G;if(each$2(W,function(X){var K=Y.setWorkingValue(X,U,F,R);K&&(G=K)}),G&&!G.isFinished())return this._hideDisposer=G.events.on("animationended",function(){Y.setVisibility(!1,!0),Y.isHiding=!1}),this._disposers.push(this._hideDisposer),G;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},E.prototype.getDuration=function(F){if(!isNumber$1(F)){var R=this.component;R&&(F=R.interpolationDuration)}if(F!=null)return this._adapterO?this._adapterO.apply("duration",F):F},E.prototype.getValue=function(F,R){if(F&&this.component){R||(R=this.component.dataFields[F+"Show"],R||(R="value"));var U=this.values[F][R];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:U,field:F}).value:U}},E.prototype.getWorkingValue=function(F){if(F&&this.component){var R=this.component.dataFields[F+"Show"];return R||(R="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[F][R],field:F}).workingValue:this.values[F][R]}},E.prototype.getActualWorkingValue=function(F){return this.values[F].workingValue},E.prototype.setValue=function(F,R,U,W){var Y=this.values[F].value,G=this.getDuration(U);if(R=toNumber(R),Y!==R){if(this.values[F].value=R,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var X={type:"valuechanged",target:this,property:F};this.events.dispatchImmediately("valuechanged",X)}this.component&&this.component.handleDataItemValueChange(this,F)}this.setWorkingValue(F,R,G,W)},E.prototype.setCalculatedValue=function(F,R,U){var W=this.values[F][U];if(W!==R&&isNumber$1(R)){if(this.values[F][U]=R,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var Y={type:"calculatedvaluechanged",target:this,property:F};this.events.dispatchImmediately("calculatedvaluechanged",Y)}this.component&&this.component.handleDataItemCalculatedValueChange(this,F)}},E.prototype.setWorkingValue=function(F,R,U,W){if(isNumber$1(this.values[F].value)){var Y=this.getDuration(U),G=this.values[F].workingValue;if(Y!=null&&Y>0&&isNumber$1(G)&&this.component)if(G!=R){var X=this.animate({childObject:this.values[F],property:"workingValue",from:G,to:R,dummyData:F},Y,this.component.interpolationEasing);return W!=null&&X.delay(W),X.events.on("animationstarted",this.handleInterpolationProgress,this),X.events.on("animationprogress",this.handleInterpolationProgress,this),X.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[F]=X,X}else{var K=this._valueAnimations[F];K&&K.stop(),this.values[F].workingValue=R}else{var K=this._valueAnimations[F];if(K&&K.stop(),this.values[F].workingValue=R,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var Z={type:"workingvaluechanged",target:this,property:F};this.events.dispatchImmediately("workingvaluechanged",Z)}this.component&&this.component.handleDataItemWorkingValueChange(this,F)}}},E.prototype.setLocation=function(F,R,U,W){var Y=this.locations[F];if(Y!==R){if(this.locations[F]=R,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var G={type:"locationchanged",target:this,property:F};this.events.dispatchImmediately("locationchanged",G)}this.component&&this.component.handleDataItemValueChange(this,F),this.setWorkingLocation(F,R,U,W)}},E.prototype.setWorkingLocation=function(F,R,U,W){var Y=this.getDuration(U),G=this.workingLocations[F];if(Y!=null&&Y>0&&isNumber$1(G)&&this.component)if(G!=R){var X=this.animate({childObject:this.workingLocations,property:F,from:G,to:R,dummyData:F},Y,this.component.interpolationEasing);return W!=null&&X.delay(W),X.events.on("animationstarted",this.handleInterpolationProgress,this),X.events.on("animationprogress",this.handleInterpolationProgress,this),X.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[F]=X,X}else{var K=this._locationAnimations[F];K&&K.stop(),this.workingLocations[F]=R}else{var K=this._locationAnimations[F];if(K&&K.stop(),this.workingLocations[F]=R,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var Z={type:"workinglocationchanged",target:this,property:F};this.events.dispatchImmediately("workinglocationchanged",Z)}this.component&&this.component.handleDataItemWorkingLocationChange(this,F)}},E.prototype.setDate=function(F,R,U){!isDate$1(R)&&this.component&&(R=this.component.dateFormatter.parse(R));var W=this.dates[F];W!==R&&(this.dates[F]=R,this.setValue(F,R.getTime(),U))},E.prototype.getDate=function(F){return this._adapterO?this._adapterO.apply("date",{date:this.dates[F],field:F}).date:this.dates[F]},E.prototype.setProperty=function(F,R){if(this.properties[F]!==R){if(this.hasProperties=!0,this.properties[F]=R,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var U={type:"propertychanged",target:this,property:F,value:R};this.events.dispatchImmediately("propertychanged",U)}this.component&&this.component.handleDataItemPropertyChange(this,F)}},E.prototype.setCategory=function(F,R){isString$2(R)||(R=castString(R)),this.categories[F]!==R&&(this.categories[F]=R)},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),F.dataContext&&(this.dataContext=copy$1(F.dataContext,{})),copyProperties(F.locations,this.locations),F._adapterO&&this.adapter.copyFrom(F._adapterO),this.component=F.component},Object.defineProperty(E.prototype,"opacity",{set:function(F){each$2(this.sprites,function(R){R.opacity=F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(F){if(this._ignoreMinMax=F,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var R={type:"propertychanged",target:this,property:"ignoreMinMax",value:F};this.events.dispatchImmediately("propertychanged",R)}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),E.prototype.animate=function(F,R,U){return new Animation(this,F,R,U).start()},E.prototype.handleInterpolationProgress=function(F){var R=F.target,U=R.animationOptions[0];if(U){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var W={type:"workingvaluechanged",target:this,property:U.dummyData};this.events.dispatchImmediately("workingvaluechanged",W)}this.component&&this.component.handleDataItemWorkingValueChange(this,U.dummyData)}},E.prototype.hasValue=function(F){for(var R=0,U=F.length;R<U;R++){var W=this.values[F[R]];if(!W||!hasValue(W.value))return!1}return!0},Object.defineProperty(E.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dataContext",{get:function(){return this._dataContext},set:function(F){this._dataContext=F},enumerable:!0,configurable:!0}),E.prototype.addSprite=function(F){F.dataItem&&F.dataItem!=this&&remove(F.dataItem.sprites,F),this.visible||F.hide(0),this.isHiding&&F.hide(),this.sprites.push(F),F.dataItem=this},E}(BaseObjectEvents),Component$1=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.dataFields={},F._dataSources={},F._parseDataFrom=0,F._dataDisposers=[],F._currentDataSetId="",F._start=0,F._end=1,F.skipRangeEvent=!1,F.rangeChangeDuration=0,F.rangeChangeEasing=cubicOut,F.parsingStepDuration=50,F.dataInvalid=!1,F.rawDataInvalid=!1,F.dataRangeInvalid=!1,F.dataItemsInvalid=!1,F.interpolationDuration=0,F.interpolationEasing=cubicOut,F.sequencedInterpolation=!0,F.sequencedInterpolationDelay=0,F.dataValidationProgress=0,F._addAllDataItems=!0,F._usesData=!0,F.className="Component",F.minZoomCount=1,F.maxZoomCount=0,F._dataItems=new OrderedListTemplate(F.createDataItem()),F._dataItems.events.on("inserted",F.handleDataItemAdded,F,!1),F._dataItems.events.on("removed",F.handleDataItemRemoved,F,!1),F._disposers.push(new ListDisposer(F._dataItems)),F._disposers.push(F._dataItems.template),F.invalidateData(),F.dataUsers.events.on("inserted",F.handleDataUserAdded,F,!1),F._disposers.push(new MultiDisposer(F._dataDisposers)),F._start=0,F._end=1,F.maxZoomDeclination=1,F.applyTheme(),F}return E.prototype.createDataItem=function(){return new DataItem},E.prototype.handleDataUserAdded=function(F){var R=F.newValue;R.dataProvider=this},E.prototype.handleDataItemValueChange=function(F,R){this.dataItemsInvalid||this.invalidateDataItems()},E.prototype.handleDataItemWorkingValueChange=function(F,R){},E.prototype.handleDataItemWorkingLocationChange=function(F,R){},E.prototype.handleDataItemCalculatedValueChange=function(F,R){},E.prototype.handleDataItemPropertyChange=function(F,R){},E.prototype.processDataItem=function(F,R){var U=this;if(F){R||(R={}),F.dataContext=R;var W=!1;each$1(this.dataFields,function(Y,G){var X=Y,K=R[G];if(U._adapterO&&U._adapterO.isEnabled("dataContextValue")&&(K=U._adapterO.apply("dataContextValue",{field:X,value:K,dataItem:F}).value),hasValue(K))if(W=!0,F.hasChildren[X]){var Z=U.createDataItem();Z.copyFrom(U.mainDataSet.template);var J=new OrderedListTemplate(Z);J.events.on("inserted",U.handleDataItemAdded,U,!1),J.events.on("removed",U.handleDataItemRemoved,U,!1),U._dataDisposers.push(new ListDisposer(J));for(var Q=K.length,ee=0;ee<Q;ee++){var te=K[ee],ie=J.create();ie.parent=F,U.processDataItem(ie,te)}var re=F;re[X]=J}else F[X]=K}),each$1(this.propertyFields,function(Y,G){var X=Y,K=R[G];hasValue(K)&&(W=!0,F.setProperty(X,K))}),!this._addAllDataItems&&!W&&this.mainDataSet.remove(F)}},E.prototype.updateDataItem=function(F){var R=this;if(F){var U=F.dataContext;each$1(this.dataFields,function(W,Y){var G=W,X=U[Y];if(R._adapterO&&(X=R._adapterO.apply("dataContextValue",{field:G,value:X,dataItem:F}).value),hasValue(X))if(F.hasChildren[G]){var K=F,Z=K[G];Z.each(function(J){R.updateDataItem(J)})}else F[G]=X}),each$1(this.propertyFields,function(W,Y){var G=W,X=U[Y];hasValue(X)&&F.setProperty(G,X)})}},E.prototype.validateDataElements=function(){for(var F=this.endIndex,R=this.startIndex;R<F;R++){var U=this.dataItems.getIndex(R);U&&this.validateDataElement(U)}},E.prototype.validate=function(){this.validateDataElements(),V.prototype.validate.call(this)},E.prototype.validateDataElement=function(F){},E.prototype.addData=function(F,R,U){var W=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),U||(F instanceof Array?each$2(F,function(Y){W.data.push(Y)}):this.data.push(F)),this.inited)this.removeData(R,U);else if(isNumber$1(R))for(;R>0;)this.data.shift(),R--;this.invalidateData()},E.prototype.removeData=function(F,R){if(isNumber$1(F)&&F>0){for(;F>0;){var U=this.mainDataSet.getIndex(0);U&&this.mainDataSet.remove(U),this.dataUsers.each(function(W){if(!W.data||W.data.length==0){var Y=W.mainDataSet.getIndex(0);Y&&W.mainDataSet.remove(Y)}}),R||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,F--}this.invalidateDataItems()}},E.prototype.invalidateData=function(){this.disabled||this.isTemplate||(registry.addToInvalidComponents(this),system$1.requestFrame(),this.dataInvalid=!0,each(this.dataUsers.iterator(),function(F){F.invalidateDataItems()}))},E.prototype.invalidateDataUsers=function(){each(this.dataUsers.iterator(),function(F){F.invalidate()})},E.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(move(registry.invalidDataItems,this),system$1.requestFrame(),this.dataItemsInvalid=!0,each(this.dataUsers.iterator(),function(F){F.invalidateDataItems()}))},E.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,move(registry.invalidDataRange,this),system$1.requestFrame())},E.prototype.validateDataRange=function(){remove(registry.invalidDataRange,this),this.dataRangeInvalid=!1,(this.startIndex!=this._prevStartIndex||this.endIndex!=this._prevEndIndex)&&(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},E.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},E.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},E.prototype.appendDataItems=function(){for(var F=this.endIndex,R=this.startIndex;R<F;R++){var U=this.dataItems.getIndex(R);U&&(U.__disabled=!1)}for(var R=0;R<this.startIndex;R++){var U=this.dataItems.getIndex(R);U&&(U.__disabled=!0)}for(var R=this.endIndex;R<this.dataItems.length;R++){var U=this.dataItems.getIndex(R);U&&(U.__disabled=!0)}},E.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(move(registry.invalidRawDatas,this),system$1.requestFrame(),this.rawDataInvalid=!0,each(this.dataUsers.iterator(),function(F){F.invalidateRawData()}))},E.prototype.validateRawData=function(){var F=this;remove(registry.invalidRawDatas,this),each(this.mainDataSet.iterator(),function(R){R&&F.updateDataItem(R)})},E.prototype.dispose=function(){var F=this;this.mainDataSet.template.clones.clear(),each$1(this._dataSources,function(R,U){F.removeDispose(U)}),this.disposeData(),V.prototype.dispose.call(this)},E.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),each$2(this._dataDisposers,function(F){F.dispose()}),each(this.dataUsers.iterator(),function(F){F.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},E.prototype.getDataItem=function(F){return this.mainDataSet.create()},E.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,registry.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var F=this.dataItem.dataContext;this._data=F[this.dataFields.data]}if(this._parseDataFrom===0&&this.data.length>0&&this.disposeData(),this.data.length>0){var R=this.preloader;each(this.dataUsers.iterator(),function(J){J._startIndex=void 0,J._endIndex=void 0});var U=0,W=Date.now(),Y=this._parseDataFrom,G=this.data.length,X=function(){var J=K.data[Y];if(K._usesData){var Q=K.getDataItem(J);K.processDataItem(Q,J)}if(K.dataUsers.each(function(te){if(te.data.length==0){var ie=te.getDataItem(J);te.processDataItem(ie,J)}}),U++,U==100){U=0;var ee=Date.now()-W;if(ee>K.parsingStepDuration&&Y<K.data.length-10)return K._parseDataFrom=Y+1,R&&(Y/K.data.length>.5&&!R.visible||(R.progress=Y/K.data.length)),K.dataValidationProgress=Y/K.data.length,Y=K.data.length,K.invalidateData(),{value:void 0}}},K=this;for(Y;Y<G;Y++){var Z=X();if(typeof Z=="object")return Z.value}R&&(R.progress=1),this.dataUsers.each(function(J){(J.hidden||J.appeared&&!J.visible&&J.stacked)&&J.hide(0)})}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},E.prototype.validateDataItems=function(){remove(registry.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(E.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(F){this.setData(F)},enumerable:!0,configurable:!0}),E.prototype.setData=function(F){this.isDisposed()||(this._parseDataFrom=0,this.disposeData(),this._data=F,F&&F.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated")))},E.prototype.getDataSource=function(F){var R=this;return hasValue(this._dataSources[F])||(this._dataSources[F]=new DataSource,this._dataSources[F].component=this,this.setDataSourceEvents(this._dataSources[F],F),this._dataSources[F].adapter.add("dateFields",function(U){return R.dataSourceDateFields(U)}),this._dataSources[F].adapter.add("numberFields",function(U){return R.dataSourceNumberFields(U)}),this.events.on("inited",function(){R.loadData(F)},this,!1)),this._dataSources[F]},Object.defineProperty(E.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(F){var R=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=F,this._dataSources.data.component=this,this.events.on("inited",function(){R.loadData("data")},this,!1),this.setDataSourceEvents(F,"data")},enumerable:!0,configurable:!0}),E.prototype.loadData=function(F){this._dataSources[F].load()},E.prototype.dataSourceDateFields=function(F){return F},E.prototype.dataSourceNumberFields=function(F){return F},E.prototype.populateDataSourceFields=function(F,R,U){return each$2(U,function(W){R[W]&&indexOf(F,R[W])===-1&&F.push(R[W])}),F},E.prototype.setDataSourceEvents=function(F,R){var U=this;F.events.on("started",function(W){var Y=U.preloader;Y&&(Y.progress=0)},void 0,!1),F.events.on("loadstarted",function(W){var Y=U.preloader;Y&&(Y.progress=.25)},void 0,!1),F.events.on("loadended",function(W){var Y=U.preloader;Y&&(Y.progress=.5)},void 0,!1),F.events.on("parseended",function(W){var Y=U.preloader;Y&&(Y.progress=.75)},void 0,!1),F.events.on("ended",function(W){var Y=U.preloader;Y&&(Y.progress=1)},void 0,!1),F.events.on("error",function(W){var Y=U.preloader;Y&&(Y.progress=1),U.openModal(W.message)},void 0,!1),R&&F.events.on("done",function(W){var Y=U.preloader;Y&&(Y.progress=1),R=="data"&&!isArray$2(W.data)&&(W.data=[W.data]),F.incremental&&R=="data"&&U.data.length?U.addData(W.data,F.keepCount?W.data.length:0):F.updateCurrentData&&R=="data"&&U.data.length?(each$2(U.data,function(G,X){hasValue(W.data[X])&&each$1(G,function(K,Z){hasValue(W.data[X][K])&&(G[K]=W.data[X][K])})}),U.invalidateRawData()):U[R]=W.data})},Object.defineProperty(E.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new Responsive,this._responsive.component=this),this._responsive},set:function(F){this._responsive=F,this._responsive.component=this},enumerable:!0,configurable:!0}),E.prototype.zoom=function(F,R,U,W){var Y=this;R===void 0&&(R=!1),U===void 0&&(U=!1);var G=F.start,X=F.end,K=F.priority;if(F.start==F.end&&(F.start=F.start-.5/this.maxZoomFactor,F.end=F.end+.5/this.maxZoomFactor),K=="end"&&X==1&&G!=0&&G<this.start&&(K="start"),K=="start"&&G==0&&X>this.end&&(K="end"),isNumber$1(W)||(W=this.maxZoomDeclination),!isNumber$1(G)||!isNumber$1(X))return{start:this.start,end:this.end};if(this._finalStart!=G||this._finalEnd!=X){var Z=this.maxZoomFactor/this.minZoomCount,J=this.maxZoomFactor/this.maxZoomCount;if(K=="start"?(this.maxZoomCount>0&&1/(X-G)<J&&(X=G+1/J),1/(X-G)>Z&&(X=G+1/Z),X>1&&X-G<1/Z&&(G=X-1/Z)):(this.maxZoomCount>0&&1/(X-G)<J&&(G=X-1/J),1/(X-G)>Z&&(G<=0?X=G+1/Z:G=X-1/Z),G<0&&X-G<1/Z&&(X=G+1/Z)),G<-W&&(G=-W),1/(X-G)>Z&&(X=G+1/Z),X>1+W&&(X=1+W),1/(X-G)>Z&&(G=X-1/Z),this._finalEnd=X,this._finalStart=G,this.skipRangeEvent=R,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!U){var Q=this.rangeChangeAnimation;if(Q&&Q.progress<1){var ee=Q.animationOptions;if(ee.length>1){if(ee[0].to==G&&ee[1].to==X)return{start:G,end:X};Q.isDisposed()||Q.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),Q=this.animate([{property:"start",to:G},{property:"end",to:X}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=Q,Q&&!Q.isFinished()?Q.events.on("animationended",function(){Y.dispatchImmediately("rangechangeended")}):this.dispatchImmediately("rangechangeended")}else this.start=G,this.end=X,this.dispatch("rangechangeended")}return{start:G,end:X}},E.prototype.zoomToIndexes=function(F,R,U,W){if(!(!isNumber$1(F)||!isNumber$1(R))){var Y=F/this.dataItems.length,G=R/this.dataItems.length;this.zoom({start:Y,end:G},U,W)}},Object.defineProperty(E.prototype,"zoomFactor",{get:function(){return fitToRange(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(F){this.setPropertyValue("maxZoomFactor",F)&&(F==1&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(F){this.setPropertyValue("maxZoomDeclination",F)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startIndex",{get:function(){return isNumber$1(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(F){this._startIndex=fitToRange(Math.round(F),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),E.prototype.indexToPosition=function(F){return F/this.dataItems.length},Object.defineProperty(E.prototype,"endIndex",{get:function(){var F=this.dataItems.length;return(!isNumber$1(this._endIndex)||this._endIndex>F)&&(this._endIndex=F),this._endIndex},set:function(F){this._endIndex=fitToRange(Math.round(F),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(F){if(this._start!=F){this._start=F;var R=Math.max(0,Math.floor(this.dataItems.length*F)||0);this._startIndex=Math.min(R,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(F){this._end!=F&&(this._end=F,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*F)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),E.prototype.removeFromInvalids=function(){V.prototype.removeFromInvalids.call(this),registry.removeFromInvalidComponents(this),remove(registry.invalidDataItems,this),remove(registry.invalidDataRange,this),remove(registry.invalidRawDatas,this)},Object.defineProperty(E.prototype,"dataItems",{get:function(){if(this._currentDataSetId!=""){var F=this.dataSets.getKey(this._currentDataSetId);if(F)return F}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new Dictionary),this._dataSets},enumerable:!0,configurable:!0}),E.prototype.setDataSet=function(F){if(this._currentDataSetId!=F){var R=this.dataSets.getKey(F);if(R)return this.dataItems.each(function(U){U.__disabled=!0}),this._currentDataSetId=F,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(U){U.__disabled=!1}),!0;if(this._currentDataSetId!="")return this.dataItems.each(function(U){U.__disabled=!0}),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(U){U.__disabled=!1}),!0}return!1},Object.defineProperty(E.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),E.prototype._updateDataItemIndexes=function(F){for(var R=this.mainDataSet.values,U=R.length,W=F;W<U;++W)R[W]._index=W},E.prototype.handleDataItemAdded=function(F){F.newValue.component=this,this._updateDataItemIndexes(F.index),this.dataItemsInvalid||this.invalidateDataItems()},E.prototype.handleDataItemRemoved=function(F){this._updateDataItemIndexes(F.index),this.dataItemsInvalid||this.invalidateDataItems()},E.prototype.bindDataField=function(F,R){this.dataFields[F]=R,this.invalidateDataRange()},E.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},E.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(E.prototype,"dataUsers",{get:function(){var F=this;return this._dataUsers||(this._dataUsers=new List,this._disposers.push(new Disposer(function(){each(F._dataUsers.iterator(),function(R){R.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),E.prototype.clone=function(){var F=V.prototype.clone.call(this);return F.dataFields=copyProperties(this.dataFields,{}),F},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.data=F.data,this.sequencedInterpolation=F.sequencedInterpolation,this.sequencedInterpolationDelay=F.sequencedInterpolationDelay,this.interpolationDuration=F.interpolationDuration,this.interpolationEasing=F.interpolationEasing},E.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},E.prototype.getExporting=function(){var F=V.prototype.getExporting.call(this);return F.adapter.has("data",this._exportData,-1,this)||(F.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",function(R){F.handleDataUpdated()})),F},E.prototype._exportData=function(F){return F.data=this.data,F},E.prototype.setDisabled=function(F){var R=V.prototype.setDisabled.call(this,F);return R&&this.invalidateData(),R},E.prototype.setShowOnInit=function(F){F!=this.getPropertyValue("showOnInit")&&(F&&!this.inited&&!this.hidden?(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2)):this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2)),V.prototype.setShowOnInit.call(this,F)},E.prototype.setBaseId=function(F){F!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,registry.removeFromInvalidComponents(this),this._baseId=F,this.invalidateData()),V.prototype.setBaseId.call(this,F)},Object.defineProperty(E.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(F){this.setPropertyValue("minZoomCount",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(F){this.setPropertyValue("maxZoomCount",F)},enumerable:!0,configurable:!0}),E.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},E.prototype.asFunction=function(F){return F=="interpolationEasing"||F=="rangeChangeEasing"||V.prototype.asIs.call(this,F)},E}(Container);registry.registeredClasses.Component=Component$1;var Label=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.isOversized=!1,F.className="Label",F.fill=new InterfaceColorSet().getFor("text"),F.wrap=!1,F.truncate=!1,F.fullWords=!0,F.ellipsis="\u2026",F.textAlign="start",F.textValign="top",F.layout="absolute",F.baseLineRatio=-.27,F._positionPrecision=1,F.events.on("maxsizechanged",function(){F.inited&&F.handleMaxSize()},F,!1),F.events.once("validated",F.handleValidate,F,!1),F.applyTheme(),F}return E.prototype.afterDraw=function(){V.prototype.afterDraw.call(this),this.validatePosition()},E.prototype.setPaper=function(F){var R=V.prototype.setPaper.call(this,F);return R&&this.hardInvalidate(),R},E.prototype.handleValidate=function(){(this.currentText||this.text)&&(this.bbox.width==0||this.bbox.height==0)&&registry.events.once("exitframe",this.hardInvalidate,this)},E.prototype.handleMaxSize=function(){(this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized)&&this.invalidate()},E.prototype.arrange=function(){},E.prototype.updateCurrentText=function(){var F,R;isNotEmpty(this.html)&&this.paper.supportsForeignObject()?(F="html",R=this.html):(F="svg",R=this.text),isObject$3(R)&&(R=R.toString()),hasValue(R)&&R!==""&&(R=this.populateString(R,this.dataItem)),F=="html"?this._adapterO&&(R=this._adapterO.apply("htmlOutput",R)):this._adapterO&&(R=this._adapterO.apply("textOutput",R));var U=R!=this.currentText||F!=this._currentFormat;return this.currentText=R,this._currentFormat=F,U},E.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},E.prototype.getLineBBox=function(F){var R=F&&F.element,U=R&&R.node;U&&U.parentNode&&(F.bbox=R.getBBox())},E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.bbox.width,R=this.bbox.height,U=this.topParent;if(U&&(!U.maxWidth||!U.maxHeight)){U.events.once("maxsizechanged",this.hardInvalidate,this,!1);return}var W=max$1(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),Y=max$1(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),G=Y+","+W+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(!(!this.updateCurrentText()&&this.inited&&this._prevStatus==G)){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var X=this._currentFormat,K=this.currentText;if(!hasValue(K)||K==""){this.element.attr({display:"none"});return}var Z=K.split(`
`);this._prevStatus=G,this.textAlign=this.textAlign;var J=this.group.getAttr("display");if(J=="none"&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),X==="svg"){this.element.removeAttr("display");var Q=this.element;this.resetBBox();for(var ee=0,te="",ie=0;ie<Z.length;ie++){var re=Z[ie];if(re==""){var ne=this.getSVGLineElement("",0);ne.add(this.getSvgElement(".",getTextFormatter().translateStyleShortcuts(te))),Q.add(ne);var ae=Math.ceil(ne.getBBox().height);ae>0&&(ee+=ae),Q.removeElement(ne);var se=this.getLineInfo(ie);se&&(se.text="",se.element.textContent="");continue}var le=getTextFormatter().chunk(re,null,this.ignoreFormatting),oe=0,ue=!0,ce=!1,he=this.getLineInfo(ie);he?(he.text="",he.element.textContent=""):(he={text:"",element:this.getSVGLineElement("",0),complex:!1},Q.add(he.element)),he.element.removeAttr("display"),he.element.removeChildren(),this.textPathElement&&he.element.add(this.textPathElement);for(var me=0;me<le.length;me++){me&&(he.complex=!0);var Pe=le[me];if(Pe.type==="format")te=Pe.text;else{if(ce)continue;if(he.text=Pe.text,he.style=getTextFormatter().translateStyleShortcuts(te),this.textPathElement?this.getSvgElement(he.text,he.style,this.textPathElement):this.getSvgElement(he.text,he.style,he.element),this.getLineBBox(he),he.bbox.width=Math.ceil(he.bbox.width),oe<he.bbox.height&&(oe=he.bbox.height),(this.wrap||this.truncate)&&he.bbox.width>W){this.isOversized=!0;var we=he.element.textContent,fe=he.bbox.width/we.length,ye=min$1(Math.ceil((he.bbox.width-W)/fe),we.length);if(this.truncate){var _e=!1,ve=he.element.node;if(ve&&ve.childNodes)for(var ge=he.element.node.childNodes.length-1;ge>=0;ge--){var be=he.element.node.childNodes[ge];if(_e&&he.bbox.width<=W&&(be.textContent+=" "+this.ellipsis,he.bbox=he.element.getBBox(),he.bbox.width=Math.floor(he.bbox.width),he.bbox.width<=W))break;_e=!1;var xe=be.textContent;for(we=he.element.textContent,ye=min$1(Math.ceil((he.bbox.width-W)/fe),we.length);he.bbox.width>W&&ye<=we.length&&ye>0;){var Se=max$1(we.length-ye-this.ellipsis.length,1);Se<=1&&(ye=0,ge>0&&(_e=!0,he.element.node.removeChild(be))),xe=truncateWithEllipsis(xe,Se,this.ellipsis,this.fullWords,this.rtl),xe.length>Se&&this.fullWords&&(xe=truncateWithEllipsis(xe,Se,this.ellipsis,!1,this.rtl)),be.textContent=xe,he.bbox=he.element.getBBox(),he.bbox.width=Math.floor(he.bbox.width),ye=Math.ceil(ye*1.1)}ce=!0}}else{var De=he.element.node;if(De){for(var Ae=he.element.node.lastChild,Te=void 0;he.bbox.width>W&&ye<=we.length&&ye>0;){var Se=max$1(Pe.text.length-ye,1);if(ue?Te=splitTextByCharCount(Pe.text,Se,!0,this.rtl):(Te=splitTextByCharCount(Pe.text,Se,!0,this.rtl,!1),(Te[0].length>Se||Se===1)&&(he.element.node.removeChild(Ae),ye=0)),ye>0){var Fe=Te.shift();ue&&(Fe=trim$1(Fe)),Ae.textContent=getTextFormatter().cleanUp(Fe)}he.bbox=he.element.getBBox(),he.bbox.width=Math.floor(he.bbox.width),ye++}if(Te.length>0){var Oe="";hasValue(Te)&&(this.rtl?Oe+=Te.join("")+te:Oe+=te+Te.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var ke=me+1;ke<le.length;ke++)le[ke].type=="value"?Oe+=le[ke].text.replace(/([\[\]]{1})/g,"$1$1"):Oe+=le[ke].text;Z.splice(ie+1,0,Oe)}ce=!0}}}this.bbox.width<he.bbox.width&&(this.bbox.width=he.bbox.width),this.bbox.height=ee+oe,this.textPathElement?he.element.attr({dy:-this.paddingBottom.toString()}):he.element.attr({x:"0",y:ee+oe,dy:round$2(this.baseLineRatio*oe,3).toString()}),ue=!1}}var Ee=he.element.node;if(Ee){var Ae=Ee.lastChild;Ae&&(Ae.textContent=this.rtl?ltrim(Ae.textContent):rtrim(Ae.textContent))}ee+=oe,this.addLineInfo(he,ie)}this.maybeHideOversized(),this.measureFailed=!1,(this.bbox.width==0||this.bbox.height==0)&&(this.measureFailed=!0),this._measuredWidth=round$2(max$1(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=round$2(max$1(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,(R!=this._measuredHeight||F!=this._measuredWidth)&&this.dispatch("transformed"),this.hideUnused(Z.length)}else{this.element.removeAttr("display"),this.resetBBox();var Q=this.element;Q.removeChildren(),this.setCache("lineInfo",[],0);var Ve=this.paper.foreignObject();Q.add(Ve),this.maxWidth&&Ve.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&Ve.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var Be=this.getHTMLLineElement(K);Ve.node.appendChild(Be),Be.style.display="inline-block";var He=Be.clientWidth,Ne=Be.clientHeight;Be.style.display="block",this._bbox={x:0,y:0,width:He,height:Ne},Ve.attr({width:He+1,height:Ne}),this.maybeHideOversized(),this._measuredWidth=max$1(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=max$1(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(Be.style.overflow="hidden"),(He>W||Ne>Y)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),J=="none"&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}},E.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},E.prototype.alignSVGText=function(){var F=this.element,R=F.node.children||F.node.childNodes;if(!(!R||R&&R.length==0)){var U=this._measuredWidth,W=this._measuredHeight;this.pixelPaddingLeft,this.pixelPaddingRight,this.pixelPaddingTop,this.pixelPaddingBottom,this.rtl?F.attr({direction:"rtl"}):F.removeAttr("direction");for(var Y=R.length-1;Y>=0;Y--){var G=R[Y];if(G.setAttribute("text-anchor",this.textAlign),this.textPathElement)G.removeAttribute("x"),G.removeAttribute("y");else{switch(this.textAlign){case"middle":G.setAttribute("x",(U/2).toString()+"px");break;case"end":this.rtl||G.setAttribute("x",U.toString());break;default:this.rtl?G.setAttribute("x",U.toString()):G.removeAttribute("text-anchor");break}var X=toNumber(G.getAttribute("y"));switch(this.textValign){case"middle":G.setAttribute("y",((X||0)+(W-this.bbox.height)/2).toString());break;case"bottom":G.setAttribute("y",((X||0)+W-this.bbox.height).toString());break;default:G.setAttribute("y",(X||0).toString());break}}}}},E.prototype.getSVGLineElement=function(F,R){var U=this.paper.addGroup("text");return U.textContent=F,U.attr({x:"0"}),hasValue(R)&&U.attr({y:R.toString()}),(this.truncate||this.wrap)&&U.attr({overflow:"hidden"}),U},Object.defineProperty(E.prototype,"rtl",{get:function(){return hasValue(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(F){F=toBoolean(F),this._rtl=F,this.element&&this.alignSVGText()},enumerable:!0,configurable:!0}),E.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},E.prototype.getHTMLLineElement=function(F){var R=document.createElement("div");switch(R.innerHTML=F,this.textAlign){case"middle":R.style.textAlign="center";break;case"end":R.style.textAlign="right";break}return this.wrap?R.style.wordWrap="break-word":R.style.whiteSpace="nowrap",this.rtl&&(R.style.direction="rtl"),hasValue(this.fill)&&(R.style.color=this.fill.toString()),R},E.prototype.setStyles=function(){var F=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?F.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(F.removeStyle("webkitUserSelect"),F.removeStyle("msUserSelect"))},E.prototype.hideUnused=function(F){this.initLineCache();var R=this.getCache("lineInfo");if(R.length>=F)for(var U=F;U<R.length;U++){var W=R[U];W&&W.element&&W.element.attr({display:"none"})}},Object.defineProperty(E.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(F){this.setPropertyValue("text",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(F){this.setPropertyValue("path",F,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:F}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(XLINK,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:F}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(F){this.setPropertyValue("locationOnPath",F),this.textPathElement&&this.textPathElement.attr({startOffset:F*100+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(F){this.setPropertyValue("baseLineRatio",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(F){this.resetBBox(),this.setPropertyValue("wrap",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(F){this.resetBBox(),this.setPropertyValue("truncate",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(F){this.setPropertyValue("fullWords",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(F){this.setPropertyValue("ellipsis",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(F){this.setPropertyValue("selectable",F,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(F){this.setPropertyValue("textAlign",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(F){this.setPropertyValue("textValign",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(F){if(this.setPropertyValue("html",F,!0),!hasValue(F)){var R=this.element;R.removeChildrenByTag("foreignObject")}},enumerable:!0,configurable:!0}),E.prototype.setFill=function(F){if(V.prototype.setFill.call(this,F),this.html)for(var R=this.element,U=R.node.getElementsByTagName("div"),W=0;W<U.length;W++){var Y=U[W];hasValue(this.fill)&&(Y.style.color=this.fill.toString())}},Object.defineProperty(E.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(F){this.setPropertyValue("hideOversized",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(F){this.setPropertyValue("ignoreFormatting",F,!0)},enumerable:!0,configurable:!0}),E.prototype.measureElement=function(){},E.prototype.getLineInfo=function(F){this.initLineCache();var R=this.getCache("lineInfo");return R.length>F?R[F]:void 0},E.prototype.addLineInfo=function(F,R){this.initLineCache(),this.getCache("lineInfo")[R]=F},E.prototype.initLineCache=function(){hasValue(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},E.prototype.setDataItem=function(F){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),F&&(this._sourceDataItemEvents=new MultiDisposer([F.events.on("valuechanged",this.invalidate,this,!1),F.events.on("workingvaluechanged",this.invalidate,this,!1),F.events.on("calculatedvaluechanged",this.invalidate,this,!1),F.events.on("propertychanged",this.invalidate,this,!1)])),V.prototype.setDataItem.call(this,F)},Object.defineProperty(E.prototype,"availableWidth",{get:function(){return hasValue(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"availableHeight",{get:function(){return hasValue(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),E.prototype.getSvgElement=function(F,R,U){var W=this.paper.add("tspan");return W.textContent=F,R&&W.node.setAttribute("style",R),U&&U.add(W),W},E.prototype.deepInvalidate=function(){V.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(E.prototype,"readerTitle",{get:function(){var F=this.getPropertyValue("readerTitle");return F?this.dataItem&&(F=this.populateString(F)):F=this.populateString(plainText(isNotEmpty(this.html)?this.html:this.text)),F},set:function(F){F=toText(F),this.setPropertyValue("readerTitle",F)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),E}(Container);registry.registeredClasses.Label=Label;defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(V,E){if(V instanceof Label&&V.parent&&V.parent.isBaseSprite){var F=V.states.create(E);return F.properties.disabled=!0,F}return null}});var RoundedRectangle=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="RoundedRectangle",F.element=F.paper.add("path"),F.cornerRadius(3,3,3,3),F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.innerWidth,R=this.innerHeight;if(isNumber$1(F)&&isNumber$1(R)){var U=min$1(F,R)/2,W=relativeToValue(this.cornerRadiusTopLeft,U),Y=relativeToValue(this.cornerRadiusTopRight,U),G=relativeToValue(this.cornerRadiusBottomRight,U),X=relativeToValue(this.cornerRadiusBottomLeft,U),K=min$1(Math.abs(F/2),Math.abs(R/2)),Z=fitToRange(W,0,K),J=fitToRange(Y,0,K),Q=fitToRange(G,0,K),ee=fitToRange(X,0,K),te="M"+Z+",0 L"+(F-J)+",0",ie=" L"+ee+","+R,re=" L0,"+Z,ne=" L"+F+","+(R-Q),ae=" a"+J+","+J+" 0 0 1 "+J+","+J,se=" a"+Q+","+Q+" 0 0 1 -"+Q+","+Q,le=" a"+ee+","+ee+" 0 0 1 -"+ee+",-"+ee,oe=" a"+Z+","+Z+" 0 0 1 "+Z+",-"+Z,ue=te+ae+ne+se+ie+le+re+oe+" Z";this.path=ue}},E.prototype.cornerRadius=function(F,R,U,W){this.cornerRadiusTopLeft=F,this.cornerRadiusTopRight=R,this.cornerRadiusBottomLeft=U,this.cornerRadiusBottomRight=W},Object.defineProperty(E.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(F){this.setPercentProperty("cornerRadiusTopLeft",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(F){this.setPercentProperty("cornerRadiusTopRight",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(F){this.setPercentProperty("cornerRadiusBottomRight",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(F){this.setPercentProperty("cornerRadiusBottomLeft",F,!0)},enumerable:!0,configurable:!0}),E.prototype.measureElement=function(){},Object.defineProperty(E.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),E}(Sprite);registry.registeredClasses.RoundedRectangle=RoundedRectangle;var Button=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="Button",F.tooltipY=0,F.iconPosition="left",F.layout="horizontal",F.contentAlign="center",F.contentValign="middle",F.padding(8,16,8,16),F.setStateOnChildren=!0;var R=new InterfaceColorSet,U=F.background;U.fill=R.getFor("secondaryButton"),U.stroke=R.getFor("secondaryButtonStroke"),U.fillOpacity=1,U.strokeOpacity=1,U.cornerRadius(3,3,3,3),F.label=new Label,F.label.fill=R.getFor("secondaryButtonText"),F.label.shouldClone=!1;var W=U.states.create("hover");W.properties.fillOpacity=1,W.properties.fill=R.getFor("secondaryButtonHover");var Y=U.states.create("down");return Y.transitionDuration=100,Y.properties.fill=R.getFor("secondaryButtonDown"),Y.properties.fillOpacity=1,F.role="button",F.focusable=!0,F.applyTheme(),F}return Object.defineProperty(E.prototype,"icon",{get:function(){return this._icon},set:function(F){var R=this._icon;R&&(R.parent=void 0),F&&(this._icon=F,F.parent=this,F.interactionsEnabled=!1,F.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(F))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(F){this.setPropertyValue("iconPosition",F),this.icon&&(F=="left"?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"label",{get:function(){return this._label},set:function(F){this._label&&this.removeDispose(this._label),this._label=F,F&&(F.parent=this,F.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),E.prototype.createBackground=function(){return new RoundedRectangle},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),F.label&&this.label.copyFrom(F.label),F.icon&&(this.icon=F.icon.clone())},E}(Container);registry.registeredClasses.Button=Button;var Circle=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Circle",F.element=F.paper.add("circle"),F.setPercentProperty("radius",percent(100)),F.setPropertyValue("horizontalCenter","middle"),F.setPropertyValue("verticalCenter","middle"),F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelRadius",{get:function(){return relativeToValue(this.radius,min$1(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),E.prototype.measureElement=function(){var F=this.pixelRadius;this._bbox={x:-F,y:-F,width:F*2,height:F*2}},E}(Sprite);registry.registeredClasses.Circle=Circle;var Ellipse=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Ellipse",F.element=F.paper.add("ellipse"),F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(E.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(F){this.height=F*2,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(F){this.width=F*2,this.invalidate()},enumerable:!0,configurable:!0}),E}(Circle);registry.registeredClasses.Ellipse=Ellipse;var Image$1=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Image",F.element=F.paper.add("image"),F.applyTheme(),F.width=50,F.height=50,F}return E.prototype.draw=function(){if(V.prototype.draw.call(this),this.href){var F=this.innerWidth,R=this.innerHeight;isNumber$1(this.widthRatio)&&(F=R*this.widthRatio,this.width=F),isNumber$1(this.heightRatio)&&(R=F*this.heightRatio,this.height=R),this.element.attr({width:F,height:R}),this.element.attrNS(XLINK,"xlink:href",this.href)}},Object.defineProperty(E.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(F){this.setPropertyValue("href",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(F){this.setPropertyValue("widthRatio",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(F){this.setPropertyValue("heightRatio",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),E}(Sprite);registry.registeredClasses.Image=Image$1;var Line=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Line",F.element=F.paper.add("line"),F.fill=color(),F.x1=0,F.y1=0,F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(E.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(F){isNumber$1(F)||(F=0);var R=0;this.pixelPerfect&&this.stroke instanceof LinearGradient&&(R=1e-5),this.setPropertyValue("x1",F,!0),this.element.attr({x1:F+R})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"x2",{get:function(){var F=this.getPropertyValue("x2");return isNumber$1(F)||(F=this.pixelWidth),F},set:function(F){isNumber$1(F)||(F=0),this.setPropertyValue("x2",F,!0),this.element.attr({x2:F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(F){isNumber$1(F)||(F=0);var R=0;this.pixelPerfect&&this.stroke instanceof LinearGradient&&(R=1e-5),this.setPropertyValue("y1",F,!0),this.element.attr({y1:F+R})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"y2",{get:function(){var F=this.getPropertyValue("y2");return isNumber$1(F)||(F=this.pixelHeight),F},set:function(F){isNumber$1(F)||(F=0),this.setPropertyValue("y2",F,!0),this.element.attr({y2:F})},enumerable:!0,configurable:!0}),E.prototype.positionToPoint=function(F){var R={x:this.x1,y:this.y1},U={x:this.x2,y:this.y2},W=getMidPoint(R,U,F),Y=getAngle(R,U);return{x:W.x,y:W.y,angle:Y}},E}(Sprite);registry.registeredClasses.Line=Line;var PointedShape=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PointedShape",F.pointerBaseWidth=15,F.pointerLength=10,F.pointerY=0,F.pointerX=0,F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this),isNumber$1(this.pointerX)||(this.pointerX=this.pixelWidth/2),isNumber$1(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(E.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(F){this.setPropertyValue("pointerBaseWidth",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(F){this.setPropertyValue("pointerLength",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(F){this.setPropertyValue("pointerX",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(F){this.setPropertyValue("pointerY",F,!0)},enumerable:!0,configurable:!0}),E}(Sprite),PointedRectangle=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PointedRectangle",F.element=F.paper.add("path"),F.cornerRadius=6,F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.cornerRadius,R=this.innerWidth,U=this.innerHeight;if(R>0&&U>0){var W=this.pointerX,Y=this.pointerY,G=this.pointerBaseWidth/2,X=min$1(R/2,U/2),K=fitToRange(F,0,X),Z=fitToRange(F,0,X),J=fitToRange(F,0,X),Q=fitToRange(F,0,X),ee=0,te=0,ie=R,re=0,ne=R,ae=U,se=0,le=U,oe=void 0,ue=void 0,ce=void 0,he=void 0,me=(W-ee)*(ae-te)-(Y-te)*(ne-ee),Pe=(W-se)*(re-le)-(Y-le)*(ie-se);if(me>0&&Pe>0){var we=fitToRange(W,K+G,R-G-Z);Y=fitToRange(Y,-1/0,0),oe="M"+K+",0 L"+(we-G)+",0 L"+W+","+Y+" L"+(we+G)+",0 L"+(R-Z)+",0"}else oe="M"+K+",0 L"+(R-Z)+",0";if(me<0&&Pe<0){var we=fitToRange(W,Q+G,R-G-J);Y=fitToRange(Y,U,1/0),ce=" L"+(R-J)+","+U+" L"+(we+G)+","+U+" L"+W+","+Y+" L"+(we-G)+","+U+" L"+Q+","+U}else ce=" L"+Q+","+U;if(me<0&&Pe>0){var fe=fitToRange(Y,K+G,U-Q-G);W=fitToRange(W,-1/0,0),he=" L0,"+(U-Q)+" L0,"+(fe+G)+" L"+W+","+Y+" L0,"+(fe-G)+" L0,"+K}else he=" L0,"+K;if(me>0&&Pe<0){var fe=fitToRange(Y,Z+G,U-G-J);W=fitToRange(W,R,1/0),ue=" L"+R+","+Z+" L"+R+","+(fe-G)+" L"+W+","+Y+" L"+R+","+(fe+G)+" L"+R+","+(U-J)}else ue=" L"+R+","+(U-J);var ye=" a"+Z+","+Z+" 0 0 1 "+Z+","+Z,_e=" a"+J+","+J+" 0 0 1 -"+J+","+J,ve=" a"+Q+","+Q+" 0 0 1 -"+Q+",-"+Q,ge=" a"+K+","+K+" 0 0 1 "+K+",-"+K;this.path=oe+ye+ue+_e+ce+ve+he+ge}},Object.defineProperty(E.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(F){this.setPropertyValue("cornerRadius",F,!0)},enumerable:!0,configurable:!0}),E}(PointedShape);function polyline(V){var E=lineTo(V[0]),F={x:0,y:0},R=options.minPolylineStep;isNumber$1(R)||(R=.5);for(var U=0,W=V.length;U<W;U++){var Y=V[U];getDistance(Y,F)>R&&(E+=lineTo(Y),F=Y)}return E}function moveTo(V){return" M"+round$2(V.x,4)+","+round$2(V.y,4)+" "}function lineTo(V){return" L"+round$2(V.x,4)+","+round$2(V.y,4)+" "}function quadraticCurveTo(V,E){return" Q"+round$2(E.x,4)+","+round$2(E.y,4)+" "+round$2(V.x,4)+","+round$2(V.y,4)}function cubicCurveTo(V,E,F){return" C"+round$2(E.x,4)+","+round$2(E.y,4)+" "+round$2(F.x,4)+","+round$2(F.y,4)+" "+round$2(V.x,4)+","+round$2(V.y,4)}function closePath(){return" Z"}function arcTo(V,E,F,R){if(E==0)return"";isNumber$1(R)||(R=F);var U="",W=",",Y=Math.ceil(Math.abs(E)/180),G=1;E<0&&(G=0);var X=0,K=0,Z=-cos(V)*F,J=-sin(V)*R;if(E<.5&&F>3e3){var Q=V+E,ee=round$2(cos(Q)*F,4),te=round$2(sin(Q)*R,4);return lineTo({x:ee,y:te})}for(var ie=0;ie<Y;ie++){var Q=V+E/Y*(ie+1),ee=round$2(cos(Q)*F+Z-X,4),te=round$2(sin(Q)*R+J-K,4);U+=" a"+F+W+R+W+0+W+0+W+G+W+ee+W+te,X=ee,K=te}return U}function arc(V,E,F,R,U,W,Y){if(E==0||(isNumber$1(R)||(R=0),F==0&&R<=0))return"";if(F<R){var G=F;F=R,R=G,isNumber$1(U)&&(U=U/R*F)}E=min$1(E,360),E==360&&(W=0,Y=0);var X=V+E,K=sin(min$1(E,45)/2);U=isNumber$1(U)?U:F,W=W||0,Y=isNumber$1(Y)?Y:W;var Z=U/F*R,J=U/F*W,Q=U/F*Y;W=fitToRange(W,0,(F-R)/2),J=fitToRange(J,0,(U-Z)/2),Y=fitToRange(Y,0,(F-R)/2),Q=fitToRange(Q,0,(U-Z)/2),W=round$2(fitToRange(W,0,F*K),4),J=round$2(fitToRange(J,0,U*K),4),Y=round$2(fitToRange(Y,0,R*K),4),Q=round$2(fitToRange(Q,0,Z*K),4);var ee=Math.asin(W/F/2)*DEGREES*2,te=Math.asin(J/U/2)*DEGREES*2;R<Y&&(R=Y),Z<Q&&(Z=Q);var ie=Math.asin(Y/R/2)*DEGREES*2,re=Math.asin(Q/Z/2)*DEGREES*2;isNumber$1(ie)||(ie=0),isNumber$1(re)||(re=0);var ne=V+E/2,ae={x:round$2(cos(ne)*R,4),y:sin(ne)*Z},se={x:cos(V)*(R+Y),y:sin(V)*(Z+Q)},le={x:cos(V)*(F-W),y:sin(V)*(U-J)},oe={x:cos(X)*(F-W),y:sin(X)*(U-J)},ue={x:cos(X)*(R+Y),y:sin(X)*(Z+Q)},ce={x:cos(V+ee)*F,y:sin(V+te)*U},he={x:cos(X-ie)*R,y:sin(X-re)*Z};Y+=Y*sin(ie/2),Q+=Q*sin(re/2),ie>(X-V)/2&&(he=ae);var me="";return E==360?me=moveTo(le):(me=moveTo(se),me+=lineTo(le),me+=arcToPoint(ce,W,J,!0)),me+=arcTo(V+ee,E-2*ee,F,U),isNumber$1(R)&&R!=0?(E==360&&W==0?me+=moveTo(ue):(me+=arcToPoint(oe,W,J,!0),me+=lineTo(ue),me+=arcToPoint(he,Y,Q,!0)),me+=arcTo(X-ie,-(E-2*ie),R,Z),(E<360||W>0)&&(me+=arcToPoint(se,Y,Q,!0)),me+=lineTo(se)):(me+=arcToPoint(oe,W,J,!0),E<360&&(me+=lineTo(se))),me}function arcToPoint(V,E,F,R,U,W){if(E==0)return"";W=W||0,U=Boolean(U),R=Boolean(R);var Y=",",G=+R,X=+U;return" A"+E+Y+F+Y+W+Y+X+Y+G+Y+round$2(V.x,4)+Y+round$2(V.y,4)}function rectangle(V,E,F,R){return isNumber$1(F)||(F=0),isNumber$1(R)||(R=0),moveTo({x:F,y:R})+lineTo({x:F+V,y:R})+lineTo({x:F+V,y:R+E})+lineTo({x:F,y:R+E})+closePath()}function rectToPath(V,E){var F=",",R=" L";return E?"M"+V.x+F+V.y+R+V.x+F+(V.y+V.height)+R+(V.x+V.width)+F+(V.y+V.height)+R+(V.x+V.width)+F+V.y+R+V.x+F+V.y:"M"+V.x+F+V.y+R+(V.x+V.width)+F+V.y+R+(V.x+V.width)+F+(V.y+V.height)+R+V.x+F+(V.y+V.height)+R+V.x+F+V.y}var Polyline=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._distance=0,F.className="Polyline",F.element=F.paper.add("path"),F.shapeRendering="auto",F.fill=color(),F.strokeOpacity=1,F.applyTheme(),F}return E.prototype.makePath=function(){this._distance=0;var F=this.segments;if(F&&F.length>0){for(var R="",U=0,W=F.length;U<W;U++){var Y=F[U];if(Y.length>0){R+=moveTo(Y[0]);for(var G=1;G<Y.length;G++){var X=Y[G];R+=lineTo(X),this._distance+=getDistance(Y[G-1],X)}}}this.path=R}this._realSegments=F},Object.defineProperty(E.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(F){this.setPropertyValue("segments",F),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),E.prototype.positionToPoint=function(F){var R=0;F<0&&(F=Math.abs(F),R=180);var U=this._realSegments;if(U){for(var W=this.distance,Y=0,G=void 0,X=0,K=0,Z=void 0,J=void 0,Q=0;Q<U.length;Q++){var ee=U[Q];if(ee.length>1){for(var te=1;te<ee.length;te++)if(Z=ee[te-1],J=ee[te],X=Y/W,G=getDistance(Z,J),Y+=G,K=Y/W,X<=F&&K>F){Q=U.length;break}}else ee.length==1&&(Z=ee[0],J=ee[0],X=0,K=1)}if(Z&&J){var ie=(F-X)/(K-X),re=getMidPoint(Z,J,ie);return{x:re.x,y:re.y,angle:R+getAngle(Z,J)}}}return{x:0,y:0,angle:0}},Object.defineProperty(E.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),E}(Sprite);registry.registeredClasses.Polyline=Polyline;var Polyarc=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Polyarc",F.controlPointDistance=.5,F.controlPointPosition=.5,F.applyTheme(),F}return E.prototype.makePath=function(){this._distance=0;var F=this.segments;if(F&&F.length>0){var R="";this._realSegments=[];for(var U=0,W=F.length;U<W;U++){var Y=F[U],G=[];if(this._realSegments.push(G),Y.length>0){R+=moveTo(Y[0]);for(var X=1;X<Y.length;X++){var K=Y[X-1],Z=Y[X],J=getDistance(Z,K),Q=J*this.controlPointDistance,ee=this.controlPointPosition,te=-getAngle(K,Z),ie=K.x+(Z.x-K.x)*ee*.5-Q*sin(te),re=K.y+(Z.y-K.y)*ee*.5-Q*cos(te),ne={x:ie,y:re},ae=K.x+(Z.x-K.x)*ee*1.5-Q*sin(te),se=K.y+(Z.y-K.y)*ee*1.5-Q*cos(te),le={x:ae,y:se};R+=cubicCurveTo(Z,ne,le);var oe=Math.ceil(J),ue=K;if(oe>0)for(var ce=0;ce<=oe;ce++){var he=getPointOnCubicCurve(K,Z,ne,le,ce/oe);G.push(he),this._distance+=getDistance(ue,he),ue=he}else G.push(K)}}}this.path=R}},Object.defineProperty(E.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(F){this.setPropertyValue("controlPointPosition",F),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(F){this.setPropertyValue("controlPointDistance",F),this.makePath()},enumerable:!0,configurable:!0}),E}(Polyline);registry.registeredClasses.Polyarc=Polyarc;var Morpher=function(V){__extends(E,V);function E(F){var R=V.call(this)||this;return R._bboxes=[],R.morphDuration=800,R.morphEasing=cubicOut,R.morphToSingle=!0,R.scaleRatio=1,R.className="Morpher",R.morphable=F,R.applyTheme(),R}return E.prototype.morphToPolygon=function(F,R,U){var W=this.morphable.currentPoints;if(W&&F){this.sortPoints(W),this.sortPoints(F),this._morphFromPointsReal=[],this._morphToPointsReal=[],hasValue(R)||(R=this.morphDuration),hasValue(U)||(U=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(F,W),this._morphToPointsReal=this.normalizePoints(W,F),this.morphable.currentPoints=this._morphFromPointsReal;var Y=new Animation(this,{property:"morphProgress",from:0,to:1},R,U);return this._disposers.push(Y),Y.start(),Y}},E.prototype.normalizePoints=function(F,R){for(var U=0,W=F.length;U<W;U++){var Y=F[U][0],G=F[U][1],X=getValue(getBBox(Y)),K=X.x+X.width,Z=X.y+X.height;if(R[U]||(R[U]=[]),Y&&!R[U][0]&&(R[U][0]=[{x:K,y:Z},{x:K,y:Z}]),R[U][0]){R[U][0]=this.addPoints(R[U][0],Y.length);for(var J=1/0,Q=0,ee=0;ee<R[U][0].length;ee++){var te=getDistance(R[U][0][ee],Y[0]);te<J&&(Q=ee,J=te)}var ie=R[U][0].slice(0,Q),re=R[U][0].slice(Q);R[U][0]=re.concat(ie)}G&&(R[U][1]||(R[U][1]=[{x:K,y:Z},{x:K,y:Z}]),R[U][1]=this.addPoints(R[U][1],G.length))}return R},E.prototype.sortPoints=function(F){F.sort(function(G,X){var K=getValue(getBBox(G[0])),Z=getValue(getBBox(X[0]));return K.width*K.height>Z.width*Z.height?-1:1});for(var R=[],U=0,W=F.length;U<W;U++){var Y=F[U][0];Y&&R.push(getValue(getBBox(Y)))}return getCommonRectangle(R)},E.prototype.morphToCircle=function(F,R,U){var W=this.morphable.points,Y=this.sortPoints(W);this._morphFromPointsReal=[],this._morphToPointsReal=[],hasValue(R)||(R=this.morphDuration),hasValue(U)||(U=this.morphEasing);for(var G=0,X=W.length;G<X;G++){var K=W[G][0],Z=W[G][1];if(this._morphFromPointsReal[G]=[],this._morphToPointsReal[G]=[],K){var J=K,Q=K,ee=getValue(getBBox(Q));this.morphToSingle&&(ee=getValue(Y));var te=ee.x+ee.width/2,ie=ee.y+ee.height/2,re=F;isNumber$1(re)||(re=Math.min(ee.width/2,ee.height/2)),J=[];var ne=getAngle({x:te,y:ie},K[0]),ae=100;K.length>ae&&(ae=K.length),Q=this.addPoints(K,ae),ae=Q.length;for(var se=360/(ae-1),le=0;le<ae;le++){var oe=se*le+ne,ue={x:te+re*cos(oe),y:ie+re*sin(oe)};J[le]=ue}if(Z&&Z.length>0)for(var ce=0,he=Z.length;ce<he;ce++)J.push({x:te,y:ie});this._morphFromPointsReal[G][0]=Q,this._morphToPointsReal[G][0]=J}}this.morphable.currentPoints=this._morphFromPointsReal;var me=new Animation(this,{property:"morphProgress",from:0,to:1},R,U);return this._disposers.push(me),me.start(),me},E.prototype.addPoints=function(F,R){for(var U=Math.round(R/F.length),W=[],Y=0,G=F.length;Y<G;Y++){var X=F[Y],K=void 0;Y==F.length-1?K=F[0]:K=F[Y+1],W.push(X);for(var Z=1;Z<U;Z++){var J=Z/U,Q={x:X.x+(K.x-X.x)*J,y:X.y+(K.y-X.y)*J};W.push(Q)}W.length+F.length-Y==R&&(U=0)}if(W.length<R&&F.length>0)for(var ee=F[F.length-1],Z=W.length;Z<R;Z++)W.push({x:ee.x,y:ee.y});return W},E.prototype.morphToRectangle=function(F,R,U,W){var Y=this.morphable.points;this.sortPoints(Y),this._morphFromPointsReal=[],this._morphToPointsReal=[],hasValue(U)||(U=this.morphDuration),hasValue(W)||(W=this.morphEasing);for(var G=0,X=Y.length;G<X;G++){var K=Y[G][0],Z=Y[G][1];if(this._morphFromPointsReal[G]=[],this._morphToPointsReal[G]=[],K){var J=K,Q=K,ee=this._bboxes[G];this.morphToSingle;var te=ee.x,ie=ee.y,re=F,ne=R;if(isNumber$1(re)||(re=ee.width),isNumber$1(ne)||(ne=ee.height),J=[{x:te,y:ie},{x:te+re,y:ie},{x:te+re,y:ie+ne},{x:te,y:ie+ne}],J=this.addPoints(J,K.length),K.length<4)for(var ae=K.length;ae<4;ae++)J.push({x:K[ae].x,y:K[ae].y});if(Z&&Z.length>0)for(var se=ee.x+ee.width/2,le=ee.y+ee.height/2,oe=0,ue=Z.length;oe<ue;oe++)J.push({x:se,y:le});this._morphFromPointsReal[G][0]=Q,this._morphToPointsReal[G][0]=J}}this.morphable.currentPoints=this._morphFromPointsReal;var ce=new Animation(this,{property:"morphProgress",from:0,to:1},U,W);return this._disposers.push(ce),ce.start(),ce},Object.defineProperty(E.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(F){this._morphProgress=F;var R=[];if(F!=null){var U=this._morphFromPointsReal,W=this._morphToPointsReal;if(U!=null&&W!=null)for(var Y=0,G=U.length;Y<G;Y++){var X=[];R.push(X);var K=U[Y][0],Z=U[Y][1],J=W[Y][0],Q=W[Y][1];if(K&&K.length>0&&J&&J.length>0){for(var ee=[],te=0,ie=K.length;te<ie;te++){var re=K[te],ne=J[te],ae={x:re.x+(ne.x*this.scaleRatio-re.x)*F,y:re.y+(ne.y*this.scaleRatio-re.y)*F};ee.push(ae)}X[0]=ee}if(Z&&Z.length>0&&Q&&Q.length>0){for(var se=[],le=0,oe=Z.length;le<oe;le++){var re=Z[le],ne=Q[le],ae={x:re.x+(ne.x*this.scaleRatio-re.x)*F,y:re.y+(ne.y*this.scaleRatio-re.y)*F};se.push(ae)}X[1]=se}}}this.morphable.currentPoints=R},enumerable:!0,configurable:!0}),E.prototype.morphBack=function(F,R){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,hasValue(F)||(F=this.morphDuration),hasValue(R)||(R=this.morphEasing);var U=new Animation(this,{property:"morphProgress",from:0,to:1},F,R);return this._disposers.push(U),U.start(),U},Object.defineProperty(E.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),E}(BaseObject),Polygon=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Polygon",F.element=F.paper.add("path"),F.shapeRendering="auto",F._currentPoints=[],F.applyTheme(),F}return Object.defineProperty(E.prototype,"points",{get:function(){var F=this.getPropertyValue("points"),R=this.path;if(R&&(!F||F.length==0)){for(var U=R.slice(1,R.length-1),W=U.split("ZM"),Y=0;Y<W.length;Y++){var G=W[Y];if(G.length>0){var X=G.split("M"),K=X[0],Z=X[1];if(K&&K.length>0){var J=K.split("L");if(J.length>0){var Q=[],ee=[Q];F.push(ee);for(var te=0;te<J.length;te++){var ie=J[te].split(",");Q.push({x:+ie[0],y:+ie[1]})}if(Z&&Z.length>0){var re=Z.split("L");if(re.length>0){var ne=[];ee.push(ne);for(var te=re.length-1;te>=0;te--){var ie=re[te].split(",");ne.push({x:+ie[0],y:+ie[1]})}}}}}}}this.setPropertyValue("points",F),this._currentPoints=F}return F},set:function(F){this.setPropertyValue("points",F,!0),this._currentPoints=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"currentPoints",{get:function(){return(!this._currentPoints||this._currentPoints.length==0)&&this.path&&(this._currentPoints=this.points),this._currentPoints},set:function(F){this._currentPoints!=F&&(this._currentPoints=F,this.draw())},enumerable:!0,configurable:!0}),E.prototype.draw=function(){var F="",R=this._currentPoints,U,W,Y,G;if(R.length>0){for(var X=0,K=R.length;X<K;X++){var Z=R[X][0],J=R[X][1];if(Z&&Z.length>0){var Q=Z[0];F+=moveTo(Q);for(var ee=0;ee<Z.length;ee++)Q=Z[ee],F+=lineTo(Q),(!isNumber$1(W)||W<Q.x)&&(W=Q.x),(!isNumber$1(U)||U>Q.x)&&(U=Q.x),(!isNumber$1(Y)||Y>Q.y)&&(Y=Q.y),(!isNumber$1(G)||G<Q.y)&&(G=Q.y)}if(J&&J.length>0){var Q=J[0];F+=moveTo(Q);for(var te=0,ie=J.length;te<ie;te++)Q=J[te],F+=lineTo(Q)}}F&&(F+=closePath()),this.bbox.x=U,this.bbox.y=Y,this.bbox.width=W-U,this.bbox.height=G-Y,V.prototype.setPath.call(this,F)}},E.prototype.setPath=function(F){return V.prototype.setPath.call(this,F)?(this.points=[],this._bbox=this.group.getBBox(),!0):!1},E.prototype.measureElement=function(){},Object.defineProperty(E.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new Morpher(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),E}(Sprite);registry.registeredClasses.Polygon=Polygon;var Polyspline=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Polyspline",F.tensionX=.5,F.tensionY=.5,F.applyTheme(),F}return E.prototype.makePath=function(){this._distance=0;var F=this.segments,R=this.tensionX,U=this.tensionY;if(this.allPoints=[],F&&F.length>0){var W="";this._realSegments=[];for(var Y=0,G=F.length;Y<G;Y++){var X=F[Y],K=[];if(this._realSegments.push(K),X.length>0){var Z=X[0],J=X[X.length-1],Q=!1;round$2(Z.x,3)==round$2(J.x)&&round$2(Z.y)==round$2(J.y)&&(Q=!0),W+=moveTo(X[0]);for(var ee=0;ee<X.length-1;ee++){var te=X[ee-1],ie=X[ee],re=X[ee+1],ne=X[ee+2];ee===0?te=X[ee]:ee==X.length-2&&(ne=X[ee+1]),ne||(ne=re),ee===0?Q?te=X[X.length-2]:te=X[Y]:ee==X.length-2&&(Q?ne=X[1]:ne=X[ee+1]);var ae=getCubicControlPointA(te,ie,re,ne,R,U),se=getCubicControlPointB(te,ie,re,ne,R,U);W+=cubicCurveTo(re,ae,se);var le=Math.ceil(getCubicCurveDistance(ie,re,ae,se,20))*1.2,oe=ie;if(le>0)for(var ue=0;ue<=le;ue++){var ce=getPointOnCubicCurve(ie,re,ae,se,ue/le);if(!(ce.x==oe.x&&ce.y==oe.y)){K.push(ce);var he=round$2(getAngle(oe,ce),5);this._distance+=getDistance(oe,ce),this.allPoints[Math.floor(this._distance)]={x:ce.x,y:ce.y,angle:he},oe=ce}}else K.push(te)}}var me=this.allPoints;if(me.length>1){for(var Pe=0;Pe<me.length;Pe++)if(!me[Pe]){if(Pe>1)me[Pe]=me[Pe-1];else for(var we=1;we<me.length;we++)if(me[we]){me[Pe]=me[we];break}}}}this.path=W}},E.prototype.getClosestPointIndex=function(F){var R=this.allPoints,U,W=1/0;if(R.length>1)for(var Y=1;Y<R.length;Y++){var G=getDistance(F,R[Y]);G<W&&(U=Y,W=G)}return U},Object.defineProperty(E.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(F){this.setPropertyValue("tensionX",F),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(F){this.setPropertyValue("tensionY",F,!0),this.makePath()},enumerable:!0,configurable:!0}),E.prototype.positionToPoint=function(F,R){var U=0,W=this.allPoints,Y=W.length;if(isNumber$1(F)||(F=0),Y>1){if(R&&Y>3){if(F<0){F<-.01&&(F=-.01);var G=W[0],X=W[1],K=G.x-(G.x-X.x)*Y*F,Z=G.y-(G.y-X.y)*Y*F;return{x:K,y:Z,angle:getAngle(G,X)}}else if(F>1){F>1.01&&(F=1.01);var G=W[W.length-2],X=W[W.length-3],K=G.x+(G.x-X.x)*Y*(F-1),Z=G.y+(G.y-X.y)*Y*(F-1);return{x:K,y:Z,angle:getAngle(G,{x:K,y:Z})}}else if(F==1){var J=W[W.length-1];return{x:J.x,y:J.y,angle:J.angle}}}else F<0&&(F=Math.abs(F),U=180),F>=1&&(F=.9999999999999);var Q=W[Math.floor(F*Y)];return{x:Q.x,y:Q.y,angle:Q.angle+U}}else if(Y==1){var Q=W[0];return{x:Q.x,y:Q.y,angle:Q.angle}}else return{x:0,y:0,angle:0}},E}(Polyline);registry.registeredClasses.Polyspline=Polyspline;var Slice=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Slice",F.setPropertyValue("cornerRadius",0),F.setPropertyValue("startAngle",0),F.setPercentProperty("innerRadius",0),F.setPercentProperty("radius",0),F.setPropertyValue("arc",0),F.setPropertyValue("shiftRadius",0),F.strokeOpacity=1,F.setPropertyValue("layout","none"),F.slice=F.createChild(Sprite),F.slice.isMeasured=!1,F._disposers.push(F.slice),F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.radiusY;this.radius>0&&F==0&&(F=.01),this.slice.path=arc(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,F,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof RadialGradient&&this.updateGradient(this.realFill),this.realStroke instanceof RadialGradient&&this.updateGradient(this.realStroke)},E.prototype.updateGradient=function(F){F.element.attr({gradientUnits:"userSpaceOnUse"}),F.element.attr({r:this.radius}),F.cx=0,F.cy=0,F.element.attr({radius:this.radius})},Object.defineProperty(E.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;if(this.isMeasured){var F=getArcRect(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),R=getArcRect(this.startAngle,this.startAngle+this.arc,this.radius);return getCommonRectangle([F,R])}else return{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(F){this.setPropertyValue("startAngle",normalizeAngle(F),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(F){isNumber$1(F)||(F=0),this.setPropertyValue("arc",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){var F=this.getPropertyValue("radius");return isNumber$1(F)||(F=0),F},set:function(F){this.setPropertyValue("radius",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radiusY",{get:function(){var F=this.getPropertyValue("radiusY");return isNumber$1(F)||(F=this.radius),F},set:function(F){this.setPropertyValue("radiusY",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelInnerRadius",{get:function(){return relativeToValue(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(F){this.setPropertyValue("cornerRadius",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(F){this.setPropertyValue("innerCornerRadius",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(F){this.setPropertyValue("shiftRadius",F),F=this.getPropertyValue("shiftRadius"),this.dx=F*this.radius*this.ix,this.dy=F*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"ix",{get:function(){return cos(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"iy",{get:function(){return sin(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),E.prototype.getTooltipX=function(){var F=this.getPropertyValue("tooltipX");if(isNumber$1(F))return F;var R=.5;F instanceof Percent&&(R=F.value);var U=relativeToValue(this.innerRadius,this.radius);return this.ix*(U+(this.radius-U)*R)},E.prototype.getTooltipY=function(){var F=this.getPropertyValue("tooltipY");if(isNumber$1(F))return F;var R=.5;F instanceof Percent&&(R=F.value);var U=relativeToValue(this.innerRadius,this.radius);return this.iy*(U+(this.radius-U)*R)+this.slice.dy},E}(Container);registry.registeredClasses.Slice=Slice;var Preloader=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="Preloader",F.width=percent(100),F.height=percent(100);var R=new InterfaceColorSet,U=F.createChild(Container);U.shouldClone=!1;var W=U.createChild(Slice);W.shouldClone=!1,W.radius=53,W.arc=360,W.fill=R.getFor("fill"),W.fillOpacity=.8,W.innerRadius=42,W.isMeasured=!1,F.backgroundSlice=W;var Y=U.createChild(Slice);Y.shouldClone=!1,Y.radius=50,Y.innerRadius=45,Y.fill=R.getFor("alternativeBackground"),Y.fillOpacity=.2,Y.isMeasured=!1,F.progressSlice=Y;var G=U.createChild(Label);G.shouldClone=!1,G.horizontalCenter="middle",G.verticalCenter="middle",G.isMeasured=!1,G.fill=R.getFor("text"),G.align="center",G.valign="middle",G.textAlign="middle",G.fillOpacity=.4,F.label=G,F.background.opacity=1,F.background.fill=R.getFor("background"),F.contentAlign="center",F.contentValign="middle",F.delay=300;var X=F.states.create("hidden");return X.properties.opacity=0,F.visible=!1,F.hide(0),F.__disabled=!0,F._disposers.push(F.backgroundSlice),F._disposers.push(F.progressSlice),F._disposers.push(F.label),F._disposers.push(U),F}return Object.defineProperty(E.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(F){var R=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",F),this.progressSlice.arc=360*F,this.label&&(this.label.text=Math.round(F*100)+"%"),F>=1?(this._started&&(this._started=void 0),registry.events.once("enterframe",function(){var U=R.hide();U&&!U.isFinished()?U.events.once("animationended",function(){R.__disabled=!0}):R.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):F>0&&(this.delay?this._started?this._started+this.delay<=new Date().getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=new Date().getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(F){this.setPropertyValue("delay",F)},enumerable:!0,configurable:!0}),E}(Container);registry.registeredClasses.Preloader=Preloader;var ResizeButton=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="ResizeButton",F.orientation="horizontal",F.layout="absolute",F.horizontalCenter="middle",F.verticalCenter="middle",F.draggable=!0,F.padding(8,8,8,8),F.background.cornerRadius(20,20,20,20);var R=new Sprite;R.element=F.paper.add("path");var U=moveTo({x:-2,y:-6});return U+=lineTo({x:-2,y:6}),U+=moveTo({x:2,y:-6}),U+=lineTo({x:2,y:6}),R.path=U,R.pixelPerfect=!0,R.padding(0,4,0,4),R.stroke=new InterfaceColorSet().getFor("alternativeText"),R.strokeOpacity=.7,F.icon=R,F.label.dispose(),F.label=void 0,F.applyTheme(),F}return Object.defineProperty(E.prototype,"orientation",{set:function(F){var R=this.icon;R&&(F=="horizontal"?R.rotation=0:R.rotation=-90)},enumerable:!0,configurable:!0}),E}(Button);registry.registeredClasses.ResizeButton=ResizeButton;var CloseButton=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="CloseButton",F.padding(8,8,8,8),F.showSystemTooltip=!0,F.width=30,F.height=30;var R=new InterfaceColorSet;F.cursorOverStyle=MouseCursorStyle.pointer;var U=F.background;U.cornerRadius(20,20,20,20);var W=R.getFor("background");U.fill=W,U.stroke=R.getFor("primaryButton"),U.strokeOpacity=1,U.strokeWidth=1;var Y=R.getFor("primaryButtonActive"),G=U.states.getKey("hover");G.properties.strokeWidth=3,G.properties.fill=W;var X=U.states.getKey("down");X.properties.stroke=Y,X.properties.fill=W;var K=new Sprite;return K.element=F.paper.add("path"),K.stroke=U.stroke,F.icon=K,F.applyTheme(),F}return E.prototype.validate=function(){V.prototype.validate.call(this);var F=this.pixelWidth/3,R=this.pixelHeight/3,U=moveTo({x:-F/2,y:-R/2});U+=lineTo({x:F/2,y:R/2}),U+=moveTo({x:F/2,y:-R/2}),U+=lineTo({x:-F/2,y:R/2}),this.icon.path=U,this.invalidateLayout()},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},E}(Button);registry.registeredClasses.CloseButton=CloseButton;var SwitchButton=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="SwitchButton",F.tooltipY=0,F.layout="horizontal",F.contentAlign="center",F.contentValign="middle",F.padding(8,16,8,16),F.setStateOnChildren=!0,F.states.create("active");var R=new InterfaceColorSet,U=new Label;U.fillOpacity=.3;var W=U.states.create("active");W.properties.fillOpacity=1,U.isActive=!0,F.leftLabel=U;var Y=new Button,G=new Circle;Y.contentValign="none",Y.padding(0,0,0,0),G.radius=10,Y.icon=G,Y.icon.valign="middle",Y.label=void 0;var X=percent(100);Y.background.cornerRadius(X,X,X,X),Y.width=G.radius*3.5,Y.height=G.radius*2.1,Y.marginLeft=8,Y.marginRight=8,Y.togglable=!0,G.dx=-G.radius*.7,G.fill=R.getFor("primaryButton");var K=G.states.create("hover");K.properties.fill=R.getFor("primaryButtonHover");var Z=G.states.create("active");Z.properties.fill=R.getFor("primaryButtonActive"),Z.properties.dx=G.radius*.7,F.switchButton=Y,F.events.on("toggled",function(){F.leftLabel.isActive=!F.isActive,F.rightLabel.isActive=F.isActive});var J=new Label;J.fillOpacity=.3;var Q=J.states.create("active");return Q.properties.fillOpacity=1,F.rightLabel=J,F.role="button",F.focusable=!0,J.valign="middle",U.valign="middle",Y.valign="middle",F.applyTheme(),F}return Object.defineProperty(E.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(F){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=F,F&&(F.parent=this,F.interactionsEnabled=!1,F.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(F){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=F,F&&(F.parent=this,F.interactionsEnabled=!1,F.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"switchButton",{get:function(){return this._switchButton},set:function(F){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=F,F&&(F.parent=this,F.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),F.leftLabel&&this.leftLabel.copyFrom(F.leftLabel),F.rightLabel&&this.rightLabel.copyFrom(F.rightLabel),F.switchButton&&this.switchButton.copyFrom(F.switchButton)},E}(Container);registry.registeredClasses.SwitchButton=SwitchButton;var Scrollbar=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._previousStart=0,F._previousEnd=1,F._prevStart=0,F._prevEnd=1,F._isBusy=!1,F._skipRangeEvents=!1,F.updateWhileMoving=!0,F.className="Scrollbar",F.minHeight=12,F.minWidth=12,F.animationDuration=0,F.animationEasing=cubicOut,F.margin(10,10,10,10);var R=new InterfaceColorSet,U=F.background;return U.cornerRadius(10,10,10,10),U.fill=R.getFor("fill"),U.fillOpacity=.5,F.showSystemTooltip=!0,F.startGrip=new ResizeButton,F.endGrip=new ResizeButton,F.events.on("transformed",function(){F.updateThumb()},F,!1),F.start=0,F.end=1,F.role="scrollbar",F.thumb.role="slider",F.thumb.readerLive="polite",F.startGrip.role="slider",F.endGrip.role="slider",F.events.once("inited",function(){F._previousStart=void 0,F.dispatchRangeChange()},void 0,!1),F.hideGrips=!1,F.orientation="horizontal",F.setSVGAttribute({"aria-valuemin":"0"}),F.setSVGAttribute({"aria-valuemax":"100"}),F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),this.orientation==="horizontal"?(hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),hasValue(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),hasValue(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),hasValue(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),hasValue(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),hasValue(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),hasValue(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},E.prototype.validateLayout=function(){this.updateSize(),V.prototype.validateLayout.call(this),this.updateExtremes()},E.prototype.processBackground=function(){V.prototype.processBackground.call(this);var F=this.background;F.clickable=!0,F.events.on("hit",this.handleBgHit,this,void 0)},E.prototype.handleBgHit=function(F){this.makeBusy();var R=F.spritePoint;R=spritePointToSprite(R,this.background,this);var U=this.thumb;if(this.orientation=="horizontal"){var W=R.x-U.pixelWidth/2;W=fitToRange(W,0,this.innerWidth-U.pixelWidth),this._thumbAnimation=U.animate({property:"x",to:W},this.animationDuration,this.animationEasing)}else{var Y=R.y-U.pixelHeight/2;Y=fitToRange(Y,0,this.innerHeight-U.pixelHeight),this._thumbAnimation=U.animate({property:"y",to:Y},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},E.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},E.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},E.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),this.animationDuration*1.1)},E.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},E.prototype.dispatchRangeChange=function(){(this._previousEnd!=this.end||this._previousStart!=this.start)&&(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},E.prototype.updateThumb=function(F){if(F===void 0&&(F=!0),!!this.parent){var R=this.thumb,U=this.start,W=this.end,Y=this.startGrip,G=this.endGrip,X=this.adapter.apply("positionValueDirection",{flipped:!1}).flipped,K=X?"To %1":"From %1",Z=X?"From %1":"To %1",J,Q;if(this.orientation=="horizontal"){var ee=this.innerWidth;R.width=ee*(W-U),R.maxX=ee-R.pixelWidth,R.x=U*ee,Y.moveTo({x:R.pixelX,y:0},void 0,void 0,!0),G.moveTo({x:R.pixelX+R.pixelWidth,y:0},void 0,void 0,!0),J=this.adapter.apply("positionValue",{value:Math.round(U*100)+"%",position:U}).value,Q=this.adapter.apply("positionValue",{value:Math.round(W*100)+"%",position:W}).value,Y.readerTitle=this.language.translate(K,void 0,J),Y.readerValueNow=""+Math.round(U*100),Y.readerValueText=Y.readerTitle,G.readerTitle=this.language.translate(Z,void 0,Q),G.readerValueNow=""+Math.round(W*100),G.readerValueText=G.readerTitle}else{var te=this.innerHeight;R.height=te*(W-U),R.maxY=te-R.pixelHeight,R.y=(1-W)*te,Y.moveTo({x:0,y:R.pixelY+R.pixelHeight},void 0,void 0,!0),G.moveTo({x:0,y:R.pixelY},void 0,void 0,!0),J=this.adapter.apply("positionValue",{value:Math.round((1-U)*100)+"%",position:1-U}).value,Q=this.adapter.apply("positionValue",{value:Math.round((1-W)*100)+"%",position:1-W}).value,Y.readerTitle=this.language.translate(Z,void 0,J),Y.readerValueNow=""+Math.round(U*100),Y.readerValueText=Y.readerTitle,G.readerTitle=this.language.translate(K,void 0,Q),G.readerValueNow=""+Math.round(W*100),G.readerValueText=G.readerTitle}R.readerTitle=this.language.translate("From %1 to %2",void 0,J,Q),R.readerValueNow=""+Math.round(U*100),R.readerValueText=R.readerTitle,this.readerValueNow=""+Math.round(U*100),this.readerValueText=R.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&F&&this.dispatchRangeChange()}},E.prototype.updateExtremes=function(){var F=this.orientation,R=0,U=0,W=0,Y=0;F=="horizontal"?(W=this.innerWidth,U=Y=this.innerHeight/2):(Y=this.innerHeight,R=W=this.innerWidth/2);var G=this.startGrip;G.minX=R,G.maxX=W,G.minY=U,G.maxY=Y;var X=this.endGrip;X.minX=R,X.maxX=W,X.minY=U,X.maxY=Y;var K=this.thumb;K.minX=R,K.maxX=W,K.minY=U,K.maxY=Y},E.prototype.updateSize=function(){var F=this.orientation,R=this.startGrip;R&&(R.orientation=F),this.endGrip&&(this.endGrip.orientation=F);var U=this.thumb;U&&(F=="horizontal"?(isNumber$1(this._pixelWidth)||this.width instanceof Percent||(this.width=percent(100)),hasValue(this.percentHeight)&&(this.height=this.minHeight),U.height=this.innerHeight,U.verticalCenter="middle",U.horizontalCenter="left"):(isNumber$1(this._pixelHeight)||this.height instanceof Percent||(this.height=percent(100)),hasValue(this.percentWidth)&&(this.width=this.minWidth),U.width=this.innerWidth,U.verticalCenter="top",U.horizontalCenter="middle"))},Object.defineProperty(E.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(F){this._isBusy||(this.__start=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"__start",{get:function(){return this._start},set:function(F){this._start=this.getPosition(F),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(F){this._isBusy||(this.__end=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"__end",{get:function(){return this._end},set:function(F){this._end=this.getPosition(F),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),E.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},E.prototype.fixRange=function(F){(F.start!=round$2(this._start,2)||F.end!=round$2(this._end,2))&&(this._start=F.start,this._end=F.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},E.prototype.getPosition=function(F){return fitToRange(round$2(F,4),0,1)},Object.defineProperty(E.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(F){this.setPropertyValue("orientation",F)&&(F==="horizontal"?(this.startGrip.cursorOverStyle=MouseCursorStyle.horizontalResize,this.endGrip.cursorOverStyle=MouseCursorStyle.horizontalResize):(this.startGrip.cursorOverStyle=MouseCursorStyle.verticalResize,this.endGrip.cursorOverStyle=MouseCursorStyle.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),E.prototype.updateByOrientation=function(){},Object.defineProperty(E.prototype,"startGrip",{get:function(){return this._startGrip},set:function(F){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=F,this.processGrip(F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endGrip",{get:function(){return this._endGrip},set:function(F){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=F,this.processGrip(F)},enumerable:!0,configurable:!0}),E.prototype.processGrip=function(F){F.parent=this,F.isMeasured=!1,F.focusable=!0,F.shouldClone=!1,F.zIndex=100,F.events.on("drag",this.handleGripDrag,this,!1),F.events.on("dragstop",this.makeUnbusy,this,!1),F.events.on("down",this.makeBusy,this,!1),F.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(F)},E.prototype.handleGripDrag=function(F){this.makeBusy(),F.target===this._startGrip?this._usingGrip="start":this._usingGrip="end",this.orientation=="horizontal"?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(E.prototype,"thumb",{get:function(){if(!this._thumb){var F=new Button;F.background.cornerRadius(10,10,10,10),F.padding(0,0,0,0),this.thumb=F}return this._thumb},set:function(F){var R=this;F&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=F,F.parent=this,F.isMeasured=!1,F.inert=!0,F.draggable=!0,F.clickable=!0,F.hoverable=!0,F.focusable=!0,F.shouldClone=!1,F.zIndex=0,F.cursorOverStyle=MouseCursorStyle.grab,F.cursorDownStyle=MouseCursorStyle.grabbing,F.events.on("dragstart",this.makeBusy,this,!1),F.events.on("dragstop",this.makeUnbusy,this,!1),F.events.on("positionchanged",this.handleThumbPosition,this,!1),F.events.on("sizechanged",this.handleThumbPosition,this,!1),F.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(getInteraction().body.events.on("keyup",function(U){keyboard.isKey(U.event,["space","enter"])&&R.thumb.isFocused&&(U.event.preventDefault(),R.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),E.prototype.handleDoubleClick=function(){this.makeBusy();var F=0,R=1;this.start!=0||this.end!=1?(this._prevStart=this.start,this._prevEnd=this.end):(F=this._prevStart,R=this._prevEnd);var U=this.animate([{property:"__start",to:F},{property:"__end",to:R}],this.animationDuration,this.animationEasing);U&&!U.isFinished()?(U.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=U):this.makeUnbusy()},E.prototype.handleThumbPosition=function(){var F=this.thumb;if(this.orientation=="horizontal"){var R=this.innerWidth,U=F.innerWidth,W=F.pixelX;this._start=W/R,this._end=(W+U)/R,this.updateThumb()}else{var Y=this.innerHeight,G=F.innerHeight,X=F.pixelY;X+G>Y&&(X=Y-G,F.y=X),this._start=1-(X+G)/Y,this._end=1-X/Y,this.updateThumb()}},E.prototype.createBackground=function(){return new RoundedRectangle},Object.defineProperty(E.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(F){var R=this;this._hideGrips=F,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),F?(this._overDisposer=this.events.on("over",function(){R.startGrip.show(),R.endGrip.show()},void 0,!1),this._outDisposer=this.events.on("out",function(){R.startGrip.hide(),R.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(F){this.setPropertyValue("animationDuration",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(F){this.setPropertyValue("animationEasing",F)},enumerable:!0,configurable:!0}),E.prototype.asFunction=function(F){return F=="animationEasing"||V.prototype.asIs.call(this,F)},E}(Container);registry.registeredClasses.Scrollbar=Scrollbar;var Slider=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Slider",F.thumb.opacity=0,F.thumb.interactionsEnabled=!1,F.endGrip.opacity=0,F.endGrip.interactionsEnabled=!1,F.startGrip.events.on("drag",function(){F.endGrip.x=F.startGrip.x,F.endGrip.y=F.startGrip.y}),F.applyTheme(),F}return Object.defineProperty(E.prototype,"__end",{get:function(){return this._start},set:function(F){},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"end",{get:function(){return this._start},set:function(F){},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"start",{get:function(){return this._start},set:function(F){this._isBusy||(this.__start=F)},enumerable:!0,configurable:!0}),E}(Scrollbar);registry.registeredClasses.Slider=Slider;var TextLink=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="TextLink",F.selectable=!0;var R=new InterfaceColorSet;F.fill=R.getFor("primaryButton").brighten(.3);var U=F.states.create("hover");U.properties.fill=R.getFor("primaryButtonHover").brighten(.3);var W=F.states.create("down");return W.properties.fill=R.getFor("primaryButtonDown").brighten(.3),F.cursorOverStyle=MouseCursorStyle.pointer,F.applyTheme(),F}return E}(Label);registry.registeredClasses.TextLink=TextLink;var Filter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.properties={},F.isTemplate=!1,F._scale=1,F._nonScaling=!0,F.className="Filter",F.filterPrimitives=new List,F.properties.filterUnits="objectBoundingBox",F.filterPrimitives.events.on("inserted",function(R){F._disposers.push(R.newValue)}),F.width=120,F.height=120,F.applyTheme(),F}return E.prototype.appendPrimitives=function(F){each(this.filterPrimitives.iterator(),function(R){F.add(R)})},E.prototype.animate=function(F,R,U){var W=new Animation(this,F,R,U).start();return W},Object.defineProperty(E.prototype,"width",{get:function(){return this.properties.width},set:function(F){this.properties.width=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"height",{get:function(){return this.properties.height},set:function(F){this.properties.height=F},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){var R=this;V.prototype.copyFrom.call(this,F),each$1(F.properties,function(U,W){R[U]=W})},Object.defineProperty(E.prototype,"paper",{get:function(){return this._paper?this._paper:getGhostPaper()},set:function(F){this._paper!=F&&(this._paper=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new AnimationDisposer(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"scale",{get:function(){return this._scale},set:function(F){this._scale=F,this.updateScale()},enumerable:!0,configurable:!0}),E.prototype.updateScale=function(){},Object.defineProperty(E.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(F){this.properties.filterUnits=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(F){this._nonScaling=F,F||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"sprite",{set:function(F){this.setSprite(F)},enumerable:!0,configurable:!0}),E.prototype.setSprite=function(F){this._sprite&&this._sprite!=F&&this._sprite.filters.removeValue(this),this._sprite=F},E}(BaseObject),DropShadowFilter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="DropShadowFilter",F.color=color("#000"),F.feGaussianBlur=F.paper.add("feGaussianBlur"),F.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),F.filterPrimitives.push(F.feGaussianBlur),F.feOffset=F.paper.add("feOffset"),F.feOffset.attr({result:"offsetBlur"}),F.filterPrimitives.push(F.feOffset),F.feFlood=F.paper.add("feFlood"),F.feFlood.attr({"flood-color":F.color}),F.filterPrimitives.push(F.feFlood),F.feComposite=F.paper.add("feComposite"),F.feComposite.attr({in2:"offsetBlur",operator:"in"}),F.filterPrimitives.push(F.feComposite),F.feMerge=F.paper.addGroup("feMerge"),F.feMerge.add(F.paper.add("feMergeNode")),F.feMerge.add(F.paper.add("feMergeNode").attr({in:"SourceGraphic"})),F.filterPrimitives.push(F.feMerge),F.width=200,F.height=200,F.blur=1.5,F.dx=3,F.dy=3,F.opacity=.5,F.applyTheme(),F}return Object.defineProperty(E.prototype,"color",{get:function(){return this.properties.color},set:function(F){this.properties.color=F,this.feFlood&&this.feFlood.attr({"flood-color":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(F){this.properties.opacity=F,this.feFlood.attr({"flood-opacity":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dx",{get:function(){return this.properties.dx},set:function(F){this.properties.dx=F,this.feOffset.attr({dx:F/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dy",{get:function(){return this.properties.dy},set:function(F){this.properties.dy=F,this.feOffset.attr({dy:F/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"blur",{get:function(){return this.properties.blur},set:function(F){this.properties.blur=F,this.feGaussianBlur.attr({stdDeviation:F/this.scale})},enumerable:!0,configurable:!0}),E.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},E}(Filter);registry.registeredClasses.DropShadowFilter=DropShadowFilter;var Tooltip=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},F._pointTo={x:0,y:0},F.fitPointerToBounds=!1,F._verticalOrientation="up",F.fixDoc=!0,F.className="Tooltip",F.isMeasured=!1,F.getFillFromObject=!0,F.margin(5,5,5,5),F.defaultState.transitionDuration=1,F.hiddenState.transitionDuration=1;var R=F.background;R.interactionsEnabled=!1,R.fillOpacity=.9,R.strokeWidth=1,R.strokeOpacity=1,R.stroke=color("#ffffff"),R.cornerRadius=3,R.pointerLength=6,R.pointerBaseWidth=10;var U=new DropShadowFilter;U.dy=1,U.dx=1,U.opacity=.5,R.filters.push(U),F.autoTextColor=!0;var W=F.createChild(Label);return W.shouldClone=!1,F.label=W,W.padding(7,12,4,12),W.interactionsEnabled=!1,W.horizontalCenter="middle",W.fill=color("#ffffff"),F._disposers.push(W),F.label.events.on("sizechanged",F.drawBackground,F),F.label.zIndex=1,F.pointerOrientation="vertical",F.animationDuration=0,F.animationEasing=cubicOut,F.setPropertyValue("showInViewport",!1),F.role="tooltip",F.visible=!1,F.opacity=0,F.x=0,F.y=0,F.events.on("visibilitychanged",F.handleVisibility,F),F.applyTheme(),F}return E.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(E.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(F){this.setPropertyValue("getStrokeFromObject",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(F){this.setPropertyValue("autoTextColor",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(F){var R=this;this.setPropertyValue("keepTargetHover",F,!0)&&F&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",function(U){R.targetSprite&&R.targetSprite.hoverable&&(R.targetSprite.isHover=!0)})),this._disposers.push(this.events.on("out",function(U){R.targetSprite&&R.targetSprite.hoverable&&(R.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(F){this.setPropertyValue("showInViewport",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(F){this.setPropertyValue("getFillFromObject",F,!0)},enumerable:!0,configurable:!0}),E.prototype.createBackground=function(){return new PointedRectangle},Object.defineProperty(E.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(F){this.setPropertyValue("pointerOrientation",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(F){this.setPropertyValue("animationDuration",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(F){this.setPropertyValue("animationEasing",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"html",{get:function(){return this.label.html},set:function(F){this.label.html!=F&&(this.label.html=F,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"text",{get:function(){return this.label.text},set:function(F){this.label.text!=F&&(this.label.text=F,this.invalidate())},enumerable:!0,configurable:!0}),E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.label;F.invalid&&F.validate();var R=this._pointTo.x,U=this._pointTo.y,W=this._boundingRect,Y=F.measuredWidth,G=F.measuredHeight,X=this.background.pointerLength,K,Z;if(this.ignoreBounds&&(W=void 0),W&&this.fixDoc&&Y>W.width){spritePointToDocument({x:W.x,y:W.y},this.parent);var J=spritePointToDocument({x:W.x+W.width,y:W.y+W.height},this.parent),Q=document.body.offsetWidth;document.body.offsetHeight,J.x>Q/2?W.x=W.width-Y:W.width=W.x+Y}var ee=this.pointerOrientation;ee=="horizontal"||ee=="left"||ee=="right"?(Z=-G/2,ee=="horizontal"?W&&R>W.x+W.width/2?K=-Y/2-X:K=Y/2+X:ee=="left"?K=Y/2+X:K=-Y/2-X):(W&&(K=fitToRange(0,W.x-R+Y/2,W.x-R+W.width-Y/2)),ee=="vertical"?W&&U>W.y+G+X?(Z=-G-X,this._verticalOrientation="up"):(Z=X,this._verticalOrientation="down"):ee=="down"?(Z=-G-X,this._verticalOrientation="up"):(Z=X,this._verticalOrientation="down")),W&&(Z=fitToRange(Z,W.y-U,W.y+W.height-G-U)),F.x=K,F.y=Z,this.drawBackground()},E.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},E.prototype.drawBackground=function(){var F=this.label,R=this.background,U=F.measuredWidth,W=F.measuredHeight,Y=this._boundingRect,G=U,X=F.pixelX-U/2,K=W,Z=F.pixelY,J=this._pointTo.x,Q=this._pointTo.y,ee=Y.x-J,te=ee+Y.width,ie=Y.y-Q,re=ie+Y.height;R.x=X,R.y=Z,R.width=G,R.height=K,this.fitPointerToBounds?(R.pointerX=fitToRange(-R.x,ee-R.x,te-R.x),R.pointerY=fitToRange(-R.y,ie-R.y,re-R.y)):(R.pointerX=-R.x,R.pointerY=-R.y),R.validate()},E.prototype.delayedPointTo=function(F,R){var U=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=registry.events.once("exitframe",function(){U.pointTo(F,R)}),this.addDisposer(this._pointToDisposer)},E.prototype.pointTo=function(F,R){(this._pointTo.x!=F.x||this._pointTo.y!=F.y)&&(this._pointTo=F,this.invalidate(),!this.visible||R?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):this.pixelX==0&&this.pixelY==0?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new Animation(this,[{property:"x",to:F.x,from:this.pixelX},{property:"y",to:F.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},E.prototype.setBounds=function(F){var R=this._boundingRect;(R.x!=F.x||R.y!=F.y||R.width!=F.width||R.height!=F.height)&&(this._boundingRect=F,this.invalidate())},Object.defineProperty(E.prototype,"boundingContainer",{set:function(F){this._boundingContainer=F,F.events.on("sizechanged",this.updateBounds,this),F.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),E.prototype.updateBounds=function(){var F=this._boundingContainer,R=spriteRectToSvg({x:F.pixelX,y:F.pixelY,width:F.maxWidth,height:F.maxHeight},F);this.setBounds(R)},Object.defineProperty(E.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(F){this.setPropertyValue("ignoreBounds",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.label.copyFrom(F.label),F._boundingRect&&(this._boundingRect=F._boundingRect)},E.prototype.asFunction=function(F){return F=="animationEasing"||V.prototype.asIs.call(this,F)},E}(Container);registry.registeredClasses.Tooltip=Tooltip;var Trapezoid=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Trapezoid",F.element=F.paper.add("path"),F.topSide=percent(100),F.bottomSide=percent(100),F.leftSide=percent(100),F.rightSide=percent(100),F.isMeasured=!1,F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.pixelWidth,R=this.pixelHeight,U=relativeToValue(this.topSide,F),W=relativeToValue(this.bottomSide,F),Y=relativeToValue(this.leftSide,R),G=relativeToValue(this.rightSide,R),X=(F-U)/2,K=(R-Y)/2,Z=F-(F-U)/2,J=(R-G)/2,Q=F-(F-W)/2,ee=R-(R-G)/2,te=(F-W)/2,ie=R-(R-Y)/2,re="",ne="",ae="",se="";if(hasValue(this.horizontalNeck)){var le=this.horizontalNeck.value;re=lineTo({x:F*le,y:Math.max(K,J)}),ae=lineTo({x:F*le,y:Math.min(ee,ie)})}if(hasValue(this.verticalNeck)){var oe=this.verticalNeck.value;ne=lineTo({x:Math.min(Z,Q),y:R*oe}),se=lineTo({x:Math.max(X,te),y:R*oe})}var ue=moveTo({x:X,y:K})+re+lineTo({x:Z,y:J})+ne+lineTo({x:Q,y:ee})+ae+lineTo({x:te,y:ie})+se;this.path=ue},Object.defineProperty(E.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(F){this.setPercentProperty("topSide",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(F){this.setPercentProperty("bottomSide",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(F){this.setPercentProperty("leftSide",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(F){this.setPercentProperty("rightSide",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(F){this.setPropertyValue("horizontalNeck",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(F){this.setPropertyValue("verticalNeck",F,!0)},enumerable:!0,configurable:!0}),E}(Sprite);registry.registeredClasses.Trapezoid=Trapezoid;var Triangle=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Triangle",F.element=F.paper.add("path"),F.direction="top",F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.pixelWidth,R=this.pixelHeight,U;switch(this.direction){case"right":U=moveTo({x:0,y:0})+lineTo({x:F,y:R/2})+lineTo({x:0,y:R})+closePath();break;case"left":U=moveTo({x:F,y:0})+lineTo({x:0,y:R/2})+lineTo({x:F,y:R})+closePath();break;case"bottom":U=moveTo({x:0,y:0})+lineTo({x:F,y:0})+lineTo({x:F/2,y:R})+closePath();break;case"top":U=moveTo({x:F/2,y:0})+lineTo({x:F,y:R})+lineTo({x:0,y:R})+closePath();break}this.path=U},Object.defineProperty(E.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(F){this.setPropertyValue("direction",F,!0)},enumerable:!0,configurable:!0}),E}(Sprite);registry.registeredClasses.Triangle=Triangle;var Tension=function(){function V(E,F){this._tensionX=E,this._tensionY=F}return V.prototype.smooth=function(E){for(var F=E.length-1;F>0;F--){var R=E[F],U=E[F-1];Math.abs(R.x-U.x)<.1&&Math.abs(R.y-U.y)<.1&&E.splice(F-1,1)}var W=this._tensionX,Y=this._tensionY;if(E.length<3||W>=1&&Y>=1)return polyline(E);var G=E[0],X=E[E.length-1],K=!1;round$2(G.x,3)==round$2(X.x)&&round$2(G.y)==round$2(X.y)&&(K=!0);for(var Z="",F=0,J=E.length-1;F<J;F++){var R=E[F-1],U=E[F],Q=E[F+1],ee=E[F+2];F===0?K?R=E[E.length-2]:R=E[F]:F==E.length-2&&(K?ee=E[1]:ee=E[F+1]);var te=getCubicControlPointA(R,U,Q,ee,W,Y),ie=getCubicControlPointB(R,U,Q,ee,W,Y);Z+=cubicCurveTo(Q,te,ie)}return Z},V}();function wavedLine(V,E,F,R,U,W){var Y=V.x,G=V.y,X=E.x,K=E.y,Z=getDistance(V,E);W&&(F=Z/Math.round(Z/F));var J=registry.getCache(stringify(["wavedLine",V.x,E.x,V.y,E.y,F,R]));if(!J){if(Z>0){var Q=Math.atan2(K-G,X-Y),ee=Math.cos(Q),te=Math.sin(Q),ie=F*ee,re=F*te;if(F<=1||R<=1)J=lineTo(E);else{var ne=Math.round(2*Z/F),ae=[],se=1;X<Y&&(se*=-1),K<G&&(se*=-1);for(var le=0;le<=ne;le++){se*=-1;var oe=Y+le*ie/2+se*R/2*te,ue=G+le*re/2-se*R/2*ee;ae.push({x:oe,y:ue})}J=new Tension(U,U).smooth(ae)}}else J="";registry.setCache(stringify(["wavedLine",V.x,E.x,V.y,E.y,F,R]),J)}return J}var Monotone=function(){function V(E,F){this._reversed=E,this._closed=F.closed}return V.prototype._curve=function(E,F,R,U,W,Y){var G=(F-E)/3;return this._reversed?cubicCurveTo({x:U,y:F},{x:R+G*W,y:E+G},{x:U-G*Y,y:F-G}):cubicCurveTo({x:F,y:U},{x:E+G,y:R+G*W},{x:F-G,y:U-G*Y})},V.prototype.smooth=function(E){var F=this,R=NaN,U=NaN,W=NaN,Y=NaN,G=NaN,X=0,K="";switch(each$2(E,function(Z){var J=Z.x,Q=Z.y;if(F._reversed){var ee=J;J=Q,Q=ee}var te=NaN;if(!(J===U&&Q===Y)){switch(X){case 0:X=1,F._reversed?K+=lineTo({x:Q,y:J}):K+=lineTo({x:J,y:Q});break;case 1:X=2;break;case 2:X=3,K+=F._curve(R,U,W,Y,slope2(R,U,W,Y,te=slope3(R,U,W,Y,J,Q)),te);break;default:K+=F._curve(R,U,W,Y,G,te=slope3(R,U,W,Y,J,Q));break}R=U,U=J,W=Y,Y=Q,G=te}}),X){case 2:this._reversed?K+=lineTo({x:Y,y:U}):K+=lineTo({x:U,y:Y});break;case 3:K+=this._curve(R,U,W,Y,G,slope2(R,U,W,Y,G));break}return this._closed&&(K+=closePath()),K},V}();function sign(V){return V<0?-1:1}function slope2(V,E,F,R,U){var W=E-V;return W?(3*(R-F)/W-U)/2:U}function slope3(V,E,F,R,U,W){var Y=E-V,G=U-E,X=(R-F)/(Y||G<0&&-0),K=(W-R)/(G||Y<0&&-0),Z=(X*G+K*Y)/(Y+G);return(sign(X)+sign(K))*Math.min(Math.abs(X),Math.abs(K),.5*Math.abs(Z))||0}var MonotoneX=function(V){__extends(E,V);function E(F){return V.call(this,!1,F)||this}return E}(Monotone),MonotoneY=function(V){__extends(E,V);function E(F){return V.call(this,!0,F)||this}return E}(Monotone),WavedCircle=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="WavedCircle",F.element=F.paper.add("path"),F.waveLength=16,F.waveHeight=4,F.fill=void 0,F.fillOpacity=0,F.tension=.8,F.applyTheme(),F}return E.prototype.draw=function(){var F="",R=this.pixelRadius;if(R>0){var U=this.getPoints(R);F=moveTo(U[0])+new Tension(this.tension,this.tension).smooth(U)}var W=this.pixelInnerRadius;if(W>0){var U=this.getPoints(W);U.reverse(),F+=moveTo(U[0])+new Tension(this.tension,this.tension).smooth(U)}this.path=F},E.prototype.getPoints=function(F){for(var R=F*Math.PI*2,U=this.waveHeight/2,W=R/Math.round(R/this.waveLength),Y=W/2,G=[],X=R/W,K=0;K<=X;K++){var Z=K*W/R*360,J=(K*W+Y)/R*360;G.push({x:(F-U)*cos(Z),y:(F-U)*sin(Z)}),G.push({x:(F+U)*cos(J),y:(F+U)*sin(J)})}return G.pop(),G},Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelInnerRadius",{get:function(){return relativeToValue(this.innerRadius,min$1(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(F){this.setPropertyValue("waveLength",F),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(F){this.setPropertyValue("waveHeight",F),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(F){this.setPropertyValue("tension",F),this.invalidate()},enumerable:!0,configurable:!0}),E}(Circle);registry.registeredClasses.WavedCircle=WavedCircle;var WavedLine=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="WavedLine",F.element=F.paper.add("path"),F.waveLength=16,F.waveHeight=4,F.tension=.8,F.pixelPerfect=!1,F.fill=color(),F.applyTheme(),F}return E.prototype.draw=function(){var F={x:this.x1,y:this.y1},R={x:this.x2,y:this.y2};this.path=moveTo(F)+wavedLine(F,R,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(E.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(F){this.setPropertyValue("waveLength",F),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(F){this.setPropertyValue("waveHeight",F),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(F){this.setPropertyValue("tension",F),this.invalidate()},enumerable:!0,configurable:!0}),E}(Line),WavedRectangle=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="WavedRectangle",F.element=F.paper.add("path"),F.waveLength=16,F.waveHeight=4,F.tension=.8,F.setPropertyValue("wavedLeft",!0),F.setPropertyValue("wavedRight",!0),F.setPropertyValue("wavedTop",!0),F.setPropertyValue("wavedBottom",!0),F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.pixelWidth,R=this.pixelHeight;if(F>0&&R>0){var U={x:0,y:0},W={x:F,y:0},Y={x:F,y:R},G={x:0,y:R},X=Math.min(F,this.waveLength),K=Math.min(R,this.waveHeight),Z=Math.min(R,this.waveLength),J=Math.min(F,this.waveHeight),Q="",ee="",te="",ie="";this.wavedTop&&(Q=wavedLine(U,W,X,K,this.tension,!0)),this.wavedRight&&(ee=wavedLine(W,Y,Z,J,this.tension,!0)),this.wavedBottom&&(te=wavedLine(Y,G,X,K,this.tension,!0)),this.wavedLeft&&(ie=wavedLine(G,U,Z,J,this.tension,!0)),this.path=moveTo(U)+Q+lineTo(W)+ee+lineTo(Y)+te+lineTo(G)+ie+"z"}},Object.defineProperty(E.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(F){this.setPropertyValue("waveLength",F),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(F){this.setPropertyValue("waveHeight",F),this.invalidate()},enumerable:!0,configurable:!0}),E.prototype.setWavedSides=function(F,R,U,W){this.wavedTop=F,this.wavedRight=R,this.wavedBottom=U,this.wavedLeft=W},Object.defineProperty(E.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(F){this.setPropertyValue("tension",F),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(F){this.setPropertyValue("wavedRight",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(F){this.setPropertyValue("wavedLeft",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(F){this.setPropertyValue("wavedTop",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(F){this.setPropertyValue("wavedBottom",F,!0)},enumerable:!0,configurable:!0}),E}(Rectangle),ZoomOutButton=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="ZoomOutButton",F.padding(9,9,9,9),F.showSystemTooltip=!0;var R=new InterfaceColorSet,U=F.background;U.cornerRadius(20,20,20,20),U.fill=R.getFor("primaryButton"),U.stroke=R.getFor("primaryButtonStroke"),U.strokeOpacity=0,U.states.getKey("hover").properties.fill=R.getFor("primaryButtonHover"),U.states.getKey("down").properties.fill=R.getFor("primaryButtonActive");var W=new Sprite;W.element=F.paper.add("path");var Y=moveTo({x:0,y:0});return Y+=lineTo({x:11,y:0}),W.path=Y,W.pixelPerfect=!0,W.padding(8,3,8,3),W.stroke=R.getFor("primaryButtonText"),F.icon=W,F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},E}(Button);registry.registeredClasses.ZoomOutButton=ZoomOutButton;var PlayButton=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="PlayButton",F.padding(12,12,12,12),F.showSystemTooltip=!0;var R=new InterfaceColorSet,U=F.background;U.cornerRadius(25,25,25,25),U.fill=R.getFor("primaryButton"),U.stroke=R.getFor("primaryButtonStroke"),U.strokeOpacity=0,U.states.getKey("hover").properties.fill=R.getFor("primaryButtonHover"),U.states.getKey("down").properties.fill=R.getFor("primaryButtonActive");var W=new Triangle;W.direction="right",W.width=9,W.height=11,W.marginLeft=1,W.marginRight=1,W.horizontalCenter="middle",W.verticalCenter="middle",W.stroke=R.getFor("primaryButtonText"),W.fill=W.stroke,F.icon=W;var Y=new RoundedRectangle;Y.width=11,Y.height=11,Y.horizontalCenter="middle",Y.verticalCenter="middle",Y.cornerRadius(0,0,0,0),Y.stroke=R.getFor("primaryButtonText"),Y.fill=W.stroke,F.togglable=!0;var G=F.states.create("active");return G.transitionDuration=0,G.properties.icon=Y,F.defaultState.transitionDuration=0,F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},E}(Button);registry.registeredClasses.PlayButton=PlayButton;var ColorModifier=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ColorModifier",F.applyTheme(),F}return E.prototype.modify=function(F){return F},E}(BaseObject);registry.registeredClasses.ColorModifier=ColorModifier;var GradientModifier=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.lightnesses=[],F.brightnesses=[],F.opacities=[],F.offsets=[],F.className="GradientModifier",F.applyTheme(),F}return Object.defineProperty(E.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(F){this._lightnesses=F,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(F){this._brightnesses=F,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"opacities",{get:function(){return this._opacities},set:function(F){this._opacities=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"offsets",{get:function(){return this._offsets},set:function(F){this._offsets=F},enumerable:!0,configurable:!0}),E.prototype.modify=function(F){this.gradient.clear();var R=0;this.opacities&&(R=max$1(R,this.opacities.length)),this.lightnesses&&(R=max$1(R,this.lightnesses.length)),this.brightnesses&&(R=max$1(R,this.brightnesses.length));for(var U=1,W,Y,G=0;G<R;G++){var X=F;this.opacities&&isNumber$1(this.opacities[G])&&(U=this.opacities[G]),this.lightnesses&&isNumber$1(this.lightnesses[G])&&(W=this.lightnesses[G],Y=void 0),this.brightnesses&&isNumber$1(this.brightnesses[G])&&(Y=this.brightnesses[G],W=void 0),isNumber$1(Y)?X=F.brighten(this.brightnesses[G]):isNumber$1(W)&&(X=F.lighten(this.lightnesses[G]));var K=this.offsets[G];this.gradient.addColor(X,U,K)}return this.gradient},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this._offsets=F.offsets,this._brightnesses=F.brightnesses,this._lightnesses=F.lightnesses,this._opacities=F.opacities},E}(ColorModifier);registry.registeredClasses.GradientModifier=GradientModifier;var LinearGradientModifier=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="LinearGradientModifier",F.gradient=new LinearGradient,F.applyTheme(),F}return E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.gradient=F.gradient.clone()},E}(GradientModifier);registry.registeredClasses.LinearGradientModifier=LinearGradientModifier;var Cone=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Cone",F.angle=30,F.radius=percent(100),F.topRadius=percent(100),F.top=F.createChild(Ellipse),F.top.shouldClone=!1,F.bottom=F.createChild(Ellipse),F.bottom.shouldClone=!1,F.body=F.createChild(Sprite),F.body.shouldClone=!1,F.body.setElement(F.paper.add("path")),F.layout="none",F.bodyFillModifier=new LinearGradientModifier,F.bodyFillModifier.lightnesses=[0,-.25,0],F.body.fillModifier=F.bodyFillModifier,F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this),copyProperties$1(this,this.top,visualProperties),copyProperties$1(this,this.bottom,visualProperties),copyProperties$1(this,this.body,visualProperties);var F=this.innerWidth,R=this.innerHeight,U=this.bottom,W=this.top,Y=this.angle,G,X,K;this.orientation=="horizontal"?(G=R/2,U.y=R/2,U.x=0,W.y=R/2,W.x=F,X=(90-Y)/90,K=0,this.bodyFillModifier.gradient.rotation=90):(X=0,K=(90-Y)/90,G=F/2,U.y=R,U.x=F/2,W.x=F/2,this.bodyFillModifier.gradient.rotation=0);var Z=this.radius.value*G,J=this.topRadius.value*G;U.radius=Z-Z*X,U.radiusY=Z-Z*K,W.radius=J-J*X,W.radiusY=J-J*K;var Q;this.orientation=="horizontal"?Q=moveTo({x:0,y:R/2-U.radiusY})+arcTo(-90,-180,U.radius,U.radiusY)+lineTo({x:F,y:R/2+W.radiusY})+arcTo(90,180,W.radius,W.radiusY)+closePath():Q=moveTo({x:F/2-W.radius,y:0})+arcTo(180,-180,W.radius,W.radiusY)+lineTo({x:F/2+U.radius,y:R})+arcTo(0,180,U.radius,U.radiusY)+closePath(),this.body.path=Q},Object.defineProperty(E.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(F){this.setPropertyValue("angle",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPropertyValue("radius",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(F){this.setPropertyValue("topRadius",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(F){this.setPropertyValue("orientation",F,!0)},enumerable:!0,configurable:!0}),E}(Container),LightenFilter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="LightenFilter",F.feColorMatrix=F.paper.add("feColorMatrix"),F.feColorMatrix.attr({type:"matrix"}),F.filterPrimitives.push(F.feColorMatrix),F.lightness=0,F.applyTheme(),F}return Object.defineProperty(E.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(F){this.properties.lightness=F;var R=F+1;this.feColorMatrix.attr({values:R+" 0 0 0 0 0 "+R+" 0 0 0 0 0 "+R+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),E}(Filter);registry.registeredClasses.LightenFilter=LightenFilter;var Rectangle3D=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.angle=30,F.depth=30,F.className="Rectangle3D",F.layout="none";var R=F.createChild(Sprite);R.shouldClone=!1,R.setElement(F.paper.add("path")),R.isMeasured=!1,F.sideBack=R,F._disposers.push(F.sideBack);var U=F.createChild(Sprite);U.shouldClone=!1,U.setElement(F.paper.add("path")),U.isMeasured=!1,F.sideBottom=U,F._disposers.push(F.sideBottom);var W=F.createChild(Sprite);W.shouldClone=!1,W.setElement(F.paper.add("path")),W.isMeasured=!1,F.sideLeft=W,F._disposers.push(F.sideLeft);var Y=F.createChild(Sprite);Y.shouldClone=!1,Y.setElement(F.paper.add("path")),Y.isMeasured=!1,F.sideRight=Y,F._disposers.push(F.sideRight);var G=F.createChild(Sprite);G.shouldClone=!1,G.setElement(F.paper.add("path")),G.isMeasured=!1,F.sideTop=G,F._disposers.push(F.sideTop);var X=F.createChild(Sprite);return X.shouldClone=!1,X.setElement(F.paper.add("path")),X.isMeasured=!1,F.sideFront=X,F._disposers.push(F.sideFront),F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.innerWidth,R=this.innerHeight,U=this.depth,W=this.angle,Y=sin(W),G=cos(W),X={x:0,y:0},K={x:F,y:0},Z={x:F,y:R},J={x:0,y:R},Q={x:U*G,y:-U*Y},ee={x:U*G+F,y:-U*Y},te={x:U*G+F,y:-U*Y+R},ie={x:U*G,y:-U*Y+R};this.sideFront.path=moveTo(X)+lineTo(K)+lineTo(Z)+lineTo(J)+closePath(),this.sideBack.path=moveTo(Q)+lineTo(ee)+lineTo(te)+lineTo(ie)+closePath(),this.sideLeft.path=moveTo(X)+lineTo(Q)+lineTo(ie)+lineTo(J)+closePath(),this.sideRight.path=moveTo(K)+lineTo(ee)+lineTo(te)+lineTo(Z)+closePath(),this.sideBottom.path=moveTo(J)+lineTo(ie)+lineTo(te)+lineTo(Z)+closePath(),this.sideTop.path=moveTo(X)+lineTo(Q)+lineTo(ee)+lineTo(K)+closePath()},Object.defineProperty(E.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(F){this.setPropertyValue("depth",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(F){this.setPropertyValue("angle",F,!0)},enumerable:!0,configurable:!0}),E.prototype.setFill=function(F){V.prototype.setFill.call(this,F),(!isObject$3(F)||"r"in F)&&(F=toColor(F));var R;if(F instanceof Color)R=F.hex;else if(F instanceof LinearGradient||F instanceof RadialGradient)R=F.stops.getIndex(0).color.hex;else{var U=new LightenFilter;U.lightness=-.2,this.sideBack.filters.push(U);var W=U.clone();W.lightness=-.4,this.sideLeft.filters.push(W);var Y=U.clone();Y.lightness=-.2,this.sideRight.filters.push(Y);var G=U.clone();G.lightness=-.1,this.sideTop.filters.push(G);var X=U.clone();X.lightness=-.5,this.sideBottom.filters.push(X)}R&&(this.sideBack.fill=color(R).lighten(-.2),this.sideLeft.fill=color(R).lighten(-.4),this.sideRight.fill=color(R).lighten(-.2),this.sideTop.fill=color(R).lighten(-.1),this.sideBottom.fill=color(R).lighten(-.5))},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.sideBack.copyFrom(F.sideBack),this.sideLeft.copyFrom(F.sideLeft),this.sideRight.copyFrom(F.sideRight),this.sideTop.copyFrom(F.sideTop),this.sideBottom.copyFrom(F.sideBottom)},E}(Container),Slice3D=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="Slice3D",F.layout="none";var R=F.createChild(Sprite);F.edge=R,R.shouldClone=!1,R.isMeasured=!1,R.toBack(),F.angle=30,F.depth=20;var U=F.createChild(Sprite);F.sideA=U,U.shouldClone=!1,U.isMeasured=!1;var W=F.createChild(Sprite);return F.sideB=W,W.shouldClone=!1,W.isMeasured=!1,F.applyTheme(),F}return E.prototype.setFill=function(F){V.prototype.setFill.call(this,F);var R;if(F instanceof Color)R=F.hex;else if(F instanceof LinearGradient||F instanceof RadialGradient)R=F.stops.getIndex(0).color.hex;else{var U=new LightenFilter;U.lightness=-.25,this.edge.filters.push(U),this.sideA.filters.push(U.clone()),this.sideB.filters.push(U.clone())}if(R){var W=color(R).lighten(-.25);this.edge.fill=W,this.sideA.fill=W,this.sideB.fill=W,this.edge.stroke=W,this.sideA.stroke=W,this.sideB.stroke=W}},E.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,V.prototype.draw.call(this),this.arc!==0&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var F=this.startAngle,R=this.arc,U=this.pixelInnerRadius||0,W=this.radiusY||0,Y=this.radius,G=F+R,X=W/Y*U,K={x:cos(F)*U,y:sin(F)*X},Z={x:cos(F)*Y,y:sin(F)*W},J={x:cos(G)*Y,y:sin(G)*W},Q={x:cos(G)*U,y:sin(G)*X},ee=this.depth,te={x:K.x,y:K.y-ee},ie={x:Z.x,y:Z.y-ee},re={x:J.x,y:J.y-ee},ne={x:Q.x,y:Q.y-ee},ae="",se=Math.ceil(R/5),le=R/se,oe=F,ue=ie,ce=0;ce<se;ce++)if(oe+=le,oe>0&&oe<180){ae+=moveTo(ue);var he={x:cos(oe)*Y,y:sin(oe)*W-ee};ae+=lineTo({x:ue.x,y:ue.y+ee}),ae+=arcToPoint({x:he.x,y:he.y+ee},Y,W,!0),ae+=lineTo(he),ae+=arcToPoint(ue,Y,W),ae+="z",ue=he}else{ae+=moveTo(ue);var he={x:cos(oe)*Y,y:sin(oe)*W-ee};ae+=arcToPoint(he,Y,W,!0),ae+=lineTo({x:he.x,y:he.y+ee}),ae+=arcToPoint({x:ue.x,y:ue.y+ee},Y,W),ae+=lineTo(ue),ae+="z",ue=he}ue=te,oe=F;for(var ce=0;ce<se;ce++)if(oe+=le,oe>0&&oe<180){ae+=moveTo(ue);var he={x:cos(oe)*U,y:sin(oe)*X-ee};ae+=lineTo({x:ue.x,y:ue.y+ee}),ae+=arcToPoint({x:he.x,y:he.y+ee},U,X,!0),ae+=lineTo(he),ae+=arcToPoint(ue,U,X),ae+="z",ue=he}else{ae+=moveTo(ue);var he={x:cos(oe)*U,y:sin(oe)*X-ee};ae+=arcToPoint(he,U,X,!0),ae+=lineTo({x:he.x,y:he.y+ee}),ae+=arcToPoint({x:ue.x,y:ue.y+ee},U,X),ae+=lineTo(ue),ae+="z",ue=he}this.edge.path=ae,this.sideA.path=moveTo(K)+lineTo(Z)+lineTo(ie)+lineTo(te)+closePath(),this.sideB.path=moveTo(J)+lineTo(Q)+lineTo(ne)+lineTo(re)+closePath(),this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-ee}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(E.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(F){this.setPropertyValue("depth",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"angle",{get:function(){var F=this.getPropertyValue("angle");return isNumber$1(F)||(F=0),F},set:function(F){this.setPropertyValue("angle",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radiusY",{get:function(){var F=this.getPropertyValue("radiusY");return isNumber$1(F)||(F=this.radius-this.radius*this.angle/90),F},set:function(F){this.setPropertyValue("radiusY",F,!0)},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.edge.copyFrom(F.edge),this.sideA.copyFrom(F.sideA),this.sideB.copyFrom(F.sideB)},E}(Slice),RadialGradientModifier=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="RadialGradientModifier",F.gradient=new RadialGradient,F.applyTheme(),F}return E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.gradient=F.gradient.clone()},E}(GradientModifier);registry.registeredClasses.RadialGradientModifier=RadialGradientModifier;var LinePattern=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.properties.gap=0,F._line=F.paper.add("path"),F.addElement(F._line),F}return E.prototype.draw=function(){if(V.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var F=this.width,R=this.height,U="";if(!this.gap)Math.round(this.rotation/90)!=this.rotation/90?(U=moveTo({x:-F,y:R/2})+lineTo({x:F*2,y:R/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):U=moveTo({x:0,y:0})+lineTo({x:F,y:0});else for(var W=this.gap+this.strokeWidth,Y=this.height/W,G=-Y/2;G<Y*1.5;G++)Math.round(this.rotation/90)!=this.rotation/90?(U+=moveTo({x:-F,y:(G+.5)*W})+lineTo({x:F*2,y:(G+.5)*W}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):U+=moveTo({x:-F,y:G*W})+lineTo({x:F*2,y:G*W});this._line.attr({d:U})}},Object.defineProperty(E.prototype,"gap",{get:function(){return this.properties.gap},set:function(F){this.properties.gap=F,this.draw()},enumerable:!0,configurable:!0}),E}(Pattern);registry.registeredClasses.LinePattern=LinePattern;var CirclePattern=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.properties.radius=2,F._circle=F.paper.add("circle"),F.addElement(F._circle),F.shapeRendering="auto",F}return E.prototype.draw=function(){V.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(E.prototype,"radius",{get:function(){return this.properties.radius},set:function(F){this.properties.radius=F,this.draw()},enumerable:!0,configurable:!0}),E}(Pattern);registry.registeredClasses.CirclePattern=CirclePattern;var RectPattern=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.rectHeight=1,F.rectWidth=1,F._rect=F.paper.add("rect"),F.addElement(F._rect),F}return E.prototype.draw=function(){V.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(E.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(F){this.properties.rectWidth=F,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(F){this.properties.rectHeight=F,this.draw()},enumerable:!0,configurable:!0}),E}(Pattern);registry.registeredClasses.RectPattern=RectPattern;var ColorizeFilter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ColorizeFilter",F.feColorMatrix=F.paper.add("feColorMatrix"),F.feColorMatrix.attr({type:"matrix"}),F.filterPrimitives.push(F.feColorMatrix),F.intensity=1,F.applyTheme(),F}return E.prototype.applyFilter=function(){var F=this.intensity,R=1-F,U,W,Y,G=this.color;G&&G.rgb?(U=G.rgb.r/255*F,W=G.rgb.g/255*F,Y=G.rgb.b/255*F):(U=0,W=0,Y=0),this.feColorMatrix.attr({values:R+" 0 0 0 "+U+" 0 "+R+" 0 0 "+W+" 0 0 "+R+" 0 "+Y+" 0 0 0 1 0"})},Object.defineProperty(E.prototype,"color",{get:function(){return this.properties.color},set:function(F){this.properties.color=F,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(F){this.properties.intensity=F,this.applyFilter()},enumerable:!0,configurable:!0}),E}(Filter);registry.registeredClasses.ColorizeFilter=ColorizeFilter;var DesaturateFilter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="DesaturateFilter",F.feColorMatrix=F.paper.add("feColorMatrix"),F.feColorMatrix.attr({type:"saturate"}),F.filterPrimitives.push(F.feColorMatrix),F.width=120,F.height=120,F.saturation=0,F.applyTheme(),F}return Object.defineProperty(E.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(F){this.properties.saturation=F,this.feColorMatrix.attr({values:F.toString()})},enumerable:!0,configurable:!0}),E}(Filter);registry.registeredClasses.DesaturateFilter=DesaturateFilter;var BlurFilter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="BlurFilter",F.feGaussianBlur=F.paper.add("feGaussianBlur"),F.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),F.filterPrimitives.push(F.feGaussianBlur),F.width=200,F.height=200,F.blur=1.5,F.applyTheme(),F}return Object.defineProperty(E.prototype,"blur",{get:function(){return this.properties.blur},set:function(F){this.properties.blur=F,this.feGaussianBlur.attr({stdDeviation:F/this.scale})},enumerable:!0,configurable:!0}),E}(Filter);registry.registeredClasses.BlurFilter=BlurFilter;var FocusFilter=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="FocusFilter",F.feFlood=F.paper.add("feFlood"),F.feFlood.attr({"flood-color":new InterfaceColorSet().getFor("primaryButtonHover"),result:"base"}),F.filterPrimitives.push(F.feFlood),F.feMorphology=F.paper.add("feMorphology"),F.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),F.filterPrimitives.push(F.feMorphology),F.feColorMatrix=F.paper.add("feColorMatrix"),F.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),F.filterPrimitives.push(F.feColorMatrix),F.feComposite=F.paper.add("feComposite"),F.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),F.filterPrimitives.push(F.feComposite),F.feBlend=F.paper.add("feBlend"),F.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),F.filterPrimitives.push(F.feBlend),F.width=130,F.height=130,F.applyTheme(),F}return Object.defineProperty(E.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(F){this.properties.stroke=F,this.feFlood.attr({"flood-color":F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(F){this.properties.strokeWidth=F,this.feMorphology.attr({radius:F})},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(F){this.properties.opacity=F,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+F+" 0"})},enumerable:!0,configurable:!0}),E.prototype.setSprite=function(F){this._sprite&&this._sprite!=F&&this._sprite.group.removeStyle("outline"),F.group.addStyle({outline:"none"}),V.prototype.setSprite.call(this,F)},E}(Filter),ColorSet=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._list=[],F._currentStep=0,F._startIndex=0,F._currentPass=0,F.baseColor=new Color({r:103,g:183,b:220}),F.stepOptions={},F.passOptions={brighten:-.2},F.step=1,F.minColors=20,F.minLightness=.2,F.maxLightness=.9,F.shuffle=!1,F.wrap=!0,F.reuse=!1,F.saturation=1,F.className="ColorSet",F.applyTheme(),F}return Object.defineProperty(E.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(F){this._list=F,this.reset()},enumerable:!0,configurable:!0}),E.prototype.getReusableColor=function(F){if(this._list.length==0)return this.generate(1),this.list[0];var R=F-Math.floor(F/this._list.length)*this.list.length;return this.list[R]},E.prototype.next=function(){var F;return this.list.length<=this._currentStep?this.reuse?F=this.getReusableColor(this._currentStep):(this.generate(max$1(this.minColors,this._currentStep+1)),F=this.list[this._currentStep]):F=this.list[this._currentStep],this._currentStep+=this.step,F.saturate(this.saturation)},E.prototype.getIndex=function(F){var R;return this.list.length<=F?this.reuse?R=this.getReusableColor(F):(this.generate(this.minColors),R=this.getIndex(F)):R=this.list[F],R.saturate(this.saturation)},E.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(E.prototype,"currentStep",{get:function(){return this._currentStep},set:function(F){this._currentStep=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startIndex",{get:function(){return this._startIndex},set:function(F){this._startIndex=F,this.reset()},enumerable:!0,configurable:!0}),E.prototype.generate=function(F){var R=this.currentColor,U=rgbToHsl(getValue(R.rgb)),W=hasValue(this.stepOptions.hue)?this.stepOptions.hue:1/F,Y={brighten:0,lighten:0,hue:U.h,lightness:U.l,saturation:U.s},G=[],X=this.list.length==0?0:1;if(this.reuse)for(var K=X;K<=F;K++)G.push(rgbToHsl(getValue(this._list[K].rgb)).h);else for(var K=X;K<=F;K++){var Z=U.h+W*K;this.wrap&&Z>1&&(Z-=1),G.push(Z)}this.shuffle&&G.sort(function(te,ie){return Math.random()-.5});for(var K=0;K<F;K++){this.reuse?U=rgbToHsl(getValue(this._list[K].rgb)):U.h=G.shift(),this.applyStepOptions(U,Y,K,this._currentPass);var J=color(hslToRgb(U)),Q=(this.stepOptions.brighten||0)*K+(this.passOptions.brighten||0)*this._currentPass;Q!=0&&(this.wrap?Q=fitNumberRelative(Q,this.minLightness,this.maxLightness):Q=fitNumber(Q,this.minLightness,this.maxLightness),J=J.brighten(Q));var ee=(this.stepOptions.lighten||0)*K+(this.passOptions.lighten||0)*this._currentPass;ee!=0&&(this.wrap?ee=fitNumberRelative(ee,this.minLightness,this.maxLightness):ee=fitNumber(ee,this.minLightness,this.maxLightness),J=J.lighten(ee)),this._list.push(J)}this._currentPass++},Object.defineProperty(E.prototype,"currentColor",{get:function(){return this._list.length==0?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),E.prototype.applyStepOptions=function(F,R,U,W){F.l=R.lightness+(this.stepOptions.lightness||0)*U+(this.passOptions.lightness||0)*W,this.wrap?(F.l>1?F.l=F.l-Math.floor(F.l):F.l<0&&(F.l=-(F.l-Math.floor(F.l))),F.l=fitNumberRelative(F.l,this.minLightness,this.maxLightness)):(F.l>1?F.l=1:F.l<0&&(F.l=0),F.l=fitNumber(F.l,this.minLightness,this.maxLightness))},E.prototype.processConfig=function(F){if(F){if(hasValue(F.list)&&isArray$2(F.list))for(var R=0,U=F.list.length;R<U;R++)F.list[R]instanceof Color||(F.list[R]=color(F.list[R]));hasValue(F.baseColor)&&!(F.baseColor instanceof Color)&&(F.baseColor=color(F.baseColor))}V.prototype.processConfig.call(this,F)},E}(BaseObject);registry.registeredClasses.ColorSet=ColorSet;var PatternSet=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._list=[],F._currentStep=0,F._startIndex=0,F._currentPass=0,F.baseColor=new Color({r:103,g:183,b:220}),F.className="PatternSet";var R=new InterfaceColorSet;return F.list=[F.getLinePattern(1e3,45,1,6),F.getRectPattern(10,0,4),F.getLinePattern(1e3,-45,1,6),F.getCirclePattern(11,2,!0),F.getLinePattern(6,90,1),F.getRectPattern(12,45,6,!0),F.getLinePattern(6,0,1),F.getRectPattern(7,0,4),F.getLinePattern(1e3,45,2,3,"4,2"),F.getCirclePattern(9,3,!1),F.getLinePattern(1e3,-45,2,3,"4,2"),F.getRectPattern(10,45,Math.sqrt(50)),F.getLinePattern(1e3,-45,2,1),F.getRectPattern(10,0,9),F.getLinePattern(1e3,45,2,1),F.getLinePattern(1e3,0,3,1),F.getRectPattern(10,45,10),F.getLinePattern(1e3,90,3,1)],F.baseColor=R.getFor("stroke"),F.applyTheme(),F}return E.prototype.getLinePattern=function(F,R,U,W,Y){var G=new LinePattern;return G.width=F,G.height=F,G.stroke=this.baseColor,G.gap=W,G.strokeDasharray=Y,G.strokeWidth=U,G.rotation=R,G},E.prototype.getRectPattern=function(F,R,U,W){var Y=new RectPattern;return Y.width=F,Y.height=F,Y.rectWidth=U,Y.rectHeight=U,W?(Y.stroke=this.baseColor,Y.strokeWidth=1,Y.fillOpacity=0):(Y.fill=this.baseColor,Y.strokeWidth=0),R!=0&&(Y.shapeRendering="auto"),Y.rotation=R,Y},E.prototype.getCirclePattern=function(F,R,U){var W=new CirclePattern;return W.width=F,W.height=F,W.shapeRendering="auto",W.radius=R,U?(W.stroke=this.baseColor,W.strokeWidth=1,W.fillOpacity=0):(W.fill=this.baseColor,W.strokeWidth=0),W},Object.defineProperty(E.prototype,"list",{get:function(){return this._list},set:function(F){this._list=F,this.reset()},enumerable:!0,configurable:!0}),E.prototype.next=function(){var F=this.getIndex(this.currentStep);return this._currentStep++,F},E.prototype.getIndex=function(F){for(var R;this.list.length<=F;)this.generatePatterns();return R=this.list[F],R.clone()},E.prototype.generatePatterns=function(){var F=this.list.length/(this._currentPass+1);this._currentPass++;for(var R=0;R<F;R++)this.list.push(this.list[R].clone())},E.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(E.prototype,"currentStep",{get:function(){return this._currentStep},set:function(F){this._currentStep=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startIndex",{get:function(){return this._startIndex},set:function(F){this._startIndex=F,this.reset()},enumerable:!0,configurable:!0}),E.prototype.processConfig=function(F){V.prototype.processConfig.call(this,F)},E}(BaseObject);registry.registeredClasses.PatternSet=PatternSet;var AmChartsLogo=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="AmChartsLogo",F.valign="bottom";var R=.3;F.opacity=.3,F.defaultState.properties.opacity=.4,F.url="https://www.amcharts.com/",F.urlTarget="_blank",F.showSystemTooltip=!0,F.readerTitle="Chart created using amCharts library",F.width=220*R,F.height=70*R,F.background.opacity=0;var U=color("#474758");new InterfaceColorSet().getFor("background").alternative.hex=="#ffffff"&&(U=color("#ffffff"));var W=new LinearGradient;W.addColor(U),W.addColor(U,1,.75),W.addColor(color("#3cabff"),1,.755),W.rotation=-10;var Y=W,G=F.createChild(Polyspline);G.shouldClone=!1,G.isMeasured=!1,G.segments=[[{x:50*R,y:50*R},{x:90*R,y:50*R},{x:120*R,y:20*R},{x:135*R,y:35*R},{x:150*R,y:20*R},{x:180*R,y:50*R},{x:200*R,y:50*R}]],G.strokeWidth=6*R,G.tensionX=.8,G.tensionY=1,G.stroke=color("#3cabff");var X=F.createChild(Polyspline);X.shouldClone=!1,X.isMeasured=!1,X.segments=[[{x:20*R,y:50*R},{x:50*R,y:50*R},{x:90*R,y:12*R},{x:133*R,y:50*R},{x:170*R,y:50*R},{x:200*R,y:50*R}]],X.strokeWidth=6*R,X.tensionX=.75,X.tensionY=1,X.stroke=Y,F._disposers.push(X);var K=new DesaturateFilter;F.filters.push(K);var Z=new DesaturateFilter;Z.saturation=1;var J=F.states.create("hover");return J.properties.opacity=1,J.filters.push(Z),F.applyTheme(),F}return E}(Container);function createChild(V,E){var F=getElement(V),R=!1;if(F||(F=document.createElement("div"),F.style.width="200px",F.style.height="200px",F.style.top="0",F.style.left="0",F.style.visibility="hidden",F.style.position="absolute",document.body.appendChild(F),R=!0),F){F.innerHTML="";var U=new SVGContainer(F),W=new Paper(U.SVGContainer,"svg-"+(svgContainers.length-1)),Y=new Container;Y.htmlContainer=F,Y.svgContainer=U,Y.width=percent(100),Y.height=percent(100),Y.background.fillOpacity=0,Y.paper=W,W.append(Y.group),R&&ready(function(){Y.moveHtmlContainer(V)}),Y.relativeWidth=1,Y.relativeHeight=1,U.container=Y;var G=Y.createChild(E);G.topParent=Y;var X=G.uid;registry.invalidSprites[X]=[],registry.invalidDatas[X]=[],registry.invalidPositions[X]=[],registry.invalidLayouts[X]=[],Y.baseId=X,G.isBaseSprite=!0,G.focusFilter=new FocusFilter,registry.baseSprites.push(G),registry.baseSpritesByUid[X]=G,G.maskRectangle={x:0,y:0,width:Math.max(U.width||0,0),height:Math.max(U.height||0,0)},Y.events.on("maxsizechanged",function(te){(te.previousWidth==0||te.previousHeight==0)&&Y.deepInvalidate(),G.maskRectangle&&(G.maskRectangle={x:0,y:0,width:Math.max(U.width||0,0),height:Math.max(U.height||0,0)})});var K=null,Z=function(){G.isDisposed()?K=null:getRoot(G.dom)==null?(warn$1("Chart was not disposed",G.uid),K=null):K=window.setTimeout(Z,1e3)};Z(),G.addDisposer(new Disposer(function(){K!==null&&clearTimeout(K),remove(registry.baseSprites,G),registry.baseSpritesByUid[G.uid]=void 0})),G.addDisposer(Y);var J=Y.createChild(Container);J.topParent=Y,J.width=percent(100),J.height=percent(100),J.isMeasured=!1,Y.tooltipContainer=J,G.tooltip=new Tooltip,G.tooltip.hide(0),G.tooltip.setBounds({x:0,y:0,width:J.maxWidth,height:J.maxHeight}),J.events.on("maxsizechanged",function(){getValue(G.tooltip).setBounds({x:0,y:0,width:J.maxWidth,height:J.maxHeight})},void 0,!1);var Q=new Preloader;if(Q.events.on("inited",function(){Q.__disabled=!0},void 0,!1),Y.preloader=Q,G instanceof Container&&!G.hasLicense()){var ee=J.createChild(AmChartsLogo);J.events.on("maxsizechanged",function(te){J.maxWidth<=100||J.maxHeight<=50?ee.hide():(ee.isHidden||ee.isHiding)&&ee.show()},void 0,!1),G.logo=ee,ee.align="left",ee.valign="bottom"}return G.numberFormatter,Y.isStandaloneInstance=!0,G}else throw system$1.log("html container not found"),new Error("html container not found")}function create(V,E){var F;isString$2(E)&&(hasValue(registry.registeredClasses[E])?E=registry.registeredClasses[E]:(E=registry.registeredClasses.Container,F=new Error("Class ["+E+"] is not loaded.")));var R=createChild(V,E);return F&&R.raiseCriticalError(F),R}function useTheme(V){registry.themes.indexOf(V)===-1&&registry.themes.push(V)}function unuseAllThemes(){registry.themes=[]}function addLicense(V){options.licenses.push(V)}var Grip=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="Grip";var R=new InterfaceColorSet;F.layout="absolute",F.padding(10,10,10,10),F.margin(3,3,3,3),F.background.fillOpacity=.3,F.background.cornerRadius(10,10,10,10);var U=new Sprite;U.element=F.paper.add("path");var W=moveTo({x:-6,y:0});return W+=lineTo({x:6,y:0}),W+=moveTo({x:-8,y:-6}),W+=lineTo({x:0,y:-12}),W+=lineTo({x:8,y:-6}),W+=moveTo({x:-8,y:6}),W+=lineTo({x:0,y:12}),W+=lineTo({x:8,y:6}),U.path=W,U.strokeWidth=2,U.fillOpacity=0,U.pixelPerfect=!0,U.padding(0,4,0,4),U.stroke=R.getFor("text"),U.strokeOpacity=.7,U.align="center",U.valign="middle",F.icon=U,F.label.dispose(),F.label=void 0,F.position="right",F.autoHideDelay=3e3,F.events.on("shown",function(Y){F._autoHideTimeout&&F._autoHideTimeout.dispose(),F.autoHideDelay&&(F._autoHideTimeout=F.setTimeout(function(){F.hide()},F.autoHideDelay))}),F.events.on("down",function(Y){F._autoHideTimeout&&F._autoHideTimeout.dispose()}),F.events.on("out",function(Y){F.autoHideDelay&&(F._autoHideTimeout=F.setTimeout(function(){F.hide()},F.autoHideDelay))}),F.applyTheme(),F}return Object.defineProperty(E.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(F){if(this.setPropertyValue("position",F))switch(F){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=percent(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=percent(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=percent(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=percent(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=percent(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(F){this.setPropertyValue("autoHideDelay",F)},enumerable:!0,configurable:!0}),E}(Button);registry.registeredClasses.Grip=Grip;var ChartDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ChartDataItem",F.applyTheme(),F}return E}(DataItem),Chart=function(V){__extends(E,V);function E(){var F=V.call(this)||this;if(F._legend=new MutableValueDisposer,F.constructor===E)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");F.className="Chart";var R=new Label;F.titles=new ListTemplate(R),F._disposers.push(new ListDisposer(F.titles)),F._disposers.push(R),F.width=percent(100),F.height=percent(100),F.layout="vertical";var U=F.createChild(Container);U.shouldClone=!1,U.layout="vertical",U.width=percent(100),U.height=percent(100),F.chartAndLegendContainer=U;var W=U.createChild(Container);return W.shouldClone=!1,W.width=percent(100),W.height=percent(100),F.chartContainer=W,F.showOnInit=!0,F._disposers.push(F._legend),F.titles.events.on("inserted",function(Y){F.processTitle(Y),F.updateReaderTitleReferences()},F,!1),F.titles.events.on("removed",function(Y){F.updateReaderTitleReferences()},F,!1),F.role="region",F.defaultState.transitionDuration=1,F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},E.prototype.draw=function(){this.fixLayout(),V.prototype.draw.call(this)},E.prototype.fixLayout=function(){var F=this.legend;if(F){var R=this.chartAndLegendContainer,U=this.chartContainer;switch(U.x=void 0,U.y=void 0,F.position!="absolute"&&(F.x=void 0,F.y=void 0),F.position){case"left":R.layout="horizontal",F.toBack();break;case"right":R.layout="horizontal",F.toFront();break;case"top":R.layout="vertical",F.toBack();break;case"bottom":R.layout="vertical",F.toFront();break;case"absolute":F.isMeasured=!1;break}}},E.prototype.feedLegend=function(){},E.prototype.processTitle=function(F){var R=F.newValue;return R.parent=this,R.toBack(),R.shouldClone=!1,R.align="center",R.uidAttr(),R},E.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var F=[];each(this.titles.iterator(),function(R){F.push(R.uid)}),this.setSVGAttribute({"aria-labelledby":F.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(E.prototype,"legend",{get:function(){return this._legend.get()},set:function(F){this.setLegend(F)},enumerable:!0,configurable:!0}),E.prototype.setLegend=function(F){var R=this;this._legend.get()!==F&&(F?(F.parent=this.chartAndLegendContainer,this._legend.set(F,F.events.on("propertychanged",function(U){U.property=="position"&&R.fixLayout()},void 0,!1)),F.addDisposer(new Disposer(function(){R.legend=void 0}))):this._legend.reset(),this.feedLegend())},E.prototype.dispose=function(){this.legend&&this.legend.dispose(),V.prototype.dispose.call(this)},E.prototype.processConfig=function(F){F&&hasValue(F.legend)&&!hasValue(F.legend.type)&&(F.legend.type="Legend"),V.prototype.processConfig.call(this,F)},E.prototype.copyFrom=function(F){this.titles.copyFrom(F.titles),this.chartContainer.copyFrom(F.chartContainer),F.legend&&(this.legend=F.legend.clone(),this.legend.removeChildren()),V.prototype.copyFrom.call(this,F)},Object.defineProperty(E.prototype,"dragGrip",{get:function(){var F=this;if(!this._dragGrip){var R=this.tooltipContainer.createChild(Grip);R.align="right",R.valign="middle",R.hide(0),R.events.on("down",function(U){U.touch&&(F.interactionsEnabled=!1)}),R.events.on("up",function(U){F.interactionsEnabled=!0}),this.events.on("down",function(U){U.touch&&R.show()}),this._dragGrip=R}return this._dragGrip},set:function(F){this._dragGrip=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(F){this.parent.focusable=F},enumerable:!0,configurable:!0}),E}(Component$1);registry.registeredClasses.Chart=Chart;defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(V,E){if(V instanceof Chart){var F=V.states.create(E);return V.pixelPaddingLeft>10&&(F.properties.paddingLeft=10),V.pixelPaddingRight>10&&(F.properties.paddingRight=10),F}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(V,E){if(V instanceof Chart){var F=V.states.create(E);return V.pixelPaddingTop>10&&(F.properties.paddingTop=10),V.pixelPaddingBottom>10&&(F.properties.paddingBottom=10),F}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.widthXXS,state:function(V,E){if(V instanceof Chart){var F=V.states.create(E);return F.properties.paddingLeft=0,F.properties.paddingRight=0,F}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.heightXXS,state:function(V,E){if(V instanceof Chart){var F=V.states.create(E);return F.properties.paddingTop=0,F.properties.paddingBottom=0,F}return null}});var Bullet=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Bullet",F.isMeasured=!1,F.tooltipX=0,F.tooltipY=0,F.layout="none",F.applyOnClones=!0,F.copyToLegendMarker=!0,F.applyTheme(),F}return Object.defineProperty(E.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(F){if(this.setPropertyValue("locationX",F)){var R=this.dataItem;R&&R.component&&R.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(F){if(this.setPropertyValue("locationY",F)){var R=this.dataItem;R&&R.component&&R.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(F){this.setPropertyValue("xField",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(F){this.setPropertyValue("yField",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(F){this.setPropertyValue("isDynamic",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(F){this.setPropertyValue("copyToLegendMarker",F)},enumerable:!0,configurable:!0}),E}(Container);registry.registeredClasses.Bullet=Bullet;defaultRules.push({relevant:ResponsiveBreakpoints.isXS,state:function(V,E){if(V instanceof Bullet){var F=V.states.create(E);return F.properties.disabled=!0,F}return null}});var LegendDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.childrenCreated=!1,F.className="LegendDataItem",F.applyTheme(),F}return Object.defineProperty(E.prototype,"label",{get:function(){var F=this;if(!this._label){var R=this.component.labels.create();this._label=R,this.addSprite(R),this._disposers.push(R),R.parent=this.itemContainer,this._disposers.push(new Disposer(function(){hasValue(F.component)&&F.component.labels.removeValue(R)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"color",{get:function(){return this.properties.color},set:function(F){this.setProperty("color",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"valueLabel",{get:function(){var F=this;if(!this._valueLabel){var R=this.component.valueLabels.create();this._valueLabel=R,this.addSprite(R),this._disposers.push(R),R.parent=this.itemContainer,this._disposers.push(new Disposer(function(){hasValue(F.component)&&F.component.valueLabels.removeValue(R)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"itemContainer",{get:function(){var F=this;if(!this._itemContainer){var R=this.component,U=R.itemContainers.create();U.parent=R,this._itemContainer=U,this.addSprite(U),this._disposers.push(U),U.togglable&&U.events.on("toggled",function(G){R.toggleDataItem(G.target.dataItem)},void 0,!1),U.focusable&&(U.events.on("hit",function(G){R.focusedItem=void 0},void 0,!1),U.events.on("focus",function(G){R.focusedItem=G.target.dataItem},void 0,!1),U.events.on("blur",function(G){R.focusedItem=void 0},void 0,!1)),this._disposers.push(new Disposer(function(){hasValue(F.component)&&F.component.itemContainers.removeValue(U)})),this.dataContext.uidAttr&&(U.readerControls=this.dataContext.uidAttr(),U.readerLabelledBy=this.dataContext.uidAttr());var W=this.dataContext;if((W instanceof DataItem||W instanceof Sprite)&&!W.isDisposed()){var Y=function(G){U.readerChecked=G.visible,U.events.disableType("toggled"),U.isActive=!G.visible,U.events.enableType("toggled")};W.addDisposer(new Disposer(function(){F.component&&F.component.dataItems.remove(F)})),W instanceof Sprite?(U.addDisposer(W.events.on("visibilitychanged",Y,void 0,!1)),U.addDisposer(W.events.on("hidden",function(G){U.readerChecked=!1,U.events.disableType("toggled"),U.isActive=!0,U.events.enableType("toggled")},void 0,!1)),U.addDisposer(W.events.on("shown",function(G){U.readerChecked=!0,U.events.disableType("toggled"),U.isActive=!1,U.events.enableType("toggled")},void 0,!1))):U.addDisposer(W.events.on("visibilitychanged",Y,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"marker",{get:function(){var F=this;if(!this._marker){var R=this.component.markers.create();this._marker=R,R.parent=this.itemContainer,this.addSprite(R),this._disposers.push(R),this._disposers.push(new Disposer(function(){hasValue(F.component)&&F.component.markers.removeValue(R)}))}return this._marker},enumerable:!0,configurable:!0}),E}(DataItem),LegendSettings=function(){function V(){this.createMarker=!0}return V}(),Legend=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="Legend",F.layout="grid",F.setPropertyValue("useDefaultMarker",!1),F.setPropertyValue("scrollable",!1),F.setPropertyValue("contentAlign","center");var R=new Container;R.applyOnClones=!0,R.padding(8,0,8,0),R.margin(0,10,0,10),R.layout="horizontal",R.clickable=!0,R.focusable=!0,R.role="switch",R.togglable=!0,R.cursorOverStyle=MouseCursorStyle.pointer,R.background.fillOpacity=0,F.itemContainers=new ListTemplate(R),F._disposers.push(new ListDisposer(F.itemContainers)),F._disposers.push(F.itemContainers.template),F._disposers.push(getInteraction().body.events.on("keyup",function(Z){if(keyboard.isKey(Z.event,"enter")&&F.focusedItem){var J=F.focusedItem,Q=J.itemContainer;Q.togglable?F.toggleDataItem(J):Q.clickable&&Q.events.isEnabled("hit")&&(Q.dispatchImmediately("hit",{event:Z}),F.focusedItem=J)}},F));var U=new InterfaceColorSet,W=new Container;W.width=23,W.height=23,W.interactionsEnabled=!1,W.applyOnClones=!0,W.setStateOnChildren=!0,W.background.fillOpacity=0,W.background.strokeOpacity=0,W.propertyFields.fill="fill",W.valign="middle";var Y=U.getFor("disabledBackground");W.events.on("childadded",function(Z){var J=Z.newValue,Q=J.states.create("active");Q.properties.stroke=Y,Q.properties.fill=Y}),F.markers=new ListTemplate(W),F._disposers.push(new ListDisposer(F.markers)),F._disposers.push(F.markers.template);var G=W.createChild(RoundedRectangle);G.width=percent(100),G.height=percent(100),G.applyOnClones=!0,G.propertyFields.fill="fill",G.strokeOpacity=0;var X=new Label;X.text="{name}",X.margin(0,5,0,5),X.valign="middle",X.applyOnClones=!0,X.states.create("active").properties.fill=U.getFor("disabledBackground"),F.labels=new ListTemplate(X),F._disposers.push(new ListDisposer(F.labels)),F._disposers.push(F.labels.template),X.interactionsEnabled=!1,X.truncate=!0,X.fullWords=!1;var K=new Label;return K.margin(0,5,0,0),K.valign="middle",K.width=50,K.align="right",K.textAlign="end",K.applyOnClones=!0,K.states.create("active").properties.fill=U.getFor("disabledBackground"),K.interactionsEnabled=!1,F.valueLabels=new ListTemplate(K),F._disposers.push(new ListDisposer(F.valueLabels)),F._disposers.push(F.valueLabels.template),F.position="bottom",R.states.create("active"),R.setStateOnChildren=!0,F.role="group",F.events.on("layoutvalidated",F.handleScrollbar,F,!1),F.events.on("parentset",function(){var Z=F.parent;Z&&F._disposers.push(Z.events.on("maxsizechanged",function(){F.scrollable&&F.setTimeout(function(){F.updateMasks(),F.handleScrollbar(),F._handleWheelReal(1)},100)}))}),F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},E.prototype.createDataItem=function(){return new LegendDataItem},E.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),V.prototype.validateDataElements.call(this)},E.prototype.validateDataElement=function(F){V.prototype.validateDataElement.call(this,F);var R=F.itemContainer,U=F.marker;F.label;var W=F.valueLabel;R.readerChecked=F.dataContext.visible,F.dataContext.legendDataItem=F;var Y=F.label.maxWidth;F.label.width instanceof Percent||(F.label.width=void 0),Y>0&&(F.label.maxWidth=Y),W.align=="right"&&(W.width=void 0);var G=F.dataContext.legendSettings,X=F.dataContext;X.createLegendMarker&&(!this.useDefaultMarker||!(X instanceof Sprite))?F.childrenCreated||(X.createLegendMarker(U),F.childrenCreated=!0):this.markers.template.propertyFields.fill=void 0,X.updateLegendValue&&X.updateLegendValue(),X.component&&X.component.updateLegendValue&&X.component.updateLegendValue(X),W.invalid&&W.validate(),W.text==""||W.text==null?W.__disabled=!0:W.__disabled=!1,G&&(G.itemValueText!=null||G.valueText!=null)&&(W.__disabled=!1);var K=F.dataContext.visible;K===void 0&&(K=!0),K=toBoolean(K),F.dataContext.visible=K,R.events.disableType("toggled"),R.isActive=!K,R.isActive?R.setState("active",0):R.setState("default",0),R.events.enableType("toggled")},E.prototype.afterDraw=function(){var F=this,R=this.getPropertyValue("maxWidth"),U=0;this.labels.each(function(J){J.invalid&&(J.maxWidth=void 0,J.validate()),J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight>U&&(U=J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight)});var W=0;this.valueLabels.each(function(J){J.invalid&&J.validate(),J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight>W&&(W=J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight)});var Y=0;this.markers.each(function(J){J.invalid&&J.validate(),J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight>Y&&(Y=J.measuredWidth+J.pixelMarginLeft+J.pixelMarginRight)});var G=this.itemContainers.template,X=G.pixelMarginRight+G.pixelMarginLeft,K,Z=U+W+Y;isNumber$1(R)?(R=R-X,R>Z&&(R=Z),K=R-Y-W):K=U,this.labels.each(function(J){(F.valueLabels.template.align=="right"||J.measuredWidth>K)&&(J.width instanceof Percent||(J.width=Math.min(J.maxWidth,K-J.pixelMarginLeft-J.pixelMarginRight),J.maxWidth=J.width))}),this.valueLabels.template.align=="right"&&this.valueLabels.each(function(J){J.width=W-J.pixelMarginRight-J.pixelMarginLeft}),V.prototype.afterDraw.call(this)},E.prototype.handleScrollbar=function(){var F=this.scrollbar;if(this.scrollable&&F){var R=this.maxHeight;F.height=R,F.x=this.measuredWidth-F.pixelWidth-F.pixelMarginLeft,this.contentHeight>R?(F.visible=!0,F.thumb.height=F.height*R/this.contentHeight,this.paddingRight=F.pixelWidth+F.pixelMarginLeft+F.pixelMarginRight):(F.thumb.height=F.height*R/this.contentHeight,this.paddingRight=F.pixelWidth+F.pixelMarginLeft+F.pixelMarginRight,F.visible=!1,F.start=0,F.end=1),F.handleThumbPosition(),this.updateMasks()}},Object.defineProperty(E.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(F){this.setPropertyValue("position",F)&&(F=="left"||F=="right"?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",isNumber$1(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=percent(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(F){this.setPropertyValue("useDefaultMarker",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(F){if(this.setPropertyValue("scrollable",F,!0))if(F){var R=this.createChild(Scrollbar);this.scrollbar=R,R.isMeasured=!1,R.orientation="vertical",R.endGrip.__disabled=!0,R.startGrip.__disabled=!0,R.visible=!1,R.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(R.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),E.prototype.handleWheel=function(F){this._handleWheelReal(F.shift.y)},E.prototype._handleWheelReal=function(F){var R=this.scrollbar;if(R){var U=F/1e3*this.measuredHeight/this.contentHeight,W=R.end-R.start;F>0?(R.start=max$1(0,R.start-U),R.end=R.start+W):(R.end=min$1(1,R.end-U),R.start=R.end-W)}},E.prototype.updateMasks=function(){var F=this;this.scrollbar&&this.itemContainers.each(function(R){R.dy=-F.scrollbar.thumb.pixelY*F.contentHeight/F.maxHeight,R.maskRectangle={x:0,y:-R.dy,width:F.measuredWidth,height:F.maxHeight}}),this.invalidatePosition()},E.prototype.toggleDataItem=function(F){var R=F.dataContext;!R.visible||R.isHiding||R instanceof Sprite&&R.isHidden?(F.color=F.colorOrig,R.appeared=!0,F.itemContainer.isActive=!1,R.hidden===!0&&(R.hidden=!1),R.show?R.show():R.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,F.label.readerTitle))):(F.itemContainer.isActive=!0,R.appeared=!0,R.hide?R.hide():R.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,F.label.readerTitle)),F.color=new InterfaceColorSet().getFor("disabledBackground"))},Object.defineProperty(E.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),E.prototype.handleDataItemPropertyChange=function(F,R){F.valueLabel.invalidate(),F.label.invalidate()},E}(Component$1);registry.registeredClasses.Legend=Legend;defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(V,E){if(V instanceof Legend&&(V.position=="left"||V.position=="right")){var F=V.states.create(E);return F.properties.position="bottom",F}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(V,E){if(V instanceof Legend&&(V.position=="top"||V.position=="bottom")){var F=V.states.create(E);return F.properties.position="right",F}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.isXS,state:function(V,E){if(V instanceof Legend){var F=V.states.create(E);return F.properties.disabled=!0,F}return null}});var SeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="SeriesDataItem",F.values.value={},F.values.value={},F.applyTheme(),F}return Object.defineProperty(E.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Dictionary,this._disposers.push(new DictionaryDisposer(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),E.prototype.dispose=function(){this.bullets.clear(),V.prototype.dispose.call(this)},Object.defineProperty(E.prototype,"value",{get:function(){return this.values.value.value},set:function(F){this.setValue("value",F)},enumerable:!0,configurable:!0}),E}(DataItem),Series=function(V){__extends(E,V);function E(){var F=V.call(this)||this;if(F._ignoreMinMax=!1,F._showBullets=!0,F.legendSettings=new LegendSettings,F._tmin=new Dictionary,F._tmax=new Dictionary,F._smin=new Dictionary,F._smax=new Dictionary,F.dataItemsByAxis=new Dictionary,F.skipFocusThreshold=20,F._itemReaderTextChanged=!1,F.calculatePercent=!1,F.usePercentHack=!0,F.autoDispose=!0,F.simplifiedProcessing=!1,F.constructor===E)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");F.className="Series",F.isMeasured=!1,F.layout="none",F.shouldClone=!1,F.setPropertyValue("hidden",!1),F.axisRanges=new List,F.axisRanges.events.on("inserted",F.processAxisRange,F,!1),F.minBulletDistance=0,F.mainContainer=F.createChild(Container),F.mainContainer.shouldClone=!1,F.mainContainer.mask=F.createChild(Sprite),F._disposers.push(F.mainContainer);var R=F.mainContainer.createChild(Container);return F._shouldBeReady.push(R),R.shouldClone=!1,R.layout="none",R.virtualParent=F,F._disposers.push(R),F.bulletsContainer=R,F.tooltip=new Tooltip,F.tooltip.virtualParent=F,F._disposers.push(F.tooltip),F.hiddenState.transitionEasing=cubicIn,F.dataItem=F.createDataItem(),F._disposers.push(F.dataItem),F.dataItem.component=F,F.role="group",F.applyTheme(),F}return E.prototype.applyTheme=function(){V.prototype.applyTheme.call(this)},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},E.prototype.createDataItem=function(){return new SeriesDataItem},Object.defineProperty(E.prototype,"chart",{get:function(){return this._chart},set:function(F){this._chart=F},enumerable:!0,configurable:!0}),E.prototype.positionBullet=function(F){},E.prototype.processBullet=function(F){var R=this,U=F.newValue;U.isTemplate=!0,this.events.once("datavalidated",function(W){R.itemsFocusable()&&(U.focusable=!0)}),this.invalidate()},E.prototype.removeBullet=function(F){var R=F.oldValue;this.dataItems.each(function(U){var W=U.bullets.getKey(R.uid);W&&W.dispose()}),this.invalidate()},E.prototype.validateDataItems=function(){V.prototype.validateDataItems.call(this),this.processValues(!1)},E.prototype.getFirstValue=function(F,R){for(var U=R;U>=0;U--){var W=this.dataItems.getIndex(U),Y=W.getActualWorkingValue(F);if(isNumber$1(Y))return Y}return null},E.prototype.getAbsoluteFirstValue=function(F){for(var R=0;R<this.dataItems.length;R++){var U=this.dataItems.getIndex(R),W=U.values[F].value;if(isNumber$1(W))return W}return null},E.prototype.rangeChangeUpdate=function(){V.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},E.prototype.processValues=function(F){var R=this;if(!this.simplifiedProcessing){var U=this.dataItems,W={},Y={},G={},X={},K={},Z={},J={},Q={},ee={},te={},ie=max$1(0,this.startIndex);ie=min$1(ie,this.dataItems.length);var re=min$1(this.endIndex,this.dataItems.length);if(isNumber$1(ie)||(ie=0),isNumber$1(re)||(re=this.dataItems.length),ie>0){var ne=U.getIndex(ie-1);each$1(ne.values,function(ce,he){var me=ne.getActualWorkingValue(ce);isNumber$1(me)&&(Q[ce]=me)})}for(var ae=function(ce){var he=U.getIndex(ce);each$1(he.values,function(me,Pe){var we=he.getActualWorkingValue(me);if(isNumber$1(we)){isNumber$1(W[me])||(W[me]=0),W[me]++,isNumber$1(Y[me])||(Y[me]=0),Y[me]+=we,isNumber$1(G[me])||(G[me]=0),G[me]+=Math.abs(we),isNumber$1(Z[me])||(Z[me]=we),J[me]=we,isNumber$1(X[me])?X[me]>we&&(X[me]=we):X[me]=we,isNumber$1(K[me])?K[me]<we&&(K[me]=we):K[me]=we,isNumber$1(ee[me])||(ee[me]=R.getFirstValue(me,ie)),isNumber$1(te[me])||(te[me]=R.getAbsoluteFirstValue(me)),he.setCalculatedValue(me,we-ee[me],"change"),he.setCalculatedValue(me,(we-ee[me])/ee[me]*100,"changePercent"),he.setCalculatedValue(me,we-te[me],"startChange"),he.setCalculatedValue(me,(we-te[me])/te[me]*100,"startChangePercent");var fe=Q[me];isNumber$1(fe)||(fe=we),he.setCalculatedValue(me,we-fe,"previousChange"),he.setCalculatedValue(me,(we-fe)/fe*100,"previousChangePercent"),Q[me]=we}})},se=ie;se<re;se++)ae(se);if(this.calculatePercent)for(var le=function(ce){var he=U.getIndex(ce);each$1(he.values,function(me){var Pe=G[me],we=he.getActualWorkingValue(me);if(isNumber$1(we))if(Pe>0){R.usePercentHack&&we==Pe&&(Pe=he.values[me].value);var fe=we/Pe*100;he.setCalculatedValue(me,fe,"percent")}else he.setCalculatedValue(me,0,"percent")})},se=ie;se<re;se++)le(se);if(ie>0){var oe=U.getIndex(ie-1);each$1(oe.values,function(ce){var he=oe.values[ce].value;oe.setCalculatedValue(ce,he-Z[ce],"change"),oe.setCalculatedValue(ce,(he-Z[ce])/Z[ce]*100,"changePercent")})}var ue=this.dataItem;each$1(ue.values,function(ce){ue.setCalculatedValue(ce,Y[ce],"sum"),ue.setCalculatedValue(ce,G[ce],"absoluteSum"),ue.setCalculatedValue(ce,Y[ce]/W[ce],"average"),ue.setCalculatedValue(ce,Z[ce],"open"),ue.setCalculatedValue(ce,J[ce],"close"),ue.setCalculatedValue(ce,X[ce],"low"),ue.setCalculatedValue(ce,K[ce],"high"),ue.setCalculatedValue(ce,W[ce],"count")})}},E.prototype.validate=function(){isIE()&&this.filters.clear(),each(this.axisRanges.iterator(),function(W){W.validate()}),V.prototype.validate.call(this);var F=this.bulletsContainer;if(F.fill=this.fill,F.stroke=this.stroke,F.x=this.pixelX,F.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var R=0;R<this.startIndex;R++){var U=this.dataItems.getIndex(R);U&&U.bullets.each(function(W,Y){Y.__disabled=!0})}for(var R=this.dataItems.length-1;R>this.endIndex;R--){var U=this.dataItems.getIndex(R);U&&U.bullets.each(function(G,X){X.__disabled=!0})}}else this.bulletsContainer.children.each(function(W){W.__disabled=!0});this.updateTooltipBounds()},E.prototype.updateTooltipBounds=function(){if(this.topParent){var F=0,R=0,U=this.topParent.maxWidth,W=this.topParent.maxHeight,Y={x:F,y:R,width:U,height:W};this.tooltip.setBounds(Y)}},E.prototype.shouldCreateBullet=function(F,R){return!0},E.prototype.validateDataElement=function(F){var R=this;V.prototype.validateDataElement.call(this,F),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(U){var W=F.bullets.getKey(U.uid);if(R.shouldCreateBullet(F,U)){if(!W){var Y=U.propertyFields.disabled,G=F.dataContext;Y&&G&&G[Y]===!1?(U.applyOnClones=!1,U.disabled=!1,W=U.clone(),U.disabled=!0,U.applyOnClones=!0):W=U.clone(),W.shouldClone=!1,F.addSprite(W),(!R.visible||R.isHiding)&&W.hide(0)}var X=W.dataItem;if(X!=F){X&&X.bullets.setKey(U.uid,void 0);var K=R.itemReaderText;W instanceof Bullet&&(K||(K="{"+W.xField+"}: {"+W.yField+"}"),W.isDynamic&&(F.events.on("workingvaluechanged",W.deepInvalidate,W,!1),R.dataItem.events.on("workingvaluechanged",W.deepInvalidate,W,!1)),W.deepInvalidate()),W.focusable&&(W.events.on("focus",function(Z){W.readerTitle=R.populateString(K,W.dataItem)},void 0,!1),W.events.on("blur",function(Z){W.readerTitle=""},void 0,!1)),W.hoverable&&(W.events.on("over",function(Z){W.readerTitle=R.populateString(K,W.dataItem)},void 0,!1),W.events.on("out",function(Z){W.readerTitle=""},void 0,!1))}W.parent=R.bulletsContainer,F.bullets.setKey(U.uid,W),W.maxWidth=F.itemWidth,W.maxHeight=F.itemHeight,W.__disabled=!1,R.positionBullet(W)}else W&&(W.__disabled=!0)})):this.bulletsContainer.visible=!1},E.prototype.handleDataItemWorkingValueChange=function(F,R){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(E.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(F){this._ignoreMinMax=F,this.invalidateDataItems()},enumerable:!0,configurable:!0}),E.prototype.createMask=function(){},E.prototype.processAxisRange=function(F){this.rangesContainer||(this.rangesContainer=this.createChild(Container),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var R=F.newValue;R&&(R.contents.parent=this.rangesContainer,R.isRange=!0,R.events.on("valuechanged",this.invalidateDataItems,this,!1))},E.prototype.getAxisField=function(F){},E.prototype.showTooltipAtPosition=function(F,R){},Object.defineProperty(E.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(F){this.setPropertyValue("minBulletDistance",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new ListTemplate(new Bullet),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new ListDisposer(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),E.prototype.createLegendMarker=function(F){},Object.defineProperty(E.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(F){this.setPropertyValue("hiddenInLegend",F)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(F){this.setPropertyValue("name",F);var R=this.legendDataItem;R&&(R.component.invalidate(),R.component.invalidateRawData()),this.readerTitle=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"itemReaderText",{get:function(){var F=this._itemReaderText;return F||(this.tooltipText?F=plainText(this.tooltipText):this.tooltipHTML&&(F=plainText(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",F):F},set:function(F){this._itemReaderText=F,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),E.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(E.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(F){this._legendDataItem=F,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),E.prototype.updateLegendValue=function(F,R){if(this.legendDataItem){var U=this.legendSettings,W=this.legendDataItem,Y=W.label,G=W.valueLabel;F&&!F.isDisposed()||R?(G&&(U.itemValueText&&(G.text=U.itemValueText),G.dataItem=F),Y&&(U.itemLabelText&&(Y.text=U.itemLabelText),Y.dataItem=F)):(Y&&((U.labelText||U.itemLabelText!=null)&&(Y.text=U.labelText),Y.dataItem=this.dataItem),G&&((U.valueText||U.itemValueText!=null)&&(G.text=U.valueText),G.dataItem=this.dataItem))}},E.prototype.copyFrom=function(F){this.bullets.copyFrom(F.bullets),this.bulletsContainer.copyFrom(F.bulletsContainer),this.calculatePercent=F.calculatePercent,this.usePercentHack=F.usePercentHack,this.simplifiedProcessing=F.simplifiedProcessing,V.prototype.copyFrom.call(this,F)},E.prototype.raiseCriticalError=function(F){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",F).message,this._chart.modal.closable=!1,this._chart.modal.open(),this._chart.disabled=!0),console.log(F)},E.prototype.applyFilters=function(){var F=this;V.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),each(this.filters.iterator(),function(R){F.bulletsContainer.filters.push(R.clone())})},Object.defineProperty(E.prototype,"heatRules",{get:function(){var F=this;return this._heatRules||(this._heatRules=new List,this._heatRules.events.on("inserted",function(R){var U=R.newValue,W=U.target;if(W){var Y=U.dataField;hasValue(Y)||(Y="value");var G=F.dataItem,X=U.property,K=toNumber(U.minValue),Z=toNumber(U.maxValue);!isNumber$1(K)&&!isNumber$1(Z)&&F.dataItem.events.on("calculatedvaluechanged",function(J){J.property==Y&&each(F.dataItems.iterator(),function(Q){var ee=!1;each$2(Q.sprites,function(te){if(te.clonedFrom==W){var ie=te;ie[X]=ie[X],ee=!0}}),ee||each$2(Q.sprites,function(te){te instanceof Container&&each(te.children.iterator(),function(ie){if(ie.className==W.className){var re=ie;re[X]=re[X]}else ie instanceof Container&&ie.deepInvalidate()})})})}),F.dataItems.template.events.on("workingvaluechanged",function(J){if(J.property==Y){var Q=J.target,ee=!1;each$2(Q.sprites,function(te){if(te.clonedFrom==W){var ie=te;ie[X]=ie[X],ee=!0}}),ee||each$2(Q.sprites,function(te){te instanceof Container&&each(te.children.iterator(),function(ie){if(ie.className==W.className){var re=ie;re[X]=re[X]}else ie instanceof Container&&ie.deepInvalidate()})})}}),W.adapter.add(X,function(J,Q,ee){var te=toNumber(U.minValue),ie=toNumber(U.maxValue),re=U.min,ne=U.max;if(Q instanceof Sprite){var ae=Q,se=ae.propertyFields[ee];if(se&&Q.dataItem){var le=Q.dataItem.dataContext;if(le&&hasValue(le[se]))return J}}var oe=Q.dataItem;if(isNumber$1(te)||(te=G.values[Y].low),isNumber$1(ie)||(ie=G.values[Y].high),oe){var ue=oe.values[Y];if(ue){var ce=oe.getActualWorkingValue(Y);if(hasValue(re)&&hasValue(ne)&&isNumber$1(te)&&isNumber$1(ie)&&isNumber$1(ce)){var he=void 0;if(U.logarithmic?he=(Math.log(ce)*Math.LOG10E-Math.log(te)*Math.LOG10E)/(Math.log(ie)*Math.LOG10E-Math.log(te)*Math.LOG10E):he=(ce-te)/(ie-te),isNumber$1(ce)&&(!isNumber$1(he)||Math.abs(he)==1/0)&&(he=.5),isNumber$1(re))return re+(ne-re)*he;if(re instanceof Color)return new Color(interpolate(re.rgb,ne.rgb,he))}}}return J})}})),this._heatRules},enumerable:!0,configurable:!0}),E.prototype.processConfig=function(F){var R;if(F){if(hasValue(F.bullets)&&isArray$2(F.bullets))for(var U=0,W=F.bullets.length;U<W;U++){var Y=F.bullets[U];hasValue(Y.type)||(Y.type="Bullet")}hasValue(F.heatRules)&&isArray$2(F.heatRules)&&(R=F.heatRules,delete F.heatRules)}if(V.prototype.processConfig.call(this,F),R){for(var U=0,W=R.length;U<W;U++){var G=R[U],X=this;if(hasValue(G.target)&&isString$2(G.target))if(this.map.hasKey(G.target))X=this.map.getKey(G.target);else for(var K=G.target.split("."),Z=0;Z<K.length;Z++)if(X instanceof List){var J=X.getIndex(toNumber(K[Z]));J?X=J:X=X[K[Z]]}else{var Q=K[Z].match(/^(.*)\[([0-9]+)\]/);Q?X[Q[1]]instanceof List?X=X[Q[1]].getIndex(toNumber(Q[2])):X=X[Q[1]][toNumber(Q[2])]:X=X[K[Z]]}G.target=X,hasValue(G.min)&&(G.min=this.maybeColorOrPercent(G.min)),hasValue(G.max)&&(G.max=this.maybeColorOrPercent(G.max))}V.prototype.processConfig.call(this,{heatRules:R})}},E.prototype.configOrder=function(F,R){return F==R?0:F=="heatRules"?1:R=="heatRules"?-1:V.prototype.configOrder.call(this,F,R)},E.prototype.setVisibility=function(F){V.prototype.setVisibility.call(this,F),this.bulletsContainer.visible=F},E}(Component$1);registry.registeredClasses.Series=Series;registry.registeredClasses.SeriesDataItem=SeriesDataItem;var SerialChartDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="SerialChartDataItem",F.applyTheme(),F}return E}(ChartDataItem),SerialChart=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._exitDP={},F.className="SerialChart",F.colors=new ColorSet,F._usesData=!1;var R=F.chartContainer.createChild(Container);R.shouldClone=!1,R.width=percent(100),R.height=percent(100),R.isMeasured=!1,R.layout="none",R.zIndex=2,F.seriesContainer=R;var U=F.chartContainer.createChild(Container);return U.shouldClone=!1,U.width=percent(100),U.height=percent(100),U.isMeasured=!1,U.zIndex=3,U.layout="none",F.bulletsContainer=U,F.applyTheme(),F}return E.prototype.dispose=function(){V.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(E.prototype,"series",{get:function(){return this._series||(this._series=new ListTemplate(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new ListDisposer(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),E.prototype.handleSeriesRemoved=function(F){var R=F.oldValue;this.dataUsers.removeValue(R),this.dataUsers.each(function(K){K.invalidateDataItems()}),this._exitDP[R.uid]&&(this._exitDP[R.uid].dispose(),delete this._exitDP[R.uid]),R.autoDispose?R.dispose():(R.parent=void 0,R.bulletsContainer.parent=void 0);var U=this.legend;if(U){for(var W=this.legend.dataItems,Y=W.length-1;Y>=0;Y--){var G=W.getIndex(Y);G&&G.dataContext==R&&U.dataItems.remove(G)}for(var Y=U.data.length-1;Y>=0;Y--){var X=U.data[Y];X&&X==R&&remove(U.data,X)}}},E.prototype.handleSeriesAdded=function(F){var R=this,U=F.newValue;U.isDisposed()||(U.chart=this,U.parent=this.seriesContainer,U.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(U),U.addDisposer(new Disposer(function(){R.dataUsers.removeValue(U)})),this.handleSeriesAdded2(U),this.handleLegendSeriesAdded(U))},E.prototype.handleLegendSeriesAdded=function(F){F.hiddenInLegend||this.legend&&this.legend.addData(F)},E.prototype.handleSeriesAdded2=function(F){var R=this;this.dataInvalid||(this._exitDP[F.uid]=registry.events.once("exitframe",function(){(!F.data||F.data.length==0)&&(F.data=R.data,F.showOnInit&&(F.reinit(),F.setPropertyValue("showOnInit",!1),F.showOnInit=!0),F.isDisposed()||F.events.once("datavalidated",function(){F.data==R.data&&(F._data=[])}))}),this._disposers.push(this._exitDP[F.uid]))},E.prototype.feedLegend=function(){var F=this.legend;if(F){var R=[];each(this.series.iterator(),function(U){U.hiddenInLegend||R.push(U)}),F.dataFields.name="name",F.data=R}},E.prototype.createSeries=function(){return new Series},Object.defineProperty(E.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(F){this.setPropertyValue("colors",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(F){this.setPropertyValue("patterns",F,!0)},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.series.copyFrom(F.series)},E.prototype.appear=function(){V.prototype.appear.call(this),this.series.each(function(F){F.showOnInit&&F.inited&&F.appear()})},E}(Chart);registry.registeredClasses.SerialChart=SerialChart;var AxisBreak=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._axis=new MutableValueDisposer,F.dataItems=new List,F.className="AxisBreak",F.breakSize=.01,F.marginLeft=-5,F.marginRight=-5,F.marginTop=-5,F.marginBottom=-5;var R=new InterfaceColorSet,U=new WavedLine;U.fill=R.getFor("background"),U.stroke=color(),U.fillOpacity=.9,U.zIndex=0,F._fillShape=U;var W=new WavedLine;W.fill=color(),W.stroke=R.getFor("grid"),W.strokeOpacity=.3,W.zIndex=1,F._startLine=W;var Y=new WavedLine;return Y.fill=color(),Y.stroke=color("#000000"),Y.strokeOpacity=.3,Y.zIndex=2,F._endLine=Y,F._disposers.push(F._axis),F.applyTheme(),F}return E.prototype.dispose=function(){V.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(E.prototype,"startLine",{get:function(){return this._startLine},set:function(F){this._startLine&&this._startLine.dispose(),this._startLine=F,this.addBreakSprite(F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endLine",{get:function(){return this._endLine},set:function(F){this._endLine&&this._endLine.dispose(),this._endLine=F,this.addBreakSprite(F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fillShape",{get:function(){return this._fillShape},set:function(F){this._fillShape&&this._fillShape.dispose(),this._fillShape=F,this.addBreakSprite(F)},enumerable:!0,configurable:!0}),E.prototype.addBreakSprite=function(F){F.parent=this,F.isMeasured=!1,this._disposers.push(F)},Object.defineProperty(E.prototype,"axis",{get:function(){return this._axis.get()},set:function(F){if(this._axis.get()!==F){this._axis.set(F,F.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),F.renderer.createBreakSprites(this);var R=F.axisBreaks.template;this.startLine.copyFrom(R.startLine),this.endLine.copyFrom(R.endLine),this.fillShape.copyFrom(R.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(F){this.setPropertyValue("breakSize",F)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startPoint",{get:function(){var F=this.axis.renderer;if(F)return F.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endPoint",{get:function(){var F=this.axis.renderer;if(F)return F.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),E.prototype.draw=function(){if(V.prototype.draw.call(this),this.axis){var F=this.axis.renderer;F.updateBreakElement(this)}},Object.defineProperty(E.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(F){this.setPropertyValue("startValue",F)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(F){this.setPropertyValue("endValue",F)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),E}(Container);registry.registeredClasses.AxisBreak=AxisBreak;var AxisDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="AxisDataItem",F.applyTheme(),F}return Object.defineProperty(E.prototype,"grid",{get:function(){if(!this._grid){var F=this.component;if(F){var R=void 0,U;if(this.isRange){if(R=F.axisRanges.template.grid,R.disabled)return;U=R.clone()}else{if(R=F.renderer.grid.template,R.disabled)return;U=F.renderer.grid.create(),this._disposers.push(new Disposer(function(){F.renderer.grid.removeValue(U)}))}this.grid=U,U.shouldClone=!1,this._disposers.push(U),U.axis=this.component}}return this._grid},set:function(F){this._grid&&this._grid!=F&&(remove(this.sprites,this._grid),this._grid.dataItem=void 0),F&&(F.dataItem&&F.dataItem!=this&&(remove(F.dataItem.sprites,F),F.dataItem.grid=void 0),this.addSprite(F)),this._grid=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tick",{get:function(){if(!this._tick){var F=this.component;if(F){var R=void 0,U;if(this.isRange){if(R=F.axisRanges.template.tick,R.disabled)return;U=R.clone()}else{if(R=F.renderer.ticks.template,R.disabled)return;U=F.renderer.ticks.create(),this._disposers.push(new Disposer(function(){F.renderer.ticks.removeValue(U)}))}this.tick=U,U.axis=this.component,U.shouldClone=!1,this._disposers.push(U)}}return this._tick},set:function(F){this._tick&&this._tick!=F&&(remove(this.sprites,this._tick),this._tick.dataItem=void 0),F&&(F.dataItem&&F.dataItem!=this&&(remove(F.dataItem.sprites,F),F.dataItem.tick=void 0),this.addSprite(F)),this._tick=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"label",{get:function(){if(!this._label){var F=this.component;if(F){var R=void 0,U;if(this.isRange){if(R=F.axisRanges.template.label,R.disabled)return;U=R.clone()}else{if(R=F.renderer.labels.template,R.disabled)return;U=F.renderer.labels.create(),this._disposers.push(new Disposer(function(){F.renderer.labels.removeValue(U)}))}this._disposers.push(U),this.label=U,U.shouldClone=!1,U.axis=this.component,U.virtualParent=F}}return this._label},set:function(F){this._label&&this._label!=F&&(remove(this.sprites,this._label),this._label.dataItem=void 0),F&&(F.dataItem&&F.dataItem!=this&&(remove(F.dataItem.sprites,F),F.dataItem.label=void 0),this.addSprite(F)),this._label=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"axisFill",{get:function(){if(!this._axisFill){var F=this.component;if(F){var R=void 0,U;if(this.isRange){if(R=F.axisRanges.template.axisFill,!this.isTemplate&&R.disabled)return;U=R.clone()}else{if(R=F.renderer.axisFills.template,R.disabled)return;U=F.renderer.axisFills.create(),this._disposers.push(new Disposer(function(){F.renderer.axisFills.removeValue(U)}))}this.axisFill=U,U.shouldClone=!1,this._disposers.push(U)}}return this._axisFill},set:function(F){this._axisFill&&this._axisFill!=F&&(remove(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),F&&(F.dataItem&&F.dataItem!=this&&(remove(F.dataItem.sprites,F),F.dataItem.axisFill=void 0),F.axis=this.component,this.addSprite(F)),this._axisFill=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"text",{get:function(){return this._text},set:function(F){this._text=F,this._label&&(this._label.text=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"contents",{get:function(){if(!this._contents){var F=new Container;this.addSprite(F),F.isMeasured=!1,this._contents=F;var R=this.component;if(R){var U=R.renderer.createFill(this.component);U.disabled=!1,U.axis=R,this.addSprite(U),this._mask=U,F.mask=U}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(F){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),F&&F.dataItems.push(this),this._axisBreak=F},enumerable:!0,configurable:!0}),E.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},E.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},E.prototype.hasProperty=function(F){return F=="component"?!0:V.prototype.hasProperty.call(this,F)},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.text=F.text,F.bullet&&(this.bullet=F.bullet.clone()),this.minPosition=F.minPosition,this.maxPosition=F.maxPosition},E.prototype.setVisibility=function(F,R){V.prototype.setVisibility.call(this,F,R),this._contents&&(this._contents.visible=F)},Object.defineProperty(E.prototype,"bullet",{get:function(){return this._bullet},set:function(F){this._bullet&&this._bullet!=F&&(remove(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=F,F&&this.addSprite(F)},enumerable:!0,configurable:!0}),E}(DataItem),AxisItemLocation;(function(V){V[V.Start=0]="Start",V[V.Middle=.5]="Middle",V[V.End=1]="End"})(AxisItemLocation||(AxisItemLocation={}));var Axis=function(V){__extends(E,V);function E(){var F=V.call(this)||this;if(F._gridCount=10,F._series=new List,F.autoDispose=!0,F._axisItemCount=0,F.constructor===E)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");F.hideTooltipWhileZooming=!0,F.minWidth=1e-4,F.minHeight=1e-4,F.className="Axis",F.shouldClone=!1,F.setPropertyValue("cursorTooltipEnabled",!0),F.toggleZoomOutButton=!0,F.zoomable=!0;var R=new InterfaceColorSet;F.title=new Label,F.title.shouldClone=!1,F._disposers.push(F.title),F.setPropertyValue("startLocation",0),F.setPropertyValue("endLocation",1),F._dataItemsIterator=new ListIterator(F.dataItems,function(){return F.dataItems.create()}),F._dataItemsIterator.createNewItems=!0;var U=new Tooltip;F._disposers.push(U),U.label.padding(5,10,5,10),U.background.pointerLength=5,U.fitPointerToBounds=!0,U.background.filters.clear(),U.virtualParent=F;var W=U.background;return W.cornerRadius=0,W.fill=R.getFor("alternativeBackground"),W.stroke=W.fill,W.strokeWidth=1,W.fillOpacity=1,U.label.fill=R.getFor("alternativeText"),F.tooltip=U,F.readerHidden=!0,F.events.on("rangechangestarted",function(){F.series.each(function(Y){Y.hideTooltipWhileZooming&&(Y.tooltip.hide(),Y.tooltip.preventShow=!0)}),F.hideTooltipWhileZooming&&(F.tooltip.hide(),F.tooltip.preventShow=!0)},void 0,!1),F.events.on("rangechangeended",function(){F.series.each(function(Y){Y.hideTooltipWhileZooming&&(Y.tooltip.hide(),Y.tooltip.preventShow=!1)}),F.hideTooltipWhileZooming&&(F.tooltip.hide(),F.tooltip.preventShow=!1)},void 0,!1),F.applyTheme(),F}return E.prototype.fillRule=function(F,R){isNumber$1(R)||(R=F.index),R/2==Math.round(R/2)?(F.axisFill.__disabled=!0,F.axisFill.opacity=0):(F.axisFill.opacity=1,F.axisFill.__disabled=!1)},E.prototype.createDataItem=function(){return new AxisDataItem},E.prototype.invalidateLayout=function(){V.prototype.invalidateLayout.call(this),each(this.series.iterator(),function(F){F.invalidateLayout()})},E.prototype.invalidateSeries=function(){each(this.series.iterator(),function(F){F.invalidate()})},E.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},E.prototype.updateGridCount=function(){if(this.renderer){var F=this.axisLength/this.renderer.minGridDistance;F!=this._gridCount&&(this._gridCount=F,this.clearCache())}},E.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),V.prototype.validateLayout.call(this),this.updateGridCount();var F=this.renderer;F&&(F.updateAxisLine(),F.updateTooltip(),F.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},E.prototype.initRenderer=function(){},E.prototype.appendDataItem=function(F){var R=this.renderer,U=F.tick;U&&(U.above?U.parent=R.bulletsContainer:U.parent=R.gridContainer),F.label&&(F.label.parent=R);var W=F.axisFill;W&&(W.above?W.parent=R.bulletsContainer:W.parent=R.gridContainer);var Y=F.grid;Y&&(Y.above?Y.parent=R.bulletsContainer:Y.parent=R.gridContainer),F.bullet&&(F.bullet.parent=R.bulletsContainer)},E.prototype.validate=function(){V.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},E.prototype.validateAxisRanges=function(){var F=this;each(this.axisRanges.iterator(),function(R){F.appendDataItem(R),F.validateDataElement(R),R.grid&&R.grid.validate(),R.tick&&R.tick.validate(),R.axisFill&&R.axisFill.validate(),R.label&&R.label.validate()})},E.prototype.validateBreaks=function(){this._axisBreaks&&each(this._axisBreaks.iterator(),function(F){F.invalidate()})},E.prototype.processBreak=function(F){var R=F.newValue;R.parent=this.renderer.breakContainer,R.axis=this},E.prototype.registerSeries=function(F){var R=this;return this.series.moveValue(F),new MultiDisposer([new Disposer(function(){R.series.removeValue(F)}),this.events.on("lengthchanged",F.invalidate,F,!1),this.events.on("lengthchanged",F.createMask,F,!1),this.events.on("startchanged",F.invalidate,F,!1),this.events.on("endchanged",F.invalidate,F,!1)])},Object.defineProperty(E.prototype,"renderer",{get:function(){return this._renderer},set:function(F){if(F!=this._renderer){this._renderer=F,F.chart=this.chart,F.axis=this,F.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(F.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var R=this.renderer.labels.create();this._disposers.push(R),R.dataItem=this.dataItems.template.clone(),R.text="L",R.parent=this.renderer,R.shouldClone=!1,R.fillOpacity=0,R.opacity=0,R.strokeOpacity=0,R.interactionsEnabled=!1,R.validate(),this.ghostLabel=R,this.events.on("beforedatavalidated",function(){R.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),E.prototype.positionToAngle=function(F){return this.renderer.positionToAngle(F)},E.prototype.pointToPosition=function(F){return this.renderer.pointToPosition(F)},E.prototype.positionToCoordinate=function(F){return this.renderer.positionToCoordinate(F)},E.prototype.getAnyRangePath=function(F,R){return this.renderer.getPositionRangePath(F,R)},E.prototype.anyToPosition=function(F){return 0},E.prototype.anyToPoint=function(F){return{x:0,y:0,angle:0}},E.prototype.getPositionRangePath=function(F,R){return this.renderer?this.renderer.getPositionRangePath(F,R):""},Object.defineProperty(E.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(F){this.setPropertyValue("cursorTooltipEnabled",F)&&(F&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(F){this.setPropertyValue("toggleZoomOutButton",F)},enumerable:!0,configurable:!0}),E.prototype.hideTooltip=function(F){V.prototype.hideTooltip.call(this,F),this._tooltipPosition=void 0},E.prototype.showTooltipAtPosition=function(F,R){var U=this._tooltip;if(!U||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(R||(F=this.toAxisPosition(F)),!isNumber$1(F)||F<this.start||F>this.end){U.hide(0),this._tooltipPosition=void 0;return}var W=this.renderer;U.parent||(U.parent=this.tooltipContainer);var Y=W.tooltipLocation,G=this.getCellStartPosition(F),X=this.getCellEndPosition(F);if(this.tooltipPosition=="fixed"&&(F=G+(X-G)*Y),F=fitToRange(F,this.start,this.end),this._tooltipPosition!=F){this._tooltipPosition=F;var K=W.tooltipLocation2,Z=W.positionToPoint(G,K),J=W.positionToPoint(X,K);this.currentItemStartPoint=Z,this.currentItemEndPoint=J,W.fullWidthTooltip&&(U.width=J.x-Z.x,U.height=J.y-Z.y);var Q=W.positionToPoint(F,K),ee=spritePointToSvg(Q,this.renderer.line);U.text=this.getTooltipText(F),U.text&&(U.delayedPointTo(ee),U.show())}(!this.cursorTooltipEnabled||this.tooltip.disabled)&&U.hide(0)}},E.prototype.toAxisPosition=function(F){if(F=this.renderer.toAxisPosition(F),F!=null)return F=F*(this.end-this.start),this.renderer.inversed?F=this.end-F:F=this.start+F,F},E.prototype.toGlobalPosition=function(F){return this.renderer.inversed?F=this.end-F:F=F-this.start,F/(this.end-this.start)},E.prototype.getTooltipText=function(F){},E.prototype.updateTooltip=function(F,R){var U=this._tooltip;U&&(U.fixDoc=!1,U.pointerOrientation=F,U.setBounds(spriteRectToSvg(R,this.renderer.line)))},E.prototype.roundPosition=function(F,R,U){return F},E.prototype.getCellStartPosition=function(F){return F},E.prototype.getCellEndPosition=function(F){return F},Object.defineProperty(E.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var F=this.createDataItem();F.isRange=!0,F.axisFill=this.renderer.axisFills.template.clone(),F.grid=this.renderer.grid.template.clone(),F.tick=this.renderer.ticks.template.clone(),F.label=this.renderer.labels.template.clone(),F.isTemplate=!0,F.component=this,F.axisFill.disabled=!1,F.tick.disabled=!1,F.grid.disabled=!1,F.label.disabled=!1,this._axisRanges=new ListTemplate(F),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new ListDisposer(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),E.prototype.processAxisRange=function(F){var R=F.newValue;R.component=this,R.isRange=!0},Object.defineProperty(E.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new SortedListTemplate(this.createAxisBreak(),function(F,R){return order(F.adjustedStartValue,R.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new ListDisposer(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),E.prototype.createAxisBreak=function(){return new AxisBreak},Object.defineProperty(E.prototype,"series",{get:function(){return this._series||(this._series=new List),this._series},enumerable:!0,configurable:!0}),E.prototype.processSeriesDataItems=function(){},E.prototype.processSeriesDataItem=function(F,R){},E.prototype.postProcessSeriesDataItems=function(F){},E.prototype.postProcessSeriesDataItem=function(F){},E.prototype.updateAxisBySeries=function(){},E.prototype.hideUnusedDataItems=function(){var F=this,R=this._dataItemsIterator;R.createNewItems=!1,each(R.iterator(),function(U){F.validateDataElement(U),U.__disabled=!0}),R.clear(),R.createNewItems=!0},E.prototype.getSeriesDataItem=function(F,R,U){},E.prototype.getAngle=function(F,R,U,W,Y){},E.prototype.getX=function(F,R,U,W,Y){},E.prototype.getPositionX=function(F,R,U,W,Y){},E.prototype.getY=function(F,R,U,W,Y){},E.prototype.getPositionY=function(F,R,U,W,Y){},Object.defineProperty(E.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),E.prototype.dataChangeUpdate=function(){},E.prototype.seriesDataChangeUpdate=function(F){},E.prototype.adjustDifference=function(F,R){var U=R-F;if(isNumber$1(U))return this._axisBreaks&&eachContinue(this._axisBreaks.iterator(),function(W){var Y=W.adjustedStartValue,G=W.adjustedEndValue;if(isNumber$1(Y)&&isNumber$1(G)){if(Y>R)return!1;if(G>=F&&isNumber$1(Y)&&isNumber$1(G)){var X=W.breakSize,K=intersection({start:Y,end:G},{start:F,end:R});K&&(U-=(K.end-K.start)*(1-X))}return!0}}),U},E.prototype.isInBreak=function(F){if(this._axisBreaks)return find$1(this._axisBreaks.iterator(),function(R){return F>=R.adjustedStartValue&&F<=R.adjustedEndValue})},E.prototype.fixAxisBreaks=function(){var F=this;if(this._axisBreaks){var R=this._axisBreaks;if(R.length>0){each$2(toArray$2(R.iterator()),function(Y){var G=min$1(Y.startValue,Y.endValue),X=max$1(Y.startValue,Y.endValue);Y.adjustedStartValue=G,Y.adjustedEndValue=X,F._axisBreaks.update(Y)});var U=R.first,W=Math.min(U.startValue,U.endValue);each(R.iterator(),function(Y){var G=Y.adjustedStartValue,X=Y.adjustedEndValue;G<W&&(G=W,X<W&&(X=W)),Y.adjustedStartValue=G,Y.adjustedEndValue=X})}}},Object.defineProperty(E.prototype,"startIndex",{get:function(){return 0},set:function(F){},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(F){},enumerable:!0,configurable:!0}),E.prototype.getPositionLabel=function(F){return Math.round(F*100)+"%x"},Object.defineProperty(E.prototype,"chart",{get:function(){return this._chart},set:function(F){this._chart=F},enumerable:!0,configurable:!0}),E.prototype.createSeriesRange=function(F){var R=this.axisRanges.create();return R.component=this,R.axisFill=this.renderer.axisFills.template.clone(),R.axisFill.disabled=!1,R.axisFill.fillOpacity=0,R.grid=this.renderer.grid.template.clone(),R.grid.disabled=!0,R.tick=this.renderer.ticks.template.clone(),R.tick.disabled=!0,R.label=this.renderer.labels.template.clone(),R.label.disabled=!0,R.addDisposer(new Disposer(function(){F.axisRanges.removeValue(R)})),F.axisRanges.push(R),R},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.renderer?this.renderer.copyFrom(F.renderer):F.renderer&&(this.renderer=F.renderer.clone(),this._disposers.push(this.renderer)),F.title&&(this.title?this.title.copyFrom(F.title):(this.title=F.title.clone(),this.title.parent=this),this._disposers.push(this.title))},E.prototype.resetIterators=function(){this._dataItemsIterator.reset()},E.prototype.processConfig=function(F){if(F&&hasValue(F.axisRanges)&&isArray$2(F.axisRanges))for(var R=0,U=F.axisRanges.length;R<U;R++){var W=F.axisRanges[R];hasValue(W.series)&&isString$2(W.series)&&this.map.hasKey(W.series)&&(F.axisRanges[R]=this.createSeriesRange(this.map.getKey(W.series)),delete W.series,F.axisRanges[R].config=W)}V.prototype.processConfig.call(this,F)},E.prototype.configOrder=function(F,R){return F==R?0:F=="title"?1:R=="title"||F=="component"?-1:R=="component"?1:V.prototype.configOrder.call(this,F,R)},Object.defineProperty(E.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(F){this.setPropertyValue("startLocation",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(F){this.setPropertyValue("endLocation",F,!0)},enumerable:!0,configurable:!0}),E.prototype.setDisabled=function(F){var R=V.prototype.setDisabled.call(this,F);return this.renderer&&(this.renderer.gridContainer.disabled=F),R},Object.defineProperty(E.prototype,"title",{get:function(){return this._title},set:function(F){this._title&&this._title!=F&&this._title.dispose(),F&&(this._title=F,F.parent=this,F.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(F){this.setPropertyValue("hideTooltipWhileZooming",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(F){this.setPropertyValue("zoomable",F)},enumerable:!0,configurable:!0}),E}(Component$1);registry.registeredClasses.Axis=Axis;registry.registeredClasses.AxisDataItem=AxisDataItem;defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(V,E){if(V instanceof Axis&&V.tooltip){var F=V.states.create(E);return F.properties.cursorTooltipEnabled=!1,F}return null}});var AxisLine=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="AxisLine",F.element=F.paper.add("path");var R=new InterfaceColorSet;return F.stroke=R.getFor("grid"),F.strokeOpacity=.15,F.pixelPerfect=!0,F.fill=color(),F.applyTheme(),F.interactionsEnabled=!1,F}return E}(Sprite);registry.registeredClasses.AxisLine=AxisLine;var AxisFill=function(V){__extends(E,V);function E(F){var R=V.call(this)||this;R.axis=F,R.element=R.paper.add("path"),R.className="AxisFill",R.isMeasured=!1,R.location=0,R.above=!1;var U=new InterfaceColorSet;return R.fill=U.getFor("alternativeBackground"),R.fillOpacity=0,R.applyTheme(),R}return E.prototype.setDisabled=function(F){var R=V.prototype.setDisabled.call(this,F);return this.axis&&this.axis.invalidateDataItems(),R},E.prototype.draw=function(){V.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis&&isNumber$1(this.startPosition)&&isNumber$1(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(E.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(F){this.setPropertyValue("startPosition",F),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(F){this.setPropertyValue("endPosition",F),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(F){this.setPropertyValue("location",F,!0)},enumerable:!0,configurable:!0}),E.prototype.setPath=function(F){return this.setPropertyValue("path",F)?(this.element.attr({d:F}),!0):!1},Object.defineProperty(E.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(F){this.setPropertyValue("above",F,!0)},enumerable:!0,configurable:!0}),E}(Sprite);registry.registeredClasses.AxisFill=AxisFill;var Grid=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="Grid",F.element=F.paper.add("path"),F.location=.5,F.isMeasured=!1,F.above=!1;var R=new InterfaceColorSet;return F.stroke=R.getFor("grid"),F.pixelPerfect=!0,F.strokeOpacity=.15,F.fill=color(),F.applyTheme(),F}return Object.defineProperty(E.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(F){this.setPropertyValue("location",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(F){this.setPropertyValue("above",F,!0)},enumerable:!0,configurable:!0}),E.prototype.setDisabled=function(F){var R=V.prototype.setDisabled.call(this,F);return this.axis&&this.axis.invalidateDataItems(),R},E}(Sprite);registry.registeredClasses.Grid=Grid;defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(V,E){if(V instanceof Grid){var F=V.states.create(E);return F.properties.disabled=!0,F}return null}});var AxisLabel=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="AxisLabel",F.isMeasured=!1,F.padding(10,10,10,10),F.location=.5,F.applyTheme(),F}return Object.defineProperty(E.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(F){this.setPropertyValue("location",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(F){this.setPropertyValue("inside",F,!0)},enumerable:!0,configurable:!0}),E.prototype.setDisabled=function(F){var R=V.prototype.setDisabled.call(this,F);return this.axis&&this.axis.invalidateDataItems(),R},E}(Label);registry.registeredClasses.AxisLabel=AxisLabel;var Tick=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="Tick";var R=new InterfaceColorSet;return F.fillOpacity=0,F.length=6,F.strokeOpacity=.2,F.stroke=R.getFor("grid"),F.isMeasured=!1,F.nonScalingStroke=!0,F.applyTheme(),F}return Object.defineProperty(E.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(F){this.setPropertyValue("length",F,!0)},enumerable:!0,configurable:!0}),E}(Sprite);registry.registeredClasses.Tick=Tick;var AxisTick=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="AxisTick",F.element=F.paper.add("path"),F.location=.5,F.above=!1,F.isMeasured=!1,F.pixelPerfect=!0,F.strokeOpacity=0,F.length=5,F.applyTheme(),F}return Object.defineProperty(E.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(F){this.setPropertyValue("location",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(F){this.setPropertyValue("inside",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(F){this.setPropertyValue("above",F,!0)},enumerable:!0,configurable:!0}),E.prototype.setDisabled=function(F){var R=V.prototype.setDisabled.call(this,F);return this.axis&&this.axis.invalidateDataItems(),R},E}(Tick);registry.registeredClasses.AxisTick=AxisTick;var AxisRenderer=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._chart=new MutableValueDisposer,F.className="AxisRenderer",F.minGridDistance=50,F.inside=!1,F.inversed=!1,F.tooltipLocation=.5,F.fullWidthTooltip=!1,F.cellStartLocation=0,F.cellEndLocation=1,F.minLabelPosition=0,F.maxLabelPosition=1,F.shouldClone=!1;var R=F.createChild(Container);R.shouldClone=!1,R.layout="none",R.virtualParent=F,R.width=percent(100),R.height=percent(100),F.gridContainer=R,R.events.on("maxsizechanged",function(){F.inited&&F.invalidateAxisItems()},F,!1);var U=F.createChild(Container);U.shouldClone=!1,U.isMeasured=!1,U.layout="none",U.width=percent(100),U.height=percent(100),F.breakContainer=U;var W=F.createChild(Container);W.shouldClone=!1,W.isMeasured=!1,W.layout="none",W.width=percent(100),W.height=percent(100),F.bulletsContainer=W,F.line=F.createChild(AxisLine),F.line.shouldClone=!1,F.line.strokeOpacity=0;var Y=F.createChild(Grid);Y.shouldClone=!1,F.baseGrid=Y;var G=F._disposers;return G.push(Y),G.push(F.line),G.push(R),G.push(U),G.push(W),G.push(F._chart),F.ticks.template.disabled=!0,F.axisFills.template.disabled=!0,F.axisFills.template.interactionsEnabled=!1,F.applyTheme(),F}return Object.defineProperty(E.prototype,"axis",{get:function(){return this._axis},set:function(F){this.setAxis(F)},enumerable:!0,configurable:!0}),E.prototype.setAxis=function(F){this._axis=F,this.baseGrid.parent=F,this.line.parent=F,this.gridContainer.bind("opacity",F)},E.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},E.prototype.updateTooltip=function(){},Object.defineProperty(E.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),E.prototype.positionItem=function(F,R){F&&F.moveTo(R)},E.prototype.positionToPoint=function(F,R){return{x:0,y:0}},E.prototype.positionToAngle=function(F){return 0},E.prototype.positionToCoordinate=function(F){var R,U=this.axis,W=U.axisFullLength;return U.renderer.inversed?R=(U.end-F)*W:R=(F-U.start)*W,R},E.prototype.updateGridContainer=function(){},E.prototype.getHeight=function(){var F=this.gridContainer;return F.parent?F.parent.pixelHeight:this.gridContainer.pixelHeight||0},E.prototype.getWidth=function(){var F=this.gridContainer;return F.parent?F.parent.pixelWidth:this.gridContainer.pixelWidth||0},E.prototype.coordinateToPosition=function(F,R){var U,W=this.axis,Y=W.axisFullLength;return W.renderer.inversed?U=W.end-F/Y:U=F/Y+W.start,round$2(U,5)},E.prototype.pointToPosition=function(F){return 0},E.prototype.getPositionRangePath=function(F,R){return""},E.prototype.invalidateAxisItems=function(){var F=this.axis;F&&F.invalidateDataItems()},E.prototype.updateGridElement=function(F,R,U){},E.prototype.updateTickElement=function(F,R,U){},E.prototype.updateBullet=function(F,R,U){},E.prototype.updateLabelElement=function(F,R,U,W){},E.prototype.updateFillElement=function(F,R,U){F.startPosition=R,F.endPosition=U},E.prototype.updateAxisLine=function(){},E.prototype.updateBaseGridElement=function(){},E.prototype.updateBreakElement=function(F){this.positionItem(F.startLine,F.startPoint),this.toggleVisibility(F.startLine,F.startPosition,0,1),this.positionItem(F.endLine,F.endPoint),this.toggleVisibility(F.endLine,F.endPosition,0,1)},Object.defineProperty(E.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(F){this.setPropertyValue("minGridDistance",F)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"chart",{get:function(){return this._chart.get()},set:function(F){this._chart.set(F,null)},enumerable:!0,configurable:!0}),E.prototype.toggleVisibility=function(F,R,U,W){var Y=this.axis,G=F.dataItem;G&&G instanceof AxisDataItem&&(isNumber$1(G.minPosition)&&(U=G.minPosition),isNumber$1(G.maxPosition)&&(W=G.maxPosition));var X=Y.start+(Y.end-Y.start)*(U-1e-4),K=Y.start+(Y.end-Y.start)*(W+1e-4);F.disabled||(R<X||R>K?F.__disabled=!0:F.__disabled=!1)},E.prototype.createBreakSprites=function(F){},Object.defineProperty(E.prototype,"axisFills",{get:function(){if(!this._axisFills){var F=this.createFill(this.axis);this._axisFills=new ListTemplate(F),F.applyOnClones=!0,F.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ListDisposer(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),E.prototype.createFill=function(F){return new AxisFill(F)},Object.defineProperty(E.prototype,"grid",{get:function(){if(!this._grid){var F=this.createGrid();this._grid=new ListTemplate(F),F.applyOnClones=!0,F.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ListDisposer(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),E.prototype.createGrid=function(){return new Grid},Object.defineProperty(E.prototype,"ticks",{get:function(){if(!this._ticks){var F=this.createTick();F.applyOnClones=!0,F.isMeasured=!1,F.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new ListTemplate(F),this._disposers.push(new ListDisposer(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),E.prototype.createTick=function(){return new AxisTick},Object.defineProperty(E.prototype,"labels",{get:function(){if(!this._labels){var F=this.createLabel();this._labels=new ListTemplate(F),F.applyOnClones=!0,F.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ListDisposer(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),E.prototype.createLabel=function(){return new AxisLabel},Object.defineProperty(E.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(F){this.setPropertyValue("inside",F)&&this.axis&&this.axis.invalidate(),F?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(F){this.setPropertyValue("opposite",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(F){this.setPropertyValue("fullWidthTooltip",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(F){this.setPropertyValue("tooltipLocation",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(F){this.setPropertyValue("tooltipLocation2",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(F){this.setPropertyValue("cellStartLocation",F)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(F){this.setPropertyValue("cellEndLocation",F)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(F){this.setPropertyValue("inversed",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(F){this.setPropertyValue("minLabelPosition",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(F){this.setPropertyValue("maxLabelPosition",F,!0)},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.grid.template.copyFrom(F.grid.template),this.ticks.template.copyFrom(F.ticks.template),this.labels.template.copyFrom(F.labels.template),this.axisFills.template.copyFrom(F.axisFills.template),this.line.copyFrom(F.line),this.baseGrid.copyFrom(F.baseGrid)},E.prototype.toAxisPosition=function(F){return F},E.prototype.setVisibility=function(F){V.prototype.setVisibility.call(this,F),this.bulletsContainer.visible=F},E}(Container);registry.registeredClasses.AxisRenderer=AxisRenderer;var AxisBullet=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="AxisBullet",F.location=.5,F.isMeasured=!1,F.applyTheme(),F}return Object.defineProperty(E.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(F){this.setPropertyValue("location",F,!0)},enumerable:!0,configurable:!0}),E.prototype.setDisabled=function(F){var R=V.prototype.setDisabled.call(this,F);return this.axis&&this.axis.invalidateDataItems(),R},E}(Container);registry.registeredClasses.AxisBullet=AxisBullet;var AxisRendererY=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="AxisRendererY",F.minGridDistance=40,F.opposite=!1,F.height=percent(100),F.labels.template.verticalCenter="middle",F.applyTheme(),F}return E.prototype.setAxis=function(F){V.prototype.setAxis.call(this,F),F.layout="horizontal"},E.prototype.updateGridContainer=function(){var F=this.axis;if(F){var R=this.gridContainer;R.y=F.pixelY,R.height=F.axisLength}},E.prototype.toAxisPosition=function(F){var R=this.axis;if(R){var U=1-F,W=R.relativePositionSprite,Y=R.pixelY;if(W?Y=spritePointToSprite({x:0,y:this.pixelY},this.parent,W).y:W=R.parent,W){var G=Y/W.innerHeight,X=R.axisLength/W.innerHeight;return 1-(U-G)/X}}return F},E.prototype.processRenderer=function(){V.prototype.processRenderer.call(this);var F=this.axis;if(F){var R=F.title;R.valign="middle",F.height instanceof Percent||(F.height=percent(100)),this.opposite?(R.rotation=90,this.line.toBack(),R.toFront()):(R.rotation=-90,R.toBack(),this.line.toFront())}},E.prototype.updateTooltip=function(){var F=this.axis;if(F){var R=2e3,U=0,W=0,Y=R,G=this.axisLength;this.opposite?this.inside&&(U=-R,Y=R):this.inside||(U=-R,Y=R),this.axis.updateTooltip("horizontal",{x:U,y:W,width:Y,height:G})}},Object.defineProperty(E.prototype,"axisLength",{get:function(){var F=this.axis;return F.measuredHeight-F.pixelPaddingTop-F.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),E.prototype.positionToPoint=function(F,R){return{x:0,y:this.positionToCoordinate(F)}},E.prototype.pointToPosition=function(F){return this.coordinateToPosition(F.y,F.x)},E.prototype.coordinateToPosition=function(F,R){var U,W=this.axis,Y=W.axisFullLength;return W.renderer.inversed?U=1-W.start-F/Y:U=F/Y+(1-W.end),round$2(U,5)},E.prototype.getPositionRangePath=function(F,R){var U=fitToRange(this.positionToCoordinate(F),0,this.axisLength),W=fitToRange(this.positionToCoordinate(R),0,this.axisLength),Y=Math.abs(W-U),G=this.getWidth(),X=Math.min(U,W),K=0;return rectToPath({x:K,y:X,width:G,height:Y},!0)},E.prototype.updateGridElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R);F.path=moveTo({x:0,y:0})+lineTo({x:this.getWidth(),y:0}),this.positionItem(F,W),this.toggleVisibility(F,R,0,1)},E.prototype.updateTickElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R),Y=F.length;try{this.axis.title.measuredWidth}catch{}W.x=spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?Y*=F.inside?-1:1:Y*=F.inside?1:-1,F.path=moveTo({x:0,y:0})+lineTo({x:Y,y:0}),this.positionItem(F,W),this.toggleVisibility(F,R,0,1)},E.prototype.updateAxisLine=function(){this.line.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.axisLength})},E.prototype.updateBaseGridElement=function(){V.prototype.updateBaseGridElement.call(this);var F=this.axis,R=this.getWidth(),U=this.axisLength,W=F.basePoint.y,Y=this.baseGrid;if(W<-.2||W>U+.2)Y.hide(0);else{var G=spritePointToSprite({x:0,y:0},this.gridContainer,Y.parent).x;Y.path=moveTo({x:0,y:0})+lineTo({x:R,y:0}),Y.moveTo({x:G,y:W}),Y.show(0)}},E.prototype.updateLabelElement=function(F,R,U,W){hasValue(W)||(W=F.location),R=R+(U-R)*W,F.isMeasured=!F.inside;var Y=this.positionToPoint(R),G,X=0,K=this.gridContainer.maxWidth;this.opposite?(F.inside?(G="right",F.align=="left"&&(X=-K,G="left"),F.align=="center"&&(X=-K/2,G="middle")):G="left",Y.x=0+X):(F.inside?(G="left",F.align=="right"&&(X=K,G="right"),F.align=="center"&&(X=K/2,G="middle")):G="right",Y.x=this.measuredWidth+X),F.rotation==0&&(F.horizontalCenter=G),this.positionItem(F,Y),this.toggleVisibility(F,R,this.minLabelPosition,this.maxLabelPosition)},E.prototype.updateBreakElement=function(F){V.prototype.updateBreakElement.call(this,F);var R=F.startLine,U=F.endLine,W=F.fillShape,Y=F.startPoint,G=F.endPoint,X=F.pixelMarginLeft,K=this.getWidth()-F.pixelMarginLeft-F.pixelMarginRight;Y.y=fitToRange(Y.y,-1,this.axisLength+1),G.y=fitToRange(G.y,-1,this.axisLength+1),Y.y==G.y&&(Y.y<0||Y.y>this.axisLength)?F.fillShape.__disabled=!0:F.fillShape.__disabled=!1;var Z=Math.abs(K-X);R.x=X,R.height=0,R.width=Z,U.x=X,U.height=0,U.width=Z,W.width=Z,W.height=Math.abs(G.y-Y.y),W.x=X,W.y=G.y},E.prototype.createBreakSprites=function(F){F.startLine=new WavedLine,F.endLine=new WavedLine;var R=new WavedRectangle;R.setWavedSides(!0,!1,!0,!1),F.fillShape=R},E.prototype.positionToCoordinate=function(F){var R,U=this.axis,W=U.axisFullLength;return U.renderer.inversed?R=(F-U.start)*W:R=(U.end-F)*W,R},E.prototype.updateBullet=function(F,R,U){var W=.5;F instanceof AxisBullet&&(W=F.location),R=R+(U-R)*W;var Y=this.positionToPoint(R);Y.x=spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(F,Y),this.toggleVisibility(F,R,0,1)},E}(AxisRenderer);registry.registeredClasses.AxisRendererY=AxisRendererY;defaultRules.push({relevant:ResponsiveBreakpoints.widthS,state:function(V,E){if(V instanceof AxisRendererY){var F=V.states.create(E);return F.properties.inside=!0,F.properties.maxLabelPosition=.9,F.properties.minLabelPosition=.1,F}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.widthXS,state:function(V,E){if(V instanceof AxisRendererY){var F=V.states.create(E);return F.properties.disabled=!0,F}return null}});var ValueAxisBreak=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ValueAxisBreak",F.applyTheme(),F}return Object.defineProperty(E.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),E}(AxisBreak);registry.registeredClasses.ValueAxisBreak=ValueAxisBreak;var ValueAxisDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ValueAxisDataItem",F.values.value={},F.values.endValue={},F.applyTheme(),F}return Object.defineProperty(E.prototype,"value",{get:function(){return this.values.value.value},set:function(F){this.setValue("value",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(F){this.setValue("endValue",F)},enumerable:!0,configurable:!0}),E}(AxisDataItem),ValueAxis=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._stepDecimalPlaces=0,F._prevStepDecimalPlaces=0,F._adjustLabelPrecision=!0,F._baseValue=0,F._adjustedStart=0,F._adjustedEnd=1,F._extremesChanged=!1,F._deltaMinMax=1,F._dsc=!1,F.calculateTotals=!1,F.className="ValueAxis",F.axisFieldName="value",F.setPropertyValue("maxZoomFactor",1e3),F.setPropertyValue("extraMin",0),F.setPropertyValue("extraMax",0),F.setPropertyValue("strictMinMax",!1),F.setPropertyValue("maxPrecision",Number.MAX_VALUE),F.setPropertyValue("adjustLabelPrecision",!0),F.setPropertyValue("extraTooltipPrecision",0),F.keepSelection=!1,F.includeRangesInMinMax=!1,F.applyTheme(),F}return E.prototype.fillRule=function(F){var R=F.value,U=F.component;F.axisFill.disabled||(round$2(R/U.step/2,5)==Math.round(R/U.step/2)?F.axisFill.__disabled=!0:F.axisFill.__disabled=!1)},E.prototype.createDataItem=function(){return new ValueAxisDataItem},E.prototype.createAxisBreak=function(){return new ValueAxisBreak},E.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(this._start!=0&&this.dispatchImmediately("startchanged"),this._end!=1&&this.dispatchImmediately("endchanged"),(this._start!=0||this._end!=1)&&this.dispatchImmediately("startendchanged")):(this._start!=0||this._end!=1)&&(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},E.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var F=this.series.getIndex(0),R=F.startIndex;if(F.dataItems.length>0){R>0&&R--;var U=F.endIndex;U<F.dataItems.length&&U++;for(var W=function(X){var K={},Z={};Y.series.each(function(J){if(!J.excludeFromTotal){var Q=J.dataItems.getIndex(X);Q&&each$1(Q.values,function(ee){var te=Q.values[ee].workingValue;isNumber$1(te)&&(isNumber$1(K[ee])?K[ee]+=Math.abs(te):K[ee]=Math.abs(te),isNumber$1(Z[ee])?Z[ee]+=te:Z[ee]=te)})}}),Y.series.each(function(J){if(!J.excludeFromTotal){var Q=J.dataItems.getIndex(X);Q&&each$1(Q.values,function(ee){var te=Q.values[ee].workingValue;isNumber$1(te)&&(Q.setCalculatedValue(ee,K[ee],"total"),Q.setCalculatedValue(ee,100*te/K[ee],"totalPercent"),Q.setCalculatedValue(ee,Z[ee],"sum"))})}})},Y=this,G=R;G<U;++G)W(G)}}},E.prototype.validate=function(){this.axisLength<=0||(V.prototype.validate.call(this),this.getMinMax(),isNumber$1(this._minAdjusted)||this.dataItems.each(function(F){F.value=null}),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},E.prototype.calculateZoom=function(){if(isNumber$1(this.min)&&isNumber$1(this.max)){var F=this.positionToValue(this.start),R=this.positionToValue(this.end),U=this.adjustDifference(F,R),W=this.adjustMinMax(F,R,U,this._gridCount,!0),Y=decimalPlaces(W.step);this._stepDecimalPlaces=Y,F=round$2(F,Y),R=round$2(R,Y),W=this.adjustMinMax(F,R,U,this._gridCount,!0);var G=W.step;if(this.syncWithAxis){var X=this.getCache(F+"-"+R);isNumber$1(X)&&(G=X)}else F=W.min,R=W.max;(this._minZoomed!=F||this._maxZoomed!=R||this._step!=G||this._dsc)&&(this._dsc=!1,this._minZoomed=F,this._maxZoomed=R,this._step=G,this.dispatchImmediately("selectionextremeschanged"))}},E.prototype.fixSmallStep=function(F){return 1+F==1?(F*=2,this.fixSmallStep(F)):F},E.prototype.validateAxisElements=function(){var F=this;if(isNumber$1(this.max)&&isNumber$1(this.min)){var R=this.minZoomed-this._step*2;if(!this.logarithmic)R=Math.floor(R/this._step)*this._step;else{var U=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;U>1?R=Math.pow(10,Math.log(this.min)*Math.LOG10E):(R=Math.floor(this.minZoomed/this._step)*this._step,R==0&&(R=this.minZoomed))}var W=this._maxZoomed+this._step;this.resetIterators();var Y=this._dataItemsIterator;if(this._step==0)return;this._step=this.fixSmallStep(this._step);var G=0,X=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;R<=W;){var K=this.isInBreak(R);if(!K){var Z=Y.find(function(re){return re.value===R});Z.__disabled&&(Z.__disabled=!1),this.appendDataItem(Z),Z.axisBreak=void 0,(Z.value!=R||X)&&(Z.value=R,Z.text=this.formatLabel(R),Z.label&&Z.label.invalid&&Z.label.validate(),Z.value>=this.min&&Z.value<=this.max&&Z.label&&(this.axisLetter=="Y"&&Z.label.measuredWidth>this.ghostLabel.measuredWidth||this.axisLetter=="X"&&Z.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=Z.label.currentText,this.ghostLabel.validate())),this.validateDataElement(Z)}G++;var J=R;if(!this.logarithmic)R+=this._step;else{var U=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;U>1?R=Math.pow(10,Math.log(this.min)*Math.LOG10E+G):R+=this._step}var Q=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(Q<1){var ee=Math.round(Math.abs(Math.log(Math.abs(Q))*Math.LOG10E))+2;if(ee=Math.min(13,ee),R=round$2(R,ee),J==R){R=W;break}}}var te=this._axisBreaks;if(te){var ie=this.renderer;each(te.iterator(),function(re){if(re.breakSize>0&&getDistance(re.startPoint,re.endPoint)>ie.minGridDistance)for(var ne=re.adjustedMin;ne<=re.adjustedMax;){if(ne>=re.adjustedStartValue&&ne<=re.adjustedEndValue){var ae=Y.find(function(se){return se.value===ne});ae.__disabled&&(ae.__disabled=!1),F.appendDataItem(ae),ae.axisBreak=re,ae.value!=ne&&(ae.value=ne,ae.text=F.formatLabel(ne),ae.label&&ae.label.invalid&&ae.label.validate()),F.validateDataElement(ae)}ne+=re.adjustedStep}})}}},E.prototype.validateDataElement=function(F){V.prototype.validateDataElement.call(this,F),F.itemIndex=this._axisItemCount,this._axisItemCount++;var R=this.renderer,U=F.value,W=F.endValue,Y=this.valueToPosition(U);F.position=Y;var G=Y,X=this.valueToPosition(U+this._step);isNumber$1(W)&&(G=this.valueToPosition(W),X=G),F.point=R.positionToPoint(Y);var K=F.tick;K&&!K.disabled&&R.updateTickElement(K,Y,G);var Z=F.grid;Z&&!Z.disabled&&R.updateGridElement(Z,Y,G);var J=F.label;J&&!J.disabled&&R.updateLabelElement(J,Y,G);var Q=F.axisFill;Q&&!Q.disabled&&(R.updateFillElement(Q,Y,X),F.isRange||this.fillRule(F)),F.bullet&&R.updateBullet(F.bullet,Y,G);var ee=F.mask;ee&&R.updateFillElement(ee,Y,X)},E.prototype.formatLabel=function(F){return this.adjustLabelPrecision&&F!=0?this.numberFormatter.format(F,void 0,this._stepDecimalPlaces):this.numberFormatter.format(F)},Object.defineProperty(E.prototype,"basePoint",{get:function(){var F=this.baseValue,R=this.valueToPosition(F),U=this.renderer.positionToPoint(R);return U},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"baseValue",{get:function(){var F=this._baseValue;return this.logarithmic&&(F=this.min),this._adapterO?this._adapterO.apply("baseValue",F):F},set:function(F){this._baseValue=F,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),E.prototype.anyToPosition=function(F){return this.valueToPosition(F)},E.prototype.valueToPoint=function(F){var R=this.valueToPosition(F),U=this.renderer.positionToPoint(R),W=this.renderer.positionToAngle(R);return{x:U.x,y:U.y,angle:W}},E.prototype.anyToPoint=function(F){return this.valueToPoint(F)},E.prototype.valueToPosition=function(F){if(isNumber$1(F)){var R=this.min,U=this.max;if(isNumber$1(R)&&isNumber$1(U)){var W=this._difference,Y=this._axisBreaks;Y&&Y.length>0&&eachContinue(Y.iterator(),function(K){var Z=K.adjustedStartValue,J=K.adjustedEndValue;if(isNumber$1(Z)&&isNumber$1(J)){if(F<Z)return!1;if(intersect({start:Z,end:J},{start:R,end:U})){Z=Math.max(Z,R),J=Math.min(J,U);var Q=K.breakSize;F>J?R+=(J-Z)*(1-Q):F<Z||(F=Z+(F-Z)*Q)}}return!0});var G=void 0;if(!this.logarithmic)G=(F-R)/W;else{var X=this.treatZeroAs;isNumber$1(X)&&F<=X&&(F=X),G=(Math.log(F)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}return G}}return 0},E.prototype.invalidateLabels=function(){V.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(F){F.value=void 0}),this.invalidate())},E.prototype.positionToValue=function(F){var R=this.min,U=this.max;if(isNumber$1(R)&&isNumber$1(U)){var W=U-R,Y=null,G=this._axisBreaks;return G&&G.length>0&&eachContinue(G.iterator(),function(X){var K=X.startPosition,Z=X.endPosition,J=X.adjustedStartValue,Q=X.adjustedEndValue;if(isNumber$1(J)&&isNumber$1(Q)){if(J>U)return!1;if(intersect({start:J,end:Q},{start:R,end:U})){J=max$1(J,R),Q=min$1(Q,U);var ee=X.breakSize;if(W-=(Q-J)*(1-ee),F>Z)R+=(Q-J)*(1-ee);else if(!(F<K)){var te=(F-K)/(Z-K);return Y=J+te*(Q-J),!1}}return!0}}),isNumber$1(Y)||(this.logarithmic?Y=Math.pow(Math.E,(F*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):Y=F*W+R),Y}},E.prototype.xToValue=function(F){return this.positionToValue(this.pointToPosition({x:F,y:0}))},E.prototype.yToValue=function(F){return this.positionToValue(this.pointToPosition({x:0,y:F}))},E.prototype.pointToPosition=function(F){return this.renderer instanceof AxisRendererY?1-this.renderer.pointToPosition(F):this.renderer.pointToPosition(F)},E.prototype.animateMinMax=function(F,R){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:F},{property:"_maxAdjusted",from:this._maxAdjusted,to:R}],this.rangeChangeDuration,this.rangeChangeEasing)},E.prototype.getMinMax=function(){var F=this;this.updateGridCount();var R=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY;if((!isNumber$1(this._minDefined)||!isNumber$1(this._maxDefined))&&(this.series.each(function(Q){if(!Q.ignoreMinMax){var ee=Q.min(F);isNumber$1(ee)&&ee<R&&(R=ee);var te=Q.max(F);isNumber$1(te)&&te>U&&(U=te)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(Q){if(!Q.ignoreMinMax){var ee=min$1(Q.value,Q.endValue),te=max$1(Q.value,Q.endValue);(ee<R||!isNumber$1(R))&&(R=ee),(te>U||!isNumber$1(U))&&(U=te)}})),this.logarithmic){var W=this.treatZeroAs;isNumber$1(W)&&R<=0&&(R=W),R<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(R==0&&U==0&&(U=.9,R=-.9),isNumber$1(this._minDefined)&&(R=this._minDefined),isNumber$1(this._maxDefined)&&(U=this._maxDefined),this._adapterO&&(R=this._adapterO.apply("min",R)),this._adapterO&&(U=this._adapterO.apply("max",U)),!(!isNumber$1(R)||!isNumber$1(U))){this._minReal=R,this._maxReal=U,R==Number.POSITIVE_INFINITY&&(R=void 0),U==Number.NEGATIVE_INFINITY&&(U=void 0);var Y=this.adjustDifference(R,U);if(R=this.fixMin(R),U=this.fixMax(U),U-R<=1/Math.pow(10,15)){if(U-R!=0)this._deltaMinMax=(U-R)/2;else{var G=Math.log(Math.abs(U))*Math.LOG10E,X=Math.pow(10,Math.floor(G));X=X/10,this._deltaMinMax=X}R-=this._deltaMinMax,U+=this._deltaMinMax}R-=(U-R)*this.extraMin,U+=(U-R)*this.extraMax;var K=this.strictMinMax;isNumber$1(this._maxDefined)&&(K=!0);var Z=this.adjustMinMax(R,U,Y,this._gridCount,K);if(R=Z.min,U=Z.max,Y=U-R,Z=this.adjustMinMax(R,U,U-R,this._gridCount,!0),R=Z.min,U=Z.max,this.strictMinMax&&(isNumber$1(this._minDefined)?R=this._minDefined:R=this._minReal,isNumber$1(this._maxDefined)?U=this._maxDefined:U=this._maxReal,U-R<=1e-8&&(R-=this._deltaMinMax,U+=this._deltaMinMax),R-=(U-R)*this.extraMin,U+=(U-R)*this.extraMax),this._adapterO&&(R=this._adapterO.apply("min",R)),this._adapterO&&(U=this._adapterO.apply("max",U)),this._step=Z.step,!isNumber$1(R)&&!isNumber$1(U)&&(this.start=0,this.end=1,this.renderer.labels.each(function(Q){Q.dataItem.text=""})),(this._minAdjusted!=R||this._maxAdjusted!=U)&&isNumber$1(R)&&isNumber$1(U)){var J=this._minMaxAnimation;if(this._extremesChanged&&isNumber$1(this._minAdjusted)&&isNumber$1(this._maxAdjusted)&&this.inited){if(J&&!J.isFinished()&&this._finalMax==U&&this._finalMin==R)return;this._finalMin=R,this._finalMax=U,J=this.animateMinMax(R,U),J&&!J.isFinished()?(J.events.on("animationprogress",this.validateDataItems,this),J.events.on("animationended",function(){F.series.each(function(Q){Q.validate()}),F.validateDataItems(),F.handleSelectionExtremesChange()}),this._minMaxAnimation=J):this.series.each(function(Q){Q.invalidate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(J&&!J.isFinished()&&this._finalMax==U&&this._finalMin==R)return;this._minAdjusted=R,this._maxAdjusted=U,this._finalMin=R,this._finalMax=U,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged"),this._saveMinMax(R,U)}}this._extremesChanged=!1,this._difference=this.adjustDifference(R,U)}},E.prototype.fixMin=function(F){return F},E.prototype.fixMax=function(F){return F},E.prototype.adjustMinMax=function(F,R,U,W,Y){W<=1&&(W=1),W=Math.round(W);var G=F,X=R;U===0&&(U=Math.abs(R));var K=Math.log(Math.abs(U))*Math.LOG10E,Z=Math.pow(10,Math.floor(K));Z=Z/10;var J=Z;Y&&(J=0),this.logarithmic?(F<=0&&(F=this.baseValue),F==1/0&&(F=1),R==-1/0&&(R=10),this.strictMinMax?(this._minDefined>0?F=this._minDefined:F=F,this._maxDefined>0&&(R=R)):(F=Math.pow(10,Math.floor(Math.log(Math.abs(F))*Math.LOG10E)),R=Math.pow(10,Math.ceil(Math.log(Math.abs(R))*Math.LOG10E)))):(Y?(F=Math.floor(F/Z)*Z,R=Math.ceil(R/Z)*Z):(F=Math.ceil(F/Z)*Z-J,R=Math.floor(R/Z)*Z+J),F<0&&G>=0&&(F=0),R>0&&X<=0&&(R=0)),K=Math.log(Math.abs(U))*Math.LOG10E,Z=Math.pow(10,Math.floor(K)),Z=Z/10;var Q=Math.ceil(U/W/Z)*Z,ee=Math.pow(10,Math.floor(Math.log(Math.abs(Q))*Math.LOG10E)),te=Math.ceil(Q/ee);te>5?te=10:te<=5&&te>2&&(te=5),Q=Math.ceil(Q/(ee*te))*ee*te,this.maxPrecision<Number.MAX_VALUE&&Q!=ceil(Q,this.maxPrecision)&&(Q=ceil(Q,this.maxPrecision));var ie=0;if(ee<1&&(ie=Math.round(Math.abs(Math.log(Math.abs(ee))*Math.LOG10E))+1,Q=round$2(Q,ie)),!this.logarithmic){var re=Math.floor(F/Q);F=round$2(Q*re,ie);var ne=void 0;Y?ne=Math.floor(R/Q):ne=Math.ceil(R/Q),ne==re&&ne++,R=round$2(Q*ne,ie),R<X&&(R=R+Q),F>G&&(F=F-Q)}return{min:F,max:R,step:Q}},Object.defineProperty(E.prototype,"min",{get:function(){var F=this._minAdjusted;return isNumber$1(F)||(F=this._minDefined),F},set:function(F){this._minDefined!=F&&(this._minDefined=F,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(F){this.setPropertyValue("extraMin",F)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(F){this.setPropertyValue("extraMax",F)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"max",{get:function(){var F=this._maxAdjusted;return isNumber$1(F)||(F=this._maxDefined),F},set:function(F){this._maxDefined!=F&&(this._maxDefined=F,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(F){this.setPropertyValue("adjustLabelPrecision",F)&&this.invalidate()},enumerable:!0,configurable:!0}),E.prototype.registerSeries=function(F){return new MultiDisposer([V.prototype.registerSeries.call(this,F),F.events.on("extremeschanged",this.handleExtremesChange,this,!1),F.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",F.invalidate,F,!1)])},E.prototype.handleSelectionExtremesChange=function(){var F=this,R,U,W=!0;if(each(this.series.iterator(),function(ee){if(!ee.ignoreMinMax&&!ee.isHidden&&!ee.outOfRange){ee.visible&&!ee.isHiding&&(W=!1);var te=ee.selectionMin(F),ie=ee.selectionMax(F);isNumber$1(te)&&(!isNumber$1(R)||te<R)&&(R=te),isNumber$1(ie)&&(!isNumber$1(U)||ie>U)&&(U=ie)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(ee){if(!ee.ignoreMinMax){var te=min$1(ee.value,ee.endValue),ie=max$1(ee.value,ee.endValue);te<R&&(R=te),ie>U&&(U=ie)}}),isNumber$1(this._minDefined)?this.strictMinMax?R=this._minDefined:R=this.min:this.strictMinMax&&(R=this._minReal),isNumber$1(this._maxDefined)?this.strictMinMax?U=this._maxDefined:U=this.max:this.strictMinMax&&(U=this._maxReal),R==U){R-=this._deltaMinMax,U+=this._deltaMinMax;var Y=this.adjustMinMax(R,U,0,this._gridCount,this.strictMinMax);R=Y.min,U=Y.max}var G=this.adjustDifference(R,U),X=this.adjustMinMax(R,U,G,this._gridCount);R=X.min,U=X.max,R-=(U-R)*this.extraMin,U+=(U-R)*this.extraMax,R=fitToRange(R,this.min,this.max),U=fitToRange(U,this.min,this.max),G=this.adjustDifference(R,U),X=this.adjustMinMax(R,U,G,this._gridCount,!0),R=X.min,U=X.max,this.strictMinMax&&(R=max$1(R,this._minDefined),U=min$1(U,this._maxDefined));var K=X.step;this.syncWithAxis&&(X=this.syncAxes(R,U,K),R=X.min,U=X.max,this.invalidate()),K=X.step,this._difference=this.adjustDifference(this.min,this.max);var Z=this.valueToPosition(R),J=this.valueToPosition(U);W&&!this.syncWithAxis&&(Z=0,J=1);var Q=0;this.syncWithAxis?(Q=5,this.setCache(R+"-"+U,K)):((this._step!=K||this._minZoomed!=R||this._maxZoomed!=U)&&(this._dsc=!0),this._step=K,this._minZoomed=R,this._maxZoomed=U),this.keepSelection||this.zoom({start:Z,end:J},!1,!1,Q)},Object.defineProperty(E.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(F){this.setPropertyValue("strictMinMax",F)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(F){this.setPropertyValue("logarithmic",F)&&(this.invalidate(),this.series.each(function(R){R.invalidateDataItems()}))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(F){this.setPropertyValue("keepSelection",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(F){this.setPropertyValue("includeRangesInMinMax",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(F){this.setPropertyValue("maxPrecision",F)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(F){this.setPropertyValue("extraTooltipPrecision",F)&&this.invalidate()},enumerable:!0,configurable:!0}),E.prototype.handleExtremesChange=function(){var F=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){var R=0;this.dataItems.each(function(U){U.label&&U.label.pixelWidth>R&&(F.ghostLabel.text=U.label.currentText)})}},E.prototype.getX=function(F,R,U,W,Y){return this.renderer.positionToPoint(this.getPositionX(F,R,U,W,Y)).x},E.prototype.getPositionX=function(F,R,U,W,Y){var G=F.getWorkingValue(R);hasValue(W)||(W="valueX");var X=F.getValue(W,"stack");isNumber$1(G)||(G=this.baseValue,this.logarithmic&&X>0&&(G=0));var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),K},E.prototype.getY=function(F,R,U,W,Y){return this.renderer.positionToPoint(this.getPositionY(F,R,U,W,Y)).y},E.prototype.getPositionY=function(F,R,U,W,Y){var G=F.getWorkingValue(R);hasValue(W)||(W="valueY");var X=F.getValue(W,"stack");isNumber$1(G)||(G=this.baseValue,this.logarithmic&&X>0&&(G=0));var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),K},E.prototype.getAngle=function(F,R,U,W,Y){var G=F.getWorkingValue(R),X=F.getValue(W,"stack");isNumber$1(G)||(G=this.baseValue);var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),this.positionToAngle(K)},E.prototype.getAnyRangePath=function(F,R,U){var W=this.valueToPosition(F),Y=this.valueToPosition(R);return this.getPositionRangePath(W,Y)},E.prototype.getTooltipText=function(F){var R=round$2(this.positionToValue(F),this._stepDecimalPlaces+this.extraTooltipPrecision),U=this.tooltip.numberFormatter.format(R);return this._adapterO?this._adapterO.apply("getTooltipText",U):U},E.prototype.zoomToValues=function(F,R,U,W){var Y=(F-this.min)/(this.max-this.min),G=(R-this.min)/(this.max-this.min);this.zoom({start:Y,end:G},U,W)},Object.defineProperty(E.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:max$1(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:min$1(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),E.prototype.fixAxisBreaks=function(){var F=this;V.prototype.fixAxisBreaks.call(this);var R=this._axisBreaks;R&&R.length>0&&R.each(function(U){var W=U.adjustedStartValue,Y=U.adjustedEndValue,G=Y-W,X=Math.ceil(G*U.breakSize)*F._gridCount/(F.max-F.min),K=F.adjustMinMax(W,Y,G,X,!0);U.adjustedStep=K.step,U.adjustedMin=K.min,U.adjustedMax=K.max}),this._difference=this.adjustDifference(this.min,this.max)},E.prototype.getPositionLabel=function(F){var R=this.positionToValue(F);return this.numberFormatter.format(R)},E.prototype.showTooltipAt=function(F){this.showTooltipAtPosition(this.valueToPosition(F))},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.min=F.min,this.max=F.max,this.calculateTotals=F.calculateTotals,this._baseValue=F.baseValue},Object.defineProperty(E.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(F){var R=this;this.setPropertyValue("syncWithAxis",F,!0)&&F&&(this._disposers.push(F.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(F.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(F.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){R.clearCache(),R._disposers.push(registry.events.once("exitframe",function(){R.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(F){this.setPropertyValue("treatZeroAs",F,!0)},enumerable:!0,configurable:!0}),E.prototype.syncAxes=function(F,R,U){var W=this.syncWithAxis;if(W){isNumber$1(F)||(F=this.min),isNumber$1(R)||(R=this.max),isNumber$1(U)||(U=this._step);var Y=Math.round((W.maxZoomed-W.minZoomed)/W.step),G=Math.round((R-F)/U);if(isNumber$1(Y)&&isNumber$1(G))for(var X=!1,K=0,Z=(R-F)*.01,J=F,Q=R,ee=U;X!=!0;)if(X=this.checkSync(J,Q,ee,Y),K++,K>1e3&&(X=!0),X)F=J,R=Q,U=ee;else{K/3==Math.round(K/3)?(J=F-Z*K,F>=0&&J<0&&(J=0)):(Q=R+Z*K,Q<=0&&Q>0&&(Q=0));var te=this.adjustMinMax(J,Q,Q-J,this._gridCount,!0);J=te.min,Q=te.max,ee=te.step}}return{min:F,max:R,step:U}},E.prototype.checkSync=function(F,R,U,W){for(var Y=(R-F)/U,G=1;G<W;G++)if(round$2(Y/G,1)==W||Y*G==W)return!0;return!1},E.prototype.processConfig=function(F){F&&hasValue(F.syncWithAxis)&&isString$2(F.syncWithAxis)&&(this.map.hasKey(F.syncWithAxis)?F.syncWithAxis=this.map.getKey(F.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+F.syncWithAxis+'" found for `syncWithAxis`'),delete F.xAxis)),V.prototype.processConfig.call(this,F)},E.prototype._saveMinMax=function(F,R){},E}(Axis);registry.registeredClasses.ValueAxis=ValueAxis;registry.registeredClasses.ValueAxisDataItem=ValueAxisDataItem;var DateAxisBreak=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="DateAxisBreak",F.applyTheme(),F}return Object.defineProperty(E.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(F){this.setPropertyValue("startDate",F)&&(this.startValue=F.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(F){this.setPropertyValue("endDate",F)&&(this.endValue=F.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),E}(ValueAxisBreak);registry.registeredClasses.DateAxisBreak=DateAxisBreak;var DateAxisDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="DateAxisDataItem",F.applyTheme(),F.values.date={},F.values.endDate={},F}return Object.defineProperty(E.prototype,"date",{get:function(){return this.dates.date},set:function(F){this.setDate("date",F),this.value=F.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(F){this.setDate("endDate",F),this.endValue=F.getTime()},enumerable:!0,configurable:!0}),E}(ValueAxisDataItem),DateAxis=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._gapBreaks=!1,F.gridIntervals=new List,F.groupIntervals=new List,F.dateFormats=new Dictionary,F.periodChangeDateFormats=new Dictionary,F._baseIntervalReal={timeUnit:"day",count:1},F._prevSeriesTime={},F._minDifference={},F._firstWeekDay=1,F.groupMin={},F.groupMax={},F._intervalMax={},F._intervalMin={},F.className="DateAxis",F.setPropertyValue("markUnitChange",!0),F.snapTooltip=!0,F.tooltipPosition="pointer",F.setPropertyValue("groupData",!1),F.groupCount=200,F.events.on("parentset",F.getDFFormatter,F,!1),F.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),F.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),F.axisFieldName="date",F.applyTheme(),F}return E.prototype.fillRule=function(F){var R=F.value,U=F.component,W=U._gridInterval,Y=getDuration(W.timeUnit,W.count);Math.round((R-U.min)/Y)/2==Math.round(Math.round((R-U.min)/Y)/2)?F.axisFill.__disabled=!0:F.axisFill.__disabled=!1},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},E.prototype.createDataItem=function(){return new DateAxisDataItem},E.prototype.createAxisBreak=function(){return new DateAxisBreak},E.prototype.validateDataItems=function(){var F=this.start,R=this.end,U=this.baseDuration,W=(this.max-this.min)/U;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),V.prototype.validateDataItems.call(this);var Y=getDuration(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/Y),this._deltaMinMax=this.baseDuration/2;var G=(this.max-this.min)/U;F=F+(R-F)*(1-W/G),this.zoom({start:F,end:R},!1,!0)},E.prototype.handleSelectionExtremesChange=function(){},E.prototype.getIntervalMax=function(F){return this._intervalMax[F.timeUnit+F.count]},E.prototype.getIntervalMin=function(F){return this._intervalMin[F.timeUnit+F.count]},E.prototype.calculateZoom=function(){var F=this;V.prototype.calculateZoom.call(this);var R=this.adjustDifference(this._minZoomed,this._maxZoomed),U=!1;if(this.groupData&&hasValue(R)){var W=this.mainBaseInterval,Y=this.getIntervalMin(W),G=this.getIntervalMax(W),X=Y+(G-Y)*this.start,K=Y+(G-Y)*this.end,Z=this.adjustDifference(X,K),J=Z+(this.startLocation+(1-this.endLocation))*this.baseDuration,Q=void 0;this.groupInterval?Q=__assign$1({},this.groupInterval):(Q=this.chooseInterval(0,J,this.groupCount,this.groupIntervals),getDuration(Q.timeUnit,Q.count)<getDuration(W.timeUnit,W.count)&&(Q=__assign$1({},W))),this._groupInterval=Q;var ee=Q.timeUnit+Q.count;this._currentDataSetId!=ee&&(this._currentDataSetId=ee,this.dispatch("groupperiodchanged")),this.series.each(function(ie){ie.baseAxis==F&&ie.setDataSet(F._currentDataSetId)&&(U=!0)})}var te=this.chooseInterval(0,R,this._gridCount);getDuration(te.timeUnit,te.count)<this.baseDuration&&(te=__assign$1({},this.baseInterval)),this._gridInterval=te,this._nextGridUnit=getNextUnit(te.timeUnit),this._intervalDuration=getDuration(te.timeUnit,te.count),this._gridDate=round$1(new Date(this.minZoomed-getDuration(te.timeUnit,te.count)),te.timeUnit,te.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),each(this.series.iterator(),function(ie){if(ie.baseAxis==F){var re=ie.getAxisField(F),ne=round$1(new Date(F._minZoomed+F.baseDuration*.05),F.baseInterval.timeUnit,F.baseInterval.count,F._firstWeekDay,F._df.utc,void 0,F._df.timezoneMinutes,F._df.timezone).getTime(),ae=ne.toString(),se=ie.dataItemsByAxis.getKey(F.uid).getKey(ae+ie.currentDataSetId),le=0;F.start!=0&&(se?(se=F.findFirst(se,ne,re),le=se.index):le=ie.dataItems.findClosestIndex(F._minZoomed,function(Pe){return Pe[re]},"left"));var oe=F.baseInterval,ue=add(round$1(new Date(F._maxZoomed),oe.timeUnit,oe.count,F._firstWeekDay,F._df.utc,void 0,F._df.timezoneMinutes,F._df.timezone),oe.timeUnit,oe.count,F._df.utc).getTime(),ce=ue.toString(),he=ie.dataItemsByAxis.getKey(F.uid).getKey(ce+ie.currentDataSetId),me=ie.dataItems.length;F.end!=1&&(he?me=he.index:(ue-=1,me=ie.dataItems.findClosestIndex(ue,function(Pe){return Pe[re]},"right"),me++)),ie.max(F)<ne?(ie.startIndex=ie.dataItems.length,ie.endIndex=ie.dataItems.length,ie.outOfRange=!0):ie.min(F)>ue?(ie.startIndex=0,ie.endIndex=0,ie.outOfRange=!0):(ie.outOfRange=!1,ie.startIndex=le,ie.endIndex=me),!U&&ie.dataRangeInvalid&&ie.validateDataRange()}})},E.prototype.findFirst=function(F,R,U){var W=F.index;if(W>0){var Y=F.component,G=Y.dataItems.getIndex(W-1),X=G[U];return!X||X.getTime()<R?F:this.findFirst(G,R,U)}else return F},E.prototype.validateData=function(){V.prototype.validateData.call(this),isNumber$1(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(E.prototype,"minDifference",{get:function(){var F=this,R=Number.MAX_VALUE;return this.series.each(function(U){R>F._minDifference[U.uid]&&(R=F._minDifference[U.uid])}),(R==Number.MAX_VALUE||R==0)&&(R=getDuration("day")),R},enumerable:!0,configurable:!0}),E.prototype.seriesDataChangeUpdate=function(F){this._minDifference[F.uid]=Number.MAX_VALUE},E.prototype.postProcessSeriesDataItems=function(F){var R=this;this._firstWeekDay=this.getFirstWeekDay(),F?this.seriesGroupUpdate(F):this.series.each(function(U){R.seriesGroupUpdate(U)}),this.addEmptyUnitsBreaks()},E.prototype.seriesGroupUpdate=function(F){var R=this;JSON.stringify(F._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(F._baseInterval[this.uid]=this.mainBaseInterval,F.mainDataSet.each(function(U){R.postProcessSeriesDataItem(U)}),this.groupData&&this.groupSeriesData(F))},E.prototype.groupSeriesData=function(F){var R=this;if(F.baseAxis==this&&F.dataItems.length>0&&!F.dataGrouped){F.bulletsContainer.removeChildren();var U=[],W=this.mainBaseInterval,Y=getDuration(W.timeUnit,W.count);this.groupIntervals.each(function(G){var X=getDuration(G.timeUnit,G.count);(X>Y&&X<R.max-R.min||R.groupInterval)&&U.push(G)}),F._dataSets&&(F._dataSets.each(function(G,X){X.each(function(K){K.dispose()}),X.clear()}),F._dataSets.clear()),F.dataGrouped=!0,each$2(U,function(G){var X="date"+R.axisLetter,K=G.timeUnit+G.count,Z=new OrderedListTemplate(F.mainDataSet.template.clone());F.dataSets.setKey(K,Z);var J=F.mainDataSet,Q=Number.NEGATIVE_INFINITY,ee=0,te,ie=[];each$1(F.dataFields,function(ne,ae){var se=ne;se!=X&&se.indexOf("Show")==-1&&ie.push(se)});var re;J.each(function(ne){var ae=ne.getDate(X);if(ae){var se=ae.getTime();re=round$1(new Date(se),G.timeUnit,G.count,R._df.firstDayOfWeek,R._df.utc,void 0,R._df.timezoneMinutes,R._df.timezone);var le=re.getTime();Q<le?(te&&F._adapterO&&each$2(ie,function(oe){te.values[oe].value=F._adapterO.apply("groupDataItem",{dataItem:te,interval:G,dataField:oe,date:re,value:te.values[oe].value}).value,te.values[oe].workingValue=te.values[oe].value}),te=Z.create(),te.dataContext={},te.setWorkingLocation("dateX",F.dataItems.template.locations.dateX,0),te.setWorkingLocation("openDateX",F.dataItems.template.locations.openDateX,0),te.setWorkingLocation("dateY",F.dataItems.template.locations.dateY,0),te.setWorkingLocation("openDateY",F.dataItems.template.locations.openDateY,0),te.component=F,te.setDate(X,re),te._index=ee,ee++,each$2(ie,function(oe){var ue=ne.values[oe];if(ue){var ce=ue.value;F._adapterO&&(ce=F._adapterO.apply("groupValue",{dataItem:ne,interval:G,dataField:oe,date:re,value:ce}).value);var he=te.values[oe];isNumber$1(ce)?(he.value=ce,he.workingValue=ce,he.open=ce,he.close=ce,he.low=ce,he.high=ce,he.sum=ce,he.average=ce,he.count=1):he.count=0}}),R.postProcessSeriesDataItem(te,G),each$1(F.propertyFields,function(oe,ue){var ce=oe,he=ne.properties[oe];hasValue(he)&&(te.hasProperties=!0,te.setProperty(ce,he))}),te.groupDataItems=[ne],Q=le):te&&(each$2(ie,function(oe){var ue=F.groupFields[oe],ce=ne.values[oe];if(ce){var he=ce.value;if(F._adapterO&&(he=F._adapterO.apply("groupValue",{dataItem:ne,interval:G,dataField:oe,date:re,value:he}).value),isNumber$1(he)){var me=te.values[oe];isNumber$1(me.open)||(me.open=he),me.close=he,(me.low>he||!isNumber$1(me.low))&&(me.low=he),(me.high<he||!isNumber$1(me.high))&&(me.high=he),isNumber$1(me.sum)?me.sum+=he:me.sum=he,me.count++,me.average=me.sum/me.count,isNumber$1(me[ue])&&(me.value=me[ue],me.workingValue=me.value)}}}),copyProperties(ne.properties,te.properties),each$1(F.propertyFields,function(oe,ue){var ce=oe,he=ne.properties[oe];hasValue(he)&&(te.hasProperties=!0,te.setProperty(ce,he))}),te.groupDataItems.push(ne))}te&&copyProperties(ne.dataContext,te.dataContext)}),te&&F._adapterO&&each$2(ie,function(ne){te.values[ne].value=F._adapterO.apply("groupDataItem",{dataItem:te,interval:G,dataField:ne,date:re,value:te.values[ne].value}).value,te.values[ne].workingValue=te.values[ne].value})}),this.calculateZoom()}},E.prototype.getDFFormatter=function(){this._df=this.dateFormatter},E.prototype.postProcessSeriesDataItem=function(F,R){var U=this,W="";R?W=R.timeUnit+R.count:R=this.mainBaseInterval;var Y=F.component,G=Y.dataItemsByAxis.getKey(this.uid);each$1(F.dates,function(X){var K=F.getDate(X),Z=K.getTime(),J=round$1(new Date(Z),R.timeUnit,R.count,U._firstWeekDay,U._df.utc,void 0,U._df.timezoneMinutes,U._df.timezone),Q=J.getTime(),ee=add(new Date(Q),R.timeUnit,R.count,U._df.utc);F.setCalculatedValue(X,Q,"open"),F.setCalculatedValue(X,ee.getTime(),"close"),G.setKey(Q+W,F)})},E.prototype.addEmptyUnitsBreaks=function(){var F=this;if(this.skipEmptyPeriods&&isNumber$1(this.min)&&isNumber$1(this.max)){var R=this.baseInterval.timeUnit,U=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var W=round$1(new Date(this.min),R,U,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),Y=void 0,G=function(){add(W,R,U,X._df.utc);var K=W.getTime(),Z=K.toString(),J=contains$1(X.series.iterator(),function(Q){return!!Q.dataItemsByAxis.getKey(F.uid).getKey(Z+Q.currentDataSetId)});J?Y&&(Y.endDate=new Date(K-1),Y=void 0):Y||(Y=X.axisBreaks.create(),Y.startDate=new Date(K),X._gapBreaks=!0)},X=this;W.getTime()<this.max-this.baseDuration;)G()}},E.prototype.fixAxisBreaks=function(){var F=this;V.prototype.fixAxisBreaks.call(this);var R=this._axisBreaks;R&&R.length>0&&R.each(function(U){var W=Math.ceil(F._gridCount*(Math.min(F.end,U.endPosition)-Math.max(F.start,U.startPosition))/(F.end-F.start));U.gridInterval=F.chooseInterval(0,U.adjustedEndValue-U.adjustedStartValue,W);var Y=round$1(new Date(U.adjustedStartValue),U.gridInterval.timeUnit,U.gridInterval.count,F._firstWeekDay,F._df.utc,void 0,F._df.timezoneMinutes,F._df.timezone);Y.getTime()>U.startDate.getTime()&&add(Y,U.gridInterval.timeUnit,U.gridInterval.count,F._df.utc),U.gridDate=Y})},E.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},E.prototype.getGridDate=function(F,R){var U=this._gridInterval.timeUnit,W=this._gridInterval.count;round$1(F,U,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var Y=F.getTime(),G=copy(F),X=add(G,U,R,this._df.utc).getTime(),K=this.isInBreak(X);K&&K.endDate&&(G=new Date(K.endDate.getTime()),round$1(G,U,W,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),G.getTime()<K.endDate.getTime()&&add(G,U,W,this._df.utc),X=G.getTime());var Z=this.adjustDifference(Y,X),J=Math.round(Z/getDuration(U));return J<W?this.getGridDate(F,R+W):G},E.prototype.getBreaklessDate=function(F,R,U){var W=new Date(F.endValue);round$1(W,R,U,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),add(W,R,U,this._df.utc);var Y=W.getTime();return F=this.isInBreak(Y),F?this.getBreaklessDate(F,R,U):W},E.prototype.validateAxisElements=function(){var F=this;if(isNumber$1(this.max)&&isNumber$1(this.min)){this.calculateZoom();var R=this._gridDate.getTime(),U=this._gridInterval.timeUnit,W=this._gridInterval.count,Y=copy(this._gridDate),G=this._dataItemsIterator;this.resetIterators();for(var X=function(){var J=K.getGridDate(copy(Y),W);R=J.getTime();var Q=copy(J);Q=add(Q,U,W,K._df.utc);var ee=K.dateFormats.getKey(U);K.markUnitChange&&Y&&checkChange(J,Y,K._nextGridUnit,K._df.utc)&&U!=="year"&&(ee=K.periodChangeDateFormats.getKey(U));var te=K._df.format(J,ee),ie=G.find(function(re){return re.text===te});ie.__disabled&&(ie.__disabled=!1),K.appendDataItem(ie),ie.axisBreak=void 0,ie.date=J,ie.endDate=Q,ie.text=te,K.validateDataElement(ie),Y=J},K=this;R<=this._maxZoomed;)X();var Z=this.renderer;this._axisBreaks&&each(this._axisBreaks.iterator(),function(J){if(J.breakSize>0){var Q=J.gridInterval.timeUnit,ee=J.gridInterval.count;if(getDistance(J.startPoint,J.endPoint)>Z.minGridDistance*4)for(var te=J.gridDate.getTime(),ie,re=0,ne=function(){var ae=copy(J.gridDate);if(te=add(ae,Q,ee*re,F._df.utc).getTime(),re++,te>J.adjustedStartValue&&te<J.adjustedEndValue){var se=copy(ae);se=add(se,Q,ee,F._df.utc);var le=F.dateFormats.getKey(Q);F.markUnitChange&&ie&&checkChange(ae,ie,F._nextGridUnit,F._df.utc)&&Q!=="year"&&(le=F.periodChangeDateFormats.getKey(Q));var oe=F._df.format(ae,le),ue=G.find(function(ce){return ce.text===oe});ue.__disabled&&(ue.__disabled=!1),F.appendDataItem(ue),ue.axisBreak=J,J.dataItems.moveValue(ue),ue.date=ae,ue.endDate=se,ue.text=oe,ie=ae,F.validateDataElement(ue)}};te<=J.adjustedMax;)ne()}})}},E.prototype.validateDataElement=function(F){if(F.itemIndex=this._axisItemCount,this._axisItemCount++,isNumber$1(this.max)&&isNumber$1(this.min)){var R=this.renderer,U=F.value,W=F.endValue;isNumber$1(W)||(W=U);var Y=this.valueToPosition(U),G=this.valueToPosition(W),X=G;!F.isRange&&this._gridInterval.count>this.baseInterval.count&&(G=Y+(G-Y)/(this._gridInterval.count/this.baseInterval.count)),F.position=Y;var K=F.tick;K&&!K.disabled&&R.updateTickElement(K,Y,G);var Z=F.grid;Z&&!Z.disabled&&R.updateGridElement(Z,Y,G);var J=F.axisFill;J&&!J.disabled&&(R.updateFillElement(J,Y,X),F.isRange||this.fillRule(F));var Q=F.mask;Q&&R.updateFillElement(Q,Y,G),F.bullet&&R.updateBullet(F.bullet,Y,G);var ee=F.label;if(ee&&!ee.disabled){var te=ee.location;te==0&&(this._gridInterval.count==1&&this._gridInterval.timeUnit!="week"&&!F.isRange?te=.5:te=0),R.updateLabelElement(ee,Y,G,te)}}},Object.defineProperty(E.prototype,"baseDuration",{get:function(){return getDuration(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),E.prototype.adjustMinMax=function(F,R){return{min:F,max:R,step:this.baseDuration}},E.prototype.fixMin=function(F){var R=this.baseInterval,U=round$1(new Date(F),R.timeUnit,R.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),W=add(new Date(U),R.timeUnit,R.count,this._df.utc).getTime();return U+(W-U)*this.startLocation},E.prototype.fixMax=function(F){var R=this.baseInterval,U=round$1(new Date(F),R.timeUnit,R.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),W=add(new Date(U),R.timeUnit,R.count,this._df.utc).getTime();return U+(W-U)*this.endLocation},E.prototype.chooseInterval=function(F,R,U,W){W||(W=this.gridIntervals);var Y=W.getIndex(F),G=getDuration(Y.timeUnit,Y.count),X=W.length-1;if(F>=X)return __assign$1({},W.getIndex(X));var K=Math.ceil(R/G);return R<G&&F>0?__assign$1({},W.getIndex(F-1)):K<=U?__assign$1({},W.getIndex(F)):F+1<W.length?this.chooseInterval(F+1,R,U,W):__assign$1({},W.getIndex(F))},E.prototype.formatLabel=function(F){return this._df.format(F)},E.prototype.dateToPosition=function(F){return this.valueToPosition(F.getTime())},E.prototype.anyToPosition=function(F){return F instanceof Date?this.dateToPosition(F):this.valueToPosition(F)},E.prototype.dateToPoint=function(F){var R=this.dateToPosition(F),U=this.renderer.positionToPoint(R),W=this.renderer.positionToAngle(R);return{x:U.x,y:U.y,angle:W}},E.prototype.anyToPoint=function(F){return F instanceof Date?this.dateToPoint(F):this.valueToPoint(F)},E.prototype.positionToDate=function(F){return new Date(this.positionToValue(F))},E.prototype.getPositionX=function(F,R,U,W,Y){var G=this.getTimeByLocation(F,R,U);isNumber$1(G)||(G=this.baseValue);var X=this.valueToPosition(G);return Y&&(X=fitToRange(X,Y.start,Y.end)),X},E.prototype.getPositionY=function(F,R,U,W,Y){var G=this.getTimeByLocation(F,R,U),X=F.getValue("valueX","stack");isNumber$1(G)||(G=this.baseValue);var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),K},E.prototype.getAngle=function(F,R,U,W,Y){var G=this.getTimeByLocation(F,R,U),X=F.getValue(W,"stack");isNumber$1(G)||(G=this.baseValue);var K=this.valueToPosition(G+X);return Y&&(K=fitToRange(K,Y.start,Y.end)),this.positionToAngle(K)},E.prototype.getTimeByLocation=function(F,R,U){if(!!hasValue(R)){isNumber$1(U)||(U=F.workingLocations[R],isNumber$1(U)||(U=0));var W=F.values[R].open,Y=F.values[R].close,G=F.values[R].workingValue,X=F.values[R].value,K=X-G;if(W-=K,Y-=K,isNumber$1(W)&&isNumber$1(Y))return W+(Y-W)*U}},E.prototype.processSeriesDataItem=function(F,R){var U=F.component,W,Y=F["date"+R];if(isNumber$1(this.timezoneOffset)?(Y.setTime(Y.getTime()+(Y.getTimezoneOffset()-this.timezoneOffset)*6e4),F.setValue("date"+R,Y.getTime(),0)):hasValue(this.timezone)&&(Y=setTimezone(Y,this.timezone),F.setValue("date"+R,Y.getTime(),0),F["date"+R]=Y),Y)W=Y.getTime();else return;var G=F["openDate"+R],X=this._prevSeriesTime[U.uid],K;if(G&&(K=G.getTime()),isNumber$1(K)){var Z=Math.abs(W-K);this._minDifference[U.uid]>Z&&(this._minDifference[U.uid]=Z)}var J=W-X;J>0&&this._minDifference[U.uid]>J&&(this._minDifference[U.uid]=J),this._prevSeriesTime[U.uid]=W,U._baseInterval[this.uid]&&this.postProcessSeriesDataItem(F)},E.prototype.updateAxisBySeries=function(){V.prototype.updateAxisBySeries.call(this);var F=this.chooseInterval(0,this.minDifference,1);this.minDifference>=getDuration("day",27)&&F.timeUnit=="week"&&(F.timeUnit="month",F.count=1),F.timeUnit=="month"&&(this.minDifference>=getDuration("day",29*2)&&F.count==1&&(F.count=2),this.minDifference>=getDuration("day",29*3)&&F.count==2&&(F.count=3),this.minDifference>=getDuration("day",29*6)&&F.count==5&&(F.count=6)),this.minDifference>=getDuration("hour",23)&&F.timeUnit=="hour"&&(F.timeUnit="day",F.count=1),this.minDifference>=getDuration("week",1)-getDuration("hour",1)&&F.timeUnit=="day"&&(F.timeUnit="week",F.count=1),this.minDifference>=getDuration("year",1)-getDuration("day",1.01)&&F.timeUnit=="month"&&(F.timeUnit="year",F.count=1),this._baseIntervalReal=F,this._mainBaseInterval=F},Object.defineProperty(E.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(F){JSON.stringify(this._baseInterval)!=JSON.stringify(F)&&(this._baseInterval=F,this._mainBaseInterval=F,isNumber$1(F.count)||(F.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(F){if(F){var R=this.axisBreaks.template;R.startLine.disabled=!0,R.endLine.disabled=!0,R.fillShape.disabled=!0,R.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",F)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(F){this.setPropertyValue("tooltipDateFormat",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(F){this.setPropertyValue("markUnitChange",F)&&this.invalidateData()},enumerable:!0,configurable:!0}),E.prototype.getTooltipText=function(F){var R,U=this.positionToDate(F);if(U=round$1(U,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=U,hasValue(this.tooltipDateFormat))R=this._df.format(U,this.tooltipDateFormat,["day","month","week","year"].indexOf(this.baseInterval.timeUnit)==-1);else{var W=this.dateFormats.getKey(this.baseInterval.timeUnit);W?R=this._df.format(U,W):R=this.getPositionLabel(F)}return this._adapterO?this._adapterO.apply("getTooltipText",R):R},E.prototype.roundPosition=function(F,R,U){var W=this.baseInterval,Y=W.timeUnit,G=W.count,X=this.positionToDate(F);if(round$1(X,Y,G,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),R>0&&add(X,Y,R*G,this._df.utc),U>0&&U<1&&X.setTime(X.getTime()+this.baseDuration*U),this.isInBreak(X.getTime()))for(;X.getTime()<this.max&&(add(X,Y,G,this._df.utc),!!this.isInBreak(X.getTime())););return this.dateToPosition(X)},E.prototype.getCellStartPosition=function(F){return this.roundPosition(F,0)},E.prototype.getCellEndPosition=function(F){return this.roundPosition(F,1)},E.prototype.getSeriesDataItem=function(F,R,U){var W=this.positionToValue(R),Y=.5;this.axisLetter=="Y"?Y=F.dataItems.template.locations.dateY:Y=F.dataItems.template.locations.dateX;var G=W-Y*this.baseDuration,X=round$1(new Date(W),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),K=round$1(new Date(W+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);K.getTime()>X.getTime()&&Math.abs(K.getTime()-G)<Math.abs(G-X.getTime())&&(X=K);var Z=F.dataItemsByAxis.getKey(this.uid),J=Z.getKey(X.getTime()+F.currentDataSetId);if(!J&&U){var Q;this.axisLetter=="Y"?Q="dateY":Q="dateX",J=F.dataItems.getIndex(F.dataItems.findClosestIndex(X.getTime(),function(ee){return ee[Q]?ee[Q].getTime():-1/0},"any"))}return J},E.prototype.getPositionLabel=function(F){var R=this.positionToDate(F);return this._df.format(R,this.getCurrentLabelFormat())},E.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},E.prototype.initRenderer=function(){V.prototype.initRenderer.call(this);var F=this.renderer;F&&(F.ticks.template.location=0,F.grid.template.location=0,F.labels.template.location=0,F.baseGrid.disabled=!0)},Object.defineProperty(E.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),E.prototype.animateMinMax=function(F,R){var U=this,W=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:F},{property:"_maxAdjusted",from:this._maxAdjusted,to:R}],this.rangeChangeDuration,this.rangeChangeEasing);return W.events.on("animationprogress",function(){U.dispatch("extremeschanged")}),W},E.prototype.handleExtremesChange=function(){if(V.prototype.handleExtremesChange.call(this),this.groupData){var F=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[F]=this._finalMin,this.groupMax[F]=this._finalMax}},E.prototype.zoomToDates=function(F,R,U,W,Y){F=this._df.parse(F),R=this._df.parse(R),this.zoomToValues(F.getTime(),R.getTime(),U,W,Y)},E.prototype.zoomToValues=function(F,R,U,W,Y){var G=this;if(this.groupData){var Z=this.adjustDifference(F,R),J=!1;R==this.max&&(J=!0);var Q=!1;if(F==this.min&&(Q=!0),hasValue(Z)){var ee=this.mainBaseInterval,te=this.chooseInterval(0,Z,this.groupCount,this.groupIntervals);(te.timeUnit==ee.timeUnit&&te.count<ee.count||getDuration(te.timeUnit,1)<getDuration(ee.timeUnit,1))&&(te=__assign$1({},ee));var ie=te.timeUnit+te.count,re=this.groupMin[ie],ne=this.groupMax[ie];(!isNumber$1(re)||!isNumber$1(ne))&&(re=Number.POSITIVE_INFINITY,ne=Number.NEGATIVE_INFINITY,this.series.each(function(le){var oe=le.min(G),ue=le.max(G);if(le._dataSets){var ce=le._dataSets.getKey(te.timeUnit+te.count);if(ce){var he=ce.getIndex(0),me=ce.getIndex(ce.length-1);he&&(le.xAxis==G?oe=he.dateX.getTime():le.yAxis==G&&(oe=he.dateY.getTime())),me&&(le.xAxis==G?ue=me.dateX.getTime():le.yAxis==G&&(ue=me.dateY.getTime()))}}ue=round$1(add(new Date(ue),te.timeUnit,1,G._df.utc),te.timeUnit,1,G._df.firstDayOfWeek,G._df.utc,void 0,G._df.timezoneMinutes,G._df.timezone).getTime(),oe<re&&(re=oe),ue>ne&&(ne=ue)}),this.groupMin[ie]=re,this.groupMax[ie]=ne),F=fitToRange(F,re,ne),R=fitToRange(R,re,ne),Y&&(J&&(F=R-Z,F=fitToRange(F,re,ne)),Q&&(R=F+Z,R=fitToRange(R,re,ne)));var X=(F-re)/(ne-re),K=(R-re)/(ne-re);this.zoom({start:X,end:K},U,W)}}else{var X=this.valueToPosition(F),K=this.valueToPosition(R);this.zoom({start:X,end:K},U,W)}},E.prototype.asIs=function(F){return F=="baseInterval"||V.prototype.asIs.call(this,F)},E.prototype.copyFrom=function(F){var R=this;V.prototype.copyFrom.call(this,F),this.dateFormats=F.dateFormats,this.periodChangeDateFormats=F.periodChangeDateFormats,this.groupIntervals.clear(),F.groupIntervals.each(function(U){R.groupIntervals.push(__assign$1({},U))}),this.gridIntervals.clear(),F.gridIntervals.each(function(U){R.gridIntervals.push(__assign$1({},U))}),F._baseInterval&&(this.baseInterval=F._baseInterval)},E.prototype.showTooltipAtPosition=function(F,R){var U=this;if(R||(F=this.toAxisPosition(F)),this.snapTooltip){var W=this.positionToDate(F),Y=W.getTime(),G;if(this.series.each(function(Z){if(Z.baseAxis==U){var J=U.getSeriesDataItem(Z,F,!0);if(J){var Q=void 0;Z.xAxis==U&&(Q=J.dateX),Z.yAxis==U&&(Q=J.dateY),G?Math.abs(G.getTime()-Y)>Math.abs(Q.getTime()-Y)&&(G=Q):G=Q}}}),G){var X=G.getTime();G=round$1(new Date(X),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),X=G.getTime();var K=this.renderer.tooltipLocation;K==0&&(K=1e-4),G=new Date(G.getTime()+this.baseDuration*K),F=this.dateToPosition(G),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(Z){var J=Z.dataItemsByAxis.getKey(U.uid).getKey(X+Z.currentDataSetId),Q=Z.showTooltipAtDataItem(J);Q?U.chart._seriesPoints.push({series:Z,point:Q}):(Z.tooltipText||Z.tooltipHTML)&&Z.hideTooltip()})}}V.prototype.showTooltipAtPosition.call(this,F,!0)},Object.defineProperty(E.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(F){this.setPropertyValue("snapTooltip",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(F){var R=this;this.setPropertyValue("groupData",F)&&(this.series.each(function(U){U.setDataSet(""),F&&!U.dataGrouped&&U.inited&&(U._baseInterval[R.uid]=R.mainBaseInterval,R.groupSeriesData(U))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(F){this.setPropertyValue("groupInterval",F)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(F){this.setPropertyValue("groupCount",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(F){this.setPropertyValue("timezoneOffset",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(F){this.setPropertyValue("timezone",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),E.prototype.makeGap=function(F,R){var U=F.component;if(F&&R&&!U.connect&&isNumber$1(U.autoGapCount)&&U.baseAxis==this){var W=F.dates["date"+this.axisLetter],Y=R.dates["date"+this.axisLetter];if(W&&Y){var G=W.getTime(),X=Y.getTime();if(G-X>U.autoGapCount*this.baseDuration)return!0}}return!1},Object.defineProperty(E.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),E.prototype._saveMinMax=function(F,R){var U=this.groupInterval;U||(U=this.mainBaseInterval);var W=U.timeUnit+U.count;this._intervalMin[W]=F,this._intervalMax[W]=R},E}(ValueAxis);registry.registeredClasses.DateAxis=DateAxis;registry.registeredClasses.DateAxisDataItem=DateAxisDataItem;var AxisRendererX=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="AxisRendererX",F.minGridDistance=120,F.opposite=!1,F.rotation=0,F.width=percent(100),F.labels.template.horizontalCenter="middle",F.applyTheme(),F}return E.prototype.setAxis=function(F){V.prototype.setAxis.call(this,F),F.layout="vertical"},E.prototype.updateGridContainer=function(){var F=this.axis;if(F){var R=this.gridContainer;R.x=F.pixelX,R.width=F.axisLength}},E.prototype.processRenderer=function(){V.prototype.processRenderer.call(this);var F=this.axis;if(F){F.width instanceof Percent||(F.width=percent(100)),this.line;var R=F.title;R.rotation=0,R.align="center",this.opposite?(this.line.toFront(),R.toBack()):(R.toFront(),this.toBack(),this.line.toBack())}},E.prototype.updateTooltip=function(){var F=this.axis;if(F){var R=1e3,U=this.line.pixelX,W=this.line.pixelY,Y=this.axisLength,G=R;this.opposite?this.inside||(W=-R,G=R):this.inside&&(W=-R,G=R),this.axis.updateTooltip("vertical",{x:U,y:W,width:Y,height:G})}},E.prototype.updateLabelElement=function(F,R,U,W){hasValue(W)||(W=F.location),R=R+(U-R)*W;var Y=this.positionToPoint(R);F.isMeasured=!F.inside;var G=0,X,K=this.gridContainer.maxHeight;this.opposite?(F.inside?(X="top",F.valign=="bottom"&&(G=K,X="bottom"),F.valign=="middle"&&(G=K/2,X="middle")):X="bottom",Y.y=G):(F.inside?(X="bottom",F.valign=="top"&&(G=-K,X="top"),F.valign=="middle"&&(G=-K/2,X="middle")):X="top",Y.y+=G),F.rotation==0&&(F.verticalCenter=X),this.positionItem(F,Y),this.toggleVisibility(F,R,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(E.prototype,"axisLength",{get:function(){var F=this.axis;return F.measuredWidth-F.pixelPaddingRight-F.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),E.prototype.positionToPoint=function(F,R){return{x:this.positionToCoordinate(F),y:0}},E.prototype.pointToPosition=function(F){return this.coordinateToPosition(F.x,F.y)},E.prototype.getPositionRangePath=function(F,R){var U=fitToRange(this.positionToCoordinate(F),0,this.axisLength),W=fitToRange(this.positionToCoordinate(R),0,this.axisLength),Y=Math.abs(W-U),G=this.getHeight(),X=Math.min(U,W),K=0;return rectToPath({x:X,y:K,width:Y,height:G},!0)},E.prototype.updateBreakElement=function(F){V.prototype.updateBreakElement.call(this,F);var R=F.startLine,U=F.endLine,W=F.fillShape,Y=F.startPoint,G=F.endPoint,X=F.pixelMarginLeft,K=this.getHeight()-F.pixelMarginTop-F.pixelMarginBottom;Y.x=fitToRange(Y.x,-1,this.axisLength+1),G.x=fitToRange(G.x,-1,this.axisLength+1),Y.x==G.x&&(Y.x<0||Y.x>this.axisLength)?F.fillShape.__disabled=!0:F.fillShape.__disabled=!1,R.y=X,R.width=0,R.height=K,U.y=X,U.width=0,U.height=K,W.height=K,W.width=Math.abs(G.x-Y.x),W.y=X,W.x=Y.x},E.prototype.updateGridElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R);F.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.getHeight()}),this.positionItem(F,W),this.toggleVisibility(F,R,0,1)},E.prototype.updateTickElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R),Y=F.length;W.y=spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?Y*=F.inside?1:-1:Y*=F.inside?-1:1,F.path=moveTo({x:0,y:0})+lineTo({x:0,y:Y}),this.positionItem(F,W),this.toggleVisibility(F,R,0,1)},E.prototype.updateAxisLine=function(){this.line.path=moveTo({x:0,y:0})+lineTo({x:this.axisLength,y:0})},E.prototype.updateBaseGridElement=function(){V.prototype.updateBaseGridElement.call(this);var F=this.axis,R=this.getHeight(),U=this.axisLength,W=this.baseGrid,Y=F.basePoint.x;if(Y<-.2||Y>U+.2)W.hide(0);else{var G=spritePointToSprite({x:0,y:0},this.gridContainer,W.parent).y;W.path=moveTo({x:0,y:0})+lineTo({x:0,y:R}),W.moveTo({x:Y,y:G}),W.show(0)}},E.prototype.createBreakSprites=function(F){F.startLine=new WavedLine,F.endLine=new WavedLine;var R=new WavedRectangle;R.setWavedSides(!1,!0,!1,!0),F.fillShape=R},E.prototype.toAxisPosition=function(F){var R=F,U=this.axis;if(U){var W=U.relativePositionSprite,Y=U.pixelX;if(W?Y=spritePointToSprite({x:this.pixelX,y:0},this.parent,W).x:W=U.parent,W){var G=Y/W.innerWidth,X=U.axisLength/W.innerWidth;return(R-G)/X}}return F},E.prototype.updateBullet=function(F,R,U){var W=.5;F instanceof AxisBullet&&(W=F.location),R=R+(U-R)*W;var Y=this.positionToPoint(R);Y.y=spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(F,Y),this.toggleVisibility(F,R,0,1)},E}(AxisRenderer);registry.registeredClasses.AxisRendererX=AxisRendererX;defaultRules.push({relevant:ResponsiveBreakpoints.heightXS,state:function(V,E){if(V instanceof AxisRendererX){var F=V.states.create(E);return F.properties.inside=!0,F.properties.maxLabelPosition=.9,F.properties.minLabelPosition=.1,F}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.heightXXS,state:function(V,E){if(V instanceof AxisRendererX){var F=V.states.create(E);return F.properties.disabled=!0,F}return null}});var CategoryAxisBreak=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="CategoryAxisBreak",F.properties.startLocation=.5,F.properties.endLocation=.5,F.applyTheme(),F}return Object.defineProperty(E.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(F){this.setPropertyValue("startCategory",F)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(F){this.setPropertyValue("endCategory",F)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startValue",{get:function(){var F=this.getPropertyValue("startCategory");return F?this.axis.categoryToIndex(F):this.getPropertyValue("startValue")},set:function(F){this.setPropertyValue("startValue",F)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endValue",{get:function(){var F=this.getPropertyValue("endCategory");return F?this.axis.categoryToIndex(F):this.getPropertyValue("endValue")},set:function(F){this.setPropertyValue("endValue",F)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(F){this.setPropertyValue("startLocation",F)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(F){this.setPropertyValue("endLocation",F)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),E}(AxisBreak);registry.registeredClasses.CategoryAxisBreak=CategoryAxisBreak;var CategoryAxisDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.seriesDataItems={},F.className="CategoryAxisDataItem",F.text="{category}",F.locations.category=0,F.locations.endCategory=1,F.deltaPosition=0,F.applyTheme(),F}return Object.defineProperty(E.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(F){var R=this.properties.category;this.setProperty("category",F),hasValue(R)&&R!=F&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(F){this.setProperty("endCategory",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(F){F!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",F),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),E}(AxisDataItem),CategoryAxis=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.dataItemsByCategory=new Dictionary,F.className="CategoryAxis",F.axisFieldName="category",F._lastDataItem=F.createDataItem(),F._lastDataItem.component=F,F._disposers.push(F._lastDataItem),F.applyTheme();var R=F.dataItemsByCategory;return F.addDisposer(F.mainDataSet.events.on("removed",function(U){R.removeKey(U.oldValue.category)})),F}return E.prototype.createDataItem=function(){return new CategoryAxisDataItem},E.prototype.createAxisBreak=function(){return new CategoryAxisBreak},E.prototype.processSeriesDataItem=function(F,R){V.prototype.processSeriesDataItem.call(this,F,R);var U=F["category"+this.axisLetter];if(hasValue(U)){var W=this.dataItemsByCategory.getKey(U);if(W){var Y=F.component.uid,G=W.seriesDataItems[Y];G||(G=[],W.seriesDataItems[Y]=G),G.push(F)}}else F.component.dataItems.remove(F)},E.prototype.validateDataRange=function(){var F=this;V.prototype.validateDataRange.call(this),each(this._series.iterator(),function(R){if(R.xAxis instanceof E&&R.yAxis instanceof E)R.invalidateDataRange();else{var U=F.positionToIndex(F.start),W=F.positionToIndex(F.end);W>=F.dataItems.length&&W--;for(var Y=R.uid,G=void 0,X=void 0,K=U;K<=W;K++){var Z=F.dataItems.getIndex(K);if(Z){var J=Z.seriesDataItems[Y];if(J)for(var Q=0;Q<J.length;Q++){var ee=J[Q];if(ee){var te=ee.index;(!isNumber$1(G)||te<G)&&(G=te),(!isNumber$1(X)||te>X)&&(X=te)}}}}isNumber$1(G)?R.startIndex=G:R.start=F.start,isNumber$1(X)?R.endIndex=X+1:R.end=F.end,F._axisBreaks&&F._axisBreaks.length>0&&R.invalidateDataRange()}})},E.prototype.validate=function(){var F=this;V.prototype.validate.call(this);var R=this.dataItems.length,U=fitToRange(Math.floor(this.start*R-1),0,R),W=fitToRange(Math.ceil(this.end*R),0,R);this.renderer.invalid&&this.renderer.validate();var Y=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),G=Math.min(this.dataItems.length,Math.ceil((W-U)/Y));if(this._startIndex=Math.floor(U/G)*G,this._endIndex=Math.ceil(this.end*R),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=G,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),U=max$1(0,this._startIndex-this._frequency),W=min$1(this.dataItems.length,this._endIndex+this._frequency);for(var X=0,K=0;K<U;K++){var Z=this.dataItems.getIndex(K);Z.__disabled=!0}for(var K=W,J=this.dataItems.length;K<J;K++){var Z=this.dataItems.getIndex(K);Z.__disabled=!0}for(var K=U;K<W;K++)if(K<this.dataItems.length){var Z=this.dataItems.getIndex(K);if(K/this._frequency==Math.round(K/this._frequency)){var Q=this.isInBreak(K);Q||(this.appendDataItem(Z),this.validateDataElement(Z,X)),X++}else Z.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,X+1,this.dataItems.length),this._axisBreaks){var ee=this._axisBreaks;ee.each(function(te){var ie=te.adjustedStartValue,re=te.adjustedEndValue;if(intersect({start:ie,end:re},{start:F._startIndex,end:F._endIndex})){for(var ne=ie;ne<=re;ne++){var ae=F.dataItems.getIndex(ne);ae.__disabled=!0}var se=fitToRange(Math.ceil(F._frequency/te.breakSize),1,re-ie),le=0;if(te.breakSize>0)for(var ne=ie;ne<=re;ne=ne+se){var ae=F.dataItems.getIndex(ne);ae.__disabled=!1,F.appendDataItem(ae),F.validateDataElement(ae,le),le++}}})}this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},E.prototype.validateDataElement=function(F,R,U){V.prototype.validateDataElement.call(this,F),F.itemIndex=this._axisItemCount,this._axisItemCount++;var W=this.renderer;isNumber$1(U)||(U=this.categoryToIndex(F.category));var Y=this.categoryToIndex(F.endCategory);isNumber$1(Y)||(Y=U);var G=this.indexToPosition(U,F.locations.category),X=this.indexToPosition(Y,F.locations.endCategory);F.position=G;var K,Z,J;F.isRange&&(K=Y,Z=this.indexToPosition(U,F.locations.category),J=this.indexToPosition(K,F.locations.endCategory)),F.point=W.positionToPoint(G);var Q=F.tick;Q&&!Q.disabled&&W.updateTickElement(Q,G,X);var ee=F.grid;ee&&!ee.disabled&&W.updateGridElement(ee,G,X);var te=F.label;te&&!te.disabled&&((!F.isRange||te.text==null)&&(F.text=F.text),W.updateLabelElement(te,G,X),(W instanceof AxisRendererY&&F.label.measuredWidth>this.ghostLabel.measuredWidth||W instanceof AxisRendererX&&F.label.measuredHeight>this.ghostLabel.measuredHeight)&&(F.label.html?this.ghostLabel.html=F.label.currentText:this.ghostLabel.text=F.label.currentText));var ie=F.axisFill;ie&&!ie.disabled&&(F.isRange||(K=U+this._frequency,Z=this.indexToPosition(U,ie.location),J=this.indexToPosition(K,ie.location)),W.updateFillElement(ie,Z,J),F.isRange||this.fillRule(F,R)),F.bullet&&W.updateBullet(F.bullet,G,X);var re=F.mask;re&&W.updateFillElement(re,Z,J)},E.prototype.disposeData=function(){this.dataItemsByCategory.clear(),V.prototype.disposeData.call(this)},E.prototype.processDataItem=function(F,R){F&&(V.prototype.processDataItem.call(this,F,R),hasValue(F.category)&&this.dataItemsByCategory.setKey(F.category,F))},E.prototype.getDataItem=function(F){var R=F[this.dataFields.category];if(hasValue(R)){var U=this.dataItemsByCategory.getKey(R);return U||this.dataItems.create()}},E.prototype.indexToPosition=function(F,R){isNumber$1(R)||(R=.5);var U=this.startIndex,W=this.endIndex,Y=this.adjustDifference(U,W),G=this.startLocation,X=this.endLocation;if(Y-=G,Y-=1-X,this._axisBreaks){var K=this._axisBreaks;eachContinue(K.iterator(),function(Q){var ee=Q.adjustedStartValue,te=Q.adjustedEndValue;if(F<U||!isNumber$1(ee)||!isNumber$1(te))return!1;if(intersect({start:ee,end:te},{start:U,end:W})){ee=Math.max(U,ee),te=Math.min(W,te);var ie=Q.breakSize;F>te?U+=(te-ee)*(1-ie):F<ee||(F=ee+(F-ee)*ie)}return!0})}var Z=0,J=this.dataItems.getIndex(F);return J&&(Z=J.deltaPosition),round$2(Z+(F+R-G-U)/Y,5)},E.prototype.categoryToPosition=function(F,R){var U=this.categoryToIndex(F);return this.indexToPosition(U,R)},E.prototype.categoryToPoint=function(F,R){var U=this.categoryToPosition(F,R),W=this.renderer.positionToPoint(U),Y=this.renderer.positionToAngle(U);return{x:W.x,y:W.y,angle:Y}},E.prototype.anyToPoint=function(F,R){return this.categoryToPoint(F,R)},E.prototype.anyToPosition=function(F,R){return this.categoryToPosition(F,R)},E.prototype.categoryToIndex=function(F){if(hasValue(F)){var R=this.dataItemsByCategory.getKey(F);if(R)return R.index}},E.prototype.zoomToCategories=function(F,R){this.zoomToIndexes(this.categoryToIndex(F),this.categoryToIndex(R)+1)},E.prototype.getAnyRangePath=function(F,R,U,W){var Y=this.categoryToPosition(F,U),G=this.categoryToPosition(R,W);return this.getPositionRangePath(Y,G)},E.prototype.roundPosition=function(F,R){var U=this.positionToIndex(F);return this.indexToPosition(U,R)},E.prototype.getFirstSeriesDataItem=function(F,R){for(var U=0;U<F.dataItems.length;U++){var W=F.dataItems.getIndex(U);if(F.xAxis==this&&W.categoryX==R||F.yAxis==this&&W.categoryY==R)return W}},E.prototype.getLastSeriesDataItem=function(F,R){for(var U=F.dataItems.length-1;U>=0;U--){var W=F.dataItems.getIndex(U);if(F.xAxis==this&&W.categoryX==R||F.yAxis==this&&W.categoryY==R)return W}},E.prototype.getSeriesDataItemByCategory=function(F,R){var U=this,W;return R.dataItems.each(function(Y){R.xAxis==U?Y.categoryX==F&&(W=Y):R.yAxis==U&&Y.categoryY==F&&(W=Y)}),W},E.prototype.getSeriesDataItem=function(F,R,U){var W=this;if(isNumber$1(R)){var Y=this.positionToIndex(R);Y>=this.dataItems.length&&Y--;var G=this.dataItems.getIndex(Y);if(G){var X=G.category,K,Z=F.dataItems.getIndex(Y);return Z&&(F.xAxis==this&&Z.categoryX==X||F.yAxis==this&&Z.categoryY==X)?Z:(F.dataItems.each(function(J){F.xAxis==W&&J.categoryX==X&&(K||(K=J),Math.abs(Y-K.index)>Math.abs(Y-J.index)&&(K=J)),F.yAxis==W&&J.categoryY==X&&(K||(K=J),Math.abs(Y-K.index)>Math.abs(Y-J.index)&&(K=J))}),K)}}},E.prototype.getX=function(F,R,U,W,Y){var G=this.getPositionX(F,R,U,W,Y);return isNaN$1(G)?this.basePoint.x:this.renderer.positionToPoint(G).x},E.prototype.getPositionX=function(F,R,U,W,Y){var G;return hasValue(R)&&(G=this.categoryToPosition(F.categories[R],U)),Y&&(G=fitToRange(G,Y.start,Y.end)),G},E.prototype.getY=function(F,R,U,W,Y){var G=this.getPositionY(F,R,U,W,Y);return isNaN$1(G)?this.basePoint.y:this.renderer.positionToPoint(G).y},E.prototype.getPositionY=function(F,R,U,W,Y){var G;return hasValue(R)&&(G=this.categoryToPosition(F.categories[R],U)),Y&&(G=fitToRange(G,Y.start,Y.end)),G},E.prototype.getAngle=function(F,R,U,W,Y){var G=this.categoryToPosition(F.categories[R],U);return Y&&(G=fitToRange(G,Y.start,Y.end)),this.positionToAngle(G)},E.prototype.getCellStartPosition=function(F){return this.roundPosition(F,0)},E.prototype.getCellEndPosition=function(F){return this.roundPosition(F,1)},E.prototype.getTooltipText=function(F){var R=this.dataItems.getIndex(this.positionToIndex(F));if(R)return this.tooltipDataItem=R,this.tooltip.dataItem=R,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",R.category):R.category},E.prototype.positionToIndex=function(F){F=round$2(F,10),F<0&&(F=0),F>1&&(F=1);var R=this.startIndex,U=this.endIndex,W=U-R-this.startLocation-(1-this.endLocation);F+=1/W*this.startLocation;var Y=null;if(this._axisBreaks){var G=this._axisBreaks;eachContinue(G.iterator(),function(X){var K=X.startPosition,Z=X.endPosition,J=X.adjustedStartValue,Q=X.adjustedEndValue;J=max$1(J,R),Q=min$1(Q,U);var ee=X.breakSize;if(W-=(Q-J)*(1-ee),F>Z)R+=(Q-J)*(1-ee);else if(!(F<K)){var te=(F-K)/(Z-K);return Y=J+Math.round(te*(Q-J)),!1}return!0})}return isNumber$1(Y)||(Y=Math.floor(F*W+R)),Y>=this.dataItems.length&&(Y=this.dataItems.length-1),Y},E.prototype.positionToCategory=function(F){return this.getPositionLabel(F)},E.prototype.getPositionLabel=function(F){var R=this.dataItems.getIndex(this.positionToIndex(F));if(R)return R.category},Object.defineProperty(E.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),E.prototype.initRenderer=function(){V.prototype.initRenderer.call(this);var F=this.renderer;F.baseGrid.disabled=!0},Object.defineProperty(E.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(F){this.setPropertyValue("sortBySeries",F,!0)},enumerable:!0,configurable:!0}),E.prototype.processConfig=function(F){F&&hasValue(F.sortBySeries)&&isString$2(F.sortBySeries)&&(this.map.hasKey(F.sortBySeries)?F.sortBySeries=this.map.getKey(F.sortBySeries):(this.addDelayedMap("sortBySeries",F.sortBySeries),delete F.sortBySeries)),V.prototype.processConfig.call(this,F)},E}(Axis);registry.registeredClasses.CategoryAxis=CategoryAxis;registry.registeredClasses.CategoryAxisDataItem=CategoryAxisDataItem;var XYSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="XYSeriesDataItem",F.values.customValue={},F.values.valueX={stack:0},F.values.valueY={stack:0},F.values.openValueX={},F.values.openValueY={},F.values.dateX={},F.values.dateY={},F.values.openDateX={},F.values.openDateY={},F.setLocation("dateX",.5,0),F.setLocation("dateY",.5,0),F.setLocation("categoryX",.5,0),F.setLocation("categoryY",.5,0),F.applyTheme(),F}return Object.defineProperty(E.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(F){this.setValue("valueX",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(F){this.setValue("customValue",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(F){this.setValue("valueY",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(F){this.setDate("dateX",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(F){this.setDate("dateY",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(F){this.setCategory("categoryX",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(F){this.setCategory("categoryY",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(F){this.setValue("openValueX",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(F){this.setValue("openValueY",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(F){this.setDate("openDateX",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(F){this.setDate("openDateY",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(F){this.setCategory("openCategoryX",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(F){this.setCategory("openCategoryY",F)},enumerable:!0,configurable:!0}),E.prototype.getMin=function(F,R,U){var W=this,Y;return isNumber$1(U)||(U=0),each$2(F,function(G){var X;R?X=W.getWorkingValue(G):X=W.getValue(G),X+=U,(X<Y||!isNumber$1(Y))&&(Y=X)}),Y},E.prototype.getMax=function(F,R,U){var W=this,Y;return isNumber$1(U)||(U=0),each$2(F,function(G){var X;R?X=W.getWorkingValue(G):X=W.getValue(G),X+=U,(X>Y||!isNumber$1(Y))&&(Y=X)}),Y},E}(SeriesDataItem),XYSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.groupFields={},F._xAxis=new MutableValueDisposer,F._yAxis=new MutableValueDisposer,F._xValueFields=[],F._yValueFields=[],F._baseInterval={},F.dataGrouped=!1,F.usesShowFields=!1,F._dataSetChanged=!1,F._maxxX=1e5,F._maxxY=1e5,F._propertiesChanged=!1,F.outOfRange=!1,F.className="XYSeries",F.isMeasured=!1,F.groupFields.valueX="close",F.groupFields.valueY="close",F.groupFields.customValue="close",F.groupFields.openValueX="open",F.groupFields.openValueY="open",F.cursorTooltipEnabled=!0,F.cursorHoverEnabled=!0,F.excludeFromTotal=!1,F.mainContainer.mask=new Sprite,F.mainContainer.mask.setElement(F.paper.add("path")),F.stacked=!1,F.snapTooltip=!1,F._showBullets=!1,F.tooltip.pointerOrientation="horizontal",F.properties.stackToNegative=!0,F.hideTooltipWhileZooming=!0,F.setPropertyValue("maskBullets",!0),F.tooltip.events.on("hidden",function(){F.returnBulletDefaultState()},void 0,!1),F._disposers.push(F._xAxis),F._disposers.push(F._yAxis),F.observe(visualProperties,function(){F.inited&&(F._propertiesChanged=!0,F.legendDataItem&&(F.legendDataItem.childrenCreated=!1),F.chart&&F.chart.legend&&F.chart.legend.invalidateDataItems(),F.invalidate())},void 0,!1),F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},E.prototype.createDataItem=function(){return new XYSeriesDataItem},E.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},E.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},E.prototype.validateData=function(){this._baseInterval={};var F=this.dataFields;if(F.valueYShow||F.openValueXShow||F.openValueXShow||F.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),V.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!hasValue(this.dataFields[this._xField])||!hasValue(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},E.prototype.processDataItem=function(F,R){try{V.prototype.processDataItem.call(this,F,R),this.xAxis.processSeriesDataItem(F,"X"),this.yAxis.processSeriesDataItem(F,"Y"),this.setInitialWorkingValues(F)}catch(U){this._chart&&this._chart.raiseCriticalError(U)}},E.prototype.updateDataItem=function(F){V.prototype.updateDataItem.call(this,F),this.xAxis.processSeriesDataItem(F,"X"),this.yAxis.processSeriesDataItem(F,"Y")},E.prototype.setInitialWorkingValues=function(F){},E.prototype.disposeData=function(){V.prototype.disposeData.call(this);var F=this.xAxis,R=this.yAxis;if(F){var U=this.dataItemsByAxis.getKey(F.uid);U&&U.clear(),F instanceof CategoryAxis&&this.clearCatAxis(F)}if(R){var W=this.dataItemsByAxis.getKey(R.uid);W&&W.clear(),R instanceof CategoryAxis&&this.clearCatAxis(R)}},E.prototype.clearCatAxis=function(F){var R=this.uid;F.dataItems.each(function(U){U.seriesDataItems[R]&&(U.seriesDataItems[R]=[])})},E.prototype.defineFields=function(){var F=this.xAxis,R=this.yAxis;if(F&&R){var U=F.axisFieldName,W=U+"X",Y="open"+capitalize(U)+"X",G=R.axisFieldName,X=G+"Y",K="open"+capitalize(G)+"Y";this._xField=W,this._yField=X,this.dataFields[Y]&&(this._xOpenField=Y),this.dataFields[K]&&(this._yOpenField=K),!this.dataFields[K]&&this.baseAxis==R&&(this._yOpenField=X),!this.dataFields[Y]&&this.baseAxis==F&&(this._xOpenField=W),this.stacked&&this.baseAxis==F&&(this._xOpenField=W),this.stacked&&this.baseAxis==R&&(this._yOpenField=X),F instanceof CategoryAxis&&R instanceof CategoryAxis&&(this._yOpenField||(this._yOpenField=X)),this._xValueFields=[],this._yValueFields=[],this.addValueField(F,this._xValueFields,this._xField),this.addValueField(F,this._xValueFields,this._xOpenField),this.addValueField(R,this._yValueFields,this._yField),this.addValueField(R,this._yValueFields,this._yOpenField)}},E.prototype.addValueField=function(F,R,U){F instanceof ValueAxis&&hasValue(this.dataFields[U])&&R.indexOf(U)==-1&&R.push(U)},E.prototype.setCategoryAxisField=function(F,R){hasValue(this.dataFields[F])||(this.dataFields[F]=R.dataFields.category)},E.prototype.setDateAxisField=function(F,R){hasValue(this.dataFields[F])||(this.dataFields[F]=R.dataFields.date)},E.prototype.afterDraw=function(){V.prototype.afterDraw.call(this),this.createMask()},E.prototype.createMask=function(){if(this.mainContainer.mask){var F=this.getMaskPath();each(this.axisRanges.iterator(),function(R){R.axisFill.fillPath&&(R.axisFill.validate(),F+=R.axisFill.fillPath)}),this.mainContainer.mask.path=F}},E.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?rectToPath({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},E.prototype.getAxisField=function(F){if(F==this.xAxis)return this.xField;if(F==this.yAxis)return this.yField},E.prototype.validateDataItems=function(){var F=this.chart;F&&(this._maxxX=max$1(1e5,F.plotContainer.maxWidth*2),this._maxxY=max$1(1e5,F.plotContainer.maxHeight*2));var R=this.xAxis,U=this.yAxis;R&&U&&(R.updateAxisBySeries(),U.updateAxisBySeries()),V.prototype.validateDataItems.call(this),R&&U&&(R.postProcessSeriesDataItems(this),U.postProcessSeriesDataItems(this))},E.prototype.validateDataRange=function(){var F=this.xAxis,R=this.yAxis;F&&R&&(F.dataRangeInvalid&&F.validateDataRange(),R.dataRangeInvalid&&R.validateDataRange()),V.prototype.validateDataRange.call(this)},E.prototype.validate=function(){var F=this.xAxis,R=this.yAxis;if(F&&R){F.invalid&&F.validate(),R.invalid&&R.validate(),this.y=R.pixelY,this.x=F.pixelX,this._showBullets=!0;var U=this.minBulletDistance;isNumber$1(U)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<U&&(this._showBullets=!1)}if(this.updateTooltip(),!(F instanceof DateAxis&&F.groupData&&!this.dataGrouped||R instanceof DateAxis&&R.groupData&&!this.dataGrouped)){V.prototype.validate.call(this);var W=this.chart,Y=this.maskBullets;W&&Y&&W.className=="XYChart"&&((W.leftAxesContainer.layout=="vertical"||W.rightAxesContainer.layout=="vertical")&&(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),(W.topAxesContainer.layout=="horizontal"||W.bottomAxesContainer.layout=="horizontal")&&(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))}},Object.defineProperty(E.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var F=this.chart.xAxes.getIndex(0);if(!F)throw Error("There are no X axes on chart.");this.xAxis=F}return this._xAxis.get()}},set:function(F){this.setXAxis(F)},enumerable:!0,configurable:!0}),E.prototype.setXAxis=function(F){var R=this._xAxis.get();R!=F&&(R&&(this.dataItemsByAxis.removeKey(R.uid),this._xAxis.dispose(),R.series.removeValue(this)),this._xAxis.set(F,F.registerSeries(this)),this.dataItemsByAxis.setKey(F.uid,new Dictionary),this.invalidateData())},Object.defineProperty(E.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var F=this.chart.yAxes.getIndex(0);if(!F)throw Error("There are no Y axes on chart.");this.yAxis=F}return this._yAxis.get()}},set:function(F){this.setYAxis(F)},enumerable:!0,configurable:!0}),E.prototype.setYAxis=function(F){var R=this._yAxis.get();R!=F&&(R&&(this.dataItemsByAxis.removeKey(R.uid),this._yAxis.dispose(),R.series.removeValue(this)),this._yAxis.set(F,F.registerSeries(this)),F.chart instanceof XYChart&&F.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(F.uid,new Dictionary),this.invalidateData())},Object.defineProperty(E.prototype,"baseAxis",{get:function(){var F=this.xAxis,R=this.yAxis;return!this._baseAxis&&F&&R&&(R instanceof DateAxis&&(this._baseAxis=R),F instanceof DateAxis&&(this._baseAxis=F),R instanceof CategoryAxis&&(this._baseAxis=R),F instanceof CategoryAxis&&(this._baseAxis=F),this._baseAxis||(this._baseAxis=F)),this._baseAxis},set:function(F){this._baseAxis!=F&&(this._baseAxis=F,this.invalidate())},enumerable:!0,configurable:!0}),E.prototype.addData=function(F,R,U){V.prototype.addData.call(this,F,R,U);var W=this.scrollbarSeries;W&&(this.scrollbarSeries.addData(F,R,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom)},E.prototype.setData=function(F){V.prototype.setData.call(this,F),this.scrollbarSeries&&this.scrollbarSeries.setData(F)},E.prototype.setDataSet=function(F){var R=V.prototype.setDataSet.call(this,F);if(R){this._dataSetChanged=!0;var U=this.dataItems;if(this.resetExtremes(),U&&U.length>0){var W=this.xAxis,Y=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),W instanceof DateAxis&&W==this.baseAxis&&(this._tmin.setKey(W.uid,U.getIndex(0).dateX.getTime()),this._tmax.setKey(W.uid,U.getIndex(U.length-1).dateX.getTime()),this.dispatch("extremeschanged")),Y instanceof DateAxis&&Y==this.baseAxis&&(this._tmin.setKey(Y.uid,U.getIndex(0).dateY.getTime()),this._tmax.setKey(Y.uid,U.getIndex(U.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return R},E.prototype.processValues=function(F){V.prototype.processValues.call(this,F);var R=this.xAxis,U=this.yAxis;if(!(!R||!U)){var W=this.dataItems,Y=1/0,G=-1/0,X=1/0,K=-1/0,Z=this.startIndex,J=this.endIndex,Q=Z,ee=J;F||(Z=0,J=this.dataItems.length);for(var te=Z;te<J;te++){var ie=W.getIndex(te);this.getStackValue(ie,F);var re=ie.getValue("valueX","stack"),ne=ie.getValue("valueY","stack");F||(re=ie.getValue("valueX","stackTrue"),ne=ie.getValue("valueY","stackTrue")),Y=min$1(ie.getMin(this._xValueFields,F,re),Y),X=min$1(ie.getMin(this._yValueFields,F,ne),X),G=max$1(ie.getMax(this._xValueFields,F,re),G),K=max$1(ie.getMax(this._yValueFields,F,ne),K),this.stacked&&(this.baseAxis==R&&(ne<X&&(X=ne),ne>K&&(K=ne)),this.baseAxis==U&&(re<Y&&(Y=re),re>G&&(G=re)))}R.processSeriesDataItems(),U.processSeriesDataItems();var ae=R.uid,se=U.uid;if(this.xAxis instanceof ValueAxis&&(Y==1/0||G==-1/0)){this._smin.setKey(ae,void 0),this._smax.setKey(ae,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof ValueAxis&&(X==1/0||K==-1/0)){this._smin.setKey(se,void 0),this._smax.setKey(se,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(!F&&(this._tmin.getKey(ae)!=Y||this._tmax.getKey(ae)!=G||this._tmin.getKey(se)!=X||this._tmax.getKey(se)!=K)){this._tmin.setKey(ae,Y),this._tmax.setKey(ae,G),this._tmin.setKey(se,X),this._tmax.setKey(se,K);var le=this.stackedSeries;le&&(le.isDisposed()?this.stackedSeries=void 0:le.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(Z!=Q||J!=ee){Y=1/0,G=-1/0,X=1/0,K=-1/0;for(var te=Q;te<ee;te++){var ie=W.getIndex(te);this.getStackValue(ie,F);var re=ie.getValue("valueX","stack"),ne=ie.getValue("valueY","stack");F||(re=ie.getValue("valueX","stackTrue"),ne=ie.getValue("valueY","stackTrue")),Y=min$1(ie.getMin(this._xValueFields,F,re),Y),X=min$1(ie.getMin(this._yValueFields,F,ne),X),G=max$1(ie.getMax(this._xValueFields,F,re),G),K=max$1(ie.getMax(this._yValueFields,F,ne),K),this.stacked&&(this.baseAxis==R&&(ne<X&&(X=ne),ne>K&&(K=ne)),this.baseAxis==U&&(re<Y&&(Y=re),re>G&&(G=re)))}}if(this.xAxis instanceof ValueAxis&&(Y==1/0||G==-1/0)){this._smin.setKey(ae,void 0),this._smax.setKey(ae,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof ValueAxis&&(X==1/0||K==-1/0)){this._smin.setKey(se,void 0),this._smax.setKey(se,void 0),this.dispatchImmediately("selectionextremeschanged");return}if((this._smin.getKey(ae)!=Y||this._smax.getKey(ae)!=G||this._smin.getKey(se)!=X||this._smax.getKey(se)!=K)&&(this._smin.setKey(ae,Y),this._smax.setKey(ae,G),this._smin.setKey(se,X),this._smax.setKey(se,K),this.appeared||this.start!=0||this.end!=1||this.dataItems!=this.mainDataSet)){var oe=!1;if(U instanceof ValueAxis&&!(U instanceof DateAxis)){var ue=this._tmin.getKey(se);(!isNumber$1(ue)||(this.usesShowFields||this._dataSetChanged||R instanceof DateAxis&&R.groupData&&this.isShowing)&&X<ue||this.stackedSeries&&!this.isHidden&&!F)&&(this._tmin.setKey(se,X),oe=!0);var ce=this._tmax.getKey(se);(!isNumber$1(ce)||(this.usesShowFields||this._dataSetChanged||R instanceof DateAxis&&R.groupData&&this.isShowing)&&K>ce||this.stackedSeries&&!this.isHidden&&!F)&&(this._tmax.setKey(se,K),oe=!0)}if(R instanceof ValueAxis&&!(R instanceof DateAxis)){var ue=this._tmin.getKey(ae);(!isNumber$1(ue)||(this.usesShowFields||this._dataSetChanged||U instanceof DateAxis&&U.groupData&&this.isShowing)&&Y<ue||this.stackedSeries&&!this.isHidden&&!F)&&(this._tmin.setKey(ae,Y),oe=!0);var ce=this._tmax.getKey(ae);(!isNumber$1(ce)||(this.usesShowFields||this._dataSetChanged||U instanceof DateAxis&&U.groupData&&this.isShowing)&&G>ce||this.stackedSeries&&!this.isHidden&&!F)&&(this._tmax.setKey(ae,G),oe=!0)}oe&&this.dispatchImmediately("extremeschanged"),this.start==0&&this.end==1&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!F&&this.stacked&&this.processValues(!0)}},E.prototype.hideTooltip=function(F){V.prototype.hideTooltip.call(this,F),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},E.prototype.showTooltipAtPosition=function(F,R){var U;if(this.visible&&!this.isHiding&&!this.isShowing){var W=this._xAxis.get(),Y=this._yAxis.get();W==this.baseAxis&&(U=W.getSeriesDataItem(this,W.toAxisPosition(F),this.snapTooltip)),Y==this.baseAxis&&(U=Y.getSeriesDataItem(this,Y.toAxisPosition(R),this.snapTooltip));var G=this.showTooltipAtDataItem(U);if(G)return G;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},E.prototype.getAdjustedXLocation=function(F,R,U){return F.locations[R]},E.prototype.getAdjustedYLocation=function(F,R,U){return F.locations[R]},E.prototype.showTooltipAtDataItem=function(F){var R,U,W=this.chart.cursor;if(W&&W.hideSeriesTooltipsOnSelection&&W.selection.visible&&W.downPoint){this.hideTooltip();return}if(this.returnBulletDefaultState(F),F&&F.visible){if(this.updateLegendValue(F),this.cursorTooltipEnabled){this.tooltipDataItem=F;var Y=this.tooltipXField,G=this.tooltipYField;if(hasValue(F[Y])&&hasValue(F[G])){var X=this.getPoint(F,Y,G,this.getAdjustedXLocation(F,Y),this.getAdjustedYLocation(F,G));if(X&&!(this.chart.className=="XYChart"&&(X.y<-1||X.y>this.yAxis.pixelHeight+1||X.x<-1||X.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=X.x,this.tooltipY=X.y,this._prevTooltipDataItem!=F&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:F}),this._prevTooltipDataItem=F),this.cursorHoverEnabled)try{for(var K=__values(F.sprites),Z=K.next();!Z.done;Z=K.next()){var J=Z.value;!J.parent.visible||J.isHidden||J.__disabled||J.disabled||J.isHiding||(J.interactions.isRealHover||(J.dispatchImmediately("over"),J.interactions.isRealHover=!0),J.isHover=!0)}}catch(Q){R={error:Q}}finally{try{Z&&!Z.done&&(U=K.return)&&U.call(K)}finally{if(R)throw R.error}}return this.showTooltip()?spritePointToSvg({x:X.x,y:X.y},this):void 0}}}}else this.updateLegendValue(F,!0)},E.prototype.returnBulletDefaultState=function(F){var R,U;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=F)try{for(var W=__values(this._prevTooltipDataItem.sprites),Y=W.next();!Y.done;Y=W.next()){var G=Y.value;if(G.isDisposed())this._prevTooltipDataItem=void 0;else{var X=G.interactions.isRealHover;G.isHover=!1,X&&G.dispatchImmediately("out")}}}catch(K){R={error:K}}finally{try{Y&&!Y.done&&(U=W.return)&&U.call(W)}finally{if(R)throw R.error}}},E.prototype.shouldCreateBullet=function(F,R){var U=R.xField;hasValue(U)||(U=this.xField);var W=R.yField;if(hasValue(W)||(W=this.yField),this.xAxis instanceof ValueAxis&&!F.hasValue([U])||this.yAxis instanceof ValueAxis&&!F.hasValue([W]))return!1;if(R.disabled){var Y=R.propertyFields.disabled,G=F.dataContext;return!!(G&&G[Y]===!1)}return!0},E.prototype.updateTooltip=function(){!this.hideTooltipWhileZooming&&this.tooltip&&!this.tooltip.isHidden&&!this.isHiding&&!this.isHidden&&this.tooltipDataItem&&this.showTooltipAtDataItem(this.tooltipDataItem)},E.prototype.positionBullet=function(F){V.prototype.positionBullet.call(this,F);var R=F.dataItem,U=F.xField;hasValue(U)||(U=this.xField);var W=F.yField;hasValue(W)||(W=this.yField);var Y=this.xAxis,G=this.yAxis;if(Y instanceof ValueAxis&&!R.hasValue([U])||G instanceof ValueAxis&&!R.hasValue([W]))F.visible=!1;else{var X=this.getBulletLocationX(F,U),K=this.getBulletLocationY(F,W),Z=this.getPoint(R,U,W,X,K);if(Z){var J=this.xOpenField,Q=this.yOpenField,ee=void 0,te=void 0;if(Y instanceof DateAxis){isNumber$1(X)||(X=0);var ie=void 0,re=R.getWorkingValue(U);J?ie=R.getWorkingValue(J):Y==this.baseAxis&&(ie=Y.baseValue),isNumber$1(ie)||(ie=re);var ne=R.getValue("valueX","stack");if(ie+=ne,re+=ne,ie==re){var ae=Y.baseInterval,se=Y.dateFormatter;ie=round$1(new Date(ie),ae.timeUnit,ae.count,se.firstDayOfWeek,se.utc,void 0,se.timezoneMinutes,se.timezone).getTime(),re=add(new Date(ie),ae.timeUnit,ae.count,se.utc).getTime()}var le=void 0;Y==this.baseAxis?le=ie+(re-ie)*X:le=ie+(re-ie)*(1-X),ee=Y.valueToPosition(le)}else if(Y instanceof ValueAxis){isNumber$1(X)||(X=0);var ie=void 0,re=R.getWorkingValue(U);J?ie=R.getWorkingValue(J):ie=Y.baseValue;var ne=R.getValue("valueX","stack");ie+=ne,re+=ne;var le=ie+(re-ie)*(1-X);ee=Y.valueToPosition(le)}else if(Y instanceof CategoryAxis){var oe=this.getAdjustedXLocation(R,U,F.locationX),ue=this.getAdjustedXLocation(R,J,F.locationX);ee=Y.categoryToPosition(R[U],oe);var ce=void 0;J&&(ce=Y.categoryToPosition(R[J],ue)),isNumber$1(ce)||(ce=1),ee=ce+(ee-ce)*X}if(G instanceof DateAxis){isNumber$1(K)||(K=0);var ie=void 0,re=R.getWorkingValue(W);Q?ie=R.getWorkingValue(Q):G==this.baseAxis&&(ie=G.baseValue),isNumber$1(ie)||(ie=re);var ne=R.getValue("valueY","stack");if(ie+=ne,re+=ne,ie==re){var ae=G.baseInterval,se=G.dateFormatter;ie=round$1(new Date(ie),ae.timeUnit,ae.count,se.firstDayOfWeek,se.utc,void 0,se.timezoneMinutes,se.timezone).getTime(),re=add(new Date(ie),ae.timeUnit,ae.count,se.utc).getTime()}var le=void 0;G==this.baseAxis?le=ie+(re-ie)*K:le=ie+(re-ie)*(1-K),te=G.valueToPosition(le)}else if(G instanceof ValueAxis){isNumber$1(K)||(K=0);var ie=void 0,re=R.getWorkingValue(W);Q?ie=R.getWorkingValue(Q):ie=G.baseValue;var ne=R.getValue("valueY","stack");ie+=ne,re+=ne;var le=ie+(re-ie)*(1-K);te=G.valueToPosition(le)}else if(G instanceof CategoryAxis){te=G.categoryToPosition(R[W],K);var he=this.getAdjustedYLocation(R,W,F.locationY),me=this.getAdjustedYLocation(R,Q,F.locationY);te=G.categoryToPosition(R[W],he);var Pe=void 0;Q&&(Pe=G.categoryToPosition(R[Q],me)),isNumber$1(Pe)||(Pe=1),te=Pe+(te-Pe)*K}F.visible=!0,this.positionBulletReal(F,ee,te)}else F.visible=!1}},E.prototype.positionBulletReal=function(F,R,U){F.x=this.xAxis.renderer.positionToPoint(R,U).x,F.y=this.yAxis.renderer.positionToPoint(U,R).y},E.prototype.getBulletLocationX=function(F,R){var U=F.locationX,W=F.dataItem;return isNumber$1(U)||(U=W.workingLocations[R]),U},E.prototype.getBulletLocationY=function(F,R){var U=F.locationY,W=F.dataItem;return isNumber$1(U)||(U=W.workingLocations[R]),U},E.prototype.updateStacking=function(){var F=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(R){R.baseAxis==F.baseAxis&&(R.stackedSeries=void 0,R.invalidateDataItems(),R.invalidateProcessedData())})},Object.defineProperty(E.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(F){if(this.setPropertyValue("stacked",F,!0)){this.updateStacking();var R=this.xAxis,U=this.yAxis;if(!F){var W;R!=this.baseAxis&&R instanceof ValueAxis&&(W=this.xField),U!=this.baseAxis&&U instanceof ValueAxis&&(W=this.yField),W&&this.dataItems.each(function(Y){Y.setCalculatedValue(W,0,"stack"),Y.setCalculatedValue(W,0,"stackTrue")})}}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(F){this.setPropertyValue("snapTooltip",F)},enumerable:!0,configurable:!0}),E.prototype.show=function(F){var R=this;this.isHidden&&(this.appeared&&this.xAxis instanceof DateAxis&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof DateAxis&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0)));var U;this.xAxis instanceof ValueAxis&&this.xAxis!=this.baseAxis&&(U=this._xValueFields),this.yAxis instanceof ValueAxis&&this.yAxis!=this.baseAxis&&(U=this._yValueFields);var W=this.startIndex,Y=this.endIndex,G=0,X=this.defaultState.transitionDuration;isNumber$1(F)&&(X=F);var K;each(indexed(this.dataItems.iterator()),function(J){var Q=J[0],ee=J[1],te=X;(Q<R.startIndex-10||Q>R.endIndex+10)&&(te=0,G=0),R.sequencedInterpolation&&te>0&&(G=R.sequencedInterpolationDelay*Q+X*(Q-W)/(Y-W)),K=ee.show(te,G,U)}),this.dataSets.each(function(J,Q){Q!=R.dataItems&&Q.each(function(ee){ee.events.disable(),ee.show(0,0,U),ee.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(J){J.events.disable(),J.show(0,0,U),J.events.enable()});var Z=V.prototype.show.call(this,F);return K&&!K.isFinished()&&(Z=K),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),Z},E.prototype.hide=function(F){var R=this,U,W,Y=this.xAxis;Y instanceof ValueAxis&&Y!=this.baseAxis&&(U=this._xValueFields,this.stacked||Y.minZoomed<Y.baseValue&&Y.maxZoomed>Y.baseValue||this.stackedSeries?W=Y.baseValue:W=Y.min);var G=this.yAxis;G instanceof ValueAxis&&G!=this.baseAxis&&(U=this._yValueFields,this.stacked||G.minZoomed<G.baseValue&&G.maxZoomed>G.baseValue||this.stackedSeries?W=G.baseValue:W=G.min);var X=this.startIndex,K=this.endIndex,Z=this.hiddenState.transitionDuration;isNumber$1(F)&&(Z=F);var J=0,Q;each(indexed(this.dataItems.iterator()),function(te){var ie=te[0],re=te[1],ne=Z;(ie<R.startIndex-10||ie>R.endIndex+10)&&(ne=0),ne==0?re.hide(0,0,W,U):(R.sequencedInterpolation&&ne>0&&(J=R.sequencedInterpolationDelay*ie+Z*(ie-X)/(K-X)),Q=re.hide(ne,J,W,U))}),this.dataSets.each(function(te,ie){ie!=R.dataItems&&ie.each(function(re){re.events.disable(),re.hide(0,0,W,U),re.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(te){te.events.disable(),te.hide(0,0,W,U),te.events.enable()});var ee=V.prototype.hide.call(this,Z);return ee&&!ee.isFinished()&&ee.delay(J),Q&&!Q.isFinished()&&(ee=Q),this.appeared&&this.dispatch("selectionextremeschanged"),this.validateDataElements(),ee},E.prototype.handleDataItemWorkingValueChange=function(F,R){V.prototype.handleDataItemWorkingValueChange.call(this,F,R);var U=this.baseAxis.series;each(U.iterator(),function(W){(W.stacked||W.stackedSeries)&&W.invalidateProcessedData()})},E.prototype.getStackValue=function(F,R){var U=this,W=this.xAxis,Y=this.yAxis;if(!(!this.stacked||!W||!Y)){var G=this.chart,X=G.series.indexOf(this),K;if(W!=this.baseAxis&&W instanceof ValueAxis&&(K=this.xField),Y!=this.baseAxis&&Y instanceof ValueAxis&&(K=this.yField),!K)return;F.setCalculatedValue(K,0,"stack"),F.setCalculatedValue(K,0,"stackTrue"),eachContinue(G.series.range(0,X).backwards().iterator(),function(Z){if(Z.xAxis==W&&Z.yAxis==Y&&Z.className==U.className){Z.stackedSeries=U;var J=Z.dataItems.getIndex(F.index);if(J&&J.hasValue(U._xValueFields)&&J.hasValue(U._yValueFields)){var Q=F.getValue(K),ee=void 0,te=J.getValue(K,"stackTrue");te==null&&(te=0);var ie=J.getValue(K)+te;if(ee=J.getWorkingValue(K)+J.getValue(K,"stack"),U.stackToNegative){if(Q>=0&&ie>=0||Q<0&&ie<0)return F.setCalculatedValue(K,ee,"stack"),F.setCalculatedValue(K,ie,"stackTrue"),!1;if(!Z.stacked)return!1}else return F.setCalculatedValue(K,ee,"stack"),F.setCalculatedValue(K,ie,"stackTrue"),!1}else if(!Z.stacked)return!1}return!0})}},Object.defineProperty(E.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(F){this.setPropertyValue("stackToNegative",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(F){this._tooltipXField=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(F){this._tooltipYField=F},enumerable:!0,configurable:!0}),E.prototype.min=function(F){return this._tmin.getKey(F.uid)},E.prototype.max=function(F){return this._tmax.getKey(F.uid)},E.prototype.selectionMin=function(F){var R=this._smin.getKey(F.uid);return R},E.prototype.selectionMax=function(F){var R=this._smax.getKey(F.uid);return R},E.prototype.processConfig=function(F){if(F){if(hasValue(F.baseAxis)&&isString$2(F.baseAxis)&&(this.map.hasKey(F.baseAxis)?F.baseAxis=this.map.getKey(F.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+F.baseAxis+'" found for `baseAxis`.'),delete F.baseAxis)),hasValue(F.xAxis)&&isString$2(F.xAxis)&&(this.map.hasKey(F.xAxis)?F.xAxis=this.map.getKey(F.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+F.xAxis+'" found for `xAxis`.'),delete F.xAxis)),hasValue(F.yAxis)&&isString$2(F.yAxis)&&(this.map.hasKey(F.yAxis)?F.yAxis=this.map.getKey(F.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+F.yAxis+'" found for `yAxis`.'),delete F.yAxis)),hasValue(F.axisRanges)&&isArray$2(F.axisRanges))for(var R=0,U=F.axisRanges.length;R<U;R++){var W=F.axisRanges[R];hasValue(W.type)||(W.type="AxisDataItem"),hasValue(W.axis)&&isString$2(W.axis)&&this.map.hasKey(W.axis)?W.component=this.map.getKey(W.axis):hasValue(W.component)&&isString$2(W.component)&&this.map.hasKey(W.component)&&(W.component=this.map.getKey(W.component))}(!hasValue(F.dataFields)||!isObject$3(F.dataFields))&&this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}V.prototype.processConfig.call(this,F)},E.prototype.getPoint=function(F,R,U,W,Y,G,X){if(this.xAxis&&this.yAxis){var K=this.xAxis.getX(F,R,W),Z=this.yAxis.getY(F,U,Y);return K=fitToRange(K,-this._maxxX,this._maxxX),Z=fitToRange(Z,-this._maxxY,this._maxxY),{x:K,y:Z}}},E.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var F="";each$1(this.dataFields,function(R,U){F+="{"+R+"} "}),this.itemReaderText=F,this._itemReaderTextChanged=!1}},Object.defineProperty(E.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(F){this.setPropertyValue("cursorTooltipEnabled",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(F){this.setPropertyValue("cursorHoverEnabled",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(F){this.setPropertyValue("excludeFromTotal",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(F){this.setPropertyValue("hideTooltipWhileZooming",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(F){this.setPropertyValue("maskBullets",F);var R=this.chart;R&&(F?this.bulletsContainer.parent=R.bulletsContainer:this.bulletsContainer.parent=R.axisBulletsContainer)},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){this.groupFields=copyProperties(F.groupFields,{}),V.prototype.copyFrom.call(this,F)},E.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),V.prototype.dispose.call(this)},E}(Series);registry.registeredClasses.XYSeries=XYSeries;registry.registeredClasses.XYSeriesDataItem=XYSeriesDataItem;var XYChartScrollbar=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._chart=new MutableValueDisposer,F.className="XYChartScrollbar";var R=new InterfaceColorSet;F.padding(0,0,0,0);var U=F.createChild(XYChart);if(U.shouldClone=!1,U.margin(0,0,0,0),U.padding(0,0,0,0),U.interactionsEnabled=!1,F._scrollbarChart=U,!isIE()){var W=new DesaturateFilter;W.filterUnits="userSpaceOnUse",U.plotContainer.filters.push(W)}F._disposers.push(F._scrollbarChart),F.minHeight=60,F.minWidth=60;var Y=F.createChild(Sprite);Y.shouldClone=!1,Y.setElement(F.paper.add("path")),Y.fill=R.getFor("background"),Y.fillOpacity=.8,Y.interactionsEnabled=!1,Y.isMeasured=!1,Y.toBack(),F._unselectedOverlay=Y,F._disposers.push(F._unselectedOverlay),U.toBack(),F.background.cornerRadius(0,0,0,0);var G=F.thumb.background;G.cornerRadius(0,0,0,0),G.fillOpacity=0,G.fill=R.getFor("background");var X=G.states.getKey("hover");X&&(X.properties.fillOpacity=.2);var K=G.states.getKey("down");return K&&(K.properties.fillOpacity=.4),F._disposers.push(F._chart),F.applyTheme(),F}return Object.defineProperty(E.prototype,"series",{get:function(){return this._series||(this._series=new List,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),E.prototype.handleSeriesAdded=function(F){var R=this,U=F.newValue;if(!(!U.xAxis||!U.yAxis)){var W=this.scrollbarChart;W.zoomOutButton.disabled=!0,this.chart=U.chart,W.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,W.language.locale=this.chart.language.locale;var Y=!0,G=!0;each(this.series.iterator(),function(se){se!=U&&(se.xAxis==U.xAxis&&R.scrollbarChart.xAxes.length>0&&(Y=!1),se.yAxis==U.yAxis&&R.scrollbarChart.yAxes.length>0&&(G=!1))}),U.events.on("beforedisposed",function(){R.series.removeValue(U)});var X=new InterfaceColorSet,K=U.clone();if(isIE()&&(K.stroke=color("#aaaaaa"),K.fill=K.stroke,K.propertyFields.fill=void 0,K.propertyFields.stroke=void 0),U.scrollbarSeries=K,Y){var Z=U.xAxis.clone();W.xAxes.moveValue(Z),Z.title.disabled=!0,Z.rangeChangeDuration=0;var J=Z.renderer;J.ticks.template.disabled=!0,J.inside=!0,J.labels.template.inside=!0,J.line.strokeOpacity=0,J.minLabelPosition=.02,J.maxLabelPosition=.98,J.line.disabled=!0,J.axisFills.template.disabled=!0,J.baseGrid.disabled=!0,J.grid.template.strokeOpacity=.05,J.minWidth=void 0,J.minHeight=void 0,J.padding(0,0,0,0),J.chart=W,J.margin(0,0,0,0),Z.width=percent(100);var Q=J.labels.template;if(Q.fillOpacity=.5,Z.maxZoomCount=void 0,Z.minZoomCount=void 0,Z instanceof DateAxis){var ee=Z,te=U.xAxis;ee.groupCount=te.groupCount*5,ee.min=void 0,ee.max=void 0,this._disposers.push(ee.clonedFrom.events.on("extremeschanged",function(){isNumber$1(ee.clonedFrom.minDefined)&&(ee.min=ee.clonedFrom.minDefined),isNumber$1(ee.clonedFrom.maxDefined)&&(ee.max=ee.clonedFrom.maxDefined)},void 0,!1))}else if(Z instanceof ValueAxis){var ie=Z;ie.min=void 0,ie.max=void 0,isNumber$1(ie.clonedFrom.minDefined)||(ie.min=void 0),isNumber$1(ie.clonedFrom.maxDefined)||(ie.max=void 0),this._disposers.push(ie.clonedFrom.events.on("extremeschanged",function(){isNumber$1(ie.clonedFrom.minDefined)&&(ie.min=ie.clonedFrom.min),isNumber$1(ie.clonedFrom.maxDefined)&&(ie.max=ie.clonedFrom.max)},void 0,!1))}K.xAxis=Z}else this.scrollbarChart.xAxes.each(function(se){se.clonedFrom==U.xAxis&&(K.xAxis=se)});if(G){var re=U.yAxis.clone();W.yAxes.moveValue(re),re.title.disabled=!0,re.rangeChangeDuration=0;var J=re.renderer;J.ticks.template.disabled=!0,J.inside=!0,J.labels.template.inside=!0,J.line.strokeOpacity=0,J.minLabelPosition=.02,J.maxLabelPosition=.98,J.line.disabled=!0,J.axisFills.template.disabled=!0,J.grid.template.stroke=X.getFor("background"),J.baseGrid.disabled=!0,J.grid.template.strokeOpacity=.05,J.minWidth=void 0,J.minHeight=void 0,J.chart=W,J.padding(0,0,0,0),J.margin(0,0,0,0),re.height=percent(100);var Q=J.labels.template;if(Q.fillOpacity=.5,K.yAxis=re,re.maxZoomCount=void 0,re.minZoomCount=void 0,re instanceof DateAxis){var ne=re;ne.min=void 0,ne.max=void 0;var te=U.yAxis;re.groupCount=te.groupCount*5,this._disposers.push(ne.clonedFrom.events.on("extremeschanged",function(){isNumber$1(ne.clonedFrom.minDefined)&&(ne.min=ne.clonedFrom.minDefined),isNumber$1(ne.clonedFrom.maxDefined)&&(ne.max=ne.clonedFrom.maxDefined)}))}else if(re instanceof ValueAxis){var ae=re;ae.min=void 0,ae.max=void 0,isNumber$1(ae.clonedFrom.minDefined)||(ae.min=void 0),isNumber$1(ae.clonedFrom.maxDefined)||(ae.max=void 0),this._disposers.push(ae.clonedFrom.events.on("extremeschanged",function(){isNumber$1(ae.clonedFrom.minDefined)&&(ae.min=ae.clonedFrom.minDefined),isNumber$1(ae.clonedFrom.maxDefined)&&(ae.max=ae.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(se){se.clonedFrom==U.yAxis&&(K.yAxis=se)});K.rangeChangeDuration=0,K.interpolationDuration=0,K.defaultState.transitionDuration=0,K.showOnInit=!1,this._disposers.push(K.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(U.events.on("datavalidated",function(){K.data!=U.data&&(K.data=U.data)},void 0,!1)),K.defaultState.properties.visible=!0,W.series.push(K),this.updateByOrientation()}},E.prototype.updateByOrientation=function(){var F=this;this._scrollbarChart&&(each(this._scrollbarChart.xAxes.iterator(),function(R){var U=R.renderer;F.orientation=="vertical"?(U.grid.template.disabled=!0,U.labels.template.disabled=!0,U.minGridDistance=10):(U.grid.template.disabled=!1,U.labels.template.disabled=!1,U.minGridDistance=R.clonedFrom.renderer.minGridDistance)}),each(this._scrollbarChart.yAxes.iterator(),function(R){var U=R.renderer;F.orientation=="horizontal"?(U.grid.template.disabled=!0,U.labels.template.disabled=!0,U.minGridDistance=10):(U.grid.template.disabled=!1,U.labels.template.disabled=!1,U.minGridDistance=R.clonedFrom.renderer.minGridDistance)}))},E.prototype.handleSeriesRemoved=function(F){var R=F.oldValue,U=this.scrollbarChart;U.series.each(function(W){W&&W.clonedFrom==R&&U.series.removeValue(W)}),U.series.length==0&&(U.xAxes.clear(),U.yAxes.clear());try{R.events.off("validated",this.zoomOutAxes,this)}catch{}},Object.defineProperty(E.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"chart",{get:function(){return this._chart.get()},set:function(F){this._chart.get()!==F&&(this._chart.set(F,F.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),E.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},E.prototype.zoomOutAxes=function(){var F=this.scrollbarChart;each(F.xAxes.iterator(),function(R){R.zoom({start:0,end:1},!0,!0)}),each(F.yAxes.iterator(),function(R){R.zoom({start:0,end:1},!0,!0)})},E.prototype.updateThumb=function(F){if(F===void 0&&(F=!0),V.prototype.updateThumb.call(this,F),this._unselectedOverlay){var R=this.thumb,U=R.pixelX||0,W=R.pixelY||0,Y=R.pixelWidth||0,G=R.pixelHeight||0,X="";this.orientation=="horizontal"?(X=rectToPath({x:-1,y:0,width:U,height:G}),X+=rectToPath({x:U+Y,y:0,width:(this.pixelWidth||0)-U-Y,height:G})):(X=rectToPath({x:0,y:0,width:Y,height:W}),X+=rectToPath({x:0,y:W+G,width:Y,height:(this.pixelHeight||0)-W-G})),this._unselectedOverlay.path=X}},E.prototype.processConfig=function(F){if(F&&hasValue(F.series)&&isArray$2(F.series))for(var R=0,U=F.series.length;R<U;R++){var W=F.series[R];if(hasValue(W)&&isString$2(W))if(this.map.hasKey(W))F.series[R]=this.map.getKey(W);else throw Error("XYChartScrollbar error: Series with id `"+W+"` does not exist.")}V.prototype.processConfig.call(this,F)},E}(Scrollbar);registry.registeredClasses.XYChartScrollbar=XYChartScrollbar;var XYChartDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="XYChartDataItem",F.applyTheme(),F}return E}(SerialChartDataItem),XYChart=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._axisRendererX=AxisRendererX,F._axisRendererY=AxisRendererY,F._seriesPoints=[],F.className="XYChart",F.maskBullets=!0,F.arrangeTooltips=!0;var R=F.chartContainer;R.layout="vertical",F.padding(15,15,15,15);var U=R.createChild(Container);U.shouldClone=!1,U.layout="vertical",U.width=percent(100),U.zIndex=1,F.topAxesContainer=U;var W=R.createChild(Container);W.shouldClone=!1,W.layout="horizontal",W.width=percent(100),W.height=percent(100),W.zIndex=0,F.yAxesAndPlotContainer=W;var Y=R.createChild(Container);Y.shouldClone=!1,Y.width=percent(100),Y.layout="vertical",Y.zIndex=1,F.bottomAxesContainer=Y;var G=W.createChild(Container);G.shouldClone=!1,G.layout="horizontal",G.height=percent(100),G.contentAlign="right",G.events.on("transformed",F.updateXAxesMargins,F,!1),G.zIndex=1,F.leftAxesContainer=G;var X=W.createChild(Container);X.shouldClone=!1,X.height=percent(100),X.width=percent(100),X.background.fillOpacity=0,F.plotContainer=X,F.mouseWheelBehavior="none",F._cursorContainer=X;var K=W.createChild(Container);K.shouldClone=!1,K.layout="horizontal",K.height=percent(100),K.zIndex=1,K.events.on("transformed",F.updateXAxesMargins,F,!1),F.rightAxesContainer=K,F.seriesContainer.parent=X,F.bulletsContainer.parent=X;var Z=X.createChild(ZoomOutButton);Z.shouldClone=!1,Z.align="right",Z.valign="top",Z.zIndex=Number.MAX_SAFE_INTEGER,Z.marginTop=5,Z.marginRight=5,Z.hide(0),F.zoomOutButton=Z;var J=F.plotContainer.createChild(Container);return J.shouldClone=!1,J.width=percent(100),J.height=percent(100),J.isMeasured=!1,J.zIndex=4,J.layout="none",F.axisBulletsContainer=J,F._bulletMask=F.plotContainer,F.events.on("beforedatavalidated",function(){F.series.each(function(Q){Q.dataGrouped=!1,Q._baseInterval={}})},F,!1),F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},E.prototype.draw=function(){V.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},E.prototype.updatePlotElements=function(){each(this.series.iterator(),function(F){F.invalidate()})},E.prototype.validateData=function(){this._parseDataFrom==0&&(each(this.xAxes.iterator(),function(F){F.dataChangeUpdate()}),each(this.yAxes.iterator(),function(F){F.dataChangeUpdate()}),each(this.series.iterator(),function(F){F.dataChangeUpdate()})),V.prototype.validateData.call(this)},E.prototype.updateXAxesMargins=function(){var F=this.leftAxesContainer.measuredWidth,R=this.rightAxesContainer.measuredWidth,U=this.bottomAxesContainer;(U.paddingLeft!=F||U.paddingRight!=R)&&(U.paddingLeft=F,U.paddingRight=R);var W=this.topAxesContainer;(W.paddingLeft!=F||W.paddingRight!=R)&&(W.paddingLeft=F,W.paddingRight=R)},E.prototype.reinit=function(){V.prototype.reinit.call(this),this.series.each(function(F){F.appeared=!1})},E.prototype.handleXAxisChange=function(F){this.updateXAxis(F.target)},E.prototype.handleYAxisChange=function(F){this.updateYAxis(F.target)},E.prototype.processXAxis=function(F){var R=F.newValue;R.chart=this,R.renderer||(R.renderer=new this._axisRendererX,R.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),R.axisLetter="X",R.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),R.dataProvider=this,this.updateXAxis(R.renderer),this.processAxis(R)},E.prototype.processYAxis=function(F){var R=F.newValue;R.chart=this,R.renderer||(R.renderer=new this._axisRendererY,R.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),R.axisLetter="Y",R.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),R.dataProvider=this,this.updateYAxis(R.renderer),this.processAxis(R)},E.prototype.handleXAxisRangeChange=function(){var F=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,F,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,F)},E.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var F=!1;eachContinue(this.xAxes.iterator(),function(R){if(R.toggleZoomOutButton){if(R.maxZoomCount>0){var U=R.maxZoomFactor/R.maxZoomCount;if(round$2(R.end-R.start,3)<1/U)return F=!0,!1}else if(round$2(R.start,3)>0||round$2(R.end,3)<1)return F=!0,!1}return!0}),eachContinue(this.yAxes.iterator(),function(R){if(R.toggleZoomOutButton){if(R.maxZoomCount>0){var U=R.maxZoomFactor/R.maxZoomCount;if(round$2(R.end-R.start,3)<1/U)return F=!0,!1}else if(round$2(R.start,3)>0||round$2(R.end,3)<1)return F=!0,!1;return!0}}),this.seriesAppeared||(F=!1),F?this.zoomOutButton.show():this.zoomOutButton.hide()}},E.prototype.seriesAppeared=function(){var F=!1;return each(this.series.iterator(),function(R){if(!R.appeared)return F=!1,!1}),F},E.prototype.handleYAxisRangeChange=function(){var F=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,F,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,F)},E.prototype.updateScrollbar=function(F,R){F&&(F.skipRangeEvents(),F.start=R.start,F.end=R.end)},E.prototype.getCommonAxisRange=function(F){var R,U;return F.each(function(W){if(!(!W.zoomable||W instanceof ValueAxis&&W.syncWithAxis)){var Y=W.start,G=W.end;W.renderer.inversed&&(Y=1-W.end,G=1-W.start),(!isNumber$1(R)||Y<R)&&(R=Y),(!isNumber$1(U)||G>U)&&(U=G)}}),{start:R,end:U}},E.prototype.updateXAxis=function(F){var R=F.axis;F.opposite?(R.parent=this.topAxesContainer,R.toFront()):(R.parent=this.bottomAxesContainer,R.toBack()),R.renderer&&R.renderer.processRenderer()},E.prototype.updateYAxis=function(F){var R=F.axis;F.opposite?(R.parent=this.rightAxesContainer,R.toBack()):(R.parent=this.leftAxesContainer,R.toFront()),R.renderer&&R.renderer.processRenderer()},E.prototype.processAxis=function(F){var R=this;F instanceof CategoryAxis&&this._dataUsers.moveValue(F);var U=F.renderer;U.gridContainer.parent=this.plotContainer,U.gridContainer.toBack(),U.breakContainer.parent=this.plotContainer,U.breakContainer.toFront(),U.breakContainer.zIndex=10,F.addDisposer(new Disposer(function(){R.dataUsers.removeValue(F)})),U.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(F.events.on("positionchanged",function(){var W=spritePointToSprite({x:0,y:0},F,R.axisBulletsContainer);F.renderer instanceof AxisRendererY&&(U.bulletsContainer.y=W.y),F.renderer instanceof AxisRendererX&&(U.bulletsContainer.x=W.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){R.inited&&(F.invalidateDataItems(),R.updateSeriesMasks())},F,!1)},E.prototype.updateSeriesMasks=function(){isIE()&&this.series.each(function(F){var R=F.mainContainer.mask;F.mainContainer.mask=void 0,F.mainContainer.mask=R})},E.prototype.handleSeriesRemoved=function(F){var R=F.oldValue;R&&(R.xAxis&&(R.xAxis.series.removeValue(R),R.xAxis.invalidateProcessedData()),R.yAxis&&(R.yAxis.series.removeValue(R),R.yAxis.invalidateProcessedData()),this.series.each(function(U){U.resetExtremes()})),V.prototype.handleSeriesRemoved.call(this,F)},Object.defineProperty(E.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new List,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new ListDisposer(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),E.prototype.handleAxisRemoval=function(F){var R=F.oldValue;this.dataUsers.removeValue(R),R.autoDispose&&R.dispose()},Object.defineProperty(E.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new List,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new ListDisposer(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),E.prototype.handleSeriesAdded=function(F){try{V.prototype.handleSeriesAdded.call(this,F);var R=F.newValue;(this.xAxes.length==0||this.yAxes.length==0)&&(registry.removeFromInvalidComponents(R),R.dataInvalid=!1),R.xAxis,R.yAxis,R.maskBullets=R.maskBullets,R.fill==null&&(this.patterns?(hasValue(R.stroke)||(R.stroke=this.colors.next()),R.fill=this.patterns.next(),hasValue(R.fillOpacity)&&(R.fill.backgroundOpacity=R.fillOpacity),R.stroke instanceof Color&&(R.fill.stroke=R.stroke,R.fill.fill=R.stroke)):R.fill=this.colors.next()),hasValue(R.stroke)||(R.stroke=R.fill)}catch(U){this.raiseCriticalError(U)}},Object.defineProperty(E.prototype,"cursor",{get:function(){return this._cursor},set:function(F){this._cursor!=F&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=F,F&&(this._disposers.push(F),F.chart=this,F.shouldClone=!1,F.parent=this._cursorContainer,F.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),F.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),F.events.on("zoomended",this.handleCursorZoomEnd,this,!1),F.events.on("panstarted",this.handleCursorPanStart,this,!1),F.events.on("panning",this.handleCursorPanning,this,!1),F.events.on("panended",this.handleCursorPanEnd,this,!1),F.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),F.events.on("hidden",this.handleHideCursor,this,!1),F.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),E.prototype.handleCursorPositionChange=function(){var F=this.cursor;if(F.visible&&!F.isHiding){var R=this.cursor.xPosition,U=this.cursor.yPosition;this.showSeriesTooltip({x:R,y:U});var W=[],Y=F.snapToSeries;if(Y&&!F.downPoint){Y instanceof XYSeries&&(Y=[Y]);var G=[];each$2(Y,function(K){if(!K.isHidden&&!K.isHiding){var Z=K.xAxis,J=K.yAxis;Z instanceof ValueAxis&&!(Z instanceof DateAxis)&&J instanceof ValueAxis&&!(J instanceof DateAxis)?(K.dataItems.each(function(Q){G.push(Q)}),move(W,K.yAxis),move(W,K.xAxis)):(K.baseAxis==K.xAxis&&(move(W,K.yAxis),G.push(Z.getSeriesDataItem(K,Z.toAxisPosition(R),!0))),K.baseAxis==K.yAxis&&(move(W,K.xAxis),G.push(J.getSeriesDataItem(K,J.toAxisPosition(U),!0))))}});var X=this.getClosest(G,R,U);X&&(this.series.each(function(K){var Z=X.component;K!=Z&&(K.hideTooltip(),K.xAxis!=Z.xAxis&&(K.xAxis.hideTooltip(),W.push(K.xAxis)),K.yAxis!=Z.yAxis&&(K.yAxis.hideTooltip(),W.push(K.yAxis)))}),X.component.showTooltipAtDataItem(X),F.handleSnap(X.component))}this._seriesPoints=[],this._cursorXPosition!=R&&this.showAxisTooltip(this.xAxes,R,W),this._cursorYPosition!=U&&this.showAxisTooltip(this.yAxes,U,W),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},E.prototype.getClosest=function(F,R,U){var W=1/0,Y;return eachContinue$2(F,function(G){if(G){var X=G.component.xAxis,K=G.component.yAxis,Z=X.positionToCoordinate(X.toGlobalPosition(X.toAxisPosition(R))),J=K.positionToCoordinate(K.toGlobalPosition(K.toAxisPosition(U))),Q=G.component.xField,ee=G.component.yField;if(X instanceof ValueAxis&&!isNumber$1(G.getValue(Q))||K instanceof ValueAxis&&!isNumber$1(G.getValue(ee)))return!0;var te=X.positionToCoordinate(X.toGlobalPosition(X.getPositionX(G,Q,G.locations[Q],"valueX"))),ie=K.positionToCoordinate(K.toGlobalPosition(K.getPositionY(G,ee,G.locations[ee],"valueY"))),re=Math.sqrt(Math.pow(Z-te,2)+Math.pow(J-ie,2));return re<W&&(W=re,Y=G),!0}}),Y},E.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},E.prototype.updateSeriesLegend=function(){each(this.series.iterator(),function(F){F.updateLegendValue()})},E.prototype.hideObjectTooltip=function(F){each(F.iterator(),function(R){R.cursorTooltipEnabled&&R.hideTooltip(0)})},E.prototype.showSeriesTooltip=function(F){var R=this;if(!F){this.series.each(function(W){W.hideTooltip()});return}var U=[];this.series.each(function(W){if(!(W.xAxis instanceof DateAxis&&W.xAxis.snapTooltip||W.yAxis instanceof DateAxis&&W.yAxis.snapTooltip)){var Y=W.showTooltipAtPosition(F.x,F.y);Y&&(W.tooltip.setBounds(spriteRectToSvg({x:0,y:0,width:R.pixelWidth,height:R.pixelHeight},R)),U.push({series:W,point:Y}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(U)},E.prototype.sortSeriesTooltips=function(F){if(F.length>0){var R=this.cursor;if(R&&isNumber$1(R.maxTooltipDistance)){var U=spritePointToSvg({x:R.point.x,y:R.point.y},R),W,Y,G=1/0;each$2(F,function(we){var fe=we.series,ye=we.point;if(ye){var _e={x:ye.x,y:ye.y},ve=Math.abs(getDistance(_e,U));ve<G&&(Y=_e,G=ve,W=fe)}});var X=[];W&&(each$2(F,function(we){if(Math.abs(getDistance(we.point,Y))<=Math.abs(R.maxTooltipDistance))X.push({series:we.series,point:we.point});else{var fe=we.series.tooltipDataItem;fe&&each$2(fe.sprites,function(ye){ye.isHover=!1,ye.handleOutReal()}),we.series.hideTooltip(0)}}),R.maxTooltipDistance<0&&(X.length>0&&each$2(X,function(we){W!=we.series&&we.series.hideTooltip(0)}),X=[{series:W,point:Y}])),F=X}var K=spritePointToSvg({x:-.5,y:-.5},this.plotContainer),Z=spritePointToSvg({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),J=0,Q=[];each$2(F,function(we){var fe=we.point;fe&&isInRectangle(fe,{x:K.x,y:K.y,width:Z.x-K.x,height:Z.y-K.y})&&(Q.push({point:fe,series:we.series}),J+=fe.y)}),F=Q;var ee=this.series.getIndex(0),te=!1;ee&&ee.yAxis&&ee.yAxis.renderer.inversed&&(te=!0),te?F.sort(function(we,fe){return order(we.point.y,fe.point.y)}):(F.sort(function(we,fe){return order(fe.point.y,we.point.y)}),F.reverse());var ie=J/F.length,re=svgPointToDocument({x:0,y:0},this.svgContainer.SVGContainer).y;if(F.length>0){var ne=K.y,ae=Z.y;spritePointToDocument({x:0,y:ne},this);var se=!1;if(ie>ne+(ae-ne)/2)for(var le=ae,oe=F.length-1;oe>=0;oe--){var ue=F[oe].series,ce=ue.tooltip,he=F[oe].point.y;if(ce.setBounds({x:0,y:-re,width:this.pixelWidth,height:le+re}),ce.invalid&&ce.validate(),ce.toBack(),le=spritePointToSvg({x:0,y:ce.label.pixelY-ce.pixelY+he-ce.pixelMarginTop},ce).y,le<-re){se=!0;break}}if(ie<=ne+(ae-ne)/2||se)for(var me=ne,oe=0,Pe=F.length;oe<Pe;oe++){var ue=F[oe].series,he=F[oe].point.y,ce=ue.tooltip;ce.setBounds({x:0,y:me,width:this.pixelWidth,height:ae}),ce.invalid&&ce.validate(),ce.toBack(),me=spritePointToSvg({x:0,y:ce.label.pixelY+ce.label.measuredHeight-ce.pixelY+he+ce.pixelMarginBottom},ce).y}}}},E.prototype.showAxisTooltip=function(F,R,U){var W=this;each(F.iterator(),function(Y){(!U||U.indexOf(Y)==-1)&&(W.dataItems.length>0||Y.dataItems.length>0)&&Y.showTooltipAtPosition(R)})},E.prototype.getUpdatedRange=function(F,R){if(!!F){var U,W,Y=F.renderer.inversed;Y?(invertRange(R),U=1-F.end,W=1-F.start):(U=F.start,W=F.end);var G=W-U;return{start:U+R.start*G,end:U+R.end*G}}},E.prototype.handleCursorZoomEnd=function(F){var R=this.cursor,U=R.behavior;if(U=="zoomX"||U=="zoomXY"){var W=R.xRange;W&&this.xAxes.length>0&&(W=this.getUpdatedRange(this.xAxes.getIndex(0),W),W.priority="start",this.zoomAxes(this.xAxes,W))}if(U=="zoomY"||U=="zoomXY"){var Y=R.yRange;Y&&this.yAxes.length>0&&(Y=this.getUpdatedRange(this.yAxes.getIndex(0),Y),Y.priority="start",this.zoomAxes(this.yAxes,Y))}this.handleHideCursor()},E.prototype.handleCursorPanStart=function(F){var R=this.xAxes.getIndex(0);R&&(this._panStartXRange={start:R.start,end:R.end},R.renderer.inversed&&(this._panStartXRange=invertRange(this._panStartXRange)));var U=this.yAxes.getIndex(0);U&&(this._panStartYRange={start:U.start,end:U.end},U.renderer.inversed&&(this._panStartYRange=invertRange(this._panStartYRange)))},E.prototype.handleCursorPanEnd=function(F){var R=this.cursor,U=R.behavior;if(this._panEndXRange&&(U=="panX"||U=="panXY")){var W=this._panEndXRange,Y=this._panStartXRange,G=0;W.start<0&&(G=W.start),Y.end>1?W.end>Y.end&&(G=W.end-Y.end):W.end>1&&(G=W.end-1),this.zoomAxes(this.xAxes,{start:W.start-G,end:W.end-G},!1,R.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&(U=="panY"||U=="panXY")){var W=this._panEndYRange,G=0;W.start<0&&(G=W.start),W.end>1&&(G=W.end-1),this.zoomAxes(this.yAxes,{start:W.start-G,end:W.end-G},!1,R.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0}},E.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},E.prototype.handleCursorPanning=function(F){var R=this.cursor,U=R.behavior,W=R.maxPanOut;if(this._panStartXRange&&(U=="panX"||U=="panXY")){var Y=this._panStartXRange,G=R.xRange,X=this.getCommonAxisRange(this.xAxes),K=Y.end-Y.start,Z=G.start*(X.end-X.start),J=Math.max(-W,Z+Y.start),Q=Math.min(Z+Y.end,1+W);J<=0&&(Q=J+K),Q>=1&&(J=Q-K);var ee={start:J,end:Q};this._panEndXRange=ee,this.zoomAxes(this.xAxes,ee,!1,!1,R.maxPanOut)}if(this._panStartYRange&&(U=="panY"||U=="panXY")){var Y=this._panStartYRange,G=R.yRange,X=this.getCommonAxisRange(this.yAxes),K=Y.end-Y.start,Z=G.start*(X.end-X.start),J=Math.max(-W,Z+Y.start),Q=Math.min(Z+Y.end,1+W);J<=0&&(Q=J+K),Q>=1&&(J=Q-K);var ee={start:J,end:Q};this._panEndYRange=ee,this.zoomAxes(this.yAxes,ee,!1,!1,R.maxPanOut)}this.handleHideCursor()},E.prototype.handleYAxisSet=function(F){},E.prototype.handleCursorZoomStart=function(F){},Object.defineProperty(E.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(F){var R=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=F,F&&(this._disposers.push(F),F.parent=this.topAxesContainer,F.shouldClone=!1,F.startGrip.exportable=!1,F.endGrip.exportable=!1,F.toBack(),F.orientation="horizontal",F.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",function(){return F.updateThumb(!1)},this,!1),F.adapter.add("positionValue",function(U){var W=R.xAxes.getIndex(0);return W&&(U.value=W.getPositionLabel(W.renderer.inversed?1-U.position:U.position)),U}),F.adapter.add("positionValueDirection",function(U){var W=R.xAxes.getIndex(0);return W&&(U.flipped=W.renderer.inversed),U}))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(F){var R=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=F,F&&(this._disposers.push(F),F.parent=this.rightAxesContainer,F.startGrip.exportable=!1,F.shouldClone=!1,F.endGrip.exportable=!1,F.toFront(),F.orientation="vertical",F.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",function(){return F.updateThumb(!1)},this,!1),F.adapter.add("positionValue",function(U){var W=R.yAxes.getIndex(0);return W&&(U.value=W.getPositionLabel(W.renderer.inversed?U.position:1-U.position)),U}),F.adapter.add("positionValueDirection",function(U){var W=R.yAxes.getIndex(0);return W&&(U.flipped=!W.renderer.inversed),U}))},enumerable:!0,configurable:!0}),E.prototype.handleXScrollbarChange=function(F){if(this.inited){var R=F.target,U=R.range;U.start==0&&(U.priority="start"),U.end==1&&(U.priority="end"),U=this.zoomAxes(this.xAxes,U),R.fixRange(U)}},E.prototype.handleYScrollbarChange=function(F){if(this.inited){var R=F.target,U=R.range;U.end==1&&(U.priority="end"),U.start==0&&(U.priority="start"),U=this.zoomAxes(this.yAxes,U),R.fixRange(U)}},E.prototype.zoomAxes=function(F,R,U,W,Y,G){var X={start:0,end:1};this.showSeriesTooltip();var K=R;return this.dataInvalid||each(F.iterator(),function(Z){var J=Z.maxZoomFactor;if(isNumber$1(Z.minZoomCount)&&(J=J/Z.minZoomCount),!(G&&1/(R.end-R.start)>=J)){if(Z.zoomable){if(Z.renderer.inversed?R=invertRange(K):R=K,Z.hideTooltip(0),W)if(Z instanceof CategoryAxis){var Q=Z.getCellEndPosition(0)-Z.getCellStartPosition(0);R.start=Z.roundPosition(R.start+Q/2-Z.startLocation*Q,Z.startLocation),R.end=Z.roundPosition(R.end-Q/2+(1-Z.endLocation)*Q,Z.endLocation)}else{var ee=1e-4;R.start=Z.roundPosition(R.start+ee,0,Z.startLocation),R.end=Z.roundPosition(R.end+ee,0,Z.endLocation)}var te=Z.zoom(R,U,U,Y);Z.renderer.inversed&&(te=invertRange(te)),X=te}}}),X},Object.defineProperty(E.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(F){this.setPropertyValue("maskBullets",F,!0)&&this.bulletsContainer&&(F?this.bulletsContainer.mask=this._bulletMask:this.bulletsContainer.mask=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(F){this.setPropertyValue("arrangeTooltips",F,!0)},enumerable:!0,configurable:!0}),E.prototype.handleWheel=function(F){var R=this.plotContainer,U=documentPointToSvg(F.point,this.htmlContainer,this.svgContainer.cssScale),W=svgPointToSprite(U,R),Y=F.shift.y;this.handleWheelReal(Y,this.mouseWheelBehavior,W)},E.prototype.handleHorizontalWheel=function(F){var R=this.plotContainer,U=documentPointToSvg(F.point,this.htmlContainer,this.svgContainer.cssScale),W=svgPointToSprite(U,R);this.handleWheelReal(F.shift.x,this.horizontalMouseWheelBehavior,W)},E.prototype.handleWheelReal=function(F,R,U){if(F!=0){var W=this.plotContainer,Y=this.getCommonAxisRange(this.xAxes),G=this.getCommonAxisRange(this.yAxes),X=.1,K=0;if(R=="panX"||R=="panXY"){var Z=this.xAxes.getIndex(0),J=!1,Q=X;Z instanceof CategoryAxis&&(Q=.5/((Y.end-Y.start)*Z.dataItems.length),J=!0),X=Math.max(.2,Q);var ee=Y.end-Y.start,te=Math.max(-K,Y.start+X*F/100*(Y.end-Y.start)),ie=Math.min(Y.end+X*F/100*(Y.end-Y.start),1+K);te<=0&&(ie=te+ee),ie>=1&&(te=ie-ee),this.zoomAxes(this.xAxes,{start:te,end:ie},void 0,J)}if(R=="panY"||R=="panXY"){var re=this.yAxes.getIndex(0),Q=X,J=!1;re instanceof CategoryAxis&&(Q=.5/((Y.end-Y.start)*re.dataItems.length),J=!0),X=Math.max(.2,Q),F*=-1;var ne=G.end-G.start,ae=Math.max(-K,G.start+X*F/100*(G.end-G.start)),se=Math.min(G.end+X*F/100*(G.end-G.start),1+K);ae<=0&&(se=ae+ne),se>=1&&(ae=se-ne),this.zoomAxes(this.yAxes,{start:ae,end:se},void 0,J)}if(R=="zoomX"||R=="zoomXY"){var le=U.x/W.maxWidth,oe=this.xAxes.getIndex(0).toAxisPosition(le),te=Math.max(-K,Y.start-X*(Y.end-Y.start)*F/100*le);te=Math.min(te,oe);var ie=Math.min(Y.end+X*(Y.end-Y.start)*F/100*(1-le),1+K);ie=Math.max(ie,oe),this.zoomAxes(this.xAxes,{start:te,end:ie},void 0)}if(R=="zoomY"||R=="zoomXY"){var ue=U.y/W.maxHeight,ce=this.yAxes.getIndex(0).toAxisPosition(ue),ae=Math.max(-K,G.start-X*(G.end-G.start)*F/100*(1-ue));ae=Math.min(ae,ce);var se=Math.min(G.end+X*F/100*ue*(G.end-G.start),1+K);se=Math.max(se,ce),this.zoomAxes(this.yAxes,{start:ae,end:se},void 0)}}},Object.defineProperty(E.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(F){this.setPropertyValue("mouseWheelBehavior",F)&&(F!="none"?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(F){this.setPropertyValue("horizontalMouseWheelBehavior",F)&&(F!="none"?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),E.prototype.dataSourceDateFields=function(F){var R=this;return F=V.prototype.dataSourceDateFields.call(this,F),each(this.series.iterator(),function(U){F=R.populateDataSourceFields(F,U.dataFields,["dateX","dateY","openDateX","openDateY"])}),F},E.prototype.dataSourceNumberFields=function(F){var R=this;return F=V.prototype.dataSourceDateFields.call(this,F),each(this.series.iterator(),function(U){F=R.populateDataSourceFields(F,U.dataFields,["valueX","valueY","openValueX","openValueY"])}),F},E.prototype.processConfig=function(F){if(F){var R=[],U=[];if(hasValue(F.xAxes)&&isArray$2(F.xAxes))for(var W=0,Y=F.xAxes.length;W<Y;W++)if(F.xAxes[W].type){if(hasValue(F.xAxes[W].axisRanges)){for(var G=0,X=F.xAxes[W].axisRanges.length;G<X;G++){var K=F.xAxes[W].axisRanges[G];hasValue(K.date)&&isString$2(K.date)&&(K.date=this.dateFormatter.parse(K.date)),hasValue(K.endDate)&&isString$2(K.endDate)&&(K.endDate=this.dateFormatter.parse(K.endDate))}R.push({axisRanges:F.xAxes[W].axisRanges,index:W}),delete F.xAxes[W].axisRanges}}else throw Error("[XYChart error] No type set for xAxes["+W+"].");if(hasValue(F.yAxes)&&isArray$2(F.yAxes))for(var W=0,Y=F.yAxes.length;W<Y;W++)if(F.yAxes[W].type){if(hasValue(F.yAxes[W].axisRanges)){for(var G=0,Z=F.yAxes[W].axisRanges.length;G<Z;G++){var K=F.yAxes[W].axisRanges[G];hasValue(K.date)&&isString$2(K.date)&&(K.date=this.dateFormatter.parse(K.date)),hasValue(K.endDate)&&isString$2(K.endDate)&&(K.endDate=this.dateFormatter.parse(K.endDate))}U.push({axisRanges:F.yAxes[W].axisRanges,index:W}),delete F.yAxes[W].axisRanges}}else throw Error("[XYChart error] No type set for yAxes["+W+"].");if(hasValue(F.series)&&isArray$2(F.series))for(var W=0,Y=F.series.length;W<Y;W++)F.series[W].type=F.series[W].type||"LineSeries";if(hasValue(F.cursor)&&!hasValue(F.cursor.type)&&(F.cursor.type="XYCursor"),hasValue(F.scrollbarX)&&!hasValue(F.scrollbarX.type)&&(F.scrollbarX.type="Scrollbar"),hasValue(F.scrollbarY)&&!hasValue(F.scrollbarY.type)&&(F.scrollbarY.type="Scrollbar"),V.prototype.processConfig.call(this,F),U.length)for(var W=0,Y=U.length;W<Y;W++)this.yAxes.getIndex(U[W].index).config={axisRanges:U[W].axisRanges};if(R.length)for(var W=0,Y=R.length;W<Y;W++)this.xAxes.getIndex(R[W].index).config={axisRanges:R[W].axisRanges}}},E.prototype.configOrder=function(F,R){return F==R?0:F=="scrollbarX"?1:R=="scrollbarX"?-1:F=="scrollbarY"?1:R=="scrollbarY"?-1:F=="cursor"?1:R=="cursor"?-1:F=="series"?1:R=="series"?-1:V.prototype.configOrder.call(this,F,R)},E.prototype.createSeries=function(){return new XYSeries},Object.defineProperty(E.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(F){var R=this;this._zoomOutButton=F,F&&F.events.on("hit",function(){R.zoomAxes(R.xAxes,{start:0,end:1}),R.zoomAxes(R.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){var R=this;F.xAxes.each(function(U){var W=R.xAxes.push(U.clone());W.chart=R,W.renderer.chart=R}),F.yAxes.each(function(U){var W=R.yAxes.push(U.clone());W.renderer.chart=R,W.chart=R}),V.prototype.copyFrom.call(this,F),F.cursor&&(this.cursor=F.cursor.clone()),F.scrollbarX&&(this.scrollbarX=F.scrollbarX.clone()),F.scrollbarY&&(this.scrollbarY=F.scrollbarY.clone())},E.prototype.disposeData=function(){V.prototype.disposeData.call(this);var F=this.scrollbarX;F&&F instanceof XYChartScrollbar&&F.scrollbarChart.disposeData();var R=this.scrollbarY;R&&R instanceof XYChartScrollbar&&R.scrollbarChart.disposeData(),this.xAxes.each(function(U){U instanceof CategoryAxis&&U.disposeData()}),this.yAxes.each(function(U){U instanceof CategoryAxis&&U.disposeData()})},E.prototype.addData=function(F,R){this.scrollbarX instanceof XYChartScrollbar&&this.addScrollbarData(this.scrollbarX,R),this.scrollbarY instanceof XYChartScrollbar&&this.addScrollbarData(this.scrollbarY,R),V.prototype.addData.call(this,F,R)},E.prototype.addScrollbarData=function(F,R){var U=F.scrollbarChart;U._parseDataFrom=U.data.length,U.invalidateData()},E.prototype.removeScrollbarData=function(F,R){var U=F.scrollbarChart;if(isNumber$1(R)){for(;R>0;){var W=this.dataItems.getIndex(0);W&&U.dataItems.remove(W),U.dataUsers.each(function(Y){var G=Y.dataItems.getIndex(0);G&&Y.dataItems.remove(G)}),U._parseDataFrom--,R--}U.invalidateData()}},E.prototype.removeData=function(F){this.scrollbarX instanceof XYChartScrollbar&&this.removeScrollbarData(this.scrollbarX,F),this.scrollbarY instanceof XYChartScrollbar&&this.removeScrollbarData(this.scrollbarY,F),V.prototype.removeData.call(this,F)},E.prototype.setTapToActivate=function(F){V.prototype.setTapToActivate.call(this,F),this.cursor&&(this.cursor.interactions.isTouchProtected=F,this.plotContainer.interactions.isTouchProtected=F)},E.prototype.handleTapToActivate=function(){V.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},E.prototype.handleTapToActivateDeactivation=function(){V.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},E}(SerialChart);registry.registeredClasses.XYChart=XYChart;defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(V,E){if(V instanceof XYChart&&V.scrollbarX){var F=V.states.create(E),R=V.scrollbarX.states.create(E);return R.properties.disabled=!0,F}return null}});defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(V,E){if(V instanceof XYChart&&V.scrollbarY){var F=V.states.create(E),R=V.scrollbarY.states.create(E);return R.properties.disabled=!0,F}return null}});var LineSeriesSegment=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="LineSeriesSegment",F.isMeasured=!1,F.interactionsEnabled=!1,F.layout="none";var R=F.createChild(Sprite);F.fillSprite=R,R.shouldClone=!1,R.setElement(F.paper.add("path")),R.isMeasured=!1,F._disposers.push(R);var U=F.createChild(Sprite);return F.strokeSprite=U,U.shouldClone=!1,U.fill=color(),U.setElement(F.paper.add("path")),U.isMeasured=!1,F._disposers.push(U),F}return E.prototype.drawSegment=function(F,R,U,W){if(!this.disabled)if(F.length>0&&R.length>0&&isNumber$1(F[0].x)&&isNumber$1(F[0].y)){var Y=moveTo({x:F[0].x-.2,y:F[0].y-.2})+moveTo(F[0]),G=this.series;G.smoothing=="bezier"?Y+=new Tension(U,W).smooth(F):G.smoothing=="monotoneX"?Y+=new MonotoneX({closed:!1}).smooth(F):G.smoothing=="monotoneY"&&(Y+=new MonotoneY({closed:!1}).smooth(F)),this.strokeOpacity==0||this.strokeSprite.strokeOpacity==0||(this.strokeSprite.path=Y),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&isNumber$1(R[0].x)&&isNumber$1(R[0].y)&&(Y+=lineTo(R[0]),G.smoothing=="bezier"?Y+=new Tension(U,W).smooth(R):G.smoothing=="monotoneX"?Y+=new MonotoneX({closed:!1}).smooth(R):G.smoothing=="monotoneY"&&(Y+=new MonotoneY({closed:!1}).smooth(R)),Y+=lineTo(F[0]),Y+=closePath(),this.fillSprite.path=Y)}else this.fillSprite.path="",this.strokeSprite.path=""},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F);var R=this.strokeSprite;copyProperties$1(F,R.properties,visualProperties),R.events.copyFrom(F.strokeSprite.events),R.fillOpacity=0;var U=this.fillSprite;copyProperties$1(F,U.properties,visualProperties),U.events.copyFrom(F.fillSprite.events),U.strokeOpacity=0},E}(Container);registry.registeredClasses.LineSeriesSegment=LineSeriesSegment;var DurationAxisDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="DurationAxisDataItem",F.applyTheme(),F}return E}(ValueAxisDataItem),DurationAxis=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._baseUnit="second",F.className="DurationAxis",F.setPropertyValue("maxZoomFactor",1e6),F.applyTheme(),F}return E.prototype.formatLabel=function(F,R){return this.durationFormatter.format(F,R||this.axisDurationFormat)},E.prototype.adjustMinMax=function(F,R,U,W,Y){var G,X,K,Z=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),Z=="millisecond"||Z=="second"||Z=="minute"||Z=="hour"){W<=1&&(W=1),W=Math.round(W);var J=F,Q=R;U===0&&(U=Math.abs(R));var ee=U/W,te=[60,30,20,15,10,2,1],ie=1;Z=="hour"&&(te=[24,12,6,4,2,1]);try{for(var re=__values(te),ne=re.next();!ne.done;ne=re.next()){var ae=ne.value;if(U/ae>W){ie=ae;break}}}catch(he){G={error:he}}finally{try{ne&&!ne.done&&(X=re.return)&&X.call(re)}finally{if(G)throw G.error}}var se=Math.ceil((R-F)/ie/W),le=Math.log(Math.abs(se))*Math.LOG10E,oe=Math.pow(10,Math.floor(le))/10,ue=se/oe,ce=closest(te,ue);se=ce*oe,ee=ie*se,this.durationFormatter.getValueUnit(ee,this.baseUnit),F=Math.floor(F/ee)*ee,R=Math.ceil(R/ee)*ee,Y&&(F-=ee,F<0&&J>=0&&(F=0),R+=ee,R>0&&Q<=0&&(R=0)),K={min:F,max:R,step:ee}}else K=V.prototype.adjustMinMax.call(this,F,R,U,W,Y);return this.axisDurationFormat=this.durationFormatter.getFormat(K.step,K.max,this.baseUnit),K},Object.defineProperty(E.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(F){this._tooltipDurationFormat=F},enumerable:!0,configurable:!0}),E.prototype.getTooltipText=function(F){var R=round$2(this.positionToValue(F),this._stepDecimalPlaces),U=this.formatLabel(R,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",U):U},Object.defineProperty(E.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(F){this._baseUnit!=F&&(this._baseUnit=F,this.durationFormatter.baseUnit=F,this.invalidate())},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.baseUnit=F.baseUnit},E}(ValueAxis);registry.registeredClasses.DurationAxis=DurationAxis;registry.registeredClasses.DurationAxisDataItem=DurationAxisDataItem;var LineSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="LineSeriesDataItem",F}return E}(XYSeriesDataItem),LineSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.minDistance=.5,F.segments=new ListTemplate(F.createSegment()),F.segments.template.applyOnClones=!0,F._disposers.push(new ListDisposer(F.segments)),F._disposers.push(F.segments.template),F._segmentsIterator=new ListIterator(F.segments,function(){return F.segments.create()}),F._segmentsIterator.createNewItems=!0,F.className="LineSeries",F.strokeOpacity=1,F.fillOpacity=0,F.connect=!0,F.tensionX=1,F.tensionY=1,F.autoGapCount=1.1,F.smoothing="bezier",F.segmentsContainer=F.mainContainer.createChild(Container),F.segmentsContainer.isMeasured=!1,F.bulletsContainer.toFront(),F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},E.prototype.createSegment=function(){return new LineSeriesSegment},E.prototype.createDataItem=function(){return new LineSeriesDataItem},E.prototype.setInitialWorkingValues=function(F){var R=this._yAxis.get(),U=this._xAxis.get();if(this.appeared&&this.visible){var W=this.dataItems.getIndex(F.index-1);if(F.component=this,this.baseAxis==U&&R instanceof ValueAxis){var Y=R.minZoomed;if(W&&(Y=W.values.valueY.workingValue),F.setWorkingValue("valueY",Y,0),F.setWorkingValue("valueY",F.values.valueY.value),U instanceof DateAxis)F.setWorkingLocation("dateX",F.locations.dateX-1,0),F.setWorkingLocation("dateX",F.locations.dateX);else if(U instanceof DurationAxis&&W){var G=F.valueX;F.setWorkingValue("valueX",W.valueX,0),F.setWorkingValue("valueX",G)}}if(this.baseAxis==R&&U instanceof ValueAxis){var X=U.minZoomed;if(W&&(X=W.values.valueX.workingValue),F.setWorkingValue("valueX",X,0),F.setWorkingValue("valueX",F.values.valueX.value),R instanceof DateAxis)F.setWorkingLocation("dateY",F.locations.dateX-1,0),F.setWorkingLocation("dateY",F.locations.dateY);else if(R instanceof DurationAxis&&W){var G=F.valueY;F.setWorkingValue("valueY",W.valueY,0),F.setWorkingValue("valueY",G)}}}else this.baseAxis==U&&R instanceof ValueAxis&&(U instanceof DateAxis&&F.setWorkingLocation("dateX",F.locations.dateX),U instanceof CategoryAxis&&F.setWorkingLocation("categoryX",F.locations.categoryX)),this.baseAxis==R&&U instanceof ValueAxis&&(R instanceof DateAxis&&F.setWorkingLocation("dateY",F.locations.dateY),R instanceof CategoryAxis&&F.setWorkingLocation("categoryY",F.locations.categoryY))},E.prototype.updateLegendValue=function(F,R){V.prototype.updateLegendValue.call(this,F,R),F&&F.segment&&(this.tooltipColorSource=F.segment)},E.prototype.validate=function(){var F=this;V.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),each(this.axisRanges.iterator(),function(R){F.openSegmentWrapper(F._adjustedStartIndex,R)}),each(this._segmentsIterator.iterator(),function(R){R.__disabled=!0}))},E.prototype.sliceData=function(){for(var F=this.startIndex,R=this.endIndex,U=this.startIndex-1;U>=0;U--){var W=this.dataItems.getIndex(U);if(W&&W.hasValue(this._xValueFields)&&W.hasValue(this._yValueFields)){F=U;break}}this._adjustedStartIndex=this.findAdjustedIndex(F,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);for(var U=this.endIndex,Y=this.dataItems.length;U<Y;U++){var W=this.dataItems.getIndex(U);if(W&&W.hasValue(this._xValueFields)&&W.hasValue(this._yValueFields)){R=U+1;break}}this._workingStartIndex=F,this._workingEndIndex=R},E.prototype.findAdjustedIndex=function(F,R){var U=this,W=this.propertyFields,Y=F;return each$2(R,function(G){if(hasValue(W[G]))for(var X=Y;X>=0;X--){var K=U.dataItems.getIndex(X);if(K&&hasValue(K.properties[G])){F>X&&(F=X);break}}}),F},E.prototype.openSegmentWrapper=function(F,R){var U={index:F,axisRange:R};do U=this.openSegment(U.index,U.axisRange);while(U)},E.prototype.getSegment=function(){var F=this._segmentsIterator.getFirst();return F.series=this,F.isDisposed()?(this.segments.removeValue(F),this.getSegment()):F},E.prototype.openSegment=function(F,R){var U=!1,W=[];F=Math.min(F,this.dataItems.length);var Y=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var G,X=!1,K=this.getSegment();K.strokeDasharray=void 0,K.__disabled=!1,R?(K.parent=R.contents,copyProperties$1(R.contents,K,visualProperties)):(copyProperties$1(this,K,visualProperties),K.filters.clear(),K.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var Z=this.connect,J=!1,Q=F;Q<Y;Q++){var ee=this.dataItems.getIndex(Q);if(ee.segment=K,ee.hasProperties&&(Q==F?this.updateSegmentProperties(ee.properties,K):X=this.updateSegmentProperties(ee.properties,K,!0)),ee.hasValue(this._xValueFields)&&ee.hasValue(this._yValueFields))this.addPoints(W,ee,this.xField,this.yField),J=!0;else{if(Q==F)continue;if(!Z&&J){G=Q;break}}if(G=Q,this.baseAxis instanceof DateAxis){var te=this.dataItems.getIndex(Q+1);if(te&&this.baseAxis.makeGap(te,ee)){U=!0;break}}if(X)break}return this.closeSegment(K,W,F,G,R,U)},E.prototype.addPoints=function(F,R,U,W,Y){var G=this.getPoint(R,U,W,R.workingLocations[U],R.workingLocations[W]);Y||(R.point=G),F.push(G)},E.prototype.closeSegment=function(F,R,U,W,Y,G){var X=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var K=W;K>=U;K--){var Z=this.dataItems.getIndex(K);Z.hasValue(this._xValueFields)&&Z.hasValue(this._yValueFields)&&this.addPoints(X,Z,this.xOpenField,this.yOpenField,!0)}else{var J=this.baseAxis,Q=R.length,ee=this.xAxis,te=this.yAxis;Q>0&&(J==ee?(X.push({x:R[Q-1].x,y:te.basePoint.y}),X.push({x:R[0].x,y:te.basePoint.y})):(X.push({x:ee.basePoint.x,y:R[Q-1].y}),X.push({x:ee.basePoint.x,y:R[0].y})))}return this.drawSegment(F,R,X),G&&W++,W<this._workingEndIndex-1?{index:W,axisRange:Y}:null},E.prototype.drawSegment=function(F,R,U){F.drawSegment(R,U,this.tensionX,this.tensionY)},E.prototype.updateSegmentProperties=function(F,R,U){var W=!1;return each$1(F,function(Y,G){if(hasValue(G)){var X=R[Y],K=void 0;X&&(X.toString?K=X.toString():K=X);var Z=void 0;G&&(G.toString?Z=G.toString():Z=G),X==G||K!=null&&Z!=null&&K==Z||(U||(R[Y]=G),W=!0)}}),W},Object.defineProperty(E.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(F){this.setPropertyValue("connect",F)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(F){this.setPropertyValue("tensionX",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(F){this.setPropertyValue("tensionY",F,!0)},enumerable:!0,configurable:!0}),E.prototype.createLegendMarker=function(F){var R=this,U=F.pixelWidth,W=F.pixelHeight;F.disposeChildren();var Y=F.createChild(Line);if(Y.shouldClone=!1,copyProperties$1(this,Y,visualProperties),Y.x2=U,Y.y=W/2,Y.y2=1e-5,Y.visible=!0,this.fillOpacity>0){var G=F.createChild(Rectangle);copyProperties$1(this,G,visualProperties),G.width=U,G.height=W,G.y=0,G.strokeOpacity=0,G.visible=!0,Y.y=0}var X=F.dataItem;X.color=this.stroke,X.colorOrig=this.fill,eachContinue(this.bullets.iterator(),function(K){if(K instanceof Bullet&&!K.copyToLegendMarker)return!1;var Z=!1;if(K instanceof Container&&each(K.children.iterator(),function(Q){if(Q instanceof Label)return Z=!0,!0}),!Z){var J=K.clone();return J.parent=F,J.isMeasured=!0,J.tooltipText=void 0,J.x=U/2,R.fillOpacity>0?J.y=0:J.y=W/2,J.visible=!0,hasValue(J.fill)||(J.fill=R.fill),hasValue(J.stroke)||(J.stroke=R.stroke),!1}})},E.prototype.disposeData=function(){V.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(E.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(F){this.setPropertyValue("autoGapCount",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(F){this.setPropertyValue("smoothing",F,!0)},enumerable:!0,configurable:!0}),E}(XYSeries);registry.registeredClasses.LineSeries=LineSeries;registry.registeredClasses.LineSeriesDataItem=LineSeriesDataItem;var RadarSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="RadarSeriesDataItem",F.setLocation("dateX",0,0),F.setLocation("dateY",0,0),F.setLocation("categoryX",0,0),F.setLocation("categoryY",0,0),F.applyTheme(),F}return E}(LineSeriesDataItem),RadarSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="RadarSeries",F.connectEnds=!0,F.applyTheme(),F}return E.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),V.prototype.validate.call(this)},E.prototype.createDataItem=function(){return new RadarSeriesDataItem},E.prototype.getPoint=function(F,R,U,W,Y,G,X){G||(G="valueX"),X||(X="valueY");var K=this.yAxis.getX(F,U,Y,X),Z=this.yAxis.getY(F,U,Y,X),J=getDistance({x:K,y:Z});J==0&&(J=1e-5);var Q=this.xAxis.getAngle(F,R,W,G),ee=this.chart.startAngle,te=this.chart.endAngle;if(!(Q<ee||Q>te))return{x:J*cos(Q),y:J*sin(Q)}},E.prototype.addPoints=function(F,R,U,W,Y){var G=this.getPoint(R,U,W,R.locations[U],R.locations[W]);G&&F.push(G)},E.prototype.getMaskPath=function(){var F=this.yAxis.renderer;return arc(F.startAngle,F.endAngle-F.startAngle,F.pixelRadius,F.pixelInnerRadius)},E.prototype.drawSegment=function(F,R,U){var W=this.yAxis,Y=W.renderer;this.connectEnds&&Math.abs(Y.endAngle-Y.startAngle)==360&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(R.push(R[0]),U.length>0&&U.unshift(U[U.length-1])),V.prototype.drawSegment.call(this,F,R,U)},Object.defineProperty(E.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(F){this.setPropertyValue("connectEnds",F,!0)},enumerable:!0,configurable:!0}),E.prototype.positionBulletReal=function(F,R,U){var W=this.xAxis,Y=this.yAxis;(R<W.start||R>W.end||U<Y.start||U>Y.end)&&(F.visible=!1),F.moveTo(this.xAxis.renderer.positionToPoint(R,U))},E.prototype.setXAxis=function(F){V.prototype.setXAxis.call(this,F),this.updateRendererRefs()},E.prototype.setYAxis=function(F){V.prototype.setYAxis.call(this,F),this.updateRendererRefs()},E.prototype.updateRendererRefs=function(){var F=this.xAxis.renderer,R=this.yAxis.renderer;F.axisRendererY=R},E}(LineSeries);registry.registeredClasses.RadarSeries=RadarSeries;registry.registeredClasses.RadarSeriesDataItem=RadarSeriesDataItem;var AxisFillCircular=function(V){__extends(E,V);function E(F){var R=V.call(this,F)||this;return R.className="AxisFillCircular",R.element=R.paper.add("path"),R.radius=percent(100),R.applyTheme(),R}return E.prototype.draw=function(){if(V.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis){var F=this.axis.renderer;this.fillPath=F.getPositionRangePath(this.startPosition,this.endPosition,this.radius,hasValue(this.innerRadius)?this.innerRadius:F.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(F){this.setPropertyValue("cornerRadius",F,!0)},enumerable:!0,configurable:!0}),E}(AxisFill);registry.registeredClasses.AxisFillCircular=AxisFillCircular;var GridCircular=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="GridCircular",F.pixelPerfect=!1,F.applyTheme(),F}return Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),E}(Grid);registry.registeredClasses.GridCircular=GridCircular;var AxisLabelCircular=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.fdx=0,F.fdy=0,F.className="AxisLabelCircular",F.padding(0,0,0,0),F.location=.5,F.locationOnPath=.5,F.radius=0,F.isMeasured=!1,F.applyTheme(),F}return Object.defineProperty(E.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(F){if(this.setPropertyValue("relativeRotation",F,!0),!hasValue(F)){this.rotation=void 0;var R=this.dataItem;R&&R.component&&R.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(F){this.setPropertyValue("bent",F,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),F?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),E.prototype.pixelRadius=function(F){var R=1;return this.inside&&(R=-1),relativeToValue(this.radius,F)*R},E.prototype.pixelRadiusY=function(F,R){var U=1;this.inside&&(U=-1);var W=this.radius;return isNumber$1(W)?(W*=R/F,relativeToValue(W,F)*U):relativeToValue(W,R)*U},E.prototype.fixPosition=function(F,R,U,W,Y){isNumber$1(U)||(U=R),isNumber$1(W)||(W=0),isNumber$1(Y)||(Y=0);var G={x:R*cos(F),y:U*sin(F)};this.invalid&&this.validate();var X=!1,K=this.radius;(K instanceof Percent&&K.value<0||K<0)&&(X=!0);var Z=this.relativeRotation,J=this.pixelRadius(R);if(this.bent){var Q={x:(R+J)*cos(F+180),y:(U+J*U/R)*sin(F+180)};this.path=moveTo(Q)+arcTo(F+180,360,R+J,U+J*U/R),this.textPathElement&&this.textPathElement.attr({startOffset:this.locationOnPath*100+"%"});return}if(isNumber$1(Z)){this.horizontalCenter="none",this.verticalCenter="none",F=fitAngleToRange(F,-180,180);var ee=this.bbox.width,te=this.bbox.height,ie=this.pixelPaddingBottom,re=this.pixelPaddingTop,ne=this.pixelPaddingLeft,ae=this.pixelPaddingRight;F>90||F<-90?Z==-90&&(Z=90,ee=0):(Z==-90&&(te=-te),Z==90&&(Z=-90,ee=-ne-ae,te=-te-re-ie)),this.rotation=Z+F+90;var se=sin(Z)/2,le=cos(Z)/2,oe=this.rotation;this.dx=te*se*sin(oe)-ee*le*cos(oe),this.dy=-te*se*cos(oe)-ee*le*sin(oe),this.inside?F>90||F<-90?J-=(ie+re)*cos(Z)+(ne+ae)*sin(Z):J+=(ie+this.bbox.height+re)*cos(Z)+(ne+ae+this.bbox.width)*sin(Z):J+=(te+ie+re)*cos(Z)+(ee+ne+ae)*sin(Z),G.x+=cos(F)*J,G.y+=sin(F)*J*U/R}else this.horizontalCenter="middle",this.verticalCenter="middle",X?(this.dx=0,this.dy=0,G.x=(R+J)*cos(F),G.y=(U+J*U/R)*sin(F)):(this.dy=this._measuredHeight/2*sin(F),this.dx=this._measuredWidth/2*cos(F),G.x+=cos(F)*J,G.y+=sin(F)*J*U/R);G.x+=W,G.y+=Y,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(G)},E}(AxisLabel);registry.registeredClasses.AxisLabelCircular=AxisLabelCircular;var AxisRendererCircular=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.pixelRadiusReal=0,F.layout="none",F.className="AxisRendererCircular",F.isMeasured=!1,F.startAngle=-90,F.endAngle=270,F.useChartAngles=!0,F.radius=percent(100),F.isMeasured=!1,F.grid.template.location=0,F.labels.template.location=0,F.labels.template.radius=15,F.ticks.template.location=0,F.ticks.template.pixelPerfect=!1,F.tooltipLocation=0,F.line.strokeOpacity=0,F.applyTheme(),F}return E.prototype.setAxis=function(F){var R=this;V.prototype.setAxis.call(this,F),F.isMeasured=!1;var U=F.tooltip;U.adapter.add("dx",function(W,Y){var G=svgPointToSprite({x:Y.pixelX,y:Y.pixelY},R);return R.pixelRadius*Math.cos(Math.atan2(G.y,G.x))-G.x}),U.adapter.add("dy",function(W,Y){var G=svgPointToSprite({x:Y.pixelX,y:Y.pixelY},R);return R.pixelRadius*Math.sin(Math.atan2(G.y,G.x))-G.y})},E.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),V.prototype.validate.call(this)},Object.defineProperty(E.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelRadius",{get:function(){return relativeRadiusToValue(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerRadius",{get:function(){var F=this.chart,R=this.getPropertyValue("innerRadius");if(F){if(!hasValue(R))R=F.innerRadius,R instanceof Percent&&F&&(R=percent(R.value*F.innerRadiusModifyer*100));else if(R instanceof Percent&&F){var U=F.mr,W=R.value;W=Math.max(U*W,U-Math.min(F.plotContainer.innerHeight,F.plotContainer.innerWidth))/U,R=percent(W*100)}return R}},set:function(F){this.setPercentProperty("innerRadius",F,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(F){this.setPropertyValue("useChartAngles",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelInnerRadius",{get:function(){return relativeRadiusToValue(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),E.prototype.positionToPoint=function(F,R){isNumber$1(R)||(R=1);var U=this.positionToCoordinate(F),W=this.startAngle+(this.endAngle-this.startAngle)*U/this.axisLength,Y=this.pixelRadius,G=this.pixelInnerRadius;if(this.axisRendererY){var X=fitToRange(this.axisRendererY.positionToCoordinate(R),0,1/0);X==0&&(X=1e-6);var K={x:X*cos(W),y:X*sin(W)};return K}return{x:cos(W)*G+(Y-G)*cos(W)*R,y:sin(W)*G+(Y-G)*sin(W)*R}},E.prototype.positionToAngle=function(F){var R=this.axis,U=(this.endAngle-this.startAngle)/(R.end-R.start),W;return R.renderer.inversed?W=this.startAngle+(R.end-F)*U:W=this.startAngle+(F-R.start)*U,round$2(W,3)},E.prototype.angleToPosition=function(F){var R=this.axis,U=(this.endAngle-this.startAngle)/(R.end-R.start),W;return R.renderer.inversed?W=R.end-(F-this.startAngle)/U:W=(F-this.startAngle)/U+R.start,round$2(W,5)},E.prototype.updateAxisLine=function(){var F=this.pixelRadius,R=this.startAngle,U=this.endAngle,W=min$1(360,U-R);this.line.path=moveTo({x:F*cos(R),y:F*sin(R)})+arcTo(R,W,F,F)},E.prototype.updateGridElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R);if(isNumber$1(W.x)&&isNumber$1(W.y)&&F.element){var Y=DEGREES*Math.atan2(W.y,W.x),G=relativeRadiusToValue(hasValue(F.radius)?F.radius:percent(100),this.pixelRadius),X=relativeRadiusToValue(F.innerRadius,this.pixelRadius);F.zIndex=0;var K=relativeRadiusToValue(isNumber$1(X)?X:this.innerRadius,this.pixelRadiusReal,!0);isNumber$1(K)||(K=0),F.path=moveTo({x:K*cos(Y),y:K*sin(Y)})+lineTo({x:G*cos(Y),y:G*sin(Y)})}this.toggleVisibility(F,R,0,1)},E.prototype.updateTickElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R);if(F.element){var Y=this.pixelRadius,G=DEGREES*Math.atan2(W.y,W.x),X=F.length;F.inside&&(X=-X),F.zIndex=1,F.path=moveTo({x:Y*cos(G),y:Y*sin(G)})+lineTo({x:(Y+X)*cos(G),y:(Y+X)*sin(G)})}this.toggleVisibility(F,R,0,1)},E.prototype.updateBullet=function(F,R,U){var W=.5;F instanceof AxisBullet&&(W=F.location),R=R+(U-R)*W;var Y=this.positionToPoint(R),G=this.pixelRadius,X=DEGREES*Math.atan2(Y.y,Y.x);Y={x:G*cos(X),y:G*sin(X)},this.positionItem(F,Y),this.toggleVisibility(F,R,0,1)},E.prototype.updateLabelElement=function(F,R,U,W){hasValue(W)||(W=F.location),R=R+(U-R)*W,F.fixPosition(this.positionToAngle(R),this.pixelRadius),F.zIndex=2,this.toggleVisibility(F,R,this.minLabelPosition,this.maxLabelPosition)},E.prototype.fitsToBounds=function(F){return!0},Object.defineProperty(E.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(F){this.setPropertyValue("startAngle",F)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(F){this.setPropertyValue("endAngle",F)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),E.prototype.getPositionRangePath=function(F,R,U,W,Y){var G="";if(isNumber$1(F)&&isNumber$1(R)){hasValue(U)||(U=this.radius),F=max$1(F,this.axis.start),R=min$1(R,this.axis.end),R<F&&(R=F);var X=relativeRadiusToValue(U,this.pixelRadius),K=relativeRadiusToValue(W,this.pixelRadius,!0),Z=this.positionToAngle(F),J=this.positionToAngle(R),Q=J-Z;G=arc(Z,Q,X,K,X,Y)}return G},E.prototype.createGrid=function(){return new GridCircular},E.prototype.createFill=function(F){return new AxisFillCircular(F)},E.prototype.createLabel=function(){return new AxisLabelCircular},E.prototype.pointToPosition=function(F){var R=fitAngleToRange(getAngle(F),this.startAngle,this.endAngle);return this.coordinateToPosition((R-this.startAngle)/360*this.axisLength)},E}(AxisRenderer);registry.registeredClasses.AxisRendererCircular=AxisRendererCircular;var AxisRendererRadial=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._chart=new MutableValueDisposer,F.pixelRadiusReal=0,F.className="AxisRendererRadial",F.isMeasured=!1,F.startAngle=-90,F.endAngle=270,F.minGridDistance=30,F.gridType="circles",F.axisAngle=-90,F.isMeasured=!1,F.layout="none",F.radius=percent(100),F.line.strokeOpacity=0,F.labels.template.horizontalCenter="middle",F._disposers.push(F._chart),F.applyTheme(),F}return E.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),V.prototype.validate.call(this)},Object.defineProperty(E.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelRadius",{get:function(){return relativeRadiusToValue(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerRadius",{get:function(){var F=this.chart,R=this.getPropertyValue("innerRadius");if(F){if(!hasValue(R))R=F.innerRadius,R instanceof Percent&&F&&(R=percent(R.value*F.innerRadiusModifyer*100));else if(R instanceof Percent&&F){var U=F.mr,W=R.value;W=Math.max(U*W,U-Math.min(F.plotContainer.innerHeight,F.plotContainer.innerWidth))/U,R=percent(W*100)}}return R},set:function(F){this.setPercentProperty("innerRadius",F,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelInnerRadius",{get:function(){return relativeRadiusToValue(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),E.prototype.positionToPoint=function(F,R){var U=fitToRange(this.positionToCoordinate(F),0,1/0);return{x:U*cos(this.axisAngle),y:U*sin(this.axisAngle)}},E.prototype.updateAxisLine=function(){this.line.path=moveTo({x:this.pixelInnerRadius*cos(this.axisAngle),y:this.pixelInnerRadius*sin(this.axisAngle)})+lineTo({x:this.pixelRadius*cos(this.axisAngle),y:this.pixelRadius*sin(this.axisAngle)});var F=this.axis.title;F.valign="none",F.horizontalCenter="middle",F.verticalCenter="bottom",F.y=-this.axisLength/2;var R=90;this.opposite?this.inside||(R=-90):this.inside&&(R=-90),F.rotation=R},E.prototype.updateGridElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R),Y,G=getDistance(W),X=this.startAngle,K=this.endAngle,Z=this.chart;if(isNumber$1(G)&&F.element&&Z){var J=Z.xAxes.getIndex(0),Q=0,ee=Z.series.getIndex(0);if(ee&&(Q=ee.dataItems.length),this.gridType=="polygons"&&Q>0&&ee&&J&&J instanceof CategoryAxis){var te=J.renderer.grid.template.location,ie=J.getAngle(ee.dataItems.getIndex(0),"categoryX",te);Y=moveTo({x:G*cos(ie),y:G*sin(ie)});for(var re=1;re<Q;re++)ie=J.getAngle(ee.dataItems.getIndex(re),"categoryX",te),Y+=lineTo({x:G*cos(ie),y:G*sin(ie)});ie=J.getAngle(ee.dataItems.getIndex(Q-1),"categoryX",J.renderer.cellEndLocation),Y+=lineTo({x:G*cos(ie),y:G*sin(ie)})}else Y=moveTo({x:G*cos(X),y:G*sin(X)})+arcTo(X,K-X,G,G);F.path=Y}this.toggleVisibility(F,R,0,1)},E.prototype.updateLabelElement=function(F,R,U,W){hasValue(W)||(W=F.location),R=R+(U-R)*W;var Y=this.positionToPoint(R);this.positionItem(F,Y),this.toggleVisibility(F,R,this.minLabelPosition,this.maxLabelPosition)},E.prototype.updateBaseGridElement=function(){},E.prototype.fitsToBounds=function(F){return!0},Object.defineProperty(E.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(F){this.setPropertyValue("startAngle",F)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(F){this.setPropertyValue("endAngle",F)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(F){this.setPropertyValue("axisAngle",normalizeAngle(F)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"gridType",{get:function(){var F=this.chart.xAxes.getIndex(0);return F instanceof CategoryAxis?this.getPropertyValue("gridType"):"circles"},set:function(F){this.setPropertyValue("gridType",F,!0)},enumerable:!0,configurable:!0}),E.prototype.getPositionRangePath=function(F,R){var U=this.pixelInnerRadius,W=this.axisLength+U,Y=fitToRange(this.positionToCoordinate(F),U,W),G=fitToRange(this.positionToCoordinate(R),U,W),X=this.startAngle,K=this.endAngle,Z=K-X,J,Q=this.chart,ee=Q.xAxes.getIndex(0),te=Q.series.getIndex(0),ie=0;if(te&&(ie=te.dataItems.length),this.gridType=="polygons"&&ie>0&&te&&ee&&ee instanceof CategoryAxis){var re=ee.renderer.grid.template.location,ne=ee.getAngle(te.dataItems.getIndex(0),"categoryX",re);J=moveTo({x:G*cos(ne),y:G*sin(ne)});for(var ae=1;ae<ie;ae++)ne=ee.getAngle(te.dataItems.getIndex(ae),"categoryX",re),J+=lineTo({x:G*cos(ne),y:G*sin(ne)});ne=ee.getAngle(te.dataItems.getIndex(ie-1),"categoryX",ee.renderer.cellEndLocation),J+=lineTo({x:G*cos(ne),y:G*sin(ne)}),J+=moveTo({x:Y*cos(ne),y:Y*sin(ne)});for(var ae=ie-1;ae>=0;ae--)ne=ee.getAngle(te.dataItems.getIndex(ae),"categoryX",re),J+=lineTo({x:Y*cos(ne),y:Y*sin(ne)})}else J=arc(X,Z,G,Y);return J},E.prototype.updateBreakElement=function(F){var R=F.startLine,U=F.endLine,W=F.fillShape,Y=F.startPoint,G=F.endPoint;R.radius=Math.abs(Y.y),U.radius=Math.abs(G.y),W.radius=Math.abs(G.y),W.innerRadius=Math.abs(Y.y)},E.prototype.createBreakSprites=function(F){F.startLine=new WavedCircle,F.endLine=new WavedCircle,F.fillShape=new WavedCircle},E.prototype.updateTooltip=function(){var F=this.axis;if(F){var R=4e3,U=-4e3,W=-4e3,Y=R*2,G=R*2,X=this.axisAngle;X<0&&(X+=360);var K="vertical";(X>45&&X<135||X>225&&X<315)&&(K="horizontal"),this.axis.updateTooltip(K,{x:U,y:W,width:Y,height:G})}},E.prototype.updateTickElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R);if(F.element){var Y=normalizeAngle(this.axisAngle+90);Y/90!=Math.round(Y/90)?F.pixelPerfect=!1:F.pixelPerfect=!0;var G=-F.length;F.inside&&(G*=-1),F.path=moveTo({x:0,y:0})+lineTo({x:G*cos(Y),y:G*sin(Y)})}this.positionItem(F,W),this.toggleVisibility(F,R,0,1)},E.prototype.updateBullet=function(F,R,U){var W=.5;F instanceof AxisBullet&&(W=F.location),R=R+(U-R)*W;var Y=this.positionToPoint(R);this.positionItem(F,Y),this.toggleVisibility(F,R,0,1)},E.prototype.positionToCoordinate=function(F){var R,U=this.axis,W=U.axisFullLength,Y=this.pixelInnerRadius;return U.renderer.inversed?R=(U.end-F)*W+Y:R=(F-U.start)*W+Y,round$2(R,1)},E.prototype.pointToPosition=function(F){var R=getDistance(F)-this.pixelInnerRadius;return this.coordinateToPosition(R)},Object.defineProperty(E.prototype,"chart",{get:function(){return this._chart.get()},set:function(F){this._chart.set(F,null)},enumerable:!0,configurable:!0}),E}(AxisRendererY);registry.registeredClasses.AxisRendererRadial=AxisRendererRadial;var RadarChartDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="RadarChartDataItem",F.applyTheme(),F}return E}(XYChartDataItem),RadarChart=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._axisRendererX=AxisRendererCircular,F._axisRendererY=AxisRendererRadial,F.innerRadiusModifyer=1,F.mr=1,F.className="RadarChart",F.startAngle=-90,F.endAngle=270,F.radius=percent(80),F.innerRadius=0;var R=F.plotContainer.createChild(Container);return R.shouldClone=!1,R.layout="absolute",R.align="center",R.valign="middle",F.seriesContainer.parent=R,F.radarContainer=R,F.bulletsContainer.parent=R,F.axisBulletsContainer=R,F._cursorContainer=R,F.chartContainer.events.on("maxsizechanged",F.invalidate,F,!1),F._bulletMask=R.createChild(Circle),F._bulletMask.shouldClone=!1,F._bulletMask.element=F.paper.add("path"),F._bulletMask.opacity=0,F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},E.prototype.processAxis=function(F){V.prototype.processAxis.call(this,F);var R=F.renderer;R.gridContainer.parent=R,R.breakContainer.parent=R,F.parent=this.radarContainer,R.toBack()},E.prototype.handleXAxisRangeChange=function(){V.prototype.handleXAxisRangeChange.call(this),each(this.yAxes.iterator(),function(F){F.invalidate()})},E.prototype.handleYAxisRangeChange=function(){V.prototype.handleYAxisRangeChange.call(this),each(this.xAxes.iterator(),function(F){F.invalidate()})},E.prototype.processConfig=function(F){if(F&&(hasValue(F.cursor)&&!hasValue(F.cursor.type)&&(F.cursor.type="RadarCursor"),hasValue(F.series)&&isArray$2(F.series)))for(var R=0,U=F.series.length;R<U;R++)F.series[R].type=F.series[R].type||"RadarSeries";V.prototype.processConfig.call(this,F)},E.prototype.beforeDraw=function(){V.prototype.beforeDraw.call(this);var F=this.plotContainer,R=getArcRect(this.startAngle,this.endAngle,1),U={x:0,y:0,width:0,height:0},W=F.innerWidth/R.width,Y=F.innerHeight/R.height,G=this.innerRadius;if(G instanceof Percent){var X=G.value,K=Math.min(W,Y);this.mr=K,X=Math.max(K*X,K-Math.min(F.innerHeight,F.innerWidth))/K,U=getArcRect(this.startAngle,this.endAngle,X),this.innerRadiusModifyer=X/G.value,G=percent(X*100)}R=getCommonRectangle([R,U]);var Z=Math.min(F.innerWidth/R.width,F.innerHeight/R.height),J=relativeRadiusToValue(this.radius,Z)*2||0,Q=J/2,ee=this.startAngle,te=this.endAngle;this._pixelInnerRadius=relativeRadiusToValue(G,Q),this._bulletMask.path=arc(ee,te-ee,Q,this._pixelInnerRadius),each(this.xAxes.iterator(),function(re){re.renderer.useChartAngles&&(re.renderer.startAngle=ee,re.renderer.endAngle=te),re.width=J,re.height=J,re.renderer.pixelRadiusReal=Q}),each(this.yAxes.iterator(),function(re){re.renderer.startAngle=ee,re.renderer.endAngle=te,re.width=J,re.height=J,re.renderer.pixelRadiusReal=Q});var ie=this.cursor;ie&&(ie.width=J,ie.height=J,ie.startAngle=ee,ie.endAngle=te),this.radarContainer.definedBBox={x:Q*R.x,y:Q*R.y,width:Q*R.width,height:Q*R.height},this.radarContainer.validatePosition()},E.prototype.createSeries=function(){return new RadarSeries},Object.defineProperty(E.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(F){this.setPropertyValue("startAngle",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(F){this.setPropertyValue("endAngle",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),E.prototype.updateXAxis=function(F){F&&F.processRenderer()},E.prototype.updateYAxis=function(F){F&&F.processRenderer()},E}(XYChart);registry.registeredClasses.RadarChart=RadarChart;var ClockHand=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._axis=new MutableValueDisposer,F.className="ClockHand";var R=new InterfaceColorSet;F.fill=R.getFor("alternativeBackground"),F.stroke=F.fill;var U=new Circle;U.radius=5,F.pin=U,F.isMeasured=!1,F.startWidth=5,F.endWidth=1,F.width=percent(100),F.height=percent(100),F.radius=percent(100),F.innerRadius=percent(0);var W=new Trapezoid;return F.hand=W,F._disposers.push(F._axis),F.applyTheme(),F}return E.prototype.validate=function(){V.prototype.validate.call(this);var F=this.hand;F.width=this.pixelWidth;var R=Math.max(this.startWidth,this.endWidth);if(F.height=R,F.leftSide=percent(this.startWidth/R*100),F.rightSide=percent(this.endWidth/R*100),this.axis){var U=this.axis.renderer,W=relativeRadiusToValue(this.innerRadius,U.pixelRadius),Y=relativeRadiusToValue(this.radius,U.pixelRadius);F.x=W,F.y=-R/2,F.width=Y-W}},Object.defineProperty(E.prototype,"pin",{get:function(){return this._pin},set:function(F){this._pin&&this.removeDispose(this._pin),F&&(this._pin=F,F.parent=this,this._disposers.push(F))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hand",{get:function(){return this._hand},set:function(F){this._hand&&this.removeDispose(this._hand),F&&(this._hand=F,F.parent=this,this._disposers.push(F))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(F){this.setPropertyValue("startWidth",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(F){this.setPropertyValue("endWidth",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(F){this.setPropertyValue("rotationDirection",F)},enumerable:!0,configurable:!0}),E.prototype.showValue=function(F,R,U){if(this._value=F,F!=null&&(isNumber$1(R)||(R=0),this.axis)){var W=this.axis.renderer,Y=W.positionToAngle(this.axis.anyToPosition(F)),G=this.rotation;this.rotationDirection=="clockWise"&&Y<G&&(this.rotation=G-360),this.rotationDirection=="counterClockWise"&&Y>G&&(this.rotation=G+360),this.animate({property:"rotation",to:Y},R,U)}},Object.defineProperty(E.prototype,"currentPosition",{get:function(){if(this.axis){var F=this.axis.renderer;return F.angleToPosition(this.rotation)}},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"value",{get:function(){return this._value},set:function(F){this.showValue(F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"axis",{get:function(){return this._axis.get()},set:function(F){if(this.axis!=F&&this._axis.set(F,new MultiDisposer([F.events.on("datavalidated",this.updateValue,this,!1),F.events.on("datarangechanged",this.updateValue,this,!1),F.events.on("dataitemsvalidated",this.updateValue,this,!1),F.events.on("propertychanged",this.invalidate,this,!1)])),F){var R=F.chart;R&&(this.rotation=R.startAngle)}this.parent=F.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),E.prototype.updateValue=function(){this.value=this.value},E.prototype.processConfig=function(F){F&&hasValue(F.axis)&&isString$2(F.axis)&&this.map.hasKey(F.axis)&&(F.axis=this.map.getKey(F.axis)),V.prototype.processConfig.call(this,F)},E}(Container);registry.registeredClasses.ClockHand=ClockHand;(function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="GaugeChartDataItem",F.applyTheme(),F}return E})(RadarChartDataItem);var GaugeChart=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="GaugeChart",F.startAngle=180,F.endAngle=360,F.hands=new ListTemplate(new ClockHand),F.hands.events.on("inserted",F.processHand,F,!1),F._disposers.push(new ListDisposer(F.hands)),F._disposers.push(F.hands.template),F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},E.prototype.processHand=function(F){var R=F.newValue;R.axis||(R.axis=this.xAxes.getIndex(0))},E.prototype.configOrder=function(F,R){return F==R?0:F=="hands"?1:R=="hands"?-1:V.prototype.configOrder.call(this,F,R)},E}(RadarChart);registry.registeredClasses.GaugeChart=GaugeChart;var PercentSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PercentSeriesDataItem",F.applyTheme(),F}return E.prototype.uidAttr=function(){return this.slice.uidAttr()},E.prototype.hide=function(F,R,U,W){return W||(W=["value"]),V.prototype.hide.call(this,F,R,0,W)},E.prototype.setVisibility=function(F,R){R||(F?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),V.prototype.setVisibility.call(this,F,R)},E.prototype.show=function(F,R,U){return U||(U=["value"]),V.prototype.show.call(this,F,R,U)},Object.defineProperty(E.prototype,"category",{get:function(){return this.properties.category},set:function(F){this.setProperty("category",F)},enumerable:!0,configurable:!0}),E.prototype.createLegendMarker=function(F){this.component.createLegendMarker(F,this)},Object.defineProperty(E.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(F){this._legendDataItem=F,F.label&&(F.label.dataItem=this),F.valueLabel&&(F.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tick",{get:function(){var F=this;if(!this._tick){var R=this.component.ticks.create();this._tick=R,this.addSprite(R),this._disposers.push(R),R.parent=this.component.ticksContainer,this._disposers.push(new Disposer(function(){F.component&&F.component.ticks.removeValue(R)})),R.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"label",{get:function(){var F=this;if(!this._label){var R=this.component.labels.create();this.addSprite(R),this._label=R,this._disposers.push(R),R.parent=this.component.labelsContainer,this._disposers.push(new Disposer(function(){F.component&&F.component.labels.removeValue(R)})),R.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"slice",{get:function(){var F=this;if(!this._slice){var R=this.component,U=R.slices.create();this.addSprite(U),this._slice=U,this._disposers.push(U),U.parent=R.slicesContainer,this._disposers.push(new Disposer(function(){R.slices.removeValue(U)})),U.visible=this.visible,R.itemsFocusable()?(hasValue(this.component.role)||(this.component.role="menu"),hasValue(U.role)||(U.role="menuitem"),U.focusable=!0):(hasValue(this.component.role)||(this.component.role="list"),hasValue(U.role)||(U.role="listitem"),U.focusable=!1),U.focusable&&(U.events.on("focus",function(W){U.readerTitle=R.populateString(R.itemReaderText,F)},void 0,!1),U.events.on("blur",function(W){U.readerTitle=""},void 0,!1)),U.hoverable&&(U.events.on("over",function(W){U.readerTitle=R.populateString(R.itemReaderText,F)},void 0,!1),U.events.on("out",function(W){U.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(F){this.setProperty("hiddenInLegend",F)},enumerable:!0,configurable:!0}),E}(SeriesDataItem),PercentSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="PercentSeries",F._addAllDataItems=!1,F.colors=new ColorSet,F.colors.step=1,F.isMeasured=!0,F.calculatePercent=!0;var R=F.createChild(Container);R.shouldClone=!1,R.isMeasured=!1,F.slicesContainer=R;var U=F.createChild(Container);U.shouldClone=!1,U.isMeasured=!1,U.layout="none",F.ticksContainer=U;var W=F.createChild(Container);W.shouldClone=!1,W.isMeasured=!1,W.layout="none",F.labelsContainer=W,F.alignLabels=!1,F.bulletsContainer.toFront(),F.skipFocusThreshold=50;var Y=F.defaultState;return Y.transitionEasing=sinOut,F.itemReaderText="{category}: {value.percent.formatNumber('#.#p')}",F.applyTheme(),F}return E.prototype.createSlice=function(){return new Sprite},E.prototype.createTick=function(){return new Tick},E.prototype.createLabel=function(){return new Label},Object.defineProperty(E.prototype,"slices",{get:function(){if(!this._slices){var F=this.createSlice();F.applyOnClones=!0,this._disposers.push(F),this.initSlice(F),this._slices=new ListTemplate(F),this._disposers.push(new ListDisposer(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"ticks",{get:function(){if(!this._ticks){var F=this.createTick();F.applyOnClones=!0,this._disposers.push(F),this.initTick(F),this._ticks=new ListTemplate(F),this._disposers.push(new ListDisposer(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"labels",{get:function(){if(!this._labels){var F=this.createLabel();F.applyOnClones=!0,this._disposers.push(F),this.initLabel(F),this._labels=new ListTemplate(F),this._disposers.push(new ListDisposer(this._labels))}return this._labels},enumerable:!0,configurable:!0}),E.prototype.createDataItem=function(){return new PercentSeriesDataItem},E.prototype.initSlice=function(F){},E.prototype.initLabel=function(F){F.text="{category}: {value.percent.formatNumber('#.0p')}",F.isMeasured=!1,F.padding(5,5,5,5)},E.prototype.initTick=function(F){},E.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),V.prototype.validateDataItems.call(this)},E.prototype.validateDataElement=function(F){var R=F.slice;R&&(R.fill==null?this.patterns?(hasValue(R.stroke)||(R.stroke=this.colors.next()),R.fill=this.patterns.next(),hasValue(R.fillOpacity)&&(R.fill.backgroundOpacity=R.fillOpacity),R.stroke instanceof Color&&(R.fill.stroke=R.stroke,R.fill.fill=R.stroke)):R.fill=this.colors.next():this.colors.currentStep+=this.colors.step,R.stroke==null&&(R.stroke=R.fill)),V.prototype.validateDataElement.call(this,F),R&&F.bullets.each(function(U,W){W.fill==null&&(W.fill=R.fill),W.stroke==null&&(W.stroke=R.stroke)}),this.updateLegendValue(F)},E.prototype.validateData=function(){V.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},E.prototype.arrangeLabels=function(F){for(var R=0,U=F.length;R<U;R++){var W=F[R],Y=W.label;if(Y){Y.invalid&&Y.validate();var G=Y.measuredHeight;Y.visible||(G=0),Y.pixelY-G/2<-this.maxHeight/2&&(Y.y=-this.maxHeight/2+G/2);var X=this.getNextLabel(R+1,F),K=Y.pixelY+G/2;if(X){X.invalid&&X.validate();var Z=X.measuredHeight;X.visible||(Z=0);var J=X.pixelY;J==null&&(J=0),J-Z/2<K&&(X.y=K+Z/2)}}}},E.prototype.arrangeLabels2=function(F){for(var R=this.maxHeight/2,U=F.length-1;U>=0;U--){var W=F[U],Y=W.label;if(Y){Y.invalid&&Y.validate();var G=Y.measuredHeight;Y.visible||(G=0),Y.pixelY+G/2>R&&(Y.y=R-G/2,R=Y.y-G/2)}}},E.prototype.getNextLabel=function(F,R){if(R.length>=F){var U=R[F];if(U)return U.label?U.visible?U.label:this.getNextLabel(F+1,R):this.getNextLabel(F+1,R)}},Object.defineProperty(E.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(F){this.setPropertyValue("colors",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(F){this.setPropertyValue("patterns",F,!0)},enumerable:!0,configurable:!0}),E.prototype.createLegendMarker=function(F,R){each(F.children.iterator(),function(U){var W=R.slice;U.defaultState.properties.fill=W.fill,U.defaultState.properties.stroke=W.stroke,U.defaultState.properties.fillOpacity=W.fillOpacity,U.defaultState.properties.strokeOpacity=W.strokeOpacity,U.fill=W.fill,U.stroke=W.stroke,U.fillOpacity=W.fillOpacity,U.strokeOpacity=W.strokeOpacity,U.fill==null&&(U.__disabled=!0);var Y=F.dataItem;Y.color=W.fill,Y.colorOrig=W.fill,U.addDisposer(W.events.on("propertychanged",function(G){G.property=="fill"&&(U.__disabled=!1,U.isActive||(U.fill=W.fill),U.defaultState.properties.fill=W.fill,Y.color=W.fill,Y.colorOrig=W.fill),G.property=="stroke"&&(U.isActive||(U.stroke=W.stroke),U.defaultState.properties.stroke=W.stroke),G.property=="strokeOpacity"&&(U.isActive||(U.strokeOpacity=W.strokeOpacity),U.defaultState.properties.strokeOpacity=W.strokeOpacity)},void 0,!1))})},E.prototype.handleSliceScale=function(F){var R=this,U=F.target,W=U.dataItem;W&&W.bullets&&each(W.bullets.iterator(),function(Y){var G=Y[1];R.positionBullet(G)})},E.prototype.handleSliceMove=function(F){},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.slices.template.copyFrom(F.slices.template),this.labels.template.copyFrom(F.labels.template),this.ticks.template.copyFrom(F.ticks.template),this.colors=F.colors.clone()},Object.defineProperty(E.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(F){this.setAlignLabels(F)},enumerable:!0,configurable:!0}),E.prototype.setAlignLabels=function(F){this.setPropertyValue("alignLabels",F,!0)},Object.defineProperty(E.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(F){this.setPropertyValue("ignoreZeroValues",F,!0)},enumerable:!0,configurable:!0}),E.prototype.updateLegendValue=function(F){if(F){var R=F.legendDataItem,U=F.legendSettings;R&&U&&U&&(U.labelText&&(R.label.text=U.labelText),U.itemLabelText&&(R.label.text=U.itemLabelText),U.valueText&&(R.valueLabel.text=U.valueText),U.itemValueText&&(R.valueLabel.text=U.itemValueText))}},E}(Series);registry.registeredClasses.PercentSeries=PercentSeries;registry.registeredClasses.PercentSeriesDataItem=PercentSeriesDataItem;defaultRules.push({relevant:ResponsiveBreakpoints.maybeXS,state:function(V,E){if(V instanceof PercentSeries){var F=V.states.create(E),R=V.labels.template.states.create(E);R.properties.disabled=!0;var U=V.ticks.template.states.create(E);return U.properties.disabled=!0,F}return null}});var PercentChartDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PercentChartDataItem",F.applyTheme(),F}return E}(SerialChartDataItem),PercentChart=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PercentChart",F.align="none",F.valign="none",F.chartContainer.minHeight=50,F.chartContainer.minWidth=50,F.applyTheme(),F}return E.prototype.validateData=function(){V.prototype.validateData.call(this),this.feedLegend()},E.prototype.feedLegend=function(){var F=this.legend;if(F){var R=[];each(this.series.iterator(),function(U){U.hiddenInLegend||each(U.dataItems.iterator(),function(W){W.hiddenInLegend||(R.push(W),W.legendSettings||(W.legendSettings=U.legendSettings))})}),F.data=R,F.dataFields.name="category"}},E.prototype.createSeries=function(){return new PercentSeries},E.prototype.setLegend=function(F){V.prototype.setLegend.call(this,F),F&&(F.labels.template.text="{category}",F.valueLabels.template.text="{value.percent.formatNumber('#.0p')}",F.itemContainers.template.events.on("over",function(R){var U=R.target.dataItem.dataContext;if(U.visible&&!U.isHiding){var W=U.slice;W.dispatchImmediately("over"),W.isHover=!0,W.interactions.isRealHover=!0}}),F.itemContainers.template.events.on("out",function(R){var U=R.target.dataItem.dataContext,W=U.slice;W.dispatchImmediately("out"),W.isHover=!1}))},E}(SerialChart);registry.registeredClasses.PercentChart=PercentChart;registry.registeredClasses.PercentChartDataItem=PercentChartDataItem;var PieTick=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._label=new MutableValueDisposer,F._slice=new MutableValueDisposer,F.className="PieTick",F.element=F.paper.add("polyline"),F._disposers.push(F._label),F._disposers.push(F._slice),F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.slice,R=this.label,U=F.dataItem.component;if(F&&F.radius>0&&R&&R.text){var W=F.dx+F.slice.dx+F.pixelX+F.ix*F.radius*F.scale,Y=F.dy+F.slice.dy+F.pixelY+F.iy*F.radiusY*F.scale,G=void 0,X=void 0,K=void 0,Z=void 0;if(U.alignLabels)G=R.pixelX-this.length,X=R.pixelY,K=R.pixelX,Z=X,R.horizontalCenter=="right"&&(G+=2*this.length,K=G-this.length);else{var J=R.pixelRadius(F.radius);G=W+J*F.ix,X=Y+J*F.iy,K=G,Z=X}this.element.attr({points:[W,Y,G,X,K,Z]})}},Object.defineProperty(E.prototype,"slice",{get:function(){return this._slice.get()},set:function(F){this._slice.set(F,new MultiDisposer([F.events.on("transformed",this.invalidate,this),F.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"label",{get:function(){return this._label.get()},set:function(F){this._label.set(F,F.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),E}(Tick);registry.registeredClasses.PieTick=PieTick;var PieSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PieSeriesDataItem",F.values.radiusValue={},F.applyTheme(),F}return Object.defineProperty(E.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(F){this.setValue("radiusValue",F)},enumerable:!0,configurable:!0}),E.prototype.hide=function(F,R,U,W){return V.prototype.hide.call(this,F,R,0,["value","radiusValue"])},E.prototype.show=function(F,R,U){return V.prototype.show.call(this,F,R,["value","radiusValue"])},E}(PercentSeriesDataItem),PieSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PieSeries",F.alignLabels=!0,F.layout="none",F.labels.template.radius=percent(5),F.addDisposer(F.labels.template.events.on("enabled",F.invalidate,F,!1)),F.applyTheme(),F}return E.prototype.createSlice=function(){return new Slice},E.prototype.createTick=function(){return new PieTick},E.prototype.createLabel=function(){return new AxisLabelCircular},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},E.prototype.createDataItem=function(){return new PieSeriesDataItem},E.prototype.initSlice=function(F){F.isMeasured=!1,F.defaultState.properties.scale=1,F.observe("scale",this.handleSliceScale,this),F.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),F.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var R=F.states.create("hover");R.properties.scale=1.05;var U=F.defaultState;U.properties.shiftRadius=0,F.togglable=!0,F.events.on("toggled",function(Y){Y.target.hideTooltip(),Y.target.interactions.lastHitPointer&&Y.target.interactions.lastHitPointer.touch&&!Y.target.isActive&&(Y.target.isHover=!1)});var W=F.states.create("active");W.properties.shiftRadius=.1},E.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=getArcRect(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var F=this.startIndex;F<this.endIndex;F++){var R=this.dataItems.getIndex(F),U=R.values.radiusValue.percent;U>this._maxRadiusPercent&&(this._maxRadiusPercent=U)}V.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(W,Y){var G=(W.slice.middleAngle+360)%360,X=(Y.slice.middleAngle+360)%360;return G>270&&(G-=360),X>270&&(X-=360),G<X?-1:G>X?1:0}),this._leftItems.sort(function(W,Y){var G=(W.slice.middleAngle+360)%360,X=(Y.slice.middleAngle+360)%360;return G<X?1:G>X?-1:0}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},E.prototype.validateDataElement=function(F){if(this.pixelRadius>0){this.ignoreZeroValues&&(F.value==0||F.value==null)?F.__disabled=!0:F.__disabled=!1;var R=F.slice;if(R.radius=this.pixelRadius,isNumber$1(F.radiusValue)&&(R.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*F.values.radiusValue.percent/this._maxRadiusPercent),R.innerRadius instanceof Percent||(R.innerRadius=this.pixelInnerRadius),R.startAngle=this._currentStartAngle,R.arc=Math.abs(F.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var U=F.label,W=F.tick;W.slice=R,W.label=U;var Y=(R.middleAngle+360)%360,G=void 0;if(this.alignLabels){var X=U.pixelRadius(R.radius),K=W.length+X;U.dx=0,U.dy=0,U.verticalCenter="middle";var Z=this._arcRect;Y>270||Y<=90?(K+=(Z.width+Z.x)*this.pixelRadius,U.horizontalCenter="left",this._rightItems.push(F)):(K-=Z.x*this.pixelRadius,U.horizontalCenter="right",this._leftItems.push(F),K*=-1);var J=R.radius+W.length+X;G={x:K,y:R.iy*J},U.moveTo(G)}else{var Q=R.depth;isNumber$1(Q)||(Q=0),U.fixPosition(R.middleAngle,R.radius,R.radiusY,0,-Q)}}this._currentStartAngle+=R.arc,V.prototype.validateDataElement.call(this,F)}},Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(F){this._pixelRadius!=F&&(this._pixelRadius=F,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(F){this._pixelInnerRadius!=F&&(this._pixelInnerRadius=F,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startAngle",{get:function(){var F=this.getPropertyValue("startAngle");return isNumber$1(F)?F:this._startAngleInternal},set:function(F){this.setPropertyValue("startAngle",normalizeAngle(F),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endAngle",{get:function(){var F=this.getPropertyValue("endAngle");return isNumber$1(F)?F:this._endAngleInternal},set:function(F){this.setPropertyValue("endAngle",F,!0)},enumerable:!0,configurable:!0}),E.prototype.positionBullet=function(F){V.prototype.positionBullet.call(this,F);var R=F.dataItem,U=R.slice,W=F.locationX;isNumber$1(W)||(W=.5);var Y=F.locationY;isNumber$1(Y)||(Y=1);var G=U.startAngle+U.arc*W;F.x=Y*U.radius*cos(G),F.y=Y*U.radiusY*sin(G)},E.prototype.handleSliceMove=function(F){if(!this.alignLabels){var R=F.target,U=R.dataItem;if(U){var W=U.label;W&&(W.dx=W.fdx+R.dx+R.pixelX,W.dy=W.fdy+R.dy+R.pixelY)}}},Object.defineProperty(E.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var F=this.chart;return F?getArcRect(F.startAngle,F.endAngle,this.pixelRadius):getArcRect(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),E}(PercentSeries);registry.registeredClasses.PieSeries=PieSeries;registry.registeredClasses.PieSeriesDataItem=PieSeriesDataItem;var PieChartDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PieChartDataItem",F.applyTheme(),F}return E}(PercentChartDataItem),PieChart=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="PieChart",F.innerRadius=0,F.radius=percent(80),F.align="none",F.valign="none",F.startAngle=-90,F.endAngle=270;var R=F.seriesContainer;return R.isMeasured=!0,R.valign="middle",R.align="center",R.layout="absolute",R.width=void 0,R.height=void 0,F.chartContainer.minHeight=50,F.chartContainer.minWidth=50,F.chartContainer.events.on("maxsizechanged",F.updateRadius,F,!1),F._disposers.push(F.seriesContainer.events.on("positionchanged",function(){F.bulletsContainer.x=F.seriesContainer.x,F.bulletsContainer.y=F.seriesContainer.y})),F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},E.prototype.validateLayout=function(){V.prototype.validateLayout.call(this),this.updateRadius()},E.prototype.handleSeriesAdded=function(F){V.prototype.handleSeriesAdded.call(this,F),this._chartPixelRadius=void 0,this.updateSeriesAngles()},E.prototype.updateSeriesAngles=function(){var F=this;this.series.each(function(R){R._startAngleInternal=F.startAngle,R._endAngleInternal=F.endAngle})},E.prototype.updateRadius=function(){var F=this.chartContainer,R=getArcRect(this.startAngle,this.endAngle,1),U={x:0,y:0,width:0,height:0},W=this.innerRadius;W instanceof Percent&&(U=getArcRect(this.startAngle,this.endAngle,W.value)),R=getCommonRectangle([R,U]);var Y=Math.min(F.innerWidth/R.width,F.innerHeight/R.height);isNumber$1(Y)||(Y=0);var G=relativeRadiusToValue(this.radius,Y),X=relativeRadiusToValue(this.innerRadius,Y),K=(G-X)/this.series.length;(G!=this._chartPixelRadius||X!=this._chartPixelInnerRadius)&&(this._chartPixelRadius=G,this._chartPixelInnerRadius=X,each(indexed(this.series.iterator()),function(Z){var J=Z[0],Q=Z[1],ee=X+relativeRadiusToValue(Q.radius,G-X),te=X+relativeRadiusToValue(Q.innerRadius,G-X);isNumber$1(ee)||(ee=X+K*(J+1)),isNumber$1(te)||(te=X+K*J),Q.pixelRadius=ee,Q.pixelInnerRadius=te}),this.seriesContainer.definedBBox={x:G*R.x,y:G*R.y,width:G*R.width,height:G*R.height},this.seriesContainer.invalidateLayout())},Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),E.prototype.createSeries=function(){return new PieSeries},Object.defineProperty(E.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(F){this.setPropertyValue("startAngle",F)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(F){this.setPropertyValue("endAngle",F)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),E}(PercentChart);registry.registeredClasses.PieChart=PieChart;registry.registeredClasses.PieChartDataItem=PieChartDataItem;var PieSeries3DDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PieSeries3DDataItem",F.values.depthValue={},F.applyTheme(),F}return Object.defineProperty(E.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(F){this.setValue("depthValue",F)},enumerable:!0,configurable:!0}),E}(PieSeriesDataItem),PieSeries3D=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PieSeries3D",F.applyTheme(),F}return E.prototype.createDataItem=function(){return new PieSeries3DDataItem},E.prototype.createSlice=function(){return new Slice3D},E.prototype.validateDataElement=function(F){var R=F.slice,U=this.depth;isNumber$1(U)||(U=this.chart.depth);var W=F.values.depthValue.percent;isNumber$1(W)||(W=100),R.depth=W*U/100;var Y=this.angle;isNumber$1(Y)||(Y=this.chart.angle),R.angle=Y,V.prototype.validateDataElement.call(this,F)},E.prototype.validate=function(){V.prototype.validate.call(this);for(var F=this._workingStartIndex;F<this._workingEndIndex;F++){var R=this.dataItems.getIndex(F),U=R.slice,W=U.startAngle;W>=-90&&W<90?U.toFront():W>=90&&U.toBack()}},Object.defineProperty(E.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(F){this.setPropertyValue("depth",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(F){this.setPropertyValue("angle",F)},enumerable:!0,configurable:!0}),E.prototype.positionBullet=function(F){V.prototype.positionBullet.call(this,F);var R=F.dataItem,U=R.slice;F.y=F.pixelY-U.depth},E}(PieSeries);registry.registeredClasses.PieSeries3D=PieSeries3D;registry.registeredClasses.PieSeries3DDataItem=PieSeries3DDataItem;(function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PieChart3DDataItem",F.applyTheme(),F}return E})(PieChartDataItem);var PieChart3D=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PieChart3D",F.depth=20,F.angle=10,F.applyTheme(),F}return Object.defineProperty(E.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(F){this.setPropertyValue("depth",F)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(F){F=fitToRange(F,0,90),this.setPropertyValue("angle",F)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),E.prototype.createSeries=function(){return new PieSeries3D},E}(PieChart);registry.registeredClasses.PieChart3D=PieChart3D;var SlicedChartDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="SlicedChartDataItem",F.applyTheme(),F}return E}(PercentChartDataItem),SlicedChart=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="SlicedChart",F.seriesContainer.layout="horizontal",F.padding(15,15,15,15),F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},E.prototype.validate=function(){V.prototype.validate.call(this)},E}(PercentChart);registry.registeredClasses.SlicedChart=SlicedChart;registry.registeredClasses.SlicedChartDataItem=SlicedChartDataItem;var FlowDiagramNode=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.legendSettings=new LegendSettings,F.className="FlowDiagramNode",F.isMeasured=!1,new InterfaceColorSet,F.draggable=!0,F.inert=!0,F.setStateOnChildren=!0,F.events.on("positionchanged",F.invalidateLinks,F,!1),F.events.on("sizechanged",F.invalidateLinks,F,!1),F}return E.prototype.handleHit=function(F){this.isHidden||this.isHiding?this.show():this.hide()},E.prototype.show=function(F){var R=V.prototype.show.call(this,F);return this.outgoingDataItems.each(function(U){(!U.toNode||U.toNode&&!U.toNode.isHidden)&&(U.setWorkingValue("value",U.getValue("value"),F),U.link.show())}),this.incomingDataItems.each(function(U){(!U.fromNode||U.fromNode&&!U.fromNode.isHidden)&&(U.setWorkingValue("value",U.getValue("value"),F),U.link.show())}),R},E.prototype.hide=function(F){var R=V.prototype.hide.call(this,F);return this.outgoingDataItems.each(function(U){U.setWorkingValue("value",0,F),U.link.hide()}),this.incomingDataItems.each(function(U){U.setWorkingValue("value",0,F),U.link.hide()}),R},E.prototype.validate=function(){this.isDisposed()||(V.prototype.validate.call(this),this.invalidateLinks())},E.prototype.invalidateLinks=function(){var F=this;this.outgoingDataItems.each(function(R){var U=R.link;if(U.colorMode=="fromNode"&&(U.fill=U.dataItem.fromNode.color),U.colorMode=="gradient"){U.fill=U.gradient,U.stroke=U.gradient;var W=U.gradient.stops.getIndex(0);W&&(W.color=F.color,U.gradient.validate())}}),this.incomingDataItems.each(function(R){var U=R.link;if(U.colorMode=="toNode"&&(U.fill=U.dataItem.toNode.color),U.colorMode=="gradient"){U.fill=U.gradient,U.stroke=U.gradient;var W=U.gradient.stops.getIndex(1);W&&(W.color=F.color,U.gradient.validate())}})},Object.defineProperty(E.prototype,"incomingDataItems",{get:function(){var F=this;if(!this._incomingDataItems){var R=new List;R.events.on("inserted",function(){F.chart.sortBy=="name"?F._incomingSorted=sort(F._incomingDataItems.iterator(),function(U,W){return order$1(U.fromName,W.fromName)}):F.chart.sortBy=="value"?F._incomingSorted=sort(F._incomingDataItems.iterator(),function(U,W){return reverse(order(U.value,W.value))}):F._incomingSorted=F._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=R}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"outgoingDataItems",{get:function(){var F=this;if(!this._outgoingDataItems){var R=new List;R.events.on("inserted",function(){F.chart.sortBy=="name"?F._outgoingSorted=sort(F._outgoingDataItems.iterator(),function(U,W){return order$1(U.fromName,W.fromName)}):F.chart.sortBy=="value"?F._outgoingSorted=sort(F._outgoingDataItems.iterator(),function(U,W){return reverse(order(U.value,W.value))}):F._outgoingSorted=F._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=R}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(F){this.setPropertyValue("name",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(F){this.setPropertyValue("total",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(F){this.setPropertyValue("totalIncoming",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(F){this.setPropertyValue("totalOutgoing",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(F){this.setColorProperty("color",F),this._background&&(this._background.fill=F),this.fill=F},enumerable:!0,configurable:!0}),E.prototype.createLegendMarker=function(F){var R=F.pixelWidth,U=F.pixelHeight;F.removeChildren();var W=F.createChild(RoundedRectangle);W.shouldClone=!1,copyProperties$1(this,W,visualProperties),W.stroke=this.fill,W.copyFrom(this),W.padding(0,0,0,0),W.width=R,W.height=U;var Y=F.dataItem;Y.color=W.fill,Y.colorOrig=W.fill},Object.defineProperty(E.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(F){this._legendDataItem=F,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),E}(Container);registry.registeredClasses.FlowDiagramNode=FlowDiagramNode;var FlowDiagramLink=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="FlowDiagramLink";var R=new InterfaceColorSet;return F.maskBullets=!1,F.colorMode="fromNode",F.layout="none",F.isMeasured=!1,F.startAngle=0,F.endAngle=0,F.strokeOpacity=0,F.verticalCenter="none",F.horizontalCenter="none",F.tooltipText="{fromName}\u2192{toName}:{value.value}",F.tooltipLocation=.5,F.link=F.createChild(Sprite),F.link.shouldClone=!1,F.link.setElement(F.paper.add("path")),F.link.isMeasured=!1,F.fillOpacity=.2,F.fill=R.getFor("alternativeBackground"),F.applyTheme(),F}return E.prototype.positionBullets=function(){var F=this;each(this.bullets.iterator(),function(R){R.parent=F.bulletsContainer,R.maxWidth=F.maxWidth,R.maxHeight=F.maxHeight,F.positionBullet(R)})},Object.defineProperty(E.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var F=this.createChild(Container);F.shouldClone=!1,F.layout="none",this._bulletsContainer=F}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var F=this.createChild(Sprite);F.shouldClone=!1,F.setElement(this.paper.add("path")),F.isMeasured=!1,this._bulletsMask=F}return this._bulletsMask},enumerable:!0,configurable:!0}),E.prototype.positionBullet=function(F){var R=F.locationX;isNumber$1(R)||(R=F.locationY),isNumber$1(R)||(R=.5);var U=this.middleLine.positionToPoint(R);F.moveTo(U);var W=F.propertyFields.rotation,Y;if(F.dataItem){var G=F.dataItem.dataContext;Y=G[W]}isNumber$1(Y)||(Y=U.angle),F.rotation=Y},Object.defineProperty(E.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(F){this.setPropertyValue("startAngle",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(F){this.setPropertyValue("endAngle",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(F){if(F=="gradient"){var R=this.fill;this.gradient.stops.clear(),R instanceof Color&&(this.gradient.addColor(R),this.gradient.addColor(R)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(F){this.setPropertyValue("maskBullets",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(F){this.setPropertyValue("tooltipLocation",F,!0)},enumerable:!0,configurable:!0}),E.prototype.setFill=function(F){V.prototype.setFill.call(this,F);var R=this._gradient;R&&F instanceof Color&&(R.stops.clear(),R.addColor(F),R.addColor(F))},E.prototype.measureElement=function(){},Object.defineProperty(E.prototype,"bullets",{get:function(){var F=this;return this._bullets||(this._bullets=new ListTemplate(new Bullet),this._disposers.push(new ListDisposer(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(R){R.newValue.events.on("propertychanged",function(U){(U.property=="locationX"||U.property=="locationY")&&F.positionBullet(U.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.bullets.copyFrom(F.bullets);var R=this.middleLine;R&&(R instanceof Line&&F.middleLine instanceof Line&&R.copyFrom(F.middleLine),R instanceof Polyline&&F.middleLine instanceof Polyline&&R.copyFrom(F.middleLine)),this.link.copyFrom(F.link)},E.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},E.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(E.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new LinearGradient),this._gradient},enumerable:!0,configurable:!0}),E}(Container);registry.registeredClasses.FlowDiagramLink=FlowDiagramLink;var FlowDiagramDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="FlowDiagramDataItem",F.values.value={},F.applyTheme(),F}return Object.defineProperty(E.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(F){this.setProperty("fromName",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"toName",{get:function(){return this.properties.toName},set:function(F){this.setProperty("toName",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"color",{get:function(){return this.properties.color},set:function(F){this.setProperty("color",toColor(F))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"value",{get:function(){return this.values.value.value},set:function(F){this.setValue("value",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"link",{get:function(){var F=this;if(!this._link){var R=this.component.links.create();this._link=R,this.addSprite(R),this._disposers.push(new Disposer(function(){F.component&&F.component.links.removeValue(R)}))}return this._link},enumerable:!0,configurable:!0}),E}(ChartDataItem),FlowDiagram=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.colors=new ColorSet,F.className="FlowDiagram",F.nodePadding=20,F.sortBy="none",F.sequencedInterpolation=!0,F.colors.step=2,F.minNodeSize=.02;var R=F.chartContainer.createChild(Container);R.shouldClone=!1,R.layout="none",R.isMeasured=!1,F.linksContainer=R;var U=F.chartContainer.createChild(Container);return U.shouldClone=!1,U.layout="none",U.isMeasured=!1,F.nodesContainer=U,F.dataItem=F.createDataItem(),F.dataItem.component=F,F.applyTheme(),F}return E.prototype.dispose=function(){V.prototype.dispose.call(this),this.dataItem.dispose()},E.prototype.validateData=function(){var F=this;this._parseDataFrom==0&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),V.prototype.validateData.call(this);var R=0,U=0,W,Y;each(this.dataItems.iterator(),function(X){var K=X.fromName;if(K){var Z=F.nodes.getKey(K);Z||(Z=F.nodes.create(K),Z.name=K,Z.chart=F,Z.dataItem=X),X.fromNode=Z,X.fromNode.outgoingDataItems.push(X)}var J=X.toName;if(J){var Z=F.nodes.getKey(J);Z||(Z=F.nodes.create(J),Z.name=J,Z.chart=F,Z.dataItem=X),X.toNode=Z,X.toNode.incomingDataItems.push(X)}if(!X.fromNode){var Q=new LinearGradientModifier;Q.opacities=[0,1],X.link.strokeModifier=Q}if(!X.toNode){var ee=new LinearGradientModifier;ee.opacities=[1,0],X.link.strokeModifier=ee}var te=X.value;isNumber$1(te)&&(R+=te,U++,(W>te||!isNumber$1(W))&&(W=te),(Y<te||!isNumber$1(Y))&&(Y=te))});var G="value";this.dataItem.setCalculatedValue(G,Y,"high"),this.dataItem.setCalculatedValue(G,W,"low"),this.dataItem.setCalculatedValue(G,R,"sum"),this.dataItem.setCalculatedValue(G,R/U,"average"),this.dataItem.setCalculatedValue(G,U,"count"),each(this.nodes.iterator(),function(X){var K=X[1];K.fill instanceof Color&&(K.color=K.fill),K.color==null&&(K.color=F.colors.next()),K.dataItem.color!=null&&(K.color=K.dataItem.color),K.dataItem.visible||K.hide(0),F.getNodeValue(K)}),this.sortNodes(),this.feedLegend()},E.prototype.handleDataItemWorkingValueChange=function(F,R){this.invalidate()},E.prototype.sortNodes=function(){this.sortBy=="name"?this._sorted=this.nodes.sortedIterator():this.sortBy=="value"?this._sorted=sort(this.nodes.iterator(),function(F,R){return reverse(order(F[1].total,R[1].total))}):this._sorted=this.nodes.iterator()},E.prototype.getNodeValue=function(F){var R=0,U=0;each(F.incomingDataItems.iterator(),function(W){var Y=W.getWorkingValue("value");isNumber$1(Y)&&(R+=Y)}),each(F.outgoingDataItems.iterator(),function(W){var Y=W.getWorkingValue("value");isNumber$1(Y)&&(U+=Y)}),F.total=R+U,F.totalIncoming=R,F.totalOutgoing=U},E.prototype.changeSorting=function(){this.sortNodes()},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},E.prototype.createDataItem=function(){return new FlowDiagramDataItem},Object.defineProperty(E.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(F){this.setPropertyValue("nodePadding",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(F){this.setPropertyValue("sortBy",F),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(F){this.setPropertyValue("minNodeSize",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"nodes",{get:function(){if(!this._nodes){var F=this.createNode();F.events.on("hit",function(R){R.target.handleHit(R)}),this._nodes=new DictionaryTemplate(F),this._disposers.push(new DictionaryDisposer(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),E.prototype.createNode=function(){var F=new FlowDiagramNode;return this._disposers.push(F),F},Object.defineProperty(E.prototype,"links",{get:function(){return this._links||(this._links=new ListTemplate(this.createLink()),this._disposers.push(new ListDisposer(this._links))),this._links},enumerable:!0,configurable:!0}),E.prototype.createLink=function(){var F=new FlowDiagramLink;return this._disposers.push(F),F},E.prototype.feedLegend=function(){var F=this.legend;if(F){var R=[];this.nodes.each(function(U,W){R.push(W)}),F.data=R,F.dataFields.name="name"}},E.prototype.disposeData=function(){V.prototype.disposeData.call(this),this.nodes.clear()},E}(Chart);registry.registeredClasses.FlowDiagram=FlowDiagram;var LabelBullet=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="LabelBullet";var R=F.createChild(Label);return R.shouldClone=!1,R.verticalCenter="middle",R.horizontalCenter="middle",R.truncate=!0,R.hideOversized=!1,R.maxWidth=500,R.maxHeight=500,R.stroke=color(),R.strokeOpacity=0,R.fill=new InterfaceColorSet().getFor("text"),F.events.on("maxsizechanged",F.handleMaxSize,F,!1),F.label=R,F.applyTheme(),F}return E.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.label.copyFrom(F.label)},E}(Bullet);registry.registeredClasses.LabelBullet=LabelBullet;var SankeyNode=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.nextInCoord=0,F.nextOutCoord=0,F.className="SankeyNode",F.width=10,F.height=10;var R=F.createChild(LabelBullet);R.shouldClone=!1,R.locationX=1,R.locationY=.5,R.label.text="{name}",R.width=150,R.height=150,R.label.horizontalCenter="left",R.label.padding(0,5,0,5),F.nameLabel=R;var U=F.createChild(LabelBullet);U.shouldClone=!1,U.label.hideOversized=!1,U.locationX=.5,U.locationY=.5,U.width=150,U.height=150,U.label.horizontalCenter="middle",F.valueLabel=U;var W=F.hiddenState;return W.properties.fill=new InterfaceColorSet().getFor("disabledBackground"),W.properties.opacity=.5,W.properties.visible=!0,F.background.hiddenState.copyFrom(W),F}return E.prototype.invalidateLinks=function(){var F=this;V.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var R=this.chart;if(R){var U=R.orientation;this._incomingSorted&&each(this._incomingSorted,function(W){var Y=W.link,G=W.getWorkingValue("value");if(isNumber$1(G)){Y.parent=F.chart.linksContainer;var X=void 0,K=void 0,Z=void 0;if(U=="horizontal"?(X=F.pixelX+F.dx,K=F.nextInCoord+F.pixelY+F.dy,Z=0):(K=F.pixelY+F.dy,X=F.nextInCoord+F.pixelX+F.dx,Z=90),Y.endX=X,Y.endY=K,Y.startAngle=Z,Y.endAngle=Z,Y.gradient.rotation=Z,Y.linkWidth=G*R.valueHeight,!W.fromNode){U=="horizontal"?(Y.maxWidth=200,Y.startX=F.pixelX+F.dx-Y.maxWidth,Y.startY=Y.endY):(Y.maxHeight=200,Y.startX=Y.endX,Y.startY=F.pixelY+F.dy-Y.maxHeight),Y.gradient,Y.fill=W.toNode.color;var J=Y.gradient.stops.getIndex(0);J&&(Y.colorMode=="gradient"&&(J.color=F.color),J.opacity=0,Y.fill=Y.gradient,Y.stroke=Y.gradient,Y.gradient.validate())}F.nextInCoord+=Y.linkWidth}}),this._outgoingSorted&&each(this._outgoingSorted,function(W){var Y=W.link;Y.parent=F.chart.linksContainer;var G=W.getWorkingValue("value");if(isNumber$1(G)){var X=void 0,K=void 0,Z=void 0;if(U=="horizontal"?(Z=0,X=F.pixelX+F.pixelWidth+F.dx-1,K=F.nextOutCoord+F.pixelY+F.dy):(Z=90,X=F.nextOutCoord+F.pixelX+F.dx,K=F.pixelY+F.pixelHeight+F.dy-1),Y.startX=X,Y.startY=K,Y.startAngle=Z,Y.endAngle=Z,Y.gradient.rotation=Z,Y.linkWidth=G*F.chart.valueHeight,!W.toNode){U=="horizontal"?(Y.maxWidth=200,Y.endX=F.pixelX+Y.maxWidth+F.dx,Y.endY=Y.startY):(Y.maxHeight=200,Y.endX=Y.startX,Y.endY=F.pixelY+Y.maxHeight+F.dy),Y.opacity=F.opacity;var J=Y.gradient.stops.getIndex(1);J&&(Y.colorMode=="gradient"&&(J.color=F.color),J.opacity=0,Y.fill=Y.gradient,Y.stroke=Y.gradient,Y.gradient.validate())}F.nextOutCoord+=Y.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},E.prototype.positionBullet=function(F){F&&(F.x=this.measuredWidth*F.locationX,F.y=this.measuredHeight*F.locationY)},Object.defineProperty(E.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(F){this.setPropertyValue("level",F,!0)},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.nameLabel.copyFrom(F.nameLabel),this.valueLabel.copyFrom(F.valueLabel)},E}(FlowDiagramNode);registry.registeredClasses.SankeyNode=SankeyNode;var SankeyLink=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="SankeyLink",new InterfaceColorSet,F.tension=.8,F.controlPointDistance=.2,F.startAngle=0,F.endAngle=0,F.linkWidth=0,F.startX=0,F.endX=0,F.startY=0,F.endY=0,F.middleLine=F.createChild(Polyspline),F.middleLine.shouldClone=!1,F.middleLine.strokeOpacity=0,F.applyTheme(),F}return E.prototype.makeBackwards=function(){this.states.getKey("backwards")!=null&&this.setState("backwards")},E.prototype.validate=function(){var F,R,U,W;if(V.prototype.validate.call(this),!this.isTemplate){var Y=this.startX,G=this.startY,X=this.endX,K=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var Z=this.dataItem.component;Z&&(Z.orientation=="horizontal"?X<Y&&(F=__read([X,Y],2),Y=F[0],X=F[1],R=__read([K,G],2),G=R[0],K=R[1],this.makeBackwards()):K<G&&(U=__read([K,G],2),G=U[0],K=U[1],W=__read([X,Y],2),Y=W[0],X=W[1],this.makeBackwards()))}isNumber$1(X)||(X=Y),isNumber$1(K)||(K=G);var J=this.startAngle,Q=this.endAngle,ee=this.linkWidth,te="",ie=Y,re=G,ne=X,ae=K,se=Y+ee*sin(J),le=X+ee*sin(Q),oe=G+ee*cos(J),ue=K+ee*cos(Q),ce=Y+ee/2*sin(J),he=X+ee/2*sin(Q),me=G+ee/2*cos(J),Pe=K+ee/2*cos(Q);this.zIndex=this.zIndex||this.dataItem.index;var we=this.tension+(1-this.tension)*sin(J),fe=this.tension+(1-this.tension)*cos(J);if(this.middleLine.tensionX=we,this.middleLine.tensionY=fe,isNumber$1(ee)&&isNumber$1(Y)&&isNumber$1(X)&&isNumber$1(G)&&isNumber$1(K)){round$2(ie,3)==round$2(ne,3)&&(ne+=.01),round$2(re,3)==round$2(ae,3)&&(ae+=.01),round$2(se,3)==round$2(le,3)&&(le+=.01),round$2(oe,3)==round$2(ue,3)&&(ue+=.01);var ye=Math.min(se,le,ie,ne),_e=Math.min(oe,ue,re,ae),ve=Math.max(se,le,ie,ne),ge=Math.max(oe,ue,re,ae);this._bbox={x:ye,y:_e,width:ve-ye,height:ge-_e};var be=this.controlPointDistance,xe=ie+(ne-ie)*be*cos(J),Se=re+(ae-re)*be*sin(J),De=ne-(ne-ie)*be*cos(Q),Ae=ae-(ae-re)*be*sin(Q),Te=ce+(he-ce)*be*cos(J),Fe=me+(Pe-me)*be*sin(J),Oe=he-(he-ce)*be*cos(Q),ke=Pe-(Pe-me)*be*sin(Q),Ee=getAngle({x:xe,y:Se},{x:De,y:Ae}),Ve=(ee/cos(Ee)-ee)/tan(Ee)*cos(J),Be=(ee/sin(Ee)-ee)*tan(Ee)*sin(J),He=-Ve/2+se+(le-se)*be*cos(J),Ne=-Be/2+oe+(ue-oe)*be*sin(J),Ye=-Ve/2+le-(le-se)*be*cos(Q),Ke=-Be/2+ue-(ue-oe)*be*sin(Q);Pe==me&&(Pe+=.01),this.middleLine.segments=[[{x:ce,y:me},{x:Te,y:Fe},{x:Oe,y:ke},{x:he,y:Pe}]],xe+=Ve/2,Se+=Be/2,De+=Ve/2,Ae+=Be/2,te+=moveTo({x:ie,y:re}),te+=new Tension(we,fe).smooth([{x:ie,y:re},{x:xe,y:Se},{x:De,y:Ae},{x:ne,y:ae}]),te+=lineTo({x:le,y:ue}),te+=new Tension(we,fe).smooth([{x:le,y:ue},{x:Ye,y:Ke},{x:He,y:Ne},{x:se,y:oe}]),te+=closePath()}this.link.path=te,this.maskBullets&&(this.bulletsMask.path=te,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(E.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(F){this.setPropertyValue("startX",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(F){this.setPropertyValue("endX",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(F){this.setPropertyValue("startY",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(F){this.setPropertyValue("endY",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(F){this.setPropertyValue("linkWidth",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(F){this.setPropertyValue("controlPointDistance",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(F){this.setPropertyValue("tension",F,!0)},enumerable:!0,configurable:!0}),E}(FlowDiagramLink);registry.registeredClasses.SankeyLink=SankeyLink;var SankeyDiagramDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="SankeyDiagramDataItem",F.applyTheme(),F}return E}(FlowDiagramDataItem),SankeyDiagram=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="SankeyDiagram",F.orientation="horizontal",F.nodeAlign="middle",F.nodesContainer.width=percent(100),F.nodesContainer.height=percent(100),F.linksContainer.width=percent(100),F.linksContainer.height=percent(100),F.applyTheme(),F}return E.prototype.validateData=function(){var F=this;this._valueHeight=void 0,V.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(R,U){U.level=void 0}),this.nodes.each(function(R,U){U.level=F.getNodeLevel(U,0),F._levelCount=max$1(F._levelCount,U.level)})},E.prototype.getNodeLevel=function(F,R){var U=this,W=[R];return each(F.incomingDataItems.iterator(),function(Y){Y.fromNode&&(isNumber$1(Y.fromNode.level)?W.push(Y.fromNode.level+1):(U._counter=0,U.checkLoop(Y.fromNode),U._counter<U.dataItems.length&&W.push(U.getNodeLevel(Y.fromNode,R+1))))}),Math.max.apply(Math,__spread(W))},E.prototype.checkLoop=function(F){var R=this;this._counter++,!(this._counter>this.dataItems.length)&&each(F.incomingDataItems.iterator(),function(U){R.checkLoop(U.fromNode)})},E.prototype.calculateValueHeight=function(){var F=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var R=this.dataItem.values.value.sum;each(this._sorted,function(J){var Q=J[1];F.getNodeValue(Q)}),this.nodes.each(function(J,Q){var ee=Q.level,te=Math.max(Q.totalIncoming,Q.totalOutgoing);te/R<F.minNodeSize&&(te=R*F.minNodeSize),isNumber$1(F._levelSum[ee])?F._levelSum[ee]+=te:F._levelSum[ee]=te,isNumber$1(F._levelNodesCount[ee])?F._levelNodesCount[ee]++:F._levelNodesCount[ee]=1});var U;this.orientation=="horizontal"?U=this.chartContainer.maxHeight-1:U=this.chartContainer.maxWidth-1;var W,Y;each$1(this._levelSum,function(J,Q){var ee=Q,te=F._levelNodesCount[J],ie=(U-(te-1)*F.nodePadding)/ee;ie==1/0&&(ie=0),(Y>ie||!isNumber$1(Y))&&(Y=ie,F.maxSum=ee,W=toNumber(J))}),this._maxSumLevel=W;var G=this._levelNodesCount[this._maxSumLevel],X=(U-(G-1)*this.nodePadding)/this.maxSum;if(X==1/0&&(X=0),!isNumber$1(this.valueHeight))this.valueHeight=X;else{var K=void 0;try{K=this._heightAnimation.animationOptions[0].to}catch{}if(K!=X){var Z=this.interpolationDuration;try{Z=this.nodes.template.states.getKey("active").transitionDuration}catch{}this._heightAnimation=new Animation(this,{property:"valueHeight",from:this.valueHeight,to:X},Z,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}},E.prototype.validate=function(){var F=this;V.prototype.validate.call(this),this.calculateValueHeight();var R=this.nodesContainer,U={},W=this._levelNodesCount[this._maxSumLevel],Y=this.dataItem.values.value.sum,G;this.orientation=="horizontal"?G=this.chartContainer.maxHeight-1:G=this.chartContainer.maxWidth-1,each(this._sorted,function(X){var K=X[1],Z=K.level,J=0,Q=F._levelNodesCount[Z];switch(F.nodeAlign){case"bottom":J=(F.maxSum-F._levelSum[Z])*F.valueHeight-(Q-W)*F.nodePadding;break;case"middle":J=(F.maxSum-F._levelSum[Z])*F.valueHeight/2-(Q-W)*F.nodePadding/2;break}if(F.maxSum==0)switch(F.nodeAlign){case"bottom":J=G-Q*(F.minNodeSize*G+F.nodePadding);break;case"middle":J=G/2-Q/2*(F.minNodeSize*G+F.nodePadding);break}K.parent=R;var ee,te,ie,re=Math.max(K.totalIncoming,K.totalOutgoing);if(re/Y<F.minNodeSize&&(re=Y*F.minNodeSize),F.orientation=="horizontal"){ee=(F.innerWidth-K.pixelWidth)/F._levelCount,te=ee*K.level,ie=U[Z]||J;var ne=re*F.valueHeight;Y==0&&ne==0&&(ne=F.minNodeSize*G),K.height=ne,K.minX=te,K.maxX=te,U[Z]=ie+ne+F.nodePadding}else{ee=(F.innerHeight-K.pixelHeight)/F._levelCount,te=U[Z]||J,ie=ee*K.level;var ae=re*F.valueHeight;Y==0&&ae==0&&(ae=F.minNodeSize*G),K.width=ae,K.minY=ie,K.maxY=ie,U[Z]=te+ae+F.nodePadding}K.x=te,K.y=ie})},E.prototype.showReal=function(F){var R=this;if(!this.preventShow){if(this.interpolationDuration>0){var U=this.nodesContainer,W=0;each(this.links.iterator(),function(Y){Y.hide(0)}),each(this._sorted,function(Y){var G=Y[1],X;R.orientation=="horizontal"?(G.dx=-(U.pixelWidth-G.pixelWidth)/Math.max(R._levelCount,1),X="dx"):(G.dy=-(U.pixelHeight-G.pixelHeight)/Math.max(R._levelCount,1),X="dy");var K=0,Z=R.interpolationDuration;R.sequencedInterpolation&&(K=R.sequencedInterpolationDelay*W+Z*W/length(R.nodes.iterator())),G.opacity=0,G.invalidateLinks(),G.animate([{property:"opacity",from:0,to:1},{property:X,to:0}],R.interpolationDuration,R.interpolationEasing).delay(K),each(G.outgoingDataItems.iterator(),function(J){var Q=J.link.show(R.interpolationDuration);Q&&!Q.isFinished()&&Q.delay(K)}),each(G.incomingDataItems.iterator(),function(J){if(!J.fromNode){var Q=J.link.show(R.interpolationDuration);Q&&!Q.isFinished()&&Q.delay(K)}}),W++})}return V.prototype.showReal.call(this)}},E.prototype.changeSorting=function(){var F=this;this.sortNodes();var R={};each(this._sorted,function(U){var W=U[1],Y=W.level,G=(F.maxSum-F._levelSum[Y])*F.valueHeight/2,X,K;F.orientation=="horizontal"?(X="y",K=W.pixelHeight):(X="x",K=W.pixelWidth),W.animate({property:X,to:R[Y]||G},F.interpolationDuration,F.interpolationEasing),R[Y]=(R[Y]||G)+K+F.nodePadding,W.invalidateLinks()})},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},E.prototype.createDataItem=function(){return new SankeyDiagramDataItem},Object.defineProperty(E.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(F){this.setPropertyValue("nodeAlign",F),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(F){this.setPropertyValue("orientation",F,!0);var R=this.nodes.template.nameLabel;F=="vertical"?(this.nodes.template.width=void 0,R.label.horizontalCenter="middle",R.locationX=.5):(this.nodes.template.height=void 0,R.label.horizontalCenter="left",R.locationX=1)},enumerable:!0,configurable:!0}),E.prototype.createNode=function(){var F=new SankeyNode;return this._disposers.push(F),F},E.prototype.createLink=function(){var F=new SankeyLink;return this._disposers.push(F),F},Object.defineProperty(E.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(F){F!=this._valueHeight&&(this._valueHeight=F,this.invalidate())},enumerable:!0,configurable:!0}),E.prototype.disposeData=function(){V.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},E}(FlowDiagram);registry.registeredClasses.SankeyDiagram=SankeyDiagram;var ChordNode=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="ChordNode";var R=F.createChild(AxisLabelCircular);R.location=.5,R.radius=5,R.text="{name}",R.zIndex=1,R.shouldClone=!1,F.label=R,F.layout="none",F.events.on("positionchanged",F.updateRotation,F,!1),F.isMeasured=!1,F.slice=F.createChild(Slice),F.slice.isMeasured=!1;var U=F.hiddenState;return U.properties.fill=new InterfaceColorSet().getFor("disabledBackground"),U.properties.opacity=.5,U.properties.visible=!0,F.setStateOnChildren=!1,F.slice.hiddenState.properties.visible=!0,F.adapter.add("tooltipX",function(W,Y){return Y.slice.ix*(Y.slice.radius-(Y.slice.radius-Y.slice.pixelInnerRadius)/2)}),F.adapter.add("tooltipY",function(W,Y){return Y.slice.iy*(Y.slice.radius-(Y.slice.radius-Y.slice.pixelInnerRadius)/2)}),F}return E.prototype.invalidateLinks=function(){var F=this;V.prototype.invalidateLinks.call(this);var R=this.label,U=this.slice,W=this.chart;if(W&&U){var Y=this.total,G=U.arc,X=U.startAngle;this.children.each(function(J){if(J instanceof Bullet){var Q=J.locationX;isNumber$1(Q)||(Q=.5);var ee=J.locationY;isNumber$1(ee)||(ee=1);var te=X+G*Q,ie=ee*U.radius;J.x=ie*cos(te),J.y=ie*sin(te)}});var K=X+G*R.location,Z=X+(1-Y/this.adjustedTotal)*G*.5;isNaN$1(Z)&&(Z=X),R.fixPosition(K,U.radius),this.nextAngle=Z,this._outgoingSorted&&each(this._outgoingSorted,function(J){var Q=J.link;Q.parent=F.chart.linksContainer;var ee=J.getWorkingValue("value");if(isNumber$1(ee)){if(W.nonRibbon){var te=Q.percentWidth;isNumber$1(te)||(te=5),te=te/100,Q.startAngle=X+G/2-G/2*te,Q.arc=G*te}else Q.arc=ee*W.valueAngle,Q.startAngle=F.nextAngle,F.nextAngle+=Q.arc;J.toNode||(Q.endAngle=Q.startAngle),Q.radius=U.pixelInnerRadius}}),this._incomingSorted&&each(this._incomingSorted,function(J){var Q=J.link;if(Q.radius=U.pixelInnerRadius,W.nonRibbon){var ee=Q.percentWidth;isNumber$1(ee)||(ee=5),ee=ee/100,Q.endAngle=X+G/2-G/2*ee,Q.arc=G*ee}else{Q.endAngle=F.nextAngle;var te=J.getWorkingValue("value");isNumber$1(te)&&(Q.arc=te*W.valueAngle,F.nextAngle+=Q.arc)}J.fromNode||(Q.startAngle=Q.endAngle)})}},E.prototype.updateRotation=function(){var F=this.slice,R=this.trueStartAngle+F.arc/2,U=F.radius,W=U*cos(R),Y=U*sin(R),G=getAngle({x:W+this.pixelX,y:Y+this.pixelY});F.startAngle=this.trueStartAngle+(G-R),this.dx=-this.pixelX,this.dy=-this.pixelY},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.label.copyFrom(F.label),this.slice.copyFrom(F.slice)},E}(FlowDiagramNode);registry.registeredClasses.ChordNode=ChordNode;var QuadraticCurve=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="QuadraticCurve",F.element=F.paper.add("path"),F.pixelPerfect=!1,F.fill=color(),F.applyTheme(),F}return E.prototype.draw=function(){if(isNumber$1(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var F={x:this.x1,y:this.y1},R={x:this.x2,y:this.y2},U={x:this.cpx,y:this.cpy},W=moveTo(F)+quadraticCurveTo(R,U);this.path=W}},Object.defineProperty(E.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(F){this.setPropertyValue("cpx",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(F){this.setPropertyValue("cpy",F,!0)},enumerable:!0,configurable:!0}),E.prototype.positionToPoint=function(F){var R={x:this.x1,y:this.y1},U={x:this.cpx,y:this.cpy},W={x:this.x2,y:this.y2},Y=getPointOnQuadraticCurve(R,W,U,F),G=getPointOnQuadraticCurve(R,W,U,F+.001);return{x:Y.x,y:Y.y,angle:getAngle(Y,G)}},E}(Line),ChordLink=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ChordLink",F.middleLine=F.createChild(QuadraticCurve),F.middleLine.shouldClone=!1,F.middleLine.strokeOpacity=0,F.applyTheme(),F}return E.prototype.validate=function(){if(V.prototype.validate.call(this),!this.isTemplate){var F=this.startAngle,R=this.endAngle,U=this.arc,W=this.radius,Y=this.dataItem.fromNode,G=this.dataItem.toNode,X=0,K=0;Y&&(X=Y.pixelX+Y.dx,K=Y.pixelY+Y.dy);var Z=0,J=0;if(G&&(Z=G.pixelX+G.dx,J=G.pixelY+G.dy),W>0){var Q=W*cos(F)+X,ee=W*sin(F)+K,te=W*cos(R)+Z,ie=W*sin(R)+J,re={x:0,y:0},ne=moveTo({x:Q,y:ee});ne+=arcTo(F,U,W),ne+=quadraticCurveTo({x:te,y:ie},re),ne+=arcTo(R,U,W),ne+=quadraticCurveTo({x:Q,y:ee},re),U>0?this.link.path=ne:this.link.path="",this.maskBullets&&(this.bulletsMask.path=ne,this.bulletsContainer.mask=this.bulletsMask);var ae=F+U/2,se=R+U/2,le=this.middleLine;le.x1=W*cos(ae)+X,le.y1=W*sin(ae)+K,le.x2=W*cos(se)+Z,le.y2=W*sin(se)+J,le.cpx=0,le.cpy=0,le.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPropertyValue("radius",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(F){this.setPropertyValue("arc",F,!0)},enumerable:!0,configurable:!0}),E}(FlowDiagramLink);registry.registeredClasses.ChordLink=ChordLink;var ChordDiagramDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ChordDiagramDataItem",F.applyTheme(),F}return E}(FlowDiagramDataItem),ChordDiagram=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.valueAngle=0,F.className="ChordDiagram",F.startAngle=-90,F.endAngle=270,F.radius=percent(80),F.innerRadius=-15,F.nodePadding=5;var R=F.chartContainer.createChild(Container);return R.align="center",R.valign="middle",R.shouldClone=!1,R.layout="absolute",F.chordContainer=R,F.nodesContainer.parent=R,F.linksContainer.parent=R,F.chartContainer.events.on("maxsizechanged",F.invalidate,F,!1),F.applyTheme(),F}return E.prototype.validate=function(){var F=this,R=this.chartContainer,U=this.endAngle,W=this.startAngle+this.nodePadding/2,Y=getArcRect(this.startAngle,this.endAngle,1),G={x:0,y:0,width:0,height:0};Y=getCommonRectangle([Y,G]);var X=Math.min(R.innerWidth/Y.width,R.innerHeight/Y.height);isNumber$1(X)||(X=0);var K=relativeRadiusToValue(this.radius,X),Z=relativeRadiusToValue(this.innerRadius,K,!0),J=this.dataItem.values.value.sum,Q=0,ee=0;each(this._sorted,function(te){var ie=te[1];F.getNodeValue(ie),Q++;var re=ie.total;ie.total/J<F.minNodeSize&&(re=J*F.minNodeSize),ee+=re}),this.valueAngle=(U-this.startAngle-this.nodePadding*Q)/ee,each(this._sorted,function(te){var ie=te[1],re=ie.slice;re.radius=K,re.innerRadius=Z;var ne=ie.total;ie.total/J<F.minNodeSize&&(ne=J*F.minNodeSize),ie.adjustedTotal=ne;var ae;F.nonRibbon?ae=(U-F.startAngle)/Q-F.nodePadding:ae=F.valueAngle*ne,re.arc=ae,re.startAngle=W,ie.trueStartAngle=W,ie.parent=F.nodesContainer,ie.validate(),W+=ae+F.nodePadding}),this.chordContainer.definedBBox={x:K*Y.x,y:K*Y.y,width:K*Y.width,height:K*Y.height},this.chordContainer.invalidateLayout(),V.prototype.validate.call(this)},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},E.prototype.createDataItem=function(){return new ChordDiagramDataItem},Object.defineProperty(E.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(F){this.setPropertyValue("startAngle",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(F){this.setPropertyValue("endAngle",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(F){this.setPropertyValue("nonRibbon",F,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),E.prototype.createNode=function(){var F=new ChordNode;return this._disposers.push(F),F},E.prototype.createLink=function(){var F=new ChordLink;return this._disposers.push(F),F},E}(FlowDiagram);registry.registeredClasses.ChordDiagram=ChordDiagram;var Column=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Column",F.width=percent(80),F.height=percent(80),F.events.disableType("transformed"),F.applyOnClones=!0,F.strokeOpacity=1,F.layout="none",F.createAssets(),F.events.on("childadded",F.handleKidAdded,F,!1),F}return E.prototype.handleKidAdded=function(){this.layout=="none"&&(this.layout="absolute")},E.prototype.createAssets=function(){this.column=this.createChild(RoundedRectangle),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},E.prototype.validate=function(){V.prototype.validate.call(this);var F=this.column;F&&(F.width=min$1(this.pixelWidth,this.maxWidth),F.height=min$1(this.pixelHeight,this.maxHeight),F.invalid&&F.validate())},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.column&&this.column.copyFrom(F.column)},Object.defineProperty(E.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:min$1(this.pixelWidth,this.maxWidth),height:min$1(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),E}(Container);registry.registeredClasses.Column=Column;var ColumnSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ColumnSeriesDataItem",F.locations.dateX=.5,F.locations.dateY=.5,F.locations.categoryX=.5,F.locations.categoryY=.5,F.applyTheme(),F}return Object.defineProperty(E.prototype,"column",{get:function(){return this._column},set:function(F){this.setColumn(F)},enumerable:!0,configurable:!0}),E.prototype.setColumn=function(F){var R=this;if(this._column&&F!=this._column&&remove(this.sprites,this._column),this._column=F,F){var U=F.dataItem;U&&U!=this&&(U.column=void 0),this.addSprite(F),this._disposers.push(new Disposer(function(){R.component&&R.component.columns.removeValue(F)}))}},Object.defineProperty(E.prototype,"width",{get:function(){var F=this.properties.width;return this._adapterO&&(F=this._adapterO.apply("width",F)),F},set:function(F){this.properties.width!=F&&(this.properties.width=F,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"height",{get:function(){var F=this.properties.height;return this._adapterO&&(F=this._adapterO.apply("height",F)),F},set:function(F){this.properties.height!=F&&(this.properties.height=F,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new Dictionary),this._rangesColumns},enumerable:!0,configurable:!0}),E}(XYSeriesDataItem),ColumnSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._startLocation=0,F._endLocation=1,F.className="ColumnSeries",F.width=percent(100),F.height=percent(100),F.strokeOpacity=0,F.fillOpacity=1,F.clustered=!0;var R=F.mainContainer.createChild(Container);return R.shouldClone=!1,R.isMeasured=!1,R.layout="none",F._columnsContainer=R,F.columns.template.pixelPerfect=!1,F.tooltipColorSource=F.columns.template,F.applyTheme(),F}return Object.defineProperty(E.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},E.prototype.createDataItem=function(){return new ColumnSeriesDataItem},E.prototype.validate=function(){var F=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var R=this.chart.series,U=0,W=0,Y=[];each(R.iterator(),function(ie){if(ie instanceof E&&F.baseAxis==ie.baseAxis){var re;F.baseAxis==F.xAxis?re=F.chart.yAxes.indexOf(ie.yAxis):re=F.chart.xAxes.indexOf(ie.xAxis),Y.push({series:ie,axis:re})}}),Y.sort(function(ie,re){return ie.axis-re.axis});var G;each$2(Y,function(ie){var re=ie.series;re instanceof E&&((!re.stacked&&re.clustered||G!=ie.axis&&re.clustered)&&U++,re==F&&(W=U-1)),G=ie.axis}),this.clustered||(W=0,U=1);var X=this.baseAxis.renderer,K=X.cellStartLocation,Z=X.cellEndLocation;this._startLocation=K+W/U*(Z-K),this._endLocation=K+(W+1)/U*(Z-K);var J=this.xAxis,Q=this.yAxis;J instanceof CategoryAxis&&Q instanceof ValueAxis&&J.sortBySeries==this&&this.sortCategoryAxis(J,"valueY"),Q instanceof CategoryAxis&&J instanceof ValueAxis&&Q.sortBySeries==this&&this.sortCategoryAxis(Q,"valueX")}V.prototype.validate.call(this);for(var ee=0;ee<this.startIndex;ee++){var te=this.dataItems.getIndex(ee);this.disableUnusedColumns(te)}for(var ee=this.dataItems.length-1;ee>this.endIndex;ee--){var te=this.dataItems.getIndex(ee);this.disableUnusedColumns(te)}this._propertiesChanged=!1},E.prototype.sortCategoryAxis=function(F,R){var U=this;this.dataItems.values.sort(function(Y,G){return G.values[R].workingValue-Y.values[R].workingValue});var W=0;this.dataItems.each(function(Y){Y._index=W,W++}),F.dataItems.each(function(Y){var G=Y.component,X=G.categoryToPosition(Y.category)-Y.deltaPosition,K=G.getSeriesDataItemByCategory(Y.category,U);if(K){var Z=U.dataItems.indexOf(K);Y._index=Z;var J=round$2((Z+.5)/U.dataItems.length-X,3);Y.deltaAnimation&&!Y.deltaAnimation.isDisposed()&&Y.deltaAnimation.animationOptions[0].to==J||J!=round$2(Y.deltaPosition,3)&&(Y.deltaAnimation&&Y.deltaAnimation.stop(),Y.deltaAnimation=Y.animate({property:"deltaPosition",from:-J,to:0},G.interpolationDuration,G.interpolationEasing),U._disposers.push(Y.deltaAnimation))}}),F.dataItems.values.sort(function(Y,G){return Y.index-G.index})},E.prototype.validateDataElement=function(F){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(F),V.prototype.validateDataElement.call(this,F))},E.prototype.getStartLocation=function(F){var R=this._startLocation;return this.baseAxis==this.xAxis?R+=F.locations[this.xOpenField]-.5:R+=F.locations[this.yOpenField]-.5,R},E.prototype.getEndLocation=function(F){var R=this._endLocation;return this.baseAxis==this.xAxis?R+=F.locations[this.xField]-.5:R+=F.locations[this.yField]-.5,R},E.prototype.validateDataElementReal=function(F){var R=this,U,W,Y,G,X=this.getStartLocation(F),K=this.getEndLocation(F),Z=this.xField,J=this.xOpenField,Q=this.yField,ee=this.yOpenField,te=this.columns.template,ie=te.percentWidth,re=te.percentHeight,ne=te.pixelWidth,ae=te.pixelHeight,se=te.maxWidth,le=te.maxHeight,oe=te.pixelPaddingLeft,ue=te.pixelPaddingRight,ce=te.pixelPaddingTop,he=te.pixelPaddingBottom,me=!1,Pe=F.width;hasValue(Pe)&&(isNumber$1(Pe)&&(ne=Pe),Pe instanceof Percent&&(ie=Pe.value*100));var we=F.height;if(hasValue(we)&&(isNumber$1(we)&&(ae=we),we instanceof Percent&&(re=we.value*100)),this.xAxis instanceof CategoryAxis&&this.yAxis instanceof CategoryAxis){if(!F.hasValue(this._xValueFields)||!F.hasValue(this._yValueFields))return;if(X=0,K=1,!isNaN$1(ie)){var fe=round$2((K-X)*(1-ie/100)/2,5);X+=fe,K-=fe}if(U=this.xAxis.getX(F,J,X),W=this.xAxis.getX(F,Z,K),isNaN$1(ie)){var fe=(W-U-ne)/2;U+=fe,W-=fe}if(!isNaN$1(se)&&se<Math.abs(W-U)){var fe=(W-U-se)/2;U+=fe,W-=fe}if(X=0,K=1,!isNaN$1(re)){var fe=round$2((1-re/100)/2,5);X+=fe,K-=fe}if(Y=this.yAxis.getY(F,ee,X),G=this.yAxis.getY(F,Q,K),isNaN$1(re)){var fe=(G-Y-ae)/2;G+=fe,Y-=fe}if(!isNaN$1(le)&&le<Math.abs(G-Y)){var fe=(G-Y-le)/2;G+=fe,Y-=fe}W=this.fixHorizontalCoordinate(W),U=this.fixHorizontalCoordinate(U),Y=this.fixVerticalCoordinate(Y),G=this.fixVerticalCoordinate(G)}else if(this.baseAxis==this.xAxis){if(!F.hasValue(this._yValueFields))return;if(!isNaN$1(ie)){var fe=round$2((K-X)*(1-ie/100)/2,5);X+=fe,K-=fe}if(U=this.xAxis.getX(F,J,X),W=this.xAxis.getX(F,Z,K),isNaN$1(ie)){var fe=(W-U-ne)/2;U+=fe,W-=fe}if(!isNaN$1(se)&&se<Math.abs(W-U)){var fe=(W-U-se)/2;U+=fe,W-=fe}var ye=F.locations[ee],_e=F.locations[Q];this.yAxis instanceof ValueAxis&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(ye=0,_e=0),G=this.yAxis.getY(F,ee,ye),Y=this.yAxis.getY(F,Q,_e);var ve=Math.ceil(this.yAxis.axisLength);(Y<0&&G<0||Y>ve&&G>ve)&&(me=!0),Y=this.fixVerticalCoordinate(Y),G=this.fixVerticalCoordinate(G),Math.abs(W-U)-oe-ue==0&&(me=!0)}else{if(!F.hasValue(this._xValueFields))return;if(!isNaN$1(re)){var fe=round$2((K-X)*(1-re/100)/2,5);X+=fe,K-=fe}if(Y=this.yAxis.getY(F,ee,X),G=this.yAxis.getY(F,Q,K),isNaN$1(re)){var fe=(G-Y-ae)/2;G-=fe,Y+=fe}if(!isNaN$1(le)&&le<Math.abs(G-Y)){var fe=(G-Y-le)/2;G-=fe,Y+=fe}var ge=F.locations[Z],be=F.locations[J];this.xAxis instanceof ValueAxis&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(ge=0,be=0),W=this.xAxis.getX(F,Z,ge),U=this.xAxis.getX(F,J,be);var ve=Math.ceil(this.xAxis.axisLength);(W<0&&U<0||W>ve&&U>ve)&&(me=!0),W=this.fixHorizontalCoordinate(W),U=this.fixHorizontalCoordinate(U),Math.abs(Y-G)-ce-he==0&&(me=!0)}var xe=Math.abs(W-U),Se=Math.abs(G-Y),De=Math.min(U,W),Ae=Math.min(Y,G);if(me)this.disableUnusedColumns(F);else{var Te;F.column?(Te=F.column,this._propertiesChanged&&(copyProperties$1(this,Te,visualProperties),copyProperties$1(this.columns.template,Te,visualProperties),each$2(visualProperties,function(Fe){Te[Fe]=Te[Fe]}))):(Te=this.columns.create(),copyProperties$1(this,Te,visualProperties),copyProperties$1(this.columns.template,Te,visualProperties),F.addSprite(Te),F.column=Te,Te.paper=this.paper,this.itemsFocusable()?(hasValue(this.role)||(this.role="menu"),hasValue(Te.role)||(Te.role="menuitem"),Te.focusable=!0):(hasValue(this.role)||(this.role="list"),hasValue(Te.role)||(Te.role="listitem"),Te.focusable=!1),Te.focusable&&(Te.events.on("focus",function(Fe){Te.readerTitle=R.populateString(R.itemReaderText,F)},void 0,!1),Te.events.on("blur",function(Fe){Te.readerTitle=""},void 0,!1)),Te.hoverable&&(Te.events.on("over",function(Fe){Te.readerTitle=R.populateString(R.itemReaderText,F)},void 0,!1),Te.events.on("out",function(Fe){Te.readerTitle=""},void 0,!1)),Te.parent=this.columnsContainer,Te.virtualParent=this),Te.width=xe,Te.height=Se,Te.x=De,Te.y=Ae,Te.realX=U,Te.realY=Y,Te.realWidth=W-U,Te.realHeight=G-Y,this.setColumnStates(Te),Te.invalid&&Te.validate(),Te.__disabled=!1,each(this.axisRanges.iterator(),function(Fe){var Oe=F.rangesColumns.getKey(Fe.uid);Oe||(Oe=R.columns.create(),copyProperties$1(Fe.contents,Oe,visualProperties),F.addSprite(Oe),F.rangesColumns.setKey(Fe.uid,Oe),Oe.paper=R.paper),Oe.parent=Fe.contents,Oe.width=xe,Oe.height=Se,Oe.x=De,Oe.y=Ae,R.setColumnStates(Oe),Oe.invalid&&Oe.validate(),Oe.__disabled=!1})}F.itemWidth=xe,F.itemHeight=Se},E.prototype.disableUnusedColumns=function(F){F&&(F.column&&(F.column.width=0,F.column.height=0,F.column.__disabled=!0),each(this.axisRanges.iterator(),function(R){var U=F.rangesColumns.getKey(R.uid);U&&(U.width=0,U.height=0,U.__disabled=!0)}))},E.prototype.setColumnStates=function(F){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var R=F.dataItem;if(this.xAxis instanceof ValueAxis||this.yAxis instanceof ValueAxis){var U,W=void 0,Y=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof ValueAxis&&(U=R.getValue(this.xOpenField),W=R.getValue(this.xField)),Y=R.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof ValueAxis&&(U=R.getValue(this.yOpenField),W=R.getValue(this.yField)),Y=R.getValue(this.yAxis.axisFieldName+"Y","previousChange")),W<U?(R.droppedFromOpen=!0,F.defaultState.copyFrom(this._dropFromOpenState),F.setState(this._dropFromOpenState,0)):(R.droppedFromOpen=!1,F.defaultState.copyFrom(this._riseFromOpenState),F.setState(this._riseFromOpenState,0)),Y<0?(R.droppedFromPrevious=!0,F.defaultState.copyFrom(this._dropFromPreviousState),F.setState(this._dropFromPreviousState,0)):(R.droppedFromPrevious=!1,F.defaultState.copyFrom(this._riseFromPreviousState),F.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(E.prototype,"columns",{get:function(){return this._columns||(this._columns=new ListTemplate(this.createColumnTemplate()),this._disposers.push(new ListDisposer(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),E.prototype.createColumnTemplate=function(){return new Column},Object.defineProperty(E.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(F){this.setPropertyValue("clustered",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(F){this._dropFromOpenState=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(F){this._dropFromPreviousState=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(F){this._riseFromOpenState=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(F){this._riseFromPreviousState=F},enumerable:!0,configurable:!0}),E.prototype.updateLegendValue=function(F,R){var U=this;if(V.prototype.updateLegendValue.call(this,F,R),this.legendDataItem){var W=this.legendDataItem.marker,Y,G;F&&(F.droppedFromOpen?Y=this._dropFromOpenState:Y=this._riseFromOpenState,F.droppedFromPrevious?G=this._dropFromPreviousState:G=this._riseFromPreviousState),each(W.children.iterator(),function(X){F?(X.setState(G),X.setState(Y)):(X.setState(U._riseFromPreviousState),X.setState(U._riseFromOpenState))})}},E.prototype.createLegendMarker=function(F){var R=F.pixelWidth,U=F.pixelHeight;F.removeChildren();var W=F.createChild(RoundedRectangle);W.shouldClone=!1,copyProperties$1(this,W,visualProperties),W.copyFrom(this.columns.template),W.padding(0,0,0,0),W.width=R,W.height=U;var Y=F.dataItem;Y.color=this.fill,Y.colorOrig=this.fill},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.columns.template.copyFrom(F.columns.template)},E.prototype.getBulletLocationX=function(F,R){if(this.baseAxis==this.xAxis){var U=F.locationX;isNumber$1(U)||(U=.5);var W=this.getEndLocation(F.dataItem),Y=this.getStartLocation(F.dataItem);return W-(W-Y)*U}else return V.prototype.getBulletLocationX.call(this,F,R)},E.prototype.getBulletLocationY=function(F,R){if(this.baseAxis==this.yAxis){var U=F.locationY;isNumber$1(U)||(U=.5);var W=this.getEndLocation(F.dataItem),Y=this.getStartLocation(F.dataItem);return W-(W-Y)*U}else return V.prototype.getBulletLocationY.call(this,F,R)},E.prototype.getAdjustedXLocation=function(F,R,U){return isNumber$1(U)||(F?U=F.locations[R]:U=.5),this._endLocation-(this._endLocation-this._startLocation)*(1-U)},E.prototype.getAdjustedYLocation=function(F,R,U){return isNumber$1(U)||(F?U=F.locations[R]:U=.5),this._endLocation-(this._endLocation-this._startLocation)*U},E.prototype.fixVerticalCoordinate=function(F){var R=this.columns.template.pixelPaddingBottom,U=this.columns.template.pixelPaddingTop,W=-U,Y=this.yAxis.axisLength+R;return fitToRange(F,W,Y)},E.prototype.fixHorizontalCoordinate=function(F){var R=this.columns.template.pixelPaddingLeft,U=this.columns.template.pixelPaddingRight,W=-R,Y=this.xAxis.axisLength+U;return fitToRange(F,W,Y)},E.prototype.disposeData=function(){V.prototype.disposeData.call(this),this.columns.clear()},E}(XYSeries);registry.registeredClasses.ColumnSeries=ColumnSeries;registry.registeredClasses.ColumnSeriesDataItem=ColumnSeriesDataItem;var TreeMapSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="TreeMapSeriesDataItem",F.applyTheme(),F}return Object.defineProperty(E.prototype,"parentName",{get:function(){var F=this.treeMapDataItem;if(F&&F.parent)return F.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"value",{get:function(){var F=this.treeMapDataItem;if(F)return F.value},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),E.prototype.hide=function(F,R,U,W){var Y=this.treeMapDataItem;return Y&&Y.hide(F),V.prototype.hide.call(this,F,R,U,W)},E.prototype.show=function(F,R,U){var W=this.treeMapDataItem;return W&&W.show(F,R,U),V.prototype.show.call(this,F,R,U)},E}(ColumnSeriesDataItem),TreeMapSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="TreeMapSeries",F.applyTheme(),F.fillOpacity=1,F.strokeOpacity=1,F.minBulletDistance=0,F.columns.template.tooltipText="{parentName} {name}: {value}",F.columns.template.configField="config";var R=new InterfaceColorSet;return F.stroke=R.getFor("background"),F.dataFields.openValueX="x0",F.dataFields.valueX="x1",F.dataFields.openValueY="y0",F.dataFields.valueY="y1",F.sequencedInterpolation=!1,F.showOnInit=!1,F.columns.template.pixelPerfect=!1,F}return E.prototype.processDataItem=function(F,R){R.seriesDataItem=F,V.prototype.processDataItem.call(this,F,R)},E.prototype.createDataItem=function(){return new TreeMapSeriesDataItem},E.prototype.show=function(F){if(!this.preventShow){var R=this.defaultState.transitionDuration;return isNumber$1(F)&&(R=F),this.dataItems.each(function(U){U.show(F)}),V.prototype.showReal.call(this,R)}},E.prototype.hide=function(F){var R=this.defaultState.transitionDuration;isNumber$1(F)&&(R=F);var U=V.prototype.hideReal.call(this,R);return this.dataItems.each(function(W){W.hide(F)}),U},E.prototype.processValues=function(){},E.prototype.getStartLocation=function(F){return 0},E.prototype.getEndLocation=function(F){return 1},E.prototype.dataChangeUpdate=function(){},E.prototype.processConfig=function(F){F&&(!hasValue(F.dataFields)||!isObject$3(F.dataFields))&&(F.dataFields={}),V.prototype.processConfig.call(this,F)},E.prototype.createLegendMarker=function(F){var R=F.pixelWidth,U=F.pixelHeight;F.removeChildren();var W=F.createChild(RoundedRectangle);W.shouldClone=!1,copyProperties$1(this,W,visualProperties),W.padding(0,0,0,0),W.width=R,W.height=U;var Y=F.dataItem;Y.color=W.fill,Y.colorOrig=W.fill},E.prototype.disableUnusedColumns=function(F){V.prototype.disableUnusedColumns.call(this,F),F.column&&(F.column.__disabled=!1)},E}(ColumnSeries);registry.registeredClasses.TreeMapSeries=TreeMapSeries;registry.registeredClasses.TreeMapSeriesDataItem=TreeMapSeriesDataItem;var TreeMapDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.rows=[],F.className="TreeMapDataItem",F.values.value={workingValue:0},F.values.x0={},F.values.y0={},F.values.x1={},F.values.y1={},F.hasChildren.children=!0,F.applyTheme(),F}return Object.defineProperty(E.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(F){this._legendDataItem=F,F.label&&(F.label.dataItem=this),F.valueLabel&&(F.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),E.prototype.getDuration=function(){return 0},Object.defineProperty(E.prototype,"value",{get:function(){var F=0;return!this.children||this.children.length==0?F=this.values.value.workingValue:each(this.children.iterator(),function(R){var U=R.value;isNumber$1(U)&&(F+=U)}),F},set:function(F){this.setValue("value",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"x0",{get:function(){return this.values.x0.value},set:function(F){this.setValue("x0",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"x1",{get:function(){return this.values.x1.value},set:function(F){this.setValue("x1",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"y0",{get:function(){return this.values.y0.value},set:function(F){this.setValue("y0",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"y1",{get:function(){return this.values.y1.value},set:function(F){this.setValue("y1",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"name",{get:function(){return this.properties.name},set:function(F){this.setProperty("name",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"children",{get:function(){return this.properties.children},set:function(F){this.setProperty("children",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"color",{get:function(){var F=this.properties.color;return F==null&&this.parent&&(F=this.parent.color),F==null&&this.component&&(F=this.component.colors.getIndex(this.component.colors.step*this.index)),F},set:function(F){this.setProperty("color",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"series",{get:function(){return this._series},set:function(F){F!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=F,this._disposers.push(F))},enumerable:!0,configurable:!0}),E.prototype.hide=function(F,R,U,W){this.setWorkingValue("value",0),this.children&&this.children.each(function(G){G.hide(F,R,U,W)});var Y=this.seriesDataItem;return Y&&Y.bullets.each(function(G,X){X.hide(),X.preventShow=!0}),V.prototype.hide.call(this,F,R,U,W)},E.prototype.show=function(F,R,U){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(Y){Y.show(F,R,U)});var W=this.seriesDataItem;return W&&W.bullets.each(function(Y,G){G.preventShow=!1}),V.prototype.show.call(this,F,R,U)},E}(XYChartDataItem),TreeMap=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.layoutAlgorithm=F.squarify,F.zoomable=!0,F.className="TreeMap",F._usesData=!0,F.maxLevels=2,F.currentLevel=0,F.hideParentColumns=!1,F.colors=new ColorSet,F.sorting="descending";var R=F.xAxes.push(new ValueAxis);R.title.disabled=!0,R.strictMinMax=!0;var U=R.renderer;U.inside=!0,U.labels.template.disabled=!0,U.ticks.template.disabled=!0,U.grid.template.disabled=!0,U.axisFills.template.disabled=!0,U.minGridDistance=100,U.line.disabled=!0,U.baseGrid.disabled=!0;var W=F.yAxes.push(new ValueAxis);W.title.disabled=!0,W.strictMinMax=!0;var Y=W.renderer;Y.inside=!0,Y.labels.template.disabled=!0,Y.ticks.template.disabled=!0,Y.grid.template.disabled=!0,Y.axisFills.template.disabled=!0,Y.minGridDistance=100,Y.line.disabled=!0,Y.baseGrid.disabled=!0,Y.inversed=!0,F.xAxis=R,F.yAxis=W;var G=new TreeMapSeries;return F.seriesTemplates=new DictionaryTemplate(G),G.virtualParent=F,F._disposers.push(new DictionaryDisposer(F.seriesTemplates)),F._disposers.push(G),F.zoomOutButton.events.on("hit",function(){F.zoomToChartDataItem(F._homeDataItem)},void 0,!1),F.seriesTemplates.events.on("insertKey",function(X){X.newValue.isTemplate=!0},void 0,!1),F.applyTheme(),F}return Object.defineProperty(E.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(F){var R=this;this._navigationBar!=F&&(this._navigationBar=F,F.parent=this,F.toBack(),F.links.template.events.on("hit",function(U){var W=U.target.dataItem.dataContext;W.isDisposed()||(R.zoomToChartDataItem(W),R.createTreeSeries(W))},void 0,!0),this._disposers.push(F))},enumerable:!0,configurable:!0}),E.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],V.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var F=this.dataItems.template.clone();this._homeDataItem=F,each(this.dataItems.iterator(),function(W){W.parent=F}),F.children=this.dataItems,F.x0=0,F.y0=0,F.name=this._homeText;var R=1e3,U=Math.round(R*this.pixelHeight/this.pixelWidth/10)*10||1e3;F.x1=R,F.y1=U,this.xAxis.min=0,this.xAxis.max=R,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=U,this.yAxis.getMinMax(),this.layoutItems(F),this.createTreeSeries(F),this.feedLegend()},E.prototype.layoutItems=function(F,R){if(F){var U=F.children;R||(R=this.sorting),R=="ascending"&&U.values.sort(function(X,K){return X.value-K.value}),R=="descending"&&U.values.sort(function(X,K){return K.value-X.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(F);for(var W=0,Y=U.length;W<Y;W++){var G=U.getIndex(W);G.children&&this.layoutItems(G)}}},E.prototype.createTreeSeries=function(F){var R=this;this._tempSeries=[];for(var U=[F],W=F.parent;W!=null;)this.initSeries(W),U.push(W),W=W.parent;U.reverse(),this.navigationBar&&(this.navigationBar.data=U),this.createTreeSeriesReal(F),each$2(this._tempSeries,function(Y){R.series.indexOf(Y)==-1&&R.series.push(Y),Y.zIndex=Y.level})},E.prototype.createTreeSeriesReal=function(F){if(F.children){var R=F.level;if(R<this.currentLevel+this.maxLevels){this.initSeries(F);for(var U=0;U<F.children.length;U++){var W=F.children.getIndex(U);W.children&&this.createTreeSeriesReal(W)}}}},E.prototype.setData=function(F){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,V.prototype.setData.call(this,F)},E.prototype.seriesAppeared=function(){return!0},E.prototype.initSeries=function(F){var R=this;if(!F.series){var U=void 0,W=this.seriesTemplates.getKey(F.level.toString());W?U=W.clone():U=this.series.create(),U.dataItem.dataContext=F,U.name=F.name,U.parentDataItem=F,F.series=U;var Y=F.level;U.level=Y;var G=F.dataContext;G&&(U.config=G.config),this.dataUsers.removeValue(U),U.data=F.children.values,U.fill=F.color,U.columnsContainer.hide(0),U.bulletsContainer.hide(0),U.columns.template.adapter.add("fill",function(X,K){var Z=K.dataItem;if(Z){var J=Z.treeMapDataItem;if(J)return K.fill=J.color,K.adapter.remove("fill"),J.color}}),this.zoomable&&(F.level>this.currentLevel||F.children&&F.children.length>0)&&(U.columns.template.cursorOverStyle=MouseCursorStyle.pointer,this.zoomable&&U.columns.template.events.on("hit",function(X){var K=X.target.dataItem;F.level>R.currentLevel?R.zoomToChartDataItem(K.treeMapDataItem.parent):R.zoomToSeriesDataItem(K)},this,void 0))}this._tempSeries.push(F.series)},E.prototype.toggleBullets=function(F){var R=this;each(this.series.iterator(),function(U){R._tempSeries.indexOf(U)==-1?(U.columnsContainer.hide(),U.bulletsContainer.hide(F)):(U.columnsContainer.show(),U.bulletsContainer.show(F),U.dataItems.each(function(W){W.bullets.each(function(Y,G){G.show()})}),U.level<R.currentLevel?(R.hideParentColumns&&U.columnsContainer.hide(),U.bulletsContainer.hide(F)):U.level==R.currentLevel&&R.maxLevels>1&&U.dataItems.each(function(W){W.treeMapDataItem.children&&W.bullets.each(function(Y,G){G.hide()})}))})},E.prototype.zoomToSeriesDataItem=function(F){this.zoomToChartDataItem(F.treeMapDataItem)},E.prototype.zoomToChartDataItem=function(F){var R=this;F||(F=this._homeDataItem);var U=this.zoomOutButton;if(U&&(F!=this._homeDataItem?U.show():U.hide()),F&&F.children){this.xAxis.zoomToValues(F.x0,F.x1),this.yAxis.zoomToValues(F.y0,F.y1),this.currentLevel=F.level,this.currentlyZoomed=F,this.createTreeSeries(F);var W=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;W&&!W.isDisposed()&&!W.isFinished()?(this._dataDisposers.push(W),W.events.once("animationended",function(){R.toggleBullets()})):this.toggleBullets()}},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},E.prototype.createDataItem=function(){return new TreeMapDataItem},Object.defineProperty(E.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(F){this.setPropertyValue("maxLevels",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(F){this.setPropertyValue("currentLevel",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(F){this.setPropertyValue("hideParentColumns",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(F){this.setPropertyValue("sorting",F,!0)},enumerable:!0,configurable:!0}),E.prototype.createSeries=function(){return new TreeMapSeries},Object.defineProperty(E.prototype,"homeText",{get:function(){return this._homeText},set:function(F){this._homeText=F,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),E.prototype.processConfig=function(F){if(F){if(hasValue(F.layoutAlgorithm)&&isString$2(F.layoutAlgorithm))switch(F.layoutAlgorithm){case"squarify":F.layoutAlgorithm=this.squarify;break;case"binaryTree":F.layoutAlgorithm=this.binaryTree;break;case"slice":F.layoutAlgorithm=this.slice;break;case"dice":F.layoutAlgorithm=this.dice;break;case"sliceDice":F.layoutAlgorithm=this.sliceDice;break;default:delete F.layoutAlgorithm;break}hasValue(F.navigationBar)&&!hasValue(F.navigationBar.type)&&(F.navigationBar.type="NavigationBar"),V.prototype.processConfig.call(this,F)}},E.prototype.validateLayout=function(){V.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},E.prototype.validateDataItems=function(){V.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),each(this.series.iterator(),function(F){F.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},E.prototype.binaryTree=function(F){var R=F.children,U,W=R.length,Y,G=new Array(W+1);for(G[0]=Y=U=0;U<W;++U)G[U+1]=Y+=R.getIndex(U).value;W>0&&X(0,W,F.value,F.x0,F.y0,F.x1,F.y1);function X(K,Z,J,Q,ee,te,ie){if(K>=Z-1){var re=R.getIndex(K);re.x0=Q,re.y0=ee,re.x1=te,re.y1=ie;return}for(var ne=G[K],ae=J/2+ne,se=K+1,le=Z-1;se<le;){var oe=se+le>>>1;G[oe]<ae?se=oe+1:le=oe}ae-G[se-1]<G[se]-ae&&K+1<se&&--se;var ue=G[se]-ne,ce=J-ue;if(J==0){var re=R.getIndex(K);re.x0=Q,re.y0=ee,re.x1=te,re.y1=ie;return}if(te-Q>ie-ee){var he=(Q*ce+te*ue)/J;X(K,se,ue,Q,ee,he,ie),X(se,Z,ce,he,ee,te,ie)}else{var me=(ee*ce+ie*ue)/J;X(K,se,ue,Q,ee,te,me),X(se,Z,ce,Q,me,te,ie)}}},E.prototype.slice=function(F){for(var R=F.x0,U=F.x1,W=F.y0,Y=F.y1,G=F.children,X,K=-1,Z=G.length,J=F.value&&(Y-W)/F.value;++K<Z;)X=G.getIndex(K),X.x0=R,X.x1=U,X.y0=W,W+=X.value*J,X.y1=W},E.prototype.dice=function(F){for(var R=F.x0,U=F.x1,W=F.y0,Y=F.y1,G=F.children,X,K=-1,Z=G.length,J=F.value&&(U-R)/F.value;++K<Z;)X=G.getIndex(K),X.y0=W,X.y1=Y,X.x0=R,R+=X.value*J,X.x1=R},E.prototype.sliceDice=function(F){F.level&1?this.slice(F):this.dice(F)},E.prototype.squarify=function(F){for(var R=(1+Math.sqrt(5))/2,U=F.x0,W=F.x1,Y=F.y0,G=F.y1,X=F.children,K,Z=0,J=0,Q=X.length,ee,te,ie=F.value,re,ne,ae,se,le,oe,ue;Z<Q;){ee=W-U,te=G-Y;do re=X.getIndex(J++).value;while(!re&&J<Q);for(ne=ae=re,oe=Math.max(te/ee,ee/te)/(ie*R),ue=re*re*oe,le=Math.max(ae/ue,ue/ne);J<Q;++J){if(re+=K=X.getIndex(J).value,K<ne&&(ne=K),K>ae&&(ae=K),ue=re*re*oe,se=Math.max(ae/ue,ue/ne),se>le){re-=K;break}le=se}var ce=this.dataItems.template.clone();ce.value=re,ce.dice=ee<te,ce.children=X.slice(Z,J),ce.x0=U,ce.y0=Y,ce.x1=W,ce.y1=G,ce.dice?(ce.y1=ie?Y+=te*re/ie:G,this.dice(ce)):(ce.x1=ie?U+=ee*re/ie:W,this.slice(ce)),ie-=re,Z=J}},E.prototype.handleSeriesAdded2=function(){},E.prototype.handleDataItemValueChange=function(F,R){R=="value"&&this.invalidateDataItems()},E.prototype.handleDataItemWorkingValueChange=function(F,R){R=="value"&&this.invalidateDataItems()},E.prototype.getLegendLevel=function(F){if(!!F&&!!F.children){if(F.children.length>1)return F;if(F.children.length==1){var R=F.children.getIndex(0);return R.children?this.getLegendLevel(R):F}else return F}},E.prototype.handleLegendSeriesAdded=function(F){},Object.defineProperty(E.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),E.prototype.feedLegend=function(){var F=this.legend;if(F){F.dataFields.name="name";var R=this.getLegendLevel(this._homeDataItem);if(R){var U=[];R.children.each(function(W){U.push(W)}),F.data=U}}},E.prototype.disposeData=function(){V.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},E.prototype.getExporting=function(){var F=this,R=V.prototype.getExporting.call(this);return R.adapter.add("formatDataFields",function(U){return(U.format=="csv"||U.format=="xlsx")&&hasValue(F.dataFields.children)&&delete U.dataFields[F.dataFields.children],U}),R},E}(XYChart);registry.registeredClasses.TreeMap=TreeMap;var AxisRendererX3D=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._chart=new MutableValueDisposer,F.className="AxisRendererX3D",F._disposers.push(F._chart),F.applyTheme(),F}return E.prototype.updateGridElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R);if(F.element){var Y=this.chart.dx3D||0,G=this.chart.dy3D||0,X=this.getHeight();F.path=moveTo({x:Y,y:G})+lineTo({x:Y,y:X+G})+lineTo({x:0,y:X})}this.positionItem(F,W),this.toggleVisibility(F,R,0,1)},E.prototype.updateBaseGridElement=function(){V.prototype.updateBaseGridElement.call(this);var F=this.getHeight(),R=this.chart.dx3D||0,U=this.chart.dy3D||0;this.baseGrid.path=moveTo({x:R,y:U})+lineTo({x:0,y:0})+lineTo({x:0,y:F})},Object.defineProperty(E.prototype,"chart",{get:function(){return this._chart.get()},set:function(F){F&&this._chart.set(F,F.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),E.prototype.handle3DChanged=function(F){(F.property=="depth"||F.property=="angle")&&this.invalidate()},E}(AxisRendererX);registry.registeredClasses.AxisRendererX3D=AxisRendererX3D;var AxisRendererY3D=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._chart=new MutableValueDisposer,F.className="AxisRendererY3D",F._disposers.push(F._chart),F.applyTheme(),F}return E.prototype.updateGridElement=function(F,R,U){R=R+(U-R)*F.location;var W=this.positionToPoint(R);if(F.element){var Y=this.chart.dx3D||0,G=this.chart.dy3D||0,X=this.getWidth();F.path=moveTo({x:0,y:0})+lineTo({x:Y,y:G})+lineTo({x:X+Y,y:G})}this.positionItem(F,W),this.toggleVisibility(F,R,0,1)},E.prototype.updateBaseGridElement=function(){V.prototype.updateBaseGridElement.call(this);var F=this.chart.dx3D||0,R=this.chart.dy3D||0,U=this.getWidth();this.baseGrid.path=moveTo({x:0,y:0})+lineTo({x:U,y:0})+lineTo({x:U+F,y:R})},Object.defineProperty(E.prototype,"chart",{get:function(){return this._chart.get()},set:function(F){F&&this._chart.set(F,F.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),E.prototype.handle3DChanged=function(F){(F.property=="depth"||F.property=="angle")&&this.invalidate()},E}(AxisRendererY),Column3D=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Column3D",F}return E.prototype.createAssets=function(){this.column3D=this.createChild(Rectangle3D),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},E.prototype.validate=function(){V.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.column3D&&this.column3D.copyFrom(F.column3D)},E.prototype.setFill=function(F){V.prototype.setFill.call(this,F),this.column.fill=F},E}(Column);registry.registeredClasses.Column3D=Column3D;var ColumnSeries3DDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ColumnSeries3DDataItem",F.applyTheme(),F}return E}(ColumnSeriesDataItem),ColumnSeries3D=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ColumnSeries3D",F.columns.template.column3D.applyOnClones=!0,F.columns.template.hiddenState.properties.visible=!0,F.applyTheme(),F}return Object.defineProperty(E.prototype,"columnsContainer",{get:function(){var F=this.chart;return F&&F.columnsContainer&&F.leftAxesContainer.layout!="vertical"&&F.rightAxesContainer.layout!="vertical"&&F.bottomAxesContainer.layout!="horizontal"&&F.topAxesContainer.layout!="horizontal"?F.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),E.prototype.validateDataElementReal=function(F){V.prototype.validateDataElementReal.call(this,F),F.column&&(F.column.dx=this.dx,F.column.dy=this.dy,F.column.visible=this.visible)},E.prototype.validateDataElements=function(){V.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},E.prototype.createColumnTemplate=function(){return new Column3D},Object.defineProperty(E.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(F){this.setPropertyValue("depth",F,!0);var R=this.columns.template;R.column3D.depth=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(F){this.setPropertyValue("angle",F);var R=this.columns.template;R.column3D.angle=F},enumerable:!0,configurable:!0}),E}(ColumnSeries);registry.registeredClasses.ColumnSeries3D=ColumnSeries3D;registry.registeredClasses.ColumnSeries3DDataItem=ColumnSeries3DDataItem;(function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="XYChart3DDataItem",F.applyTheme(),F}return E})(XYChartDataItem);var XYChart3D=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._axisRendererX=AxisRendererX3D,F._axisRendererY=AxisRendererY3D,F.className="XYChart3D",F.depth=30,F.angle=30;var R=F.seriesContainer.createChild(Container);return R.shouldClone=!1,R.isMeasured=!1,R.layout="none",F.columnsContainer=R,F.columnsContainer.mask=F.createChild(Sprite),F.applyTheme(),F}return E.prototype.updateSeriesMasks=function(){if(V.prototype.updateSeriesMasks.call(this),isIE()){var F=this.columnsContainer,R=F.mask;F.mask=void 0,F.mask=R}},Object.defineProperty(E.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(F){this.setPropertyValue("depth",F),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(F){this.setPropertyValue("angle",F),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dx3D",{get:function(){return cos(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dy3D",{get:function(){return-sin(this.angle)*this.depth},enumerable:!0,configurable:!0}),E.prototype.validateLayout=function(){V.prototype.validateLayout.call(this),this.fixColumns()},E.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),V.prototype.fixLayout.call(this)},E.prototype.fixColumns=function(){var F=this,R=1,U=0;each(this.series.iterator(),function(Y){Y instanceof ColumnSeries3D&&(!Y.clustered&&U>0&&R++,Y.depthIndex=R-1,U++)});var W=0;each(this.series.iterator(),function(Y){if(Y instanceof ColumnSeries3D){Y.depth=F.depth/R,Y.angle=F.angle,Y.columnsContainer==F.columnsContainer&&(Y.dx=F.depth/R*cos(F.angle)*Y.depthIndex,Y.dy=-F.depth/R*sin(F.angle)*Y.depthIndex);var G=!1;(Y.baseAxis==Y.xAxis&&Y.xAxis.renderer.inversed||Y.baseAxis==Y.yAxis&&Y.yAxis.renderer.inversed)&&(G=!0);var X=1;Y.dataItems.each(function(K){var Z=K.column;Z&&(G?Z.zIndex=1e3*(1e3-X)+W-Y.depthIndex*100:Z.zIndex=1e3*X+W-Y.depthIndex*100),X++}),G?W--:W++}}),this.maskColumns()},E.prototype.processConfig=function(F){if(F&&hasValue(F.series)&&isArray$2(F.series))for(var R=0,U=F.series.length;R<U;R++)F.series[R].type=F.series[R].type||"ColumnSeries3D";V.prototype.processConfig.call(this,F)},E.prototype.maskColumns=function(){var F=this.plotContainer.pixelWidth,R=this.plotContainer.pixelHeight,U=this.dx3D,W=this.dy3D,Y=moveTo({x:0,y:0})+lineTo({x:U,y:W})+lineTo({x:F+U,y:W})+lineTo({x:F+U,y:R+W})+lineTo({x:F,y:R})+lineTo({x:F,y:R})+lineTo({x:0,y:R})+closePath(),G=this.columnsContainer;G&&G.mask&&(G.mask.path=Y)},E}(XYChart);registry.registeredClasses.XYChart3D=XYChart3D;var HeatLegend=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="HeatLegend",F.markerContainer=F.createChild(Container),F.markerContainer.shouldClone=!1,F.markerCount=1;var R=new RoundedRectangle;return R.minHeight=20,R.minWidth=20,R.interactionsEnabled=!1,R.fillOpacity=1,R.cornerRadius(0,0,0,0),F.markerContainer.minHeight=20,F.markerContainer.minWidth=20,F.orientation="horizontal",F.markers=new ListTemplate(R),F._disposers.push(new ListDisposer(F.markers)),F._disposers.push(F.markers.template),F.applyTheme(),F}return E.prototype.getMinFromRules=function(F){var R=this.series;if(R){var U;return eachContinue(R.heatRules.iterator(),function(W){return W.property==F?(U=W.min,!1):!0}),U}},E.prototype.getMaxFromRules=function(F){var R=this.series;if(R){var U;return each(R.heatRules.iterator(),function(W){return W.property==F?(U=W.max,!1):!0}),U}},E.prototype.validate=function(){V.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var F=this.series,R=this.minColor,U=this.maxColor;if(hasValue(R)||(R=toColor(this.getMinFromRules("fill"))),hasValue(U)||(U=toColor(this.getMaxFromRules("fill"))),F){var W=F.fill;!hasValue(R)&&W instanceof Color&&(R=W),!hasValue(U)&&W instanceof Color&&(U=W)}hasValue(U)||(U=toColor(this.getMaxFromRules("fill")));var Y=toNumber(this.getMinFromRules("fillOpacity"));isNumber$1(Y)||(Y=1);var G=toNumber(this.getMaxFromRules("fillOpacity"));isNumber$1(G)||(G=1);var X=toNumber(this.getMinFromRules("strokeOpacity"));isNumber$1(X)||(X=1);var K=toNumber(this.getMaxFromRules("strokeOpacity"));isNumber$1(K)||(K=1);for(var Z=toColor(this.getMinFromRules("stroke")),J=toColor(this.getMaxFromRules("stroke")),Q=0;Q<this.markerCount;Q++){var ee=this.markers.getIndex(Q);if(ee||(ee=this.markers.create(),ee.parent=this.markerContainer,ee.height=percent(100),ee.width=percent(100)),this.markerCount==1){var te=new LinearGradient;if(this.reverseOrder?(te.addColor(U,G),te.addColor(R,Y)):(te.addColor(R,Y),te.addColor(U,G)),this.orientation=="vertical"&&(te.rotation=-90),ee.fill=te,hasValue(Z)&&hasValue(J)){var ie=new LinearGradient;this.reverseOrder?(ie.addColor(J,K),ie.addColor(Z,X)):(ie.addColor(Z,X),ie.addColor(J,K)),this.orientation=="vertical"&&(ie.rotation=-90),ee.stroke=ie}}else{var re=Q;this.reverseOrder&&(re=this.markerCount-Q-1);var ne=new Color(interpolate(R.rgb,U.rgb,re/this.markerCount));ee.fill=ne;var ae=Y+(G-Y)*re/this.markerCount;if(ee.fillOpacity=ae,hasValue(Z)&&hasValue(J)){var se=new Color(interpolate(Z.rgb,J.rgb,re/this.markerCount));ee.stroke=se;var le=X+(K-X)*re/this.markerCount;ee.strokeOpacity=le}}}var oe=this.valueAxis.renderer;this.markerCount>1&&(this.orientation=="horizontal"?oe.minGridDistance=this.measuredWidth/this.markerCount:oe.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();for(var Q=this.markerCount,ue=this.markers.length;Q<ue;Q++)this.markers.getIndex(Q).parent=void 0},Object.defineProperty(E.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(F){F instanceof Color||(F=toColor(F)),this.setColorProperty("minColor",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(F){F instanceof Color||(F=toColor(F)),this.setColorProperty("maxColor",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(F){this.setPropertyValue("markerCount",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(F){this.setPropertyValue("minValue",F),this.valueAxis.min=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(F){this.setPropertyValue("maxValue",F),this.valueAxis.max=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(F){this.setPropertyValue("orientation",F,!0);var R=this.markerContainer,U=this.valueAxis;F=="horizontal"?(hasValue(this.width)||(this.width=200),this.height=void 0,U.width=percent(100),U.height=void 0,U.tooltip.pointerOrientation="vertical",this.layout="vertical",R.width=percent(100),R.height=void 0,U.renderer instanceof AxisRendererX||(U.renderer=new AxisRendererX)):(hasValue(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",R.width=void 0,R.height=percent(100),U.height=percent(100),U.width=void 0,U.tooltip.pointerOrientation="horizontal",U.renderer instanceof AxisRendererY||(U.renderer=new AxisRendererY),U.renderer.inside=!0,U.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var W=U.renderer;W.grid.template.disabled=!0,W.axisFills.template.disabled=!0,W.baseGrid.disabled=!0,W.labels.template.padding(2,3,2,3),W.minHeight=void 0,W.minWidth=void 0,this.markerContainer.layout=F},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(ValueAxis),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(F){this._valueAxis=F,F.parent=this,F.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"series",{get:function(){return this._series},set:function(F){var R=this;this._series=F;var U="value";try{var W=F.heatRules.getIndex(0).dataField;W&&(U=W)}catch{}this.updateMinMax(F.dataItem.values[U].low,F.dataItem.values[U].high),F.dataItem.events.on("calculatedvaluechanged",function(Y){R.updateMinMax(F.dataItem.values[U].low,F.dataItem.values[U].high)},void 0,!1),F.heatRules.events.on("inserted",this.invalidate,this,!1),F.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),E.prototype.updateMinMax=function(F,R){var U=this.valueAxis;isNumber$1(this.minValue)||(U.min=F,U.invalidate()),isNumber$1(this.maxValue)||(U.max=R,U.invalidate())},E.prototype.processConfig=function(F){if(F&&hasValue(F.series)&&isString$2(F.series)&&isString$2(F.series))if(this.map.hasKey(F.series))F.series=this.map.getKey(F.series);else{var R=F.series,U=this.map.events.on("insertKey",function(W){W.key==R&&(this.series=W.newValue,U.dispose())},this);this._disposers.push(U),delete F.series}V.prototype.processConfig.call(this,F)},E}(Container);registry.registeredClasses.HeatLegend=HeatLegend;var Candlestick=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="Candlestick",F.layout="none",F}return E.prototype.createAssets=function(){V.prototype.createAssets.call(this),this.lowLine=this.createChild(Line),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Line),this.highLine.shouldClone=!1},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.lowLine&&this.lowLine.copyFrom(F.lowLine),this.highLine&&this.highLine.copyFrom(F.highLine)},E}(Column);registry.registeredClasses.Candlestick=Candlestick;var CandlestickSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.values.lowValueX={},F.values.lowValueY={},F.values.highValueX={},F.values.highValueY={},F.className="CandlestickSeriesDataItem",F.applyTheme(),F}return Object.defineProperty(E.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(F){this.setValue("lowValueX",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(F){this.setValue("lowValueY",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(F){this.setValue("highValueX",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(F){this.setValue("highValueY",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(F){this.setValue("valueX",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(F){this.setValue("valueY",F)},enumerable:!0,configurable:!0}),E}(ColumnSeriesDataItem),CandlestickSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="CandlestickSeries",F.groupFields.lowValueX="low",F.groupFields.lowValueY="low",F.groupFields.highValueX="high",F.groupFields.highValueY="high",F.strokeOpacity=1;var R=new InterfaceColorSet,U=R.getFor("positive"),W=R.getFor("negative");return F.dropFromOpenState.properties.fill=W,F.dropFromOpenState.properties.stroke=W,F.riseFromOpenState.properties.fill=U,F.riseFromOpenState.properties.stroke=U,F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},E.prototype.createDataItem=function(){return new CandlestickSeriesDataItem},E.prototype.validateDataElementReal=function(F){V.prototype.validateDataElementReal.call(this,F),this.validateCandlestick(F)},E.prototype.validateCandlestick=function(F){var R=F.column;if(R){var U=R.lowLine,W=R.highLine;if(this.baseAxis==this.xAxis){var Y=R.pixelWidth/2;U.x=Y,W.x=Y;var G=F.getWorkingValue(this.yOpenField),X=F.getWorkingValue(this.yField),K=this.yAxis.getY(F,this.yOpenField),Z=this.yAxis.getY(F,this.yField),J=this.yAxis.getY(F,this.yLowField),Q=this.yAxis.getY(F,this.yHighField),ee=R.pixelY;U.y1=J-ee,W.y1=Q-ee,G<X?(U.y2=K-ee,W.y2=Z-ee):(U.y2=Z-ee,W.y2=K-ee)}if(this.baseAxis==this.yAxis){var te=R.pixelHeight/2;U.y=te,W.y=te;var ie=F.getWorkingValue(this.xOpenField),re=F.getWorkingValue(this.xField),ne=this.xAxis.getX(F,this.xOpenField),ae=this.xAxis.getX(F,this.xField),se=this.xAxis.getX(F,this.xLowField),le=this.xAxis.getX(F,this.xHighField),oe=R.pixelX;U.x1=se-oe,W.x1=le-oe,ie<re?(U.x2=ne-oe,W.x2=ae-oe):(U.x2=ae-oe,W.x2=ne-oe)}each(this.axisRanges.iterator(),function(ue){var ce=F.rangesColumns.getKey(ue.uid);if(ce){var he=ce.lowLine;he.x=U.x,he.y=U.y,he.x1=U.x1,he.x2=U.x2,he.y1=U.y1,he.y2=U.y2;var me=ce.highLine;me.x=W.x,me.y=W.y,me.x1=W.x1,me.x2=W.x2,me.y1=W.y1,me.y2=W.y2}})}},Object.defineProperty(E.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),E.prototype.defineFields=function(){V.prototype.defineFields.call(this);var F=this.xAxis,R=this.yAxis;if(F&&R){if(this.baseAxis==F){var U=capitalize(R.axisFieldName);this._yLowField="low"+U+"Y",this._yHighField="high"+U+"Y"}if(this.baseAxis==R){var W=capitalize(F.axisFieldName);this._xLowField="low"+W+"X",this._xHighField="high"+W+"X"}this.addValueField(F,this._xValueFields,this._xLowField),this.addValueField(F,this._xValueFields,this._xHighField),this.addValueField(R,this._yValueFields,this._yLowField),this.addValueField(R,this._yValueFields,this._yHighField)}},E.prototype.createLegendMarker=function(F){var R=F.pixelWidth,U=F.pixelHeight;F.removeChildren();var W=F.createChild(Candlestick);W.shouldClone=!1,W.copyFrom(this.columns.template);var Y,G,X=W.lowLine,K=W.highLine;this.baseAxis==this.yAxis?(Y=R/3,G=U,X.y=U/2,K.y=U/2,X.x2=R/3,K.x2=R/3,K.x=R/3*2,W.column.x=R/3):(Y=R,G=U/3,X.x=R/2,K.x=R/2,X.y2=U/3,K.y2=U/3,K.y=U/3*2,W.column.y=U/3),W.width=Y,W.height=G,copyProperties$1(this,F,visualProperties),copyProperties$1(this.columns.template,W,visualProperties),W.stroke=this.riseFromOpenState.properties.stroke,W.fill=W.stroke;var Z=F.dataItem;Z.color=W.fill,Z.colorOrig=W.fill},E.prototype.createColumnTemplate=function(){return new Candlestick},E}(ColumnSeries);registry.registeredClasses.CandlestickSeries=CandlestickSeries;registry.registeredClasses.CandlestickSeriesDataItem=CandlestickSeriesDataItem;var OHLC=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="OHLC",F.layout="none",F}return E.prototype.createAssets=function(){this.openLine=this.createChild(Line),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Line),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Line),this.closeLine.shouldClone=!1},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.openLine&&this.openLine.copyFrom(F.openLine),this.highLowLine&&this.highLowLine.copyFrom(F.highLowLine),this.closeLine&&this.closeLine.copyFrom(F.closeLine)},E}(Candlestick);registry.registeredClasses.OHLC=OHLC;var OHLCSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="OHLCSeriesDataItem",F.applyTheme(),F}return E}(CandlestickSeriesDataItem),OHLCSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="OHLCSeries",F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},E.prototype.createDataItem=function(){return new OHLCSeriesDataItem},E.prototype.validateCandlestick=function(F){var R=F.column;if(R){var U=R.openLine,W=R.highLowLine,Y=R.closeLine;if(this.baseAxis==this.xAxis){var G=R.pixelWidth/2;W.x=G,F.getWorkingValue(this.yOpenField),F.getWorkingValue(this.yField);var X=this.yAxis.getY(F,this.yOpenField),K=this.yAxis.getY(F,this.yField),Z=this.yAxis.getY(F,this.yLowField),J=this.yAxis.getY(F,this.yHighField),Q=R.pixelY;U.y1=X-Q,U.y2=X-Q,U.x1=0,U.x2=G,Y.y1=K-Q,Y.y2=K-Q,Y.x1=G,Y.x2=2*G,W.y1=J-Q,W.y2=Z-Q}if(this.baseAxis==this.yAxis){var ee=R.pixelHeight/2;W.y=ee,F.getWorkingValue(this.xOpenField),F.getWorkingValue(this.xField);var te=this.xAxis.getX(F,this.xOpenField),ie=this.xAxis.getX(F,this.xField),re=this.xAxis.getX(F,this.xLowField),ne=this.xAxis.getX(F,this.xHighField),ae=R.pixelX;U.x1=te-ae,U.x2=te-ae,U.y1=ee,U.y2=2*ee,Y.x1=ie-ae,Y.x2=ie-ae,Y.y1=0,Y.y2=ee,W.x1=ne-ae,W.x2=re-ae}each(this.axisRanges.iterator(),function(se){var le=F.rangesColumns.getKey(se.uid);if(le){var oe=le.openLine;oe.x=U.x,oe.y=U.y,oe.x1=U.x1,oe.x2=U.x2,oe.y1=U.y1,oe.y2=U.y2;var ue=le.closeLine;ue.x=Y.x,ue.y=Y.y,ue.x1=Y.x1,ue.x2=Y.x2,ue.y1=Y.y1,ue.y2=Y.y2;var ce=le.highLowLine;ce.x=W.x,ce.y=W.y,ce.x1=W.x1,ce.x2=W.x2,ce.y1=W.y1,ce.y2=W.y2}})}},E.prototype.createLegendMarker=function(F){var R=F.pixelWidth,U=F.pixelHeight;F.removeChildren();var W=F.createChild(OHLC);W.shouldClone=!1,W.copyFrom(this.columns.template);var Y,G,X=W.openLine,K=W.closeLine,Z=W.highLowLine;this.baseAxis==this.yAxis?(Y=R/3,G=U,Z.y=U/2,Z.x2=R,X.x=R/3*2,X.y2=U/2,K.x=R/3,K.y2=U,K.y1=U/2):(Y=R,G=U/3,Z.x=R/2,Z.y2=U,X.y=U/3*2,X.x2=R/2,K.y=U/3,K.x2=R,K.x1=R/2),W.width=Y,W.height=G,copyProperties$1(this,F,visualProperties),copyProperties$1(this.columns.template,W,visualProperties),W.stroke=this.riseFromOpenState.properties.stroke;var J=F.dataItem;J.color=W.stroke,J.colorOrig=W.stroke},E.prototype.createColumnTemplate=function(){return new OHLC},E}(CandlestickSeries);registry.registeredClasses.OHLCSeries=OHLCSeries;registry.registeredClasses.OHLCSeriesDataItem=OHLCSeriesDataItem;var StepLineSeriesSegment=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="StepLineSeriesSegment",F}return E.prototype.drawSegment=function(F,R,U,W,Y,G){if(F.length>0&&R.length>0)if(Y){var X=moveTo(F[0]);if(F.length>0)for(var K=1;K<F.length;K++){var Z=F[K];K/2==Math.round(K/2)?X+=moveTo(Z):X+=lineTo(Z)}this.strokeSprite.path=X,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(X=moveTo(F[0])+polyline(F),X+=lineTo(R[0])+polyline(R),X+=lineTo(F[0]),X+=closePath(),this.fillSprite.path=X)}else{var X=moveTo(F[0])+polyline(F);this.strokeSprite.path=X,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(X+=lineTo(R[0])+polyline(R),X+=lineTo(F[0]),X+=closePath(),this.fillSprite.path=X)}else this.strokeSprite.path="",this.fillSprite.path=""},E}(LineSeriesSegment);registry.registeredClasses.StepLineSeriesSegment=StepLineSeriesSegment;var StepLineSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="StepLineSeriesDataItem",F.applyTheme(),F}return E}(LineSeriesDataItem),StepLineSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="StepLineSeries",F.applyTheme(),F.startLocation=0,F.endLocation=1,F}return E.prototype.createDataItem=function(){return new StepLineSeriesDataItem},E.prototype.addPoints=function(F,R,U,W,Y){var G,X,K,Z;this.baseAxis==this.xAxis&&(G=this.startLocation,X=this.endLocation,K=this.getAdjustedXLocation(R,this.yOpenField),Z=this.getAdjustedXLocation(R,this.yField)),this.baseAxis==this.yAxis&&(K=this.startLocation,Z=this.endLocation,G=this.getAdjustedXLocation(R,this.xOpenField),X=this.getAdjustedXLocation(R,this.xField));var J=this.xAxis.getX(R,U,G),Q=this.yAxis.getY(R,W,K),ee=this.xAxis.getX(R,U,X),te=this.yAxis.getY(R,W,Z);if(J=fitToRange(J,-1e5,1e5),Q=fitToRange(Q,-1e5,1e5),ee=fitToRange(ee,-1e5,1e5),te=fitToRange(te,-1e5,1e5),!this.noRisers&&F.length>1){var ie=F[F.length-1];this.baseAxis==this.xAxis&&(Y?F.push({x:ie.x,y:te}):F.push({x:J,y:ie.y})),this.baseAxis==this.yAxis&&(Y?F.push({x:ee,y:ie.y}):F.push({x:ie.x,y:Q}))}var re={x:J,y:Q},ne={x:ee,y:te};Y?F.push(ne,re):F.push(re,ne)},E.prototype.drawSegment=function(F,R,U){var W=!1;this.yAxis==this.baseAxis&&(W=!0),F.drawSegment(R,U,this.tensionX,this.tensionY,this.noRisers,W)},E.prototype.createSegment=function(){return new StepLineSeriesSegment},Object.defineProperty(E.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(F){this.setPropertyValue("noRisers",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(F){this.setPropertyValue("startLocation",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(F){this.setPropertyValue("endLocation",F,!0)},enumerable:!0,configurable:!0}),E}(LineSeries);registry.registeredClasses.StepLineSeries=StepLineSeries;registry.registeredClasses.StepLineSeriesDataItem=StepLineSeriesDataItem;var RadarColumn=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="RadarColumn",F}return E.prototype.createAssets=function(){this.radarColumn=this.createChild(Slice),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.radarColumn&&this.radarColumn.copyFrom(F.radarColumn)},E.prototype.getTooltipX=function(){var F=this.getPropertyValue("tooltipX");return isNumber$1(F)?F:this.radarColumn.getTooltipX()},E.prototype.getTooltipY=function(){var F=this.getPropertyValue("tooltipX");return isNumber$1(F)?F:this.radarColumn.getTooltipY()},E}(Column);registry.registeredClasses.RadarColumn=RadarColumn;var RadarColumnSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ColumnSeriesDataItem",F.applyTheme(),F}return E}(ColumnSeriesDataItem),RadarColumnSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="RadarColumnSeries",F.applyTheme(),F}return E.prototype.createColumnTemplate=function(){return new RadarColumn},E.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),V.prototype.validate.call(this)},E.prototype.disableUnusedColumns=function(F){F&&(F.column&&(F.column.__disabled=!0),each(this.axisRanges.iterator(),function(R){var U=F.rangesColumns.getKey(R.uid);U&&(U.__disabled=!0)}))},E.prototype.validateDataElementReal=function(F){var R=this,U=this.chart.startAngle,W=this.chart.endAngle,Y=this.yField,G=this.yOpenField,X=this.xField,K=this.xOpenField,Z,J,Q,ee,te=this.getStartLocation(F),ie=this.getEndLocation(F),re=(W-U)/(this.dataItems.length*(this.end-this.start)),ne=F.column;ne||(ne=this.columns.create(),F.column=ne,copyProperties$1(this,ne,visualProperties),copyProperties$1(this.columns.template,ne,visualProperties),F.addSprite(ne),ne.paper=this.paper,this.setColumnStates(ne));var ae=ne.width,se=100;ae instanceof Percent&&(se=ae.percent);var le=round$2((ie-te)*(1-se/100)/2,5);if(te+=le,ie-=le,this.xAxis instanceof CategoryAxis&&this.yAxis instanceof CategoryAxis)Q=getDistance({x:this.yAxis.getX(F,Y,0,"valueY"),y:this.yAxis.getY(F,Y,0,"valueY")}),ee=getDistance({x:this.yAxis.getX(F,G,1,"valueY"),y:this.yAxis.getY(F,G,1,"valueY")}),Z=this.xAxis.getAngle(F,K,0,"valueX"),J=this.xAxis.getAngle(F,X,1,"valueX"),U=U+te*re,W=W-(1-ie)*re;else if(this.baseAxis==this.xAxis)Q=getDistance({x:this.yAxis.getX(F,Y,F.locations[Y],"valueY"),y:this.yAxis.getY(F,Y,F.locations[Y],"valueY")}),ee=getDistance({x:this.yAxis.getX(F,G,F.locations[G],"valueY"),y:this.yAxis.getY(F,G,F.locations[G],"valueY")}),Z=this.xAxis.getAngle(F,K,te,"valueX"),J=this.xAxis.getAngle(F,X,ie,"valueX"),U=U+te*re,W=W-(1-ie)*re;else{if(Q=getDistance({x:this.yAxis.getX(F,Y,te,"valueY"),y:this.yAxis.getY(F,Y,te,"valueY")}),ee=getDistance({x:this.yAxis.getX(F,G,ie,"valueY"),y:this.yAxis.getY(F,G,ie,"valueY")}),isNumber$1(ae)){var oe=Math.abs(Q-ee);if(oe>ae){var ue=(oe-ae)/2;Q+=ue,ee-=ue}}Z=this.xAxis.getAngle(F,X,F.locations[X],"valueX"),J=this.xAxis.getAngle(F,K,F.locations[K],"valueX")}if(J<Z){var ce=J;J=Z,Z=ce}Z=fitToRange(Z,U,W),J=fitToRange(J,U,W);var he=ne.radarColumn;he.startAngle=Z;var me=J-Z;me>0?(he.arc=me,he.radius=Q,he.innerRadius=ee,ne.__disabled=!1,ne.parent=this.columnsContainer,each(this.axisRanges.iterator(),function(Pe){var we=F.rangesColumns.getKey(Pe.uid);we||(we=R.columns.create(),forceCopyProperties(R.columns.template,we,visualProperties),copyProperties$1(Pe.contents,we,visualProperties),we.dataItem&&remove(we.dataItem.sprites,we),F.addSprite(we),we.paper=R.paper,R.setColumnStates(we),F.rangesColumns.setKey(Pe.uid,we));var fe=we.radarColumn;fe.startAngle=Z,fe.arc=me,fe.radius=Q,fe.innerRadius=ee,fe.invalid&&(fe.paper=R.paper,fe.validate()),we.__disabled=!1,we.parent=Pe.contents})):this.disableUnusedColumns(F)},E.prototype.getPoint=function(F,R,U,W,Y,G,X){G||(G="valueX"),X||(X="valueY");var K=this.yAxis.getX(F,U,Y,X),Z=this.yAxis.getY(F,U,Y,X),J=getDistance({x:K,y:Z});J==0&&(J=1e-5);var Q=this.xAxis.getAngle(F,R,W,G);return{x:J*cos(Q),y:J*sin(Q)}},E.prototype.getMaskPath=function(){var F=this.yAxis.renderer;return arc(F.startAngle,F.endAngle-F.startAngle,F.pixelRadius,F.pixelInnerRadius)},E.prototype.positionBulletReal=function(F,R,U){var W=this.xAxis,Y=this.yAxis;(R<W.start||R>W.end||U<Y.start||U>Y.end)&&(F.visible=!1),F.moveTo(this.xAxis.renderer.positionToPoint(R,U))},E.prototype.setXAxis=function(F){V.prototype.setXAxis.call(this,F),this.updateRendererRefs()},E.prototype.setYAxis=function(F){V.prototype.setYAxis.call(this,F),this.updateRendererRefs()},E.prototype.updateRendererRefs=function(){var F=this.xAxis.renderer,R=this.yAxis.renderer;F.axisRendererY=R},E}(ColumnSeries);registry.registeredClasses.RadarColumnSeries=RadarColumnSeries;registry.registeredClasses.RadarColumnSeriesDataItem=RadarColumnSeriesDataItem;var FunnelSlice=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.slice=F.createChild(Sprite),F.slice.shouldClone=!1,F.slice.setElement(F.paper.add("path")),F.slice.isMeasured=!1,F.orientation="vertical",F.bottomWidth=percent(100),F.topWidth=percent(100),F.isMeasured=!1,F.width=10,F.height=10,F.expandDistance=0,F.className="FunnelSlice",F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.pixelPaddingTop,R=this.pixelPaddingBottom,U=this.pixelPaddingRight,W=this.pixelPaddingLeft,Y=this.pixelWidth-U-W,G=this.pixelHeight-F-R,X=this.expandDistance,K="";if(this.orientation=="vertical"){var Z=relativeToValue(this.topWidth,Y),J=relativeToValue(this.bottomWidth,Y),Q={x:(Y-Z)/2+W,y:F},ee={x:(Y+Z)/2+W,y:F},te={x:(Y+J)/2+W,y:F+G},ie={x:(Y-J)/2+W,y:F+G},re={x:ee.x+(te.x-ee.x)/2+X*G,y:ee.y+.5*G},ne={x:Q.x+(ie.x-Q.x)/2-X*G,y:Q.y+.5*G},ae=lineTo(te),se=lineTo(Q);X!=0&&(ae=quadraticCurveTo(te,re),se=quadraticCurveTo(Q,ne)),K=moveTo(Q)+lineTo(ee)+ae+lineTo(ie)+se,this.tickPoint={x:ee.x+(te.x-ee.x)/2,y:ee.y+(te.y-ee.y)/2}}else{var Z=relativeToValue(this.topWidth,G),J=relativeToValue(this.bottomWidth,G),le={x:W,y:(G-Z)/2+F},oe={x:W,y:(G+Z)/2+F},ue={x:W+Y,y:(G-J)/2+F},ce={x:W+Y,y:(G+J)/2+F},re={y:le.y+(ue.y-le.y)/2-X*Y,x:le.x+.5*Y},ne={y:oe.y+(ce.y-oe.y)/2+X*Y,x:oe.x+.5*Y},ae=lineTo(ue),se=lineTo(oe);X!=0&&(ae=quadraticCurveTo(ue,re),se=quadraticCurveTo(oe,ne)),K=moveTo(oe)+lineTo(le)+ae+lineTo(ce)+se,this.tickPoint={y:oe.y+(ce.y-oe.y)/2,x:oe.x+(ce.x-oe.x)/2}}this.slice.path=K,this.invalidateLayout()},E.prototype.getPoint=function(F,R){var U=this.pixelPaddingTop,W=this.pixelPaddingBottom,Y=this.pixelPaddingRight,G=this.pixelPaddingLeft,X=this.pixelWidth-Y-G,K=this.pixelHeight-U-W;if(this.orientation=="vertical"){var Z=relativeToValue(this.topWidth,X),J=relativeToValue(this.bottomWidth,X),Q={x:(X-Z)/2+G,y:U},ee={x:(X+Z)/2+G,y:U},te={x:(X+J)/2+G,y:U+K},ie={x:(X-J)/2+G,y:U+K},re=Q.x+(ie.x-Q.x)*R,ne=ee.x+(te.x-ee.x)*R;return{x:re+(ne-re)*F,y:ee.y+(te.y-ee.y)*R}}else{var Z=relativeToValue(this.topWidth,K),J=relativeToValue(this.bottomWidth,K),ae={x:G,y:(K-Z)/2+U},se={x:G,y:(K+Z)/2+U},le={x:G+X,y:(K-J)/2+U},oe={x:G+X,y:(K+J)/2+U},ue=ae.y+(le.y-ae.y)*F,ce=se.y+(oe.y-se.y)*F;return{y:ue+(ce-ue)*R,x:ae.x+(le.x-ae.x)*F}}},Object.defineProperty(E.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(F){this.setPercentProperty("bottomWidth",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(F){this.setPercentProperty("topWidth",F,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(F){this.setPropertyValue("orientation",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(F){this.setPropertyValue("expandDistance",F,!0)},enumerable:!0,configurable:!0}),E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.slice&&this.slice.copyFrom(F.slice)},E}(Container);registry.registeredClasses.FunnelSlice=FunnelSlice;var FunnelTick=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._label=new MutableValueDisposer,F._slice=new MutableValueDisposer,F.className="FunnelTick",F.element=F.paper.add("path"),F._disposers.push(F._label),F._disposers.push(F._slice),F.setPropertyValue("locationX",0),F.setPropertyValue("locationY",0),F.applyTheme(),F}return E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.slice,R=F.getPoint(this.locationX,this.locationY);if(R){var U=this.label,W=F.dataItem.component,Y=void 0,G=void 0,X=void 0;if(W.orientation=="vertical"){var K=U.pixelX,Z=U.pixelY;W.labelsOpposite||(K+=U.maxRight),Y=spritePointToSprite(R,F,this.parent),X=spritePointToSprite({x:K,y:Z},U.parent,this.parent),G={x:U.parent.pixelX-this.length,y:X.y},W.labelsOpposite||(G.x=U.parent.measuredWidth+this.length)}else{var K=U.pixelX,Z=U.pixelY;W.labelsOpposite||(Z+=U.maxBottom),Y=spritePointToSprite(R,F,this.parent),X=spritePointToSprite({x:K,y:Z},U.parent,this.parent),G={x:X.x,y:U.parent.pixelY-this.length},W.labelsOpposite||(G.y=U.parent.measuredHeight+this.length)}this.path=moveTo(Y)+lineTo(G)+lineTo(X)}},Object.defineProperty(E.prototype,"slice",{get:function(){return this._slice.get()},set:function(F){this._slice.set(F,new MultiDisposer([F.events.on("transformed",this.invalidate,this,!1),F.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"label",{get:function(){return this._label.get()},set:function(F){this._label.set(F,F.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(F){this.setPropertyValue("locationX",F,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(F){this.setPropertyValue("locationY",F,!1,!0)},enumerable:!0,configurable:!0}),E}(Tick);registry.registeredClasses.FunnelTick=FunnelTick;var FunnelSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="FunnelSeriesDataItem",F.events.on("visibilitychanged",function(){F.component&&F.component.invalidateDataItems()},F,!1),F.applyTheme(),F}return Object.defineProperty(E.prototype,"sliceLink",{get:function(){var F=this;if(!this._sliceLink){var R=this.component.sliceLinks.create();this._sliceLink=R,this._disposers.push(R),R.parent=this.component.slicesContainer,this._disposers.push(new Disposer(function(){F.component&&F.component.sliceLinks.removeValue(R)})),this.addSprite(R),R.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),E}(PercentSeriesDataItem),FunnelSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F._nextY=0,F.className="FunnelSeries",F.orientation="vertical",F.width=percent(100),F.height=percent(100),F.slicesContainer.width=percent(100),F.slicesContainer.height=percent(100),F._disposers.push(F.slicesContainer.events.on("maxsizechanged",F.invalidateDataItems,F,!1)),F.labelsOpposite=!0,F.labelsContainer.layout="absolute",F.bottomRatio=0,F.applyTheme(),F}return E.prototype.createSlice=function(){return new FunnelSlice},E.prototype.createTick=function(){return new FunnelTick},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},E.prototype.createDataItem=function(){return new FunnelSeriesDataItem},E.prototype.initSlice=function(F){F.isMeasured=!1,F.defaultState.properties.scale=1,F.observe("scale",this.handleSliceScale,this),F.observe(["dx","dy","x","y"],this.handleSliceMove,this),F.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var R=F.states.create("hover");R.properties.expandDistance=.2},E.prototype.initLabel=function(F){V.prototype.initLabel.call(this,F),F.verticalCenter="middle",F.horizontalCenter="middle",F.isMeasured=!0,F.padding(5,5,5,5)},E.prototype.validate=function(){V.prototype.validate.call(this),this._nextY=0},E.prototype.validateDataElements=function(){var F=this,R=this.slicesContainer,U=this.labelsContainer,W=this.labels.template;this.alignLabels?(W.interactionsEnabled=!0,R.isMeasured=!0,U.isMeasured=!0):(W.interactionsEnabled=!1,R.isMeasured=!1,U.isMeasured=!1);var Y=0,G=0;this.dataItems.each(function(X){hasValue(X.value)&&(G++,X.value>0?Y+=Math.abs(X.getWorkingValue("value")/X.value):F.ignoreZeroValues||!X.visible||X.__disabled||X.isHiding?G--:Y+=1)}),this._total=1/G*Y,this._count=G,V.prototype.validateDataElements.call(this),this.arrangeLabels()},E.prototype.getNextValue=function(F){var R=F.index,U=F.getWorkingValue("value");if(R<this.dataItems.length-1){var W=this.dataItems.getIndex(R+1);if(U=W.getWorkingValue("value"),!W.visible||W.isHiding||W.__disabled||W.value==0&&this.ignoreZeroValues)return this.getNextValue(W)}return U},E.prototype.formDataElement=function(){},E.prototype.validateDataElement=function(F){var R=this,U=F.slice;U.orientation=this.orientation;var W=F.sliceLink;W.orientation=this.orientation;var Y=F.tick,G=F.label;Y.slice=U,Y.label=G,hasValue(F.value)?(this.decorateSlice(F),each$2(F.sprites,function(X){F.value==0&&R.ignoreZeroValues?X.__disabled=!0:X.__disabled=!1})):each$2(F.sprites,function(X){X.__disabled=!0}),F.index==this.dataItems.length-1&&(W.disabled=!0),V.prototype.validateDataElement.call(this,F),W.fill=U.fill},E.prototype.decorateSlice=function(F){var R=F.slice,U=F.sliceLink,W=F.label,Y=F.tick,G=this.slicesContainer.innerWidth,X=this.slicesContainer.innerHeight,K=this.getNextValue(F),Z=Math.abs(F.getWorkingValue("value")),J=this.bottomRatio,Q=1;if(F.value!=0?Q=Z/Math.abs(F.value):(F.__disabled||F.isHiding||!F.visible)&&(Q=1e-6),this.ignoreZeroValues&&F.value==0){F.__disabled=!0;return}else F.__disabled=!1;if(this._nextY==1/0&&(this._nextY=0),this.orientation=="vertical"){var ee=U.pixelHeight*Q;X=X+ee,R.topWidth=Z/this.dataItem.values.value.high*G,R.bottomWidth=(Z-(Z-K)*J)/this.dataItem.values.value.high*G,U.topWidth=R.bottomWidth,U.bottomWidth=(Z-(Z-K))/this.dataItem.values.value.high*G,R.y=this._nextY,R.height=Math.min(1e5,max$1(0,X/this._count*Q/this._total-ee)),R.x=G/2,this.alignLabels?W.x=void 0:W.x=R.x,W.y=R.pixelY+R.pixelHeight*Y.locationY,this._nextY+=R.pixelHeight+ee,U.y=this._nextY-ee,U.x=R.x}else{var te=U.pixelWidth*Q;G=G+te,R.topWidth=Z/this.dataItem.values.value.high*X,R.bottomWidth=(Z-(Z-K)*J)/this.dataItem.values.value.high*X,U.topWidth=R.bottomWidth,U.bottomWidth=(Z-(Z-K))/this.dataItem.values.value.high*X,R.x=this._nextY,R.width=Math.min(1e5,G/this._count*Q*1/this._total-te),R.y=X/2,this.alignLabels?W.y=this.labelsContainer.measuredHeight:W.y=R.y,W.x=R.pixelX+R.pixelWidth*Y.locationX,this._nextY+=R.pixelWidth+te,U.x=this._nextY-te,U.y=R.y}},E.prototype.getLastLabel=function(F){if(F>0){var R=this.labels.getIndex(F);return R.__disabled||!R.visible?this.getLastLabel(F-1):R}},E.prototype.arrangeLabels=function(){if(this.alignLabels){var F=this.labels.length;if(F>1){var R=this.getLastLabel(F-1);if(R){var U=R.pixelY,W=R.pixelX;if(F>1){for(var Y=F-2;Y>=0;Y--){var G=this.labels.getIndex(Y);G.visible&&!G.__disabled&&(G.invalid&&G.validate(),this.orientation=="vertical"?G.pixelY+G.measuredHeight>U&&(G.y=Math.min(1e6,U-G.measuredHeight)):G.pixelX+G.measuredWidth>W&&(G.x=Math.min(1e6,W-G.measuredWidth)),U=G.pixelY,W=G.pixelX)}U=0,W=0;for(var Y=0;Y<F;Y++){var G=this.labels.getIndex(Y);G.visible&&!G.__disabled&&(G.invalid&&G.validate(),this.orientation=="vertical"?G.pixelY<U&&(G.y=Math.min(1e6,U)):G.pixelX<W&&(G.x=Math.min(1e6,W)),U+=G.measuredHeight,W+=G.measuredWidth)}}}}}},E.prototype.positionBullet=function(F){V.prototype.positionBullet.call(this,F);var R=F.dataItem,U=R.slice,W=F.locationX;isNumber$1(W)||(W=.5);var Y=F.locationY;isNumber$1(Y)||(Y=1),F.x=U.pixelX+U.measuredWidth*W,F.y=U.pixelY+U.measuredHeight*Y},Object.defineProperty(E.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(F){this.setPropertyValue("orientation",F)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),F=="vertical"?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(F){this.setPropertyValue("bottomRatio",F)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var F=new FunnelSlice;F.applyOnClones=!0,F.fillOpacity=.5,F.expandDistance=-.3,F.hiddenState.properties.opacity=0,this._disposers.push(F),this._sliceLinks=new ListTemplate(F),this._disposers.push(new ListDisposer(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),E.prototype.show=function(F){var R=this,U=this.startIndex,W=this.endIndex,Y=this.defaultState.transitionDuration;isNumber$1(F)&&(Y=F);var G=0;each(indexed(this.dataItems.iterator()),function(K){var Z=K[0],J=K[1];R.sequencedInterpolation&&(G=R.sequencedInterpolationDelay*Z+Y*(Z-U)/(W-U)),J.show(Y,G,["value"])});var X=V.prototype.show.call(this,F);return X},E.prototype.hide=function(F){var R=this,U=["value"],W=0,Y=this.startIndex,G=this.endIndex,X=0,K=this.hiddenState.transitionDuration;isNumber$1(F)&&(K=F),each(indexed(this.dataItems.iterator()),function(J){var Q=J[0],ee=J[1];R.sequencedInterpolation&&(X=R.sequencedInterpolationDelay*Q+K*(Q-Y)/(G-Y)),ee.hide(K,X,W,U)});var Z=V.prototype.hide.call(this,F);return Z&&!Z.isFinished()&&Z.delay(X),Z},E.prototype.setAlignLabels=function(F){V.prototype.setAlignLabels.call(this,F),this.ticks.template.disabled=!F;var R=this.labelsContainer;R&&(F?(R.height=void 0,R.width=void 0,R.margin(10,10,10,10)):(R.width=percent(100),R.height=percent(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(E.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(F){this.setPropertyValue("labelsOpposite",F);var R=this.labels.template,U="none",W="none";this.alignLabels?F?(this.labelsContainer.toFront(),this.orientation=="vertical"?(this.ticks.template.locationX=1,R.horizontalCenter="left",U="right"):(this.ticks.template.locationY=1,R.horizontalCenter="right",W="bottom")):(this.labelsContainer.toBack(),this.orientation=="vertical"?(this.ticks.template.locationX=0,U="left"):(W="top",this.ticks.template.locationY=0)):this.orientation=="vertical"?U="center":W="middle",R.align=U,R.valign=W,this.validateLayout(),this.ticks.each(function(Y){Y.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),E}(PercentSeries);registry.registeredClasses.FunnelSeries=FunnelSeries;registry.registeredClasses.FunnelSeriesDataItem=FunnelSeriesDataItem;var PyramidSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PyramidSeriesDataItem",F.applyTheme(),F}return E}(FunnelSeriesDataItem),PyramidSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PyramidSeries",F.topWidth=percent(0),F.bottomWidth=percent(100),F.pyramidHeight=percent(100),F.valueIs="area",F.sliceLinks.template.width=0,F.sliceLinks.template.height=0,F.applyTheme(),F}return E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},E.prototype.createDataItem=function(){return new PyramidSeriesDataItem},E.prototype.validate=function(){V.prototype.validate.call(this),this._nextWidth=void 0},E.prototype.getNextValue=function(F){var R=F.index,U=F.getWorkingValue("value");if(R<this.dataItems.length-1){var W=this.dataItems.getIndex(R+1);U=W.getWorkingValue("value")}return U==0&&(U=1e-6),U},E.prototype.validateDataElements=function(){var F=this,R=this.slicesContainer.innerWidth,U=this.slicesContainer.innerHeight;if(this.dataItems.each(function(G){if(G.value>0){var X=G.getWorkingValue("value")/G.value,K=G.sliceLink;F.orientation=="vertical"?U-=K.pixelHeight*X:R-=K.pixelWidth*X}}),this._pyramidHeight=relativeToValue(this.pyramidHeight,U),this._pyramidWidth=relativeToValue(this.pyramidHeight,R),this.orientation=="vertical"){var W=(U-this._pyramidHeight)/2;this.slicesContainer.y=W,this.labelsContainer.y=W,this.ticksContainer.y=W}else{var Y=(R-this._pyramidWidth)/2;this.slicesContainer.x=Y,this.labelsContainer.x=Y,this.ticksContainer.x=Y}V.prototype.validateDataElements.call(this)},E.prototype.decorateSlice=function(F){var R=this.dataItem.values.value.absoluteSum;if(R!=0){var U=F.slice,W=F.sliceLink,Y=F.label,G=F.tick;this.getNextValue(F);var X=Math.abs(F.getWorkingValue("value")),K=this._pyramidWidth,Z=this._pyramidHeight,J=this.slicesContainer.innerWidth,Q=this.slicesContainer.innerHeight,ee=W.pixelWidth,te=W.pixelHeight;if((F.value==0||F.value==null)&&this.ignoreZeroValues?F.__disabled=!0:F.__disabled=!1,this.orientation=="vertical"){var ie=relativeToValue(this.topWidth,J);isNumber$1(this._nextWidth)||(this._nextWidth=ie);var re=relativeToValue(this.bottomWidth,J),ne=this._nextWidth,ae=Math.atan2(Z,ie-re),se=Math.tan(Math.PI/2-ae);se==0&&(se=1e-8);var le=void 0,oe=void 0;if(this.valueIs=="area"){var ue=(ie+re)/2*Z,ce=ue*X/R,he=Math.abs(ne*ne-2*ce*se);le=(ne-Math.sqrt(he))/se,le>0?oe=(2*ce-le*ne)/le:oe=ne}else le=Z*X/R,oe=ne-le*se;U.height=le,U.width=J,U.bottomWidth=oe,U.topWidth=ne,W.topWidth=U.bottomWidth,W.bottomWidth=U.bottomWidth,U.y=this._nextY,this.alignLabels?Y.x=0:Y.x=J/2,Y.y=U.pixelY+U.pixelHeight*G.locationY+U.dy,this._nextY+=U.pixelHeight+te*X/Math.max(Math.abs(F.value),1e-8),W.y=this._nextY-te,W.x=J/2}else{var ie=relativeToValue(this.topWidth,Q);isNumber$1(this._nextWidth)||(this._nextWidth=ie);var re=relativeToValue(this.bottomWidth,Q),ne=this._nextWidth,ae=Math.atan2(K,ie-re),se=Math.tan(Math.PI/2-ae);se==0&&(se=1e-8);var me=void 0,oe=void 0;if(this.valueIs=="area"){var ue=(ie+re)/2*K,ce=ue*X/R;me=(ne-Math.sqrt(ne*ne-2*ce*se))/se,oe=(2*ce-me*ne)/me}else me=K*X/R,oe=ne-me*se;U.width=me,U.height=Q,U.bottomWidth=oe,U.topWidth=ne,W.topWidth=U.bottomWidth,W.bottomWidth=U.bottomWidth,U.x=this._nextY,this.alignLabels?Y.y=this.labelsContainer.measuredHeight:Y.y=Q/2,Y.x=U.pixelX+U.pixelWidth*G.locationX+U.dx,this._nextY+=U.pixelWidth+ee*X/Math.max(Math.abs(F.value),1e-8),W.x=this._nextY-ee,W.y=Q/2}this._nextWidth=U.bottomWidth}},Object.defineProperty(E.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(F){this.setPercentProperty("topWidth",F,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(F){this.setPercentProperty("pyramidHeight",F,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(F){this.setPercentProperty("bottomWidth",F,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(F){this.setPropertyValue("valueIs",F)&&this.invalidate()},enumerable:!0,configurable:!0}),E}(FunnelSeries);registry.registeredClasses.PyramidSeries=PyramidSeries;registry.registeredClasses.PyramidSeriesDataItem=PyramidSeriesDataItem;var PictorialStackedSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PictorialStackedSeriesDataItem",F.applyTheme(),F}return E}(PyramidSeriesDataItem),PictorialStackedSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="PictorialStackedSeries",F.topWidth=percent(100),F.bottomWidth=percent(100),F.valueIs="height",F.applyTheme(),F.startLocation=0,F.endLocation=1,F.align="center",F.valign="middle",F._maskSprite=F.slicesContainer.createChild(Sprite),F._maskSprite.visible=!1,F._maskSprite.zIndex=100,F._maskSprite.shouldClone=!1,F}return E.prototype.validateDataElements=function(){var F=this.slicesContainer.maxWidth,R=this.slicesContainer.maxHeight,U=this._maskSprite,W=U.measuredWidth/U.scale,Y=U.measuredHeight/U.scale,G=min$1(R/Y,F/W);G==1/0&&(G=1),G=max$1(.001,G);var X=this.startLocation,K=this.endLocation,Z=min$1(F,W*G),J=min$1(R,Y*G);U.scale=G,this.orientation=="vertical"?(this.topWidth=Z+4,this.bottomWidth=Z+4,this.pyramidHeight=J*(K-X),U.x=F/2,U.y=J/2):(this.topWidth=J+4,this.bottomWidth=J+4,this.pyramidHeight=Z*(K-X),U.valign="middle",U.x=Z/2,U.y=R/2),U.verticalCenter="middle",U.horizontalCenter="middle",V.prototype.validateDataElements.call(this);var Q,ee;this.orientation=="vertical"?(this.valign=="bottom"&&(Q=R-J),this.valign=="middle"&&(Q=(R-J)/2),this.valign=="top"&&(Q=0),this.align=="left"&&(ee=-(F-Z)/2),this.align=="center"&&(ee=0),this.align=="right"&&(ee=(F-Z)/2),this.slices.template.dy=X*J,this.alignLabels&&(this.slicesContainer.dx=ee)):(this.valign=="bottom"&&(Q=(R-J)/2),this.valign=="middle"&&(Q=0),this.valign=="top"&&(Q=-(R-J)/2),this.align=="left"&&(ee=0),this.align=="center"&&(ee=(F-Z)/2),this.align=="right"&&(ee=F-Z),this.slices.template.dx=X*Z,this.alignLabels&&(this.slicesContainer.dy=Q)),this.slicesContainer.x=ee,this.labelsContainer.x=ee,this.ticksContainer.x=ee,this.slicesContainer.y=Q,this.labelsContainer.y=Q,this.ticksContainer.y=Q,Z>0&&J>0&&(this.slicesContainer.mask=U)},E.prototype.applyInternalDefaults=function(){V.prototype.applyInternalDefaults.call(this),hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},E.prototype.createDataItem=function(){return new PictorialStackedSeriesDataItem},Object.defineProperty(E.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),E.prototype.initSlice=function(F){V.prototype.initSlice.call(this,F);var R=F.states.getKey("hover");R&&(R.properties.expandDistance=0)},Object.defineProperty(E.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(F){this.setPropertyValue("startLocation",F)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(F){this.setPropertyValue("endLocation",F)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),E}(PyramidSeries);registry.registeredClasses.PictorialStackedSeries=PictorialStackedSeries;registry.registeredClasses.PictorialStackedSeriesDataItem=PictorialStackedSeriesDataItem;var ConeColumn=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ConeColumn",F}return E.prototype.createAssets=function(){this.coneColumn=this.createChild(Cone),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.coneColumn&&this.coneColumn.copyFrom(F.coneColumn)},E}(Column);registry.registeredClasses.ConeColumn=ConeColumn;var ConeSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ConeSeriesDataItem",F.applyTheme(),F}return E}(ColumnSeriesDataItem),ConeSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ConeSeries",F.applyTheme(),F}return E.prototype.createColumnTemplate=function(){return new ConeColumn},E.prototype.getMaskPath=function(){var F=0,R=0,U=this.columns.getIndex(0);if(U)return this.baseAxis==this.xAxis?R=U.coneColumn.innerWidth/2+1:F=U.coneColumn.innerHeight/2+1,rectToPath({x:-F,y:0,width:this.xAxis.axisLength+F,height:this.yAxis.axisLength+R})},E.prototype.validateDataElementReal=function(F){V.prototype.validateDataElementReal.call(this,F);var R=F.column;if(R){var U=F.column.coneColumn;U.fill=F.column.fill,this.baseAxis==this.yAxis?U.orientation="horizontal":U.orientation="vertical"}},E}(ColumnSeries);registry.registeredClasses.ConeSeries=ConeSeries;registry.registeredClasses.ConeSeriesDataItem=ConeSeriesDataItem;var CurvedColumn=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="CurvedColumn",F}return E.prototype.createAssets=function(){this.curvedColumn=this.createChild(Sprite),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=percent(120),this.height=percent(120),this.column=this.curvedColumn},E.prototype.draw=function(){V.prototype.draw.call(this);var F=this.realWidth,R=this.realHeight,U=this.realX-this.pixelX,W=this.realY-this.pixelY,Y;this.width;var G=1,X=1;this.orientation=="vertical"?(G=this.tension,Y=[{x:0,y:R+W},{x:F/2,y:W},{x:F,y:R+W}]):(X=this.tension,R=Math.abs(R),Y=[{x:U,y:R},{x:U+F,y:R/2},{x:U,y:0}]);var K=moveTo(Y[0])+new Tension(G,X).smooth(Y);this.column.path=K},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.curvedColumn&&this.curvedColumn.copyFrom(F.curvedColumn)},Object.defineProperty(E.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(F){this.setPropertyValue("tension",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(F){this.setPropertyValue("orientation",F,!0)},enumerable:!0,configurable:!0}),E}(Column);registry.registeredClasses.CurvedColumn=CurvedColumn;var CurvedColumnSeriesDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="CurvedColumnSeriesDataItem",F.applyTheme(),F}return E}(ColumnSeriesDataItem),CurvedColumnSeries=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="CurvedColumnSeries",F.applyTheme(),F}return E.prototype.createColumnTemplate=function(){return new CurvedColumn},E.prototype.validateDataElementReal=function(F){V.prototype.validateDataElementReal.call(this,F);var R=F.column;if(R=F.column,R){var U=F.column.curvedColumn;U.fill=F.column.fill,this.baseAxis==this.yAxis?R.orientation="horizontal":R.orientation="vertical"}},E}(ColumnSeries);registry.registeredClasses.CurvedColumnSeries=CurvedColumnSeries;registry.registeredClasses.CurvedColumnSeriesDataItem=CurvedColumnSeriesDataItem;var CircleBullet=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="CircleBullet";var R=F.createChild(Circle);return R.shouldClone=!1,R.radius=5,R.isMeasured=!1,F.circle=R,F.applyTheme(),F}return E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.circle.copyFrom(F.circle)},E}(Bullet);registry.registeredClasses.CircleBullet=CircleBullet;var ErrorBullet=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="ErrorBullet",F.errorLine=F.createChild(Sprite),F.errorLine.shouldClone=!1,F.width=20,F.height=20,F.strokeOpacity=1,F.isDynamic=!0,F}return E.prototype.validatePosition=function(){V.prototype.validatePosition.call(this);var F=this.pixelWidth/2,R=this.pixelHeight/2;this.errorLine.path=moveTo({x:-F,y:-R})+lineTo({x:F,y:-R})+moveTo({x:0,y:-R})+lineTo({x:0,y:R})+moveTo({x:-F,y:R})+lineTo({x:F,y:R})},E.prototype.copyFrom=function(F){V.prototype.copyFrom.call(this,F),this.errorLine.copyFrom(F.errorLine)},E}(Bullet);registry.registeredClasses.ErrorBullet=ErrorBullet;var NavigationBarDataItem=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="NavigationBarDataItem",F.applyTheme(),F}return Object.defineProperty(E.prototype,"name",{get:function(){return this.properties.name},set:function(F){this.setProperty("name",F)},enumerable:!0,configurable:!0}),E}(DataItem),NavigationBar=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.className="NavigationBar";var R=new InterfaceColorSet,U=new TextLink;U.valign="middle",U.paddingTop=8,U.paddingBottom=8,F.paddingBottom=2,F.links=new ListTemplate(U),F._disposers.push(new ListDisposer(F.links)),F._disposers.push(U),F._linksIterator=new ListIterator(F.links,function(){return F.links.create()}),F._linksIterator.createNewItems=!0;var W=new Triangle;W.direction="right",W.width=8,W.height=12,W.fill=R.getFor("alternativeBackground"),W.fillOpacity=.5,W.valign="middle",W.marginLeft=10,W.marginRight=10,F.separators=new ListTemplate(W),F._disposers.push(new ListDisposer(F.separators)),F._disposers.push(W);var Y=new TextLink;return F.activeLink=Y,Y.copyFrom(U),Y.valign="middle",Y.fontWeight="bold",F.width=percent(100),F.layout="grid",F.dataFields.name="name",F.applyTheme(),F}return E.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),V.prototype.validateDataElements.call(this)},E.prototype.validateDataElement=function(F){V.prototype.validateDataElement.call(this,F);var R;if(F.index<this.dataItems.length-1){R=this._linksIterator.getLast(),R.parent=this;var U=this.separators.create();U.parent=this,U.valign="middle"}else R=this.activeLink,R.events.copyFrom(this.links.template.events),R.hide(0),R.show(),R.parent=this;R.dataItem=F,R.text=F.name,R.validate()},E}(Component$1);registry.registeredClasses.NavigationBar=NavigationBar;registry.registeredClasses.NavigationBarDataItem=NavigationBarDataItem;var Cursor=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F.point={x:0,y:0},F._stick="none",F.className="Cursor",F.width=percent(100),F.height=percent(100),F.shouldClone=!1,F.hide(0),F.trackable=!0,F.clickable=!0,F.isMeasured=!1;var R=getInteraction();return F._disposers.push(R.body.events.on("down",F.handleCursorDown,F)),F._disposers.push(R.body.events.on("up",F.handleCursorUp,F)),F._disposers.push(R.body.events.on("track",F.handleCursorMove,F)),F.applyTheme(),F}return E.prototype.handleCursorMove=function(F){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&F.touch)){if((this._generalBehavior!="zoom"&&this._generalBehavior!="pan"||!this.downPoint)&&!getInteraction().isLocalElement(F.pointer,this.paper.svg,this.uid)){(!this.isHidden||!this.isHiding)&&this.hide();return}var R=documentPointToSprite(F.pointer.point,this);return this._stick=="hard"&&this._stickPoint&&(R=this._stickPoint),this._stick=="soft"&&this._stickPoint&&(this.fitsToBounds(R)||(R=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",R),this.triggerMove(R),R}},E.prototype.hideReal=function(F){if(!((this._stick=="hard"||this._stick=="soft")&&this._stickPoint))return V.prototype.hideReal.call(this,F)},E.prototype.triggerMove=function(F,R,U){F.x=round$2(F.x,1),F.y=round$2(F.y,1),R&&(this._stick=R),(R=="hard"||R=="soft")&&(this._stickPoint=F),this.triggerMoveReal(F,U)},E.prototype.triggerMoveReal=function(F,R){(this.point.x!=F.x||this.point.y!=F.y||R)&&(this.point=F,this.invalidatePosition(),this.fitsToBounds(F)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},E.prototype.triggerDown=function(F){this.triggerDownReal(F)},E.prototype.triggerDownReal=function(F){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),getInteraction().setGlobalStyle(MouseCursorStyle.grabbing);break}},E.prototype.triggerUp=function(F){this.triggerUpReal(F)},E.prototype.triggerUpReal=function(F){system$1.requestFrame(),this.updatePoint(this.upPoint);var R=getInteraction();if(getDistance(this._upPointOrig,this._downPointOrig)>R.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),R.setGlobalStyle(MouseCursorStyle.default);break}this.downPoint=void 0,this.updateSelection()}},E.prototype.updateSelection=function(){},E.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},E.prototype.handleCursorDown=function(F){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&F.touch||!getInteraction().isLocalElement(F.pointer,this.paper.svg,this.uid))){blur();var R=documentPointToSprite(F.pointer.point,this);this._stick=="hard"&&this._stickPoint&&(R=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",R),this.fitsToBounds(R)&&(this._downPointOrig={x:R.x,y:R.y},F.event.cancelable&&this.shouldPreventGestures(F.touch)&&this.fitsToBounds(R)&&F.event.preventDefault(),this.triggerMove(R),this.triggerDown(R))}},E.prototype.shouldPreventGestures=function(F){return!0},E.prototype.updatePoint=function(F){},E.prototype.handleCursorUp=function(F){if(!!this.interactionsEnabled&&!(!this.downPoint&&!getInteraction().isLocalElement(F.pointer,this.paper.svg,this.uid))){var R=documentPointToSprite(F.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",R),!(!this.downPoint||!this.fitsToBounds(this.downPoint))&&(this._stick=="hard"&&this._stickPoint&&(R=this._stickPoint),this._upPointOrig={x:R.x,y:R.y},this.triggerMove(R),this.triggerUp(R))}},Object.defineProperty(E.prototype,"chart",{get:function(){return this._chart},set:function(F){this._chart=F,hasValue(this._chart.plotContainer)&&getInteraction().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),E}(Container);registry.registeredClasses.Cursor=Cursor;var XYCursor=function(V){__extends(E,V);function E(){var F=V.call(this)||this;F._lineX=new MutableValueDisposer,F._lineY=new MutableValueDisposer,F._xAxis=new MutableValueDisposer,F._yAxis=new MutableValueDisposer,F._snapToDisposers=[],F.className="XYCursor",F.behavior="zoomX",F.maxPanOut=.1;var R=new InterfaceColorSet;F.snapOnPan=!0;var U=F.createChild(Sprite);U.shouldClone=!1,U.fillOpacity=.2,U.fill=R.getFor("alternativeBackground"),U.isMeasured=!1,U.visible=!1,U.interactionsEnabled=!1,F.selection=U,F._disposers.push(F.selection);var W=F.createChild(Sprite);W.shouldClone=!1,W.stroke=R.getFor("grid"),W.fill=color(),W.strokeDasharray="3,3",W.isMeasured=!1,W.strokeOpacity=.4,W.interactionsEnabled=!1,W.y=0,F.lineX=W,F._disposers.push(F.lineX);var Y=F.createChild(Sprite);return Y.shouldClone=!1,Y.stroke=R.getFor("grid"),Y.fill=color(),Y.strokeDasharray="3,3",Y.isMeasured=!1,Y.strokeOpacity=.4,Y.interactionsEnabled=!1,Y.x=0,F.lineY=Y,F._disposers.push(F.lineY),F.events.on("sizechanged",F.updateSize,F,!1),F._disposers.push(F._lineX),F._disposers.push(F._lineY),F._disposers.push(F._xAxis),F._disposers.push(F._yAxis),F.mask=F,F.hideSeriesTooltipsOnSelection=!0,F.applyTheme(),F}return E.prototype.updateSize=function(){this.lineX&&(this.lineX.path=moveTo({x:0,y:0})+lineTo({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=moveTo({x:0,y:0})+lineTo({x:this.innerWidth,y:0}))},E.prototype.updateSelection=function(){if(this._usesSelection){var F=this.downPoint,R=this.behavior;if(F){var U=this.point;this.lineX&&(U.x=this.lineX.pixelX),this.lineY&&(U.y=this.lineY.pixelY);var W=this.selection,Y=Math.min(U.x,F.x),G=Math.min(U.y,F.y),X=round$2(Math.abs(F.x-U.x),this._positionPrecision),K=round$2(Math.abs(F.y-U.y),this._positionPrecision);switch(R){case"zoomX":G=0,K=this.pixelHeight;break;case"zoomY":Y=0,X=this.pixelWidth;break;case"selectX":G=0,K=this.pixelHeight;break;case"selectY":Y=0,X=this.pixelWidth;break}W.x=Y,W.y=G,W.path=rectangle(X,K),W.validatePosition()}else this._generalBehavior!="select"&&this.selection.hide()}},E.prototype.fixPoint=function(F){return F.x=Math.max(0,F.x),F.y=Math.max(0,F.y),F.x=Math.min(this.pixelWidth,F.x),F.y=Math.min(this.pixelHeight,F.y),F},E.prototype.triggerMoveReal=function(F,R){V.prototype.triggerMoveReal.call(this,F,R);var U=this.snapToSeries;if(U&&!this.downPoint)if(U instanceof XYSeries)U.isHidden&&this.updateLinePositions(F);else{var W=!0;each$2(U,function(Y){Y.isHidden||(W=!1)}),W&&this.updateLinePositions(F)}else this.updateLinePositions(F);this.downPoint&&getDistance(this.downPoint,F)>3&&this._generalBehavior=="pan"&&(this.getPanningRanges(),this.dispatch("panning"))},E.prototype.updateLinePositions=function(F){F=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=F.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=F.y),this.updateSelection()},E.prototype.triggerDownReal=function(F){if(this.visible&&!this.isHiding)if(this._generalBehavior=="select"&&(this.selection.parent=this.parent),this.fitsToBounds(F)){this.downPoint={x:F.x,y:F.y},this.updatePoint(F),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var R=this.selection,U=this.downPoint.x,W=this.downPoint.y;this._usesSelection&&(R.x=U,R.y=W,R.path="",R.show()),V.prototype.triggerDownReal.call(this,F)}else this.downPoint=void 0;else this.downPoint=void 0},E.prototype.updatePoint=function(F){this.lineX&&(F.x=this.lineX.pixelX),this.lineY&&(F.y=this.lineY.pixelY)},E.prototype.triggerUpReal=function(F){if(this.hasMoved())this.downPoint&&(this.upPoint=F,this.updatePoint(this.upPoint),this._generalBehavior!="pan"&&this.getRanges(),this._generalBehavior!="select"&&this.selection.hide(),V.prototype.triggerUpReal.call(this,F));else{if(this._generalBehavior!="select"?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),this._generalBehavior=="pan"){var R=getInteraction();R.setGlobalStyle(MouseCursorStyle.default)}this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},E.prototype.hasMoved=function(){var F;return this.behavior=="zoomX"||this.behavior=="panX"?F=getHorizontalDistance(this._upPointOrig,this._downPointOrig):this.behavior=="zoomY"||this.behavior=="panY"?F=getVerticalDistance(this._upPointOrig,this._downPointOrig):F=getDistance(this._upPointOrig,this._downPointOrig),F>getInteraction().getHitOption(this.interactions,"hitTolerance")},E.prototype.getPanningRanges=function(){var F=round$2(this.downPoint.x/this.innerWidth,5),R=1-round$2(this.downPoint.y/this.innerHeight,5),U=round$2(this.point.x/this.innerWidth,5),W=1-round$2(this.point.y/this.innerHeight,5),Y=F-U,G=R-W;this.xRange={start:Y,end:1+Y},this.yRange={start:G,end:1+G},this.behavior=="panX"&&(this.yRange.start=0,this.yRange.end=1),this.behavior=="panY"&&(this.xRange.start=0,this.xRange.end=1)},E.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),this.selection;var F=round$2(this.downPoint.x/this.innerWidth,5),R=round$2(this.upPoint.x/this.innerWidth,5),U=1-round$2(this.downPoint.y/this.innerHeight,5),W=1-round$2(this.upPoint.y/this.innerHeight,5);this.xRange={start:min$1(F,R),end:max$1(F,R)},this.yRange={start:min$1(U,W),end:max$1(U,W)}},Object.defineProperty(E.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(F){this.setPropertyValue("behavior",F,!0),this._usesSelection=!1,F.indexOf("zoom")!=-1&&(this._generalBehavior="zoom",this._usesSelection=!0),F.indexOf("select")!=-1&&(this._generalBehavior="select",this._usesSelection=!0),F.indexOf("pan")!=-1&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),E.prototype.shouldPreventGestures=function(F){return(!this.interactions.isTouchProtected||!F)&&this.behavior!="none"},Object.defineProperty(E.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(F){this.setPropertyValue("fullWidthLineX",F),F||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(F){this.setPropertyValue("fullWidthLineY",F),F||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(F){this.setPropertyValue("hideSeriesTooltipsOnSelection",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(F){this.setPropertyValue("maxTooltipDistance",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(F){this.setPropertyValue("maxPanOut",F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(F){var R=this;this._xAxis.get()!=F&&this._xAxis.set(F,new MultiDisposer([F.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),F.events.on("rangechangestarted",function(U){R.hide(0),R.preventShow=!0},void 0,!1),F.events.on("rangechangeended",function(U){R.preventShow=!1,R.hide(0),R.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(F){var R=this;this._yAxis.get()!=F&&this._yAxis.set(F,new MultiDisposer([F.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),F.events.on("rangechangestarted",function(U){R.hide(0),R.__disabled=!0},void 0,!1),F.events.on("rangechangeended",function(U){R.__disabled=!1,R.hide(0),R.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),E.prototype.handleXTooltipPosition=function(F){var R=this.xAxis.tooltip,U=svgPointToSprite({x:R.pixelX,y:R.pixelY},this),W=U.x;if(U.y=1,this.lineX&&(this.lineX.x=W,this.fitsToBounds(U)||this.hide()),this.xAxis&&this.fullWidthLineX){var Y=this.xAxis.currentItemStartPoint,G=this.xAxis.currentItemEndPoint;if(Y&&G){this.lineX.x=W;var X=G.x-Y.x;this.lineX.path=rectangle(X,this.innerHeight,-X/2)}}},E.prototype.handleYTooltipPosition=function(F){var R=this.yAxis.tooltip,U=svgPointToSprite({x:R.pixelX,y:R.pixelY},this),W=U.y;if(U.x=1,this.lineY&&(this.lineY.y=W,this.fitsToBounds(U)||this.hide()),this.yAxis&&this.fullWidthLineY){var Y=this.yAxis.currentItemStartPoint,G=this.yAxis.currentItemEndPoint;if(Y&&G){this.lineY.y=W;var X=G.y-Y.y;this.lineY.path=rectangle(this.innerWidth,X,0,-X/2)}}},Object.defineProperty(E.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(F){F?(F.setElement(this.paper.add("path")),this._lineX.set(F,F.events.on("positionchanged",this.updateSelection,this,!1)),F.interactionsEnabled=!1,F.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(F){F?(F.setElement(this.paper.add("path")),this._lineY.set(F,F.events.on("positionchanged",this.updateSelection,this,!1)),F.parent=this,F.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"selection",{get:function(){return this._selection},set:function(F){this._selection=F,F&&(F.element=this.paper.add("path"),F.parent=this)},enumerable:!0,configurable:!0}),E.prototype.processConfig=function(F){var R=this;if(F&&(hasValue(F.xAxis)&&isString$2(F.xAxis)&&(this.map.hasKey(F.xAxis)?F.xAxis=this.map.getKey(F.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+F.xAxis+'" found for `xAxis`'),delete F.xAxis)),hasValue(F.yAxis)&&isString$2(F.yAxis)&&(this.map.hasKey(F.yAxis)?F.yAxis=this.map.getKey(F.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+F.yAxis+'" found for `yAxis`'),delete F.yAxis)),hasValue(F.snapToSeries))){var U=isArray$2(F.snapToSeries)?F.snapToSeries:[F.snapToSeries],W=!1;each$2(U,function(Y,G){isString$2(Y)&&(R.map.hasKey(Y)?U[G]=R.map.getKey(Y):(R.processingErrors.push('[XYCursor] No series with id "'+Y+'" found for `series`'),W=!0))}),W?delete F.snapToSeries:F.snapToSeries=U}V.prototype.processConfig.call(this,F)},Object.defineProperty(E.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(F){var R=this;this.setPropertyValue("snapToSeries",F)&&(F instanceof XYSeries&&(F=[F]),this._snapToDisposers&&each$2(this._snapToDisposers,function(U){U.dispose()}),this._snapToDisposers=[],F&&each$2(F,function(U){R._snapToDisposers.push(U.events.on("tooltipshownat",function(){R.handleSnap(U)},void 0,!1))}))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(F){this.setPropertyValue("snapOnPan",F)},enumerable:!0,configurable:!0}),E.prototype.handleSnap=function(F){if(!this.downPoint){var R=F.getTooltipX()+F.xAxis.pixelX,U=F.getTooltipY()+F.yAxis.pixelY,W=F.xAxis,Y=F.yAxis;W&&W.renderer.opposite&&(U-=this.pixelHeight),this.point={x:R,y:U},this.getPositions();var G=R,X=U;R-=this.pixelWidth,Y&&Y.renderer.opposite&&(R+=this.pixelWidth);var K=F.tooltip,Z=K.animationDuration,J=K.animationEasing;W instanceof ValueAxis&&!(W instanceof DateAxis)&&Y instanceof ValueAxis&&!(Y instanceof DateAxis)?(F.yAxis.showTooltipAtPosition(this.yPosition),F.xAxis.showTooltipAtPosition(this.xPosition)):(F.baseAxis==F.xAxis&&F.yAxis.showTooltipAtPosition(this.yPosition),F.baseAxis==F.yAxis&&F.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=R,this.lineX.y=U,this.xAxis||this.lineX.animate([{property:"x",to:G}],Z,J),this.yAxis||this.lineY.animate([{property:"y",to:X}],Z,J)}},E.prototype.dispose=function(){this.hide(0),V.prototype.dispose.call(this)},E}(Cursor);registry.registeredClasses.XYCursor=XYCursor;var RadarCursor=function(V){__extends(E,V);function E(){var F=V.call(this)||this;return F.className="RadarCursor",F.radius=percent(100),F.innerRadius=percent(0),F.applyTheme(),F.mask=void 0,F}return E.prototype.fitsToBounds=function(F){var R=getDistance(F);return R<this.truePixelRadius+1&&R>this.pixelInnerRadius-1},Object.defineProperty(E.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(F){this.setPropertyValue("startAngle",F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(F){this.setPropertyValue("endAngle",F,!0)},enumerable:!0,configurable:!0}),E.prototype.triggerMoveReal=function(F,R){(!this.xAxis||this.xAxis&&(!this.xAxis.cursorTooltipEnabled||this.xAxis.tooltip.disabled))&&this.updateLineX(this.point),(!this.yAxis||this.yAxis&&(!this.yAxis.cursorTooltipEnabled||this.yAxis.tooltip.disabled))&&this.updateLineY(this.point),this.updateSelection(),V.prototype.triggerMoveReal.call(this,F,R)},E.prototype.updateLineX=function(F){var R=this.pixelRadius,U=this.startAngle,W=this.endAngle,Y=this.pixelInnerRadius;if(R>0&&isNumber$1(U)&&isNumber$1(W)&&isNumber$1(Y)){var G=fitAngleToRange(getAngle(F),U,W),X=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var K=this.xAxis.currentItemStartPoint,Z=this.xAxis.currentItemEndPoint;if(K&&Z){var J=fitAngleToRange(getAngle(K),U,W),Q=fitAngleToRange(getAngle(Z),U,W),ee=Q-J;U<W?ee<0&&(ee+=360):ee>0&&(ee-=360),G-=ee/2,X=moveTo({x:Y*cos(G),y:Y*sin(G)})+lineTo({x:R*cos(G),y:R*sin(G)})+arcTo(G,ee,R)+lineTo({x:Y*cos(G+ee),y:Y*sin(G+ee)})+arcTo(G+ee,-ee,Y)}}X||(X=moveTo({x:Y*cos(G),y:Y*sin(G)})+lineTo({x:R*cos(G),y:R*sin(G)})),this.lineX.path=X}}},E.prototype.updateLineY=function(F){if(this.lineY&&this.lineY.visible){var R=this.startAngle,U=this.endAngle,W=this.truePixelRadius,Y=fitToRange(getDistance(F),0,this.truePixelRadius);if(isNumber$1(Y)&&isNumber$1(R)){this.lineY.moveTo({x:0,y:0});var G=void 0,X=U-R;if(this.yAxis&&this.fullWidthLineY){var K=this.yAxis.currentItemStartPoint,Z=this.yAxis.currentItemEndPoint;if(K&&Z){var J=fitToRange(getDistance(K),0,W);Y=fitToRange(getDistance(Z),0,W),G=moveTo({x:Y*cos(R),y:Y*sin(R)})+arcTo(R,X,Y),G+=moveTo({x:J*cos(U),y:J*sin(U)})+arcTo(U,-X,J)}}G||(G=moveTo({x:Y*cos(R),y:Y*sin(R)})+arcTo(R,U-R,Y)),this.lineY.path=G}}},E.prototype.updateSelection=function(){if(this._usesSelection){var F=this.downPoint;if(F){var R=this.point,U=this.pixelRadius,W=this.truePixelRadius,Y=this.pixelInnerRadius,G=Math.min(this.startAngle,this.endAngle),X=Math.max(this.startAngle,this.endAngle),K=fitAngleToRange(getAngle(F),G,X),Z=fitAngleToRange(getAngle(R),G,X),J=getDistance(F);if(J<W){var Q=fitToRange(getDistance(R),0,W);this._prevAngle=Z;var ee=moveTo({x:0,y:0}),te=sin(K),ie=cos(K),re=sin(Z),ne=cos(Z),ae=this.behavior;ae=="zoomX"||ae=="selectX"?ee+=lineTo({x:U*ie,y:U*te})+arcTo(K,Z-K,U)+lineTo({x:Y*ne,y:Y*re})+arcTo(Z,K-Z,Y):ae=="zoomY"||ae=="selectY"?ee=moveTo({x:Q*cos(G),y:Q*sin(G)})+arcTo(G,X-G,Q)+lineTo({x:J*cos(X),y:J*sin(X)})+arcTo(X,G-X,J)+closePath():ae=="zoomXY"&&(ee=moveTo({x:Q*cos(K),y:Q*sin(K)})+arcTo(K,Z-K,Q)+lineTo({x:J*cos(Z),y:J*sin(Z)})+arcTo(Z,K-Z,J)+closePath()),this.selection.path=ee}this.selection.moveTo({x:0,y:0})}}},E.prototype.getPositions=function(){var F=this.chart;if(F){var R=this.pixelInnerRadius,U=this.truePixelRadius-R,W=this.startAngle,Y=this.endAngle,G=fitAngleToRange(getAngle(this.point),W,Y),X=(G-W)/(Y-W);this.xPosition=X,this.yPosition=fitToRange((getDistance(this.point)-R)/U,0,1)}},E.prototype.updatePoint=function(F){},E.prototype.handleXTooltipPosition=function(F){if(this.xAxis.cursorTooltipEnabled){var R=this.xAxis.tooltip;this.updateLineX(svgPointToSprite({x:R.pixelX,y:R.pixelY},this))}},E.prototype.handleYTooltipPosition=function(F){if(this.yAxis.cursorTooltipEnabled){var R=this.yAxis.tooltip;this.updateLineY(svgPointToSprite({x:R.pixelX,y:R.pixelY},this))}},E.prototype.updateLinePositions=function(F){},E.prototype.getRanges=function(){var F=this.downPoint;if(F){var R=this.upPoint,U=this.chart;if(U){var W=this.pixelRadius,Y=this.startAngle,G=this.endAngle,X=fitAngleToRange(getAngle(F),this.startAngle,this.endAngle),K=fitAngleToRange(getAngle(R),this.startAngle,this.endAngle),Z=fitToRange(getDistance(F),0,W),J=fitToRange(getDistance(R),0,W),Q=0,ee=1,te=0,ie=1,re=this.behavior;if(re=="zoomX"||re=="selectX"||re=="zoomXY"||re=="selectXY"){var ne=G-Y;Q=round$2((X-Y)/ne,5),ee=round$2((K-Y)/ne,5)}(re=="zoomY"||re=="selectY"||re=="zoomXY"||re=="selectXY")&&(te=round$2(Z/W,5),ie=round$2(J/W,5)),this.xRange={start:Math.min(Q,ee),end:Math.max(Q,ee)},this.yRange={start:Math.min(te,ie),end:Math.max(te,ie)},this.behavior=="selectX"||this.behavior=="selectY"||this.behavior=="selectXY"||this.selection.hide()}}},E.prototype.updateSize=function(){},Object.defineProperty(E.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(F){this.setPercentProperty("radius",F,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelRadius",{get:function(){return relativeRadiusToValue(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"truePixelRadius",{get:function(){return relativeToValue(percent(100),min$1(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(F){this.setPercentProperty("innerRadius",F,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"pixelInnerRadius",{get:function(){var F=this.innerRadius;return F instanceof Percent&&(F=percent(100*F.value*this.chart.innerRadiusModifyer)),relativeRadiusToValue(F,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),E.prototype.fixPoint=function(F){return F},E}(XYCursor);registry.registeredClasses.RadarCursor=RadarCursor;var theme=function(V){is(V,"InterfaceColorSet")&&(V.setFor("stroke",color("#000000")),V.setFor("fill",color("#ffffff")),V.setFor("primaryButton",color("#0975da").lighten(-.2)),V.setFor("primaryButtonHover",color("#0975da").lighten(-.2)),V.setFor("primaryButtonDown",color("#0975da").lighten(-.2)),V.setFor("primaryButtonActive",color("#0975da").lighten(-.2)),V.setFor("primaryButtonText",color("#FFFFFF")),V.setFor("primaryButtonStroke",color("#0975da")),V.setFor("secondaryButton",color("#41baff")),V.setFor("secondaryButtonHover",color("#41baff").lighten(.1)),V.setFor("secondaryButtonDown",color("#41baff").lighten(.15)),V.setFor("secondaryButtonActive",color("#41baff").lighten(.15)),V.setFor("secondaryButtonText",color("#ffffff")),V.setFor("secondaryButtonStroke",color("#41baff").lighten(-.2)),V.setFor("grid",color("#ffffff")),V.setFor("background",color("#000000")),V.setFor("alternativeBackground",color("#000000")),V.setFor("text",color("#ffffff")),V.setFor("alternativeText",color("#ffffff")),V.setFor("disabledBackground",color("#bbbbbb"))),is(V,"Grid")&&(V.strokeOpacity=.07),is(V,"Scrollbar")&&(V.background.fillOpacity=.2,V.thumb.background.fillOpacity=.5),is(V,"ColorSet")&&(V.list=[color("#eeeab5"),color("#0975da"),color("#0996f2"),color("#1fb0ff"),color("#41baff"),color("#5ec5ff"),color("#3db7ff")],V.reuse=!1,V.stepOptions={lightness:.1,hue:0},V.passOptions={}),is(V,"Button")&&(V.background.fillOpacity=1,V.background.strokeOpacity=.5,V.background.fill=color("#303950"))};const am4langRU={_decimalSeparator:",",_thousandSeparator:" ",_percentPrefix:null,_percentSuffix:"%",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"dd MMM",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_second:"ss",_duration_minute:"mm",_duration_hour:"hh",_duration_day:"dd",_duration_week:"ww",_duration_month:"MM",_duration_year:"yyyy",_era_ad:"\u043D.\u044D.",_era_bc:"\u0434\u043E \u043D.\u044D.",A:"\u0423",P:"\u0412",AM:"\u0443\u0442\u0440\u0430",PM:"\u0432\u0435\u0447\u0435\u0440\u0430","A.M.":"\u0434\u043E \u043F\u043E\u043B\u0443\u0434\u043D\u044F","P.M.":"\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F",January:"\u044F\u043D\u0432\u0430\u0440\u044F",February:"\u0444\u0435\u0432\u0440\u0430\u043B\u044F",March:"\u043C\u0430\u0440\u0442\u0430",April:"\u0430\u043F\u0440\u0435\u043B\u044F",May:"\u043C\u0430\u044F",June:"\u0438\u044E\u043D\u044F",July:"\u0438\u044E\u043B\u044F",August:"\u0430\u0432\u0433\u0443\u0441\u0442\u0430",September:"\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F",October:"\u043E\u043A\u0442\u044F\u0431\u0440\u044F",November:"\u043D\u043E\u044F\u0431\u0440\u044F",December:"\u0434\u0435\u043A\u0430\u0431\u0440\u044F",Jan:"\u044F\u043D\u0432.",Feb:"\u0444\u0435\u0432\u0440.",Mar:"\u043C\u0430\u0440\u0442",Apr:"\u0430\u043F\u0440.","May(short)":"\u043C\u0430\u0439",Jun:"\u0438\u044E\u043D\u044C",Jul:"\u0438\u044E\u043B\u044C",Aug:"\u0430\u0432\u0433.",Sep:"\u0441\u0435\u043D\u0442.",Oct:"\u043E\u043A\u0442.",Nov:"\u043D\u043E\u044F\u0431.",Dec:"\u0434\u0435\u043A.",Sunday:"\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435",Monday:"\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A",Tuesday:"\u0432\u0442\u043E\u0440\u043D\u0438\u043A",Wednesday:"\u0441\u0440\u0435\u0434\u0430",Thursday:"\u0447\u0435\u0442\u0432\u0435\u0440\u0433",Friday:"\u043F\u044F\u0442\u043D\u0438\u0446\u0430",Saturday:"\u0441\u0443\u0431\u0431\u043E\u0442\u0430",Sun:"\u0432\u0441.",Mon:"\u043F\u043D.",Tue:"\u0432\u0442.",Wed:"\u0441\u0440.",Thu:"\u0447\u0442.",Fri:"\u043F\u0442.",Sat:"\u0441\u0431.",_dateOrd:function(V){return"-\u043E\u0435"},"Zoom Out":"\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C",Play:"\u0421\u0442\u0430\u0440\u0442",Stop:"\u0421\u0442\u043E\u043F",Legend:"\u041B\u0435\u0433\u0435\u043D\u0434\u0430","Click, tap or press ENTER to toggle":"\u0429\u0435\u043B\u043A\u043D\u0438\u0442\u0435, \u043A\u043E\u0441\u043D\u0438\u0442\u0435\u0441\u044C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0438\u0442\u044C",Loading:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430",Home:"\u041D\u0430\u0447\u0430\u043B\u043E",Chart:"\u0413\u0440\u0430\u0444\u0438\u043A","Serial chart":"\u0421\u0435\u0440\u0438\u0439\u043D\u0430\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430","X/Y chart":"\u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430 X/Y","Pie chart":"\u041A\u0440\u0443\u0433\u043E\u0432\u0430\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430","Gauge chart":"\u0414\u0430\u0442\u0447\u0438\u043A-\u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430","Radar chart":"\u041B\u0435\u043F\u0435\u0441\u0442\u043A\u043E\u0432\u0430\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430","Sankey diagram":"\u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430 \u0421\u044D\u043D\u043A\u0438","Chord diagram":"\u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430 Chord","Flow diagram":"\u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430 \u0444\u043B\u043E\u0443","TreeMap chart":"\u0418\u0435\u0440\u0430\u0440\u0445\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430",Series:"\u0421\u0435\u0440\u0438\u044F","Candlestick Series":"\u0421\u0435\u0440\u0438\u044F-\u043F\u043E\u0434\u0441\u0432\u0435\u0447\u043D\u0438\u043A","Column Series":"\u0421\u0442\u043E\u043B\u0431\u0447\u0430\u0442\u0430\u044F \u0441\u0435\u0440\u0438\u044F","Line Series":"\u041B\u0438\u043D\u0435\u0439\u043D\u0430\u044F \u0441\u0435\u0440\u0438\u044F","Pie Slice Series":"\u041A\u0440\u0443\u0433\u043E\u0432\u0430\u044F \u0441\u0435\u0440\u0438\u044F","X/Y Series":"X/Y \u0441\u0435\u0440\u0438\u044F",Map:"\u041A\u0430\u0440\u0442\u0430","Press ENTER to zoom in":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u0443 \u0443\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C","Press ENTER to zoom out":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u044B \u0443\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C","Use arrow keys to zoom in and out":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438-\u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0447\u0442\u043E\u0431\u044B \u0443\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u0438 \u0443\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C","Use plus and minus keys on your keyboard to zoom in and out":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u043F\u043B\u044E\u0441 \u0438 \u043C\u0438\u043D\u0443\u0441 \u043D\u0430 \u043A\u043B\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0435 \u0447\u0442\u043E\u0431\u044B \u0443\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u0438 \u0443\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C",Export:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",Image:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",Data:"\u0414\u0430\u043D\u043D\u044B\u0435",Print:"\u041F\u0435\u0447\u0430\u0442\u0430\u0442\u044C","Click, tap or press ENTER to open":"\u0429\u0435\u043B\u043A\u043D\u0438\u0442\u0435, \u043A\u043E\u0441\u043D\u0438\u0442\u0435\u0441\u044C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u044B \u043E\u0442\u043A\u0440\u044B\u0442\u044C","Click, tap or press ENTER to print.":"\u0429\u0435\u043B\u043A\u043D\u0438\u0442\u0435, \u043A\u043E\u0441\u043D\u0438\u0442\u0435\u0441\u044C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u044B \u0440\u0430\u0441\u043F\u0435\u0447\u0430\u0442\u0430\u0442\u044C","Click, tap or press ENTER to export as %1.":"\u0429\u0435\u043B\u043A\u043D\u0438\u0442\u0435, \u043A\u043E\u0441\u043D\u0438\u0442\u0435\u0441\u044C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0412\u0412\u041E\u0414 \u0447\u0442\u043E\u0431\u044B \u044D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A %1",'To save the image, right-click this link and choose "Save picture as..."':'\u0427\u0442\u043E\u0431\u044B \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435, \u0449\u0435\u043B\u043A\u043D\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u043E\u0439 \u043A\u043D\u043E\u043F\u043A\u043E\u0439 \u043D\u0430 \u0441\u0441\u044B\u043B\u043A\u0435 \u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 "\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043A\u0430\u043A..."','To save the image, right-click thumbnail on the left and choose "Save picture as..."':'\u0427\u0442\u043E\u0431\u044B \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435, \u0449\u0435\u043B\u043A\u043D\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u043E\u0439 \u043A\u043D\u043E\u043F\u043A\u043E\u0439 \u043D\u0430 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0435 \u0441\u043B\u0435\u0432\u0430 \u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 "\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043A\u0430\u043A..."',"(Press ESC to close this message)":"(\u041D\u0430\u0436\u043C\u0438\u0442\u0435 ESC \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u0440\u044B\u0442\u044C \u044D\u0442\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435)","Image Export Complete":"\u042D\u043A\u0441\u043F\u043E\u0440\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D","Export operation took longer than expected. Something might have gone wrong.":"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u043D\u044F\u043B\u043E \u0434\u043E\u043B\u044C\u0448\u0435, \u0447\u0435\u043C \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043B\u043E\u0441\u044C. \u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0447\u0442\u043E-\u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A.","Saved from":"\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E \u0438\u0437",PNG:"PNG",JPG:"JPG",GIF:"GIF",SVG:"SVG",PDF:"PDF",JSON:"JSON",CSV:"CSV",XLSX:"XLSX","Use TAB to select grip buttons or left and right arrows to change selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0443 TAB, \u0447\u0442\u043E\u0431\u044B \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0440\u0443\u043A\u043E\u044F\u0442\u043A\u0438 \u0438\u043B\u0438 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u0441\u0442\u0440\u0435\u043B\u043E\u043A \u0432\u043B\u0435\u0432\u043E \u0438 \u0432\u043F\u0440\u0430\u0432\u043E, \u0447\u0442\u043E\u0431\u044B \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use left and right arrows to move selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u043B\u0435\u0432\u043E-\u0432\u043F\u0440\u0430\u0432\u043E, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use left and right arrows to move left selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u043B\u0435\u0432\u043E-\u0432\u043F\u0440\u0430\u0432\u043E, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u043B\u0435\u0432\u043E\u0435 \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use left and right arrows to move right selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u043B\u0435\u0432\u043E-\u0432\u043F\u0440\u0430\u0432\u043E, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u043F\u0440\u0430\u0432\u043E\u0435 \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use TAB select grip buttons or up and down arrows to change selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 TAB, \u0447\u0442\u043E\u0431\u044B \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0440\u0443\u043A\u043E\u044F\u0442\u043A\u0438 \u0438\u043B\u0438 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u0432\u0432\u0435\u0440\u0445-\u0432\u043D\u0438\u0437, \u0447\u0442\u043E\u0431\u044B \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use up and down arrows to move selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u0432\u0435\u0440\u0445-\u0432\u043D\u0438\u0437, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use up and down arrows to move lower selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u0432\u0435\u0440\u0445-\u0432\u043D\u0438\u0437, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u043D\u0438\u0436\u043D\u0435\u0435 \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","Use up and down arrows to move upper selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0432\u0432\u0435\u0440\u0445-\u0432\u043D\u0438\u0437, \u0447\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0445\u043D\u0435\u0435 \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","From %1 to %2":"\u041E\u0442 %1 \u0434\u043E %2","From %1":"\u041E\u0442 %1","To %1":"\u0414\u043E %1","No parser available for file: %1":"\u041D\u0435\u0442 \u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0442\u043E\u0440\u0430 \u0434\u043B\u044F \u0444\u0430\u0439\u043B\u0430: %1","Error parsing file: %1":"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0430\u0437\u0431\u043E\u0440\u0435 \u0444\u0430\u0439\u043B\u0430: %1","Unable to load file: %1":"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B: %1","Invalid date":"\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0430\u044F \u0434\u0430\u0442\u0430"},AmChart_vue_vue_type_style_index_0_lang="";let prefersColorSchemeDark=initialDarkMode;const chartColors={green:color("#3ec55e"),red:color("#fc3d38"),blue:color("#1a9afe"),white:color("#FFFFFF"),black:color("#000000"),gray:color("#888888"),graydark:color("#333333"),graylight:color("#f3f3f3")};addLicense("CH269543621");prefersColorSchemeDark&&useTheme(theme);const _sfc_main$P={computed:{...mapState("transaction",["chartInterval","detailsInterval","chartData","chartDataCurrencyIndex","loadingChart"]),activeChartData(){return this.chartData[this.chartDataCurrencyIndex]},currencySign(){var V;return this.$helper.currencySignByCode((V=this.activeChartData)==null?void 0:V.currency)}},watch:{detailsInterval(V){V.from?(this.dateAxis.zoomToDates(new Date(V.from),new Date(V.to)),this.dateAxis2.disabled||this.dateAxis2.zoomToDates(new Date(V.from),new Date(V.to))):(this.dateAxis.zoom({start:0,end:1}),this.dateAxis2.disabled||this.dateAxis2.zoom({start:0,end:1}))},"$darkModeObserver.darkMode"(V){V===!0?(prefersColorSchemeDark=!0,useTheme(theme),this.createChart()):(prefersColorSchemeDark=!1,unuseAllThemes(),this.createChart())},loadingChart(V){this.chart&&(this.chart.interactionsEnabled=!V)}},mounted(){this.createChart()},beforeDestroy(){this.chart&&this.chart.dispose(),this.$store.commit("transaction/setChartData",[])},methods:{...mapActions("transaction",["updateDetailsInterval"]),createChart(){this.chart&&this.chart.dispose();const V=create(this.$refs.chartdiv,XYChart);locale$4==="ru_RU"&&(V.language.locale=am4langRU),V.leftAxesContainer.layout="vertical";const E=V.xAxes.push(new DateAxis);E.baseInterval={timeUnit:"day",count:1},E.renderer.grid.template.location=.5,E.renderer.grid.template.strokeOpacity=prefersColorSchemeDark?.16:.06,E.renderer.grid.template.disabled=!0,E.renderer.labels.template.disabled=!0,E.cursorTooltipEnabled=!1,this.dateAxis2=E;const F=V.xAxes.push(new DateAxis);F.groupData=!0,F.groupCount=this.$isSpaMobileMode?90:180,F.groupIntervals.setAll([{timeUnit:"day",count:1},{timeUnit:"month",count:1}]),F.renderer.grid.template.location=.5,F.renderer.grid.template.disabled=!0,F.renderer.labels.template.fill=chartColors.gray,F.renderer.ticks.template.disabled=!0,F.renderer.ticks.template.strokeOpacity=1,F.renderer.ticks.template.strokeWidth=1,F.renderer.ticks.template.length=8,F.renderer.ticks.template.location=.5,F.renderer.labels.template.location=.5,F.renderer.cellStartLocation=.15,F.renderer.cellEndLocation=.85,this.dateAxis=F,this.dateAxis.events.on("groupperiodchanged",({target:Z})=>{Z.startLocation=Z.currentDataSetId.includes("month")?this.$moment(this.chartInterval.from).add(-1,"d").date()/this.$moment(this.chartInterval.from).add(-1,"d").daysInMonth():0,Z.endLocation=Z.currentDataSetId.includes("month")?this.$moment(this.chartInterval.to).date()/this.$moment(this.chartInterval.to).daysInMonth():1});const R=V.yAxes.push(new ValueAxis);R.height=120,R.align="right",R.cursorTooltipEnabled=!1,R.numberFormatter=new NumberFormatter,R.numberFormatter.numberFormat="# a",R.renderer.grid.template.strokeOpacity=prefersColorSchemeDark?.16:.06,R.renderer.labels.template.fill=chartColors.gray,this.balanceAxis=R;const U=V.yAxes.push(new ValueAxis);U.align="right",U.cursorTooltipEnabled=!1,U.numberFormatter=new NumberFormatter,U.min=0,U.numberFormatter.numberFormat="# a",U.renderer.grid.template.strokeOpacity=prefersColorSchemeDark?.16:.06,U.renderer.labels.template.fill=chartColors.gray,U.renderer.maxLabelPosition=.99,prefersColorSchemeDark||(U.renderer.gridContainer.background.fill=chartColors.graylight,U.renderer.gridContainer.background.fillOpacity=.3),this.colsAxis=U;const W=new XYCursor;W.xAxis=this.dateAxis,W.lineY.disabled=!0,W.events.on("zoomended",Z=>{if(Z.target.behavior==="none")return;const J=Z.target.xRange,Q=this.$moment(this.dateAxis.positionToDate(this.dateAxis.toAxisPosition(J.start))).format("YYYY-MM-DD"),ee=this.$moment(this.dateAxis.positionToDate(this.dateAxis.toAxisPosition(J.end))).format("YYYY-MM-DD");this.updateDetailsInterval({from:Q,to:ee})}),V.cursor=W;const Y=this.dateAxis.axisRanges.create();Y.date=this.$moment().set("hour",12).toDate(),Y.endDate=new Date(864e13),Y.grid.disabled=!0,Y.axisFill.fillOpacity=.5,Y.axisFill.fill=prefersColorSchemeDark?chartColors.black:chartColors.white,V.seriesContainer.zIndex=-1;const G=this.dateAxis.axisRanges.create();G.date=this.$moment().set("hour",12).toDate(),G.grid.stroke=prefersColorSchemeDark?chartColors.white:chartColors.black,G.grid.strokeWidth=1,G.grid.strokeOpacity=1,G.label.valign="bottom",G.label.text=this.$t("today"),G.label.fill=G.grid.stroke,G.label.dy=16,V.scrollbarX=new Scrollbar,V.scrollbarX.parent=V.bottomAxesContainer,V.scrollbarX.background.fillOpacity=0,V.scrollbarX.thumb.background.strokeWidth=0,V.scrollbarX.thumb.background.fill=color(prefersColorSchemeDark?"rgba(128, 128, 128, 0.2)":"rgba(0, 0, 0, 0.06)"),V.scrollbarX.thumb.background.fillOpacity=1,V.scrollbarX.thumb.background.states.getKey("hover").properties.fill=color(prefersColorSchemeDark?"rgba(128, 128, 128, 0.3)":"rgba(0, 0, 0, 0.1)"),V.scrollbarX.thumb.background.states.getKey("down").properties.fill=color(prefersColorSchemeDark?"rgba(128, 128, 128, 0.3)":"rgba(0, 0, 0, 0.1)");function X(Z,J){Z.icon.disabled=!0,Z.background.disabled=!0;const Q=Z.createChild(Image$1);Q.href=`data:image/svg+xml,%3Csvg width='29' height='30' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7.008 2.672A6 6 0 0112 0h10.789a6 6 0 016 6v18a6 6 0 01-6 6H12a6 6 0 01-4.992-2.672l-6-9a6 6 0 010-6.656l6-9z' fill='%23${prefersColorSchemeDark?"151e29":"fff"}'/%3E%3Cpath d='M7.424 2.95A5.5 5.5 0 0112 .5h10.789a5.5 5.5 0 015.5 5.5v18a5.5 5.5 0 01-5.5 5.5H12a5.5 5.5 0 01-4.576-2.45l-6-9a5.5 5.5 0 010-6.1l6-9z' stroke='%23${prefersColorSchemeDark?"eee":"000"}' stroke-opacity='.15'/%3E%3C/svg%3E`,Q.width=30,Q.height=30,Q.rotation=J,Q.align="center",Q.valign="middle"}X(V.scrollbarX.startGrip,180),X(V.scrollbarX.endGrip,0);const K=()=>{const Z=this.$moment(this.dateAxis.minZoomed).format("YYYY-MM-DD");let J=this.$moment(this.dateAxis.maxZoomed);J=J>this.$moment(this.chartInterval.to)?this.chartInterval.to:J.format("YYYY-MM-DD"),this.updateDetailsInterval({from:Z,to:J})};V.scrollbarX.thumb.events.on("dragstop",K),V.scrollbarX.startGrip.events.on("dragstop",K),V.scrollbarX.endGrip.events.on("dragstop",K),V.zoomOutButton.events.on("hit",()=>{this.updateDetailsInterval({from:"",to:""})}),V.responsive.rules.push({relevant:Z=>Z.pixelWidth<=768?(Z.cursor.behavior!=="none"&&(Z.cursor.behavior="none"),!0):(Z.cursor.behavior==="none"&&(Z.cursor.behavior="zoomX"),!1),state:(Z,J)=>{if(Z instanceof ValueAxis){const Q=Z.states.create(J);return Q.properties.cursorTooltipEnabled=!1,Z.marginBottom===60&&(Q.properties.marginBottom=40),Q}if(Z instanceof Scrollbar){const Q=Z.states.create(J);return Q.properties.paddingLeft=14,Q.properties.paddingRight=14,Q}if(Z instanceof AxisLabel&&Z.parent instanceof AxisRendererY){const Q=Z.states.create(J);return Q.properties.inside=!0,Q.properties.dx=-8,Q.properties.dy=-8,Q.properties.fillOpacity=.6,Q.properties.fontSize=9,Q}return null}}),this.chart=V,this.$watch("activeChartData",Z=>{this.updateChartData(Z)},{immediate:!0})},updateChartData(V){const E=this.$moment(this.chartInterval.from),R=this.$moment(this.chartInterval.to).diff(E,"days")+1,U=new Array(R).fill(null).map((W,Y)=>({period:E.clone().add(Y,"d").format("YYYY-MM-DD"),amountIncome:null,amountExpense:null,balance:null}));if(V){this.balanceAxis.disabled=this.dateAxis2.disabled=V.data[0].balance===null,this.chart.scrollbarX.disabled=!1,this.chart.cursor.disabled=!1,["amountIncome","amountExpense","amountProfit","balance"].forEach(Y=>{const G=this.chart.series.values.findIndex(X=>X.dataFields.valueY===Y);V.data[0][Y]===null&&G>-1&&this.chart.series.removeIndex(G).dispose(),V.data[0][Y]!==null&&G===-1&&(Y==="balance"?this.addBalanceSeries():this.addColumnSeries(Y))}),V.data.forEach(Y=>{const G=U.findIndex(X=>X.period===Y.period);G>-1&&U.splice(G,1,{...Y,bulletDisabled:!0})});let W=null;U.forEach(Y=>{Y.balance!==null&&(W=Y.balance),Y.balance===null&&(Y.balance=W),Y.period===this.$helper.currentDate&&(Y.bulletDisabled=!1)})}else this.balanceAxis.disabled=this.dateAxis2.disabled=!0,this.chart.scrollbarX.disabled=!0,this.chart.cursor.disabled=!0,["amountIncome","amountExpense","amountProfit","balance"].forEach(W=>{const Y=this.chart.series.values.findIndex(G=>G.dataFields.valueY===W);Y>-1&&this.chart.series.removeIndex(Y).dispose()}),this.addColumnSeries("amountIncome"),U.forEach(W=>{W.amountIncome=0});this.chart.data=U},addColumnSeries(V){let E={dataField:V};V==="amountIncome"&&(E={name:this.$t("income"),color:chartColors.green,...E}),V==="amountExpense"&&(E={name:this.$t("expense"),color:chartColors.red,...E}),V==="amountProfit"&&(E={name:this.$t("profit"),color:chartColors.blue,...E});const F=this.chart.series.push(new ColumnSeries);F.name=E.name,F.tooltip.background.filters.clear(),F.tooltip.background.strokeWidth=0,F.tooltip.getFillFromObject=!1,F.tooltip.background.fill=E.color,F.tooltip.animationDuration=500,F.yAxis=this.colsAxis,F.xAxis=this.dateAxis,F.dataFields.valueY=E.dataField,F.dataFields.dateX="period",F.groupFields.valueY="sum",F.stroke=E.color,F.columns.template.strokeWidth=0,F.columns.template.fill=E.color,F.columns.template.column.cornerRadiusTopLeft=4,F.columns.template.column.cornerRadiusTopRight=4,F.adapter.add("tooltipText",(R,U)=>`{dateX.formatDate('${!!U.tooltipDataItem.groupDataItems?"MMM yyyy":"d MMMM yyyy"}')}, {name}: {valueY.value} ${this.currencySign}`)},addBalanceSeries(){const V=this.chart.series.push(new LineSeries);V.name=this.$t("balance"),V.tooltip.pointerOrientation="top",V.tooltip.background.filters.clear(),V.tooltip.background.strokeWidth=0,V.tooltip.getFillFromObject=!1,V.tooltip.background.fill=chartColors.graydark,V.tooltip.label.fill=chartColors.white,V.tooltip.animationDuration=500,V.tooltip.zIndex=50,V.tooltipText=`{dateX.formatDate('d MMMM yyyy')}
{name}: {valueY.value} ${this.currencySign}`,V.yAxis=this.balanceAxis,V.xAxis=this.dateAxis2,V.dataFields.valueY="balance",V.dataFields.dateX="period",V.groupFields.valueY="sum",V.stroke=color("rgba(255, 0, 0, 0)"),V.strokeWidth=3,this.balanceSeries=V,this.chart.events.on("datavalidated",F=>{if(this.dateAxis2.axisRanges.clear(),this.balanceAxis.axisRanges.clear(),this.balanceSeries.isDisposed())return;let R=[],U=null;F.target.data.forEach((J,Q,ee)=>{J.balance<0?(R.push({balance:J.balance,date:J.period,isStart:U===null,isEnd:!1}),Q===ee.length-1&&R.length&&(R[R.length-1].isEnd=!0,this.addNegativeBalanceRange(this.balanceSeries,R))):(R.length&&this.addNegativeBalanceRange(this.balanceSeries,R),R=[]),U=J.balance});let W=this.balanceAxis.valueToPosition(0);W<0&&(W=0),W>1&&(W=1);const Y=this.balanceAxis.createSeriesRange(this.balanceSeries);Y.value=0,Y.name="positive",Y.endValue=Number.MAX_SAFE_INTEGER,Y.contents.stroke=chartColors.green;const G=new LinearGradient;G.stops.push({color:chartColors.green,opacity:1}),G.stops.push({color:chartColors.green,offset:1-W-(1-W)*.2,opacity:0}),G.rotation=90,Y.contents.fill=G,Y.contents.fillOpacity=.4;const X=this.balanceAxis.createSeriesRange(this.balanceSeries);X.value=-1,X.name="negative",X.endValue=Number.MIN_SAFE_INTEGER,X.contents.stroke=chartColors.red;const K=new LinearGradient;K.stops.push({color:chartColors.red,offset:1-W+(1-W)*.2,opacity:0}),K.stops.push({color:chartColors.red,opacity:1}),K.rotation=90,X.contents.fill=K,X.contents.fillOpacity=.4;const Z=this.dateAxis2.createSeriesRange(this.balanceSeries);Z.name="dashedLine",Z.date=this.$moment().set("hour",12).toDate(),Z.endDate=new Date(864e13),Z.contents.stroke=prefersColorSchemeDark?chartColors.black:chartColors.graylight,Z.contents.strokeDasharray="3 5",Z.contents.strokeWidth=3});const E=this.balanceSeries.bullets.push(new CircleBullet);E.disabled=!0,E.propertyFields.disabled="bulletDisabled",E.events.on("inited",({target:F})=>{F.circle.fill=F.dataItem.valueY>=0?chartColors.green:chartColors.red})},addNegativeBalanceRange(V,E){const F=E.reduce((te,ie)=>ie.balance<te?ie.balance:te,E[0].balance),R=E.find(te=>te.balance===F).date,U=E[0].date,W=E[E.length-1].date,Y=this.$moment(U).diff(this.$moment(),"days")+1,G=this.$moment(W).diff(this.$moment(),"days")+1,X=Y>0?` ${this.$t("inDays",{days:Y})}`:"",K=G>0&&!E[E.length-1].isEnd?` ${this.$t("inDays",{days:G})}`:"",Z=this.dateAxis2.createSeriesRange(V);Z.name="CashGap",Z.date=new Date(E[0].date),Z.endDate=new Date(E[E.length-1].date),Z.contents.strokeWidth=0,Z.axisFill.interactionsEnabled=!0,Z.axisFill.isMeasured=!0,Z.axisFill.tooltip=new Tooltip,Z.axisFill.tooltip.background.filters.clear(),Z.axisFill.tooltip.background.strokeWidth=0,Z.axisFill.tooltip.getFillFromObject=!1,Z.axisFill.tooltip.background.fill=chartColors.red,Z.axisFill.tooltip.label.fill=chartColors.black;const J=(1-this.balanceAxis.valueToPosition(0))*100,Q=220/353*100,ee=J/100*Q;Z.axisFill.tooltipY=percent(ee),Z.axisFill.tooltipText=this.$t("cashGapTooltip",{start:`${E[0].isStart?" <=":""} ${this.$moment(U).format("L")}${X}`,end:`${E[E.length-1].isEnd?" >=":""} ${this.$moment(W).format("L")}${K}`,decline:this.$helper.toCurrency({value:F,currencyCode:this.activeChartData.currency}),declineDate:this.$moment(R).format("L")})}}};var _sfc_render$P=function(){var E=this,F=E._self._c;return F("div",{ref:"chartdiv",staticClass:"c-chart-main smaller",style:E.loadingChart&&"opacity:.2"})},_sfc_staticRenderFns$P=[],__component__$P=normalizeComponent(_sfc_main$P,_sfc_render$P,_sfc_staticRenderFns$P,!1,null,null,null,null);const AmChart=__component__$P.exports,_sfc_main$O={components:{AmChart},created(){this.unsubscribeFromMutations=this.$store.subscribe(({type:V})=>{switch(V){case"transaction/updateChartInterval":case"transaction/updateTransactions":case"transaction/deleteTransaction":case"transaction/createTransactions":this.$store.dispatch("transaction/getChartData")}}),this.unsubscribeFromActions=this.$store.subscribeAction({after:({type:V})=>{switch(V){case"updateCurrentEntity":case"transactionBulk/bulkMove":this.$store.dispatch("transaction/getChartData")}}})},beforeDestroy(){this.unsubscribeFromMutations(),this.unsubscribeFromActions()}};var _sfc_render$O=function(){var E=this,F=E._self._c;return F("AmChart")},_sfc_staticRenderFns$O=[],__component__$O=normalizeComponent(_sfc_main$O,_sfc_render$O,_sfc_staticRenderFns$O,!1,null,null,null,null);const AmChartContainer=__component__$O.exports;function bind(V,E){return function(){return V.apply(E,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(V=>E=>{const F=toString$1.call(E);return V[F]||(V[F]=F.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=V=>(V=V.toLowerCase(),E=>kindOf(E)===V),typeOfTest=V=>E=>typeof E===V,{isArray:isArray$1}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer(V){return V!==null&&!isUndefined$1(V)&&V.constructor!==null&&!isUndefined$1(V.constructor)&&isFunction$1(V.constructor.isBuffer)&&V.constructor.isBuffer(V)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(V){let E;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?E=ArrayBuffer.isView(V):E=V&&V.buffer&&isArrayBuffer(V.buffer),E}const isString$1=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=V=>V!==null&&typeof V=="object",isBoolean=V=>V===!0||V===!1,isPlainObject=V=>{if(kindOf(V)!=="object")return!1;const E=getPrototypeOf(V);return(E===null||E===Object.prototype||Object.getPrototypeOf(E)===null)&&!(Symbol.toStringTag in V)&&!(Symbol.iterator in V)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=V=>isObject$2(V)&&isFunction$1(V.pipe),isFormData=V=>{let E;return V&&(typeof FormData=="function"&&V instanceof FormData||isFunction$1(V.append)&&((E=kindOf(V))==="formdata"||E==="object"&&isFunction$1(V.toString)&&V.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=V=>V.trim?V.trim():V.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(V,E,{allOwnKeys:F=!1}={}){if(V===null||typeof V>"u")return;let R,U;if(typeof V!="object"&&(V=[V]),isArray$1(V))for(R=0,U=V.length;R<U;R++)E.call(null,V[R],R,V);else{const W=F?Object.getOwnPropertyNames(V):Object.keys(V),Y=W.length;let G;for(R=0;R<Y;R++)G=W[R],E.call(null,V[G],G,V)}}function findKey(V,E){E=E.toLowerCase();const F=Object.keys(V);let R=F.length,U;for(;R-- >0;)if(U=F[R],E===U.toLowerCase())return U;return null}const _global$2=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=V=>!isUndefined$1(V)&&V!==_global$2;function merge$1(){const{caseless:V}=isContextDefined(this)&&this||{},E={},F=(R,U)=>{const W=V&&findKey(E,U)||U;isPlainObject(E[W])&&isPlainObject(R)?E[W]=merge$1(E[W],R):isPlainObject(R)?E[W]=merge$1({},R):isArray$1(R)?E[W]=R.slice():E[W]=R};for(let R=0,U=arguments.length;R<U;R++)arguments[R]&&forEach(arguments[R],F);return E}const extend=(V,E,F,{allOwnKeys:R}={})=>(forEach(E,(U,W)=>{F&&isFunction$1(U)?V[W]=bind(U,F):V[W]=U},{allOwnKeys:R}),V),stripBOM=V=>(V.charCodeAt(0)===65279&&(V=V.slice(1)),V),inherits=(V,E,F,R)=>{V.prototype=Object.create(E.prototype,R),V.prototype.constructor=V,Object.defineProperty(V,"super",{value:E.prototype}),F&&Object.assign(V.prototype,F)},toFlatObject=(V,E,F,R)=>{let U,W,Y;const G={};if(E=E||{},V==null)return E;do{for(U=Object.getOwnPropertyNames(V),W=U.length;W-- >0;)Y=U[W],(!R||R(Y,V,E))&&!G[Y]&&(E[Y]=V[Y],G[Y]=!0);V=F!==!1&&getPrototypeOf(V)}while(V&&(!F||F(V,E))&&V!==Object.prototype);return E},endsWith=(V,E,F)=>{V=String(V),(F===void 0||F>V.length)&&(F=V.length),F-=E.length;const R=V.indexOf(E,F);return R!==-1&&R===F},toArray$1=V=>{if(!V)return null;if(isArray$1(V))return V;let E=V.length;if(!isNumber(E))return null;const F=new Array(E);for(;E-- >0;)F[E]=V[E];return F},isTypedArray=(V=>E=>V&&E instanceof V)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(V,E)=>{const R=(V&&V[Symbol.iterator]).call(V);let U;for(;(U=R.next())&&!U.done;){const W=U.value;E.call(V,W[0],W[1])}},matchAll=(V,E)=>{let F;const R=[];for(;(F=V.exec(E))!==null;)R.push(F);return R},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=V=>V.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(F,R,U){return R.toUpperCase()+U}),hasOwnProperty=(({hasOwnProperty:V})=>(E,F)=>V.call(E,F))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(V,E)=>{const F=Object.getOwnPropertyDescriptors(V),R={};forEach(F,(U,W)=>{let Y;(Y=E(U,W,V))!==!1&&(R[W]=Y||U)}),Object.defineProperties(V,R)},freezeMethods=V=>{reduceDescriptors(V,(E,F)=>{if(isFunction$1(V)&&["arguments","caller","callee"].indexOf(F)!==-1)return!1;const R=V[F];if(!!isFunction$1(R)){if(E.enumerable=!1,"writable"in E){E.writable=!1;return}E.set||(E.set=()=>{throw Error("Can not rewrite read-only method '"+F+"'")})}})},toObjectSet=(V,E)=>{const F={},R=U=>{U.forEach(W=>{F[W]=!0})};return isArray$1(V)?R(V):R(String(V).split(E)),F},noop$1=()=>{},toFiniteNumber=(V,E)=>(V=+V,Number.isFinite(V)?V:E),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(V=16,E=ALPHABET.ALPHA_DIGIT)=>{let F="";const{length:R}=E;for(;V--;)F+=E[Math.random()*R|0];return F};function isSpecCompliantForm(V){return!!(V&&isFunction$1(V.append)&&V[Symbol.toStringTag]==="FormData"&&V[Symbol.iterator])}const toJSONObject=V=>{const E=new Array(10),F=(R,U)=>{if(isObject$2(R)){if(E.indexOf(R)>=0)return;if(!("toJSON"in R)){E[U]=R;const W=isArray$1(R)?[]:{};return forEach(R,(Y,G)=>{const X=F(Y,U+1);!isUndefined$1(X)&&(W[G]=X)}),E[U]=void 0,W}}return R};return F(V,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=V=>V&&(isObject$2(V)||isFunction$1(V))&&isFunction$1(V.then)&&isFunction$1(V.catch),utils={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean,isObject:isObject$2,isPlainObject,isUndefined:isUndefined$1,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$1,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global$2,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(V,E,F,R,U){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=V,this.name="AxiosError",E&&(this.code=E),F&&(this.config=F),R&&(this.request=R),U&&(this.response=U)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(V=>{descriptors[V]={value:V}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(V,E,F,R,U,W)=>{const Y=Object.create(prototype$1);return utils.toFlatObject(V,Y,function(X){return X!==Error.prototype},G=>G!=="isAxiosError"),AxiosError.call(Y,V.message,E,F,R,U),Y.cause=V,Y.name=V.name,W&&Object.assign(Y,W),Y};const httpAdapter=null;function isVisitable(V){return utils.isPlainObject(V)||utils.isArray(V)}function removeBrackets(V){return utils.endsWith(V,"[]")?V.slice(0,-2):V}function renderKey(V,E,F){return V?V.concat(E).map(function(U,W){return U=removeBrackets(U),!F&&W?"["+U+"]":U}).join(F?".":""):E}function isFlatArray(V){return utils.isArray(V)&&!V.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(E){return/^is[A-Z]/.test(E)});function toFormData(V,E,F){if(!utils.isObject(V))throw new TypeError("target must be an object");E=E||new FormData,F=utils.toFlatObject(F,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ie,re){return!utils.isUndefined(re[ie])});const R=F.metaTokens,U=F.visitor||Z,W=F.dots,Y=F.indexes,X=(F.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(E);if(!utils.isFunction(U))throw new TypeError("visitor must be a function");function K(te){if(te===null)return"";if(utils.isDate(te))return te.toISOString();if(!X&&utils.isBlob(te))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(te)||utils.isTypedArray(te)?X&&typeof Blob=="function"?new Blob([te]):Buffer.from(te):te}function Z(te,ie,re){let ne=te;if(te&&!re&&typeof te=="object"){if(utils.endsWith(ie,"{}"))ie=R?ie:ie.slice(0,-2),te=JSON.stringify(te);else if(utils.isArray(te)&&isFlatArray(te)||(utils.isFileList(te)||utils.endsWith(ie,"[]"))&&(ne=utils.toArray(te)))return ie=removeBrackets(ie),ne.forEach(function(se,le){!(utils.isUndefined(se)||se===null)&&E.append(Y===!0?renderKey([ie],le,W):Y===null?ie:ie+"[]",K(se))}),!1}return isVisitable(te)?!0:(E.append(renderKey(re,ie,W),K(te)),!1)}const J=[],Q=Object.assign(predicates,{defaultVisitor:Z,convertValue:K,isVisitable});function ee(te,ie){if(!utils.isUndefined(te)){if(J.indexOf(te)!==-1)throw Error("Circular reference detected in "+ie.join("."));J.push(te),utils.forEach(te,function(ne,ae){(!(utils.isUndefined(ne)||ne===null)&&U.call(E,ne,utils.isString(ae)?ae.trim():ae,ie,Q))===!0&&ee(ne,ie?ie.concat(ae):[ae])}),J.pop()}}if(!utils.isObject(V))throw new TypeError("data must be an object");return ee(V),E}function encode$1(V){const E={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(V).replace(/[!'()~]|%20|%00/g,function(R){return E[R]})}function AxiosURLSearchParams(V,E){this._pairs=[],V&&toFormData(V,this,E)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(E,F){this._pairs.push([E,F])};prototype.toString=function(E){const F=E?function(R){return E.call(this,R,encode$1)}:encode$1;return this._pairs.map(function(U){return F(U[0])+"="+F(U[1])},"").join("&")};function encode(V){return encodeURIComponent(V).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(V,E,F){if(!E)return V;const R=F&&F.encode||encode,U=F&&F.serialize;let W;if(U?W=U(E,F):W=utils.isURLSearchParams(E)?E.toString():new AxiosURLSearchParams(E,F).toString(R),W){const Y=V.indexOf("#");Y!==-1&&(V=V.slice(0,Y)),V+=(V.indexOf("?")===-1?"?":"&")+W}return V}class InterceptorManager{constructor(){this.handlers=[]}use(E,F,R){return this.handlers.push({fulfilled:E,rejected:F,synchronous:R?R.synchronous:!1,runWhen:R?R.runWhen:null}),this.handlers.length-1}eject(E){this.handlers[E]&&(this.handlers[E]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(E){utils.forEach(this.handlers,function(R){R!==null&&E(R)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let V;return typeof navigator<"u"&&((V=navigator.product)==="ReactNative"||V==="NativeScript"||V==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(V,E){return toFormData(V,new platform$1.classes.URLSearchParams,Object.assign({visitor:function(F,R,U,W){return platform$1.isNode&&utils.isBuffer(F)?(this.append(R,F.toString("base64")),!1):W.defaultVisitor.apply(this,arguments)}},E))}function parsePropPath(V){return utils.matchAll(/\w+|\[(\w*)]/g,V).map(E=>E[0]==="[]"?"":E[1]||E[0])}function arrayToObject(V){const E={},F=Object.keys(V);let R;const U=F.length;let W;for(R=0;R<U;R++)W=F[R],E[W]=V[W];return E}function formDataToJSON(V){function E(F,R,U,W){let Y=F[W++];const G=Number.isFinite(+Y),X=W>=F.length;return Y=!Y&&utils.isArray(U)?U.length:Y,X?(utils.hasOwnProp(U,Y)?U[Y]=[U[Y],R]:U[Y]=R,!G):((!U[Y]||!utils.isObject(U[Y]))&&(U[Y]=[]),E(F,R,U[Y],W)&&utils.isArray(U[Y])&&(U[Y]=arrayToObject(U[Y])),!G)}if(utils.isFormData(V)&&utils.isFunction(V.entries)){const F={};return utils.forEachEntry(V,(R,U)=>{E(parsePropPath(R),U,F,0)}),F}return null}function stringifySafely(V,E,F){if(utils.isString(V))try{return(E||JSON.parse)(V),utils.trim(V)}catch(R){if(R.name!=="SyntaxError")throw R}return(F||JSON.stringify)(V)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(E,F){const R=F.getContentType()||"",U=R.indexOf("application/json")>-1,W=utils.isObject(E);if(W&&utils.isHTMLForm(E)&&(E=new FormData(E)),utils.isFormData(E))return U&&U?JSON.stringify(formDataToJSON(E)):E;if(utils.isArrayBuffer(E)||utils.isBuffer(E)||utils.isStream(E)||utils.isFile(E)||utils.isBlob(E))return E;if(utils.isArrayBufferView(E))return E.buffer;if(utils.isURLSearchParams(E))return F.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let G;if(W){if(R.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(E,this.formSerializer).toString();if((G=utils.isFileList(E))||R.indexOf("multipart/form-data")>-1){const X=this.env&&this.env.FormData;return toFormData(G?{"files[]":E}:E,X&&new X,this.formSerializer)}}return W||U?(F.setContentType("application/json",!1),stringifySafely(E)):E}],transformResponse:[function(E){const F=this.transitional||defaults$1.transitional,R=F&&F.forcedJSONParsing,U=this.responseType==="json";if(E&&utils.isString(E)&&(R&&!this.responseType||U)){const Y=!(F&&F.silentJSONParsing)&&U;try{return JSON.parse(E)}catch(G){if(Y)throw G.name==="SyntaxError"?AxiosError.from(G,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):G}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils.forEach(["delete","get","head","post","put","patch"],V=>{defaults$1.headers[V]={}});const defaults$2=defaults$1,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=V=>{const E={};let F,R,U;return V&&V.split(`
`).forEach(function(Y){U=Y.indexOf(":"),F=Y.substring(0,U).trim().toLowerCase(),R=Y.substring(U+1).trim(),!(!F||E[F]&&ignoreDuplicateOf[F])&&(F==="set-cookie"?E[F]?E[F].push(R):E[F]=[R]:E[F]=E[F]?E[F]+", "+R:R)}),E},$internals=Symbol("internals");function normalizeHeader(V){return V&&String(V).trim().toLowerCase()}function normalizeValue(V){return V===!1||V==null?V:utils.isArray(V)?V.map(normalizeValue):String(V)}function parseTokens(V){const E=Object.create(null),F=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let R;for(;R=F.exec(V);)E[R[1]]=R[2];return E}const isValidHeaderName=V=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(V.trim());function matchHeaderValue(V,E,F,R,U){if(utils.isFunction(R))return R.call(this,E,F);if(U&&(E=F),!!utils.isString(E)){if(utils.isString(R))return E.indexOf(R)!==-1;if(utils.isRegExp(R))return R.test(E)}}function formatHeader(V){return V.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(E,F,R)=>F.toUpperCase()+R)}function buildAccessors(V,E){const F=utils.toCamelCase(" "+E);["get","set","has"].forEach(R=>{Object.defineProperty(V,R+F,{value:function(U,W,Y){return this[R].call(this,E,U,W,Y)},configurable:!0})})}class AxiosHeaders{constructor(E){E&&this.set(E)}set(E,F,R){const U=this;function W(G,X,K){const Z=normalizeHeader(X);if(!Z)throw new Error("header name must be a non-empty string");const J=utils.findKey(U,Z);(!J||U[J]===void 0||K===!0||K===void 0&&U[J]!==!1)&&(U[J||X]=normalizeValue(G))}const Y=(G,X)=>utils.forEach(G,(K,Z)=>W(K,Z,X));return utils.isPlainObject(E)||E instanceof this.constructor?Y(E,F):utils.isString(E)&&(E=E.trim())&&!isValidHeaderName(E)?Y(parseHeaders(E),F):E!=null&&W(F,E,R),this}get(E,F){if(E=normalizeHeader(E),E){const R=utils.findKey(this,E);if(R){const U=this[R];if(!F)return U;if(F===!0)return parseTokens(U);if(utils.isFunction(F))return F.call(this,U,R);if(utils.isRegExp(F))return F.exec(U);throw new TypeError("parser must be boolean|regexp|function")}}}has(E,F){if(E=normalizeHeader(E),E){const R=utils.findKey(this,E);return!!(R&&this[R]!==void 0&&(!F||matchHeaderValue(this,this[R],R,F)))}return!1}delete(E,F){const R=this;let U=!1;function W(Y){if(Y=normalizeHeader(Y),Y){const G=utils.findKey(R,Y);G&&(!F||matchHeaderValue(R,R[G],G,F))&&(delete R[G],U=!0)}}return utils.isArray(E)?E.forEach(W):W(E),U}clear(E){const F=Object.keys(this);let R=F.length,U=!1;for(;R--;){const W=F[R];(!E||matchHeaderValue(this,this[W],W,E,!0))&&(delete this[W],U=!0)}return U}normalize(E){const F=this,R={};return utils.forEach(this,(U,W)=>{const Y=utils.findKey(R,W);if(Y){F[Y]=normalizeValue(U),delete F[W];return}const G=E?formatHeader(W):String(W).trim();G!==W&&delete F[W],F[G]=normalizeValue(U),R[G]=!0}),this}concat(...E){return this.constructor.concat(this,...E)}toJSON(E){const F=Object.create(null);return utils.forEach(this,(R,U)=>{R!=null&&R!==!1&&(F[U]=E&&utils.isArray(R)?R.join(", "):R)}),F}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([E,F])=>E+": "+F).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(E){return E instanceof this?E:new this(E)}static concat(E,...F){const R=new this(E);return F.forEach(U=>R.set(U)),R}static accessor(E){const R=(this[$internals]=this[$internals]={accessors:{}}).accessors,U=this.prototype;function W(Y){const G=normalizeHeader(Y);R[G]||(buildAccessors(U,Y),R[G]=!0)}return utils.isArray(E)?E.forEach(W):W(E),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.reduceDescriptors(AxiosHeaders.prototype,({value:V},E)=>{let F=E[0].toUpperCase()+E.slice(1);return{get:()=>V,set(R){this[F]=R}}});utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(V,E){const F=this||defaults$2,R=E||F,U=AxiosHeaders$1.from(R.headers);let W=R.data;return utils.forEach(V,function(G){W=G.call(F,W,U.normalize(),E?E.status:void 0)}),U.normalize(),W}function isCancel(V){return!!(V&&V.__CANCEL__)}function CanceledError(V,E,F){AxiosError.call(this,V==null?"canceled":V,AxiosError.ERR_CANCELED,E,F),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(V,E,F){const R=F.config.validateStatus;!F.status||!R||R(F.status)?V(F):E(new AxiosError("Request failed with status code "+F.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(F.status/100)-4],F.config,F.request,F))}const cookies=platform$1.isStandardBrowserEnv?function(){return{write:function(F,R,U,W,Y,G){const X=[];X.push(F+"="+encodeURIComponent(R)),utils.isNumber(U)&&X.push("expires="+new Date(U).toGMTString()),utils.isString(W)&&X.push("path="+W),utils.isString(Y)&&X.push("domain="+Y),G===!0&&X.push("secure"),document.cookie=X.join("; ")},read:function(F){const R=document.cookie.match(new RegExp("(^|;\\s*)("+F+")=([^;]*)"));return R?decodeURIComponent(R[3]):null},remove:function(F){this.write(F,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(V){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(V)}function combineURLs(V,E){return E?V.replace(/\/+$/,"")+"/"+E.replace(/^\/+/,""):V}function buildFullPath(V,E){return V&&!isAbsoluteURL(E)?combineURLs(V,E):E}const isURLSameOrigin=platform$1.isStandardBrowserEnv?function(){const E=/(msie|trident)/i.test(navigator.userAgent),F=document.createElement("a");let R;function U(W){let Y=W;return E&&(F.setAttribute("href",Y),Y=F.href),F.setAttribute("href",Y),{href:F.href,protocol:F.protocol?F.protocol.replace(/:$/,""):"",host:F.host,search:F.search?F.search.replace(/^\?/,""):"",hash:F.hash?F.hash.replace(/^#/,""):"",hostname:F.hostname,port:F.port,pathname:F.pathname.charAt(0)==="/"?F.pathname:"/"+F.pathname}}return R=U(window.location.href),function(Y){const G=utils.isString(Y)?U(Y):Y;return G.protocol===R.protocol&&G.host===R.host}}():function(){return function(){return!0}}();function parseProtocol(V){const E=/^([-+\w]{1,25})(:?\/\/|:)/.exec(V);return E&&E[1]||""}function speedometer(V,E){V=V||10;const F=new Array(V),R=new Array(V);let U=0,W=0,Y;return E=E!==void 0?E:1e3,function(X){const K=Date.now(),Z=R[W];Y||(Y=K),F[U]=X,R[U]=K;let J=W,Q=0;for(;J!==U;)Q+=F[J++],J=J%V;if(U=(U+1)%V,U===W&&(W=(W+1)%V),K-Y<E)return;const ee=Z&&K-Z;return ee?Math.round(Q*1e3/ee):void 0}}function progressEventReducer(V,E){let F=0;const R=speedometer(50,250);return U=>{const W=U.loaded,Y=U.lengthComputable?U.total:void 0,G=W-F,X=R(G),K=W<=Y;F=W;const Z={loaded:W,total:Y,progress:Y?W/Y:void 0,bytes:G,rate:X||void 0,estimated:X&&Y&&K?(Y-W)/X:void 0,event:U};Z[E?"download":"upload"]=!0,V(Z)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(V){return new Promise(function(F,R){let U=V.data;const W=AxiosHeaders$1.from(V.headers).normalize(),Y=V.responseType;let G;function X(){V.cancelToken&&V.cancelToken.unsubscribe(G),V.signal&&V.signal.removeEventListener("abort",G)}let K;utils.isFormData(U)&&(platform$1.isStandardBrowserEnv||platform$1.isStandardBrowserWebWorkerEnv?W.setContentType(!1):W.getContentType(/^\s*multipart\/form-data/)?utils.isString(K=W.getContentType())&&W.setContentType(K.replace(/^\s*(multipart\/form-data);+/,"$1")):W.setContentType("multipart/form-data"));let Z=new XMLHttpRequest;if(V.auth){const te=V.auth.username||"",ie=V.auth.password?unescape(encodeURIComponent(V.auth.password)):"";W.set("Authorization","Basic "+btoa(te+":"+ie))}const J=buildFullPath(V.baseURL,V.url);Z.open(V.method.toUpperCase(),buildURL(J,V.params,V.paramsSerializer),!0),Z.timeout=V.timeout;function Q(){if(!Z)return;const te=AxiosHeaders$1.from("getAllResponseHeaders"in Z&&Z.getAllResponseHeaders()),re={data:!Y||Y==="text"||Y==="json"?Z.responseText:Z.response,status:Z.status,statusText:Z.statusText,headers:te,config:V,request:Z};settle(function(ae){F(ae),X()},function(ae){R(ae),X()},re),Z=null}if("onloadend"in Z?Z.onloadend=Q:Z.onreadystatechange=function(){!Z||Z.readyState!==4||Z.status===0&&!(Z.responseURL&&Z.responseURL.indexOf("file:")===0)||setTimeout(Q)},Z.onabort=function(){!Z||(R(new AxiosError("Request aborted",AxiosError.ECONNABORTED,V,Z)),Z=null)},Z.onerror=function(){R(new AxiosError("Network Error",AxiosError.ERR_NETWORK,V,Z)),Z=null},Z.ontimeout=function(){let ie=V.timeout?"timeout of "+V.timeout+"ms exceeded":"timeout exceeded";const re=V.transitional||transitionalDefaults;V.timeoutErrorMessage&&(ie=V.timeoutErrorMessage),R(new AxiosError(ie,re.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,V,Z)),Z=null},platform$1.isStandardBrowserEnv){const te=(V.withCredentials||isURLSameOrigin(J))&&V.xsrfCookieName&&cookies.read(V.xsrfCookieName);te&&W.set(V.xsrfHeaderName,te)}U===void 0&&W.setContentType(null),"setRequestHeader"in Z&&utils.forEach(W.toJSON(),function(ie,re){Z.setRequestHeader(re,ie)}),utils.isUndefined(V.withCredentials)||(Z.withCredentials=!!V.withCredentials),Y&&Y!=="json"&&(Z.responseType=V.responseType),typeof V.onDownloadProgress=="function"&&Z.addEventListener("progress",progressEventReducer(V.onDownloadProgress,!0)),typeof V.onUploadProgress=="function"&&Z.upload&&Z.upload.addEventListener("progress",progressEventReducer(V.onUploadProgress)),(V.cancelToken||V.signal)&&(G=te=>{!Z||(R(!te||te.type?new CanceledError(null,V,Z):te),Z.abort(),Z=null)},V.cancelToken&&V.cancelToken.subscribe(G),V.signal&&(V.signal.aborted?G():V.signal.addEventListener("abort",G)));const ee=parseProtocol(J);if(ee&&platform$1.protocols.indexOf(ee)===-1){R(new AxiosError("Unsupported protocol "+ee+":",AxiosError.ERR_BAD_REQUEST,V));return}Z.send(U||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(V,E)=>{if(V){try{Object.defineProperty(V,"name",{value:E})}catch{}Object.defineProperty(V,"adapterName",{value:E})}});const renderReason=V=>`- ${V}`,isResolvedHandle=V=>utils.isFunction(V)||V===null||V===!1,adapters={getAdapter:V=>{V=utils.isArray(V)?V:[V];const{length:E}=V;let F,R;const U={};for(let W=0;W<E;W++){F=V[W];let Y;if(R=F,!isResolvedHandle(F)&&(R=knownAdapters[(Y=String(F)).toLowerCase()],R===void 0))throw new AxiosError(`Unknown adapter '${Y}'`);if(R)break;U[Y||"#"+W]=R}if(!R){const W=Object.entries(U).map(([G,X])=>`adapter ${G} `+(X===!1?"is not supported by the environment":"is not available in the build"));let Y=E?W.length>1?`since :
`+W.map(renderReason).join(`
`):" "+renderReason(W[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Y,"ERR_NOT_SUPPORT")}return R},adapters:knownAdapters};function throwIfCancellationRequested(V){if(V.cancelToken&&V.cancelToken.throwIfRequested(),V.signal&&V.signal.aborted)throw new CanceledError(null,V)}function dispatchRequest(V){return throwIfCancellationRequested(V),V.headers=AxiosHeaders$1.from(V.headers),V.data=transformData.call(V,V.transformRequest),["post","put","patch"].indexOf(V.method)!==-1&&V.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(V.adapter||defaults$2.adapter)(V).then(function(R){return throwIfCancellationRequested(V),R.data=transformData.call(V,V.transformResponse,R),R.headers=AxiosHeaders$1.from(R.headers),R},function(R){return isCancel(R)||(throwIfCancellationRequested(V),R&&R.response&&(R.response.data=transformData.call(V,V.transformResponse,R.response),R.response.headers=AxiosHeaders$1.from(R.response.headers))),Promise.reject(R)})}const headersToObject=V=>V instanceof AxiosHeaders$1?V.toJSON():V;function mergeConfig(V,E){E=E||{};const F={};function R(K,Z,J){return utils.isPlainObject(K)&&utils.isPlainObject(Z)?utils.merge.call({caseless:J},K,Z):utils.isPlainObject(Z)?utils.merge({},Z):utils.isArray(Z)?Z.slice():Z}function U(K,Z,J){if(utils.isUndefined(Z)){if(!utils.isUndefined(K))return R(void 0,K,J)}else return R(K,Z,J)}function W(K,Z){if(!utils.isUndefined(Z))return R(void 0,Z)}function Y(K,Z){if(utils.isUndefined(Z)){if(!utils.isUndefined(K))return R(void 0,K)}else return R(void 0,Z)}function G(K,Z,J){if(J in E)return R(K,Z);if(J in V)return R(void 0,K)}const X={url:W,method:W,data:W,baseURL:Y,transformRequest:Y,transformResponse:Y,paramsSerializer:Y,timeout:Y,timeoutMessage:Y,withCredentials:Y,adapter:Y,responseType:Y,xsrfCookieName:Y,xsrfHeaderName:Y,onUploadProgress:Y,onDownloadProgress:Y,decompress:Y,maxContentLength:Y,maxBodyLength:Y,beforeRedirect:Y,transport:Y,httpAgent:Y,httpsAgent:Y,cancelToken:Y,socketPath:Y,responseEncoding:Y,validateStatus:G,headers:(K,Z)=>U(headersToObject(K),headersToObject(Z),!0)};return utils.forEach(Object.keys(Object.assign({},V,E)),function(Z){const J=X[Z]||U,Q=J(V[Z],E[Z],Z);utils.isUndefined(Q)&&J!==G||(F[Z]=Q)}),F}const VERSION="1.5.1",validators$1={};["object","boolean","number","function","string","symbol"].forEach((V,E)=>{validators$1[V]=function(R){return typeof R===V||"a"+(E<1?"n ":" ")+V}});const deprecatedWarnings={};validators$1.transitional=function(E,F,R){function U(W,Y){return"[Axios v"+VERSION+"] Transitional option '"+W+"'"+Y+(R?". "+R:"")}return(W,Y,G)=>{if(E===!1)throw new AxiosError(U(Y," has been removed"+(F?" in "+F:"")),AxiosError.ERR_DEPRECATED);return F&&!deprecatedWarnings[Y]&&(deprecatedWarnings[Y]=!0,console.warn(U(Y," has been deprecated since v"+F+" and will be removed in the near future"))),E?E(W,Y,G):!0}};function assertOptions(V,E,F){if(typeof V!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const R=Object.keys(V);let U=R.length;for(;U-- >0;){const W=R[U],Y=E[W];if(Y){const G=V[W],X=G===void 0||Y(G,W,V);if(X!==!0)throw new AxiosError("option "+W+" must be "+X,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(F!==!0)throw new AxiosError("Unknown option "+W,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(E){this.defaults=E,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(E,F){typeof E=="string"?(F=F||{},F.url=E):F=E||{},F=mergeConfig(this.defaults,F);const{transitional:R,paramsSerializer:U,headers:W}=F;R!==void 0&&validator.assertOptions(R,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),U!=null&&(utils.isFunction(U)?F.paramsSerializer={serialize:U}:validator.assertOptions(U,{encode:validators.function,serialize:validators.function},!0)),F.method=(F.method||this.defaults.method||"get").toLowerCase();let Y=W&&utils.merge(W.common,W[F.method]);W&&utils.forEach(["delete","get","head","post","put","patch","common"],te=>{delete W[te]}),F.headers=AxiosHeaders$1.concat(Y,W);const G=[];let X=!0;this.interceptors.request.forEach(function(ie){typeof ie.runWhen=="function"&&ie.runWhen(F)===!1||(X=X&&ie.synchronous,G.unshift(ie.fulfilled,ie.rejected))});const K=[];this.interceptors.response.forEach(function(ie){K.push(ie.fulfilled,ie.rejected)});let Z,J=0,Q;if(!X){const te=[dispatchRequest.bind(this),void 0];for(te.unshift.apply(te,G),te.push.apply(te,K),Q=te.length,Z=Promise.resolve(F);J<Q;)Z=Z.then(te[J++],te[J++]);return Z}Q=G.length;let ee=F;for(J=0;J<Q;){const te=G[J++],ie=G[J++];try{ee=te(ee)}catch(re){ie.call(this,re);break}}try{Z=dispatchRequest.call(this,ee)}catch(te){return Promise.reject(te)}for(J=0,Q=K.length;J<Q;)Z=Z.then(K[J++],K[J++]);return Z}getUri(E){E=mergeConfig(this.defaults,E);const F=buildFullPath(E.baseURL,E.url);return buildURL(F,E.params,E.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(E){Axios.prototype[E]=function(F,R){return this.request(mergeConfig(R||{},{method:E,url:F,data:(R||{}).data}))}});utils.forEach(["post","put","patch"],function(E){function F(R){return function(W,Y,G){return this.request(mergeConfig(G||{},{method:E,headers:R?{"Content-Type":"multipart/form-data"}:{},url:W,data:Y}))}}Axios.prototype[E]=F(),Axios.prototype[E+"Form"]=F(!0)});const Axios$1=Axios;class CancelToken{constructor(E){if(typeof E!="function")throw new TypeError("executor must be a function.");let F;this.promise=new Promise(function(W){F=W});const R=this;this.promise.then(U=>{if(!R._listeners)return;let W=R._listeners.length;for(;W-- >0;)R._listeners[W](U);R._listeners=null}),this.promise.then=U=>{let W;const Y=new Promise(G=>{R.subscribe(G),W=G}).then(U);return Y.cancel=function(){R.unsubscribe(W)},Y},E(function(W,Y,G){R.reason||(R.reason=new CanceledError(W,Y,G),F(R.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(E){if(this.reason){E(this.reason);return}this._listeners?this._listeners.push(E):this._listeners=[E]}unsubscribe(E){if(!this._listeners)return;const F=this._listeners.indexOf(E);F!==-1&&this._listeners.splice(F,1)}static source(){let E;return{token:new CancelToken(function(U){E=U}),cancel:E}}}const CancelToken$1=CancelToken;function spread(V){return function(F){return V.apply(null,F)}}function isAxiosError(V){return utils.isObject(V)&&V.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([V,E])=>{HttpStatusCode[E]=V});const HttpStatusCode$1=HttpStatusCode;function createInstance(V){const E=new Axios$1(V),F=bind(Axios$1.prototype.request,E);return utils.extend(F,Axios$1.prototype,E,{allOwnKeys:!0}),utils.extend(F,E,null,{allOwnKeys:!0}),F.create=function(U){return createInstance(mergeConfig(V,U))},F}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(E){return Promise.all(E)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=V=>formDataToJSON(utils.isHTMLForm(V)?new FormData(V):V);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,balanceFlow={namespaced:!0,state:()=>({balanceFlow:[]}),getters:{getBalanceFlowByCode:V=>E=>V.balanceFlow.find(F=>F.currency===E)},mutations:{setBalanceFlow(V,E){V.balanceFlow=E}},actions:{async getBalanceFlow({commit:V}){try{const{data:E}=await api$1.get("cash.aggregate.getBalanceFlow",{params:{from:hooks().add(-1,"M").format("YYYY-MM-DD"),to:hooks().add(3,"M").format("YYYY-MM-DD"),group_by:"day"}});V("setBalanceFlow",E)}catch{return!1}}}},mutationDelete=(V,E)=>{E.forEach(F=>{const R=V.transactions.data.findIndex(U=>U.id===F);R>-1&&(V.transactions.data.splice(R,1),V.transactions.total=V.transactions.data.length)})},transaction={namespaced:!0,state:()=>({transactions:{data:[],limit:null,offset:null,total:null},queryParams:{from:"",to:hooks().add(1,"M").format("YYYY-MM-DD"),limit:50,offset:0,filter:""},loading:!1,loadingFuture:!1,chartInterval:{from:getDateFromLocalStorage("from")||hooks().add(-1,"Y").format("YYYY-MM-DD"),to:getDateFromLocalStorage("to")||hooks().add(6,"M").format("YYYY-MM-DD")},detailsInterval:{from:"",to:""},activeGroupTransactions:{index:null,name:"",items:[]},featurePeriod:7,chartData:[],chartDataCurrencyIndex:0,loadingChart:!0,todayCount:{},showFutureTransactionsMoreLink:{7:!1,30:!1}}),getters:{getFutureTransactions:V=>V.transactions.data.filter(E=>hooks().isBefore(hooks(E.date))),getTransactionById:V=>E=>V.transactions.data.find(F=>F.id===E),getTransactionsWithoutJustCreated:V=>V.transactions.data.filter(E=>!E.$_flagCreated),getTransactionsJustCreated:V=>V.transactions.data.filter(E=>E.$_flagCreated),getChartDataByCurrentCurrency:V=>V.chartData[V.chartDataCurrencyIndex],activeCurrencyCode:V=>{var E;return(E=V.chartData[V.chartDataCurrencyIndex])==null?void 0:E.currency}},mutations:{setTransactions(V,E){V.transactions=E},setShowFutureTransactionsMoreLink(V,E){V.showFutureTransactionsMoreLink=E},resetTransactions(V){V.transactions={data:[],limit:null,offset:null,total:null}},updateTransactions(V,E){E.affected_transaction_ids.forEach((R,U)=>{const W=V.transactions.data.findIndex(Y=>Y.id===R);if(W>-1){const Y={...E,id:V.transactions.data[W].id,...U>0&&{create_datetime:V.transactions.data[W].create_datetime},...U>0&&{date:V.transactions.data[W].date},...U>0&&{datetime:V.transactions.data[W].datetime},$_flagCreated:V.transactions.data[W].$_flagCreated,$_flagUpdated:!0};V.transactions.data.splice(W,1,Y)}}),V.transactions.data.sort((R,U)=>new Date(U.date)-new Date(R.date))},updateTransactionProps(V,{ids:E,props:F}){E.forEach(R=>{const U=V.transactions.data.findIndex(W=>W.id===R);if(U>-1){const W={...V.transactions.data[U],...F,$_flagUpdated:!0};V.transactions.data.splice(U,1,W)}})},deleteTransaction:mutationDelete,deleteTransactionSilent:mutationDelete,setActiveGroupTransactions(V,E){V.activeGroupTransactions=E},createTransactions(V,E){E.forEach(F=>{V.transactions.data.unshift({...F,$_flagCreated:!0}),V.transactions.total=V.transactions.data.length})},setFeaturePeriod(V,E){V.featurePeriod=E},setChartData(V,E){V.chartData=E},setDetailsInterval(V,E){V.detailsInterval=E},setLoading(V,E){V.loading=E},setLoadingFuture(V,E){V.loadingFuture=E},setLoadingChart(V,E){V.loadingChart=E},updateQueryParams(V,E){const F={...V.queryParams};for(const R in E)R in F&&(F[R]=E[R]);V.queryParams=F},updateChartInterval(V,E){V.chartInterval={...V.chartInterval,...E}},setChartDataCurrencyIndex(V,E){V.chartDataCurrencyIndex=E},setTodayCount(V,E){V.todayCount=E}},actions:{async getChartData({commit:V,state:E}){const{filter:F}=E.queryParams,R=E.chartInterval.from,U=E.chartInterval.to;try{V("setLoadingChart",!0);const{data:W}=await api$1.get("cash.aggregate.getChartData",{params:{from:R,to:U,filter:F,group_by:"day"}});V("setChartData",W===null?[]:W),V("setChartDataCurrencyIndex",0)}catch{return!1}finally{V("setLoadingChart",!1)}},async update({commit:V,dispatch:E},F){let R=F.id?"update":"create";try{R==="update"&&F.is_repeating&&(await E("delete",{id:F.id,silent:!0}),R="create");const{data:U}=await api$1.post(`cash.transaction.${R}`,F);"silent"in F||(R==="update"&&V("updateTransactions",U),R==="create"&&V("createTransactions",U))}catch(U){return Promise.reject(U)}},async delete({commit:V},E){const F=E.silent?"deleteTransactionSilent":"deleteTransaction";try{const{data:R}=await api$1.post("cash.transaction.delete",E);V(F,R)}catch{return!1}},async fetchTransactionsFuture({commit:V,state:E,getters:F},R){V("setLoadingFuture",!0);try{const{data:U}=await api$1.get("cash.transaction.getList",{params:{...E.queryParams,from:hooks().add(1,"day").format("YYYY-MM-DD"),to:R,offset:F.getFutureTransactions.length,reverse:1}}),W=U.data.length+U.offset<U.total;V("setShowFutureTransactionsMoreLink",{7:hooks(U.data[U.data.length-1].date).isBefore(hooks().add(7,"d"))&&W,30:W});const Y={...E.transactions,data:[...U.data.reverse(),...E.transactions.data]};V("setTransactions",Y)}catch{}finally{V("setLoadingFuture",!1)}},async fetchTransactions({commit:V,state:E,dispatch:F},R={}){try{V("updateQueryParams",R);const U={...E.queryParams};if(U.offset===0&&(V("setTransactions",{...E.transactions,data:[]}),V("setLoading",!0),!U.from&&U.to&&hooks().isBefore(U.to))){F("fetchTransactionsFuture",U.to);const G=hooks().format("YYYY-MM-DD");V("updateQueryParams",{to:G}),U.to=G}E.detailsInterval.from&&(U.from=E.detailsInterval.from),E.detailsInterval.to&&(U.to=E.detailsInterval.to);const{data:W}=await api$1.get("cash.transaction.getList",{params:U}),Y={...W,data:[...E.transactions.data,...W.data]};V("setTransactions",Y)}catch{return!1}finally{V("setLoading",!1)}},async fetchUpNextTransactions({commit:V}){try{V("setLoading",!0);const{data:E}=await api$1.get("cash.transaction.getUpNextList",{params:{today:hooks().add(1,"day").format("YYYY-MM-DD")}});V("setTransactions",E)}catch{return!1}finally{V("setLoading",!1)}},updateDetailsInterval({commit:V,dispatch:E},F){V("setDetailsInterval",F),E("fetchTransactions",{offset:0})},async getTodayCount({commit:V}){try{const{data:E}=await api$1.get("cash.transaction.getTodayCount",{params:{today:hooks().format("YYYY-MM-DD")}});V("setTodayCount",E.count),this.$isSpaMobileMode&&window.emitter.emit("todayCount",E.count)}catch{return!1}}}},transactionBulk={namespaced:!0,state:()=>({selectedTransactionsIds:[],lastCheckboxIndex:-1}),getters:{isSelected:V=>E=>V.selectedTransactionsIds.includes(E)},mutations:{select(V,E){V.selectedTransactionsIds=E.reduce((F,R)=>(F.includes(R)||F.push(R),F),V.selectedTransactionsIds)},unselect(V,E){V.selectedTransactionsIds=E.reduce((F,R)=>{const U=F.indexOf(R);return U>-1&&F.splice(U,1),F},V.selectedTransactionsIds)},emptySelectedTransactionsIds(V){V.selectedTransactionsIds=[]},setLastCheckboxIndex(V,E){V.lastCheckboxIndex=E}},actions:{async bulkCreate({commit:V},E){try{const{data:F}=await api$1.post("cash.transaction.bulkCreate",E);V("transaction/createTransactions",F,{root:!0})}catch{return!1}},async bulkDelete({dispatch:V,state:E,commit:F}){const R=E.selectedTransactionsIds;try{await api$1.post("cash.transaction.bulkDelete",{ids:R}),F("transaction/deleteTransaction",R,{root:!0}),F("emptySelectedTransactionsIds")}catch{return!1}},async bulkMove({dispatch:V,commit:E},F){try{await api$1.post("cash.transaction.bulkMove",F),E("emptySelectedTransactionsIds")}catch{return!1}},async restore({state:V,commit:E}){const F=V.selectedTransactionsIds;await api$1.post("cash.transaction.restore",{ids:F}),E("emptySelectedTransactionsIds")},async purge({state:V,commit:E}){const F=V.selectedTransactionsIds;await api$1.post("cash.transaction.purge",{ids:F}),E("emptySelectedTransactionsIds")}}},category={namespaced:!0,state:()=>{var V;return{categories:((V=window.appState)==null?void 0:V.categories)||[]}},getters:{sortedCategories:V=>{const E=[...V.categories].sort((R,U)=>R.sort>U.sort?1:R.sort<U.sort?-1:0),F=(R,U=null,W=[])=>(R.forEach(Y=>{Y.parent_category_id===U&&(W.push(Y),F(R,Y.id,W))}),W);return F(E)},getChildren:(V,E)=>F=>E.sortedCategories.filter(R=>R.parent_category_id===F),getById:V=>E=>V.categories.find(F=>F.id===E),getByType:(V,E)=>F=>E.sortedCategories.filter(R=>R.type===F)},mutations:{setCategories(V,E){V.categories=E},updateCategory(V,E){const F=V.categories.findIndex(R=>R.id===E.id);F>-1?V.categories.splice(F,1,E):V.categories.unshift(E)},updateSort(V,E){E.forEach((F,R)=>{V.categories.find(U=>U.id===F).sort=R})}},actions:{async getList({commit:V}){try{const{data:E}=await api$1.get("cash.category.getList");V("setCategories",E)}catch{return!1}},async update({commit:V},E){const F=E.id?"update":"create";try{const{data:R}=await api$1.post(`cash.category.${F}`,E);V("updateCategory",R),F==="create"&&router$1.push({name:"Category",params:{id:R.id,isFirtsTimeNavigate:!0}})}catch{return!1}},async updateParams({commit:V,getters:E,dispatch:F},R){const U=E.getById(R.id),W={...U};try{const Y={...U,...R};V("updateCategory",Y),await api$1.post("cash.category.update",Y)}catch{return V("updateCategory",W),!1}},async delete({dispatch:V,commit:E},F){try{await api$1.post("cash.category.delete",{id:F}),E("transaction/resetTransactions",null,{root:!0}),V("getList").then(()=>{router$1.push({name:"Home"})})}catch{return!1}},async sort({commit:V},E){try{V("updateSort",E.newOrder),await api$1.post("cash.category.sort",{order:E.newOrder})}catch{return V("updateSort",E.oldOrder),!1}}}},account={namespaced:!0,state:()=>{var V;return{accounts:((V=window.appState)==null?void 0:V.accounts)||[]}},getters:{getById:V=>E=>V.accounts.find(F=>F.id===E),currenciesInAccounts:V=>V.accounts.reduce((E,{currency:F})=>(E.includes(F)||E.push(F),E),[]),accountsByCurrencyCode:V=>E=>V.accounts.filter(F=>F.currency===E).map(F=>F.id)},mutations:{setAccounts(V,E){V.accounts=E},updateSort(V,E){V.accounts.sort((F,R)=>E.indexOf(F.id)-E.indexOf(R.id))}},actions:{async getList({commit:V}){try{const{data:E}=await api$1.get("cash.account.getList");V("setAccounts",E)}catch{return!1}},async update({dispatch:V},E){const F=E.id?"update":"create";try{const{data:R}=await api$1.post(`cash.account.${F}`,E);this.$isSpaMobileMode&&F==="create"&&window.emitter.emit("createAccount",R),parseInt(E.starting_balance)!==0&&!isNaN(parseInt(E.starting_balance))&&await V("transaction/update",{id:null,amount:E.starting_balance,date:hooks().format("YYYY-MM-DD"),account_id:R.id,category_id:parseInt(E.starting_balance)>=0?-2:-1,description:i18n.t("startingBalance"),silent:!0},{root:!0}),V("getList").then(()=>{F==="create"&&router$1.push({name:"Account",params:{id:R.id,isFirtsTimeNavigate:!0}})})}catch{return!1}},async delete({dispatch:V,commit:E},F){try{await api$1.post("cash.account.delete",{id:F}),E("transaction/resetTransactions",null,{root:!0}),V("getList").then(()=>{router$1.push({name:"Home"})})}catch{return!1}},async sort({commit:V},E){try{V("updateSort",E.newOrder),await api$1.post("cash.account.sort",{order:E.newOrder})}catch{return V("updateSort",E.oldOrder),!1}}}},system={namespaced:!0,state:()=>{var V;return{currencies:((V=window.appState)==null?void 0:V.currencies)||[]}},getters:{getCurrencySignByCode:V=>E=>{var F;return((F=V.currencies.find(R=>R.code===E))==null?void 0:F.sign)||""}},mutations:{setCurrencies(V,E){V.currencies=E}},actions:{async getCurrencies({commit:V,state:E}){if(E.currencies.length<1)try{const{data:F}=await api$1.get("cash.system.getCurrencies");V("setCurrencies",F)}catch{return!1}}}},entity={namespaced:!0,state:()=>({entity:null}),mutations:{setEntity(V,E){V.entity=E},resetEntity(V){V.entity=null}}},errors={namespaced:!0,state:()=>({errors:[]}),getters:{},mutations:{error(V,E){V.errors.push(E)},delete(V,E){V.errors.splice(E,1)}},actions:{}},updateHeaderTodayCounter=V=>{const E=document.querySelector("#wa-header #wa-applist #wa-app-cash > a");if(E){let F=E.querySelector(".badge");V.onbadge>0?(F||(F=document.createElement("span"),F.classList.add("badge","indicator"),E.appendChild(F)),F.innerText=V.onbadge):F&&F.remove()}},dispatchAll=V=>Promise.all([V.dispatch("transaction/getTodayCount"),V.dispatch("account/getList"),V.dispatch("balanceFlow/getBalanceFlow")]),mediator=V=>{V.subscribe(({type:E,payload:F},R)=>{switch(E){case"transaction/updateTransactions":case"transaction/deleteTransaction":case"transaction/createTransactions":return dispatchAll(V);case"transaction/updateTransactionProps":"is_onbadge"in F.props&&V.dispatch("transaction/getTodayCount");break;case"transaction/setDetailsInterval":V.commit("transactionBulk/emptySelectedTransactionsIds");break;case"transaction/setTodayCount":updateHeaderTodayCounter(F)}}),V.subscribeAction({before:({type:E,payload:F})=>{E==="transaction/delete"&&V.commit("transactionBulk/unselect",[F.id])},after:({type:E,payload:F},R)=>{switch(E){case"account/delete":return Promise.all([V.dispatch("transaction/getTodayCount"),V.dispatch("balanceFlow/getBalanceFlow")]);case"account/update":F.id||V.dispatch("balanceFlow/getBalanceFlow");break;case"transactionBulk/bulkMove":case"transactionBulk/restore":case"transactionBulk/purge":return Promise.all([V.dispatch("transaction/fetchTransactions"),dispatchAll(V)])}}})};Vue$2.use(Vuex);const store=new Vuex.Store({state:()=>({currentType:"",currentTypeId:null,multiSelectMode:!window.appState.webView}),getters:{getCurrentType(V,E){const F=E[`${V.currentType}/getById`];return F?F(V.currentTypeId):{}}},mutations:{setCurrentEntity(V,{name:E,id:F}){V.currentType=E,V.currentTypeId=F},setMultiSelectMode(V,E){V.multiSelectMode=E}},actions:{updateCurrentEntity({commit:V,getters:E},{name:F,id:R}){if(F&&R)V("setCurrentEntity",{name:F,id:R}),V("transaction/updateQueryParams",{filter:`${F}/${R}`});else{const U=E["account/currenciesInAccounts"][0];U&&(V("setCurrentEntity",{name:"currency",id:U}),V("transaction/updateQueryParams",{filter:`currency/${U}`}))}}},modules:{balanceFlow,transaction,transactionBulk,category,account,system,entity,errors},plugins:[mediator]});var St;const baseApiUrl=((St=window.appState)==null?void 0:St.baseApiUrl)||"";var $t;const accessToken=(($t=window.appState)==null?void 0:$t.token)||"",api=axios$1.create({baseURL:baseApiUrl,params:{access_token:accessToken},headers:{"Content-Type":"application/json"}});api.interceptors.response.use(V=>(V.headers["content-type"].includes("application/json")||store.commit("errors/error",{title:"error.api",method:i18n.t("error.nonJsonTitle"),message:i18n.t("error.nonJsonText")}),V),V=>{var E;return V.response.headers["content-type"].includes("application/json")?((E=V.response.data)!=null&&E.error||store.commit("errors/error",{title:"error.http",method:V.response.config.url,message:V.response.data}),Promise.reject(V)):(store.commit("errors/error",{title:"error.api",method:V.response.config.url,message:i18n.t("error.nonJsonTitle")}),Promise.reject(V))});const api$1=api,AmChartBar_vue_vue_type_style_index_0_lang="";addLicense("CH269543621");const _sfc_main$N={props:{data:{type:Array,default(){return[]}},width:{type:Number,required:!0}},data(){return{width\u0421orrection:2}},created(){this.mediaQueryList=window.matchMedia("(max-width: 760px)"),this.width\u0421orrection=this.mediaQueryList.matches?1:2,this.mediaListener=this.mediaQueryList.addListener(this.screenTest)},mounted(){const V=create(this.$refs.chart,XYChart);locale$4==="ru_RU"&&(V.language.locale=am4langRU),V.padding(0,0,0,0);const E=V.yAxes.push(new CategoryAxis);E.dataFields.category="category",E.renderer.grid.template.disabled=!0,E.renderer.labels.template.disabled=!0,E.cursorTooltipEnabled=!1,E.data=[{category:"category"}];const F=V.xAxes.push(new ValueAxis);F.min=0,F.strictMinMax=!0,F.renderer.grid.template.disabled=!0,F.renderer.baseGrid.disabled=!0,F.renderer.labels.template.disabled=!0,F.cursorTooltipEnabled=!1,this.chart=V,this.$watch("data",()=>{this.renderChart()},{deep:!0,immediate:!0})},beforeDestroy(){this.mediaQueryList.removeListener(this.screenTest),this.chart&&this.chart.dispose()},methods:{createSeries(V){const E=this.chart.series.push(new ColumnSeries);E.dataFields.valueX="amount",E.dataFields.categoryY="category",E.columns.template.propertyFields.fill="category_color",E.columns.template.strokeWidth=0,E.columns.template.width=percent(100),E.stacked=!0,E.name=V.category_name,E.data=[V]},renderChart(){this.chart.series.clear(),this.data.forEach(V=>{this.createSeries({...V,category:"category"})})},screenTest(V){this.width\u0421orrection=V.matches?1:2}}};var _sfc_render$N=function(){var E=this,F=E._self._c;return F("div",{ref:"chart",staticClass:"c-breakdown-bar-chart",style:{width:`${E.width/E.width\u0421orrection}%`}})},_sfc_staticRenderFns$N=[],__component__$N=normalizeComponent(_sfc_main$N,_sfc_render$N,_sfc_staticRenderFns$N,!1,null,null,null,null);const ChartBar=__component__$N.exports,AmChartLegend_vue_vue_type_style_index_0_lang="",_sfc_main$M={props:{legendItems:{type:Array},currencyCode:{type:String},isReverse:{type:Boolean,default:!1},isColumnStyle:{type:Boolean,default:!0}}};var _sfc_render$M=function(){var E=this,F=E._self._c;return F("div",{staticClass:"c-legend",class:{"c-legend--column":E.isColumnStyle}},E._l(E.legendItems,function(R){return F("div",{key:R.id,staticClass:"c-legend__item",class:{"c-legend__item--column":E.isColumnStyle}},[F("div",{staticClass:"c-legend__item__square",style:`background-color:${R.category_color}`}),F("div",{staticClass:"c-legend__item__label smaller"},[F("div",{staticClass:"c-legend__item__label__title"},[E._v(" "+E._s(R.category_name)+" ")]),F("div",{staticClass:"c-legend__item__label__value"},[E._v(" "+E._s(E.$helper.toCurrency({value:R.amount,isDynamics:!0,isReverse:E.isReverse,currencyCode:E.currencyCode}))+" ")])])])}),0)},_sfc_staticRenderFns$M=[],__component__$M=normalizeComponent(_sfc_main$M,_sfc_render$M,_sfc_staticRenderFns$M,!1,null,null,null,null);const AmChartLegend=__component__$M.exports,_sfc_main$L={components:{ChartBar,AmChartLegend},props:["itemData"],computed:{currentEntityType(){return this.$store.getters.getCurrentType.type},showIncome(){return this.currentEntityType?this.currentEntityType&&this.currentEntityType==="income":!0},showExpense(){return this.currentEntityType?this.currentEntityType&&this.currentEntityType==="expense"&&!this.$store.getters.getCurrentType.is_profit:!0},showProfit(){return this.currentEntityType?this.currentEntityType&&this.currentEntityType==="expense"&&this.$store.getters.getCurrentType.is_profit:!0},maxAmount(){return Math.max(this.itemData.income.totalAmount,this.itemData.expense.totalAmount,this.itemData.profit.totalAmount)||1}}};var _sfc_render$L=function(){var E=this,F=E._self._c;return F("div",{staticClass:"custom-mb-16"},[E.showIncome?F("div",{staticClass:"custom-mb-16"},[F("div",{staticClass:"flexbox wrap middle full-width"},[F("div",{staticClass:"large bold"},[E._v(" "+E._s(E.$t("income"))+" ")]),F("div",{staticClass:"large bold text-green mobile-only nowrap"},[E._v(" "+E._s(E.$helper.toCurrency({value:E.itemData.income.totalAmount,currencyCode:E.itemData.currency,isDynamics:!0}))+" ")])]),F("div",{staticClass:"flexbox middle"},[F("ChartBar",{attrs:{data:E.itemData.income.data,width:E.itemData.income.totalAmount/E.maxAmount*100}}),F("div",{staticClass:"desktop-and-tablet-only custom-ml-12 align-center larger text-green bold nowrap"},[E._v(" "+E._s(E.$helper.toCurrency({value:E.itemData.income.totalAmount,currencyCode:E.itemData.currency,isDynamics:!0}))+" ")])],1),F("AmChartLegend",{attrs:{"legend-items":E.itemData.income.data,"currency-code":E.itemData.currency,"is-column-style":!1}})],1):E._e(),E.showExpense?F("div",{staticClass:"custom-mb-16"},[F("div",{staticClass:"flexbox wrap middle full-width"},[F("div",{staticClass:"large bold"},[E._v(" "+E._s(E.$t("expense"))+" ")]),F("div",{staticClass:"large bold text-red mobile-only nowrap"},[E._v(" "+E._s(E.$helper.toCurrency({value:E.itemData.expense.totalAmount,currencyCode:E.itemData.currency,isDynamics:!0,isReverse:!0}))+" ")])]),F("div",{staticClass:"flexbox middle"},[F("ChartBar",{attrs:{data:E.itemData.expense.data,width:E.itemData.expense.totalAmount/E.maxAmount*100}}),F("div",{staticClass:"desktop-and-tablet-only custom-ml-12 align-center larger text-red bold nowrap"},[E._v(" "+E._s(E.$helper.toCurrency({value:E.itemData.expense.totalAmount,currencyCode:E.itemData.currency,isDynamics:!0,isReverse:!0}))+" ")])],1),F("AmChartLegend",{attrs:{"legend-items":E.itemData.expense.data,"currency-code":E.itemData.currency,"is-reverse":!0,"is-column-style":!1}})],1):E._e(),E.showProfit?F("div",[F("div",{staticClass:"flexbox wrap middle full-width"},[F("div",{staticClass:"large bold"},[E._v(" "+E._s(E.$t("profit"))+" ")]),F("div",{staticClass:"large bold text-blue mobile-only nowrap"},[E._v(" "+E._s(E.$helper.toCurrency({value:E.itemData.profit.totalAmount,currencyCode:E.itemData.currency}))+" ")])]),F("div",{staticClass:"flexbox middle"},[F("ChartBar",{attrs:{data:E.itemData.profit.data,width:E.itemData.profit.totalAmount/E.maxAmount*100}}),F("div",{staticClass:"desktop-and-tablet-only custom-ml-12 align-center larger text-blue bold nowrap"},[E._v(" "+E._s(E.$helper.toCurrency({value:E.itemData.profit.totalAmount,currencyCode:E.itemData.currency}))+" ")])],1),F("AmChartLegend",{attrs:{"legend-items":E.itemData.profit.data,"currency-code":E.itemData.currency,"is-column-style":!1}})],1):E._e()])},_sfc_staticRenderFns$L=[],__component__$L=normalizeComponent(_sfc_main$L,_sfc_render$L,_sfc_staticRenderFns$L,!1,null,null,null,null);const DetailsDashboardItem=__component__$L.exports;var HOOKS=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],defaults={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(V){return typeof console<"u"&&console.warn(V)},getWeek:function(V){var E=new Date(V.getTime());E.setHours(0,0,0,0),E.setDate(E.getDate()+3-(E.getDay()+6)%7);var F=new Date(E.getFullYear(),0,4);return 1+Math.round(((E.getTime()-F.getTime())/864e5-3+(F.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},english={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(V){var E=V%100;if(E>3&&E<21)return"th";switch(E%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},pad=function(V,E){return E===void 0&&(E=2),("000"+V).slice(E*-1)},int=function(V){return V===!0?1:0};function debounce$1(V,E){var F;return function(){var R=this,U=arguments;clearTimeout(F),F=setTimeout(function(){return V.apply(R,U)},E)}}var arrayify=function(V){return V instanceof Array?V:[V]};function toggleClass(V,E,F){if(F===!0)return V.classList.add(E);V.classList.remove(E)}function createElement(V,E,F){var R=window.document.createElement(V);return E=E||"",F=F||"",R.className=E,F!==void 0&&(R.textContent=F),R}function clearNode(V){for(;V.firstChild;)V.removeChild(V.firstChild)}function findParent(V,E){if(E(V))return V;if(V.parentNode)return findParent(V.parentNode,E)}function createNumberInput(V,E){var F=createElement("div","numInputWrapper"),R=createElement("input","numInput "+V),U=createElement("span","arrowUp"),W=createElement("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?R.type="number":(R.type="text",R.pattern="\\d*"),E!==void 0)for(var Y in E)R.setAttribute(Y,E[Y]);return F.appendChild(R),F.appendChild(U),F.appendChild(W),F}function getEventTarget(V){try{if(typeof V.composedPath=="function"){var E=V.composedPath();return E[0]}return V.target}catch{return V.target}}var doNothing=function(){},monthToStr=function(V,E,F){return F.months[E?"shorthand":"longhand"][V]},revFormat={D:doNothing,F:function(V,E,F){V.setMonth(F.months.longhand.indexOf(E))},G:function(V,E){V.setHours((V.getHours()>=12?12:0)+parseFloat(E))},H:function(V,E){V.setHours(parseFloat(E))},J:function(V,E){V.setDate(parseFloat(E))},K:function(V,E,F){V.setHours(V.getHours()%12+12*int(new RegExp(F.amPM[1],"i").test(E)))},M:function(V,E,F){V.setMonth(F.months.shorthand.indexOf(E))},S:function(V,E){V.setSeconds(parseFloat(E))},U:function(V,E){return new Date(parseFloat(E)*1e3)},W:function(V,E,F){var R=parseInt(E),U=new Date(V.getFullYear(),0,2+(R-1)*7,0,0,0,0);return U.setDate(U.getDate()-U.getDay()+F.firstDayOfWeek),U},Y:function(V,E){V.setFullYear(parseFloat(E))},Z:function(V,E){return new Date(E)},d:function(V,E){V.setDate(parseFloat(E))},h:function(V,E){V.setHours((V.getHours()>=12?12:0)+parseFloat(E))},i:function(V,E){V.setMinutes(parseFloat(E))},j:function(V,E){V.setDate(parseFloat(E))},l:doNothing,m:function(V,E){V.setMonth(parseFloat(E)-1)},n:function(V,E){V.setMonth(parseFloat(E)-1)},s:function(V,E){V.setSeconds(parseFloat(E))},u:function(V,E){return new Date(parseFloat(E))},w:doNothing,y:function(V,E){V.setFullYear(2e3+parseFloat(E))}},tokenRegex={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},formats={Z:function(V){return V.toISOString()},D:function(V,E,F){return E.weekdays.shorthand[formats.w(V,E,F)]},F:function(V,E,F){return monthToStr(formats.n(V,E,F)-1,!1,E)},G:function(V,E,F){return pad(formats.h(V,E,F))},H:function(V){return pad(V.getHours())},J:function(V,E){return E.ordinal!==void 0?V.getDate()+E.ordinal(V.getDate()):V.getDate()},K:function(V,E){return E.amPM[int(V.getHours()>11)]},M:function(V,E){return monthToStr(V.getMonth(),!0,E)},S:function(V){return pad(V.getSeconds())},U:function(V){return V.getTime()/1e3},W:function(V,E,F){return F.getWeek(V)},Y:function(V){return pad(V.getFullYear(),4)},d:function(V){return pad(V.getDate())},h:function(V){return V.getHours()%12?V.getHours()%12:12},i:function(V){return pad(V.getMinutes())},j:function(V){return V.getDate()},l:function(V,E){return E.weekdays.longhand[V.getDay()]},m:function(V){return pad(V.getMonth()+1)},n:function(V){return V.getMonth()+1},s:function(V){return V.getSeconds()},u:function(V){return V.getTime()},w:function(V){return V.getDay()},y:function(V){return String(V.getFullYear()).substring(2)}},createDateFormatter=function(V){var E=V.config,F=E===void 0?defaults:E,R=V.l10n,U=R===void 0?english:R,W=V.isMobile,Y=W===void 0?!1:W;return function(G,X,K){var Z=K||U;return F.formatDate!==void 0&&!Y?F.formatDate(G,X,Z):X.split("").map(function(J,Q,ee){return formats[J]&&ee[Q-1]!=="\\"?formats[J](G,Z,F):J!=="\\"?J:""}).join("")}},createDateParser=function(V){var E=V.config,F=E===void 0?defaults:E,R=V.l10n,U=R===void 0?english:R;return function(W,Y,G,X){if(!(W!==0&&!W)){var K=X||U,Z,J=W;if(W instanceof Date)Z=new Date(W.getTime());else if(typeof W!="string"&&W.toFixed!==void 0)Z=new Date(W);else if(typeof W=="string"){var Q=Y||(F||defaults).dateFormat,ee=String(W).trim();if(ee==="today")Z=new Date,G=!0;else if(F&&F.parseDate)Z=F.parseDate(W,Q);else if(/Z$/.test(ee)||/GMT$/.test(ee))Z=new Date(W);else{for(var te=void 0,ie=[],re=0,ne=0,ae="";re<Q.length;re++){var se=Q[re],le=se==="\\",oe=Q[re-1]==="\\"||le;if(tokenRegex[se]&&!oe){ae+=tokenRegex[se];var ue=new RegExp(ae).exec(W);ue&&(te=!0)&&ie[se!=="Y"?"push":"unshift"]({fn:revFormat[se],val:ue[++ne]})}else le||(ae+=".")}Z=!F||!F.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),ie.forEach(function(ce){var he=ce.fn,me=ce.val;return Z=he(Z,me,K)||Z}),Z=te?Z:void 0}}if(!(Z instanceof Date&&!isNaN(Z.getTime()))){F.errorHandler(new Error("Invalid date provided: "+J));return}return G===!0&&Z.setHours(0,0,0,0),Z}}};function compareDates(V,E,F){return F===void 0&&(F=!0),F!==!1?new Date(V.getTime()).setHours(0,0,0,0)-new Date(E.getTime()).setHours(0,0,0,0):V.getTime()-E.getTime()}var isBetween=function(V,E,F){return V>Math.min(E,F)&&V<Math.max(E,F)},calculateSecondsSinceMidnight=function(V,E,F){return V*3600+E*60+F},parseSeconds=function(V){var E=Math.floor(V/3600),F=(V-E*3600)/60;return[E,F,V-E*3600-F*60]},duration={DAY:864e5};function getDefaultHours(V){var E=V.defaultHour,F=V.defaultMinute,R=V.defaultSeconds;if(V.minDate!==void 0){var U=V.minDate.getHours(),W=V.minDate.getMinutes(),Y=V.minDate.getSeconds();E<U&&(E=U),E===U&&F<W&&(F=W),E===U&&F===W&&R<Y&&(R=V.minDate.getSeconds())}if(V.maxDate!==void 0){var G=V.maxDate.getHours(),X=V.maxDate.getMinutes();E=Math.min(E,G),E===G&&(F=Math.min(X,F)),E===G&&F===X&&(R=V.maxDate.getSeconds())}return{hours:E,minutes:F,seconds:R}}typeof Object.assign!="function"&&(Object.assign=function(V){for(var E=[],F=1;F<arguments.length;F++)E[F-1]=arguments[F];if(!V)throw TypeError("Cannot convert undefined or null to object");for(var R=function(G){G&&Object.keys(G).forEach(function(X){return V[X]=G[X]})},U=0,W=E;U<W.length;U++){var Y=W[U];R(Y)}return V});var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(V){for(var E,F=1,R=arguments.length;F<R;F++){E=arguments[F];for(var U in E)Object.prototype.hasOwnProperty.call(E,U)&&(V[U]=E[U])}return V},__assign.apply(this,arguments)},__spreadArrays=globalThis&&globalThis.__spreadArrays||function(){for(var V=0,E=0,F=arguments.length;E<F;E++)V+=arguments[E].length;for(var R=Array(V),U=0,E=0;E<F;E++)for(var W=arguments[E],Y=0,G=W.length;Y<G;Y++,U++)R[U]=W[Y];return R},DEBOUNCED_CHANGE_MS=300;function FlatpickrInstance(V,E){var F={config:__assign(__assign({},defaults),flatpickr.defaultConfig),l10n:english};F.parseDate=createDateParser({config:F.config,l10n:F.l10n}),F._handlers=[],F.pluginElements=[],F.loadedPlugins=[],F._bind=ie,F._setHoursFromDate=Q,F._positionCalendar=tt,F.changeMonth=Ae,F.changeYear=Ve,F.clear=Te,F.close=Fe,F.onMouseOver=Ke,F._createElement=createElement,F.createDay=ue,F.destroy=Oe,F.isEnabled=Be,F.jumpToDate=ae,F.updateValue=rt,F.open=dt,F.redraw=ut,F.set=vt,F.setDate=Ge,F.toggle=Ft;function R(){F.utils={getDaysInMonth:function(de,pe){return de===void 0&&(de=F.currentMonth),pe===void 0&&(pe=F.currentYear),de===1&&(pe%4===0&&pe%100!==0||pe%400===0)?29:F.l10n.daysInMonth[de]}}}function U(){F.element=F.input=V,F.isOpen=!1,st(),at(),At(),qe(),R(),F.isMobile||oe(),ne(),(F.selectedDates.length||F.config.noCalendar)&&(F.config.enableTime&&Q(F.config.noCalendar?F.latestSelectedDateObj:void 0),rt(!1)),G();var de=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!F.isMobile&&de&&tt(),Xe("onReady")}function W(){var de;return((de=F.calendarContainer)===null||de===void 0?void 0:de.getRootNode()).activeElement||document.activeElement}function Y(de){return de.bind(F)}function G(){var de=F.config;de.weekNumbers===!1&&de.showMonths===1||de.noCalendar!==!0&&window.requestAnimationFrame(function(){if(F.calendarContainer!==void 0&&(F.calendarContainer.style.visibility="hidden",F.calendarContainer.style.display="block"),F.daysContainer!==void 0){var pe=(F.days.offsetWidth+1)*de.showMonths;F.daysContainer.style.width=pe+"px",F.calendarContainer.style.width=pe+(F.weekWrapper!==void 0?F.weekWrapper.offsetWidth:0)+"px",F.calendarContainer.style.removeProperty("visibility"),F.calendarContainer.style.removeProperty("display")}})}function X(de){if(F.selectedDates.length===0){var pe=F.config.minDate===void 0||compareDates(new Date,F.config.minDate)>=0?new Date:new Date(F.config.minDate.getTime()),Ce=getDefaultHours(F.config);pe.setHours(Ce.hours,Ce.minutes,Ce.seconds,pe.getMilliseconds()),F.selectedDates=[pe],F.latestSelectedDateObj=pe}de!==void 0&&de.type!=="blur"&&Rt(de);var $e=F._input.value;J(),rt(),F._input.value!==$e&&F._debouncedChange()}function K(de,pe){return de%12+12*int(pe===F.l10n.amPM[1])}function Z(de){switch(de%24){case 0:case 12:return 12;default:return de%12}}function J(){if(!(F.hourElement===void 0||F.minuteElement===void 0)){var de=(parseInt(F.hourElement.value.slice(-2),10)||0)%24,pe=(parseInt(F.minuteElement.value,10)||0)%60,Ce=F.secondElement!==void 0?(parseInt(F.secondElement.value,10)||0)%60:0;F.amPM!==void 0&&(de=K(de,F.amPM.textContent));var $e=F.config.minTime!==void 0||F.config.minDate&&F.minDateHasTime&&F.latestSelectedDateObj&&compareDates(F.latestSelectedDateObj,F.config.minDate,!0)===0,Me=F.config.maxTime!==void 0||F.config.maxDate&&F.maxDateHasTime&&F.latestSelectedDateObj&&compareDates(F.latestSelectedDateObj,F.config.maxDate,!0)===0;if(F.config.maxTime!==void 0&&F.config.minTime!==void 0&&F.config.minTime>F.config.maxTime){var Ie=calculateSecondsSinceMidnight(F.config.minTime.getHours(),F.config.minTime.getMinutes(),F.config.minTime.getSeconds()),Ue=calculateSecondsSinceMidnight(F.config.maxTime.getHours(),F.config.maxTime.getMinutes(),F.config.maxTime.getSeconds()),Le=calculateSecondsSinceMidnight(de,pe,Ce);if(Le>Ue&&Le<Ie){var We=parseSeconds(Ie);de=We[0],pe=We[1],Ce=We[2]}}else{if(Me){var Re=F.config.maxTime!==void 0?F.config.maxTime:F.config.maxDate;de=Math.min(de,Re.getHours()),de===Re.getHours()&&(pe=Math.min(pe,Re.getMinutes())),pe===Re.getMinutes()&&(Ce=Math.min(Ce,Re.getSeconds()))}if($e){var je=F.config.minTime!==void 0?F.config.minTime:F.config.minDate;de=Math.max(de,je.getHours()),de===je.getHours()&&pe<je.getMinutes()&&(pe=je.getMinutes()),pe===je.getMinutes()&&(Ce=Math.max(Ce,je.getSeconds()))}}ee(de,pe,Ce)}}function Q(de){var pe=de||F.latestSelectedDateObj;pe&&pe instanceof Date&&ee(pe.getHours(),pe.getMinutes(),pe.getSeconds())}function ee(de,pe,Ce){F.latestSelectedDateObj!==void 0&&F.latestSelectedDateObj.setHours(de%24,pe,Ce||0,0),!(!F.hourElement||!F.minuteElement||F.isMobile)&&(F.hourElement.value=pad(F.config.time_24hr?de:(12+de)%12+12*int(de%12===0)),F.minuteElement.value=pad(pe),F.amPM!==void 0&&(F.amPM.textContent=F.l10n.amPM[int(de>=12)]),F.secondElement!==void 0&&(F.secondElement.value=pad(Ce)))}function te(de){var pe=getEventTarget(de),Ce=parseInt(pe.value)+(de.delta||0);(Ce/1e3>1||de.key==="Enter"&&!/[^\d]/.test(Ce.toString()))&&Ve(Ce)}function ie(de,pe,Ce,$e){if(pe instanceof Array)return pe.forEach(function(Me){return ie(de,Me,Ce,$e)});if(de instanceof Array)return de.forEach(function(Me){return ie(Me,pe,Ce,$e)});de.addEventListener(pe,Ce,$e),F._handlers.push({remove:function(){return de.removeEventListener(pe,Ce,$e)}})}function re(){Xe("onChange")}function ne(){if(F.config.wrap&&["open","close","toggle","clear"].forEach(function(Ce){Array.prototype.forEach.call(F.element.querySelectorAll("[data-"+Ce+"]"),function($e){return ie($e,"click",F[Ce])})}),F.isMobile){Mt();return}var de=debounce$1(Je,50);if(F._debouncedChange=debounce$1(re,DEBOUNCED_CHANGE_MS),F.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&ie(F.daysContainer,"mouseover",function(Ce){F.config.mode==="range"&&Ke(getEventTarget(Ce))}),ie(F._input,"keydown",Ye),F.calendarContainer!==void 0&&ie(F.calendarContainer,"keydown",Ye),!F.config.inline&&!F.config.static&&ie(window,"resize",de),window.ontouchstart!==void 0?ie(window.document,"touchstart",Ee):ie(window.document,"mousedown",Ee),ie(window.document,"focus",Ee,{capture:!0}),F.config.clickOpens===!0&&(ie(F._input,"focus",F.open),ie(F._input,"click",F.open)),F.daysContainer!==void 0&&(ie(F.monthNav,"click",It),ie(F.monthNav,["keyup","increment"],te),ie(F.daysContainer,"click",gt)),F.timeContainer!==void 0&&F.minuteElement!==void 0&&F.hourElement!==void 0){var pe=function(Ce){return getEventTarget(Ce).select()};ie(F.timeContainer,["increment"],X),ie(F.timeContainer,"blur",X,{capture:!0}),ie(F.timeContainer,"click",se),ie([F.hourElement,F.minuteElement],["focus","click"],pe),F.secondElement!==void 0&&ie(F.secondElement,"focus",function(){return F.secondElement&&F.secondElement.select()}),F.amPM!==void 0&&ie(F.amPM,"click",function(Ce){X(Ce)})}F.config.allowInput&&ie(F._input,"blur",Ne)}function ae(de,pe){var Ce=de!==void 0?F.parseDate(de):F.latestSelectedDateObj||(F.config.minDate&&F.config.minDate>F.now?F.config.minDate:F.config.maxDate&&F.config.maxDate<F.now?F.config.maxDate:F.now),$e=F.currentYear,Me=F.currentMonth;try{Ce!==void 0&&(F.currentYear=Ce.getFullYear(),F.currentMonth=Ce.getMonth())}catch(Ie){Ie.message="Invalid date supplied: "+Ce,F.config.errorHandler(Ie)}pe&&F.currentYear!==$e&&(Xe("onYearChange"),ye()),pe&&(F.currentYear!==$e||F.currentMonth!==Me)&&Xe("onMonthChange"),F.redraw()}function se(de){var pe=getEventTarget(de);~pe.className.indexOf("arrow")&&le(de,pe.classList.contains("arrowUp")?1:-1)}function le(de,pe,Ce){var $e=de&&getEventTarget(de),Me=Ce||$e&&$e.parentNode&&$e.parentNode.firstChild,Ie=_t("increment");Ie.delta=pe,Me&&Me.dispatchEvent(Ie)}function oe(){var de=window.document.createDocumentFragment();if(F.calendarContainer=createElement("div","flatpickr-calendar"),F.calendarContainer.tabIndex=-1,!F.config.noCalendar){if(de.appendChild(ge()),F.innerContainer=createElement("div","flatpickr-innerContainer"),F.config.weekNumbers){var pe=De(),Ce=pe.weekWrapper,$e=pe.weekNumbers;F.innerContainer.appendChild(Ce),F.weekNumbers=$e,F.weekWrapper=Ce}F.rContainer=createElement("div","flatpickr-rContainer"),F.rContainer.appendChild(xe()),F.daysContainer||(F.daysContainer=createElement("div","flatpickr-days"),F.daysContainer.tabIndex=-1),fe(),F.rContainer.appendChild(F.daysContainer),F.innerContainer.appendChild(F.rContainer),de.appendChild(F.innerContainer)}F.config.enableTime&&de.appendChild(be()),toggleClass(F.calendarContainer,"rangeMode",F.config.mode==="range"),toggleClass(F.calendarContainer,"animate",F.config.animate===!0),toggleClass(F.calendarContainer,"multiMonth",F.config.showMonths>1),F.calendarContainer.appendChild(de);var Me=F.config.appendTo!==void 0&&F.config.appendTo.nodeType!==void 0;if((F.config.inline||F.config.static)&&(F.calendarContainer.classList.add(F.config.inline?"inline":"static"),F.config.inline&&(!Me&&F.element.parentNode?F.element.parentNode.insertBefore(F.calendarContainer,F._input.nextSibling):F.config.appendTo!==void 0&&F.config.appendTo.appendChild(F.calendarContainer)),F.config.static)){var Ie=createElement("div","flatpickr-wrapper");F.element.parentNode&&F.element.parentNode.insertBefore(Ie,F.element),Ie.appendChild(F.element),F.altInput&&Ie.appendChild(F.altInput),Ie.appendChild(F.calendarContainer)}!F.config.static&&!F.config.inline&&(F.config.appendTo!==void 0?F.config.appendTo:window.document.body).appendChild(F.calendarContainer)}function ue(de,pe,Ce,$e){var Me=Be(pe,!0),Ie=createElement("span",de,pe.getDate().toString());return Ie.dateObj=pe,Ie.$i=$e,Ie.setAttribute("aria-label",F.formatDate(pe,F.config.ariaDateFormat)),de.indexOf("hidden")===-1&&compareDates(pe,F.now)===0&&(F.todayDateElem=Ie,Ie.classList.add("today"),Ie.setAttribute("aria-current","date")),Me?(Ie.tabIndex=-1,bt(pe)&&(Ie.classList.add("selected"),F.selectedDateElem=Ie,F.config.mode==="range"&&(toggleClass(Ie,"startRange",F.selectedDates[0]&&compareDates(pe,F.selectedDates[0],!0)===0),toggleClass(Ie,"endRange",F.selectedDates[1]&&compareDates(pe,F.selectedDates[1],!0)===0),de==="nextMonthDay"&&Ie.classList.add("inRange")))):Ie.classList.add("flatpickr-disabled"),F.config.mode==="range"&&Et(pe)&&!bt(pe)&&Ie.classList.add("inRange"),F.weekNumbers&&F.config.showMonths===1&&de!=="prevMonthDay"&&$e%7===6&&F.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+F.config.getWeek(pe)+"</span>"),Xe("onDayCreate",Ie),Ie}function ce(de){de.focus(),F.config.mode==="range"&&Ke(de)}function he(de){for(var pe=de>0?0:F.config.showMonths-1,Ce=de>0?F.config.showMonths:-1,$e=pe;$e!=Ce;$e+=de)for(var Me=F.daysContainer.children[$e],Ie=de>0?0:Me.children.length-1,Ue=de>0?Me.children.length:-1,Le=Ie;Le!=Ue;Le+=de){var We=Me.children[Le];if(We.className.indexOf("hidden")===-1&&Be(We.dateObj))return We}}function me(de,pe){for(var Ce=de.className.indexOf("Month")===-1?de.dateObj.getMonth():F.currentMonth,$e=pe>0?F.config.showMonths:-1,Me=pe>0?1:-1,Ie=Ce-F.currentMonth;Ie!=$e;Ie+=Me)for(var Ue=F.daysContainer.children[Ie],Le=Ce-F.currentMonth===Ie?de.$i+pe:pe<0?Ue.children.length-1:0,We=Ue.children.length,Re=Le;Re>=0&&Re<We&&Re!=(pe>0?We:-1);Re+=Me){var je=Ue.children[Re];if(je.className.indexOf("hidden")===-1&&Be(je.dateObj)&&Math.abs(de.$i-Re)>=Math.abs(pe))return ce(je)}F.changeMonth(Me),Pe(he(Me),0)}function Pe(de,pe){var Ce=W(),$e=He(Ce||document.body),Me=de!==void 0?de:$e?Ce:F.selectedDateElem!==void 0&&He(F.selectedDateElem)?F.selectedDateElem:F.todayDateElem!==void 0&&He(F.todayDateElem)?F.todayDateElem:he(pe>0?1:-1);Me===void 0?F._input.focus():$e?me(Me,pe):ce(Me)}function we(de,pe){for(var Ce=(new Date(de,pe,1).getDay()-F.l10n.firstDayOfWeek+7)%7,$e=F.utils.getDaysInMonth((pe-1+12)%12,de),Me=F.utils.getDaysInMonth(pe,de),Ie=window.document.createDocumentFragment(),Ue=F.config.showMonths>1,Le=Ue?"prevMonthDay hidden":"prevMonthDay",We=Ue?"nextMonthDay hidden":"nextMonthDay",Re=$e+1-Ce,je=0;Re<=$e;Re++,je++)Ie.appendChild(ue("flatpickr-day "+Le,new Date(de,pe-1,Re),Re,je));for(Re=1;Re<=Me;Re++,je++)Ie.appendChild(ue("flatpickr-day",new Date(de,pe,Re),Re,je));for(var ze=Me+1;ze<=42-Ce&&(F.config.showMonths===1||je%7!==0);ze++,je++)Ie.appendChild(ue("flatpickr-day "+We,new Date(de,pe+1,ze%Me),ze,je));var Qe=createElement("div","dayContainer");return Qe.appendChild(Ie),Qe}function fe(){if(F.daysContainer!==void 0){clearNode(F.daysContainer),F.weekNumbers&&clearNode(F.weekNumbers);for(var de=document.createDocumentFragment(),pe=0;pe<F.config.showMonths;pe++){var Ce=new Date(F.currentYear,F.currentMonth,1);Ce.setMonth(F.currentMonth+pe),de.appendChild(we(Ce.getFullYear(),Ce.getMonth()))}F.daysContainer.appendChild(de),F.days=F.daysContainer.firstChild,F.config.mode==="range"&&F.selectedDates.length===1&&Ke()}}function ye(){if(!(F.config.showMonths>1||F.config.monthSelectorType!=="dropdown")){var de=function($e){return F.config.minDate!==void 0&&F.currentYear===F.config.minDate.getFullYear()&&$e<F.config.minDate.getMonth()?!1:!(F.config.maxDate!==void 0&&F.currentYear===F.config.maxDate.getFullYear()&&$e>F.config.maxDate.getMonth())};F.monthsDropdownContainer.tabIndex=-1,F.monthsDropdownContainer.innerHTML="";for(var pe=0;pe<12;pe++)if(!!de(pe)){var Ce=createElement("option","flatpickr-monthDropdown-month");Ce.value=new Date(F.currentYear,pe).getMonth().toString(),Ce.textContent=monthToStr(pe,F.config.shorthandCurrentMonth,F.l10n),Ce.tabIndex=-1,F.currentMonth===pe&&(Ce.selected=!0),F.monthsDropdownContainer.appendChild(Ce)}}}function _e(){var de=createElement("div","flatpickr-month"),pe=window.document.createDocumentFragment(),Ce;F.config.showMonths>1||F.config.monthSelectorType==="static"?Ce=createElement("span","cur-month"):(F.monthsDropdownContainer=createElement("select","flatpickr-monthDropdown-months"),F.monthsDropdownContainer.setAttribute("aria-label",F.l10n.monthAriaLabel),ie(F.monthsDropdownContainer,"change",function(Ue){var Le=getEventTarget(Ue),We=parseInt(Le.value,10);F.changeMonth(We-F.currentMonth),Xe("onMonthChange")}),ye(),Ce=F.monthsDropdownContainer);var $e=createNumberInput("cur-year",{tabindex:"-1"}),Me=$e.getElementsByTagName("input")[0];Me.setAttribute("aria-label",F.l10n.yearAriaLabel),F.config.minDate&&Me.setAttribute("min",F.config.minDate.getFullYear().toString()),F.config.maxDate&&(Me.setAttribute("max",F.config.maxDate.getFullYear().toString()),Me.disabled=!!F.config.minDate&&F.config.minDate.getFullYear()===F.config.maxDate.getFullYear());var Ie=createElement("div","flatpickr-current-month");return Ie.appendChild(Ce),Ie.appendChild($e),pe.appendChild(Ie),de.appendChild(pe),{container:de,yearElement:Me,monthElement:Ce}}function ve(){clearNode(F.monthNav),F.monthNav.appendChild(F.prevMonthNav),F.config.showMonths&&(F.yearElements=[],F.monthElements=[]);for(var de=F.config.showMonths;de--;){var pe=_e();F.yearElements.push(pe.yearElement),F.monthElements.push(pe.monthElement),F.monthNav.appendChild(pe.container)}F.monthNav.appendChild(F.nextMonthNav)}function ge(){return F.monthNav=createElement("div","flatpickr-months"),F.yearElements=[],F.monthElements=[],F.prevMonthNav=createElement("span","flatpickr-prev-month"),F.prevMonthNav.innerHTML=F.config.prevArrow,F.nextMonthNav=createElement("span","flatpickr-next-month"),F.nextMonthNav.innerHTML=F.config.nextArrow,ve(),Object.defineProperty(F,"_hidePrevMonthArrow",{get:function(){return F.__hidePrevMonthArrow},set:function(de){F.__hidePrevMonthArrow!==de&&(toggleClass(F.prevMonthNav,"flatpickr-disabled",de),F.__hidePrevMonthArrow=de)}}),Object.defineProperty(F,"_hideNextMonthArrow",{get:function(){return F.__hideNextMonthArrow},set:function(de){F.__hideNextMonthArrow!==de&&(toggleClass(F.nextMonthNav,"flatpickr-disabled",de),F.__hideNextMonthArrow=de)}}),F.currentYearElement=F.yearElements[0],yt(),F.monthNav}function be(){F.calendarContainer.classList.add("hasTime"),F.config.noCalendar&&F.calendarContainer.classList.add("noCalendar");var de=getDefaultHours(F.config);F.timeContainer=createElement("div","flatpickr-time"),F.timeContainer.tabIndex=-1;var pe=createElement("span","flatpickr-time-separator",":"),Ce=createNumberInput("flatpickr-hour",{"aria-label":F.l10n.hourAriaLabel});F.hourElement=Ce.getElementsByTagName("input")[0];var $e=createNumberInput("flatpickr-minute",{"aria-label":F.l10n.minuteAriaLabel});if(F.minuteElement=$e.getElementsByTagName("input")[0],F.hourElement.tabIndex=F.minuteElement.tabIndex=-1,F.hourElement.value=pad(F.latestSelectedDateObj?F.latestSelectedDateObj.getHours():F.config.time_24hr?de.hours:Z(de.hours)),F.minuteElement.value=pad(F.latestSelectedDateObj?F.latestSelectedDateObj.getMinutes():de.minutes),F.hourElement.setAttribute("step",F.config.hourIncrement.toString()),F.minuteElement.setAttribute("step",F.config.minuteIncrement.toString()),F.hourElement.setAttribute("min",F.config.time_24hr?"0":"1"),F.hourElement.setAttribute("max",F.config.time_24hr?"23":"12"),F.hourElement.setAttribute("maxlength","2"),F.minuteElement.setAttribute("min","0"),F.minuteElement.setAttribute("max","59"),F.minuteElement.setAttribute("maxlength","2"),F.timeContainer.appendChild(Ce),F.timeContainer.appendChild(pe),F.timeContainer.appendChild($e),F.config.time_24hr&&F.timeContainer.classList.add("time24hr"),F.config.enableSeconds){F.timeContainer.classList.add("hasSeconds");var Me=createNumberInput("flatpickr-second");F.secondElement=Me.getElementsByTagName("input")[0],F.secondElement.value=pad(F.latestSelectedDateObj?F.latestSelectedDateObj.getSeconds():de.seconds),F.secondElement.setAttribute("step",F.minuteElement.getAttribute("step")),F.secondElement.setAttribute("min","0"),F.secondElement.setAttribute("max","59"),F.secondElement.setAttribute("maxlength","2"),F.timeContainer.appendChild(createElement("span","flatpickr-time-separator",":")),F.timeContainer.appendChild(Me)}return F.config.time_24hr||(F.amPM=createElement("span","flatpickr-am-pm",F.l10n.amPM[int((F.latestSelectedDateObj?F.hourElement.value:F.config.defaultHour)>11)]),F.amPM.title=F.l10n.toggleTitle,F.amPM.tabIndex=-1,F.timeContainer.appendChild(F.amPM)),F.timeContainer}function xe(){F.weekdayContainer?clearNode(F.weekdayContainer):F.weekdayContainer=createElement("div","flatpickr-weekdays");for(var de=F.config.showMonths;de--;){var pe=createElement("div","flatpickr-weekdaycontainer");F.weekdayContainer.appendChild(pe)}return Se(),F.weekdayContainer}function Se(){if(!!F.weekdayContainer){var de=F.l10n.firstDayOfWeek,pe=__spreadArrays(F.l10n.weekdays.shorthand);de>0&&de<pe.length&&(pe=__spreadArrays(pe.splice(de,pe.length),pe.splice(0,de)));for(var Ce=F.config.showMonths;Ce--;)F.weekdayContainer.children[Ce].innerHTML=`
      <span class='flatpickr-weekday'>
        `+pe.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function De(){F.calendarContainer.classList.add("hasWeeks");var de=createElement("div","flatpickr-weekwrapper");de.appendChild(createElement("span","flatpickr-weekday",F.l10n.weekAbbreviation));var pe=createElement("div","flatpickr-weeks");return de.appendChild(pe),{weekWrapper:de,weekNumbers:pe}}function Ae(de,pe){pe===void 0&&(pe=!0);var Ce=pe?de:de-F.currentMonth;Ce<0&&F._hidePrevMonthArrow===!0||Ce>0&&F._hideNextMonthArrow===!0||(F.currentMonth+=Ce,(F.currentMonth<0||F.currentMonth>11)&&(F.currentYear+=F.currentMonth>11?1:-1,F.currentMonth=(F.currentMonth+12)%12,Xe("onYearChange"),ye()),fe(),Xe("onMonthChange"),yt())}function Te(de,pe){if(de===void 0&&(de=!0),pe===void 0&&(pe=!0),F.input.value="",F.altInput!==void 0&&(F.altInput.value=""),F.mobileInput!==void 0&&(F.mobileInput.value=""),F.selectedDates=[],F.latestSelectedDateObj=void 0,pe===!0&&(F.currentYear=F._initialDate.getFullYear(),F.currentMonth=F._initialDate.getMonth()),F.config.enableTime===!0){var Ce=getDefaultHours(F.config),$e=Ce.hours,Me=Ce.minutes,Ie=Ce.seconds;ee($e,Me,Ie)}F.redraw(),de&&Xe("onChange")}function Fe(){F.isOpen=!1,F.isMobile||(F.calendarContainer!==void 0&&F.calendarContainer.classList.remove("open"),F._input!==void 0&&F._input.classList.remove("active")),Xe("onClose")}function Oe(){F.config!==void 0&&Xe("onDestroy");for(var de=F._handlers.length;de--;)F._handlers[de].remove();if(F._handlers=[],F.mobileInput)F.mobileInput.parentNode&&F.mobileInput.parentNode.removeChild(F.mobileInput),F.mobileInput=void 0;else if(F.calendarContainer&&F.calendarContainer.parentNode)if(F.config.static&&F.calendarContainer.parentNode){var pe=F.calendarContainer.parentNode;if(pe.lastChild&&pe.removeChild(pe.lastChild),pe.parentNode){for(;pe.firstChild;)pe.parentNode.insertBefore(pe.firstChild,pe);pe.parentNode.removeChild(pe)}}else F.calendarContainer.parentNode.removeChild(F.calendarContainer);F.altInput&&(F.input.type="text",F.altInput.parentNode&&F.altInput.parentNode.removeChild(F.altInput),delete F.altInput),F.input&&(F.input.type=F.input._type,F.input.classList.remove("flatpickr-input"),F.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Ce){try{delete F[Ce]}catch{}})}function ke(de){return F.calendarContainer.contains(de)}function Ee(de){if(F.isOpen&&!F.config.inline){var pe=getEventTarget(de),Ce=ke(pe),$e=pe===F.input||pe===F.altInput||F.element.contains(pe)||de.path&&de.path.indexOf&&(~de.path.indexOf(F.input)||~de.path.indexOf(F.altInput)),Me=!$e&&!Ce&&!ke(de.relatedTarget),Ie=!F.config.ignoredFocusElements.some(function(Ue){return Ue.contains(pe)});Me&&Ie&&(F.config.allowInput&&F.setDate(F._input.value,!1,F.config.altInput?F.config.altFormat:F.config.dateFormat),F.timeContainer!==void 0&&F.minuteElement!==void 0&&F.hourElement!==void 0&&F.input.value!==""&&F.input.value!==void 0&&X(),F.close(),F.config&&F.config.mode==="range"&&F.selectedDates.length===1&&F.clear(!1))}}function Ve(de){if(!(!de||F.config.minDate&&de<F.config.minDate.getFullYear()||F.config.maxDate&&de>F.config.maxDate.getFullYear())){var pe=de,Ce=F.currentYear!==pe;F.currentYear=pe||F.currentYear,F.config.maxDate&&F.currentYear===F.config.maxDate.getFullYear()?F.currentMonth=Math.min(F.config.maxDate.getMonth(),F.currentMonth):F.config.minDate&&F.currentYear===F.config.minDate.getFullYear()&&(F.currentMonth=Math.max(F.config.minDate.getMonth(),F.currentMonth)),Ce&&(F.redraw(),Xe("onYearChange"),ye())}}function Be(de,pe){var Ce;pe===void 0&&(pe=!0);var $e=F.parseDate(de,void 0,pe);if(F.config.minDate&&$e&&compareDates($e,F.config.minDate,pe!==void 0?pe:!F.minDateHasTime)<0||F.config.maxDate&&$e&&compareDates($e,F.config.maxDate,pe!==void 0?pe:!F.maxDateHasTime)>0)return!1;if(!F.config.enable&&F.config.disable.length===0)return!0;if($e===void 0)return!1;for(var Me=!!F.config.enable,Ie=(Ce=F.config.enable)!==null&&Ce!==void 0?Ce:F.config.disable,Ue=0,Le=void 0;Ue<Ie.length;Ue++){if(Le=Ie[Ue],typeof Le=="function"&&Le($e))return Me;if(Le instanceof Date&&$e!==void 0&&Le.getTime()===$e.getTime())return Me;if(typeof Le=="string"){var We=F.parseDate(Le,void 0,!0);return We&&We.getTime()===$e.getTime()?Me:!Me}else if(typeof Le=="object"&&$e!==void 0&&Le.from&&Le.to&&$e.getTime()>=Le.from.getTime()&&$e.getTime()<=Le.to.getTime())return Me}return!Me}function He(de){return F.daysContainer!==void 0?de.className.indexOf("hidden")===-1&&de.className.indexOf("flatpickr-disabled")===-1&&F.daysContainer.contains(de):!1}function Ne(de){var pe=de.target===F._input,Ce=F._input.value.trimEnd()!==xt();pe&&Ce&&!(de.relatedTarget&&ke(de.relatedTarget))&&F.setDate(F._input.value,!0,de.target===F.altInput?F.config.altFormat:F.config.dateFormat)}function Ye(de){var pe=getEventTarget(de),Ce=F.config.wrap?V.contains(pe):pe===F._input,$e=F.config.allowInput,Me=F.isOpen&&(!$e||!Ce),Ie=F.config.inline&&Ce&&!$e;if(de.keyCode===13&&Ce){if($e)return F.setDate(F._input.value,!0,pe===F.altInput?F.config.altFormat:F.config.dateFormat),F.close(),pe.blur();F.open()}else if(ke(pe)||Me||Ie){var Ue=!!F.timeContainer&&F.timeContainer.contains(pe);switch(de.keyCode){case 13:Ue?(de.preventDefault(),X(),ft()):gt(de);break;case 27:de.preventDefault(),ft();break;case 8:case 46:Ce&&!F.config.allowInput&&(de.preventDefault(),F.clear());break;case 37:case 39:if(!Ue&&!Ce){de.preventDefault();var Le=W();if(F.daysContainer!==void 0&&($e===!1||Le&&He(Le))){var We=de.keyCode===39?1:-1;de.ctrlKey?(de.stopPropagation(),Ae(We),Pe(he(1),0)):Pe(void 0,We)}}else F.hourElement&&F.hourElement.focus();break;case 38:case 40:de.preventDefault();var Re=de.keyCode===40?1:-1;F.daysContainer&&pe.$i!==void 0||pe===F.input||pe===F.altInput?de.ctrlKey?(de.stopPropagation(),Ve(F.currentYear-Re),Pe(he(1),0)):Ue||Pe(void 0,Re*7):pe===F.currentYearElement?Ve(F.currentYear-Re):F.config.enableTime&&(!Ue&&F.hourElement&&F.hourElement.focus(),X(de),F._debouncedChange());break;case 9:if(Ue){var je=[F.hourElement,F.minuteElement,F.secondElement,F.amPM].concat(F.pluginElements).filter(function(Ze){return Ze}),ze=je.indexOf(pe);if(ze!==-1){var Qe=je[ze+(de.shiftKey?-1:1)];de.preventDefault(),(Qe||F._input).focus()}}else!F.config.noCalendar&&F.daysContainer&&F.daysContainer.contains(pe)&&de.shiftKey&&(de.preventDefault(),F._input.focus());break}}if(F.amPM!==void 0&&pe===F.amPM)switch(de.key){case F.l10n.amPM[0].charAt(0):case F.l10n.amPM[0].charAt(0).toLowerCase():F.amPM.textContent=F.l10n.amPM[0],J(),rt();break;case F.l10n.amPM[1].charAt(0):case F.l10n.amPM[1].charAt(0).toLowerCase():F.amPM.textContent=F.l10n.amPM[1],J(),rt();break}(Ce||ke(pe))&&Xe("onKeyDown",de)}function Ke(de,pe){if(pe===void 0&&(pe="flatpickr-day"),!(F.selectedDates.length!==1||de&&(!de.classList.contains(pe)||de.classList.contains("flatpickr-disabled")))){for(var Ce=de?de.dateObj.getTime():F.days.firstElementChild.dateObj.getTime(),$e=F.parseDate(F.selectedDates[0],void 0,!0).getTime(),Me=Math.min(Ce,F.selectedDates[0].getTime()),Ie=Math.max(Ce,F.selectedDates[0].getTime()),Ue=!1,Le=0,We=0,Re=Me;Re<Ie;Re+=duration.DAY)Be(new Date(Re),!0)||(Ue=Ue||Re>Me&&Re<Ie,Re<$e&&(!Le||Re>Le)?Le=Re:Re>$e&&(!We||Re<We)&&(We=Re));var je=Array.from(F.rContainer.querySelectorAll("*:nth-child(-n+"+F.config.showMonths+") > ."+pe));je.forEach(function(ze){var Qe=ze.dateObj,Ze=Qe.getTime(),mt=Le>0&&Ze<Le||We>0&&Ze>We;if(mt){ze.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ht){ze.classList.remove(ht)});return}else if(Ue&&!mt)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ht){ze.classList.remove(ht)}),de!==void 0&&(de.classList.add(Ce<=F.selectedDates[0].getTime()?"startRange":"endRange"),$e<Ce&&Ze===$e?ze.classList.add("startRange"):$e>Ce&&Ze===$e&&ze.classList.add("endRange"),Ze>=Le&&(We===0||Ze<=We)&&isBetween(Ze,$e,Ce)&&ze.classList.add("inRange"))})}}function Je(){F.isOpen&&!F.config.static&&!F.config.inline&&tt()}function dt(de,pe){if(pe===void 0&&(pe=F._positionElement),F.isMobile===!0){if(de){de.preventDefault();var Ce=getEventTarget(de);Ce&&Ce.blur()}F.mobileInput!==void 0&&(F.mobileInput.focus(),F.mobileInput.click()),Xe("onOpen");return}else if(F._input.disabled||F.config.inline)return;var $e=F.isOpen;F.isOpen=!0,$e||(F.calendarContainer.classList.add("open"),F._input.classList.add("active"),Xe("onOpen"),tt(pe)),F.config.enableTime===!0&&F.config.noCalendar===!0&&F.config.allowInput===!1&&(de===void 0||!F.timeContainer.contains(de.relatedTarget))&&setTimeout(function(){return F.hourElement.select()},50)}function et(de){return function(pe){var Ce=F.config["_"+de+"Date"]=F.parseDate(pe,F.config.dateFormat),$e=F.config["_"+(de==="min"?"max":"min")+"Date"];Ce!==void 0&&(F[de==="min"?"minDateHasTime":"maxDateHasTime"]=Ce.getHours()>0||Ce.getMinutes()>0||Ce.getSeconds()>0),F.selectedDates&&(F.selectedDates=F.selectedDates.filter(function(Me){return Be(Me)}),!F.selectedDates.length&&de==="min"&&Q(Ce),rt()),F.daysContainer&&(ut(),Ce!==void 0?F.currentYearElement[de]=Ce.getFullYear().toString():F.currentYearElement.removeAttribute(de),F.currentYearElement.disabled=!!$e&&Ce!==void 0&&$e.getFullYear()===Ce.getFullYear())}}function st(){var de=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],pe=__assign(__assign({},JSON.parse(JSON.stringify(V.dataset||{}))),E),Ce={};F.config.parseDate=pe.parseDate,F.config.formatDate=pe.formatDate,Object.defineProperty(F.config,"enable",{get:function(){return F.config._enable},set:function(je){F.config._enable=it(je)}}),Object.defineProperty(F.config,"disable",{get:function(){return F.config._disable},set:function(je){F.config._disable=it(je)}});var $e=pe.mode==="time";if(!pe.dateFormat&&(pe.enableTime||$e)){var Me=flatpickr.defaultConfig.dateFormat||defaults.dateFormat;Ce.dateFormat=pe.noCalendar||$e?"H:i"+(pe.enableSeconds?":S":""):Me+" H:i"+(pe.enableSeconds?":S":"")}if(pe.altInput&&(pe.enableTime||$e)&&!pe.altFormat){var Ie=flatpickr.defaultConfig.altFormat||defaults.altFormat;Ce.altFormat=pe.noCalendar||$e?"h:i"+(pe.enableSeconds?":S K":" K"):Ie+(" h:i"+(pe.enableSeconds?":S":"")+" K")}Object.defineProperty(F.config,"minDate",{get:function(){return F.config._minDate},set:et("min")}),Object.defineProperty(F.config,"maxDate",{get:function(){return F.config._maxDate},set:et("max")});var Ue=function(je){return function(ze){F.config[je==="min"?"_minTime":"_maxTime"]=F.parseDate(ze,"H:i:S")}};Object.defineProperty(F.config,"minTime",{get:function(){return F.config._minTime},set:Ue("min")}),Object.defineProperty(F.config,"maxTime",{get:function(){return F.config._maxTime},set:Ue("max")}),pe.mode==="time"&&(F.config.noCalendar=!0,F.config.enableTime=!0),Object.assign(F.config,Ce,pe);for(var Le=0;Le<de.length;Le++)F.config[de[Le]]=F.config[de[Le]]===!0||F.config[de[Le]]==="true";HOOKS.filter(function(je){return F.config[je]!==void 0}).forEach(function(je){F.config[je]=arrayify(F.config[je]||[]).map(Y)}),F.isMobile=!F.config.disableMobile&&!F.config.inline&&F.config.mode==="single"&&!F.config.disable.length&&!F.config.enable&&!F.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Le=0;Le<F.config.plugins.length;Le++){var We=F.config.plugins[Le](F)||{};for(var Re in We)HOOKS.indexOf(Re)>-1?F.config[Re]=arrayify(We[Re]).map(Y).concat(F.config[Re]):typeof pe[Re]>"u"&&(F.config[Re]=We[Re])}pe.altInputClass||(F.config.altInputClass=nt().className+" "+F.config.altInputClass),Xe("onParseConfig")}function nt(){return F.config.wrap?V.querySelector("[data-input]"):V}function at(){typeof F.config.locale!="object"&&typeof flatpickr.l10ns[F.config.locale]>"u"&&F.config.errorHandler(new Error("flatpickr: invalid locale "+F.config.locale)),F.l10n=__assign(__assign({},flatpickr.l10ns.default),typeof F.config.locale=="object"?F.config.locale:F.config.locale!=="default"?flatpickr.l10ns[F.config.locale]:void 0),tokenRegex.D="("+F.l10n.weekdays.shorthand.join("|")+")",tokenRegex.l="("+F.l10n.weekdays.longhand.join("|")+")",tokenRegex.M="("+F.l10n.months.shorthand.join("|")+")",tokenRegex.F="("+F.l10n.months.longhand.join("|")+")",tokenRegex.K="("+F.l10n.amPM[0]+"|"+F.l10n.amPM[1]+"|"+F.l10n.amPM[0].toLowerCase()+"|"+F.l10n.amPM[1].toLowerCase()+")";var de=__assign(__assign({},E),JSON.parse(JSON.stringify(V.dataset||{})));de.time_24hr===void 0&&flatpickr.defaultConfig.time_24hr===void 0&&(F.config.time_24hr=F.l10n.time_24hr),F.formatDate=createDateFormatter(F),F.parseDate=createDateParser({config:F.config,l10n:F.l10n})}function tt(de){if(typeof F.config.position=="function")return void F.config.position(F,de);if(F.calendarContainer!==void 0){Xe("onPreCalendarPosition");var pe=de||F._positionElement,Ce=Array.prototype.reduce.call(F.calendarContainer.children,function(Wt,Yt){return Wt+Yt.offsetHeight},0),$e=F.calendarContainer.offsetWidth,Me=F.config.position.split(" "),Ie=Me[0],Ue=Me.length>1?Me[1]:null,Le=pe.getBoundingClientRect(),We=window.innerHeight-Le.bottom,Re=Ie==="above"||Ie!=="below"&&We<Ce&&Le.top>Ce,je=window.pageYOffset+Le.top+(Re?-Ce-2:pe.offsetHeight+2);if(toggleClass(F.calendarContainer,"arrowTop",!Re),toggleClass(F.calendarContainer,"arrowBottom",Re),!F.config.inline){var ze=window.pageXOffset+Le.left,Qe=!1,Ze=!1;Ue==="center"?(ze-=($e-Le.width)/2,Qe=!0):Ue==="right"&&(ze-=$e-Le.width,Ze=!0),toggleClass(F.calendarContainer,"arrowLeft",!Qe&&!Ze),toggleClass(F.calendarContainer,"arrowCenter",Qe),toggleClass(F.calendarContainer,"arrowRight",Ze);var mt=window.document.body.offsetWidth-(window.pageXOffset+Le.right),ht=ze+$e>window.document.body.offsetWidth,Lt=mt+$e>window.document.body.offsetWidth;if(toggleClass(F.calendarContainer,"rightMost",ht),!F.config.static)if(F.calendarContainer.style.top=je+"px",!ht)F.calendarContainer.style.left=ze+"px",F.calendarContainer.style.right="auto";else if(!Lt)F.calendarContainer.style.left="auto",F.calendarContainer.style.right=mt+"px";else{var Ct=ot();if(Ct===void 0)return;var Vt=window.document.body.offsetWidth,Nt=Math.max(0,Vt/2-$e/2),jt=".flatpickr-calendar.centerMost:before",Bt=".flatpickr-calendar.centerMost:after",Ht=Ct.cssRules.length,Ut="{left:"+Le.left+"px;right:auto;}";toggleClass(F.calendarContainer,"rightMost",!1),toggleClass(F.calendarContainer,"centerMost",!0),Ct.insertRule(jt+","+Bt+Ut,Ht),F.calendarContainer.style.left=Nt+"px",F.calendarContainer.style.right="auto"}}}}function ot(){for(var de=null,pe=0;pe<document.styleSheets.length;pe++){var Ce=document.styleSheets[pe];if(!!Ce.cssRules){try{Ce.cssRules}catch{continue}de=Ce;break}}return de!=null?de:lt()}function lt(){var de=document.createElement("style");return document.head.appendChild(de),de.sheet}function ut(){F.config.noCalendar||F.isMobile||(ye(),yt(),fe())}function ft(){F._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(F.close,0):F.close()}function gt(de){de.preventDefault(),de.stopPropagation();var pe=function(je){return je.classList&&je.classList.contains("flatpickr-day")&&!je.classList.contains("flatpickr-disabled")&&!je.classList.contains("notAllowed")},Ce=findParent(getEventTarget(de),pe);if(Ce!==void 0){var $e=Ce,Me=F.latestSelectedDateObj=new Date($e.dateObj.getTime()),Ie=(Me.getMonth()<F.currentMonth||Me.getMonth()>F.currentMonth+F.config.showMonths-1)&&F.config.mode!=="range";if(F.selectedDateElem=$e,F.config.mode==="single")F.selectedDates=[Me];else if(F.config.mode==="multiple"){var Ue=bt(Me);Ue?F.selectedDates.splice(parseInt(Ue),1):F.selectedDates.push(Me)}else F.config.mode==="range"&&(F.selectedDates.length===2&&F.clear(!1,!1),F.latestSelectedDateObj=Me,F.selectedDates.push(Me),compareDates(Me,F.selectedDates[0],!0)!==0&&F.selectedDates.sort(function(je,ze){return je.getTime()-ze.getTime()}));if(J(),Ie){var Le=F.currentYear!==Me.getFullYear();F.currentYear=Me.getFullYear(),F.currentMonth=Me.getMonth(),Le&&(Xe("onYearChange"),ye()),Xe("onMonthChange")}if(yt(),fe(),rt(),!Ie&&F.config.mode!=="range"&&F.config.showMonths===1?ce($e):F.selectedDateElem!==void 0&&F.hourElement===void 0&&F.selectedDateElem&&F.selectedDateElem.focus(),F.hourElement!==void 0&&F.hourElement!==void 0&&F.hourElement.focus(),F.config.closeOnSelect){var We=F.config.mode==="single"&&!F.config.enableTime,Re=F.config.mode==="range"&&F.selectedDates.length===2&&!F.config.enableTime;(We||Re)&&ft()}re()}}var ct={locale:[at,Se],showMonths:[ve,G,xe],minDate:[ae],maxDate:[ae],positionElement:[wt],clickOpens:[function(){F.config.clickOpens===!0?(ie(F._input,"focus",F.open),ie(F._input,"click",F.open)):(F._input.removeEventListener("focus",F.open),F._input.removeEventListener("click",F.open))}]};function vt(de,pe){if(de!==null&&typeof de=="object"){Object.assign(F.config,de);for(var Ce in de)ct[Ce]!==void 0&&ct[Ce].forEach(function($e){return $e()})}else F.config[de]=pe,ct[de]!==void 0?ct[de].forEach(function($e){return $e()}):HOOKS.indexOf(de)>-1&&(F.config[de]=arrayify(pe));F.redraw(),rt(!0)}function pt(de,pe){var Ce=[];if(de instanceof Array)Ce=de.map(function($e){return F.parseDate($e,pe)});else if(de instanceof Date||typeof de=="number")Ce=[F.parseDate(de,pe)];else if(typeof de=="string")switch(F.config.mode){case"single":case"time":Ce=[F.parseDate(de,pe)];break;case"multiple":Ce=de.split(F.config.conjunction).map(function($e){return F.parseDate($e,pe)});break;case"range":Ce=de.split(F.l10n.rangeSeparator).map(function($e){return F.parseDate($e,pe)});break}else F.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(de)));F.selectedDates=F.config.allowInvalidPreload?Ce:Ce.filter(function($e){return $e instanceof Date&&Be($e,!1)}),F.config.mode==="range"&&F.selectedDates.sort(function($e,Me){return $e.getTime()-Me.getTime()})}function Ge(de,pe,Ce){if(pe===void 0&&(pe=!1),Ce===void 0&&(Ce=F.config.dateFormat),de!==0&&!de||de instanceof Array&&de.length===0)return F.clear(pe);pt(de,Ce),F.latestSelectedDateObj=F.selectedDates[F.selectedDates.length-1],F.redraw(),ae(void 0,pe),Q(),F.selectedDates.length===0&&F.clear(!1),rt(pe),pe&&Xe("onChange")}function it(de){return de.slice().map(function(pe){return typeof pe=="string"||typeof pe=="number"||pe instanceof Date?F.parseDate(pe,void 0,!0):pe&&typeof pe=="object"&&pe.from&&pe.to?{from:F.parseDate(pe.from,void 0),to:F.parseDate(pe.to,void 0)}:pe}).filter(function(pe){return pe})}function qe(){F.selectedDates=[],F.now=F.parseDate(F.config.now)||new Date;var de=F.config.defaultDate||((F.input.nodeName==="INPUT"||F.input.nodeName==="TEXTAREA")&&F.input.placeholder&&F.input.value===F.input.placeholder?null:F.input.value);de&&pt(de,F.config.dateFormat),F._initialDate=F.selectedDates.length>0?F.selectedDates[0]:F.config.minDate&&F.config.minDate.getTime()>F.now.getTime()?F.config.minDate:F.config.maxDate&&F.config.maxDate.getTime()<F.now.getTime()?F.config.maxDate:F.now,F.currentYear=F._initialDate.getFullYear(),F.currentMonth=F._initialDate.getMonth(),F.selectedDates.length>0&&(F.latestSelectedDateObj=F.selectedDates[0]),F.config.minTime!==void 0&&(F.config.minTime=F.parseDate(F.config.minTime,"H:i")),F.config.maxTime!==void 0&&(F.config.maxTime=F.parseDate(F.config.maxTime,"H:i")),F.minDateHasTime=!!F.config.minDate&&(F.config.minDate.getHours()>0||F.config.minDate.getMinutes()>0||F.config.minDate.getSeconds()>0),F.maxDateHasTime=!!F.config.maxDate&&(F.config.maxDate.getHours()>0||F.config.maxDate.getMinutes()>0||F.config.maxDate.getSeconds()>0)}function At(){if(F.input=nt(),!F.input){F.config.errorHandler(new Error("Invalid input element specified"));return}F.input._type=F.input.type,F.input.type="text",F.input.classList.add("flatpickr-input"),F._input=F.input,F.config.altInput&&(F.altInput=createElement(F.input.nodeName,F.config.altInputClass),F._input=F.altInput,F.altInput.placeholder=F.input.placeholder,F.altInput.disabled=F.input.disabled,F.altInput.required=F.input.required,F.altInput.tabIndex=F.input.tabIndex,F.altInput.type="text",F.input.setAttribute("type","hidden"),!F.config.static&&F.input.parentNode&&F.input.parentNode.insertBefore(F.altInput,F.input.nextSibling)),F.config.allowInput||F._input.setAttribute("readonly","readonly"),wt()}function wt(){F._positionElement=F.config.positionElement||F._input}function Mt(){var de=F.config.enableTime?F.config.noCalendar?"time":"datetime-local":"date";F.mobileInput=createElement("input",F.input.className+" flatpickr-mobile"),F.mobileInput.tabIndex=1,F.mobileInput.type=de,F.mobileInput.disabled=F.input.disabled,F.mobileInput.required=F.input.required,F.mobileInput.placeholder=F.input.placeholder,F.mobileFormatStr=de==="datetime-local"?"Y-m-d\\TH:i:S":de==="date"?"Y-m-d":"H:i:S",F.selectedDates.length>0&&(F.mobileInput.defaultValue=F.mobileInput.value=F.formatDate(F.selectedDates[0],F.mobileFormatStr)),F.config.minDate&&(F.mobileInput.min=F.formatDate(F.config.minDate,"Y-m-d")),F.config.maxDate&&(F.mobileInput.max=F.formatDate(F.config.maxDate,"Y-m-d")),F.input.getAttribute("step")&&(F.mobileInput.step=String(F.input.getAttribute("step"))),F.input.type="hidden",F.altInput!==void 0&&(F.altInput.type="hidden");try{F.input.parentNode&&F.input.parentNode.insertBefore(F.mobileInput,F.input.nextSibling)}catch{}ie(F.mobileInput,"change",function(pe){F.setDate(getEventTarget(pe).value,!1,F.mobileFormatStr),Xe("onChange"),Xe("onClose")})}function Ft(de){if(F.isOpen===!0)return F.close();F.open(de)}function Xe(de,pe){if(F.config!==void 0){var Ce=F.config[de];if(Ce!==void 0&&Ce.length>0)for(var $e=0;Ce[$e]&&$e<Ce.length;$e++)Ce[$e](F.selectedDates,F.input.value,F,pe);de==="onChange"&&(F.input.dispatchEvent(_t("change")),F.input.dispatchEvent(_t("input")))}}function _t(de){var pe=document.createEvent("Event");return pe.initEvent(de,!0,!0),pe}function bt(de){for(var pe=0;pe<F.selectedDates.length;pe++){var Ce=F.selectedDates[pe];if(Ce instanceof Date&&compareDates(Ce,de)===0)return""+pe}return!1}function Et(de){return F.config.mode!=="range"||F.selectedDates.length<2?!1:compareDates(de,F.selectedDates[0])>=0&&compareDates(de,F.selectedDates[1])<=0}function yt(){F.config.noCalendar||F.isMobile||!F.monthNav||(F.yearElements.forEach(function(de,pe){var Ce=new Date(F.currentYear,F.currentMonth,1);Ce.setMonth(F.currentMonth+pe),F.config.showMonths>1||F.config.monthSelectorType==="static"?F.monthElements[pe].textContent=monthToStr(Ce.getMonth(),F.config.shorthandCurrentMonth,F.l10n)+" ":F.monthsDropdownContainer.value=Ce.getMonth().toString(),de.value=Ce.getFullYear().toString()}),F._hidePrevMonthArrow=F.config.minDate!==void 0&&(F.currentYear===F.config.minDate.getFullYear()?F.currentMonth<=F.config.minDate.getMonth():F.currentYear<F.config.minDate.getFullYear()),F._hideNextMonthArrow=F.config.maxDate!==void 0&&(F.currentYear===F.config.maxDate.getFullYear()?F.currentMonth+1>F.config.maxDate.getMonth():F.currentYear>F.config.maxDate.getFullYear()))}function xt(de){var pe=de||(F.config.altInput?F.config.altFormat:F.config.dateFormat);return F.selectedDates.map(function(Ce){return F.formatDate(Ce,pe)}).filter(function(Ce,$e,Me){return F.config.mode!=="range"||F.config.enableTime||Me.indexOf(Ce)===$e}).join(F.config.mode!=="range"?F.config.conjunction:F.l10n.rangeSeparator)}function rt(de){de===void 0&&(de=!0),F.mobileInput!==void 0&&F.mobileFormatStr&&(F.mobileInput.value=F.latestSelectedDateObj!==void 0?F.formatDate(F.latestSelectedDateObj,F.mobileFormatStr):""),F.input.value=xt(F.config.dateFormat),F.altInput!==void 0&&(F.altInput.value=xt(F.config.altFormat)),de!==!1&&Xe("onValueUpdate")}function It(de){var pe=getEventTarget(de),Ce=F.prevMonthNav.contains(pe),$e=F.nextMonthNav.contains(pe);Ce||$e?Ae(Ce?-1:1):F.yearElements.indexOf(pe)>=0?pe.select():pe.classList.contains("arrowUp")?F.changeYear(F.currentYear+1):pe.classList.contains("arrowDown")&&F.changeYear(F.currentYear-1)}function Rt(de){de.preventDefault();var pe=de.type==="keydown",Ce=getEventTarget(de),$e=Ce;F.amPM!==void 0&&Ce===F.amPM&&(F.amPM.textContent=F.l10n.amPM[int(F.amPM.textContent===F.l10n.amPM[0])]);var Me=parseFloat($e.getAttribute("min")),Ie=parseFloat($e.getAttribute("max")),Ue=parseFloat($e.getAttribute("step")),Le=parseInt($e.value,10),We=de.delta||(pe?de.which===38?1:-1:0),Re=Le+Ue*We;if(typeof $e.value<"u"&&$e.value.length===2){var je=$e===F.hourElement,ze=$e===F.minuteElement;Re<Me?(Re=Ie+Re+int(!je)+(int(je)&&int(!F.amPM)),ze&&le(void 0,-1,F.hourElement)):Re>Ie&&(Re=$e===F.hourElement?Re-Ie-int(!F.amPM):Me,ze&&le(void 0,1,F.hourElement)),F.amPM&&je&&(Ue===1?Re+Le===23:Math.abs(Re-Le)>Ue)&&(F.amPM.textContent=F.l10n.amPM[int(F.amPM.textContent===F.l10n.amPM[0])]),$e.value=pad(Re)}}return U(),F}function _flatpickr(V,E){for(var F=Array.prototype.slice.call(V).filter(function(Y){return Y instanceof HTMLElement}),R=[],U=0;U<F.length;U++){var W=F[U];try{if(W.getAttribute("data-fp-omit")!==null)continue;W._flatpickr!==void 0&&(W._flatpickr.destroy(),W._flatpickr=void 0),W._flatpickr=FlatpickrInstance(W,E||{}),R.push(W._flatpickr)}catch(Y){console.error(Y)}}return R.length===1?R[0]:R}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(V){return _flatpickr(this,V)},HTMLElement.prototype.flatpickr=function(V){return _flatpickr([this],V)});var flatpickr=function(V,E){return typeof V=="string"?_flatpickr(window.document.querySelectorAll(V),E):V instanceof Node?_flatpickr([V],E):_flatpickr(V,E)};flatpickr.defaultConfig={};flatpickr.l10ns={en:__assign({},english),default:__assign({},english)};flatpickr.localize=function(V){flatpickr.l10ns.default=__assign(__assign({},flatpickr.l10ns.default),V)};flatpickr.setDefaults=function(V){flatpickr.defaultConfig=__assign(__assign({},flatpickr.defaultConfig),V)};flatpickr.parseDate=createDateParser({});flatpickr.formatDate=createDateFormatter({});flatpickr.compareDates=compareDates;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(V){return _flatpickr(this,V)});Date.prototype.fp_incr=function(V){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof V=="string"?parseInt(V,10):V))};typeof window<"u"&&(window.flatpickr=flatpickr);var ru={exports:{}};(function(V,E){(function(F,R){R(E)})(commonjsGlobal,function(F){var R=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},U={weekdays:{shorthand:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],longhand:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"]},months:{shorthand:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],longhand:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" \u2014 ",weekAbbreviation:"\u041D\u0435\u0434.",scrollTitle:"\u041F\u0440\u043E\u043A\u0440\u0443\u0442\u0438\u0442\u0435 \u0434\u043B\u044F \u0443\u0432\u0435\u043B\u0438\u0447\u0435\u043D\u0438\u044F",toggleTitle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0434\u043B\u044F \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F",amPM:["\u0414\u041F","\u041F\u041F"],yearAriaLabel:"\u0413\u043E\u0434",time_24hr:!0};R.l10ns.ru=U;var W=R.l10ns;F.Russian=U,F.default=W,Object.defineProperty(F,"__esModule",{value:!0})})})(ru,ru.exports);const InputDate_vue_vue_type_style_index_0_lang="",_sfc_main$K={props:{value:{type:String},minDate:{type:String},maxDate:{type:String},inline:{type:Boolean,default:!1}},mounted(){this.flatpickr=flatpickr(this.$refs.date,{defaultDate:this.value||"today",dateFormat:locale$4==="ru_RU"?"d.m.Y":"m/d/Y",...locale$4==="ru_RU"&&{locale:ru.exports.Russian},...this.minDate&&{minDate:this.minDate},...this.maxDate&&{maxDate:this.maxDate},inline:this.inline,parseDate:V=>this.$moment(V).toDate(),onReady:V=>{this.inline&&this.$refs.date.setAttribute("type","hidden"),this.emitChanges(V[0])},onChange:V=>{this.emitChanges(V[0])}})},beforeDestroy(){this.flatpickr&&this.flatpickr.destroy()},methods:{emitChanges(V){this.$emit("input",this.$moment(V).format("YYYY-MM-DD"))}}};var _sfc_render$K=function(){var E=this,F=E._self._c;return F("input",{ref:"date",attrs:{type:"hidden"}})},_sfc_staticRenderFns$K=[],__component__$K=normalizeComponent(_sfc_main$K,_sfc_render$K,_sfc_staticRenderFns$K,!1,null,null,null,null);const DateField=__component__$K.exports,_sfc_main$J={components:{DateField},data(){return{interval:{},controlsDisabled:!1}},computed:{...mapState("transaction",["chartInterval","detailsInterval"])},created(){this.interval={...this.detailsInterval}},methods:{submit(){this.controlsDisabled=!0,this.$store.dispatch("transaction/updateDetailsInterval",{from:this.interval.from,to:this.interval.to,outOfChart:!0}).then(()=>{this.$emit("close")}).finally(()=>{this.controlsDisabled=!0})}}};var _sfc_render$J=function(){var E=this,F=E._self._c;return F("div",{staticClass:"dialog-body"},[F("div",{staticClass:"dialog-header"},[F("h2",[E._v(" "+E._s(E.$t("setDates"))+" ")])]),F("div",{staticClass:"dialog-content"},[F("div",{staticClass:"fields"},[F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("from"))+" ")]),F("div",{staticClass:"value"},[F("div",{staticClass:"state-with-inner-icon left"},[F("DateField",{attrs:{"min-date":E.chartInterval.from,"max-date":E.chartInterval.to},model:{value:E.interval.from,callback:function(R){E.$set(E.interval,"from",R)},expression:"interval.from"}}),E._m(0)],1)])]),F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("to"))+" ")]),F("div",{staticClass:"value"},[F("div",{staticClass:"state-with-inner-icon left"},[F("DateField",{attrs:{"min-date":E.chartInterval.from,"max-date":E.chartInterval.to},model:{value:E.interval.to,callback:function(R){E.$set(E.interval,"to",R)},expression:"interval.to"}}),E._m(1)],1)])])])]),F("div",{staticClass:"dialog-footer"},[F("div",{staticClass:"flexbox"},[F("div",{staticClass:"flexbox space-12 wide"},[F("button",{staticClass:"button purple",attrs:{disabled:E.controlsDisabled},on:{click:E.submit}},[E._v(" "+E._s(E.$t("setDates"))+" ")]),F("button",{staticClass:"button light-gray",on:{click:function(R){return E.$emit("close")}}},[E._v(" "+E._s(E.$t("cancel"))+" ")])])])])])},_sfc_staticRenderFns$J=[function(){var V=this,E=V._self._c;return E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-calendar"})])},function(){var V=this,E=V._self._c;return E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-calendar"})])}],__component__$J=normalizeComponent(_sfc_main$J,_sfc_render$J,_sfc_staticRenderFns$J,!1,null,null,null,null);const UpdateDetailsInterval=__component__$J.exports,_sfc_main$I={computed:{entity(){return this.$store.state.transaction.queryParams.filter.split("/")},showComponent(){const V=["account","category","currency"];return this.entity.length===2&&V.includes(this.entity[0])},detailsInterval(){return this.$store.state.transaction.detailsInterval},link(){return encodeURI(`${this.$helper.baseUrl}?module=export&action=csv&settings[start_date]=${this.detailsInterval.from}&settings[end_date]=${this.detailsInterval.to}&settings[entity_type]=${this.entity[0]}&settings[entity_id]=${this.entity[1]}`)}}};var _sfc_render$I=function(){var E=this,F=E._self._c;return E.showComponent?F("a",{staticClass:"button light-gray outlined",attrs:{href:E.link,target:"_blank"}},[F("span",[F("i",{staticClass:"fas fa-file-excel",staticStyle:{color:"#499b5e"}}),E._v(" "+E._s(E.$t("export")))])]):E._e()},_sfc_staticRenderFns$I=[],__component__$I=normalizeComponent(_sfc_main$I,_sfc_render$I,_sfc_staticRenderFns$I,!1,null,null,null,null);const ExportButton=__component__$I.exports,appState=window.appState,DetailsDashboard_vue_vue_type_style_index_0_lang="",_sfc_main$H={components:{Modal:Modal$1,DetailsDashboardItem,UpdateDetailsInterval,ExportButton},data(){return{data:null,openModal:!1}},computed:{...mapState("transaction",["queryParams","detailsInterval"]),dates(){return this.detailsInterval.from!==this.detailsInterval.to?`<span class="nowrap">${this.$moment(this.detailsInterval.from).format("LL")}</span> \u2013 <span class="nowrap">${this.$moment(this.detailsInterval.to).format("LL")}`:`${this.$moment(this.detailsInterval.from).format("LL")}</span>`},dashboardData(){return this.data.find(V=>V.currency===this.$store.getters["transaction/activeCurrencyCode"])}},watch:{detailsInterval:"fetchBreakDown"},methods:{fetchBreakDown(V){V.from&&V.to?api$1.get("cash.aggregate.getBreakDown",{params:{from:V.from,to:V.to,filter:this.queryParams.filter}}).then(({data:E})=>{this.data=E}):this.data=null},closeDashboard(){this.$store.dispatch("transaction/updateDetailsInterval",{from:"",to:""})}}};var _sfc_render$H=function(){var E=this,F=E._self._c;return E.data?F("div",{staticClass:"c-breakdown-details"},[F("div",{staticClass:"flexbox custom-mb-24"},[F("div",{staticClass:"wide flexbox middle wrap-mobile"},[F("div",{staticClass:"larger black bold custom-mb-0 custom-mb-8-mobile",domProps:{innerHTML:E._s(E.dates)}}),F("button",{staticClass:"button light-gray custom-ml-12 custom-ml-0-mobile",on:{click:function(R){E.openModal=!0}}},[E._v(" "+E._s(E.$t("setDates"))+" ")]),E.appState.webView?E._e():F("ExportButton",{staticClass:"custom-ml-12 custom-ml-8-mobile"})],1),F("div",[F("button",{staticClass:"nobutton largest custom-p-0",on:{click:E.closeDashboard}},[F("i",{staticClass:"fas fa-times gray"})])])]),F("DetailsDashboardItem",{attrs:{"item-data":E.dashboardData}}),F("portal",[E.openModal?F("Modal",[F("UpdateDetailsInterval",{on:{close:function(R){E.openModal=!1}}})],1):E._e()],1)],1):E._e()},_sfc_staticRenderFns$H=[],__component__$H=normalizeComponent(_sfc_main$H,_sfc_render$H,_sfc_staticRenderFns$H,!1,null,null,null,null);const DetailsDashboard=__component__$H.exports;function debounce(V,E){let F=null;return function(){clearTimeout(F);const R=arguments,U=this;F=setTimeout(function(){V.apply(U,R)},E)}}const InputContractor_vue_vue_type_style_index_0_scoped_3675bc11_lang="",_sfc_main$G={props:{defaultContractor:{type:Object,default:null},createNewContractor:{type:Boolean,default:!0},defaultRequest:{type:String,default:""}},data(){var V;return{inputValue:((V=this.defaultContractor)==null?void 0:V.name)||"",activeMenuIndex:null,isNewContractorMode:!1,selectedContractor:this.defaultContractor?{...this.defaultContractor,photo_url_absolute:this.defaultContractor.userpic}:null,response:[]}},watch:{selectedContractor:{handler(V){this.$emit("changeContractor",(V==null?void 0:V.id)||null)},deep:!0},inputValue(V){this.isNewContractorMode&&this.$emit("newContractor",V)},isNewContractorMode(V){this.selectedContractor=null,this.$emit("newContractor",V&&this.inputValue||null)},response(V){const E=V.find(F=>F.name===this.inputValue);E&&this.select(E)}},methods:{onInput:debounce(function(){this.resetSearch(),this.selectedContractor=null;const V=this.inputValue||this.defaultRequest;!V||api$1.get("cash.contact.search",{params:{term:V,limit:10}}).then(({data:E})=>{this.response=E}).catch(E=>{})},400),select(V){this.selectedContractor=V,this.inputValue=V.name,this.resetSearch()},resetSearch(){this.response=[],this.activeMenuIndex=null},up(){this.$refs.menu&&(this.activeMenuIndex===null?this.activeMenuIndex=this.response.length:this.activeMenuIndex>0?this.activeMenuIndex=this.activeMenuIndex-1:this.activeMenuIndex=null)},down(){this.$refs.menu&&(this.activeMenuIndex===null?this.activeMenuIndex=0:this.activeMenuIndex<this.response.length?this.activeMenuIndex=this.activeMenuIndex+1:this.activeMenuIndex=null)}}};var _sfc_render$G=function(){var R;var E=this,F=E._self._c;return F("div",{staticStyle:{position:"relative"}},[E.isNewContractorMode?F("div",{staticClass:"flexbox middle"},[E._m(0),F("input",{directives:[{name:"model",rawName:"v-model.trim",value:E.inputValue,expression:"inputValue",modifiers:{trim:!0}}],staticClass:"width-100 custom-mx-8",attrs:{type:"text"},domProps:{value:E.inputValue},on:{input:function(U){U.target.composing||(E.inputValue=U.target.value.trim())},blur:function(U){return E.$forceUpdate()}}}),F("a",{staticClass:"icon gray",staticStyle:{flex:"none"},on:{click:function(U){return U.preventDefault(),(()=>{E.inputValue="",E.isNewContractorMode=!1}).apply(null,arguments)}}},[F("i",{staticClass:"fas fa-times"})])]):F("div",{staticClass:"flexbox middle space-8"},[F("div",{staticClass:"state-with-inner-icon left width-100"},[F("input",{directives:[{name:"model",rawName:"v-model.trim",value:E.inputValue,expression:"inputValue",modifiers:{trim:!0}}],ref:"inputRef",staticClass:"full-width custom-mr-0",attrs:{type:"text",autocomplete:"off"},domProps:{value:E.inputValue},on:{input:[function(U){U.target.composing||(E.inputValue=U.target.value.trim())},E.onInput],keydown:[function(U){return!U.type.indexOf("key")&&E._k(U.keyCode,"up",38,U.key,["Up","ArrowUp"])?null:(U.preventDefault(),E.up.apply(null,arguments))},function(U){return!U.type.indexOf("key")&&E._k(U.keyCode,"down",40,U.key,["Down","ArrowDown"])?null:(U.preventDefault(),E.down.apply(null,arguments))},function(U){return!U.type.indexOf("key")&&E._k(U.keyCode,"enter",13,U.key,"Enter")?null:(()=>{E.activeMenuIndex===E.response.length?(E.resetSearch(),E.isNewContractorMode=!0):E.select(E.response[E.activeMenuIndex])}).apply(null,arguments)}],blur:[E.resetSearch,function(U){return E.$forceUpdate()}]}}),(R=E.selectedContractor)!=null&&R.photo_url_absolute?F("i",{staticClass:"icon userpic",style:`background-image: url(${E.selectedContractor.photo_url_absolute}); opacity: 1;`}):F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-user-plus"})])]),F("a",{staticClass:"icon gray",on:{click:function(U){U.preventDefault(),E.inputValue="",E.selectedContractor=null}}},[F("i",{staticClass:"fas fa-times"})])]),F("div",{staticClass:"hint custom-mt-8"},[E.isNewContractorMode?F("div",[E._v(" "+E._s(E.$t("newContact"))+" ")]):[E.inputValue===""?F("i18n",{attrs:{path:"linkContact.main"}},[E.$props.createNewContractor?F("a",{on:{click:function(U){U.preventDefault(),E.isNewContractorMode=!0}}},[E._v(E._s(E.$t("linkContact.link")))]):E._e()]):E.selectedContractor?F("div",[E._v(" "+E._s(E.$t("selectedContact"))+" ")]):!E.selectedContractor&&!E.response.length?F("i18n",{attrs:{path:"noContact.main"}},[E.$props.createNewContractor?[F("span",[E._v(". "),F("a",{on:{click:function(U){U.preventDefault(),E.isNewContractorMode=!0}}},[E._v(E._s(E.$t("noContact.link")))])])]:E._e()],2):F("div",[E._v(" \xA0 ")])]],2),E.response.length?F("ul",{ref:"menu",staticClass:"c-autocomplete-menu custom-m-0 custom-p-0 z-20",style:`top:${E.$refs.inputRef.offsetTop+E.$refs.inputRef.offsetHeight+1}px;width:${E.$refs.inputRef.offsetWidth}px;`,attrs:{tabindex:"0"}},[E._l(E.response,function(U,W){return F("li",{key:U.id,staticClass:"c-autocomplete-menu__item",class:{active:W===E.activeMenuIndex},attrs:{tabindex:"-1"},on:{mousedown:function(Y){return E.select(U)}}},[F("div",{staticClass:"small flexbox middle space-8 custom-py-8 custom-px-12"},[F("i",{staticClass:"icon userpic",style:`background-image: url(${U.photo_url_absolute}); opacity: 1;`}),F("span",[E._v(E._s(U.name))])])])}),F("li",{staticClass:"c-autocomplete-menu__item",class:{active:E.activeMenuIndex===E.response.length},on:{mousedown:()=>{E.resetSearch(),E.isNewContractorMode=!0}}},[F("div",{staticClass:"small flexbox middle space-8 custom-py-8 custom-px-12"},[E._v(" "+E._s(E.$t("createNewContact"))+" ")])])],2):E._e()])},_sfc_staticRenderFns$G=[function(){var V=this,E=V._self._c;return E("span",{staticClass:"icon gray"},[E("i",{staticClass:"fas fa-plus"})])}],__component__$G=normalizeComponent(_sfc_main$G,_sfc_render$G,_sfc_staticRenderFns$G,!1,null,"3675bc11",null,null);const InputContractor=__component__$G.exports,TransitionCollapseHeight_vue_vue_type_style_index_0_lang="",_sfc_main$F={methods:{beforeEnter:V=>{V.style.height="0"},enter:V=>{V.style.height=V.scrollHeight+"px"},beforeLeave:V=>{V.style.height=V.scrollHeight+"px"},leave:V=>{V.style.height="0"}}};var _sfc_render$F=function(){var E=this,F=E._self._c;return F("transition",{attrs:{name:"collapse"},on:{"before-enter":E.beforeEnter,enter:E.enter,"before-leave":E.beforeLeave,leave:E.leave}},[E._t("default")],2)},_sfc_staticRenderFns$F=[],__component__$F=normalizeComponent(_sfc_main$F,_sfc_render$F,_sfc_staticRenderFns$F,!1,null,null,null,null);const TransitionCollapseHeight=__component__$F.exports,entityPageMixin={created(){this.$_entityPage_entity&&(this.$route.name==="Order"&&(this.isModeUpdate||(this.model.external={source:this.$_entityPage_entity.app,id:this.$_entityPage_entity.entity_id})),this.$route.name==="Contact"&&(this.isModeUpdate||(this.model.contractor_contact={name:this.$_entityPage_entity.entity_name,userpic:this.$_entityPage_entity.entity_icon},this.model.contractor_contact_id=this.$_entityPage_entity.entity_id)))},computed:{$_entityPage_entity(){return this.$store.state.entity.entity}}},__default__$3={components:{InputCurrency,InputContractor,DateField,DropdownWa,TransitionCollapseHeight},mixins:[rowModificatorMixin,entityPageMixin],props:{transaction:{type:Object},defaultCategoryType:{type:String,default:"income"},defaultDate:{type:String},offOnbadge:{type:Boolean,default:!1}},data(){var V,E;return{transactionType:"",model:{id:null,amount:null,date:null,account_id:null,category_id:null,contractor:null,contractor_contact:null,contractor_contact_id:null,description:"",external:(V=this.transaction)!=null&&V.external_source?{source:this.transaction.external_source,id:(E=this.transaction.external_source_info)==null?void 0:E.id}:appState.shopscriptInstalled?{source:"shop",id:""}:null,is_onbadge:!1,is_repeating:!1,repeating_frequency:1,repeating_interval:"month",repeating_end_type:"never",repeating_end_after:null,repeating_end_ondate:null,transfer_account_id:null,transfer_incoming_amount:null,apply_to_all_in_future:!1,is_self_destruct_when_due:!1},custom_interval:"month",controlsDisabled:!1,showContractorInput:!1}},validations:{model:{amount:{required:validators_min.exports.required},date:{required:validators_min.exports.required},account_id:{required:validators_min.exports.required},category_id:{required:validators_min.exports.required,mustBeTheSameTransactionType:function(){var V;return((V=this.selectedCategory)==null?void 0:V.type)===this.transactionType}},repeating_frequency:{required:validators_min.exports.requiredIf(function(){return this.model.repeating_interval==="custom"}),integer:validators_min.exports.integer},repeating_end_after:{required:validators_min.exports.requiredIf(function(){return this.model.repeating_end_type==="after"}),integer:validators_min.exports.integer},transfer_account_id:{required:validators_min.exports.requiredIf(function(){return this.transactionType==="transfer"&&!this.isModeUpdate})},transfer_incoming_amount:{required:validators_min.exports.requiredIf(function(){return this.showTransferIncomingAmount})}}},computed:{...mapState("account",["accounts"]),...mapGetters({getAccountById:"account/getById",getCategoryById:"category/getById",getCategoryByType:"category/getByType"}),accountsTransfer(){return this.accounts.filter(V=>V.id!==this.model.account_id)},isModeUpdate(){return!!this.transaction},selectedAccount(){return this.getAccountById(this.model.account_id)},selectedAccountTransfer(){return this.getAccountById(this.model.transfer_account_id)},selectedCategory(){return this.getCategoryById(this.model.category_id)},showTransferIncomingAmount(){return this.transactionType==="transfer"&&this.selectedAccount&&this.selectedAccountTransfer&&this.selectedAccount.currency!==this.selectedAccountTransfer.currency},tippyContent(){return this.$t(`createdBy.${this.transaction.update_datetime?"edited":"normal"}`,{username:`${this.transaction.create_contact.firstname} ${this.transaction.create_contact.lastname}`,createDate:this.$moment(this.transaction.create_datetime).format("LLL"),...this.transaction.update_datetime&&{updateDate:this.$moment(this.transaction.update_datetime).format("LLL")}})},repeatingInfo(){return this.$tc(`repeatingInfo.interval.${this.transaction.repeating_data.interval}`,this.transaction.repeating_data.frequency,{frequency:this.transaction.repeating_data.frequency})}},watch:{"model.repeating_interval"(V){V!=="custom"&&(this.model.repeating_frequency=1)},"model.account_id"(){this.model.transfer_account_id=null,this.model.transfer_incoming_amount=null},"model.transfer_account_id"(){this.model.transfer_incoming_amount=null},"model.date"(V){new Date(V).getTime()<=new Date().getTime()&&(this.model.is_self_destruct_when_due=!1)}},created(){var V,E,F;if(!this.isModeUpdate){const R=this.$store.state.currentType;(R==="account"||R==="category")&&(this.model[`${R}_id`]=this.$store.state.currentTypeId)}if(!this.isModeUpdate&&this.accounts.length===1&&(this.model.account_id=this.accounts[0].id),this.isModeUpdate){for(const R in this.model)R in this.transaction&&(this.model[R]=this.transaction[R]);this.model.amount=`${Math.abs(this.model.amount)}`}this.transactionType=((V=this.selectedCategory)==null?void 0:V.type)||this.defaultCategoryType,this.defaultDate&&(this.model.date=this.defaultDate),this.transactionType==="transfer"&&(this.model.category_id=-1312),(((E=this.model.contractor_contact)==null?void 0:E.name)||((F=this.model.external)==null?void 0:F.id))&&(this.showContractorInput=!0),this.isModeUpdate?this.offOnbadge&&(this.model.date=this.$moment().format("YYYY-MM-DD"),this.model.is_onbadge=!1):this.$watch(R=>[R.model.date,R.model.is_repeating],()=>{this.model.is_onbadge=this.$moment(this.model.date).isAfter()||this.model.is_repeating})},methods:{async submit(V){var E;if(this.$v.$touch(),!this.$v.$invalid){this.controlsDisabled=!0;const F={...this.model};if(F.repeating_interval==="custom"&&(F.repeating_interval=this.custom_interval),this.showTransferIncomingAmount||(F.transfer_incoming_amount=this.model.amount),(E=F.external)!=null&&E.id||(F.external=null),F.external)try{const{data:R}=await api$1.get(`cash.system.getExternalEntity?source=shop&id=${F.external.id}`);R.entity_id&&(F.external.id=R.entity_id)}catch{this.$store.commit("errors/error",{title:"error.api",method:"",message:this.$t("orderNotFound")});return}finally{this.controlsDisabled=!1}this.$store.dispatch("transaction/update",F).then(()=>{V.shiftKey?this.$parent.$emit("reOpen"):(this.close(),this.model.id||window.scrollTo({top:0,behavior:"smooth"}))}).catch(R=>{this.$store.commit("errors/error",{title:"error.api",method:"",message:this.$t("orderNotFound")})}).finally(()=>{this.controlsDisabled=!1})}},remove(){confirm(this.$t("transactionDeleteWarning"))&&(this.controlsDisabled=!0,this.$store.dispatch("transaction/delete",{id:this.model.id,all_repeating:this.model.apply_to_all_in_future}).then(()=>{this.close()}).finally(()=>{this.controlsDisabled=!1}))},close(){this.$parent.$emit("close")}}},_sfc_main$E=Object.assign(__default__$3,{__name:"AddTransaction",setup(V){return{__sfc:!0,mapState,mapGetters,required:validators_min.exports.required,requiredIf:validators_min.exports.requiredIf,integer:validators_min.exports.integer,InputCurrency,InputContractor,DateField,DropdownWa,TransitionCollapseHeight,rowModificatorMixin,entityPageMixin,api:api$1,appState}}});var _sfc_render$E=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F("div",{staticClass:"dialog-body",staticStyle:{width:"750px"}},[F("div",{staticClass:"dialog-header"},[F("div",{staticClass:"flexbox middle wrap-mobile"},[F("div",{staticClass:"wide flexbox middle"},[E.transactionType==="transfer"&&!E.isModeUpdate?F("h2",{staticClass:"custom-mb-0"},[E._v(" "+E._s(E.$t("newTransfer"))+" ")]):F("h2",{staticClass:"custom-mb-0"},[E._v(" "+E._s(E.isModeUpdate?E.$t("updateTransaction"):E.$t("addTransaction"))+" ")]),E.isModeUpdate&&E.transaction.repeating_id?F("span",{staticClass:"custom-ml-8 larger",attrs:{title:E.$t("repeatingTran")}},[F("i",{staticClass:"fas fa-redo opacity-30"})]):E._e()]),E.isModeUpdate&&E.transaction.create_contact_id?F("div",[F("span",{directives:[{name:"wa-tippy",rawName:"v-wa-tippy",value:E.tippyContent,expression:"tippyContent"}],staticClass:"icon userpic size-32"},[F("img",{attrs:{src:E.transaction.create_contact.userpic,alt:""}})])]):E._e(),E.isModeUpdate?E._e():F("div",{staticClass:"toggle custom-mt-8"},E._l(["income","expense",...E.accounts.length>1?["transfer"]:[]],function(U,W){return F("span",{key:W,class:{selected:E.transactionType===U},on:{click:function(Y){E.transactionType=U}}},[E._v(E._s(E.$t(U)))])}),0)])]),F("div",{staticClass:"dialog-content"},[F("div",{staticClass:"flexbox space-24 wrap-mobile reverse-mobile"},[F("div",{staticClass:"custom-mt-24-mobile",staticStyle:{flex:"0"}},[F("div",{staticClass:"custom-mb-16 c-inline-calendar"},[F(R.DateField,{class:{"state-error":E.$v.model.date.$error},attrs:{inline:!0,disabled:E.model.apply_to_all_in_future},model:{value:E.model.date,callback:function(U){E.$set(E.model,"date",U)},expression:"model.date"}})],1),F("div",{staticClass:"custom-mb-16"},[F("i18n",{attrs:{path:"transactionDate"},scopedSlots:E._u([{key:"date",fn:function(){return[F("strong",[E._v(E._s(E.$moment(E.model.date).format("LL")))])]},proxy:!0}])})],1),F("div",[F("label",{on:{click:function(U){U.preventDefault(),E.model.is_onbadge=!E.model.is_onbadge}}},[F("span",{staticClass:"wa-checkbox"},[F("input",{attrs:{type:"checkbox"},domProps:{checked:E.model.is_onbadge}}),E._m(0)]),E._v(" "+E._s(E.$t("notifyMe"))+" "),E.model.is_onbadge?F("span",[F("span",{staticClass:"badge smaller"},[E._v("1")]),E._v("\xA0")]):E._e(),F("span",{directives:[{name:"wa-tippy",rawName:"v-wa-tippy",value:E.$t("notifyMeAlert"),expression:"$t('notifyMeAlert')"}]},[F("i",{staticClass:"fas fa-info-circle opacity-40"})])])]),new Date(E.model.date).getTime()>new Date().getTime()||E.model.is_repeating?F("div",{staticClass:"custom-mt-16"},[F("label",{on:{click:function(U){U.preventDefault(),E.model.is_self_destruct_when_due=!E.model.is_self_destruct_when_due}}},[F("span",{staticClass:"wa-checkbox"},[F("input",{attrs:{type:"checkbox"},domProps:{checked:E.model.is_self_destruct_when_due}}),E._m(1)]),E._v(" "+E._s(E.$t("selfDestructLabel"))+" "),F("span",{directives:[{name:"wa-tippy",rawName:"v-wa-tippy",value:E.$t("selfDestructText"),expression:"$t('selfDestructText')"}]},[F("i",{staticClass:"fas fa-info-circle opacity-40"})])])]):E._e()]),F("div",{staticClass:"wide"},[F("div",{staticClass:"custom-mb-16"},[F(R.InputCurrency,{staticClass:"larger",attrs:{signed:!1,"category-id":E.model.category_id,"account-id":E.model.account_id,error:E.$v.model.amount.$error,"transaction-type":E.transactionType,focused:!0,placeholder:"0"},on:{keyEnter:E.submit},model:{value:E.model.amount,callback:function(U){E.$set(E.model,"amount",U)},expression:"model.amount"}})],1),F("div",{staticClass:"flexbox middle custom-mb-16"},[E.transactionType!=="transfer"?F("div",{staticClass:"width-50"},[F(R.DropdownWa,{staticClass:"width-100",attrs:{error:E.$v.model.category_id.$error,label:E.$t("category"),items:E.getCategoryByType(E.transactionType),"value-prop-name":"id","row-modificator":E.$_rowModificatorMixin_rowModificator_category,"max-height":200},model:{value:E.model.category_id,callback:function(U){E.$set(E.model,"category_id",U)},expression:"model.category_id"}})],1):E._e(),E.transactionType!=="transfer"?F("div",{staticClass:"custom-px-8 gray",style:E.transactionType==="expense"?"transform: rotate(180deg);":""},[F("i",{staticClass:"fas fa-arrow-right"})]):E._e(),F("div",{class:E.transactionType==="transfer"&&E.isModeUpdate?"width-100":"width-50"},[F(R.DropdownWa,{staticClass:"width-100",attrs:{error:E.$v.model.account_id.$error,label:E.transactionType==="transfer"&&E.isModeUpdate?E.$t("account"):E.transactionType==="transfer"||E.transactionType==="expense"?E.$t("fromAccount"):E.$t("toAccount"),items:E.accounts,"value-prop-name":"id","row-modificator":E.$_rowModificatorMixin_rowModificator_account,"is-right":E.transactionType!=="transfer","max-height":200},model:{value:E.model.account_id,callback:function(U){E.$set(E.model,"account_id",U)},expression:"model.account_id"}})],1),E.transactionType==="transfer"&&!E.isModeUpdate?F("div",{staticClass:"custom-px-8 gray"},[F("i",{staticClass:"fas fa-arrow-right"})]):E._e(),E.transactionType==="transfer"&&!E.isModeUpdate?F("div",{staticClass:"width-50"},[F(R.DropdownWa,{staticClass:"width-100",attrs:{error:E.$v.model.transfer_account_id.$error,label:E.$t("toAccount"),items:E.accountsTransfer,"value-prop-name":"id","row-modificator":E.$_rowModificatorMixin_rowModificator_account,"is-right":!0,"max-height":200},model:{value:E.model.transfer_account_id,callback:function(U){E.$set(E.model,"transfer_account_id",U)},expression:"model.transfer_account_id"}})],1):E._e()]),F(R.TransitionCollapseHeight,[E.showTransferIncomingAmount?F("div",{staticClass:"custom-mb-16"},[F(R.InputCurrency,{attrs:{signed:!1,"currency-code":E.selectedAccountTransfer.currency,error:E.$v.model.transfer_incoming_amount.$error,placeholder:"0"},model:{value:E.model.transfer_incoming_amount,callback:function(U){E.$set(E.model,"transfer_incoming_amount",U)},expression:"model.transfer_incoming_amount"}}),F("div",{staticClass:"state-caution-hint custom-mt-8 custom-mb-0"},[F("i",{staticClass:"fas fa-exclamation-triangle"}),F("strong",[E._v(" "+E._s(E.selectedAccount.currency)+" \u2192 "+E._s(E.selectedAccountTransfer.currency)+". ")]),E._v(" "+E._s(E.$t("transferMessage"))+" ")])],1):E._e()]),E.transactionType!=="transfer"?F("div",{staticClass:"custom-mb-16"},[E.showContractorInput?E._e():F("div",[E._v(" "+E._s(E.$t("specify"))+" "),F("a",{on:{click:function(U){U.preventDefault(),E.showContractorInput=!0}}},[E._v(E._s(E.transactionType==="expense"?E.$t("recipient"):E.$t("payee"))+E._s(R.appState.shopscriptInstalled?` ${E.$t("orOrder")}`:""))])]),E.showContractorInput?F("div",[F(R.InputContractor,{attrs:{"default-request":`category_id/${E.model.category_id}`,"default-contractor":E.model.contractor_contact_id?{id:E.model.contractor_contact_id,...E.model.contractor_contact}:null},on:{newContractor:U=>{E.model.contractor=U},changeContractor:U=>{E.model.contractor_contact_id=U}}}),E.model.external?F("div",{staticClass:"custom-my-16 flexbox middle space-8"},[F("div",{staticClass:"state-with-inner-icon left width-100"},[F("input",{directives:[{name:"model",rawName:"v-model",value:E.model.external.id,expression:"model.external.id"}],staticClass:"width-100",attrs:{type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');",placeholder:E.$t("orderNumber")},domProps:{value:E.model.external.id},on:{input:function(U){U.target.composing||E.$set(E.model.external,"id",U.target.value)}}}),F("span",{staticClass:"icon",staticStyle:{opacity:"1"}},[F("img",{attrs:{src:`${R.appState.baseStaticUrl}img/shop.svg`,alt:""}})])]),F("a",{staticClass:"icon gray",on:{click:function(U){U.preventDefault(),E.model.external.id=""}}},[F("i",{staticClass:"fas fa-times"})])]):E._e()],1):E._e()]):E._e(),F("div",{staticClass:"custom-mb-16"},[F("textarea",{directives:[{name:"model",rawName:"v-model",value:E.model.description,expression:"model.description"}],staticClass:"width-100",staticStyle:{resize:"none",height:"auto"},attrs:{rows:"3",placeholder:E.$t("desc")},domProps:{value:E.model.description},on:{input:function(U){U.target.composing||E.$set(E.model,"description",U.target.value)}}}),E._v(" "),E.isModeUpdate?F("div",{staticClass:"custom-mt-8"},[E.transaction.external_source_info?F("div",{staticClass:"flexbox middle space-8"},[E.transaction.external_source_info.entity_icon?F("span",{staticClass:"icon size-20"},[F("img",{attrs:{src:E.transaction.external_source_info.entity_icon,alt:""}})]):E._e(),E.transaction.external_source!=="shop"?F("a",{staticClass:"small",attrs:{href:E.transaction.external_source_info.entity_url,target:"_blank"}},[E._v(E._s(E.transaction.external_source_info.entity_name))]):F("RouterLink",{attrs:{to:{name:"Order",params:{id:E.transaction.external_source_info.id}}}},[E._v(" "+E._s(E.transaction.external_source_info.entity_name)+" ")])],1):E._e(),E.model.contractor_contact?F("div",{staticClass:"flexbox middle space-8 custom-mt-8"},[F("span",{staticClass:"icon size-20"},[F("img",{staticClass:"userpic",attrs:{src:E.model.contractor_contact.userpic,alt:""}})]),F("RouterLink",{attrs:{to:{name:"Contact",params:{id:E.model.contractor_contact_id}}}},[E._v(" "+E._s(E.model.contractor_contact.name)+" ")])],1):E._e()]):E._e()]),E.isModeUpdate&&E.transaction.repeating_id?F("div",[F("div",{staticClass:"custom-mb-8"},[F("label",[F("span",{staticClass:"wa-radio"},[F("input",{directives:[{name:"model",rawName:"v-model",value:E.model.apply_to_all_in_future,expression:"model.apply_to_all_in_future"}],attrs:{type:"radio"},domProps:{value:!1,checked:E._q(E.model.apply_to_all_in_future,!1)},on:{change:function(U){return E.$set(E.model,"apply_to_all_in_future",!1)}}}),F("span")]),F("span",{staticClass:"small custom-ml-4"},[E._v(E._s(E.$t("applyTo.list[0]")))])])]),F("div",{staticClass:"custom-mb-8"},[F("label",[F("span",{staticClass:"wa-radio"},[F("input",{directives:[{name:"model",rawName:"v-model",value:E.model.apply_to_all_in_future,expression:"model.apply_to_all_in_future"}],attrs:{type:"radio"},domProps:{value:!0,checked:E._q(E.model.apply_to_all_in_future,!0)},on:{change:function(U){return E.$set(E.model,"apply_to_all_in_future",!0)}}}),F("span")]),F("span",{staticClass:"small custom-ml-4"},[E._v(E._s(E.$t("applyTo.list[1]")))])])]),F("span",{staticClass:"badge gray squared small"},[E._v(E._s(E.repeatingInfo))])]):E._e(),E.isModeUpdate&&E.transaction.repeating_id?E._e():F("div",[F("div",{staticClass:"toggle"},[F("span",{class:{selected:!E.model.is_repeating},on:{click:function(U){E.model.is_repeating=!1}}},[E._v(E._s(E.$t("oneTime")))]),F("span",{class:{selected:E.model.is_repeating},on:{click:function(U){E.model.is_repeating=!0}}},[E._v(E._s(E.$t("repeating")))])])]),F(R.TransitionCollapseHeight,[E.model.is_repeating?F("div",{staticClass:"custom-mt-16"},[F("div",{staticClass:"wa-select small solid"},[F("select",{directives:[{name:"model",rawName:"v-model",value:E.model.repeating_interval,expression:"model.repeating_interval"}],on:{change:function(U){var W=Array.prototype.filter.call(U.target.options,function(Y){return Y.selected}).map(function(Y){var G="_value"in Y?Y._value:Y.value;return G});E.$set(E.model,"repeating_interval",U.target.multiple?W:W[0])}}},[F("option",{attrs:{value:"month"}},[E._v(" "+E._s(E.$t("howOften.list[0]"))+" ")]),F("option",{attrs:{value:"day"}},[E._v(" "+E._s(E.$t("howOften.list[1]"))+" ")]),F("option",{attrs:{value:"week"}},[E._v(" "+E._s(E.$t("howOften.list[2]"))+" ")]),F("option",{attrs:{value:"year"}},[E._v(" "+E._s(E.$t("howOften.list[3]"))+" ")]),F("option",{attrs:{value:"custom"}},[E._v(" "+E._s(E.$t("howOften.list[4]"))+" ")])])])]):E._e()]),F(R.TransitionCollapseHeight,[E.model.is_repeating&&E.model.repeating_interval==="custom"?F("div",{staticClass:"custom-mt-16"},[F("span",{staticClass:"small"},[E._v(E._s(E.$t("howOften.every")))]),F("input",{directives:[{name:"model",rawName:"v-model.number",value:E.model.repeating_frequency,expression:"model.repeating_frequency",modifiers:{number:!0}}],staticClass:"shortest small custom-ml-4 number",class:{"state-error":E.$v.model.repeating_frequency.$error},attrs:{type:"text"},domProps:{value:E.model.repeating_frequency},on:{input:function(U){U.target.composing||E.$set(E.model,"repeating_frequency",E._n(U.target.value))},blur:function(U){return E.$forceUpdate()}}}),F("div",{staticClass:"wa-select small solid custom-ml-8"},[F("select",{directives:[{name:"model",rawName:"v-model",value:E.custom_interval,expression:"custom_interval"}],on:{change:function(U){var W=Array.prototype.filter.call(U.target.options,function(Y){return Y.selected}).map(function(Y){var G="_value"in Y?Y._value:Y.value;return G});E.custom_interval=U.target.multiple?W:W[0]}}},[F("option",{attrs:{value:"month"}},[E._v(" "+E._s(E.$t("howOften.list_short[0]"))+" ")]),F("option",{attrs:{value:"day"}},[E._v(" "+E._s(E.$t("howOften.list_short[1]"))+" ")]),F("option",{attrs:{value:"week"}},[E._v(" "+E._s(E.$t("howOften.list_short[2]"))+" ")]),F("option",{attrs:{value:"year"}},[E._v(" "+E._s(E.$t("howOften.list_short[3]"))+" ")])])])]):E._e()]),F(R.TransitionCollapseHeight,[E.model.is_repeating?F("div",{staticClass:"custom-mt-16"},[F("div",{staticClass:"wa-select small solid"},[F("select",{directives:[{name:"model",rawName:"v-model",value:E.model.repeating_end_type,expression:"model.repeating_end_type"}],on:{change:function(U){var W=Array.prototype.filter.call(U.target.options,function(Y){return Y.selected}).map(function(Y){var G="_value"in Y?Y._value:Y.value;return G});E.$set(E.model,"repeating_end_type",U.target.multiple?W:W[0])}}},[F("option",{attrs:{value:"never"}},[E._v(" "+E._s(E.$t("endRepeat.list[0]"))+" ")]),F("option",{attrs:{value:"after"}},[E._v(" "+E._s(E.$t("endRepeat.list[1]"))+" ")]),F("option",{attrs:{value:"ondate"}},[E._v(" "+E._s(E.$t("endRepeat.list[2]"))+" ")])])])]):E._e()]),F(R.TransitionCollapseHeight,[E.model.is_repeating&&E.model.repeating_end_type!=="never"?F("div",{staticClass:"custom-mt-16"},[E.model.repeating_end_type==="ondate"?F("div",{staticClass:"state-with-inner-icon left small"},[F(R.DateField,{model:{value:E.model.repeating_end_ondate,callback:function(U){E.$set(E.model,"repeating_end_ondate",U)},expression:"model.repeating_end_ondate"}}),F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-calendar"})])],1):E._e(),E.model.repeating_end_type==="after"?F("div",[F("input",{directives:[{name:"model",rawName:"v-model.number",value:E.model.repeating_end_after,expression:"model.repeating_end_after",modifiers:{number:!0}}],staticClass:"shortest small number",class:{"state-error":E.$v.model.repeating_end_after.$error},attrs:{type:"text"},domProps:{value:E.model.repeating_end_after},on:{input:function(U){U.target.composing||E.$set(E.model,"repeating_end_after",E._n(U.target.value))},blur:function(U){return E.$forceUpdate()}}}),F("span",{staticClass:"small custom-ml-8"},[E._v(E._s(E.$t("endRepeat.occurrences")))])]):E._e()]):E._e()])],1)])]),F("div",{staticClass:"dialog-footer"},[F("div",{staticClass:"flexbox"},[F("div",{staticClass:"flexbox space-12 wide"},[F("button",{staticClass:"button",class:{"c-button-add-expense":E.transactionType==="expense","c-button-add-income":E.transactionType==="income"},style:E.selectedCategory&&{"background-color":E.selectedCategory.color},attrs:{disabled:E.controlsDisabled},on:{click:E.submit}},[E._v(" "+E._s(E.isModeUpdate?E.model.apply_to_all_in_future?E.$t("updateAll"):E.$t("update"):E.$t("add"))+" ")]),F("button",{staticClass:"button light-gray",on:{click:E.close}},[E._v(" "+E._s(E.$t("cancel"))+" ")])]),E.isModeUpdate?F("button",{staticClass:"button red outlined",attrs:{disabled:E.controlsDisabled},on:{click:E.remove}},[F("span",[E._v(E._s(E.model.apply_to_all_in_future?E.$t("deleteAll"):E.$t("delete")))])]):E._e()])])])},_sfc_staticRenderFns$E=[function(){var V=this,E=V._self._c;return V._self._setupProxy,E("span",[E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-check"})])])},function(){var V=this,E=V._self._c;return V._self._setupProxy,E("span",[E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-check"})])])}],__component__$E=normalizeComponent(_sfc_main$E,_sfc_render$E,_sfc_staticRenderFns$E,!1,null,null,null,null);const AddTransaction=__component__$E.exports,min=Math.min,max=Math.max,round=Math.round,createCoords=V=>({x:V,y:V}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(V,E,F){return max(V,min(E,F))}function evaluate(V,E){return typeof V=="function"?V(E):V}function getSide(V){return V.split("-")[0]}function getAlignment(V){return V.split("-")[1]}function getOppositeAxis(V){return V==="x"?"y":"x"}function getAxisLength(V){return V==="y"?"height":"width"}function getSideAxis(V){return["top","bottom"].includes(getSide(V))?"y":"x"}function getAlignmentAxis(V){return getOppositeAxis(getSideAxis(V))}function getAlignmentSides(V,E,F){F===void 0&&(F=!1);const R=getAlignment(V),U=getAlignmentAxis(V),W=getAxisLength(U);let Y=U==="x"?R===(F?"end":"start")?"right":"left":R==="start"?"bottom":"top";return E.reference[W]>E.floating[W]&&(Y=getOppositePlacement(Y)),[Y,getOppositePlacement(Y)]}function getExpandedPlacements(V){const E=getOppositePlacement(V);return[getOppositeAlignmentPlacement(V),E,getOppositeAlignmentPlacement(E)]}function getOppositeAlignmentPlacement(V){return V.replace(/start|end/g,E=>oppositeAlignmentMap[E])}function getSideList(V,E,F){const R=["left","right"],U=["right","left"],W=["top","bottom"],Y=["bottom","top"];switch(V){case"top":case"bottom":return F?E?U:R:E?R:U;case"left":case"right":return E?W:Y;default:return[]}}function getOppositeAxisPlacements(V,E,F,R){const U=getAlignment(V);let W=getSideList(getSide(V),F==="start",R);return U&&(W=W.map(Y=>Y+"-"+U),E&&(W=W.concat(W.map(getOppositeAlignmentPlacement)))),W}function getOppositePlacement(V){return V.replace(/left|right|bottom|top/g,E=>oppositeSideMap[E])}function expandPaddingObject(V){return{top:0,right:0,bottom:0,left:0,...V}}function getPaddingObject(V){return typeof V!="number"?expandPaddingObject(V):{top:V,right:V,bottom:V,left:V}}function rectToClientRect(V){return{...V,top:V.y,left:V.x,right:V.x+V.width,bottom:V.y+V.height}}function computeCoordsFromPlacement(V,E,F){let{reference:R,floating:U}=V;const W=getSideAxis(E),Y=getAlignmentAxis(E),G=getAxisLength(Y),X=getSide(E),K=W==="y",Z=R.x+R.width/2-U.width/2,J=R.y+R.height/2-U.height/2,Q=R[G]/2-U[G]/2;let ee;switch(X){case"top":ee={x:Z,y:R.y-U.height};break;case"bottom":ee={x:Z,y:R.y+R.height};break;case"right":ee={x:R.x+R.width,y:J};break;case"left":ee={x:R.x-U.width,y:J};break;default:ee={x:R.x,y:R.y}}switch(getAlignment(E)){case"start":ee[Y]-=Q*(F&&K?-1:1);break;case"end":ee[Y]+=Q*(F&&K?-1:1);break}return ee}const computePosition$1=async(V,E,F)=>{const{placement:R="bottom",strategy:U="absolute",middleware:W=[],platform:Y}=F,G=W.filter(Boolean),X=await(Y.isRTL==null?void 0:Y.isRTL(E));let K=await Y.getElementRects({reference:V,floating:E,strategy:U}),{x:Z,y:J}=computeCoordsFromPlacement(K,R,X),Q=R,ee={},te=0;for(let ie=0;ie<G.length;ie++){const{name:re,fn:ne}=G[ie],{x:ae,y:se,data:le,reset:oe}=await ne({x:Z,y:J,initialPlacement:R,placement:Q,strategy:U,middlewareData:ee,rects:K,platform:Y,elements:{reference:V,floating:E}});if(Z=ae!=null?ae:Z,J=se!=null?se:J,ee={...ee,[re]:{...ee[re],...le}},oe&&te<=50){te++,typeof oe=="object"&&(oe.placement&&(Q=oe.placement),oe.rects&&(K=oe.rects===!0?await Y.getElementRects({reference:V,floating:E,strategy:U}):oe.rects),{x:Z,y:J}=computeCoordsFromPlacement(K,Q,X)),ie=-1;continue}}return{x:Z,y:J,placement:Q,strategy:U,middlewareData:ee}};async function detectOverflow(V,E){var F;E===void 0&&(E={});const{x:R,y:U,platform:W,rects:Y,elements:G,strategy:X}=V,{boundary:K="clippingAncestors",rootBoundary:Z="viewport",elementContext:J="floating",altBoundary:Q=!1,padding:ee=0}=evaluate(E,V),te=getPaddingObject(ee),re=G[Q?J==="floating"?"reference":"floating":J],ne=rectToClientRect(await W.getClippingRect({element:(F=await(W.isElement==null?void 0:W.isElement(re)))==null||F?re:re.contextElement||await(W.getDocumentElement==null?void 0:W.getDocumentElement(G.floating)),boundary:K,rootBoundary:Z,strategy:X})),ae=J==="floating"?{...Y.floating,x:R,y:U}:Y.reference,se=await(W.getOffsetParent==null?void 0:W.getOffsetParent(G.floating)),le=await(W.isElement==null?void 0:W.isElement(se))?await(W.getScale==null?void 0:W.getScale(se))||{x:1,y:1}:{x:1,y:1},oe=rectToClientRect(W.convertOffsetParentRelativeRectToViewportRelativeRect?await W.convertOffsetParentRelativeRectToViewportRelativeRect({rect:ae,offsetParent:se,strategy:X}):ae);return{top:(ne.top-oe.top+te.top)/le.y,bottom:(oe.bottom-ne.bottom+te.bottom)/le.y,left:(ne.left-oe.left+te.left)/le.x,right:(oe.right-ne.right+te.right)/le.x}}const flip=function(V){return V===void 0&&(V={}),{name:"flip",options:V,async fn(E){var F,R;const{placement:U,middlewareData:W,rects:Y,initialPlacement:G,platform:X,elements:K}=E,{mainAxis:Z=!0,crossAxis:J=!0,fallbackPlacements:Q,fallbackStrategy:ee="bestFit",fallbackAxisSideDirection:te="none",flipAlignment:ie=!0,...re}=evaluate(V,E);if((F=W.arrow)!=null&&F.alignmentOffset)return{};const ne=getSide(U),ae=getSide(G)===G,se=await(X.isRTL==null?void 0:X.isRTL(K.floating)),le=Q||(ae||!ie?[getOppositePlacement(G)]:getExpandedPlacements(G));!Q&&te!=="none"&&le.push(...getOppositeAxisPlacements(G,ie,te,se));const oe=[G,...le],ue=await detectOverflow(E,re),ce=[];let he=((R=W.flip)==null?void 0:R.overflows)||[];if(Z&&ce.push(ue[ne]),J){const fe=getAlignmentSides(U,Y,se);ce.push(ue[fe[0]],ue[fe[1]])}if(he=[...he,{placement:U,overflows:ce}],!ce.every(fe=>fe<=0)){var me,Pe;const fe=(((me=W.flip)==null?void 0:me.index)||0)+1,ye=oe[fe];if(ye)return{data:{index:fe,overflows:he},reset:{placement:ye}};let _e=(Pe=he.filter(ve=>ve.overflows[0]<=0).sort((ve,ge)=>ve.overflows[1]-ge.overflows[1])[0])==null?void 0:Pe.placement;if(!_e)switch(ee){case"bestFit":{var we;const ve=(we=he.map(ge=>[ge.placement,ge.overflows.filter(be=>be>0).reduce((be,xe)=>be+xe,0)]).sort((ge,be)=>ge[1]-be[1])[0])==null?void 0:we[0];ve&&(_e=ve);break}case"initialPlacement":_e=G;break}if(U!==_e)return{reset:{placement:_e}}}return{}}}},shift=function(V){return V===void 0&&(V={}),{name:"shift",options:V,async fn(E){const{x:F,y:R,placement:U}=E,{mainAxis:W=!0,crossAxis:Y=!1,limiter:G={fn:re=>{let{x:ne,y:ae}=re;return{x:ne,y:ae}}},...X}=evaluate(V,E),K={x:F,y:R},Z=await detectOverflow(E,X),J=getSideAxis(getSide(U)),Q=getOppositeAxis(J);let ee=K[Q],te=K[J];if(W){const re=Q==="y"?"top":"left",ne=Q==="y"?"bottom":"right",ae=ee+Z[re],se=ee-Z[ne];ee=clamp(ae,ee,se)}if(Y){const re=J==="y"?"top":"left",ne=J==="y"?"bottom":"right",ae=te+Z[re],se=te-Z[ne];te=clamp(ae,te,se)}const ie=G.fn({...E,[Q]:ee,[J]:te});return{...ie,data:{x:ie.x-F,y:ie.y-R}}}}};function getNodeName(V){return isNode(V)?(V.nodeName||"").toLowerCase():"#document"}function getWindow(V){var E;return(V==null||(E=V.ownerDocument)==null?void 0:E.defaultView)||window}function getDocumentElement(V){var E;return(E=(isNode(V)?V.ownerDocument:V.document)||window.document)==null?void 0:E.documentElement}function isNode(V){return V instanceof Node||V instanceof getWindow(V).Node}function isElement(V){return V instanceof Element||V instanceof getWindow(V).Element}function isHTMLElement(V){return V instanceof HTMLElement||V instanceof getWindow(V).HTMLElement}function isShadowRoot(V){return typeof ShadowRoot>"u"?!1:V instanceof ShadowRoot||V instanceof getWindow(V).ShadowRoot}function isOverflowElement(V){const{overflow:E,overflowX:F,overflowY:R,display:U}=getComputedStyle$1(V);return/auto|scroll|overlay|hidden|clip/.test(E+R+F)&&!["inline","contents"].includes(U)}function isTableElement(V){return["table","td","th"].includes(getNodeName(V))}function isContainingBlock(V){const E=isWebKit(),F=getComputedStyle$1(V);return F.transform!=="none"||F.perspective!=="none"||(F.containerType?F.containerType!=="normal":!1)||!E&&(F.backdropFilter?F.backdropFilter!=="none":!1)||!E&&(F.filter?F.filter!=="none":!1)||["transform","perspective","filter"].some(R=>(F.willChange||"").includes(R))||["paint","layout","strict","content"].some(R=>(F.contain||"").includes(R))}function getContainingBlock(V){let E=getParentNode(V);for(;isHTMLElement(E)&&!isLastTraversableNode(E);){if(isContainingBlock(E))return E;E=getParentNode(E)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(V){return["html","body","#document"].includes(getNodeName(V))}function getComputedStyle$1(V){return getWindow(V).getComputedStyle(V)}function getNodeScroll(V){return isElement(V)?{scrollLeft:V.scrollLeft,scrollTop:V.scrollTop}:{scrollLeft:V.pageXOffset,scrollTop:V.pageYOffset}}function getParentNode(V){if(getNodeName(V)==="html")return V;const E=V.assignedSlot||V.parentNode||isShadowRoot(V)&&V.host||getDocumentElement(V);return isShadowRoot(E)?E.host:E}function getNearestOverflowAncestor(V){const E=getParentNode(V);return isLastTraversableNode(E)?V.ownerDocument?V.ownerDocument.body:V.body:isHTMLElement(E)&&isOverflowElement(E)?E:getNearestOverflowAncestor(E)}function getOverflowAncestors(V,E,F){var R;E===void 0&&(E=[]),F===void 0&&(F=!0);const U=getNearestOverflowAncestor(V),W=U===((R=V.ownerDocument)==null?void 0:R.body),Y=getWindow(U);return W?E.concat(Y,Y.visualViewport||[],isOverflowElement(U)?U:[],Y.frameElement&&F?getOverflowAncestors(Y.frameElement):[]):E.concat(U,getOverflowAncestors(U,[],F))}function getCssDimensions(V){const E=getComputedStyle$1(V);let F=parseFloat(E.width)||0,R=parseFloat(E.height)||0;const U=isHTMLElement(V),W=U?V.offsetWidth:F,Y=U?V.offsetHeight:R,G=round(F)!==W||round(R)!==Y;return G&&(F=W,R=Y),{width:F,height:R,$:G}}function unwrapElement$1(V){return isElement(V)?V:V.contextElement}function getScale(V){const E=unwrapElement$1(V);if(!isHTMLElement(E))return createCoords(1);const F=E.getBoundingClientRect(),{width:R,height:U,$:W}=getCssDimensions(E);let Y=(W?round(F.width):F.width)/R,G=(W?round(F.height):F.height)/U;return(!Y||!Number.isFinite(Y))&&(Y=1),(!G||!Number.isFinite(G))&&(G=1),{x:Y,y:G}}const noOffsets=createCoords(0);function getVisualOffsets(V){const E=getWindow(V);return!isWebKit()||!E.visualViewport?noOffsets:{x:E.visualViewport.offsetLeft,y:E.visualViewport.offsetTop}}function shouldAddVisualOffsets(V,E,F){return E===void 0&&(E=!1),!F||E&&F!==getWindow(V)?!1:E}function getBoundingClientRect(V,E,F,R){E===void 0&&(E=!1),F===void 0&&(F=!1);const U=V.getBoundingClientRect(),W=unwrapElement$1(V);let Y=createCoords(1);E&&(R?isElement(R)&&(Y=getScale(R)):Y=getScale(V));const G=shouldAddVisualOffsets(W,F,R)?getVisualOffsets(W):createCoords(0);let X=(U.left+G.x)/Y.x,K=(U.top+G.y)/Y.y,Z=U.width/Y.x,J=U.height/Y.y;if(W){const Q=getWindow(W),ee=R&&isElement(R)?getWindow(R):R;let te=Q.frameElement;for(;te&&R&&ee!==Q;){const ie=getScale(te),re=te.getBoundingClientRect(),ne=getComputedStyle$1(te),ae=re.left+(te.clientLeft+parseFloat(ne.paddingLeft))*ie.x,se=re.top+(te.clientTop+parseFloat(ne.paddingTop))*ie.y;X*=ie.x,K*=ie.y,Z*=ie.x,J*=ie.y,X+=ae,K+=se,te=getWindow(te).frameElement}}return rectToClientRect({width:Z,height:J,x:X,y:K})}function convertOffsetParentRelativeRectToViewportRelativeRect(V){let{rect:E,offsetParent:F,strategy:R}=V;const U=isHTMLElement(F),W=getDocumentElement(F);if(F===W)return E;let Y={scrollLeft:0,scrollTop:0},G=createCoords(1);const X=createCoords(0);if((U||!U&&R!=="fixed")&&((getNodeName(F)!=="body"||isOverflowElement(W))&&(Y=getNodeScroll(F)),isHTMLElement(F))){const K=getBoundingClientRect(F);G=getScale(F),X.x=K.x+F.clientLeft,X.y=K.y+F.clientTop}return{width:E.width*G.x,height:E.height*G.y,x:E.x*G.x-Y.scrollLeft*G.x+X.x,y:E.y*G.y-Y.scrollTop*G.y+X.y}}function getClientRects(V){return Array.from(V.getClientRects())}function getWindowScrollBarX(V){return getBoundingClientRect(getDocumentElement(V)).left+getNodeScroll(V).scrollLeft}function getDocumentRect(V){const E=getDocumentElement(V),F=getNodeScroll(V),R=V.ownerDocument.body,U=max(E.scrollWidth,E.clientWidth,R.scrollWidth,R.clientWidth),W=max(E.scrollHeight,E.clientHeight,R.scrollHeight,R.clientHeight);let Y=-F.scrollLeft+getWindowScrollBarX(V);const G=-F.scrollTop;return getComputedStyle$1(R).direction==="rtl"&&(Y+=max(E.clientWidth,R.clientWidth)-U),{width:U,height:W,x:Y,y:G}}function getViewportRect(V,E){const F=getWindow(V),R=getDocumentElement(V),U=F.visualViewport;let W=R.clientWidth,Y=R.clientHeight,G=0,X=0;if(U){W=U.width,Y=U.height;const K=isWebKit();(!K||K&&E==="fixed")&&(G=U.offsetLeft,X=U.offsetTop)}return{width:W,height:Y,x:G,y:X}}function getInnerBoundingClientRect(V,E){const F=getBoundingClientRect(V,!0,E==="fixed"),R=F.top+V.clientTop,U=F.left+V.clientLeft,W=isHTMLElement(V)?getScale(V):createCoords(1),Y=V.clientWidth*W.x,G=V.clientHeight*W.y,X=U*W.x,K=R*W.y;return{width:Y,height:G,x:X,y:K}}function getClientRectFromClippingAncestor(V,E,F){let R;if(E==="viewport")R=getViewportRect(V,F);else if(E==="document")R=getDocumentRect(getDocumentElement(V));else if(isElement(E))R=getInnerBoundingClientRect(E,F);else{const U=getVisualOffsets(V);R={...E,x:E.x-U.x,y:E.y-U.y}}return rectToClientRect(R)}function hasFixedPositionAncestor(V,E){const F=getParentNode(V);return F===E||!isElement(F)||isLastTraversableNode(F)?!1:getComputedStyle$1(F).position==="fixed"||hasFixedPositionAncestor(F,E)}function getClippingElementAncestors(V,E){const F=E.get(V);if(F)return F;let R=getOverflowAncestors(V,[],!1).filter(G=>isElement(G)&&getNodeName(G)!=="body"),U=null;const W=getComputedStyle$1(V).position==="fixed";let Y=W?getParentNode(V):V;for(;isElement(Y)&&!isLastTraversableNode(Y);){const G=getComputedStyle$1(Y),X=isContainingBlock(Y);!X&&G.position==="fixed"&&(U=null),(W?!X&&!U:!X&&G.position==="static"&&!!U&&["absolute","fixed"].includes(U.position)||isOverflowElement(Y)&&!X&&hasFixedPositionAncestor(V,Y))?R=R.filter(Z=>Z!==Y):U=G,Y=getParentNode(Y)}return E.set(V,R),R}function getClippingRect(V){let{element:E,boundary:F,rootBoundary:R,strategy:U}=V;const Y=[...F==="clippingAncestors"?getClippingElementAncestors(E,this._c):[].concat(F),R],G=Y[0],X=Y.reduce((K,Z)=>{const J=getClientRectFromClippingAncestor(E,Z,U);return K.top=max(J.top,K.top),K.right=min(J.right,K.right),K.bottom=min(J.bottom,K.bottom),K.left=max(J.left,K.left),K},getClientRectFromClippingAncestor(E,G,U));return{width:X.right-X.left,height:X.bottom-X.top,x:X.left,y:X.top}}function getDimensions(V){return getCssDimensions(V)}function getRectRelativeToOffsetParent(V,E,F){const R=isHTMLElement(E),U=getDocumentElement(E),W=F==="fixed",Y=getBoundingClientRect(V,!0,W,E);let G={scrollLeft:0,scrollTop:0};const X=createCoords(0);if(R||!R&&!W)if((getNodeName(E)!=="body"||isOverflowElement(U))&&(G=getNodeScroll(E)),R){const K=getBoundingClientRect(E,!0,W,E);X.x=K.x+E.clientLeft,X.y=K.y+E.clientTop}else U&&(X.x=getWindowScrollBarX(U));return{x:Y.left+G.scrollLeft-X.x,y:Y.top+G.scrollTop-X.y,width:Y.width,height:Y.height}}function getTrueOffsetParent(V,E){return!isHTMLElement(V)||getComputedStyle$1(V).position==="fixed"?null:E?E(V):V.offsetParent}function getOffsetParent(V,E){const F=getWindow(V);if(!isHTMLElement(V))return F;let R=getTrueOffsetParent(V,E);for(;R&&isTableElement(R)&&getComputedStyle$1(R).position==="static";)R=getTrueOffsetParent(R,E);return R&&(getNodeName(R)==="html"||getNodeName(R)==="body"&&getComputedStyle$1(R).position==="static"&&!isContainingBlock(R))?F:R||getContainingBlock(V)||F}const getElementRects=async function(V){let{reference:E,floating:F,strategy:R}=V;const U=this.getOffsetParent||getOffsetParent,W=this.getDimensions;return{reference:getRectRelativeToOffsetParent(E,await U(F),R),floating:{x:0,y:0,...await W(F)}}};function isRTL(V){return getComputedStyle$1(V).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL},computePosition=(V,E,F)=>{const R=new Map,U={platform,...F},W={...U.platform,_c:R};return computePosition$1(V,E,{...U,platform:W})};function unwrapElement(V){var E;return(E=V==null?void 0:V.$el)!=null?E:V}function getDPR(V){return typeof window>"u"?1:(V.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(V,E){const F=getDPR(V);return Math.round(E*F)/F}function useFloating(V,E,F){F===void 0&&(F={});const R=F.whileElementsMounted,U=computed(()=>{var ce;return(ce=unref(F.open))!=null?ce:!0}),W=computed(()=>unref(F.middleware)),Y=computed(()=>{var ce;return(ce=unref(F.placement))!=null?ce:"bottom"}),G=computed(()=>{var ce;return(ce=unref(F.strategy))!=null?ce:"absolute"}),X=computed(()=>{var ce;return(ce=unref(F.transform))!=null?ce:!0}),K=computed(()=>unwrapElement(V.value)),Z=computed(()=>unwrapElement(E.value)),J=ref$1(0),Q=ref$1(0),ee=ref$1(G.value),te=ref$1(Y.value),ie=shallowRef({}),re=ref$1(!1),ne=computed(()=>{const ce={position:ee.value,left:"0",top:"0"};if(!Z.value)return ce;const he=roundByDPR(Z.value,J.value),me=roundByDPR(Z.value,Q.value);return X.value?{...ce,transform:"translate("+he+"px, "+me+"px)",...getDPR(Z.value)>=1.5&&{willChange:"transform"}}:{position:ee.value,left:he+"px",top:me+"px"}});let ae;function se(){K.value==null||Z.value==null||computePosition(K.value,Z.value,{middleware:W.value,placement:Y.value,strategy:G.value}).then(ce=>{J.value=ce.x,Q.value=ce.y,ee.value=ce.strategy,te.value=ce.placement,ie.value=ce.middlewareData,re.value=!0})}function le(){typeof ae=="function"&&(ae(),ae=void 0)}function oe(){if(le(),R===void 0){se();return}if(K.value!=null&&Z.value!=null){ae=R(K.value,Z.value,se);return}}function ue(){U.value||(re.value=!1)}return watch([W,Y,G],se,{flush:"sync"}),watch([K,Z],oe,{flush:"sync"}),watch(U,ue,{flush:"sync"}),getCurrentScope()&&onScopeDispose(le),{x:shallowReadonly(J),y:shallowReadonly(Q),strategy:shallowReadonly(ee),placement:shallowReadonly(te),middlewareData:shallowReadonly(ie),isPositioned:shallowReadonly(re),floatingStyles:ne,update:se}}const TransactionListCompleteButton_vue_vue_type_style_index_0_scoped_aebffc72_lang="",__default__$2={methods:{handleComplete(V){const{id:E,amount:F,account_id:R,category_id:U}=this.transaction;this.$store.dispatch("transaction/update",{id:E,apply_to_all_in_future:!1,amount:F,account_id:R,category_id:U,date:V,is_onbadge:!1})}}},_sfc_main$D=Object.assign(__default__$2,{__name:"TransactionListCompleteButton",props:["transaction","account","isFixed"],setup(V){const E=V,F=ref$1(null),R=ref$1(null),U=ref$1(!1),{floatingStyles:W}=useFloating(F,R,{placement:"bottom-start",middleware:[flip(),shift()]});return{__sfc:!0,props:E,reference:F,floating:R,open:U,floatingStyles:W,useFloating,flip,shift,ref:ref$1}}});var _sfc_render$D=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F("div",{on:{mouseover:function(U){U.preventDefault(),U.stopPropagation(),R.open=!0},mouseleave:function(U){U.preventDefault(),U.stopPropagation(),R.open=!1}}},[F("button",{ref:"reference",staticClass:"light-gray small nowrap rounded",style:E.isFixed?"padding: .3125em .5em; margin: .5em 0 0;":"margin: 0;",on:{click:function(U){U.preventDefault(),U.stopPropagation()}}},[F("i",{staticClass:"fas fa-check-circle text-red"}),E.isFixed?E._e():F("span",{staticClass:"desktop-only"},[E._v(" "+E._s(E.$t("Process"))+" "),F("i",{staticClass:"fas fa-chevron-down text-light-gray fa-xs"})])]),R.open?F("div",{ref:"floating",staticClass:"dropdown is-opened",staticStyle:{"z-index":"9999"},style:R.floatingStyles},[F("div",{staticClass:"dropdown-body",staticStyle:{"min-width":"250px"}},[F("ul",{staticClass:"menu"},[F("li",[F("a",{staticClass:"custom-p-8",on:{click:function(U){U.preventDefault(),U.stopPropagation(),E.handleComplete(E.$moment().format("YYYY-MM-DD"))}}},[F("i",{staticClass:"fas fa-check text-red"}),F("span",[F("span",{staticClass:"semibold black"},[E._v(E._s(E.$t("processToday")))]),F("p",{staticClass:"hint custom-mt-4"},[E._v(" "+E._s(E.$t("amountOnDate",{amount:E.$helper.toCurrency({value:E.transaction.amount,currencyCode:E.account.currency}),date:E.$moment().format("LL")}))+" ")])])])]),E.transaction.date!==E.$moment().format("YYYY-MM-DD")?F("li",[F("a",{staticClass:"custom-p-8",on:{click:function(U){U.preventDefault(),U.stopPropagation(),E.handleComplete(E.$moment(E.transaction.date).format("YYYY-MM-DD"))}}},[F("i",{staticClass:"fas fa-check text-red"}),F("span",[F("span",{staticClass:"semibold black"},[E._v(E._s(E.$t("Process"))+" "+E._s(E.$moment(E.transaction.date).format("LL")))]),F("p",{staticClass:"hint custom-mt-4"},[E._v(" "+E._s(E.$t("amountOnDate",{amount:E.$helper.toCurrency({value:E.transaction.amount,currencyCode:E.account.currency}),date:E.$moment(E.transaction.date).format("LL")}))+" ")])])])]):E._e(),F("li",[F("a",{staticClass:"custom-p-8",on:{click:function(U){return U.preventDefault(),U.stopPropagation(),E.$emit("processEdit")}}},[F("i",{staticClass:"fas fa-pencil-alt"}),F("span",{staticClass:"semibold black"},[E._v(E._s(E.$t("processEdits")))])])])])])]):E._e()])},_sfc_staticRenderFns$D=[],__component__$D=normalizeComponent(_sfc_main$D,_sfc_render$D,_sfc_staticRenderFns$D,!1,null,"aebffc72",null,null);const TransactionListCompleteButton=__component__$D.exports,_sfc_main$C={props:["transaction","collapseHeaderData","isRepeatingGroup","category"],computed:{title(){return this.$tc(`repeatingInfo.interval.${this.transaction.repeating_data.interval}`,this.transaction.repeating_data.frequency,{frequency:this.transaction.repeating_data.frequency})},categoryComputed(){return`${this.category.parent_category_id?`${this.$store.getters["category/getById"](this.category.parent_category_id).name} / `:""}${this.category.name}`}}};var _sfc_render$C=function(){var R,U;var E=this,F=E._self._c;return F("div",{staticClass:"flexbox middle space-4 semibold custom-mb-4",staticStyle:{overflow:"hidden"}},[E.category?F("div",{staticClass:"c-item-category text-ellipsis",style:`color:${E.category.color}`},[E._v(" "+E._s(E.categoryComputed)+" ")]):E._e(),E.collapseHeaderData&&E.transaction.external_source_info?[E.transaction.external_source_info.entity_icon?F("span",{staticClass:"icon",attrs:{title:E.transaction.external_source_info.name}},[F("img",{attrs:{src:E.transaction.external_source_info.entity_icon,alt:""}})]):E.transaction.external_source_info.glyph?F("span",{staticClass:"icon",style:`color:${E.transaction.external_source_info.color}`,attrs:{title:E.transaction.external_source_info.name}},[F("i",{staticClass:"fas",class:E.transaction.external_source_info.glyph})]):E._e()]:E.isRepeatingGroup?[F("div",{staticClass:"black text-ellipsis",staticStyle:{"flex-shrink":"1"},attrs:{title:E.$t("repeatingTransactionDesc",{repeats:E.transaction.affected_transactions})}},[E._m(0)])]:[(R=E.transaction.external_source_info)!=null&&R.entity_icon?F("span",{staticClass:"icon",attrs:{title:E.transaction.external_source_info.name}},[F("img",{attrs:{src:E.transaction.external_source_info.entity_icon,alt:""}})]):(U=E.transaction.external_source_info)!=null&&U.glyph?F("span",{staticClass:"icon",style:`color:${E.transaction.external_source_info.color}`,attrs:{title:E.transaction.external_source_info.name}},[F("i",{staticClass:"fas",class:E.transaction.external_source_info.glyph})]):E._e(),E.transaction.repeating_id?F("span",{attrs:{title:E.title}},[E._m(1)]):E._e()]],2)},_sfc_staticRenderFns$C=[function(){var V=this,E=V._self._c;return E("span",{staticClass:"smaller custom-mr-4"},[E("i",{staticClass:"fas fa-redo opacity-50"})])},function(){var V=this,E=V._self._c;return E("span",{staticClass:"smaller custom-mr-4"},[E("i",{staticClass:"fas fa-redo opacity-50"})])}],__component__$C=normalizeComponent(_sfc_main$C,_sfc_render$C,_sfc_staticRenderFns$C,!1,null,null,null,null);const TransactionListGroupRowDesc=__component__$C.exports,currencyIcons={JPY:"fa-yen-sign",KPW:"fa-won-sign",KZT:"fa-tenge",ILS:"fa-shekel-sign",INR:"fa-rupee-sign",RUB:"fa-ruble-sign",GBP:"fa-pound-sign",TRY:"fa-lira-sign",UAH:"fa-hryvnia",EUR:"fa-euro-sign",USD:"fa-dollar-sign",default:"fa-wallet"},TransactionListGroupRowGlyph_vue_vue_type_style_index_0_lang="",_sfc_main$B={props:["transaction","category","account","isCollapseHeader","isRepeatingGroup","collapseHeaderData"],computed:{mainGlyph(){return this.category.glyph?this.category.glyph:currencyIcons[this.account.currency]?currencyIcons[this.account.currency]:this.transaction.category_id===-1312?"fa-exchange-alt":this.transaction.amount>=0?"fa-arrow-down":this.transaction.amount<0?"fa-arrow-up":""}}};var _sfc_render$B=function(){var E=this,F=E._self._c;return F("div",{staticStyle:{position:"relative",top:"1px"}},[F("span",{staticClass:"userpic userpic48 align-center",style:`background-color:${E.category.color};`},[E.transaction.contractor_contact?F("img",{staticClass:"c-contractor",attrs:{src:E.transaction.contractor_contact.userpic,alt:E.transaction.contractor_contact.name,title:E.transaction.contractor_contact.name}}):F("div",[F("div",{key:E.mainGlyph},[F("i",{staticClass:"c-category-glyph fas",class:E.mainGlyph})])]),E.collapseHeaderData?F("span",{staticClass:"badge smaller",style:E.transaction.external_source_info?`background:${E.transaction.external_source_info.color}`:"",attrs:{title:E.transaction.external_source_info?E.transaction.external_source_info.name:""}},[E._v(" \xD7 "+E._s(E.collapseHeaderData.ids.length)+" ")]):E._e(),E.transaction.$_flagCreated&&E.transaction.affected_transactions>1?F("span",{staticClass:"badge gray smaller"},[E._v(" \xD7 "+E._s(E.transaction.affected_transactions>100?"99+":E.transaction.affected_transactions)+" ")]):E._e()]),E.isCollapseHeader||E.isRepeatingGroup?F("span",{staticClass:"c-userpic-stack-imitation"},[F("span",{staticClass:"c-userpic-stack-imitation__item",style:`background-color:${E.category.color};`}),F("span",{staticClass:"c-userpic-stack-imitation__item",style:`background-color:${E.category.color};`})]):E._e()])},_sfc_staticRenderFns$B=[],__component__$B=normalizeComponent(_sfc_main$B,_sfc_render$B,_sfc_staticRenderFns$B,!1,null,null,null,null);const TransactionListGroupRowGlyph=__component__$B.exports,TransactionListGroupRow_vue_vue_type_style_index_0_lang="",TransactionListGroupRow_vue_vue_type_style_index_1_scoped_e42a9da4_lang="",__default__$1={components:{Modal:Modal$1,AddTransaction,TransactionListCompleteButton,TransactionListGroupRowDesc,TransactionListGroupRowGlyph},inject:{archive:{default:!1}},props:{transaction:{type:Object},showChecker:{type:Boolean,default:!1},collapseHeaderData:{type:Object,default:null},isRepeatingGroup:{type:Boolean,default:!1},showDate:{type:Boolean,default:!0},visibleSelectCheckbox:{type:Boolean,default:!1},isCompactMode:{type:Boolean,default:!1}},data(){return{open:!1,isHover:!1,offBadgeInTransactionModal:!1}},computed:{account(){return this.$store.getters["account/getById"](this.transaction.account_id)||{}},category(){return this.$store.getters["category/getById"](this.transaction.category_id)},isCollapseHeader(){return!!this.collapseHeaderData},isChecked(){return this.$store.getters["transactionBulk/isSelected"](this.transaction.id)},isHoverComputed(){return this.$isSpaMobileMode||this.visibleSelectCheckbox||this.showChecker?!0:this.isHover},isOverdue(){return this.transaction.date<this.$helper.currentDate&&this.transaction.is_onbadge},isToday(){return this.transaction.date===this.$helper.currentDate&&this.transaction.is_onbadge},daysBefore(){return this.$moment(this.transaction.date).diff(this.$helper.currentDate,"days")},classes(){return this.archive?{"c-item-archived":!0}:{"custom-pb-8":this.isCompactMode,"c-transaction-group":this.isCollapseHeader||this.isRepeatingGroup,"c-upcoming":this.$moment(this.transaction.date)>this.$moment(),"c-item-overdue":this.isOverdue,"c-item-red-process":this.isOverdue||this.isToday,"c-item-selected":this.isChecked,"c-item--updated":this.transaction.$_flagUpdated||this.transaction.$_flagCreated}}},methods:{handleClick(V){this.isCollapseHeader?this.$emit("toggleCollapseHeader"):this.isRepeatingGroup?V.preventDefault():appState.webView&&this.$store.state.multiSelectMode?this.checkboxSelect():this.openModal()},openModal(V=!1){if(this.archive){alert(this.$t("restoreInfo"));return}this.offBadgeInTransactionModal=V,this.$isSpaMobileMode?window.emitter.emit("editTransaction",this.transaction):this.open=!0},checkboxSelect(V){const E=this.isChecked?"unselect":"select";let F=[this.transaction.id];this.isCollapseHeader&&(F=[...this.collapseHeaderData.ids]);const R=this.$store.state.transaction.transactions.data,U=this.$store.state.transactionBulk.lastCheckboxIndex,W=R.indexOf(this.transaction);(V==null?void 0:V.shiftKey)&&U>-1&&(R.slice(Math.min(W,U)+1,Math.max(W,U)).forEach(Y=>F.push(Y.id)),F.push(R[U].id)),F=F.filter((Y,G,X)=>X.indexOf(Y)===G),this.$store.commit(`transactionBulk/${E}`,F),this.$store.commit("transactionBulk/setLastCheckboxIndex",W)}}},_sfc_main$A=Object.assign(__default__$1,{__name:"TransactionListGroupRow",setup(V){const E=ref$1(null),F=ref$1(null),R=ref$1(!1),{floatingStyles:U}=useFloating(E,F,{placement:"bottom-start",middleware:[flip(),shift()]});return{__sfc:!0,reference:E,floating:F,openFloating:R,floatingStyles:U,ref:ref$1,Modal:Modal$1,AddTransaction,TransactionListCompleteButton,TransactionListGroupRowDesc,TransactionListGroupRowGlyph,useFloating,flip,shift,appState}}});var _sfc_render$A=function(){var U;var E=this,F=E._self._c,R=E._self._setupProxy;return F("li",{ref:"reference",staticClass:"item c-item",class:E.classes,style:E.isRepeatingGroup&&"cursor: initial;",on:{mouseover:()=>{E.isCompactMode&&(R.openFloating=!0)},mouseleave:()=>{E.isCompactMode&&(R.openFloating=!1)}}},[E.showDate&&!E.isCompactMode?F("div",{staticClass:"mobile-only custom-py-8"},[F("strong",[E._v(" "+E._s(E.$moment(E.transaction.date).format(E.$moment.locale()==="ru"?"D MMMM":"MMMM D"))+" ")]),F("span",{staticClass:"hint"},[E._v(E._s(E.$moment(E.transaction.date).format("dddd")))])]):E._e(),F("div",{staticClass:"flexbox middle space-12",on:{mouseover:function(W){E.isHover=!0},mouseleave:function(W){E.isHover=!1},click:E.handleClick}},[E.$helper.showMultiSelect()&&!E.isCompactMode?F("div",{staticClass:"custom-my-4",class:{"desktop-only":E.$helper.isDesktopEnv},staticStyle:{width:"1rem",height:"1rem"}},[F("span",{directives:[{name:"show",rawName:"v-show",value:E.isHoverComputed&&!E.isRepeatingGroup,expression:"isHoverComputed && !isRepeatingGroup"}],staticClass:"wa-checkbox",on:{click:function(W){return W.stopPropagation(),E.checkboxSelect.apply(null,arguments)}}},[F("input",{attrs:{type:"checkbox"},domProps:{checked:E.isChecked}}),E._m(0)])]):E._e(),E.isCompactMode?E._e():F("div",{staticClass:"desktop-and-tablet-only",staticStyle:{width:"7rem","flex-shrink":"0"}},[E.showDate?[F("div",{staticClass:"custom-mb-4 bold nowrap c-group-date"},[E._v(" "+E._s(E.$moment(E.transaction.date).format(E.$moment.locale()==="ru"?"D MMMM":"MMMM D"))+" ")]),F("div",{staticClass:"hint"},[E._v(" "+E._s(E.$moment().year()==E.$moment(E.transaction.date).year()?E.daysBefore>0?E.daysBefore===1?E.$t("tomorrow"):E.$moment(E.transaction.date).from(E.$helper.currentDate):E.$moment(E.transaction.date).format("dddd"):E.$moment(E.transaction.date).year())+" ")])]:E._e()],2),F(R.TransactionListGroupRowGlyph,{attrs:{transaction:E.transaction,category:E.category,account:E.account,"is-collapse-header":E.isCollapseHeader,"is-repeating-group":E.isRepeatingGroup,"collapse-header-data":E.collapseHeaderData}}),F("div",{staticClass:"wide flexbox middle space-8 c-item-border"},[E.isCompactMode?E._e():F("div",{staticClass:"wide",staticStyle:{overflow:"hidden"}},[F(R.TransactionListGroupRowDesc,{attrs:{transaction:E.transaction,"collapse-header-data":E.collapseHeaderData,"is-repeating-group":E.isRepeatingGroup,category:E.category}}),E.transaction.description||E.transaction.contractor_contact?F("div",{staticClass:"black small text-ellipsis",staticStyle:{"flex-shrink":"1"}},[E.transaction.description?F("span",[E._v(" "+E._s(E.transaction.description)+" ")]):E._e(),E.transaction.contractor_contact?F("span",{staticClass:"gray"},[E._v(" "+E._s(E.transaction.contractor_contact.name)+" ")]):E._e()]):E._e(),!E.transaction.contractor_contact&&!E.transaction.description?F("span",{staticClass:"gray small"},[E._v(" "+E._s(E.$t("noDesc"))+" ")]):E._e()],1),F("div",{staticClass:"c-item-amount"},[F("div",{staticClass:"bold nowrap custom-mb-4 text-ellipsis",style:`color: ${E.category.color}`},[E._v(" "+E._s(E.isCompactMode&&!E.isCollapseHeader?`${E.transaction.amountShorten} ${E.$helper.currencySignByCode(E.account.currency)}`:E.$helper.toCurrency({value:E.isCollapseHeader?E.collapseHeaderData.totalAmount:E.transaction.amount,currencyCode:E.account.currency,isDynamics:!0}))+" ")]),E.account.name&&!E.isCompactMode?F("div",{staticClass:"text-ellipsis small gray"},[E._v(" "+E._s(E.account.name)+" "),E.transaction.balance?F("span",{staticClass:"nowrap black",attrs:{title:E.$t("accountBalanceTransactionListHint")}},[E._v(" "+E._s(E.$helper.toCurrency({value:E.transaction.balance,currencyCode:E.account.currency}))+" ")]):E._e()]):E._e()]),E.isCompactMode?F("div",{staticClass:"hint align-center"},[F("span",{staticClass:"black"},[E._v(E._s(E.$moment(E.transaction.date).toDate().toLocaleDateString(E.$moment.locale(),{month:"short",day:"numeric"})))]),F("br"),E._v(" "+E._s(E.$moment(E.transaction.date).from(E.$moment().startOf("day")))+" ")]):E._e(),F("transition",{attrs:{name:"fade",duration:300}},[F(R.TransactionListCompleteButton,{directives:[{name:"show",rawName:"v-show",value:E.transaction.is_onbadge&&!E.archive,expression:"transaction.is_onbadge && !archive"}],attrs:{transaction:E.transaction,"is-fixed":E.isCompactMode,account:E.account},on:{processEdit:function(W){return E.openModal(!0)}}})],1)],1)],1),F("portal",[E.open?F(R.Modal,{on:{close:function(W){E.open=!1}}},[F(R.AddTransaction,{attrs:{transaction:E.transaction,"off-onbadge":E.offBadgeInTransactionModal}})],1):E._e()],1),R.openFloating?F("div",{ref:"floating",staticClass:"dropdown is-opened",staticStyle:{"z-index":"999"},style:R.floatingStyles},[F("div",{staticClass:"dropdown-body",staticStyle:{"min-width":"200px"}},[F("div",{staticClass:"custom-p-8",staticStyle:{display:"flex","flex-direction":"column",gap:".2rem"}},[(U=E.transaction.contractor_contact)!=null&&U.name?F("span",[E._v(E._s(E.transaction.contractor_contact.name))]):E._e(),E.category?F("span",{staticClass:"bold nowrap small text-ellipsis",style:`color: ${E.category.color}`},[E._v(E._s(E.category.name))]):E._e(),F("span",{staticClass:"hint"},[E._v(E._s(E.transaction.description||E.$t("noDesc")))])])])]):E._e()],1)},_sfc_staticRenderFns$A=[function(){var V=this,E=V._self._c;return V._self._setupProxy,E("span",[E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-check"})])])}],__component__$A=normalizeComponent(_sfc_main$A,_sfc_render$A,_sfc_staticRenderFns$A,!1,null,"e42a9da4",null,null);const TransactionListGroupRow=__component__$A.exports,_sfc_main$z={components:{TransactionListGroupRow},computed:{transactionsJustCreated(){return this.$store.getters["transaction/getTransactionsJustCreated"]}}};var _sfc_render$z=function(){var E=this,F=E._self._c;return E.transactionsJustCreated.length?F("div",{staticClass:"custom-mb-16 c-transaction-section"},[F("div",{staticClass:"flexbox middle custom-py-8"},[F("div",{staticClass:"flexbox middle space-12 wide"},[E.$helper.showMultiSelect()?F("div",{staticStyle:{"min-width":"1rem"}}):E._e(),F("h4",{staticClass:"c-transaction-section__header custom-ml-8"},[E._v(" "+E._s(E.$t("justCreated"))+" ")])])]),F("ul",{staticClass:"list c-list"},E._l(E.transactionsJustCreated,function(R){return F("TransactionListGroupRow",{key:R.id,attrs:{transaction:R,"is-repeating-group":R.affected_transactions>1}})}),1)]):E._e()},_sfc_staticRenderFns$z=[],__component__$z=normalizeComponent(_sfc_main$z,_sfc_render$z,_sfc_staticRenderFns$z,!1,null,null,null,null);const TransactionListCreated=__component__$z.exports;function tryOnScopeDispose(V){return getCurrentScope()?(onScopeDispose(V),!0):!1}function toValue(V){return typeof V=="function"?V():unref(V)}const isClient=typeof window<"u"&&typeof document<"u",toString=Object.prototype.toString,isObject$1=V=>toString.call(V)==="[object Object]",noop=()=>{};function createFilterWrapper(V,E){function F(...R){return new Promise((U,W)=>{Promise.resolve(V(()=>E.apply(this,R),{fn:E,thisArg:this,args:R})).then(U).catch(W)})}return F}const bypassFilter=V=>V();function debounceFilter(V,E={}){let F,R,U=noop;const W=G=>{clearTimeout(G),U(),U=noop};return G=>{const X=toValue(V),K=toValue(E.maxWait);return F&&W(F),X<=0||K!==void 0&&K<=0?(R&&(W(R),R=null),Promise.resolve(G())):new Promise((Z,J)=>{U=E.rejectOnCancel?J:Z,K&&!R&&(R=setTimeout(()=>{F&&W(F),R=null,Z(G())},K)),F=setTimeout(()=>{R&&W(R),R=null,Z(G())},X)})}}function throttleFilter(V,E=!0,F=!0,R=!1){let U=0,W,Y=!0,G=noop,X;const K=()=>{W&&(clearTimeout(W),W=void 0,G(),G=noop)};return J=>{const Q=toValue(V),ee=Date.now()-U,te=()=>X=J();return K(),Q<=0?(U=Date.now(),te()):(ee>Q&&(F||!Y)?(U=Date.now(),te()):E&&(X=new Promise((ie,re)=>{G=R?re:ie,W=setTimeout(()=>{U=Date.now(),Y=!0,ie(te()),K()},Math.max(0,Q-ee))})),!F&&!W&&(W=setTimeout(()=>Y=!0,Q)),Y=!1,X)}}function pausableFilter(V=bypassFilter){const E=ref$1(!0);function F(){E.value=!1}function R(){E.value=!0}const U=(...W)=>{E.value&&V(...W)};return{isActive:readonly(E),pause:F,resume:R,eventFilter:U}}function useDebounceFn(V,E=200,F={}){return createFilterWrapper(debounceFilter(E,F),V)}function useThrottleFn(V,E=200,F=!1,R=!0,U=!1){return createFilterWrapper(throttleFilter(E,F,R,U),V)}function watchWithFilter(V,E,F={}){const{eventFilter:R=bypassFilter,...U}=F;return watch(V,createFilterWrapper(R,E),U)}function watchPausable(V,E,F={}){const{eventFilter:R,...U}=F,{eventFilter:W,pause:Y,resume:G,isActive:X}=pausableFilter(R);return{stop:watchWithFilter(V,E,{...U,eventFilter:W}),pause:Y,resume:G,isActive:X}}function tryOnMounted(V,E=!0){getCurrentInstance()?onMounted(V):E?V():nextTick(V)}function unrefElement(V){var E;const F=toValue(V);return(E=F==null?void 0:F.$el)!=null?E:F}const defaultWindow=isClient?window:void 0;isClient&&window.document;isClient&&window.navigator;isClient&&window.location;function useEventListener(...V){let E,F,R,U;if(typeof V[0]=="string"||Array.isArray(V[0])?([F,R,U]=V,E=defaultWindow):[E,F,R,U]=V,!E)return noop;Array.isArray(F)||(F=[F]),Array.isArray(R)||(R=[R]);const W=[],Y=()=>{W.forEach(Z=>Z()),W.length=0},G=(Z,J,Q,ee)=>(Z.addEventListener(J,Q,ee),()=>Z.removeEventListener(J,Q,ee)),X=watch(()=>[unrefElement(E),toValue(U)],([Z,J])=>{if(Y(),!Z)return;const Q=isObject$1(J)?{...J}:J;W.push(...F.flatMap(ee=>R.map(te=>G(Z,ee,te,Q))))},{immediate:!0,flush:"post"}),K=()=>{X(),Y()};return tryOnScopeDispose(K),K}function useMounted(){const V=ref$1(!1);return getCurrentInstance()&&onMounted(()=>{V.value=!0}),V}function useSupported(V){const E=useMounted();return computed(()=>(E.value,Boolean(V())))}const _global$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__",handlers=getHandlers();function getHandlers(){return globalKey in _global$1||(_global$1[globalKey]=_global$1[globalKey]||{}),_global$1[globalKey]}function getSSRHandler(V,E){return handlers[V]||E}function guessSerializerType(V){return V==null?"any":V instanceof Set?"set":V instanceof Map?"map":V instanceof Date?"date":typeof V=="boolean"?"boolean":typeof V=="string"?"string":typeof V=="object"?"object":Number.isNaN(V)?"any":"number"}const StorageSerializers={boolean:{read:V=>V==="true",write:V=>String(V)},object:{read:V=>JSON.parse(V),write:V=>JSON.stringify(V)},number:{read:V=>Number.parseFloat(V),write:V=>String(V)},any:{read:V=>V,write:V=>String(V)},string:{read:V=>V,write:V=>String(V)},map:{read:V=>new Map(JSON.parse(V)),write:V=>JSON.stringify(Array.from(V.entries()))},set:{read:V=>new Set(JSON.parse(V)),write:V=>JSON.stringify(Array.from(V))},date:{read:V=>new Date(V),write:V=>V.toISOString()}},customStorageEventName="vueuse-storage";function useStorage(V,E,F,R={}){var U;const{flush:W="pre",deep:Y=!0,listenToStorageChanges:G=!0,writeDefaults:X=!0,mergeDefaults:K=!1,shallow:Z,window:J=defaultWindow,eventFilter:Q,onError:ee=he=>{console.error(he)}}=R,te=(Z?shallowRef:ref$1)(E);if(!F)try{F=getSSRHandler("getDefaultStorage",()=>{var he;return(he=defaultWindow)==null?void 0:he.localStorage})()}catch(he){ee(he)}if(!F)return te;const ie=toValue(E),re=guessSerializerType(ie),ne=(U=R.serializer)!=null?U:StorageSerializers[re],{pause:ae,resume:se}=watchPausable(te,()=>le(te.value),{flush:W,deep:Y,eventFilter:Q});return J&&G&&(useEventListener(J,"storage",ce),useEventListener(J,customStorageEventName,ue)),ce(),te;function le(he){try{if(he==null)F.removeItem(V);else{const me=ne.write(he),Pe=F.getItem(V);Pe!==me&&(F.setItem(V,me),J&&J.dispatchEvent(new CustomEvent(customStorageEventName,{detail:{key:V,oldValue:Pe,newValue:me,storageArea:F}})))}}catch(me){ee(me)}}function oe(he){const me=he?he.newValue:F.getItem(V);if(me==null)return X&&ie!==null&&F.setItem(V,ne.write(ie)),ie;if(!he&&K){const Pe=ne.read(me);return typeof K=="function"?K(Pe,ie):re==="object"&&!Array.isArray(Pe)?{...ie,...Pe}:Pe}else return typeof me!="string"?me:ne.read(me)}function ue(he){ce(he.detail)}function ce(he){if(!(he&&he.storageArea!==F)){if(he&&he.key==null){te.value=ie;return}if(!(he&&he.key!==V)){ae();try{(he==null?void 0:he.newValue)!==ne.write(te.value)&&(te.value=oe(he))}catch(me){ee(me)}finally{he?nextTick(se):se()}}}}}function useResizeObserver(V,E,F={}){const{window:R=defaultWindow,...U}=F;let W;const Y=useSupported(()=>R&&"ResizeObserver"in R),G=()=>{W&&(W.disconnect(),W=void 0)},X=computed(()=>Array.isArray(V)?V.map(J=>unrefElement(J)):[unrefElement(V)]),K=watch(X,J=>{if(G(),Y.value&&R){W=new ResizeObserver(E);for(const Q of J)Q&&W.observe(Q,U)}},{immediate:!0,flush:"post",deep:!0}),Z=()=>{G(),K()};return tryOnScopeDispose(Z),{isSupported:Y,stop:Z}}function useElementBounding(V,E={}){const{reset:F=!0,windowResize:R=!0,windowScroll:U=!0,immediate:W=!0}=E,Y=ref$1(0),G=ref$1(0),X=ref$1(0),K=ref$1(0),Z=ref$1(0),J=ref$1(0),Q=ref$1(0),ee=ref$1(0);function te(){const ie=unrefElement(V);if(!ie){F&&(Y.value=0,G.value=0,X.value=0,K.value=0,Z.value=0,J.value=0,Q.value=0,ee.value=0);return}const re=ie.getBoundingClientRect();Y.value=re.height,G.value=re.bottom,X.value=re.left,K.value=re.right,Z.value=re.top,J.value=re.width,Q.value=re.x,ee.value=re.y}return useResizeObserver(V,te),watch(()=>unrefElement(V),ie=>!ie&&te()),U&&useEventListener("scroll",te,{capture:!0,passive:!0}),R&&useEventListener("resize",te,{passive:!0}),tryOnMounted(()=>{W&&te()}),{height:Y,bottom:G,left:X,right:K,top:Z,width:J,x:Q,y:ee,update:te}}function useElementSize(V,E={width:0,height:0},F={}){const{window:R=defaultWindow,box:U="content-box"}=F,W=computed(()=>{var X,K;return(K=(X=unrefElement(V))==null?void 0:X.namespaceURI)==null?void 0:K.includes("svg")}),Y=ref$1(E.width),G=ref$1(E.height);return useResizeObserver(V,([X])=>{const K=U==="border-box"?X.borderBoxSize:U==="content-box"?X.contentBoxSize:X.devicePixelContentBoxSize;if(R&&W.value){const Z=unrefElement(V);if(Z){const J=R.getComputedStyle(Z);Y.value=Number.parseFloat(J.width),G.value=Number.parseFloat(J.height)}}else if(K){const Z=Array.isArray(K)?K:[K];Y.value=Z.reduce((J,{inlineSize:Q})=>J+Q,0),G.value=Z.reduce((J,{blockSize:Q})=>J+Q,0)}else Y.value=X.contentRect.width,G.value=X.contentRect.height},F),watch(()=>unrefElement(V),X=>{Y.value=X?E.width:0,G.value=X?E.height:0}),{width:Y,height:G}}const ARRIVED_STATE_THRESHOLD_PIXELS=1;function useScroll(V,E={}){const{throttle:F=0,idle:R=200,onStop:U=noop,onScroll:W=noop,offset:Y={left:0,right:0,top:0,bottom:0},eventListenerOptions:G={capture:!1,passive:!0},behavior:X="auto",window:K=defaultWindow}=E,Z=ref$1(0),J=ref$1(0),Q=computed({get(){return Z.value},set(ue){te(ue,void 0)}}),ee=computed({get(){return J.value},set(ue){te(void 0,ue)}});function te(ue,ce){var he,me,Pe;if(!K)return;const we=toValue(V);!we||(Pe=we instanceof Document?K.document.body:we)==null||Pe.scrollTo({top:(he=toValue(ce))!=null?he:ee.value,left:(me=toValue(ue))!=null?me:Q.value,behavior:toValue(X)})}const ie=ref$1(!1),re=reactive({left:!0,right:!1,top:!0,bottom:!1}),ne=reactive({left:!1,right:!1,top:!1,bottom:!1}),ae=ue=>{!ie.value||(ie.value=!1,ne.left=!1,ne.right=!1,ne.top=!1,ne.bottom=!1,U(ue))},se=useDebounceFn(ae,F+R),le=ue=>{var ce;if(!K)return;const he=ue.document?ue.document.documentElement:(ce=ue.documentElement)!=null?ce:ue,{display:me,flexDirection:Pe}=getComputedStyle(he),we=he.scrollLeft;ne.left=we<Z.value,ne.right=we>Z.value;const fe=Math.abs(we)<=0+(Y.left||0),ye=Math.abs(we)+he.clientWidth>=he.scrollWidth-(Y.right||0)-ARRIVED_STATE_THRESHOLD_PIXELS;me==="flex"&&Pe==="row-reverse"?(re.left=ye,re.right=fe):(re.left=fe,re.right=ye),Z.value=we;let _e=he.scrollTop;ue===K.document&&!_e&&(_e=K.document.body.scrollTop),ne.top=_e<J.value,ne.bottom=_e>J.value;const ve=Math.abs(_e)<=0+(Y.top||0),ge=Math.abs(_e)+he.clientHeight>=he.scrollHeight-(Y.bottom||0)-ARRIVED_STATE_THRESHOLD_PIXELS;me==="flex"&&Pe==="column-reverse"?(re.top=ge,re.bottom=ve):(re.top=ve,re.bottom=ge),J.value=_e},oe=ue=>{var ce;if(!K)return;const he=(ce=ue.target.documentElement)!=null?ce:ue.target;le(he),ie.value=!0,se(ue),W(ue)};return useEventListener(V,"scroll",F?useThrottleFn(oe,F,!0,!1):oe,G),useEventListener(V,"scrollend",ae,G),{x:Q,y:ee,isScrolling:ie,arrivedState:re,directions:ne,measure(){const ue=toValue(V);K&&ue&&le(ue)}}}const DropdownWaFloating_vue_vue_type_style_index_0_scoped_e9649820_lang="",DropdownWaFloating_vue_vue_type_style_index_1_scoped_e9649820_lang="",_sfc_main$y={__name:"DropdownWaFloating",props:["strategy","hideOnMobile"],setup(V){var Y;const E=V,F=ref$1(!1),R=ref$1(null),U=ref$1(null),{floatingStyles:W}=useFloating(U,R,{placement:"bottom-start",strategy:(Y=E.strategy)!=null?Y:"absolute",middleware:[flip(),shift()]});return{__sfc:!0,props:E,open:F,floating:R,reference:U,floatingStyles:W,useFloating,flip,shift,ref:ref$1}}};var _sfc_render$y=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F("div",{ref:"reference",on:{mouseover:()=>{E.hideOnMobile&&E.$helper.isTabletMediaQuery()||(R.open=!0)},mouseleave:()=>{E.hideOnMobile&&E.$helper.isTabletMediaQuery()||(R.open=!1)}}},[F("div",{on:{touchend:()=>{E.hideOnMobile&&E.$helper.isTabletMediaQuery()||(R.open=!R.open)}}},[E._t("toggler")],2),R.open?F("div",{ref:"floating",staticClass:"dropdown is-opened",class:{"no-pointer":R.props.strategy==="fixed"},style:R.floatingStyles},[F("div",{staticClass:"dropdown-body",staticStyle:{"min-width":"200px"}},[E._t("default")],2)]):E._e()])},_sfc_staticRenderFns$y=[],__component__$y=normalizeComponent(_sfc_main$y,_sfc_render$y,_sfc_staticRenderFns$y,!1,null,"e9649820",null,null);const DropdownWaFloating=__component__$y.exports,__default__={props:{upcomingBlockOpened:{type:Boolean}},computed:{featurePeriod:{get(){return this.$store.state.transaction.featurePeriod},set(V){this.$store.commit("transaction/setFeaturePeriod",V)}}},created(){this.featurePeriod=+localStorage.getItem("upcoming_transactions_days")||this.featurePeriod},methods:{setFeaturePeriod(V){this.featurePeriod=V,localStorage.setItem("upcoming_transactions_days",V),this.$emit("updateUpcomingBlockOpened",!0)}}},_sfc_main$x=Object.assign(__default__,{__name:"TransactionListGroupUpcomingPeriod",setup(V){return{__sfc:!0,listCompactMode:useStorage("list_compact_mode",!0),DropdownWaFloating,useStorage}}});var _sfc_render$x=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F(R.DropdownWaFloating,{scopedSlots:E._u([{key:"toggler",fn:function(){return[F("button",{staticClass:"circle light-gray"},[F("span",{staticClass:"icon"},[F("i",{staticClass:"fas fa-ellipsis-v"})])])]},proxy:!0}])},[F("ul",{staticClass:"menu"},[F("li",[F("a",{on:{click:function(U){return U.preventDefault(),E.setFeaturePeriod(7)}}},[F("span",[E._v(E._s(E.$t("nextDays",{count:7})))])])]),F("li",[F("a",{on:{click:function(U){return U.preventDefault(),E.setFeaturePeriod(30)}}},[F("span",[E._v(E._s(E.$t("nextDays",{count:30})))])])]),F("li",{staticClass:"bordered-top"},[F("a",{on:{click:function(U){U.preventDefault(),R.listCompactMode=!R.listCompactMode}}},[F("span",{directives:[{name:"show",rawName:"v-show",value:!R.listCompactMode,expression:"!listCompactMode"}],staticClass:"icon"},[F("i",{staticClass:"fas fa-ellipsis-h"})]),F("span",{directives:[{name:"show",rawName:"v-show",value:R.listCompactMode,expression:"listCompactMode"}],staticClass:"icon"},[F("i",{staticClass:"fas fa-list"})]),F("span",[E._v(E._s(R.listCompactMode?E.$t("listView"):E.$t("compactView")))])])])])])},_sfc_staticRenderFns$x=[],__component__$x=normalizeComponent(_sfc_main$x,_sfc_render$x,_sfc_staticRenderFns$x,!1,null,null,null,null);const TransactionListGroupUpcomingPeriod=__component__$x.exports,_sfc_main$w={mixins:[amountMixin],props:{group:{type:Array,required:!0}},computed:{currencies(){return this.group.reduce((V,E)=>{const F=this.$store.getters["account/getById"](E.account_id).currency;return V.includes(F)||V.push(F),V},[])}},methods:{categoriesByType(V){return this.$store.state.category.categories.filter(E=>V==="profit"?E.is_profit===!0:E.type===V&&E.is_profit===!1).map(E=>E.id)},getTotalByCurrency(V,E){return this.group.filter(F=>this.categoriesByType(E).includes(F.category_id)&&this.$store.getters["account/getById"](F.account_id).currency===V).reduce((F,R)=>F+R.amount,0)},amountDelta(V){return Math.abs(this.getTotalByCurrency(V,"income"))-Math.abs(this.getTotalByCurrency(V,"expense"))-Math.abs(this.getTotalByCurrency(V,"profit"))}}};var _sfc_render$w=function(){var E=this,F=E._self._c;return E.currencies.length?F("div",{staticClass:"flexbox justify-end middle wrap space-12"},E._l(E.currencies,function(R){return F("div",{key:R,staticClass:"flexbox middle space-12"},[E._l(E.$_amountMixin_amountTypes,function(U,W){return F("div",{key:W,class:{"text-green":U==="income","text-red":U==="expense","text-blue":U==="profit"},attrs:{title:U==="profit"?E.$t("profit"):U==="income"?E.$t("income"):E.$t("expense")}},[U==="profit"?F("i",{staticClass:"fas fa-coins text-blue small"}):E._e(),F("span",{staticClass:"small semibold"},[E._v(E._s(E.$helper.toCurrency({value:E.getTotalByCurrency(R,U),currencyCode:R,isAbs:!0,prefix:U==="income"?"+ ":U==="expense"?"\u2212 ":" "})))])])}),E.$_amountMixin_amountTypes.includes("profit")?F("div",{attrs:{title:E.$t("delta")}},[F("span",{staticClass:"small semibold gray"},[E._v(" "+E._s(E.$helper.toCurrency({value:E.amountDelta(R),currencyCode:R,isDynamics:!0,prefix:"\u0394\xA0"}))+" ")])]):E._e()],2)}),0):E._e()},_sfc_staticRenderFns$w=[],__component__$w=normalizeComponent(_sfc_main$w,_sfc_render$w,_sfc_staticRenderFns$w,!1,null,null,null,null);const AmountForGroup=__component__$w.exports,_sfc_main$v={props:{lines:{type:Number,default:10}}};var _sfc_render$v=function(){var E=this,F=E._self._c;return F("ul",{staticClass:"c-list list"},E._l(E.lines,function(R){return F("li",{key:R,staticClass:"c-item item"},[F("div",{staticClass:"skeleton custom-px-16-mobile"},[F("div",{staticClass:"flexbox space-12 custom-py-12"},[E.$helper.showMultiSelect()?F("div",{staticStyle:{"min-width":"1rem"}}):E._e(),E._m(0,!0),E._m(1,!0),E._m(2,!0)])])])}),0)},_sfc_staticRenderFns$v=[function(){var V=this,E=V._self._c;return E("div",[E("span",{staticClass:"skeleton-custom-circle size-48"})])},function(){var V=this,E=V._self._c;return E("div",{staticClass:"wide"},[E("span",{staticClass:"skeleton-line custom-mb-4"}),E("span",{staticClass:"skeleton-line custom-mb-4"}),E("span",{staticClass:"skeleton-line custom-mb-0"})])},function(){var V=this,E=V._self._c;return E("div",{staticClass:"width-30"},[E("span",{staticClass:"skeleton-line custom-mb-4"}),E("span",{staticClass:"skeleton-line custom-mb-0"})])}],__component__$v=normalizeComponent(_sfc_main$v,_sfc_render$v,_sfc_staticRenderFns$v,!1,null,null,null,null);const SkeletonTransaction=__component__$v.exports,TransactionListGroup_vue_vue_type_style_index_0_lang="",listCompactMode=useStorage("list_compact_mode",!0),_sfc_main$u={components:{TransactionListGroupUpcomingPeriod,TransactionListGroupRow,AmountForGroup,SkeletonTransaction},props:{group:{type:Array,required:!0},type:{type:String},index:{type:Number},visibleSelectCheckbox:{type:Boolean,default:!1},showFoundedCount:{type:Boolean,default:!1}},data(){return{isHover:!1,\u0441ollapseGroups:{},activeCollapseExternalSourceIDs:[],localStorage:(()=>{try{return JSON.parse(localStorage.getItem("upcoming_transactions_show")||void 0)}catch{return!0}})()}},computed:{compactModeForFutureList(){return this.type==="future"&&listCompactMode.value},isShowChecker(){return this.filteredTransactions.some(V=>this.$store.state.transactionBulk.selectedTransactionsIds.includes(V.id))},isHoverComputed(){return this.$isSpaMobileMode||this.visibleSelectCheckbox||this.isShowChecker?!0:this.isHover},featurePeriod(){return this.$store.state.transaction.featurePeriod},upcomingBlockOpened:{get(){return this.type!=="future"?!0:this.localStorage},set(V){this.localStorage=V,localStorage.setItem("upcoming_transactions_show",V)}},filteredTransactions(){let V=this.group;return this.type==="future"&&(V=this.group.filter(E=>{const F=this.$moment().add(1,"d"),R=this.$moment().add(this.featurePeriod,"d");return this.$moment(E.date).isBetween(F,R)}).reverse()),V}},watch:{filteredTransactions:{handler(V){this.$store.state.transaction.activeGroupTransactions.index===this.index&&this.onStick();const E={};V.filter(F=>F.external_source).forEach(F=>{const R=`${F.category_id}|${F.date}|${F.external_source}`;E[R]?(E[R].ids.push(F.id),E[R].totalAmount+=F.amount):E[R]={ids:[F.id],totalAmount:F.amount}});for(const F in E)E[F].ids.length<2&&delete E[F];this.\u0441ollapseGroups=E},immediate:!0}},mounted(){const V=this,E=ref$1(!0),{top:F}=useElementBounding(this.$refs.el);watch(F,R=>{R<120&&E.value&&(V.onStick(),E.value=!1),R>120&&!E.value&&(V.onStick(),E.value=!0)})},created(){this.index===0&&this.onStick()},methods:{isShown(V){const E=`${V.category_id}|${V.date}|${V.external_source}`;return!this.\u0441ollapseGroups[E]||this.\u0441ollapseGroups[E].ids[0]===V.id?!0:this.activeCollapseExternalSourceIDs.includes(E)},collapseHeaderData(V){const E=`${V.category_id}|${V.date}|${V.external_source}`;return this.isShown(V)&&!this.activeCollapseExternalSourceIDs.includes(E)?this.\u0441ollapseGroups[E]:null},handleCollapseHeaderClick(V){const E=`${V.category_id}|${V.date}|${V.external_source}`,F=this.activeCollapseExternalSourceIDs.indexOf(E);F>-1?this.activeCollapseExternalSourceIDs.splice(F,1):this.activeCollapseExternalSourceIDs.push(E)},checkAll(V){const E=V.map(R=>R.id),F=this.isCheckedAllInGroup(V)?"unselect":"select";this.$store.commit(`transactionBulk/${F}`,E),this.$store.commit("transactionBulk/setLastCheckboxIndex",-1)},isCheckedAllInGroup(V){return V.every(E=>this.$store.state.transactionBulk.selectedTransactionsIds.includes(E.id))},onStick(){this.$store.commit("transaction/setActiveGroupTransactions",{index:this.index,name:this.type,items:this.filteredTransactions})}}};var _sfc_render$u=function(){var E=this,F=E._self._c;return F("div",{staticClass:"c-transaction-section"},[F("div",{ref:"el",on:{mouseover:function(R){E.isHover=!0,E.$refs.pieIcon&&(E.$refs.pieIcon.style.display="block")},mouseleave:function(R){E.isHover=!1,E.$refs.pieIcon&&(E.$refs.pieIcon.style.display="none")}}},[F("div",{staticClass:"c-sticky-header-group",class:{"c-sticky-header-group--offset":E.$store.state.transactionBulk.selectedTransactionsIds.length}},[F("div",{staticClass:"flexbox middle space-12 wrap-mobile justify-between custom-px-8 custom-py-12"},[F("div",{staticClass:"flexbox middle space-12"},[E.$helper.showMultiSelect()?F("div",{class:{"desktop-only":E.$helper.isDesktopEnv},staticStyle:{"min-width":"1rem"}},[F("span",{directives:[{name:"show",rawName:"v-show",value:E.isHoverComputed&&E.filteredTransactions.length,expression:"isHoverComputed && filteredTransactions.length"}],staticClass:"wa-checkbox",on:{click:function(R){return E.checkAll(E.filteredTransactions)}}},[F("input",{attrs:{type:"checkbox"},domProps:{checked:E.isCheckedAllInGroup(E.filteredTransactions)}}),E._m(0)])]):E._e(),E.showFoundedCount?E._e():F("h4",{staticClass:"c-transaction-section__header nowrap"},[E.type==="overdue"?F("div",{staticClass:"black"},[E._v(" "+E._s(E.$t("overdue"))+" ")]):E._e(),E.type==="yesterday"?F("div",{staticClass:"black"},[E._v(" "+E._s(E.$t("yesterday"))+" ")]):E._e(),E.type==="tomorrow"?F("div",{staticClass:"black"},[E._v(" "+E._s(E.$t("tomorrow"))+" ")]):E._e(),E.type==="today"?F("div",{staticClass:"black"},[E._v(" "+E._s(E.$t("today"))+" "),F("span",{staticClass:"hint"},[E._v(" "+E._s(E.$moment.locale()==="ru"?E.$moment().format("D MMMM"):E.$moment().format("MMMM D"))+" ")])]):E._e(),E.type==="future"?F("div",{staticClass:"black flexbox middle space-8",class:{"opacity-50":!E.upcomingBlockOpened},staticStyle:{cursor:"pointer"},on:{click:function(R){E.upcomingBlockOpened=!E.upcomingBlockOpened}}},[F("span",[E._v(E._s(E.$t("nextDays",{count:E.featurePeriod})))])]):E._e(),E.$moment(new Date(E.type)).isValid()?F("div",{staticClass:"black",staticStyle:{"text-transform":"capitalize"}},[E._v(" "+E._s(E.$moment(E.type).format("MMMM YYYY"))+" ")]):E._e()]),E.showFoundedCount?F("div",{staticClass:"gray bold nowrap custom-mr-4"},[E._v(" "+E._s(E.$t("found",{count:E.filteredTransactions.length}))+" ")]):E._e(),E.type==="future"?F("TransactionListGroupUpcomingPeriod",{attrs:{"upcoming-block-opened":E.upcomingBlockOpened},on:{updateUpcomingBlockOpened:R=>E.upcomingBlockOpened=R}}):E._e()],1),F("div",{staticClass:"flexbox middle space-12"},[E.filteredTransactions.length?F("div",{ref:"pieIcon",staticClass:"desktop-only c-pie-icon-helper",staticStyle:{display:"none",cursor:"pointer"},on:{click:E.onStick}},[F("i",{staticClass:"fas fa-chart-pie"})]):E._e(),F("AmountForGroup",{attrs:{group:E.filteredTransactions}})],1)])]),E.upcomingBlockOpened?F("div",{staticStyle:{overflow:"hidden"}},[E.filteredTransactions.length?F("ul",{staticClass:"c-list list",class:{"c-list--compact":E.compactModeForFutureList}},[E._l(E.filteredTransactions,function(R,U){return F("TransactionListGroupRow",{directives:[{name:"show",rawName:"v-show",value:E.isShown(R),expression:"isShown(transaction)"}],key:R.id,attrs:{transaction:R,"show-checker":E.isShowChecker,"is-compact-mode":E.compactModeForFutureList,"collapse-header-data":E.collapseHeaderData(R),"show-date":U===0?!0:E.filteredTransactions[U].date!==E.filteredTransactions[U-1].date,"visible-select-checkbox":E.visibleSelectCheckbox},on:{toggleCollapseHeader:function(W){return E.handleCollapseHeaderClick(R)}}})}),E.type==="future"&&E.$store.state.transaction.showFutureTransactionsMoreLink[E.featurePeriod]?F("li",{staticClass:"flexbox middle"},[F("button",{staticClass:"button light-gray",staticStyle:{margin:"1rem auto"},on:{click:function(R){return R.preventDefault(),(()=>E.$store.dispatch("transaction/fetchTransactionsFuture")).apply(null,arguments)}}},[F("span",{directives:[{name:"show",rawName:"v-show",value:E.$store.state.transaction.loadingFuture,expression:"$store.state.transaction.loadingFuture"}],staticClass:"custom-mr-8"},[F("i",{staticClass:"fas fa-spinner wa-animation-spin speed-1000"})]),F("span",[E._v(E._s(E.$t("showMore")))])])]):E._e()],2):(E.type==="future"||E.type==="tomorrow")&&E.$store.state.transaction.loadingFuture&&!E.$store.getters["transaction/getFutureTransactions"].length?F("SkeletonTransaction",{attrs:{lines:1}}):F("div",{staticClass:"align-center small custom-py-24"},[E._v(" "+E._s(E.$t("emptyList"))+" ")])],1):E._e()])])},_sfc_staticRenderFns$u=[function(){var V=this,E=V._self._c;return E("span",[E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-check"})])])}],__component__$u=normalizeComponent(_sfc_main$u,_sfc_render$u,_sfc_staticRenderFns$u,!1,null,null,null,null);const TransactionListGroup=__component__$u.exports,_sfc_main$t={components:{SkeletonTransaction},mounted(){this.observer=new IntersectionObserver(([V])=>{V&&V.isIntersecting&&this.$emit("callback")}),this.observer.observe(this.$el)},beforeDestroy(){this.observer.disconnect()}};var _sfc_render$t=function(){var E=this,F=E._self._c;return F("SkeletonTransaction",{attrs:{lines:1}})},_sfc_staticRenderFns$t=[],__component__$t=normalizeComponent(_sfc_main$t,_sfc_render$t,_sfc_staticRenderFns$t,!1,null,null,null,null);const Observer=__component__$t.exports,_sfc_main$s={components:{TransactionListCreated,TransactionListGroup,SkeletonTransaction,Observer},props:{grouping:{type:Boolean,default:!0},observer:{type:Boolean,default:!0},upnext:{type:Boolean,default:!1},showOverdueGroup:{type:Boolean,default:!1},showFutureGroup:{type:Boolean,default:!0},showTodayGroup:{type:Boolean,default:!0},showYesterdayGroup:{type:Boolean,default:!1},showTomorrowGroup:{type:Boolean,default:!1},visibleSelectCheckbox:{type:Boolean,default:!1},showFoundedCount:{type:Boolean,default:!1}},computed:{...mapState("transaction",["transactions","detailsInterval"]),transactionsWithoutJustCreated(){return this.$store.getters["transaction/getTransactionsWithoutJustCreated"]},pastTransactionsOffset(){return this.transactions.data.length-this.$store.getters["transaction/getFutureTransactions"].length},activeCurrencyCode(){return this.$store.getters["transaction/activeCurrencyCode"]},transactionsByCurrency(){return this.activeCurrencyCode?this.transactionsWithoutJustCreated.filter(V=>this.$store.getters["account/accountsByCurrencyCode"](this.activeCurrencyCode).includes(V.account_id)):this.transactionsWithoutJustCreated},groups(){const V=this.$helper.currentDate,E=this.$moment().add(-1,"day").format("YYYY-MM-DD"),F=this.$moment().add(1,"day").format("YYYY-MM-DD"),R=[],U=(W,Y,G=!1)=>{const X=R.find(K=>K.name===W);X?G?X.items.unshift(Y):X.items.push(Y):R.push({name:W,items:[Y]})};return this.showFutureGroupComputed&&R.push({name:"future",items:[]}),this.showTomorrowGroup&&R.push({name:"tomorrow",items:[]}),this.showTodayGroupComputed&&R.push({name:"today",items:[]}),this.showYesterdayGroup&&R.push({name:"yesterday",items:[]}),this.upnext&&R.reverse(),this.showOverdueGroup&&this.transactionsByCurrency.some(W=>W.date<V&&W.is_onbadge)&&R.unshift({name:"overdue",items:[]}),this.transactionsByCurrency.forEach(W=>{if(!this.grouping)return U("ungroup",W);if(W.date<V&&W.is_onbadge&&this.showOverdueGroup)return U("overdue",W);if(W.date===F&&this.showTomorrowGroup)return U("tomorrow",W);if(W.date>V&&this.showFutureGroupComputed)return U("future",W,this.upnext);if(W.date===V&&this.showTodayGroupComputed)return U("today",W);if(W.date===E&&this.showYesterdayGroup)return U("yesterday",W);this.upnext||U(this.$moment(W.date).format("YYYY-MM"),W)}),R},showFutureGroupComputed(){return!this.detailsInterval.from&&!this.detailsInterval.to?this.showFutureGroup:!1},showTodayGroupComputed(){return!this.detailsInterval.from&&!this.detailsInterval.to?this.showTodayGroup:!1}},methods:{observerCallback(){this.$store.dispatch("transaction/fetchTransactions",{offset:this.pastTransactionsOffset})}}};var _sfc_render$s=function(){var E=this,F=E._self._c;return F("div",[E.$store.state.transaction.loading?F("div",[F("SkeletonTransaction")],1):F("div",[F("TransactionListCreated"),E._l(E.groups,function(R,U){return F("div",{key:R.name},[F("TransactionListGroup",{attrs:{group:R.items,type:R.name,index:U,"visible-select-checkbox":E.visibleSelectCheckbox,"show-founded-count":E.showFoundedCount}})],1)}),E.observer&&E.pastTransactionsOffset&&E.pastTransactionsOffset<E.transactions.total?F("Observer",{on:{callback:E.observerCallback}}):E._e()],2)])},_sfc_staticRenderFns$s=[],__component__$s=normalizeComponent(_sfc_main$s,_sfc_render$s,_sfc_staticRenderFns$s,!1,null,null,null,null);const TransactionList=__component__$s.exports,AmChartPie_vue_vue_type_style_index_0_lang="";addLicense("CH269543621");const _sfc_main$r={props:["rawData","label","isCounterMode","totalTransactions","currencyCode"],computed:{featurePeriod(){return this.$store.state.transaction.featurePeriod},futureLabelText(){return this.featurePeriod===1?this.$t("tomorrow"):this.$t("nextDays",{count:this.featurePeriod})},currencySignByCode(){return this.$helper.currencySignByCode(this.currencyCode)}},mounted(){const V=create(this.$refs.chart,PieChart);locale$4==="ru_RU"&&(V.language.locale=am4langRU),V.innerRadius=percent(90);const E=V.seriesContainer.createChild(Label);E.textAlign="middle",E.horizontalCenter="middle",E.dy=-40,this.pieLabel=E;const F=V.series.push(new PieSeries);F.dataFields.value="amount",F.dataFields.category="category",F.labels.template.disabled=!0,F.interpolationDuration=500,F.tooltip.background.filters.clear(),F.tooltip.background.strokeWidth=0,F.tooltip.label.fontSize=13,F.tooltip.animationDuration=500,F.slices.template.propertyFields.fill="category_color",F.slices.template.states.getKey("hover").properties.scale=1,F.slices.template.states.getKey("active").properties.shiftRadius=0,V.data=this.$store.state.category.categories.map(R=>({id:R.id,amount:0,category:R.name,category_color:R.color})),V.data.push({id:null,amount:0,category:"empty",category_color:"rgba(128, 128, 128, 0.2)"}),this.chart=V,this.$watch("$props",()=>{this.renderChart()},{deep:!0,immediate:!0})},beforeDestroy(){this.chart&&this.chart.dispose()},methods:{renderChart(){if(this.pieLabel.html='<div class="black">',this.isCounterMode?this.pieLabel.html+=`<div class="large">${this.$t("selected",{count:this.label})}</div>`:(this.pieLabel.html+=`<div class="larger custom-mb-4">${this.currencySignByCode}</div>`,this.label==="future"?this.pieLabel.html+=`<div>${this.futureLabelText}</div>`:this.pieLabel.html+=this.$moment(new Date(this.label)).isValid()?`<div style="text-transform:capitalize;">${this.$moment(this.label).format("MMMM YYYY")}</div>`:`<div>${this.$t(this.label)}</div>`,this.pieLabel.html+=`<div class="hint custom-mt-8">${this.$t("transactionsListCount",{count:this.totalTransactions})}</div>`),this.pieLabel.html+="</div>",!this.rawData.length){this.chart.series.getIndex(0).slices.template.tooltipText=this.$t("emptyList"),this.chart.data.forEach(V=>{V.amount=V.category==="empty"?100:0}),this.chart.invalidateRawData();return}this.chart.series.getIndex(0).slices.template.tooltipText=`{category}: {value.formatNumber('#,###.##')} ${this.currencySignByCode}`,this.chart.data.forEach(V=>{const E=this.rawData.findIndex(F=>F.id===V.id);V.amount=E>-1?this.rawData[E].amount:0}),this.chart.invalidateRawData()}}};var _sfc_render$r=function(){var E=this,F=E._self._c;return F("div",{ref:"chart",staticClass:"c-chart-pie-sticky"})},_sfc_staticRenderFns$r=[],__component__$r=normalizeComponent(_sfc_main$r,_sfc_render$r,_sfc_staticRenderFns$r,!1,null,null,null,null);const AmChartPie=__component__$r.exports,transactionActionsMixin={methods:{$_transactionActionsMixin_bulkDelete(){confirm(this.$t("bulkDeleteWarning"))&&this.$store.dispatch("transactionBulk/bulkDelete")},$_transactionActionsMixin_emptySelected(){this.$store.commit("transactionBulk/emptySelectedTransactionsIds")}}},ButtonRound_vue_vue_type_style_index_0_scoped_3f351216_lang="",_sfc_main$q={props:["icon","tooltip"]};var _sfc_render$q=function(){var E=this,F=E._self._c;return F("button",{staticClass:"button rounded",attrs:{"aria-label":E.tooltip,"data-microtip-position":"top",role:"tooltip"}},[F("i",{class:`fas ${E.icon}`})])},_sfc_staticRenderFns$q=[],__component__$q=normalizeComponent(_sfc_main$q,_sfc_render$q,_sfc_staticRenderFns$q,!1,null,"3f351216",null,null);const ButtonRound=__component__$q.exports,_sfc_main$p={components:{ButtonRound},methods:{restore(){this.$store.dispatch("transactionBulk/restore")},purge(){confirm(this.$t("bulkPurgeWarning"))&&this.$store.dispatch("transactionBulk/purge")}}};var _sfc_render$p=function(){var E=this,F=E._self._c;return F("div",{staticClass:"flexbox space-16",staticStyle:{"justify-content":"center"}},[F("ButtonRound",{attrs:{icon:"fa-trash-restore-alt",tooltip:E.$t("restore")},nativeOn:{click:function(R){return E.restore.apply(null,arguments)}}}),F("ButtonRound",{staticClass:"red",attrs:{icon:"fa-trash-alt",tooltip:E.$t("purge")},nativeOn:{click:function(R){return E.purge.apply(null,arguments)}}})],1)},_sfc_staticRenderFns$p=[],__component__$p=normalizeComponent(_sfc_main$p,_sfc_render$p,_sfc_staticRenderFns$p,!1,null,null,null,null);const AmChartBulkControlsArchive=__component__$p.exports,_sfc_main$o={components:{InputContractor,DropdownWa},mixins:[rowModificatorMixin],data(){return{model:{account_id:0,category_id:0,contractor_contact_id:null},controlsDisabled:!1}},computed:{...mapState("account",["accounts"]),ids(){return this.$store.state.transactionBulk.selectedTransactionsIds}},methods:{submit(){this.controlsDisabled=!0,this.$store.dispatch("transactionBulk/bulkMove",{ids:this.ids,...this.model}).then(()=>{this.close()}).finally(()=>{this.controlsDisabled=!1})},close(){this.$parent.$emit("close")}}};var _sfc_render$o=function(){var E=this,F=E._self._c;return F("div",{staticClass:"dialog-body",staticStyle:{overflow:"initial"}},[F("div",{staticClass:"dialog-header"},[F("h2",[E._v(E._s(E.$t("moveTransactions",{count:E.ids.length})))])]),F("div",{staticClass:"dialog-content",staticStyle:{overflow:"initial"}},[F("div",{staticClass:"fields"},[F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("account"))+" ")]),F("div",{staticClass:"value"},[F("DropdownWa",{staticClass:"width-100",attrs:{items:[{id:0,name:E.$t("dontChange")},...E.accounts],"use-default-value":!1,"value-prop-name":"id","row-modificator":E.$_rowModificatorMixin_rowModificator_account,"max-height":200},model:{value:E.model.account_id,callback:function(R){E.$set(E.model,"account_id",R)},expression:"model.account_id"}})],1)]),F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("category"))+" ")]),F("div",{staticClass:"value"},[F("DropdownWa",{staticClass:"width-100",attrs:{items:[[{id:0,name:E.$t("dontChange")}],E.$store.getters["category/getByType"]("income"),E.$store.getters["category/getByType"]("expense")],"groups-labels":["",E.$t("income"),E.$t("expense")],"use-default-value":!1,"value-prop-name":"id","row-modificator":E.$_rowModificatorMixin_rowModificator_category,"max-height":200},model:{value:E.model.category_id,callback:function(R){E.$set(E.model,"category_id",R)},expression:"model.category_id"}})],1)]),F("div",{staticClass:"field"},[F("div",{staticClass:"name for-input"},[E._v(" "+E._s(E.$t("contractor"))+" ")]),F("div",{staticClass:"value"},[F("InputContractor",{attrs:{"create-new-contractor":!1},on:{changeContractor:R=>{E.model.contractor_contact_id=R}}})],1)]),F("div",{staticClass:"field"},[F("div",{staticClass:"name"}),F("div",{staticClass:"value"},[F("p",{staticClass:"hint"},[F("i",{staticClass:"fas fa-exclamation-triangle",staticStyle:{color:"orangered"}}),E._v(" "+E._s(E.$t("bulkMoveWarning"))+" ")])])])])]),F("div",{staticClass:"dialog-footer"},[F("div",{staticClass:"flexbox"},[F("div",{staticClass:"flexbox space-12 wide"},[F("button",{staticClass:"button purple",attrs:{disabled:E.controlsDisabled},on:{click:E.submit}},[E._v(" "+E._s(E.$t("updateTransactions",{count:E.ids.length}))+" ")]),F("button",{staticClass:"button light-gray",on:{click:E.close}},[E._v(" "+E._s(E.$t("cancel"))+" ")])])])])])},_sfc_staticRenderFns$o=[],__component__$o=normalizeComponent(_sfc_main$o,_sfc_render$o,_sfc_staticRenderFns$o,!1,null,null,null,null);const TransactionMove=__component__$o.exports,_sfc_main$n={components:{Modal:Modal$1,TransactionMove,ButtonRound},mixins:[transactionActionsMixin],data(){return{openMove:!1}}};var _sfc_render$n=function(){var E=this,F=E._self._c;return F("div",{staticClass:"flexbox space-16",staticStyle:{"justify-content":"center"}},[F("ButtonRound",{attrs:{icon:"fa-arrow-right",tooltip:E.$t("move")},nativeOn:{click:function(R){E.openMove=!0}}}),F("ButtonRound",{staticClass:"red",attrs:{icon:"fa-trash-alt",tooltip:E.$t("delete")},nativeOn:{click:function(R){return E.$_transactionActionsMixin_bulkDelete.apply(null,arguments)}}}),F("portal",[E.openMove?F("Modal",{on:{close:function(R){E.openMove=!1}}},[F("TransactionMove")],1):E._e()],1)],1)},_sfc_staticRenderFns$n=[],__component__$n=normalizeComponent(_sfc_main$n,_sfc_render$n,_sfc_staticRenderFns$n,!1,null,null,null,null);const AmChartBulkControlsRegular=__component__$n.exports,_sfc_main$m={components:{AmChartBulkControlsArchive,AmChartBulkControlsRegular},mixins:[transactionActionsMixin],inject:{archive:{default:!1}}};var _sfc_render$m=function(){var E=this,F=E._self._c;return F("div",{staticClass:"flexbox vertical"},[F("div",{staticClass:"custom-mb-8"},[E.archive?F("AmChartBulkControlsArchive"):F("AmChartBulkControlsRegular")],1),F("button",{staticClass:"button nobutton small",on:{click:E.$_transactionActionsMixin_emptySelected}},[E._v(" "+E._s(E.$t("unselectAll"))+" ")])])},_sfc_staticRenderFns$m=[],__component__$m=normalizeComponent(_sfc_main$m,_sfc_render$m,_sfc_staticRenderFns$m,!1,null,null,null,null);const AmChartBulkControls=__component__$m.exports,AmChartPieSticky_vue_vue_type_style_index_0_lang="",_sfc_main$l={components:{AmChartPie,AmChartLegend,AmChartBulkControls},computed:{...mapState("transaction",["transactions","activeGroupTransactions","chartData","chartDataCurrencyIndex"]),...mapState("transactionBulk",["selectedTransactionsIds"]),isCounterMode(){return!!this.selectedTransactionsIds.length},currencyCode(){return this.chartData.length?this.chartData[this.chartDataCurrencyIndex].currency:this.$store.getters["account/getById"](this.transactions.data[0].account_id).currency},totalTransactions(){return this.activeGroupTransactions.items.filter(V=>this.$store.getters["account/getById"](V.account_id).currency===this.currencyCode).length},rawDataByCurrency(){return this.rawData.filter(V=>V.currency===this.currencyCode)},rawData(){const V=this.isCounterMode?{items:this.selectedTransactionsIds}:this.activeGroupTransactions;return Object.values(V.items.reduce((E,F)=>{const R=this.$store.getters["transaction/getTransactionById"](F)||F,U=this.$store.getters["category/getById"](R.category_id),W=this.$store.getters["account/getById"](R.account_id);return E[U.id]?E[U.id].amount+=R.amount:E[U.id]={id:U.id,date:R.date,amount:R.amount,currency:W.currency,category_name:U.name,category_color:U.color},E},{}))}}};var _sfc_render$l=function(){var E=this,F=E._self._c;return F("div",[F("div",{staticStyle:{position:"relative"}},[F("AmChartPie",{attrs:{"raw-data":E.isCounterMode?E.rawData:E.rawDataByCurrency,"is-counter-mode":E.isCounterMode,"total-transactions":E.totalTransactions,label:E.isCounterMode?E.selectedTransactionsIds.length:E.activeGroupTransactions.name,"currency-code":E.currencyCode}}),E.$store.state.transactionBulk.selectedTransactionsIds.length?F("AmChartBulkControls",{staticClass:"c-chart-bulk-controls"}):E._e()],1),F("AmChartLegend",{staticClass:"custom-mx-20",attrs:{"legend-items":E.rawDataByCurrency,"currency-code":E.currencyCode}})],1)},_sfc_staticRenderFns$l=[],__component__$l=normalizeComponent(_sfc_main$l,_sfc_render$l,_sfc_staticRenderFns$l,!1,null,null,null,null);const AmChartPieSticky=__component__$l.exports,AmChartPieStickyContainer_vue_vue_type_style_index_0_lang="",_sfc_main$k={components:{AmChartPieSticky},props:{selectedOnlyMode:{type:Boolean,default:!1}}};var _sfc_render$k=function(){var E=this,F=E._self._c;return E.$helper.isDesktopEnv?F("div",{staticClass:"c-chart-pie-sticky-container",attrs:{"sticky-container":""}},[F("div",{directives:[{name:"sticky",rawName:"v-sticky"}],attrs:{"sticky-offset":"{top: 80}","sticky-z-index":"12"}},[F("div",{staticClass:"c-chart-pie-sticky-container__inner"},[E.$store.state.transaction.transactions.data.length&&(E.selectedOnlyMode?E.$store.state.transactionBulk.selectedTransactionsIds.length:!0)?F("AmChartPieSticky"):E._e()],1)])]):E._e()},_sfc_staticRenderFns$k=[],__component__$k=normalizeComponent(_sfc_main$k,_sfc_render$k,_sfc_staticRenderFns$k,!1,null,null,null,null);const AmChartPieStickyContainer=__component__$k.exports,routerTransitionMixin={beforeRouteUpdate(V,E,F){this.clearDefaultGroupTransactions(),F()},beforeRouteLeave(V,E,F){this.clearDefaultGroupTransactions(),F()},methods:{clearDefaultGroupTransactions(){this.$store.commit("transactionBulk/emptySelectedTransactionsIds"),this.$store.commit("transaction/setDetailsInterval",{from:"",to:""})}}};/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function useRouter(){return getCurrentInstance().proxy.$root.$router}function useRoute(){var V=getCurrentInstance().proxy.$root;if(!V._$route){var E=effectScope(!0).run(function(){return shallowReactive(Object.assign({},V.$router.currentRoute))});V._$route=E,V.$router.afterEach(function(F){Object.assign(E,F)})}return V._$route}const _sfc_main$j={__name:"AlertImported",setup(V){const E=useRouter(),F=useRoute(),R=ref$1(!1);return onMounted(()=>{var U;if(E.currentRoute.query.show_ss_import_hint){F.name==="Account"&&((U=store.getters["account/getById"](+F.params.id))==null?void 0:U.stat.summary)&&(R.value=!0);const W={...E.currentRoute.query};delete W.show_ss_import_hint,E.replace({query:W}),watch(()=>F.fullPath,()=>{R.value=!1})}}),{__sfc:!0,router:E,route:F,show:R,onMounted,ref:ref$1,watch,useRouter,useRoute,store}}};var _sfc_render$j=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F("div",{staticClass:"custom-m-12 custom-ml-32 custom-ml-12-mobile",staticStyle:{"max-width":"1000px"}},[R.show?F("div",{staticClass:"alert success small"},[F("div",{staticClass:"flexbox space-16 full-width"},[F("div",[E.$i18n.locale==="ru_RU"?[E._m(0),E._m(1)]:[E._m(2),E._m(3)]],2),F("div",[F("a",{staticClass:"alert-close",on:{click:function(U){U.preventDefault(),R.show=!1}}},[F("i",{staticClass:"fas fa-times"})])])])]):E._e()])},_sfc_staticRenderFns$j=[function(){var V=this,E=V._self._c;return V._self._setupProxy,E("p",[V._v(" \u0421\u0442\u043E\u043B\u044C\u043A\u043E \u043D\u0430\u043B\u0438\u0447\u043D\u044B\u0445 "),E("i",[V._v("\u0431\u044B\u043B\u043E \u0431\u044B")]),V._v(" \u0432 \u043A\u0430\u0441\u0441\u0435 \u043F\u0440\u044F\u043C\u043E \u0441\u0435\u0439\u0447\u0430\u0441, \u0435\u0441\u043B\u0438 \u0431\u044B \u0443 \u0431\u0438\u0437\u043D\u0435\u0441\u0430 \u0431\u044B\u043B\u0438 \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043E\u0445\u043E\u0434\u044B (\u043F\u0440\u043E\u0434\u0430\u0436\u0438) \u0438 \u043D\u0438\u043A\u0430\u043A\u0438\u0445 \u0440\u0430\u0441\u0445\u043E\u0434\u043E\u0432, \u0442\u0430\u043A\u0438\u0445 \u043A\u0430\u043A \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u044B, \u0430\u0440\u0435\u043D\u0434\u0430, \u043C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433, \u0434\u0438\u0432\u0438\u0434\u0435\u043D\u0434\u044B \u0438 \u0442\u0430\u043A \u0434\u0430\u043B\u0435\u0435. ")])},function(){var V=this,E=V._self._c;return V._self._setupProxy,E("p",[E("strong",[V._v("\u0422\u0435\u043F\u0435\u0440\u044C \u0434\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u0432\u0440\u0443\u0447\u043D\u0443\u044E \u0438\u043B\u0438 \u0438\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0440\u0430\u0441\u0445\u043E\u0434\u043D\u044B\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438")]),V._v(", \u0438 \u0442\u043E\u0433\u0434\u0430 \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u0430\u044F \u043C\u043E\u0434\u0435\u043B\u044C \u0431\u0438\u0437\u043D\u0435\u0441\u0430 \u0438 \u043F\u0440\u043E\u0433\u043D\u043E\u0437 \u0431\u0443\u0434\u0443\u0442 \u043F\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u044B \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438. ")])},function(){var V=this,E=V._self._c;return V._self._setupProxy,E("p",[V._v(" This is how much cash you "),E("i",[V._v("would")]),V._v(" have on hand right now if there were only sales (income), but no business expenses such as salaries, office rent, marketing, purchase & supplies, dividends, and so on. ")])},function(){var V=this,E=V._self._c;return V._self._setupProxy,E("p",[E("strong",[V._v("Add manually or import your historical expenses now")]),V._v(" to get your real cash on hand forecast. Both income & expense transactions together will show you the real picture on how your business finances work. ")])}],__component__$j=normalizeComponent(_sfc_main$j,_sfc_render$j,_sfc_staticRenderFns$j,!1,null,null,null,null);const AlertImported=__component__$j.exports,AddTransactionBulk_vue_vue_type_style_index_0_scoped_fb052329_lang="",_sfc_main$i={components:{InputCurrency,DateField,DropdownWa},mixins:[rowModificatorMixin,entityPageMixin],data(){return{model:{amount:null,category_id:null,account_id:null,date:null},data:[],controlsDisabled:!0}},validations:{data:{$each:{amount:{minLength:validators_min.exports.minLength(1)},category_id:{required:validators_min.exports.requiredIf(V=>V.amount)},account_id:{required:validators_min.exports.requiredIf(V=>V.amount)},date:{required:validators_min.exports.requiredIf(V=>V.amount)}}}},computed:{accounts(){return this.$store.state.account.accounts}},watch:{data:{handler(V){this.controlsDisabled=!V.filter(E=>E.amount).length},deep:!0}},created(){const V=this.$store.state.currentType;(V==="account"||V==="category")&&(this.model[`${V}_id`]=this.$store.state.currentTypeId),this.accounts.length===1&&(this.model.account_id=this.accounts[0].id),this.data=new Array(5).fill(null).map(()=>({...this.model}))},methods:{submit(){if(this.$v.$touch(),!this.$v.$invalid){this.controlsDisabled=!0;const V=this.data.filter(E=>E.amount);this.$store.dispatch("transactionBulk/bulkCreate",V).then(()=>{this.$parent.$emit("close")}).finally(()=>{this.controlsDisabled=!1})}}}};var _sfc_render$i=function(){var E=this,F=E._self._c;return F("div",{staticClass:"dialog-body",staticStyle:{width:"700px"}},[F("div",{staticClass:"dialog-header"},[F("h2",{staticClass:"custom-mb-0"},[E._v(" "+E._s(E.$t("addMany"))+" ")])]),F("div",{staticClass:"dialog-content"},[E._l(E.data,function(R,U){return F("div",{key:U,staticClass:"flexbox middle custom-mb-12 space-8"},[F("div",{staticClass:"state-with-inner-icon left width-25"},[F("DateField",{class:{"state-error":E.$v.data.$each[U].date.$error},model:{value:R.date,callback:function(W){E.$set(R,"date",W)},expression:"row.date"}}),E._m(0,!0)],1),F("div",{staticClass:"width-25"},[F("DropdownWa",{staticClass:"width-100",attrs:{items:[E.$store.getters["category/getByType"]("income"),E.$store.getters["category/getByType"]("expense")],"groups-labels":[E.$t("income"),E.$t("expense")],"value-prop-name":"id",error:E.$v.data.$each[U].category_id.$error,"row-modificator":E.$_rowModificatorMixin_rowModificator_category,"max-height":200},model:{value:R.category_id,callback:function(W){E.$set(R,"category_id",W)},expression:"row.category_id"}})],1),F("div",{staticClass:"width-25"},[F("DropdownWa",{staticClass:"width-100",attrs:{items:E.$store.state.account.accounts,"value-prop-name":"id",error:E.$v.data.$each[U].account_id.$error,"row-modificator":E.$_rowModificatorMixin_rowModificator_account,"max-height":200},model:{value:R.account_id,callback:function(W){E.$set(R,"account_id",W)},expression:"row.account_id"}})],1),F("div",{staticClass:"width-25"},[F("input-currency",{attrs:{signed:!1,"category-id":R.category_id,"account-id":R.account_id,error:E.$v.data.$each[U].amount.$error,placeholder:"0"},model:{value:R.amount,callback:function(W){E.$set(R,"amount",W)},expression:"row.amount"}})],1),E.data.length>1?F("div",[F("a",{on:{click:function(W){return W.preventDefault(),E.data.splice(U,1)}}},[F("i",{staticClass:"fas fa-times-circle text-light-gray"})])]):E._e()])}),F("div",{staticClass:"align-right"},[F("a",{staticClass:"small",on:{click:function(R){return R.preventDefault(),E.data.push({...E.model})}}},[E._v(E._s(E.$t("addmore")))])])],2),F("div",{staticClass:"dialog-footer"},[F("div",{staticClass:"flexbox"},[F("div",{staticClass:"flexbox space-12 wide"},[F("button",{staticClass:"button",attrs:{disabled:E.controlsDisabled},on:{click:E.submit}},[E._v(" "+E._s(E.$t("add"))+" ")]),F("button",{staticClass:"button light-gray",on:{click:function(R){return E.$parent.$emit("close")}}},[E._v(" "+E._s(E.$t("cancel"))+" ")])])])])])},_sfc_staticRenderFns$i=[function(){var V=this,E=V._self._c;return E("span",{staticClass:"icon"},[E("i",{staticClass:"fas fa-calendar"})])}],__component__$i=normalizeComponent(_sfc_main$i,_sfc_render$i,_sfc_staticRenderFns$i,!1,null,"fb052329",null,null);const AddTransactionBulk=__component__$i.exports,TransactionControls_vue_vue_type_style_index_0_lang="",_sfc_main$h={components:{Modal:Modal$1,AddTransactionBulk,TransactionMove},props:{direction:{type:String},multiselectView:{type:Boolean,default:!0},defaultDate:{type:String}},data(){return{openMove:!1,openAddBulk:!1}},computed:{...mapGetters({currentType:"getCurrentType"}),checkedRows(){return this.$store.state.transactionBulk.selectedTransactionsIds}},watch:{async $route(V){await this.$nextTick();const E=this.$refs.controlButtons.querySelector("button");E&&(E.classList.remove("pulsar"),V.params.isFirtsTimeNavigate&&setTimeout(()=>{E.classList.add("pulsar")},1500))}},mounted(){const V=this.$route.query.addtransaction;["income","expense"].includes(V)&&this.addTransaction(V)},methods:{addTransaction(V){this.$eventBus.emit("openAddTransactionModal",{type:V,defaultDate:this.defaultDate})},bulkDelete(){confirm(this.$t("bulkDeleteWarning"))&&this.$store.dispatch("transactionBulk/bulkDelete")},unselectAll(){this.$store.commit("transactionBulk/emptySelectedTransactionsIds")},async reOpen(){this.open=!1,await this.$nextTick(),this.open=!0}}};var _sfc_render$h=function(){var E=this,F=E._self._c;return F("div",{staticClass:"c-transaction-controls-sticky",class:{"desktop-and-tablet-only":E.$helper.isDesktopEnv}},[F("div",{staticClass:"c-transaction-controls custom-pl-32 custom-pl-12-mobile",staticStyle:{"overflow-x":"auto"}},[E.checkedRows.length&&E.multiselectView?F("div",{staticClass:"c-transaction-controls-check flexbox middle",class:E.direction==="column"&&"vertical"},[F("button",{staticClass:"button blue nowrap",class:E.direction==="column"&&"custom-mb-12",on:{click:function(R){E.openMove=!0}}},[F("i",{staticClass:"fas fa-coins"}),E._v(" "+E._s(E.$t("move"))+" ("+E._s(E.checkedRows.length)+") ")]),F("button",{staticClass:"button red nowrap",class:E.direction==="column"&&"custom-mb-12",on:{click:E.bulkDelete}},[F("i",{staticClass:"fas fa-trash-alt"}),E._v(" "+E._s(E.$t("delete"))+" ("+E._s(E.checkedRows.length)+") ")]),F("button",{staticClass:"button nobutton smaller nowrap",on:{click:E.unselectAll}},[E._v(" "+E._s(E.$t("unselectAll"))+" ")])]):E._e(),E.$helper.isDesktopEnv&&E.currentType?F("div",{ref:"controlButtons",staticClass:"flexbox wrap space-12 middle"},[F("div",{directives:[{name:"show",rawName:"v-show",value:E.currentType.type!=="expense",expression:"currentType.type !== 'expense'"}]},[F("button",{staticClass:"button c-button-add-income nowrap",on:{click:function(R){return E.addTransaction("income")}}},[F("i",{staticClass:"fas fa-plus"}),F("span",{staticClass:"custom-ml-8"},[E._v(E._s(E.$t("addIncome")))])])]),F("div",{directives:[{name:"show",rawName:"v-show",value:E.currentType.type!=="income",expression:"currentType.type !== 'income'"}]},[F("button",{staticClass:"button c-button-add-expense nowrap",on:{click:function(R){return E.addTransaction("expense")}}},[F("i",{staticClass:"fas fa-minus"}),F("span",{staticClass:"custom-ml-8"},[E._v(E._s(E.$t("addExpense")))])])]),E.currentType.type!=="expense"&&E.currentType.type!=="income"&&E.$permissions.canAccessTransfers&&E.$store.state.account.accounts.length>1?F("div",[F("button",{staticClass:"button light-gray nowrap",on:{click:function(R){return E.addTransaction("transfer")}}},[F("span",[F("i",{staticClass:"fas fa-exchange-alt"}),F("span",{staticClass:"desktop-only custom-ml-8"},[E._v(E._s(E.$t("transfer")))])])])]):E._e(),F("div",[F("button",{staticClass:"button nobutton gray nowrap",on:{click:function(R){E.openAddBulk=!0}}},[F("span",[F("i",{staticClass:"fas fa-list-ul"}),F("span",{staticClass:"desktop-only custom-ml-8 black"},[E._v(E._s(E.$t("addMany")))])])])])]):E._e(),F("portal",[E.openMove?F("Modal",{on:{close:function(R){E.openMove=!1}}},[F("TransactionMove")],1):E._e()],1),F("portal",[E.openAddBulk?F("Modal",{on:{close:function(R){E.openAddBulk=!1}}},[F("AddTransactionBulk")],1):E._e()],1)],1)])},_sfc_staticRenderFns$h=[],__component__$h=normalizeComponent(_sfc_main$h,_sfc_render$h,_sfc_staticRenderFns$h,!1,null,null,null,null);const TransactionControls=__component__$h.exports,_sfc_main$g={components:{CashGapMessage,ChartHeader,ChartHeaderControls,ChartHeaderTitle,AmChartContainer,DetailsDashboard,TransactionList,AmChartPieStickyContainer,AlertImported,TransactionControls},mixins:[routerTransitionMixin],beforeRouteEnter(V,E,F){F(R=>{R.updateEntity(V)})},beforeRouteUpdate(V,E,F){this.updateEntity(V),F()},beforeRouteLeave(V,E,F){this.$store.commit("setCurrentEntity",{name:"",id:null}),F()},methods:{async updateEntity(V){const E=V.name.toLowerCase(),F=+V.params.id||V.params.id;if(E!=="home"){if(E==="currency"){if(!this.$store.getters["account/currenciesInAccounts"].includes(F)){this.$router.replace({name:"NotFound"});return}}else if(!this.$store.getters[`${E}/getById`](F)){this.$router.replace({name:"NotFound"});return}}await this.$store.dispatch("updateCurrentEntity",{name:E,id:F});const R=this.$store.getters.getCurrentType;let U="";switch(V.name){case"Home":U=this.$store.state.currentTypeId;break;case"Account":case"Category":U=R.name;break;case"Currency":U=V.params.id;break}document.title=`${U} \u2014 ${this.$helper.accountName}`,this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().add(1,"M").format("YYYY-MM-DD"),offset:0})}}};var _sfc_render$g=function(){var E=this,F=E._self._c;return F("div",[F("CashGapMessage"),F("ChartHeader",{scopedSlots:E._u([{key:"title",fn:function(){return[F("ChartHeaderTitle")]},proxy:!0},{key:"controls",fn:function(){return[F("ChartHeaderControls")]},proxy:!0}])}),F("TransactionControls"),F("AlertImported"),F("AmChartContainer"),F("DetailsDashboard"),F("div",{staticClass:"flexbox"},[F("div",{staticClass:"wide"},[F("TransactionList",{attrs:{"show-tomorrow-group":!0,"show-yesterday-group":!0}})],1),F("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$g=[],__component__$g=normalizeComponent(_sfc_main$g,_sfc_render$g,_sfc_staticRenderFns$g,!1,null,null,null,null);const Home=__component__$g.exports,_sfc_main$f={components:{ChartHeader,TransactionList,AmChartPieStickyContainer,TransactionControls},mixins:[routerTransitionMixin],mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().add(-1,"d").format("YYYY-MM-DD"),offset:0,filter:""})}};var _sfc_render$f=function(){var E=this,F=E._self._c;return F("div",[F("ChartHeader",{scopedSlots:E._u([{key:"title",fn:function(){return[F("h1",{},[E._v(" "+E._s(E.$t("history"))+" ")])]},proxy:!0}])}),F("TransactionControls"),F("div",{staticClass:"flexbox"},[F("div",{staticClass:"wide"},[F("TransactionList",{attrs:{"show-today-group":!1,"show-future-group":!1,"show-yesterday-group":!0}})],1),F("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$f=[],__component__$f=normalizeComponent(_sfc_main$f,_sfc_render$f,_sfc_staticRenderFns$f,!1,null,null,null,null);const History=__component__$f.exports,_sfc_main$e={components:{ChartHeader,TransactionList,AmChartPieStickyContainer,TransactionControls},mixins:[routerTransitionMixin],mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().add(1,"M").format("YYYY-MM-DD"),offset:0,filter:""})}};var _sfc_render$e=function(){var E=this,F=E._self._c;return F("div",[F("ChartHeader",{scopedSlots:E._u([{key:"title",fn:function(){return[F("h1",{},[E._v(" "+E._s(E.$t("allTransactions"))+" ")])]},proxy:!0}])}),F("TransactionControls"),F("div",{staticClass:"flexbox"},[F("div",{staticClass:"wide"},[F("TransactionList",{attrs:{"show-yesterday-group":!0,"show-overdue-group":!0,"show-tomorrow-group":!0}})],1),F("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$e=[],__component__$e=normalizeComponent(_sfc_main$e,_sfc_render$e,_sfc_staticRenderFns$e,!1,null,null,null,null);const Transactions=__component__$e.exports,_sfc_main$d={components:{ChartHeader,TransactionList,AmChartPieStickyContainer,TransactionControls},mixins:[routerTransitionMixin],mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:this.$route.params.date,to:this.$route.params.date,offset:0,filter:""})}};var _sfc_render$d=function(){var E=this,F=E._self._c;return F("div",[F("ChartHeader",{scopedSlots:E._u([{key:"title",fn:function(){return[F("h1",{staticClass:"flexbox space-8"},[F("a",{staticClass:"mobile-only",on:{click:function(R){return R.preventDefault(),E.$router.push({name:"Calendar"})}}},[F("i",{staticClass:"fas fa-arrow-circle-left text-light-gray"})]),E._v(" "+E._s(E.$moment(E.$route.params.date).format("LL"))+" ")])]},proxy:!0}])}),F("TransactionControls",{attrs:{"default-date":E.$route.params.date}}),F("div",{staticClass:"flexbox"},[F("div",{staticClass:"wide"},[F("TransactionList",{attrs:{"show-future-group":!1,"show-today-group":!1}})],1),F("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$d=[],__component__$d=normalizeComponent(_sfc_main$d,_sfc_render$d,_sfc_staticRenderFns$d,!1,null,null,null,null);const Date$1=__component__$d.exports,_sfc_main$c={components:{ChartHeader,TransactionList,AmChartPieStickyContainer},mixins:[routerTransitionMixin],mounted(){this.$store.dispatch("transaction/fetchUpNextTransactions")}};var _sfc_render$c=function(){var E=this,F=E._self._c;return F("div",[F("ChartHeader",{scopedSlots:E._u([{key:"title",fn:function(){return[F("h1",{},[E._v(" "+E._s(E.$t("upnext"))+" ")])]},proxy:!0}])}),F("div",{staticClass:"flexbox"},[F("div",{staticClass:"wide"},[F("TransactionList",{attrs:{observer:!1,upnext:!0,"show-tomorrow-group":!0,"show-today-group":!1}})],1),F("AmChartPieStickyContainer")],1)],1)},_sfc_staticRenderFns$c=[],__component__$c=normalizeComponent(_sfc_main$c,_sfc_render$c,_sfc_staticRenderFns$c,!1,null,null,null,null);const Upnext=__component__$c.exports,_sfc_main$b={components:{ChartHeader,TransactionList,AmChartPieStickyContainer},mixins:[routerTransitionMixin],computed:{transactions(){return this.$store.state.transaction.transactions.data},loading(){return this.$store.state.transaction.loading}},watch:{$route:"makeSearch"},mounted(){this.makeSearch()},methods:{makeSearch(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:"",offset:0,filter:`search/${this.$route.query.text}`})}}};var _sfc_render$b=function(){var E=this,F=E._self._c;return F("div",[F("ChartHeader",{attrs:{"show-controls":!1},scopedSlots:E._u([{key:"title",fn:function(){return[F("h1",{},[E._v(" "+E._s(E.$route.query.text)),!E.transactions.length&&!E.loading?F("span",[E._v(": "+E._s(E.$t("notFound")))]):E._e()])]},proxy:!0}])}),F("div",{staticClass:"flexbox"},[F("div",{staticClass:"wide"},[F("TransactionList",{attrs:{"show-today-group":!1,"show-future-group":!1,grouping:!1,"visible-select-checkbox":!0,"show-founded-count":!0}})],1),F("AmChartPieStickyContainer",{attrs:{"selected-only-mode":!0}})],1)],1)},_sfc_staticRenderFns$b=[],__component__$b=normalizeComponent(_sfc_main$b,_sfc_render$b,_sfc_staticRenderFns$b,!1,null,null,null,null);const Search=__component__$b.exports,_sfc_main$a={components:{ChartHeader,TransactionList,AmChartPieStickyContainer},mixins:[routerTransitionMixin],computed:{importInfo(){const V=new URL(location.href).searchParams.get("importinfo");return V?atob(V):null}},mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:"",offset:0,filter:`import/${this.$route.params.id}`})}};var _sfc_render$a=function(){var E=this,F=E._self._c;return F("div",[F("ChartHeader",{attrs:{"show-controls":!1},scopedSlots:E._u([{key:"title",fn:function(){return[F("h1",{},[E._v(" "+E._s(E.$t("importResults"))+" ")]),E.importInfo?F("div",{staticClass:"gray"},[E._v(" "+E._s(E.importInfo)+" ")]):E._e()]},proxy:!0}])}),F("div",{staticClass:"flexbox"},[F("div",{staticClass:"wide"},[F("TransactionList",{attrs:{"show-today-group":!1,"show-future-group":!1,grouping:!1,"visible-select-checkbox":!0,"show-founded-count":!0}})],1),F("AmChartPieStickyContainer",{attrs:{"selected-only-mode":!0}})],1)],1)},_sfc_staticRenderFns$a=[],__component__$a=normalizeComponent(_sfc_main$a,_sfc_render$a,_sfc_staticRenderFns$a,!1,null,null,null,null);const Import=__component__$a.exports,_sfc_main$9={components:{ChartHeader,TransactionList,AmChartPieStickyContainer},mixins:[routerTransitionMixin],provide:{archive:!0},mounted(){this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().format("YYYY-MM-DD"),offset:0,filter:"trash/0"})}};var _sfc_render$9=function(){var E=this,F=E._self._c;return F("div",[F("ChartHeader",{attrs:{"show-controls":!1},scopedSlots:E._u([{key:"title",fn:function(){return[F("h1",{},[E._v(" "+E._s(E.$t("trash"))+" ")]),F("p",{staticClass:"small custom-px-16-mobile"},[E._v(" "+E._s(E.$t("trashInfo"))+" ")])]},proxy:!0}])}),F("div",{staticClass:"flexbox"},[F("div",{staticClass:"wide"},[F("TransactionList",{attrs:{"show-today-group":!1,"show-future-group":!1,grouping:!1,"visible-select-checkbox":!0,"show-founded-count":!0}})],1),F("AmChartPieStickyContainer",{attrs:{"selected-only-mode":!0}})],1)],1)},_sfc_staticRenderFns$9=[],__component__$9=normalizeComponent(_sfc_main$9,_sfc_render$9,_sfc_staticRenderFns$9,!1,null,null,null,null);const Trash=__component__$9.exports,_sfc_main$8={components:{ChartHeader,ChartHeaderControls,AmChartContainer,DetailsDashboard,TransactionList,AmChartPieStickyContainer,TransactionControls},mixins:[routerTransitionMixin],beforeRouteLeave(V,E,F){this.$store.commit("entity/resetEntity"),F()},data(){return{error:null}},metaInfo(){var V,E;return{title:((V=this.entity)==null?void 0:V.entity_name)||"",titleTemplate:`%s \u2013 ${((E=window.appState)==null?void 0:E.accountName)||""}`}},computed:{entity(){return this.$store.state.entity.entity}},watch:{$route:"fetch"},created(){this.fetch()},methods:{async fetch(){this.error=null;try{const{data:V}=await api$1.get(`cash.system.getExternalEntity?source=${this.$route.meta.getExternalEntitySource}&id=${this.$route.params.id}`);if(V.error){this.handleResponseError(V);return}this.$store.commit("entity/setEntity",V),this.$store.commit("transaction/updateQueryParams",{filter:this.$route.meta.fetchTransactionsFilter(this.entity.entity_id)}),this.$route.meta.showChart&&this.$store.dispatch("transaction/getChartData"),this.$store.dispatch("transaction/fetchTransactions",{from:"",to:this.$moment().add(1,"M").format("YYYY-MM-DD"),offset:0,filter:this.$route.meta.fetchTransactionsFilter(this.entity.entity_id)})}catch(V){this.handleResponseError(V.response.data)}},handleResponseError(V){var E;this.error=(E=V.error_description)!=null?E:"Error"}}};var _sfc_render$8=function(){var E=this,F=E._self._c;return E.error?F("div",{staticClass:"c-header custom-m-12 custom-ml-32 custom-ml-12-mobile"},[F("h1",[E._v(E._s(E.$route.params.id)+": "+E._s(E.error))])]):E.entity?F("div",[F("ChartHeader",{scopedSlots:E._u([{key:"title",fn:function(){return[F("h1",{staticClass:"flexbox space-12 middle"},[E.entity.entity_icon?F("img",{class:{userpic:E.$route.meta.getExternalEntitySource==="contacts"},staticStyle:{height:"40px","object-fit":"contain"},attrs:{src:E.entity.entity_icon}}):E._e(),F("a",{attrs:{href:E.entity.entity_url,target:"_blank"}},[E._v(E._s(E.entity.entity_name))])])]},proxy:!0},E.$route.meta.showChart?{key:"controls",fn:function(){return[F("ChartHeaderControls")]},proxy:!0}:null],null,!0)}),F("TransactionControls"),E.$route.meta.showChart?[F("AmChartContainer"),F("DetailsDashboard")]:E._e(),F("div",{staticClass:"flexbox"},[F("div",{staticClass:"wide"},[F("TransactionList",{attrs:{"show-tomorrow-group":!0,"show-yesterday-group":!1,"show-overdue-group":!1,"show-today-group":!1}})],1),F("AmChartPieStickyContainer")],1)],2):E._e()},_sfc_staticRenderFns$8=[],__component__$8=normalizeComponent(_sfc_main$8,_sfc_render$8,_sfc_staticRenderFns$8,!1,null,null,null,null);const Entity=__component__$8.exports,_sfc_main$7={};var _sfc_render$7=function(){var E=this,F=E._self._c;return F("div",{staticClass:"custom-p-20"},[F("h1",[E._v("404")]),F("h3",[E._v(E._s(E.$t("404.title")))])])},_sfc_staticRenderFns$7=[],__component__$7=normalizeComponent(_sfc_main$7,_sfc_render$7,_sfc_staticRenderFns$7,!1,null,null,null,null);const NotFound=__component__$7.exports;var dayjs_min={exports:{}};(function(V,E){(function(F,R){V.exports=R()})(commonjsGlobal,function(){var F=1e3,R=6e4,U=36e5,W="millisecond",Y="second",G="minute",X="hour",K="day",Z="week",J="month",Q="quarter",ee="year",te="date",ie="Invalid Date",re=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ne=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ae={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_e){var ve=["th","st","nd","rd"],ge=_e%100;return"["+_e+(ve[(ge-20)%10]||ve[ge]||ve[0])+"]"}},se=function(_e,ve,ge){var be=String(_e);return!be||be.length>=ve?_e:""+Array(ve+1-be.length).join(ge)+_e},le={s:se,z:function(_e){var ve=-_e.utcOffset(),ge=Math.abs(ve),be=Math.floor(ge/60),xe=ge%60;return(ve<=0?"+":"-")+se(be,2,"0")+":"+se(xe,2,"0")},m:function _e(ve,ge){if(ve.date()<ge.date())return-_e(ge,ve);var be=12*(ge.year()-ve.year())+(ge.month()-ve.month()),xe=ve.clone().add(be,J),Se=ge-xe<0,De=ve.clone().add(be+(Se?-1:1),J);return+(-(be+(ge-xe)/(Se?xe-De:De-xe))||0)},a:function(_e){return _e<0?Math.ceil(_e)||0:Math.floor(_e)},p:function(_e){return{M:J,y:ee,w:Z,d:K,D:te,h:X,m:G,s:Y,ms:W,Q}[_e]||String(_e||"").toLowerCase().replace(/s$/,"")},u:function(_e){return _e===void 0}},oe="en",ue={};ue[oe]=ae;var ce="$isDayjsObject",he=function(_e){return _e instanceof fe||!(!_e||!_e[ce])},me=function _e(ve,ge,be){var xe;if(!ve)return oe;if(typeof ve=="string"){var Se=ve.toLowerCase();ue[Se]&&(xe=Se),ge&&(ue[Se]=ge,xe=Se);var De=ve.split("-");if(!xe&&De.length>1)return _e(De[0])}else{var Ae=ve.name;ue[Ae]=ve,xe=Ae}return!be&&xe&&(oe=xe),xe||!be&&oe},Pe=function(_e,ve){if(he(_e))return _e.clone();var ge=typeof ve=="object"?ve:{};return ge.date=_e,ge.args=arguments,new fe(ge)},we=le;we.l=me,we.i=he,we.w=function(_e,ve){return Pe(_e,{locale:ve.$L,utc:ve.$u,x:ve.$x,$offset:ve.$offset})};var fe=function(){function _e(ge){this.$L=me(ge.locale,null,!0),this.parse(ge),this.$x=this.$x||ge.x||{},this[ce]=!0}var ve=_e.prototype;return ve.parse=function(ge){this.$d=function(be){var xe=be.date,Se=be.utc;if(xe===null)return new Date(NaN);if(we.u(xe))return new Date;if(xe instanceof Date)return new Date(xe);if(typeof xe=="string"&&!/Z$/i.test(xe)){var De=xe.match(re);if(De){var Ae=De[2]-1||0,Te=(De[7]||"0").substring(0,3);return Se?new Date(Date.UTC(De[1],Ae,De[3]||1,De[4]||0,De[5]||0,De[6]||0,Te)):new Date(De[1],Ae,De[3]||1,De[4]||0,De[5]||0,De[6]||0,Te)}}return new Date(xe)}(ge),this.init()},ve.init=function(){var ge=this.$d;this.$y=ge.getFullYear(),this.$M=ge.getMonth(),this.$D=ge.getDate(),this.$W=ge.getDay(),this.$H=ge.getHours(),this.$m=ge.getMinutes(),this.$s=ge.getSeconds(),this.$ms=ge.getMilliseconds()},ve.$utils=function(){return we},ve.isValid=function(){return this.$d.toString()!==ie},ve.isSame=function(ge,be){var xe=Pe(ge);return this.startOf(be)<=xe&&xe<=this.endOf(be)},ve.isAfter=function(ge,be){return Pe(ge)<this.startOf(be)},ve.isBefore=function(ge,be){return this.endOf(be)<Pe(ge)},ve.$g=function(ge,be,xe){return we.u(ge)?this[be]:this.set(xe,ge)},ve.unix=function(){return Math.floor(this.valueOf()/1e3)},ve.valueOf=function(){return this.$d.getTime()},ve.startOf=function(ge,be){var xe=this,Se=!!we.u(be)||be,De=we.p(ge),Ae=function(He,Ne){var Ye=we.w(xe.$u?Date.UTC(xe.$y,Ne,He):new Date(xe.$y,Ne,He),xe);return Se?Ye:Ye.endOf(K)},Te=function(He,Ne){return we.w(xe.toDate()[He].apply(xe.toDate("s"),(Se?[0,0,0,0]:[23,59,59,999]).slice(Ne)),xe)},Fe=this.$W,Oe=this.$M,ke=this.$D,Ee="set"+(this.$u?"UTC":"");switch(De){case ee:return Se?Ae(1,0):Ae(31,11);case J:return Se?Ae(1,Oe):Ae(0,Oe+1);case Z:var Ve=this.$locale().weekStart||0,Be=(Fe<Ve?Fe+7:Fe)-Ve;return Ae(Se?ke-Be:ke+(6-Be),Oe);case K:case te:return Te(Ee+"Hours",0);case X:return Te(Ee+"Minutes",1);case G:return Te(Ee+"Seconds",2);case Y:return Te(Ee+"Milliseconds",3);default:return this.clone()}},ve.endOf=function(ge){return this.startOf(ge,!1)},ve.$set=function(ge,be){var xe,Se=we.p(ge),De="set"+(this.$u?"UTC":""),Ae=(xe={},xe[K]=De+"Date",xe[te]=De+"Date",xe[J]=De+"Month",xe[ee]=De+"FullYear",xe[X]=De+"Hours",xe[G]=De+"Minutes",xe[Y]=De+"Seconds",xe[W]=De+"Milliseconds",xe)[Se],Te=Se===K?this.$D+(be-this.$W):be;if(Se===J||Se===ee){var Fe=this.clone().set(te,1);Fe.$d[Ae](Te),Fe.init(),this.$d=Fe.set(te,Math.min(this.$D,Fe.daysInMonth())).$d}else Ae&&this.$d[Ae](Te);return this.init(),this},ve.set=function(ge,be){return this.clone().$set(ge,be)},ve.get=function(ge){return this[we.p(ge)]()},ve.add=function(ge,be){var xe,Se=this;ge=Number(ge);var De=we.p(be),Ae=function(Oe){var ke=Pe(Se);return we.w(ke.date(ke.date()+Math.round(Oe*ge)),Se)};if(De===J)return this.set(J,this.$M+ge);if(De===ee)return this.set(ee,this.$y+ge);if(De===K)return Ae(1);if(De===Z)return Ae(7);var Te=(xe={},xe[G]=R,xe[X]=U,xe[Y]=F,xe)[De]||1,Fe=this.$d.getTime()+ge*Te;return we.w(Fe,this)},ve.subtract=function(ge,be){return this.add(-1*ge,be)},ve.format=function(ge){var be=this,xe=this.$locale();if(!this.isValid())return xe.invalidDate||ie;var Se=ge||"YYYY-MM-DDTHH:mm:ssZ",De=we.z(this),Ae=this.$H,Te=this.$m,Fe=this.$M,Oe=xe.weekdays,ke=xe.months,Ee=xe.meridiem,Ve=function(Ne,Ye,Ke,Je){return Ne&&(Ne[Ye]||Ne(be,Se))||Ke[Ye].slice(0,Je)},Be=function(Ne){return we.s(Ae%12||12,Ne,"0")},He=Ee||function(Ne,Ye,Ke){var Je=Ne<12?"AM":"PM";return Ke?Je.toLowerCase():Je};return Se.replace(ne,function(Ne,Ye){return Ye||function(Ke){switch(Ke){case"YY":return String(be.$y).slice(-2);case"YYYY":return we.s(be.$y,4,"0");case"M":return Fe+1;case"MM":return we.s(Fe+1,2,"0");case"MMM":return Ve(xe.monthsShort,Fe,ke,3);case"MMMM":return Ve(ke,Fe);case"D":return be.$D;case"DD":return we.s(be.$D,2,"0");case"d":return String(be.$W);case"dd":return Ve(xe.weekdaysMin,be.$W,Oe,2);case"ddd":return Ve(xe.weekdaysShort,be.$W,Oe,3);case"dddd":return Oe[be.$W];case"H":return String(Ae);case"HH":return we.s(Ae,2,"0");case"h":return Be(1);case"hh":return Be(2);case"a":return He(Ae,Te,!0);case"A":return He(Ae,Te,!1);case"m":return String(Te);case"mm":return we.s(Te,2,"0");case"s":return String(be.$s);case"ss":return we.s(be.$s,2,"0");case"SSS":return we.s(be.$ms,3,"0");case"Z":return De}return null}(Ne)||De.replace(":","")})},ve.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ve.diff=function(ge,be,xe){var Se,De=this,Ae=we.p(be),Te=Pe(ge),Fe=(Te.utcOffset()-this.utcOffset())*R,Oe=this-Te,ke=function(){return we.m(De,Te)};switch(Ae){case ee:Se=ke()/12;break;case J:Se=ke();break;case Q:Se=ke()/3;break;case Z:Se=(Oe-Fe)/6048e5;break;case K:Se=(Oe-Fe)/864e5;break;case X:Se=Oe/U;break;case G:Se=Oe/R;break;case Y:Se=Oe/F;break;default:Se=Oe}return xe?Se:we.a(Se)},ve.daysInMonth=function(){return this.endOf(J).$D},ve.$locale=function(){return ue[this.$L]},ve.locale=function(ge,be){if(!ge)return this.$L;var xe=this.clone(),Se=me(ge,be,!0);return Se&&(xe.$L=Se),xe},ve.clone=function(){return we.w(this.$d,this)},ve.toDate=function(){return new Date(this.valueOf())},ve.toJSON=function(){return this.isValid()?this.toISOString():null},ve.toISOString=function(){return this.$d.toISOString()},ve.toString=function(){return this.$d.toUTCString()},_e}(),ye=fe.prototype;return Pe.prototype=ye,[["$ms",W],["$s",Y],["$m",G],["$H",X],["$W",K],["$M",J],["$y",ee],["$D",te]].forEach(function(_e){ye[_e[1]]=function(ve){return this.$g(ve,_e[0],_e[1])}}),Pe.extend=function(_e,ve){return _e.$i||(_e(ve,fe,Pe),_e.$i=!0),Pe},Pe.locale=me,Pe.isDayjs=he,Pe.unix=function(_e){return Pe(1e3*_e)},Pe.en=ue[oe],Pe.Ls=ue,Pe.p={},Pe})})(dayjs_min);const dayjs=dayjs_min.exports,_sfc_main$6={__name:"InfiniteCalendarGridDay",props:{date:null,cellHeight:null,activeMonth:null},setup(V){const E=V,F=computed(()=>{const W=E.date.getDay();return W===6||W===0}),R=computed(()=>E.activeMonth===E.date.getMonth()),U=computed(()=>{const W=new Date;return E.date.getDate()==W.getDate()&&E.date.getMonth()==W.getMonth()&&E.date.getFullYear()==W.getFullYear()});return{__sfc:!0,props:E,isWeekend:F,isActiveMonth:R,isCurrentDay:U}}},InfiniteCalendarGridDay_vue_vue_type_style_index_0_lang="";var _sfc_render$6=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F("div",{staticClass:"icg-months-grid-day",class:{"icg-months-grid-day--active-month":R.isActiveMonth,"icg-months-grid-day--weekend":R.isWeekend,"icg-months-grid-day--current":R.isCurrentDay},style:{height:`${R.props.cellHeight}px`}},[E._t("default",null,{date:R.props.date,isWeekend:R.isWeekend,isActiveMonth:R.isActiveMonth,isCurrentDay:R.isCurrentDay})],2)},_sfc_staticRenderFns$6=[],__component__$6=normalizeComponent(_sfc_main$6,_sfc_render$6,_sfc_staticRenderFns$6,!1,null,null,null,null);const InfiniteCalendarGridDay=__component__$6.exports,_sfc_main$5={__name:"InfiniteCalendarGrid",props:{firstDayOfWeek:{default:0},locale:{default:"en-US"},todayLabel:{default:"Today"}},emits:["changed"],setup(V,{emit:E}){const F=V,R=new Array(7).fill(void 0).map((le,oe)=>{const ue=new Date().getDate(),ce=new Date().getDay();return new Date(new Date().setDate(ue-ce+oe)).toLocaleDateString(F.locale,{weekday:"short"})}),U=ref$1(null),{height:W}=useElementSize(U),Y=computed(()=>Math.ceil(W.value/6)),{y:G,arrivedState:X}=useScroll(U),K=computed(()=>{if(F.firstDayOfWeek){const le=[...R];return le.push(le.shift()),le}else return R}),Z=ref$1(dayjs()),J=computed(()=>{const le=Z.value.startOf("M").get("d")+(F.firstDayOfWeek&&-1);return le<0?7+le:le}),Q=computed(()=>Math.ceil((Z.value.daysInMonth()+J.value)/7)),ee=computed(()=>Math.ceil((Z.value.add(-1,"month").daysInMonth()-J.value)/7)),te=computed(()=>{let le=Math.ceil(Z.value.add(1,"month").daysInMonth()/7);return Z.value.endOf("M").get("d")===(F.firstDayOfWeek?0:6)&&Q.value===5&&le++,le}),ie=computed(()=>Z.value.startOf("M").add(-(ee.value*7+J.value),"day")),re=computed(()=>new Array((Q.value+ee.value+te.value)*7).fill(void 0).map((le,oe)=>ie.value.add(oe,"day").toDate())),ne=computed(()=>{const le=re.value.slice(0,ee.value*7),oe=re.value.slice(ee.value*7,ee.value*7+Q.value*7),ue=re.value.slice(ee.value*7+Q.value*7,ee.value*7+Q.value*7+te.value*7);return{[le[0].getTime()]:le,[oe[0].getTime()]:oe,[ue[0].getTime()]:ue}}),ae=watch(W,async le=>{le&&(await nextTick(),se(),ae())});watch(X,({top:le,bottom:oe})=>{(le||oe)&&(Z.value=Z.value.add(le?-1:1,"month"))}),watch(Z,async()=>{await nextTick(),se(),E("changed",Z.value.toDate())});function se(){G.value=Y.value*ee.value}return{__sfc:!0,props:F,emit:E,weekDays:R,containerRef:U,height:W,cellHeight:Y,y:G,arrivedState:X,weekDaysNames:K,activeMonth:Z,activeMonthOffset:J,activeMonthRows:Q,prevMonthRows:ee,nextMonthRows:te,startDate:ie,daysCount:re,daysCountSlices:ne,unw:ae,gotoCurrentMonth:se,dayjs,InfiniteCalendarGridDay}}},InfiniteCalendarGrid_vue_vue_type_style_index_0_lang="";var _sfc_render$5=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F("div",{staticClass:"icg",attrs:{firstdayofweek:R.props.firstDayOfWeek}},[F("div",{staticClass:"icg-header"},[F("div",{staticClass:"icg-month"},[E._v(" "+E._s(R.activeMonth.toDate().toLocaleDateString(R.props.locale,{year:"numeric",month:"long"}).replace("\u0433.",""))+" ")]),F("div",{staticClass:"icg-controls"},[F("button",{on:{click:function(U){R.activeMonth=R.activeMonth.add(-1,"month")}}},[F("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:".8rem",viewBox:"0 0 320 512"}},[F("path",{attrs:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"}})])]),F("button",{on:{click:function(U){R.activeMonth=R.dayjs()}}},[E._v(E._s(R.props.todayLabel))]),F("button",{on:{click:function(U){R.activeMonth=R.activeMonth.add(1,"month")}}},[F("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:".8rem",viewBox:"0 0 320 512"}},[F("path",{attrs:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"}})])])])]),F("div",{staticClass:"icg-weekdays"},E._l(R.weekDaysNames,function(U,W){return F("div",{key:U,staticClass:"icg-weekdays__cell",class:{"icg-weekdays__cell--weekend":W===(R.props.firstDayOfWeek?5:0)||W===6}},[E._v(" "+E._s(U)+" ")])}),0),F("div",{ref:"containerRef",staticClass:"icg-months-grid"},E._l(R.daysCountSlices,function(U,W,Y){return F("div",{key:W,class:["icg-months-grid-month",{"icg-months-grid-month--selected":Y===1}]},E._l(U,function(G){return F(R.InfiniteCalendarGridDay,{key:G.getTime(),attrs:{"cell-height":R.cellHeight,activeMonth:R.activeMonth.month(),date:G},scopedSlots:E._u([{key:"default",fn:function(X){return[E._t("default",null,null,X)]}}],null,!0)})}),1)}),0)])},_sfc_staticRenderFns$5=[],__component__$5=normalizeComponent(_sfc_main$5,_sfc_render$5,_sfc_staticRenderFns$5,!1,null,null,null,null);const InfiniteCalendarGrid=__component__$5.exports;function mitt(V){return{all:V=V||new Map,on:function(E,F){var R=V.get(E);R?R.push(F):V.set(E,[F])},off:function(E,F){var R=V.get(E);R&&(F?R.splice(R.indexOf(F)>>>0,1):V.set(E,[]))},emit:function(E,F){var R=V.get(E);R&&R.slice().map(function(U){U(F)}),(R=V.get("*"))&&R.slice().map(function(U){U(E,F)})}}}const eventBus=mitt(),InfiniteCalendarGridDaySlotItem_vue_vue_type_style_index_0_lang="",_sfc_main$4={__name:"InfiniteCalendarGridDaySlotItem",props:["transaction"],setup(V){const E=V,F=ref$1(),R=computed(()=>store.getters["category/getById"](E.transaction.category_id)),U=computed(()=>{var G;return(G=store.getters["account/getById"](E.transaction.account_id))==null?void 0:G.currency});onMounted(()=>{W()});function W(){F.value&&F.value.addEventListener("dragstart",G=>{G.dataTransfer.clearData(),G.dataTransfer.setData("transaction",JSON.stringify(E.transaction))})}function Y(){eventBus.emit("openAddTransactionModal",{transaction:E.transaction})}return{__sfc:!0,props:E,draggableRef:F,category:R,currency:U,handleOnTransactionDragStart:W,onClick:Y,emitter:eventBus,store,computed,onMounted,ref:ref$1,DropdownWaFloating}}};var _sfc_render$4=function(){var U;var E=this,F=E._self._c,R=E._self._setupProxy;return F(R.DropdownWaFloating,{attrs:{strategy:"fixed","hide-on-mobile":!0},scopedSlots:E._u([{key:"toggler",fn:function(){return[F("div",{ref:"draggableRef",staticClass:"icg-row align-left nowrap",style:`color: ${R.category.color}`,attrs:{draggable:"true"},on:{click:function(W){return W.preventDefault(),W.stopPropagation(),(()=>{E.$helper.isTabletMediaQuery()||R.onClick()}).apply(null,arguments)}}},[R.category.glyph?F("span",{key:R.category.color,staticClass:"icon baseline"},[F("i",{class:R.category.glyph,style:`color:${R.category.color};`})]):F("span",{staticClass:"icon size-12 baseline"},[F("i",{staticClass:"rounded",style:`background-color: ${R.category.color};`})]),F("span",{staticClass:"desktop-only"},[E._v(" "+E._s(E.transaction.amount>0?"+":"")+E._s(E.$helper.toCurrency({value:E.transaction.amount,currencyCode:R.currency}))+" ")])])]},proxy:!0}])},[F("div",{staticClass:"custom-p-8 align-left",staticStyle:{display:"flex","flex-direction":"column",gap:".2rem"}},[(U=E.transaction.contractor_contact)!=null&&U.name?F("span",{staticClass:"small"},[E._v(E._s(E.transaction.contractor_contact.name))]):E._e(),R.category?F("span",{staticClass:"bold nowrap small text-ellipsis",style:`color: ${R.category.color}`},[E._v(E._s(R.category.name))]):E._e(),F("span",{staticClass:"hint"},[E._v(E._s(E.transaction.description||E.$t("noDesc")))])])])},_sfc_staticRenderFns$4=[],__component__$4=normalizeComponent(_sfc_main$4,_sfc_render$4,_sfc_staticRenderFns$4,!1,null,null,null,null);const InfiniteCalendarGridDaySlotItem=__component__$4.exports,InfiniteCalendarGridDaySlot_vue_vue_type_style_index_0_scoped_3a9eab3c_lang="",_sfc_main$3={__name:"InfiniteCalendarGridDaySlot",props:["date","data"],setup(V){const E=V,F=useRouter(),R=ref$1();onMounted(()=>{U()});function U(){R.value&&(R.value.addEventListener("dragenter",G=>{G.target.classList.add("dragover")}),R.value.addEventListener("dragleave",G=>{G.target.classList.remove("dragover")}),R.value.addEventListener("dragover",G=>{G.preventDefault()}),R.value.addEventListener("drop",G=>{G.preventDefault(),G.target.classList.remove("dragover");const X=JSON.parse(G.dataTransfer.getData("transaction"));X&&hooks(E.date).format("YYYY-MM-DD")!==X.date&&store.dispatch("transaction/update",{...X,date:hooks(E.date).format("YYYY-MM-DD"),apply_to_all_in_future:!1})}))}function W(G){try{return G.toLocaleString(locale$4.replace("_","-"),{month:"short"})}catch{}}function Y(){var X;const G=(X=R.value)==null?void 0:X.querySelector(".icg-plus");(G||appState.webView)&&(window.getComputedStyle(G,null).getPropertyValue("display")==="none"?F.push(`/date/${hooks(E.date).format("YYYY-MM-DD")}/`):eventBus.emit("openAddTransactionModal",{defaultDate:dayjs(E.date).format("YYYY-MM-DD")}))}return{__sfc:!0,props:E,router:F,dayRef:R,handleOnTransactionDrop:U,getMonthShort:W,onClick:Y,onMounted,ref:ref$1,locale:locale$4,emitter:eventBus,InfiniteCalendarGridDaySlotItem,dayjs,useRouter,moment:hooks,store,appState}}};var _sfc_render$3=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F("div",{ref:"dayRef",staticClass:"absolute align-right custom-p-8",staticStyle:{width:"100%",height:"100%","box-sizing":"border-box",display:"flex","flex-direction":"column","justify-content":"space-between",cursor:"pointer"},on:{click:R.onClick}},[E._m(0),F("div",{staticClass:"icg-day"},[E._v(" "+E._s(E.date.getDate())+" "),E.date.getDate()===1?F("span",[E._v(E._s(R.getMonthShort(E.date)))]):E._e()]),F("div",{staticClass:"small"},E._l(R.props.data,function(U){return F(R.InfiniteCalendarGridDaySlotItem,{key:U.id,attrs:{transaction:U}})}),1)])},_sfc_staticRenderFns$3=[function(){var V=this,E=V._self._c;return V._self._setupProxy,E("button",{staticClass:"circle small light-gray desktop-only icg-plus"},[E("i",{staticClass:"fas fa-plus"})])}],__component__$3=normalizeComponent(_sfc_main$3,_sfc_render$3,_sfc_staticRenderFns$3,!1,null,"3a9eab3c",null,null);const InfiniteCalendarGridDaySlot=__component__$3.exports,Calendar_vue_vue_type_style_index_0_lang="",_sfc_main$2={__name:"Calendar",setup(V){const E=ref$1(1),F=ref$1([]),R=ref$1(dayjs()),U=computed(()=>{const Y=R.value.startOf("M").get("d")+(E.value&&-1);return Y<0?7+Y:Y});W(new Date);async function W(Y){R.value=dayjs(Y),await api$1.get("cash.transaction.getList",{params:{from:R.value.startOf("M").add(-U.value,"day").format("YYYY-MM-DD"),to:R.value.endOf("M").add(42-U.value-R.value.daysInMonth(),"day").format("YYYY-MM-DD"),reverse:1}}).then(({data:G})=>{F.value=G.data})}return store.subscribeAction({after:Y=>{(Y.type==="transaction/update"||Y.type==="transaction/delete")&&W(R.value)}}),{__sfc:!0,firstDayOfWeek:E,dataDays:F,curDate:R,activeMonthOffset:U,handleMonthChange:W,InfiniteCalendarGrid,InfiniteCalendarGridDaySlot,api:api$1,dayjs,ref:ref$1,computed,locale:locale$4,store}}};var _sfc_render$2=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F(R.InfiniteCalendarGrid,{attrs:{"first-day-of-week":R.firstDayOfWeek,locale:R.locale.replace("_","-"),"today-label":E.$t("today")},on:{changed:R.handleMonthChange},scopedSlots:E._u([{key:"default",fn:function({date:U}){return[F(R.InfiniteCalendarGridDaySlot,{attrs:{date:U,data:R.dataDays.filter(W=>W.date===R.dayjs(U).format("YYYY-MM-DD"))}})]}}])})},_sfc_staticRenderFns$2=[],__component__$2=normalizeComponent(_sfc_main$2,_sfc_render$2,_sfc_staticRenderFns$2,!1,null,null,null,null);const Calendar=__component__$2.exports,_sfc_main$1={__name:"FormAdd",props:{entity:{type:String,required:!0},type:{type:String,default:"income"}},setup(V){const E=V;function F(){window.emitter.emit("closeDialog")}return{__sfc:!0,props:E,close:F,AddAccount,AddCategory,Modal:Modal$1}}};var _sfc_render$1=function(){var E=this,F=E._self._c,R=E._self._setupProxy;return F(R.Modal,{attrs:{"disable-transition":!0},on:{close:R.close}},[F(R.props.entity==="category"?R.AddCategory:R.AddAccount,{tag:"component",attrs:{type:R.props.entity==="category"&&R.props.type}})],1)},_sfc_staticRenderFns$1=[],__component__$1=normalizeComponent(_sfc_main$1,_sfc_render$1,_sfc_staticRenderFns$1,!1,null,null,null,null);const FormAdd=__component__$1.exports;var Tt,Dt;const permissions=((Dt=(Tt=window.appState)==null?void 0:Tt.api_settings)==null?void 0:Dt.rights)||{},permissions$1={install(V){V.prototype.$permissions=permissions}};Vue$2.use(VueRouter$1);var kt;const accountName=((kt=window.appState)==null?void 0:kt.accountName)||"";var Ot;const baseUrl=((Ot=window.appState)==null?void 0:Ot.baseUrl)||"/",routes=[{path:"/",name:"Home",component:Home},{path:"/account/:id",name:"Account",component:Home},{path:"/category/:id",name:"Category",component:Home},{path:"/currency/:id",name:"Currency",component:Home},{path:"/history",name:"History",component:History,meta:{title:`${i18n.t("history")} \u2014 ${accountName}`}},{path:"/transactions",name:"Transactions",component:Transactions,meta:{title:`${i18n.t("transactions")} \u2014 ${accountName}`}},{path:"/calendar",name:"Calendar",component:Calendar,meta:{title:`${i18n.t("calendar")} \u2014 ${accountName}`}},{path:"/upnext",name:"Upnext",component:Upnext,meta:{title:`${i18n.t("upnext")} \u2014 ${accountName}`}},{path:"/date/:date",name:"Date",component:Date$1,meta:{title:`${i18n.t("transactions")} \u2014 ${accountName}`},beforeEnter:(V,E,F)=>{hooks(V.params.date,"YYYY-MM-DD",!0).isValid()?F():F({name:"NotFound"})}},{path:"/search",name:"Search",component:Search,meta:{title:`${i18n.t("search.label")} \u2014 ${accountName}`}},{path:"/import/:id",name:"Import",component:Import,meta:{title:`${i18n.t("importResults")} \u2014 ${accountName}`}},{path:"/trash",name:"Trash",component:Trash,meta:{requiresAdminRights:!0,title:`${i18n.t("trash")} \u2014 ${accountName}`}},{path:"/external/shop/order/:id",name:"Order",component:Entity,meta:{showChart:!1,getExternalEntitySource:"shop",fetchTransactionsFilter:V=>`external/shop.${V}`}},{path:"/contact/:id",name:"Contact",component:Entity,meta:{showChart:!0,getExternalEntitySource:"contacts",fetchTransactionsFilter:V=>`contractor/${V}`}},{path:"/form/add/:entity",name:"Form",component:FormAdd,props:V=>({entity:V.params.entity,type:V.query.type}),beforeEnter:(V,E,F)=>{["account","category"].includes(V.params.entity)?F():F({name:"NotFound"})}},{path:"/report",alias:["/report/*","/import","/import/new/*","/shop/settings","/plugins"]},{path:"/404",name:"NotFound",component:NotFound,meta:{title:`${i18n.t("404.title")} \u2014 ${accountName}`}},{path:"*",redirect:{name:"NotFound"}}],router=new VueRouter$1({mode:window.appState.webView?"hash":"history",base:baseUrl,routes,scrollBehavior(){return{x:0,y:0}}});router.beforeEach((V,E,F)=>{V.matched.some(R=>R.meta.requiresAdminRights)&&(permissions.isAdmin||F({name:"Home"})),V.meta.title&&(document.title=V.meta.title),F()});const router$1=router,Helpers={install(V){V.prototype.$helper={toCurrency:function(E={}){const R={...{value:null,currencyCode:null,isDynamics:!1,isReverse:!1,isAbs:!1,prefix:""},...E},U=R.isReverse?R.value*-1:R.value,W=numeral(R.isDynamics||R.isAbs?Math.abs(U):U).format("0,0[.]00"),Y=R.isDynamics?U>0?"+ ":U<0?"\u2212 ":"":"",G=this.currencySignByCode(R.currencyCode)?` ${this.currencySignByCode(R.currencyCode)}`:"";return`${R.prefix||""}${Y}${W}${G}`},currencySignByCode:E=>store.getters["system/getCurrencySignByCode"](E),currentDate:hooks().format("YYYY-MM-DD"),isDesktopEnv:!window.appState.webView,baseUrl:window.appState.baseUrl||"/",accountName:window.appState.accountName||"",isValidHttpUrl:E=>{let F;try{F=new URL(E)}catch{return!1}return F.protocol==="http:"||F.protocol==="https:"},showMultiSelect(){return store.state.multiSelectMode},isHeader(){return!!document.querySelector("#wa-header")},isTabletMediaQuery(){return window.matchMedia("(max-width: 1024px)").matches}}}};var lib={},vval={};Object.defineProperty(vval,"__esModule",{value:!0});vval.patchChildren=patchChildren;vval.h=h;function isUndef(V){return V==null}function isDef(V){return V!=null}function sameVval(V,E){return E.tag===V.tag&&E.key===V.key}function createVm(V){var E=V.tag;V.vm=new E({data:V.args})}function updateVval(V){for(var E=Object.keys(V.args),F=0;F<E.length;F++)E.forEach(function(R){V.vm[R]=V.args[R]})}function createKeyToOldIdx(V,E,F){var R,U,W={};for(R=E;R<=F;++R)U=V[R].key,isDef(U)&&(W[U]=R);return W}function updateChildren(V,E){for(var F=0,R=0,U=V.length-1,W=V[0],Y=V[U],G=E.length-1,X=E[0],K=E[G],Z,J,Q;F<=U&&R<=G;)isUndef(W)?W=V[++F]:isUndef(Y)?Y=V[--U]:sameVval(W,X)?(patchVval(W,X),W=V[++F],X=E[++R]):sameVval(Y,K)?(patchVval(Y,K),Y=V[--U],K=E[--G]):sameVval(W,K)?(patchVval(W,K),W=V[++F],K=E[--G]):sameVval(Y,X)?(patchVval(Y,X),Y=V[--U],X=E[++R]):(isUndef(Z)&&(Z=createKeyToOldIdx(V,F,U)),J=isDef(X.key)?Z[X.key]:null,isUndef(J)?(createVm(X),X=E[++R]):(Q=V[J],sameVval(Q,X)?(patchVval(Q,X),V[J]=void 0,X=E[++R]):(createVm(X),X=E[++R])));F>U?addVvals(E,R,G):R>G&&removeVvals(V,F,U)}function addVvals(V,E,F){for(;E<=F;++E)createVm(V[E])}function removeVvals(V,E,F){for(;E<=F;++E){var R=V[E];isDef(R)&&(R.vm.$destroy(),R.vm=null)}}function patchVval(V,E){V!==E&&(E.vm=V.vm,updateVval(E))}function patchChildren(V,E){isDef(V)&&isDef(E)?V!==E&&updateChildren(V,E):isDef(E)?addVvals(E,0,E.length-1):isDef(V)&&removeVvals(V,0,V.length-1)}function h(V,E,F){return{tag:V,key:E,args:F}}var params={};Object.defineProperty(params,"__esModule",{value:!0});params.pushParams=pushParams;params.popParams=popParams;params.withParams=withParams;params._setTarget=params.target=void 0;function _objectSpread(V){for(var E=1;E<arguments.length;E++){var F=arguments[E]!=null?arguments[E]:{},R=Object.keys(F);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(F).filter(function(U){return Object.getOwnPropertyDescriptor(F,U).enumerable}))),R.forEach(function(U){_defineProperty$1(V,U,F[U])})}return V}function _defineProperty$1(V,E,F){return E in V?Object.defineProperty(V,E,{value:F,enumerable:!0,configurable:!0,writable:!0}):V[E]=F,V}function _typeof$2(V){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(F){return typeof F}:_typeof$2=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},_typeof$2(V)}var stack=[],target=null;params.target=target;var _setTarget=function(E){params.target=target=E};params._setTarget=_setTarget;function pushParams(){target!==null&&stack.push(target),params.target=target={}}function popParams(){var V=target,E=params.target=target=stack.pop()||null;return E&&(Array.isArray(E.$sub)||(E.$sub=[]),E.$sub.push(V)),V}function addParams(V){if(_typeof$2(V)==="object"&&!Array.isArray(V))params.target=target=_objectSpread({},target,V);else throw new Error("params must be an object")}function withParamsDirect(V,E){return withParamsClosure(function(F){return function(){F(V);for(var R=arguments.length,U=new Array(R),W=0;W<R;W++)U[W]=arguments[W];return E.apply(this,U)}})}function withParamsClosure(V){var E=V(addParams);return function(){pushParams();try{for(var F=arguments.length,R=new Array(F),U=0;U<F;U++)R[U]=arguments[U];return E.apply(this,R)}finally{popParams()}}}function withParams(V,E){return _typeof$2(V)==="object"&&E!==void 0?withParamsDirect(V,E):withParamsClosure(V)}(function(V){Object.defineProperty(V,"__esModule",{value:!0}),V.Vuelidate=ye,Object.defineProperty(V,"withParams",{enumerable:!0,get:function(){return F.withParams}}),V.default=V.validationMixin=void 0;var E=vval,F=params;function R(ve){return Y(ve)||W(ve)||U()}function U(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function W(ve){if(Symbol.iterator in Object(ve)||Object.prototype.toString.call(ve)==="[object Arguments]")return Array.from(ve)}function Y(ve){if(Array.isArray(ve)){for(var ge=0,be=new Array(ve.length);ge<ve.length;ge++)be[ge]=ve[ge];return be}}function G(ve){for(var ge=1;ge<arguments.length;ge++){var be=arguments[ge]!=null?arguments[ge]:{},xe=Object.keys(be);typeof Object.getOwnPropertySymbols=="function"&&(xe=xe.concat(Object.getOwnPropertySymbols(be).filter(function(Se){return Object.getOwnPropertyDescriptor(be,Se).enumerable}))),xe.forEach(function(Se){X(ve,Se,be[Se])})}return ve}function X(ve,ge,be){return ge in ve?Object.defineProperty(ve,ge,{value:be,enumerable:!0,configurable:!0,writable:!0}):ve[ge]=be,ve}function K(ve){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K=function(be){return typeof be}:K=function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},K(ve)}var Z=function(){return null},J=function(ge,be,xe){return ge.reduce(function(Se,De){return Se[xe?xe(De):De]=be(De),Se},{})};function Q(ve){return typeof ve=="function"}function ee(ve){return ve!==null&&(K(ve)==="object"||Q(ve))}function te(ve){return ee(ve)&&Q(ve.then)}var ie=function(ge,be,xe,Se){if(typeof xe=="function")return xe.call(ge,be,Se);xe=Array.isArray(xe)?xe:xe.split(".");for(var De=0;De<xe.length;De++)if(be&&K(be)==="object")be=be[xe[De]];else return Se;return typeof be>"u"?Se:be},re="__isVuelidateAsyncVm";function ne(ve,ge){var be=new ve({data:{p:!0,v:!1}});return ge.then(function(xe){be.p=!1,be.v=xe},function(xe){throw be.p=!1,be.v=!1,xe}),be[re]=!0,be}var ae={$invalid:function(){var ge=this,be=this.proxy;return this.nestedKeys.some(function(xe){return ge.refProxy(xe).$invalid})||this.ruleKeys.some(function(xe){return!be[xe]})},$dirty:function(){var ge=this;return this.dirty?!0:this.nestedKeys.length===0?!1:this.nestedKeys.every(function(be){return ge.refProxy(be).$dirty})},$anyDirty:function(){var ge=this;return this.dirty?!0:this.nestedKeys.length===0?!1:this.nestedKeys.some(function(be){return ge.refProxy(be).$anyDirty})},$error:function(){return this.$dirty&&!this.$pending&&this.$invalid},$anyError:function(){var ge=this;return this.$error?!0:this.nestedKeys.some(function(be){return ge.refProxy(be).$anyError})},$pending:function(){var ge=this;return this.ruleKeys.some(function(be){return ge.getRef(be).$pending})||this.nestedKeys.some(function(be){return ge.refProxy(be).$pending})},$params:function(){var ge=this,be=this.validations;return G({},J(this.nestedKeys,function(xe){return be[xe]&&be[xe].$params||null}),J(this.ruleKeys,function(xe){return ge.getRef(xe).$params}))}};function se(ve){this.dirty=ve;var ge=this.proxy,be=ve?"$touch":"$reset";this.nestedKeys.forEach(function(xe){ge[xe][be]()})}var le={$touch:function(){se.call(this,!0)},$reset:function(){se.call(this,!1)},$flattenParams:function(){var ge=this.proxy,be=[];for(var xe in this.$params)if(this.isNested(xe)){for(var Se=ge[xe].$flattenParams(),De=0;De<Se.length;De++)Se[De].path.unshift(xe);be=be.concat(Se)}else be.push({path:[],name:xe,params:this.$params[xe]});return be}},oe=Object.keys(ae),ue=Object.keys(le),ce=null,he=function(ge){if(ce)return ce;var be=ge.extend({computed:{refs:function(){var ke=this._vval;this._vval=this.children,(0,E.patchChildren)(ke,this._vval);var Ee={};return this._vval.forEach(function(Ve){Ee[Ve.key]=Ve.vm}),Ee}},beforeCreate:function(){this._vval=null},beforeDestroy:function(){this._vval&&((0,E.patchChildren)(this._vval),this._vval=null)},methods:{getModel:function(){return this.lazyModel?this.lazyModel(this.prop):this.model},getModelKey:function(ke){var Ee=this.getModel();if(Ee)return Ee[ke]},hasIter:function(){return!1}}}),xe=be.extend({data:function(){return{rule:null,lazyModel:null,model:null,lazyParentModel:null,rootModel:null}},methods:{runRule:function(ke){var Ee=this.getModel();(0,F.pushParams)();var Ve=this.rule.call(this.rootModel,Ee,ke),Be=te(Ve)?ne(ge,Ve):Ve,He=(0,F.popParams)(),Ne=He&&He.$sub?He.$sub.length>1?He:He.$sub[0]:null;return{output:Be,params:Ne}}},computed:{run:function(){var ke=this,Ee=this.lazyParentModel(),Ve=Array.isArray(Ee)&&Ee.__ob__;if(Ve){var Be=Ee.__ob__.dep;Be.depend();var He=Be.constructor.target;if(!this._indirectWatcher){var Ne=He.constructor;this._indirectWatcher=new Ne(this,function(){return ke.runRule(Ee)},null,{lazy:!0})}var Ye=this.getModel();if(!this._indirectWatcher.dirty&&this._lastModel===Ye)return this._indirectWatcher.depend(),He.value;this._lastModel=Ye,this._indirectWatcher.evaluate(),this._indirectWatcher.depend()}else this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null);return this._indirectWatcher?this._indirectWatcher.value:this.runRule(Ee)},$params:function(){return this.run.params},proxy:function(){var ke=this.run.output;return ke[re]?!!ke.v:!!ke},$pending:function(){var ke=this.run.output;return ke[re]?ke.p:!1}},destroyed:function(){this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null)}}),Se=be.extend({data:function(){return{dirty:!1,validations:null,lazyModel:null,model:null,prop:null,lazyParentModel:null,rootModel:null}},methods:G({},le,{refProxy:function(ke){return this.getRef(ke).proxy},getRef:function(ke){return this.refs[ke]},isNested:function(ke){return typeof this.validations[ke]!="function"}}),computed:G({},ae,{nestedKeys:function(){return this.keys.filter(this.isNested)},ruleKeys:function(){var ke=this;return this.keys.filter(function(Ee){return!ke.isNested(Ee)})},keys:function(){return Object.keys(this.validations).filter(function(ke){return ke!=="$params"})},proxy:function(){var ke=this,Ee=J(this.keys,function(Ne){return{enumerable:!0,configurable:!0,get:function(){return ke.refProxy(Ne)}}}),Ve=J(oe,function(Ne){return{enumerable:!0,configurable:!0,get:function(){return ke[Ne]}}}),Be=J(ue,function(Ne){return{enumerable:!1,configurable:!0,get:function(){return ke[Ne]}}}),He=this.hasIter()?{$iter:{enumerable:!0,value:Object.defineProperties({},G({},Ee))}}:{};return Object.defineProperties({},G({},Ee,He,{$model:{enumerable:!0,get:function(){var Ye=ke.lazyParentModel();return Ye!=null?Ye[ke.prop]:null},set:function(Ye){var Ke=ke.lazyParentModel();Ke!=null&&(Ke[ke.prop]=Ye,ke.$touch())}}},Ve,Be))},children:function(){var ke=this;return R(this.nestedKeys.map(function(Ee){return Te(ke,Ee)})).concat(R(this.ruleKeys.map(function(Ee){return Fe(ke,Ee)}))).filter(Boolean)}})}),De=Se.extend({methods:{isNested:function(ke){return typeof this.validations[ke]()<"u"},getRef:function(ke){var Ee=this;return{get proxy(){return Ee.validations[ke]()||!1}}}}}),Ae=Se.extend({computed:{keys:function(){var ke=this.getModel();return ee(ke)?Object.keys(ke):[]},tracker:function(){var ke=this,Ee=this.validations.$trackBy;return Ee?function(Ve){return"".concat(ie(ke.rootModel,ke.getModelKey(Ve),Ee))}:function(Ve){return"".concat(Ve)}},getModelLazy:function(){var ke=this;return function(){return ke.getModel()}},children:function(){var ke=this,Ee=this.validations,Ve=this.getModel(),Be=G({},Ee);delete Be.$trackBy;var He={};return this.keys.map(function(Ne){var Ye=ke.tracker(Ne);return He.hasOwnProperty(Ye)?null:(He[Ye]=!0,(0,E.h)(Se,Ye,{validations:Be,prop:Ne,lazyParentModel:ke.getModelLazy,model:Ve[Ne],rootModel:ke.rootModel}))}).filter(Boolean)}},methods:{isNested:function(){return!0},getRef:function(ke){return this.refs[this.tracker(ke)]},hasIter:function(){return!0}}}),Te=function(ke,Ee){if(Ee==="$each")return(0,E.h)(Ae,Ee,{validations:ke.validations[Ee],lazyParentModel:ke.lazyParentModel,prop:Ee,lazyModel:ke.getModel,rootModel:ke.rootModel});var Ve=ke.validations[Ee];if(Array.isArray(Ve)){var Be=ke.rootModel,He=J(Ve,function(Ne){return function(){return ie(Be,Be.$v,Ne)}},function(Ne){return Array.isArray(Ne)?Ne.join("."):Ne});return(0,E.h)(De,Ee,{validations:He,lazyParentModel:Z,prop:Ee,lazyModel:Z,rootModel:Be})}return(0,E.h)(Se,Ee,{validations:Ve,lazyParentModel:ke.getModel,prop:Ee,lazyModel:ke.getModelKey,rootModel:ke.rootModel})},Fe=function(ke,Ee){return(0,E.h)(xe,Ee,{rule:ke.validations[Ee],lazyParentModel:ke.lazyParentModel,lazyModel:ke.getModel,rootModel:ke.rootModel})};return ce={VBase:be,Validation:Se},ce},me=null;function Pe(ve){if(me)return me;for(var ge=ve.constructor;ge.super;)ge=ge.super;return me=ge,ge}var we=function(ge,be){var xe=Pe(ge),Se=he(xe),De=Se.Validation,Ae=Se.VBase,Te=new Ae({computed:{children:function(){var Oe=typeof be=="function"?be.call(ge):be;return[(0,E.h)(De,"$v",{validations:Oe,lazyParentModel:Z,prop:"$v",model:ge,rootModel:ge})]}}});return Te},fe={data:function(){var ge=this.$options.validations;return ge&&(this._vuelidate=we(this,ge)),{}},beforeCreate:function(){var ge=this.$options,be=ge.validations;!be||(ge.computed||(ge.computed={}),!ge.computed.$v&&(ge.computed.$v=function(){return this._vuelidate?this._vuelidate.refs.$v.proxy:null}))},beforeDestroy:function(){this._vuelidate&&(this._vuelidate.$destroy(),this._vuelidate=null)}};V.validationMixin=fe;function ye(ve){ve.mixin(fe)}var _e=ye;V.default=_e})(lib);const Vuelidate=getDefaultExportFromCjs(lib),Component_vue_vue_type_style_index_0_lang="",_sfc_main={store,i18n,computed:{errors(){return this.$store.state.errors.errors}},methods:{remove(V){this.$store.commit("errors/delete",V)}}};var _sfc_render=function(){var E=this,F=E._self._c;return E.errors.length?F("div",{staticClass:"alert-fixed-box"},E._l(E.errors,function(R,U){return F("div",{key:U,staticClass:"alert",class:{warning:R.title==="error.api",danger:R.title==="error.http"}},[F("div",{staticClass:"flexbox space-8 full-width"},[F("div",{staticClass:"alert__icon"},[F("span",{staticClass:"icon"},[F("i",{staticClass:"fas",class:{"fa-exclamation-triangle":R.title==="error.api","fa-skull":R.title==="error.http"}})])]),F("div",{staticClass:"alert__content"},[F("div",{staticClass:"custom-mb-8"},[E._v(" "+E._s(R.method)+" ")]),F("div",{staticClass:"opacity-70"},[E._v(" "+E._s(R.message)+" ")])]),F("div",{staticClass:"alert__close"},[F("a",{staticClass:"alert-close",attrs:{href:"#"},on:{click:function(W){return W.preventDefault(),E.remove(U)}}},[F("i",{staticClass:"fas fa-times"})])])])])}),0):E._e()},_sfc_staticRenderFns=[],__component__=normalizeComponent(_sfc_main,_sfc_render,_sfc_staticRenderFns,!1,null,null,null,null);const Component=__component__.exports,ErrorsComponent=Vue$2.extend(Component),Errors=new ErrorsComponent().$mount();document.querySelector("body").appendChild(Errors.$el);const Errors$1={install:function(V){V.prototype.$errors=Errors}},namespace="@@vue-sticky-directive",events=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],batchStyle=(V,E={},F={})=>{for(const R in E)V.style[R]=E[R];for(const R in F)F[R]&&!V.classList.contains(R)?V.classList.add(R):!F[R]&&V.classList.contains(R)&&V.classList.remove(R)};class Sticky$1{constructor(V,E){this.el=V,this.vm=E,this.unsubscribers=[],this.isPending=!1,this.state={isTopSticky:null,isBottomSticky:null,height:null,width:null,xOffset:null},this.lastState={top:null,bottom:null,sticked:!1};const F=this.getAttribute("sticky-offset")||{},R=this.getAttribute("sticky-side")||"top",U=this.getAttribute("sticky-z-index")||"10",W=this.getAttribute("sticky-width-ref")||null,Y=this.getAttribute("on-stick")||null;this.options={topOffset:Number(F.top)||0,bottomOffset:Number(F.bottom)||0,shouldTopSticky:R==="top"||R==="both",shouldBottomSticky:R==="bottom"||R==="both",zIndex:U,widthRef:W,onStick:Y}}doBind(){if(this.unsubscribers.length>0)return;const{el:V,vm:E}=this;E.$nextTick(()=>{this.placeholderEl=document.createElement("div"),this.containerEl=this.getContainerEl(),V.parentNode.insertBefore(this.placeholderEl,V),events.forEach(F=>{const R=this.update.bind(this);this.unsubscribers.push(()=>window.removeEventListener(F,R)),this.unsubscribers.push(()=>this.containerEl.removeEventListener(F,R)),window.addEventListener(F,R,{passive:!0}),this.containerEl.addEventListener(F,R,{passive:!0})})})}doUnbind(){this.unsubscribers.forEach(V=>V()),this.unsubscribers=[],this.resetElement()}update(){this.isPending||(requestAnimationFrame(()=>{this.isPending=!1,this.recomputeState(),this.updateElements()}),this.isPending=!0)}isTopSticky(){if(!this.options.shouldTopSticky)return!1;const V=this.state.placeholderElRect.top,E=this.state.containerElRect.bottom,F=this.options.topOffset,R=this.options.bottomOffset;return V<=F&&E>=R}isBottomSticky(){if(!this.options.shouldBottomSticky)return!1;const V=window.innerHeight-this.state.placeholderElRect.top-this.state.height,E=window.innerHeight-this.state.containerElRect.top,F=this.options.topOffset,R=this.options.bottomOffset;return V<=R&&E>=F}recomputeState(){this.state=Object.assign({},this.state,{height:this.getHeight(),width:this.getWidth(),xOffset:this.getXOffset(),placeholderElRect:this.getPlaceholderElRect(),containerElRect:this.getContainerElRect()}),this.state.isTopSticky=this.isTopSticky(),this.state.isBottomSticky=this.isBottomSticky()}fireEvents(){typeof this.options.onStick=="function"&&(this.lastState.top!==this.state.isTopSticky||this.lastState.bottom!==this.state.isBottomSticky||this.lastState.sticked!==(this.state.isTopSticky||this.state.isBottomSticky))&&(this.lastState={top:this.state.isTopSticky,bottom:this.state.isBottomSticky,sticked:this.state.isBottomSticky||this.state.isTopSticky},this.options.onStick(this.lastState))}updateElements(){const V={paddingTop:0},E={position:"static",top:"auto",bottom:"auto",left:"auto",width:"auto",zIndex:this.options.zIndex},F={"vue-sticky-placeholder":!0},R={"vue-sticky-el":!0,"top-sticky":!1,"bottom-sticky":!1};if(this.state.isTopSticky){E.position="fixed",E.top=this.options.topOffset+"px",E.left=this.state.xOffset+"px",E.width=this.state.width+"px";const U=this.state.containerElRect.bottom-this.state.height-this.options.bottomOffset-this.options.topOffset;U<0&&(E.top=U+this.options.topOffset+"px"),V.paddingTop=this.state.height+"px",R["top-sticky"]=!0}else if(this.state.isBottomSticky){E.position="fixed",E.bottom=this.options.bottomOffset+"px",E.left=this.state.xOffset+"px",E.width=this.state.width+"px";const U=window.innerHeight-this.state.containerElRect.top-this.state.height-this.options.bottomOffset-this.options.topOffset;U<0&&(E.bottom=U+this.options.bottomOffset+"px"),V.paddingTop=this.state.height+"px",R["bottom-sticky"]=!0}else V.paddingTop=0;batchStyle(this.el,E,R),batchStyle(this.placeholderEl,V,F),this.fireEvents()}resetElement(){if(["position","top","bottom","left","width","zIndex"].forEach(V=>{this.el.style.removeProperty(V)}),this.el.classList.remove("bottom-sticky","top-sticky"),this.placeholderEl){const{parentNode:V}=this.placeholderEl;V&&V.removeChild(this.placeholderEl)}}getContainerEl(){let V=this.el.parentNode;for(;V&&V.tagName!=="HTML"&&V.tagName!=="BODY"&&V.nodeType===1;){if(V.hasAttribute("sticky-container"))return V;V=V.parentNode}return this.el.parentNode}getXOffset(){return this.placeholderEl.getBoundingClientRect().left}getWidth(){let V=this.placeholderEl;return this.options.widthRef&&(V=document.querySelector(`[sticky-ref="${this.options.widthRef}"]`)||V),V.getBoundingClientRect().width}getHeight(){return this.el.getBoundingClientRect().height}getPlaceholderElRect(){return this.placeholderEl.getBoundingClientRect()}getContainerElRect(){return this.containerEl.getBoundingClientRect()}getAttribute(name){const expr=this.el.getAttribute(name);let result;if(expr)if(this.vm[expr])result=this.vm[expr];else try{result=eval(`(${expr})`)}catch(V){result=expr}return result}}const Sticky$2={inserted(V,E,F){(typeof E.value>"u"||E.value)&&(V[namespace]=new Sticky$1(V,F.context),V[namespace].doBind())},unbind(V,E,F){V[namespace]&&(V[namespace].doUnbind(),V[namespace]=void 0)},componentUpdated(V,E,F){typeof E.value>"u"||E.value?(V[namespace]||(V[namespace]=new Sticky$1(V,F.context)),V[namespace].doBind()):V[namespace]&&V[namespace].doUnbind()}},Sticky={install:function(V){V.directive("Sticky",Sticky$2)}};function _typeof$1(V){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(E){return typeof E}:_typeof$1=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},_typeof$1(V)}var config={selector:"vue-portal-target-".concat(nanoid())},setSelector=function V(E){return config.selector=E},isBrowser=typeof window<"u"&&(typeof document>"u"?"undefined":_typeof$1(document))!==void 0,TargetContainer=Vue$2.extend({abstract:!0,name:"PortalOutlet",props:["nodes","tag"],data:function V(E){return{updatedNodes:E.nodes}},render:function V(E){var F=this.updatedNodes&&this.updatedNodes();return F?F.length===1&&!F[0].text?F:E(this.tag||"DIV",F):E()},destroyed:function V(){var E=this.$el;E&&E.parentNode.removeChild(E)}}),Portal=Vue$2.extend({name:"VueSimplePortal",props:{disabled:{type:Boolean},prepend:{type:Boolean},selector:{type:String,default:function V(){return"#".concat(config.selector)}},tag:{type:String,default:"DIV"}},render:function V(E){if(this.disabled){var F=this.$scopedSlots&&this.$scopedSlots.default();return F?F.length<2&&!F[0].text?F:E(this.tag,F):E()}return E()},created:function V(){this.getTargetEl()||this.insertTargetEl()},updated:function V(){var E=this;this.$nextTick(function(){!E.disabled&&E.slotFn!==E.$scopedSlots.default&&(E.container.updatedNodes=E.$scopedSlots.default),E.slotFn=E.$scopedSlots.default})},beforeDestroy:function V(){this.unmount()},watch:{disabled:{immediate:!0,handler:function V(E){E?this.unmount():this.$nextTick(this.mount)}}},methods:{getTargetEl:function V(){if(!!isBrowser)return document.querySelector(this.selector)},insertTargetEl:function V(){if(!!isBrowser){var E=document.querySelector("body"),F=document.createElement(this.tag);F.id=this.selector.substring(1),E.appendChild(F)}},mount:function V(){if(!!isBrowser){var E=this.getTargetEl(),F=document.createElement("DIV");this.prepend&&E.firstChild?E.insertBefore(F,E.firstChild):E.appendChild(F),this.container=new TargetContainer({el:F,parent:this,propsData:{tag:this.tag,nodes:this.$scopedSlots.default}})}},unmount:function V(){this.container&&(this.container.$destroy(),delete this.container)}}});function install$1(V){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};V.component(E.name||"portal",Portal),E.defaultSelector&&setSelector(E.defaultSelector)}typeof window<"u"&&window.Vue&&window.Vue===Vue$2&&Vue$2.use(install$1);const IsOnline={install:V=>{const E=new V({data(){return{online:!0}},methods:{updateStatus(){typeof window.navigator.onLine>"u"?this.online=!0:this.online=window.navigator.onLine}}});E.updateStatus(),window.addEventListener("offline",()=>{E.updateStatus()}),window.addEventListener("online",()=>{E.updateStatus()}),V.prototype.$IsOnline=E}};var isMergeableObject=function V(E){return isNonNullObject(E)&&!isSpecial(E)};function isNonNullObject(V){return!!V&&typeof V=="object"}function isSpecial(V){var E=Object.prototype.toString.call(V);return E==="[object RegExp]"||E==="[object Date]"||isReactElement(V)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(V){return V.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(V){return Array.isArray(V)?[]:{}}function cloneUnlessOtherwiseSpecified(V,E){return E.clone!==!1&&E.isMergeableObject(V)?deepmerge(emptyTarget(V),V,E):V}function defaultArrayMerge(V,E,F){return V.concat(E).map(function(R){return cloneUnlessOtherwiseSpecified(R,F)})}function getMergeFunction(V,E){if(!E.customMerge)return deepmerge;var F=E.customMerge(V);return typeof F=="function"?F:deepmerge}function getEnumerableOwnPropertySymbols(V){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(V).filter(function(E){return Object.propertyIsEnumerable.call(V,E)}):[]}function getKeys(V){return Object.keys(V).concat(getEnumerableOwnPropertySymbols(V))}function propertyIsOnObject(V,E){try{return E in V}catch{return!1}}function propertyIsUnsafe(V,E){return propertyIsOnObject(V,E)&&!(Object.hasOwnProperty.call(V,E)&&Object.propertyIsEnumerable.call(V,E))}function mergeObject(V,E,F){var R={};return F.isMergeableObject(V)&&getKeys(V).forEach(function(U){R[U]=cloneUnlessOtherwiseSpecified(V[U],F)}),getKeys(E).forEach(function(U){propertyIsUnsafe(V,U)||(propertyIsOnObject(V,U)&&F.isMergeableObject(E[U])?R[U]=getMergeFunction(U,F)(V[U],E[U],F):R[U]=cloneUnlessOtherwiseSpecified(E[U],F))}),R}function deepmerge(V,E,F){F=F||{},F.arrayMerge=F.arrayMerge||defaultArrayMerge,F.isMergeableObject=F.isMergeableObject||isMergeableObject,F.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var R=Array.isArray(E),U=Array.isArray(V),W=R===U;return W?R?F.arrayMerge(V,E,F):mergeObject(V,E,F):cloneUnlessOtherwiseSpecified(E,F)}deepmerge.all=function V(E,F){if(!Array.isArray(E))throw new Error("first argument should be an array");return E.reduce(function(R,U){return deepmerge(R,U,F)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;/**
 * vue-meta v2.4.0
 * (c) 2020
 * - Declan de Wet
 * - Sébastien Chopin (@Atinux)
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */var version="2.4.0";function _typeof(V){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(E){return typeof E}:_typeof=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},_typeof(V)}function _defineProperty(V,E,F){return E in V?Object.defineProperty(V,E,{value:F,enumerable:!0,configurable:!0,writable:!0}):V[E]=F,V}function ownKeys(V,E){var F=Object.keys(V);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(V);E&&(R=R.filter(function(U){return Object.getOwnPropertyDescriptor(V,U).enumerable})),F.push.apply(F,R)}return F}function _objectSpread2(V){for(var E=1;E<arguments.length;E++){var F=arguments[E]!=null?arguments[E]:{};E%2?ownKeys(Object(F),!0).forEach(function(R){_defineProperty(V,R,F[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(F)):ownKeys(Object(F)).forEach(function(R){Object.defineProperty(V,R,Object.getOwnPropertyDescriptor(F,R))})}return V}function _toConsumableArray(V){return _arrayWithoutHoles(V)||_iterableToArray(V)||_unsupportedIterableToArray(V)||_nonIterableSpread()}function _arrayWithoutHoles(V){if(Array.isArray(V))return _arrayLikeToArray(V)}function _iterableToArray(V){if(typeof Symbol<"u"&&Symbol.iterator in Object(V))return Array.from(V)}function _unsupportedIterableToArray(V,E){if(!!V){if(typeof V=="string")return _arrayLikeToArray(V,E);var F=Object.prototype.toString.call(V).slice(8,-1);if(F==="Object"&&V.constructor&&(F=V.constructor.name),F==="Map"||F==="Set")return Array.from(V);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return _arrayLikeToArray(V,E)}}function _arrayLikeToArray(V,E){(E==null||E>V.length)&&(E=V.length);for(var F=0,R=new Array(E);F<E;F++)R[F]=V[F];return R}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _createForOfIteratorHelper(V,E){var F;if(typeof Symbol>"u"||V[Symbol.iterator]==null){if(Array.isArray(V)||(F=_unsupportedIterableToArray(V))||E&&V&&typeof V.length=="number"){F&&(V=F);var R=0,U=function(){};return{s:U,n:function(){return R>=V.length?{done:!0}:{done:!1,value:V[R++]}},e:function(X){throw X},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W=!0,Y=!1,G;return{s:function(){F=V[Symbol.iterator]()},n:function(){var X=F.next();return W=X.done,X},e:function(X){Y=!0,G=X},f:function(){try{!W&&F.return!=null&&F.return()}finally{if(Y)throw G}}}}function isArray(V){return Array.isArray(V)}function isUndefined(V){return typeof V>"u"}function isObject(V){return _typeof(V)==="object"}function isPureObject(V){return _typeof(V)==="object"&&V!==null}function isFunction(V){return typeof V=="function"}function isString(V){return typeof V=="string"}function hasGlobalWindowFn(){try{return!isUndefined(window)}catch{return!1}}var hasGlobalWindow=hasGlobalWindowFn(),_global=hasGlobalWindow?window:global,console$1=_global.console||{};function warn(V){!console$1||!console$1.warn||console$1.warn(V)}var showWarningNotSupported=function V(){return warn("This vue app/component has no vue-meta configuration")},defaultInfo={title:void 0,titleChunk:"",titleTemplate:"%s",htmlAttrs:{},bodyAttrs:{},headAttrs:{},base:[],link:[],meta:[],style:[],script:[],noscript:[],__dangerouslyDisableSanitizers:[],__dangerouslyDisableSanitizersByTagID:{}},rootConfigKey="_vueMeta",keyName="metaInfo",attribute="data-vue-meta",ssrAttribute="data-vue-meta-server-rendered",tagIDKeyName="vmid",metaTemplateKeyName="template",contentKeyName="content",ssrAppId="ssr",debounceWait=10,waitOnDestroyed=!0,defaultOptions={keyName,attribute,ssrAttribute,tagIDKeyName,contentKeyName,metaTemplateKeyName,waitOnDestroyed,debounceWait,ssrAppId},defaultInfoKeys=Object.keys(defaultInfo),disableOptionKeys=[defaultInfoKeys[12],defaultInfoKeys[13]],metaInfoOptionKeys=[defaultInfoKeys[1],defaultInfoKeys[2],"changed"].concat(disableOptionKeys),metaInfoAttributeKeys=[defaultInfoKeys[3],defaultInfoKeys[4],defaultInfoKeys[5]],tagsSupportingOnload=["link","style","script"],tagsWithoutEndTag=["base","meta","link"],tagsWithInnerContent=["noscript","script","style"],tagAttributeAsInnerContent=["innerHTML","cssText","json"],tagProperties=["once","skip","template"],commonDataAttributes=["body","pbody"],booleanHtmlAttributes=["allowfullscreen","amp","amp-boilerplate","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","truespeed","typemustmatch","visible"],batchId=null;function triggerUpdate(V,E,F){var R=V.debounceWait;!E[rootConfigKey].initialized&&(E[rootConfigKey].initializing||F==="watcher")&&(E[rootConfigKey].initialized=null),E[rootConfigKey].initialized&&!E[rootConfigKey].pausing&&batchUpdate(function(){return void E.$meta().refresh()},R)}function batchUpdate(V,E){if(E=E===void 0?10:E,!E){V();return}return clearTimeout(batchId),batchId=setTimeout(function(){V()},E),batchId}function find(V,E,F){if(!Array.prototype.find){for(var R=0;R<V.length;R++)if(E.call(F,V[R],R,V))return V[R];return}return V.find(E,F)}function findIndex(V,E,F){if(!Array.prototype.findIndex){for(var R=0;R<V.length;R++)if(E.call(F,V[R],R,V))return R;return-1}return V.findIndex(E,F)}function toArray(V){return Array.from?Array.from(V):Array.prototype.slice.call(V)}function includes(V,E){if(!Array.prototype.includes){for(var F in V)if(V[F]===E)return!0;return!1}return V.includes(E)}var querySelector=function V(E,F){return(F||document).querySelectorAll(E)};function getTag(V,E){return V[E]||(V[E]=document.getElementsByTagName(E)[0]),V[E]}function getElementsKey(V){var E=V.body,F=V.pbody;return E?"body":F?"pbody":"head"}function queryElements(V,E,F){var R=E.appId,U=E.attribute,W=E.type,Y=E.tagIDKeyName;F=F||{};var G=["".concat(W,"[").concat(U,'="').concat(R,'"]'),"".concat(W,"[data-").concat(Y,"]")].map(function(X){for(var K in F){var Z=F[K],J=Z&&Z!==!0?'="'.concat(Z,'"'):"";X+="[data-".concat(K).concat(J,"]")}return X});return toArray(querySelector(G.join(", "),V))}function removeElementsByAppId(V,E){var F=V.attribute;toArray(querySelector("[".concat(F,'="').concat(E,'"]'))).map(function(R){return R.remove()})}function removeAttribute(V,E){V.removeAttribute(E)}function hasMetaInfo(V){return V=V||this,V&&(V[rootConfigKey]===!0||isObject(V[rootConfigKey]))}function inMetaInfoBranch(V){return V=V||this,V&&!isUndefined(V[rootConfigKey])}function pause(V,E){return V[rootConfigKey].pausing=!0,function(){return resume(V,E)}}function resume(V,E){if(V[rootConfigKey].pausing=!1,E||E===void 0)return V.$meta().refresh()}function addNavGuards(V){var E=V.$router;V[rootConfigKey].navGuards||!E||(V[rootConfigKey].navGuards=!0,E.beforeEach(function(F,R,U){pause(V),U()}),E.afterEach(function(){V.$nextTick(function(){var F=resume(V),R=F.metaInfo;R&&isFunction(R.afterNavigation)&&R.afterNavigation(R)})}))}var appId=1;function createMixin(V,E){var F=["activated","deactivated","beforeMount"],R=!1;return{beforeCreate:function(){var W=this,Y="$root",G=this[Y],X=this.$options,K=V.config.devtools;if(Object.defineProperty(this,"_hasMetaInfo",{configurable:!0,get:function(){return K&&!G[rootConfigKey].deprecationWarningShown&&(warn("VueMeta DeprecationWarning: _hasMetaInfo has been deprecated and will be removed in a future version. Please use hasMetaInfo(vm) instead"),G[rootConfigKey].deprecationWarningShown=!0),hasMetaInfo(this)}}),this===G&&G.$once("hook:beforeMount",function(){if(R=this.$el&&this.$el.nodeType===1&&this.$el.hasAttribute("data-server-rendered"),!R&&G[rootConfigKey]&&G[rootConfigKey].appId===1){var J=getTag({},"html");R=J&&J.hasAttribute(E.ssrAttribute)}}),!(isUndefined(X[E.keyName])||X[E.keyName]===null)){if(G[rootConfigKey]||(G[rootConfigKey]={appId},appId++,K&&G.$options[E.keyName]&&this.$nextTick(function(){var J=find(G.$children,function(Q){return Q.$vnode&&Q.$vnode.fnOptions});J&&J.$vnode.fnOptions[E.keyName]&&warn("VueMeta has detected a possible global mixin which adds a ".concat(E.keyName," property to all Vue components on the page. This could cause severe performance issues. If possible, use $meta().addApp to add meta information instead"))})),!this[rootConfigKey]){this[rootConfigKey]=!0;for(var Z=this.$parent;Z&&Z!==G;)isUndefined(Z[rootConfigKey])&&(Z[rootConfigKey]=!1),Z=Z.$parent}isFunction(X[E.keyName])&&(X.computed=X.computed||{},X.computed.$metaInfo=X[E.keyName],this.$isServer||this.$on("hook:created",function(){this.$watch("$metaInfo",function(){triggerUpdate(E,this[Y],"watcher")})})),isUndefined(G[rootConfigKey].initialized)&&(G[rootConfigKey].initialized=this.$isServer,G[rootConfigKey].initialized||(G[rootConfigKey].initializedSsr||(G[rootConfigKey].initializedSsr=!0,this.$on("hook:beforeMount",function(){var J=this[Y];R&&(J[rootConfigKey].appId=E.ssrAppId)})),this.$on("hook:mounted",function(){var J=this[Y];J[rootConfigKey].initialized||(J[rootConfigKey].initializing=!0,this.$nextTick(function(){var Q=J.$meta().refresh(),ee=Q.tags,te=Q.metaInfo;ee===!1&&J[rootConfigKey].initialized===null&&this.$nextTick(function(){return triggerUpdate(E,J,"init")}),J[rootConfigKey].initialized=!0,delete J[rootConfigKey].initializing,!E.refreshOnceOnNavigation&&te.afterNavigation&&addNavGuards(J)}))}),E.refreshOnceOnNavigation&&addNavGuards(G))),this.$on("hook:destroyed",function(){var J=this;!this.$parent||!hasMetaInfo(this)||(delete this._hasMetaInfo,this.$nextTick(function(){if(!E.waitOnDestroyed||!J.$el||!J.$el.offsetParent){triggerUpdate(E,J.$root,"destroyed");return}var Q=setInterval(function(){J.$el&&J.$el.offsetParent!==null||(clearInterval(Q),triggerUpdate(E,J.$root,"destroyed"))},50)}))}),!this.$isServer&&F.forEach(function(J){W.$on("hook:".concat(J),function(){triggerUpdate(E,this[Y],J)})})}}}}function setOptions(V){return V=isObject(V)?V:{},{keyName:V.keyName||defaultOptions.keyName,attribute:V.attribute||defaultOptions.attribute,ssrAttribute:V.ssrAttribute||defaultOptions.ssrAttribute,tagIDKeyName:V.tagIDKeyName||defaultOptions.tagIDKeyName,contentKeyName:V.contentKeyName||defaultOptions.contentKeyName,metaTemplateKeyName:V.metaTemplateKeyName||defaultOptions.metaTemplateKeyName,debounceWait:isUndefined(V.debounceWait)?defaultOptions.debounceWait:V.debounceWait,waitOnDestroyed:isUndefined(V.waitOnDestroyed)?defaultOptions.waitOnDestroyed:V.waitOnDestroyed,ssrAppId:V.ssrAppId||defaultOptions.ssrAppId,refreshOnceOnNavigation:!!V.refreshOnceOnNavigation}}function getOptions(V){var E={};for(var F in V)E[F]=V[F];return E}function ensureIsArray(V,E){return!E||!isObject(V)?isArray(V)?V:[]:(isArray(V[E])||(V[E]=[]),V)}var serverSequences=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&#x27;"]],clientSequences=[[/&/g,"&"],[/</g,"<"],[/>/g,">"],[/"/g,'"'],[/'/g,"'"]];function escape(V,E,F,R){var U=E.tagIDKeyName,W=F.doEscape,Y=W===void 0?function(ee){return ee}:W,G={};for(var X in V){var K=V[X];if(includes(metaInfoOptionKeys,X)){G[X]=K;continue}var Z=disableOptionKeys[0];if(F[Z]&&includes(F[Z],X)){G[X]=K;continue}var J=V[U];if(J&&(Z=disableOptionKeys[1],F[Z]&&F[Z][J]&&includes(F[Z][J],X))){G[X]=K;continue}if(isString(K)?G[X]=Y(K):isArray(K)?G[X]=K.map(function(ee){return isPureObject(ee)?escape(ee,E,F,!0):Y(ee)}):isPureObject(K)?G[X]=escape(K,E,F,!0):G[X]=K,R){var Q=Y(X);X!==Q&&(G[Q]=G[X],delete G[X])}}return G}function escapeMetaInfo(V,E,F){F=F||[];var R={doEscape:function(W){return F.reduce(function(Y,G){return Y.replace(G[0],G[1])},W)}};return disableOptionKeys.forEach(function(U,W){if(W===0)ensureIsArray(E,U);else if(W===1)for(var Y in E[U])ensureIsArray(E[U],Y);R[U]=E[U]}),escape(E,V,R)}function applyTemplate(V,E,F,R){var U=V.component,W=V.metaTemplateKeyName,Y=V.contentKeyName;return F===!0||E[W]===!0?!1:(isUndefined(F)&&E[W]&&(F=E[W],E[W]=!0),F?(isUndefined(R)&&(R=E[Y]),E[Y]=isFunction(F)?F.call(U,R):F.replace(/%s/g,R),!0):(delete E[W],!1))}function _arrayMerge(V,E,F){var R=V.component,U=V.tagIDKeyName,W=V.metaTemplateKeyName,Y=V.contentKeyName,G=[];return!E.length&&!F.length?G:(E.forEach(function(X,K){if(!X[U]){G.push(X);return}var Z=findIndex(F,function(te){return te[U]===X[U]}),J=F[Z];if(Z===-1){G.push(X);return}if(Y in J&&J[Y]===void 0||"innerHTML"in J&&J.innerHTML===void 0){G.push(X),F.splice(Z,1);return}if(J[Y]===null||J.innerHTML===null){F.splice(Z,1);return}var Q=X[W];if(!!Q){var ee=J[W];if(!ee){applyTemplate({component:R,metaTemplateKeyName:W,contentKeyName:Y},J,Q),J.template=!0;return}J[Y]||applyTemplate({component:R,metaTemplateKeyName:W,contentKeyName:Y},J,void 0,X[Y])}}),G.concat(F))}var warningShown=!1;function merge(V,E,F){return F=F||{},E.title===void 0&&delete E.title,metaInfoAttributeKeys.forEach(function(R){if(!!E[R])for(var U in E[R])U in E[R]&&E[R][U]===void 0&&(includes(booleanHtmlAttributes,U)&&!warningShown&&(warn("VueMeta: Please note that since v2 the value undefined is not used to indicate boolean attributes anymore, see migration guide for details"),warningShown=!0),delete E[R][U])}),cjs(V,E,{arrayMerge:function(U,W){return _arrayMerge(F,U,W)}})}function getComponentMetaInfo(V,E){return getComponentOption(V||{},E,defaultInfo)}function getComponentOption(V,E,F){if(F=F||{},E._inactive)return F;V=V||{};var R=V,U=R.keyName,W=E.$metaInfo,Y=E.$options,G=E.$children;if(Y[U]){var X=W||Y[U];isObject(X)&&(F=merge(F,X,V))}return G.length&&G.forEach(function(K){!inMetaInfoBranch(K)||(F=getComponentOption(V,K,F))}),F}var callbacks=[];function isDOMComplete(V){return(V||document).readyState==="complete"}function addCallback(V,E){arguments.length===1&&(E=V,V=""),callbacks.push([V,E])}function addCallbacks(V,E,F,R){var U=V.tagIDKeyName,W=!1;return F.forEach(function(Y){!Y[U]||!Y.callback||(W=!0,addCallback("".concat(E,"[data-").concat(U,'="').concat(Y[U],'"]'),Y.callback))}),!R||!W?W:addListeners()}function addListeners(){if(isDOMComplete()){applyCallbacks();return}document.onreadystatechange=function(){applyCallbacks()}}function applyCallbacks(V){callbacks.forEach(function(E){var F=E[0],R=E[1],U="".concat(F,'[onload="this.__vm_l=1"]'),W=[];V||(W=toArray(querySelector(U))),V&&V.matches(U)&&(W=[V]),W.forEach(function(Y){if(!Y.__vm_cb){var G=function(){Y.__vm_cb=!0,removeAttribute(Y,"onload"),R(Y)};if(Y.__vm_l){G();return}Y.__vm_ev||(Y.__vm_ev=!0,Y.addEventListener("load",G))}})})}var attributeMap={};function updateAttribute(V,E,F,R,U){var W=E||{},Y=W.attribute,G=U.getAttribute(Y);G&&(attributeMap[F]=JSON.parse(decodeURI(G)),removeAttribute(U,Y));var X=attributeMap[F]||{},K=[];for(var Z in X)X[Z]!==void 0&&V in X[Z]&&(K.push(Z),R[Z]||delete X[Z][V]);for(var J in R){var Q=X[J];(!Q||Q[V]!==R[J])&&(K.push(J),R[J]!==void 0&&(X[J]=X[J]||{},X[J][V]=R[J]))}for(var ee=0,te=K;ee<te.length;ee++){var ie=te[ee],re=X[ie],ne=[];for(var ae in re)Array.prototype.push.apply(ne,[].concat(re[ae]));if(ne.length){var se=includes(booleanHtmlAttributes,ie)&&ne.some(Boolean)?"":ne.filter(function(le){return le!==void 0}).join(" ");U.setAttribute(ie,se)}else removeAttribute(U,ie)}attributeMap[F]=X}function updateTitle(V){!V&&V!==""||(document.title=V)}function updateTag(V,E,F,R,U,W){var Y=E||{},G=Y.attribute,X=Y.tagIDKeyName,K=commonDataAttributes.slice();K.push(X);var Z=[],J={appId:V,attribute:G,type:F,tagIDKeyName:X},Q={head:queryElements(U,J),pbody:queryElements(W,J,{pbody:!0}),body:queryElements(W,J,{body:!0})};if(R.length>1){var ee=[];R=R.filter(function(re){var ne=JSON.stringify(re),ae=!includes(ee,ne);return ee.push(ne),ae})}R.forEach(function(re){if(!re.skip){var ne=document.createElement(F);re.once||ne.setAttribute(G,V),Object.keys(re).forEach(function(oe){if(!includes(tagProperties,oe)){if(oe==="innerHTML"){ne.innerHTML=re.innerHTML;return}if(oe==="json"){ne.innerHTML=JSON.stringify(re.json);return}if(oe==="cssText"){ne.styleSheet?ne.styleSheet.cssText=re.cssText:ne.appendChild(document.createTextNode(re.cssText));return}if(oe==="callback"){ne.onload=function(){return re[oe](ne)};return}var ue=includes(K,oe)?"data-".concat(oe):oe,ce=includes(booleanHtmlAttributes,oe);if(!(ce&&!re[oe])){var he=ce?"":re[oe];ne.setAttribute(ue,he)}}});var ae=Q[getElementsKey(re)],se,le=ae.some(function(oe,ue){return se=ue,ne.isEqualNode(oe)});le&&(se||se===0)?ae.splice(se,1):Z.push(ne)}});var te=[];for(var ie in Q)Array.prototype.push.apply(te,Q[ie]);return te.forEach(function(re){re.parentNode.removeChild(re)}),Z.forEach(function(re){if(re.hasAttribute("data-body")){W.appendChild(re);return}if(re.hasAttribute("data-pbody")){W.insertBefore(re,W.firstChild);return}U.appendChild(re)}),{oldTags:te,newTags:Z}}function updateClientMetaInfo(V,E,F){E=E||{};var R=E,U=R.ssrAttribute,W=R.ssrAppId,Y={},G=getTag(Y,"html");if(V===W&&G.hasAttribute(U)){removeAttribute(G,U);var X=!1;return tagsSupportingOnload.forEach(function(re){F[re]&&addCallbacks(E,re,F[re])&&(X=!0)}),X&&addListeners(),!1}var K={},Z={};for(var J in F)if(!includes(metaInfoOptionKeys,J)){if(J==="title"){updateTitle(F.title);continue}if(includes(metaInfoAttributeKeys,J)){var Q=J.substr(0,4);updateAttribute(V,E,J,F[J],getTag(Y,Q));continue}if(!!isArray(F[J])){var ee=updateTag(V,E,J,F[J],getTag(Y,"head"),getTag(Y,"body")),te=ee.oldTags,ie=ee.newTags;ie.length&&(K[J]=ie,Z[J]=te)}}return{tagsAdded:K,tagsRemoved:Z}}var appsMetaInfo;function addApp(V,E,F){return{set:function(U){return setMetaInfo(V,E,F,U)},remove:function(){return removeMetaInfo(V,E,F)}}}function setMetaInfo(V,E,F,R){if(V&&V.$el)return updateClientMetaInfo(E,F,R);appsMetaInfo=appsMetaInfo||{},appsMetaInfo[E]=R}function removeMetaInfo(V,E,F){if(V&&V.$el){var R={},U=_createForOfIteratorHelper(metaInfoAttributeKeys),W;try{for(U.s();!(W=U.n()).done;){var Y=W.value,G=Y.substr(0,4);updateAttribute(E,F,Y,{},getTag(R,G))}}catch(X){U.e(X)}finally{U.f()}return removeElementsByAppId(F,E)}appsMetaInfo[E]&&(delete appsMetaInfo[E],clearAppsMetaInfo())}function getAppsMetaInfo(){return appsMetaInfo}function clearAppsMetaInfo(V){(V||!Object.keys(appsMetaInfo).length)&&(appsMetaInfo=void 0)}function getMetaInfo(V,E,F,R){V=V||{},F=F||[];var U=V,W=U.tagIDKeyName;return E.title&&(E.titleChunk=E.title),E.titleTemplate&&E.titleTemplate!=="%s"&&applyTemplate({component:R,contentKeyName:"title"},E,E.titleTemplate,E.titleChunk||""),E.base&&(E.base=Object.keys(E.base).length?[E.base]:[]),E.meta&&(E.meta=E.meta.filter(function(Y,G,X){var K=!!Y[W];if(!K)return!0;var Z=G===findIndex(X,function(J){return J[W]===Y[W]});return Z}),E.meta.forEach(function(Y){return applyTemplate(V,Y)})),escapeMetaInfo(V,E,F)}function refresh(V,E){if(E=E||{},!V[rootConfigKey])return showWarningNotSupported(),{};var F=getComponentMetaInfo(E,V),R=getMetaInfo(E,F,clientSequences,V),U=V[rootConfigKey].appId,W=updateClientMetaInfo(U,E,R);W&&isFunction(R.changed)&&(R.changed(R,W.tagsAdded,W.tagsRemoved),W={addedTags:W.tagsAdded,removedTags:W.tagsRemoved});var Y=getAppsMetaInfo();if(Y){for(var G in Y)updateClientMetaInfo(G,E,Y[G]),delete Y[G];clearAppsMetaInfo(!0)}return{vm:V,metaInfo:R,tags:W}}function attributeGenerator(V,E,F,R){var U=R.addSsrAttribute,W=V||{},Y=W.attribute,G=W.ssrAttribute,X="";for(var K in F){var Z=F[K],J=[];for(var Q in Z)J.push.apply(J,_toConsumableArray([].concat(Z[Q])));J.length&&(X+=booleanHtmlAttributes.includes(K)&&J.some(Boolean)?"".concat(K):"".concat(K,'="').concat(J.join(" "),'"'),X+=" ")}return X&&(X+="".concat(Y,'="').concat(encodeURI(JSON.stringify(F)),'"')),E==="htmlAttrs"&&U?"".concat(G).concat(X?" ":"").concat(X):X}function titleGenerator(V,E,F,R){var U=R||{},W=U.ln;return F?"<".concat(E,">").concat(F,"</").concat(E,">").concat(W?`
`:""):""}function tagGenerator(V,E,F,R){var U=V||{},W=U.ssrAppId,Y=U.attribute,G=U.tagIDKeyName,X=R||{},K=X.appId,Z=X.isSSR,J=Z===void 0?!0:Z,Q=X.body,ee=Q===void 0?!1:Q,te=X.pbody,ie=te===void 0?!1:te,re=X.ln,ne=re===void 0?!1:re,ae=[G].concat(_toConsumableArray(commonDataAttributes));return!F||!F.length?"":F.reduce(function(se,le){if(le.skip)return se;var oe=Object.keys(le);if(oe.length===0||Boolean(le.body)!==ee||Boolean(le.pbody)!==ie)return se;var ue=le.once?"":" ".concat(Y,'="').concat(K||(J===!1?"1":W),'"');for(var ce in le)if(!(tagAttributeAsInnerContent.includes(ce)||tagProperties.includes(ce))){if(ce==="callback"){ue+=' onload="this.__vm_l=1"';continue}var he="";ae.includes(ce)&&(he="data-");var me=!he&&booleanHtmlAttributes.includes(ce);me&&!le[ce]||(ue+=" ".concat(he).concat(ce)+(me?"":'="'.concat(le[ce],'"')))}var Pe="";le.json&&(Pe=JSON.stringify(le.json));var we=le.innerHTML||le.cssText||Pe,fe=!tagsWithoutEndTag.includes(E),ye=fe&&tagsWithInnerContent.includes(E);return"".concat(se,"<").concat(E).concat(ue).concat(!ye&&fe?"/":"",">")+(ye?"".concat(we,"</").concat(E,">"):"")+(ne?`
`:"")},"")}function generateServerInjector(V,E,F){var R={data:E,extraData:void 0,addInfo:function(X,K){this.extraData=this.extraData||{},this.extraData[X]=K},callInjectors:function(X){var K=this.injectors;return(X.body||X.pbody?"":K.title.text(X))+K.meta.text(X)+K.base.text(X)+K.link.text(X)+K.style.text(X)+K.script.text(X)+K.noscript.text(X)},injectors:{head:function(X){return R.callInjectors(_objectSpread2(_objectSpread2({},F),{},{ln:X}))},bodyPrepend:function(X){return R.callInjectors(_objectSpread2(_objectSpread2({},F),{},{ln:X,pbody:!0}))},bodyAppend:function(X){return R.callInjectors(_objectSpread2(_objectSpread2({},F),{},{ln:X,body:!0}))}}},U=function(X){if(metaInfoOptionKeys.includes(X))return"continue";R.injectors[X]={text:function(Z){var J=Z===!0;if(Z=_objectSpread2(_objectSpread2({addSsrAttribute:J},F),Z),X==="title")return titleGenerator(V,X,R.data[X],Z);if(metaInfoAttributeKeys.includes(X)){var Q={},ee=R.data[X];if(ee){var te=Z.isSSR===!1?"1":V.ssrAppId;for(var ie in ee)Q[ie]=_defineProperty({},te,ee[ie])}if(R.extraData)for(var re in R.extraData){var ne=R.extraData[re][X];if(ne)for(var ae in ne)Q[ae]=_objectSpread2(_objectSpread2({},Q[ae]),{},_defineProperty({},re,ne[ae]))}return attributeGenerator(V,X,Q,Z)}var se=tagGenerator(V,X,R.data[X],Z);if(R.extraData)for(var le in R.extraData){var oe=R.extraData[le][X],ue=tagGenerator(V,X,oe,_objectSpread2({appId:le},Z));se="".concat(se).concat(ue)}return se}}};for(var W in defaultInfo)var Y=U(W);return R}function inject(V,E,F){if(!V[rootConfigKey])return showWarningNotSupported(),{};var R=getComponentMetaInfo(E,V),U=getMetaInfo(E,R,serverSequences,V),W=generateServerInjector(E,U,F),Y=getAppsMetaInfo();if(Y){for(var G in Y)W.addInfo(G,Y[G]),delete Y[G];clearAppsMetaInfo(!0)}return W.injectors}function $meta(V){V=V||{};var E=this.$root;return{getOptions:function(){return getOptions(V)},setOptions:function(R){var U="refreshOnceOnNavigation";R&&R[U]&&(V.refreshOnceOnNavigation=!!R[U],addNavGuards(E));var W="debounceWait";if(R&&W in R){var Y=parseInt(R[W]);isNaN(Y)||(V.debounceWait=Y)}var G="waitOnDestroyed";R&&G in R&&(V.waitOnDestroyed=!!R[G])},refresh:function(){return refresh(E,V)},inject:function(R){return inject(E,V,R)},pause:function(){return pause(E)},resume:function(){return resume(E)},addApp:function(R){return addApp(E,R,V)}}}function generate(V,E){E=setOptions(E);var F=getMetaInfo(E,V,serverSequences),R=generateServerInjector(E,F);return R.injectors}function install(V,E){V.__vuemeta_installed||(V.__vuemeta_installed=!0,E=setOptions(E),V.prototype.$meta=function(){return $meta.call(this,E)},V.mixin(createMixin(V,E)))}var index={version,install,generate:function V(E,F){return generate(E,F)},hasMetaInfo};const styles="";Vue$2.config.productionTip=!1;Vue$2.prototype.$isSpaMobileMode=!0;Vue$2.use(permissions$1);Vue$2.use(Numeral);Vue$2.use(Errors$1);Vue$2.use(Vuelidate);Vue$2.use(Helpers);Vue$2.use(Sticky);Vue$2.use(darkModeObserver);Vue$2.use(install$1);Vue$2.use(IsOnline);Vue$2.use(index);new Vue$2({router:router$1,store,i18n,render:V=>V(App)}).$mount("#app")});export default Gt();
