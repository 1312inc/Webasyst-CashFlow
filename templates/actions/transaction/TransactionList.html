{** @var cashTransactionDto $t **}
{** @var cashTransactionPageFilterDto $filter **}
{if $upcoming}
<tr class="white">
    <td colspan="6">
        <h5 class="heading">[`Upcoming`]</h5>
    </td>
</tr>
{/if}
{foreach $upcoming as $t}
    <tr class="c-planned" data-cash-transaction-id="{$t->id}">
        <td><span class="nowrap">{$t->date|wa_datetime:humandate:$serverTimezone}</span></td>
        <td><div>{$t->account->name|escape}</div><i class="shortener"></i></td>
        <td>
            <div>
                {if $t->category}<i class="icon16 color" style="background: {$t->category->color};"></i>{$t->category->name|escape}{/if}
            </div><i class="shortener"></i>
        </td>
        <td>{$t->description|escape}</td>
        <td class="align-right"><strong class="nowrap">{$t->amountShorten} {$t->currency->getSign()}</strong></td>
        <td><span class="nowrap">{if $filter->type == cashTransactionPageFilterDto::FILTER_ACCOUNT && $filter->id}{$t->balanceShorten} {$t->currency->getSign()}{/if}</span></td>
    </tr>
{/foreach}
{if $completed}
<tr class="white">
    <td colspan="6">
        <h5 class="heading">[`Completed`]</h5>
    </td>
</tr>
{/if}
{foreach $completed as $t}
    <tr data-cash-transaction-id="{$t->id}">
        <td><span class="nowrap">{$t->date|wa_datetime:humandate:$serverTimezone}</span></td>
        <td><div>{$t->account->name|escape}</div><i class="shortener"></i></td>
        <td>
            <div>
                {if $t->category}<i class="icon16 color" style="background: {$t->category->color};"></i>{$t->category->name|escape}{/if}
            </div><i class="shortener"></i>
        </td>
        <td>{$t->description|escape}</td>
        <td class="align-right"><strong class="nowrap">{$t->amountShorten} {$t->currency->getSign()}</strong></td>
        <td><span class="nowrap">{if $filter->type == cashTransactionPageFilterDto::FILTER_ACCOUNT && $filter->id}{$t->balanceShorten} {$t->currency->getSign()}{/if}</span></td>
    </tr>
{/foreach}
